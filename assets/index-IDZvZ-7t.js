var ST=Object.defineProperty;var jT=(r,e,t)=>e in r?ST(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ii=(r,e,t)=>jT(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();var Js=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fo(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Z5(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}),t}var S7={exports:{}},Lx={},j7={exports:{}},Qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap=Symbol.for("react.element"),_T=Symbol.for("react.portal"),NT=Symbol.for("react.fragment"),ET=Symbol.for("react.strict_mode"),AT=Symbol.for("react.profiler"),PT=Symbol.for("react.provider"),LT=Symbol.for("react.context"),DT=Symbol.for("react.forward_ref"),TT=Symbol.for("react.suspense"),RT=Symbol.for("react.memo"),MT=Symbol.for("react.lazy"),bk=Symbol.iterator;function IT(r){return r===null||typeof r!="object"?null:(r=bk&&r[bk]||r["@@iterator"],typeof r=="function"?r:null)}var _7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N7=Object.assign,E7={};function ah(r,e,t){this.props=r,this.context=e,this.refs=E7,this.updater=t||_7}ah.prototype.isReactComponent={};ah.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};ah.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function A7(){}A7.prototype=ah.prototype;function J5(r,e,t){this.props=r,this.context=e,this.refs=E7,this.updater=t||_7}var K5=J5.prototype=new A7;K5.constructor=J5;N7(K5,ah.prototype);K5.isPureReactComponent=!0;var yk=Array.isArray,P7=Object.prototype.hasOwnProperty,Q5={current:null},L7={key:!0,ref:!0,__self:!0,__source:!0};function D7(r,e,t){var n,a={},s=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)P7.call(e,n)&&!L7.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=t;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(r&&r.defaultProps)for(n in l=r.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Ap,type:r,key:s,ref:i,props:a,_owner:Q5.current}}function OT(r,e){return{$$typeof:Ap,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function ew(r){return typeof r=="object"&&r!==null&&r.$$typeof===Ap}function FT(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var wk=/\/+/g;function gv(r,e){return typeof r=="object"&&r!==null&&r.key!=null?FT(""+r.key):e.toString(36)}function Pm(r,e,t,n,a){var s=typeof r;(s==="undefined"||s==="boolean")&&(r=null);var i=!1;if(r===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(r.$$typeof){case Ap:case _T:i=!0}}if(i)return i=r,a=a(i),r=n===""?"."+gv(i,0):n,yk(a)?(t="",r!=null&&(t=r.replace(wk,"$&/")+"/"),Pm(a,e,t,"",function(d){return d})):a!=null&&(ew(a)&&(a=OT(a,t+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(wk,"$&/")+"/")+r)),e.push(a)),1;if(i=0,n=n===""?".":n+":",yk(r))for(var l=0;l<r.length;l++){s=r[l];var c=n+gv(s,l);i+=Pm(s,e,t,c,a)}else if(c=IT(r),typeof c=="function")for(r=c.call(r),l=0;!(s=r.next()).done;)s=s.value,c=n+gv(s,l++),i+=Pm(s,e,t,c,a);else if(s==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Hg(r,e,t){if(r==null)return r;var n=[],a=0;return Pm(r,n,"","",function(s){return e.call(t,s,a++)}),n}function BT(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var Ia={current:null},Lm={transition:null},zT={ReactCurrentDispatcher:Ia,ReactCurrentBatchConfig:Lm,ReactCurrentOwner:Q5};function T7(){throw Error("act(...) is not supported in production builds of React.")}Qt.Children={map:Hg,forEach:function(r,e,t){Hg(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return Hg(r,function(){e++}),e},toArray:function(r){return Hg(r,function(e){return e})||[]},only:function(r){if(!ew(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Qt.Component=ah;Qt.Fragment=NT;Qt.Profiler=AT;Qt.PureComponent=J5;Qt.StrictMode=ET;Qt.Suspense=TT;Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zT;Qt.act=T7;Qt.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=N7({},r.props),a=r.key,s=r.ref,i=r._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=Q5.current),e.key!==void 0&&(a=""+e.key),r.type&&r.type.defaultProps)var l=r.type.defaultProps;for(c in e)P7.call(e,c)&&!L7.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=t;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Ap,type:r.type,key:a,ref:s,props:n,_owner:i}};Qt.createContext=function(r){return r={$$typeof:LT,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:PT,_context:r},r.Consumer=r};Qt.createElement=D7;Qt.createFactory=function(r){var e=D7.bind(null,r);return e.type=r,e};Qt.createRef=function(){return{current:null}};Qt.forwardRef=function(r){return{$$typeof:DT,render:r}};Qt.isValidElement=ew;Qt.lazy=function(r){return{$$typeof:MT,_payload:{_status:-1,_result:r},_init:BT}};Qt.memo=function(r,e){return{$$typeof:RT,type:r,compare:e===void 0?null:e}};Qt.startTransition=function(r){var e=Lm.transition;Lm.transition={};try{r()}finally{Lm.transition=e}};Qt.unstable_act=T7;Qt.useCallback=function(r,e){return Ia.current.useCallback(r,e)};Qt.useContext=function(r){return Ia.current.useContext(r)};Qt.useDebugValue=function(){};Qt.useDeferredValue=function(r){return Ia.current.useDeferredValue(r)};Qt.useEffect=function(r,e){return Ia.current.useEffect(r,e)};Qt.useId=function(){return Ia.current.useId()};Qt.useImperativeHandle=function(r,e,t){return Ia.current.useImperativeHandle(r,e,t)};Qt.useInsertionEffect=function(r,e){return Ia.current.useInsertionEffect(r,e)};Qt.useLayoutEffect=function(r,e){return Ia.current.useLayoutEffect(r,e)};Qt.useMemo=function(r,e){return Ia.current.useMemo(r,e)};Qt.useReducer=function(r,e,t){return Ia.current.useReducer(r,e,t)};Qt.useRef=function(r){return Ia.current.useRef(r)};Qt.useState=function(r){return Ia.current.useState(r)};Qt.useSyncExternalStore=function(r,e,t){return Ia.current.useSyncExternalStore(r,e,t)};Qt.useTransition=function(){return Ia.current.useTransition()};Qt.version="18.3.1";j7.exports=Qt;var w=j7.exports;const ft=Fo(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT=w,UT=Symbol.for("react.element"),VT=Symbol.for("react.fragment"),$T=Object.prototype.hasOwnProperty,WT=HT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qT={key:!0,ref:!0,__self:!0,__source:!0};function R7(r,e,t){var n,a={},s=null,i=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)$T.call(e,n)&&!qT.hasOwnProperty(n)&&(a[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:UT,type:r,key:s,ref:i,props:a,_owner:WT.current}}Lx.Fragment=VT;Lx.jsx=R7;Lx.jsxs=R7;S7.exports=Lx;var o=S7.exports,M7={exports:{}},Cs={},I7={exports:{}},O7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(W,Y){var G=W.length;W.push(Y);e:for(;0<G;){var q=G-1>>>1,M=W[q];if(0<a(M,Y))W[q]=Y,W[G]=M,G=q;else break e}}function t(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var Y=W[0],G=W.pop();if(G!==Y){W[0]=G;e:for(var q=0,M=W.length,U=M>>>1;q<U;){var $=2*(q+1)-1,X=W[$],Q=$+1,se=W[Q];if(0>a(X,G))Q<M&&0>a(se,X)?(W[q]=se,W[Q]=G,q=Q):(W[q]=X,W[$]=G,q=$);else if(Q<M&&0>a(se,G))W[q]=se,W[Q]=G,q=Q;else break e}}return Y}function a(W,Y){var G=W.sortIndex-Y.sortIndex;return G!==0?G:W.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();r.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,h=null,f=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(W){for(var Y=t(d);Y!==null;){if(Y.callback===null)n(d);else if(Y.startTime<=W)n(d),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=t(d)}}function C(W){if(g=!1,y(W),!m)if(t(c)!==null)m=!0,z(S);else{var Y=t(d);Y!==null&&V(C,Y.startTime-W)}}function S(W,Y){m=!1,g&&(g=!1,x(A),A=-1),p=!0;var G=f;try{for(y(Y),h=t(c);h!==null&&(!(h.expirationTime>Y)||W&&!L());){var q=h.callback;if(typeof q=="function"){h.callback=null,f=h.priorityLevel;var M=q(h.expirationTime<=Y);Y=r.unstable_now(),typeof M=="function"?h.callback=M:h===t(c)&&n(c),y(Y)}else n(c);h=t(c)}if(h!==null)var U=!0;else{var $=t(d);$!==null&&V(C,$.startTime-Y),U=!1}return U}finally{h=null,f=G,p=!1}}var _=!1,E=null,A=-1,T=5,F=-1;function L(){return!(r.unstable_now()-F<T)}function D(){if(E!==null){var W=r.unstable_now();F=W;var Y=!0;try{Y=E(!0,W)}finally{Y?O():(_=!1,E=null)}}else _=!1}var O;if(typeof b=="function")O=function(){b(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,B=I.port2;I.port1.onmessage=D,O=function(){B.postMessage(null)}}else O=function(){v(D,0)};function z(W){E=W,_||(_=!0,O())}function V(W,Y){A=v(function(){W(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_continueExecution=function(){m||p||(m=!0,z(S))},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(W){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var G=f;f=Y;try{return W()}finally{f=G}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(W,Y){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var G=f;f=W;try{return Y()}finally{f=G}},r.unstable_scheduleCallback=function(W,Y,G){var q=r.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?q+G:q):G=q,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=G+M,W={id:u++,callback:Y,priorityLevel:W,startTime:G,expirationTime:M,sortIndex:-1},G>q?(W.sortIndex=G,e(d,W),t(c)===null&&W===t(d)&&(g?(x(A),A=-1):g=!0,V(C,G-q))):(W.sortIndex=M,e(c,W),m||p||(m=!0,z(S))),W},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(W){var Y=f;return function(){var G=f;f=Y;try{return W.apply(this,arguments)}finally{f=G}}}})(O7);I7.exports=O7;var YT=I7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT=w,ks=YT;function ot(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F7=new Set,Gf={};function sd(r,e){Fu(r,e),Fu(r+"Capture",e)}function Fu(r,e){for(Gf[r]=e,r=0;r<e.length;r++)F7.add(e[r])}var Po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fy=Object.prototype.hasOwnProperty,XT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kk={},Ck={};function ZT(r){return fy.call(Ck,r)?!0:fy.call(kk,r)?!1:XT.test(r)?Ck[r]=!0:(kk[r]=!0,!1)}function JT(r,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function KT(r,e,t,n){if(e===null||typeof e>"u"||JT(r,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oa(r,e,t,n,a,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var oa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){oa[r]=new Oa(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];oa[e]=new Oa(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){oa[r]=new Oa(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){oa[r]=new Oa(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){oa[r]=new Oa(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){oa[r]=new Oa(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){oa[r]=new Oa(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){oa[r]=new Oa(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){oa[r]=new Oa(r,5,!1,r.toLowerCase(),null,!1,!1)});var tw=/[\-:]([a-z])/g;function rw(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(tw,rw);oa[e]=new Oa(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(tw,rw);oa[e]=new Oa(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(tw,rw);oa[e]=new Oa(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){oa[r]=new Oa(r,1,!1,r.toLowerCase(),null,!1,!1)});oa.xlinkHref=new Oa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){oa[r]=new Oa(r,1,!1,r.toLowerCase(),null,!0,!0)});function nw(r,e,t,n){var a=oa.hasOwnProperty(e)?oa[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KT(e,t,a,n)&&(t=null),n||a===null?ZT(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):a.mustUseProperty?r[a.propertyName]=t===null?a.type===3?!1:"":t:(e=a.attributeName,n=a.attributeNamespace,t===null?r.removeAttribute(e):(a=a.type,t=a===3||a===4&&t===!0?"":""+t,n?r.setAttributeNS(n,e,t):r.setAttribute(e,t))))}var Bo=GT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ug=Symbol.for("react.element"),eu=Symbol.for("react.portal"),tu=Symbol.for("react.fragment"),aw=Symbol.for("react.strict_mode"),py=Symbol.for("react.profiler"),B7=Symbol.for("react.provider"),z7=Symbol.for("react.context"),sw=Symbol.for("react.forward_ref"),gy=Symbol.for("react.suspense"),my=Symbol.for("react.suspense_list"),iw=Symbol.for("react.memo"),hl=Symbol.for("react.lazy"),H7=Symbol.for("react.offscreen"),Sk=Symbol.iterator;function ef(r){return r===null||typeof r!="object"?null:(r=Sk&&r[Sk]||r["@@iterator"],typeof r=="function"?r:null)}var sn=Object.assign,mv;function bf(r){if(mv===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);mv=e&&e[1]||""}return`
`+mv+r}var xv=!1;function vv(r,e){if(!r||xv)return"";xv=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(r,[],e)}else{try{e.call()}catch(d){n=d}r.call(e.prototype)}else{try{throw Error()}catch(d){n=d}r()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return r.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",r.displayName)),c}while(1<=i&&0<=l);break}}}finally{xv=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?bf(r):""}function QT(r){switch(r.tag){case 5:return bf(r.type);case 16:return bf("Lazy");case 13:return bf("Suspense");case 19:return bf("SuspenseList");case 0:case 2:case 15:return r=vv(r.type,!1),r;case 11:return r=vv(r.type.render,!1),r;case 1:return r=vv(r.type,!0),r;default:return""}}function xy(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case tu:return"Fragment";case eu:return"Portal";case py:return"Profiler";case aw:return"StrictMode";case gy:return"Suspense";case my:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case z7:return(r.displayName||"Context")+".Consumer";case B7:return(r._context.displayName||"Context")+".Provider";case sw:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case iw:return e=r.displayName||null,e!==null?e:xy(r.type)||"Memo";case hl:e=r._payload,r=r._init;try{return xy(r(e))}catch{}}return null}function eR(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xy(e);case 8:return e===aw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bl(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function U7(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tR(r){var e=U7(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),n=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var a=t.get,s=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function Vg(r){r._valueTracker||(r._valueTracker=tR(r))}function V7(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return r&&(n=U7(r)?r.checked?"true":"false":r.value),r=n,r!==t?(e.setValue(r),!0):!1}function x0(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function vy(r,e){var t=e.checked;return sn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function jk(r,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=Bl(e.value!=null?e.value:t),r._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $7(r,e){e=e.checked,e!=null&&nw(r,"checked",e,!1)}function by(r,e){$7(r,e);var t=Bl(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?yy(r,e.type,t):e.hasOwnProperty("defaultValue")&&yy(r,e.type,Bl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function _k(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function yy(r,e,t){(e!=="number"||x0(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}var yf=Array.isArray;function mu(r,e,t,n){if(r=r.options,e){e={};for(var a=0;a<t.length;a++)e["$"+t[a]]=!0;for(t=0;t<r.length;t++)a=e.hasOwnProperty("$"+r[t].value),r[t].selected!==a&&(r[t].selected=a),a&&n&&(r[t].defaultSelected=!0)}else{for(t=""+Bl(t),e=null,a=0;a<r.length;a++){if(r[a].value===t){r[a].selected=!0,n&&(r[a].defaultSelected=!0);return}e!==null||r[a].disabled||(e=r[a])}e!==null&&(e.selected=!0)}}function wy(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ot(91));return sn({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Nk(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(ot(92));if(yf(t)){if(1<t.length)throw Error(ot(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:Bl(t)}}function W7(r,e){var t=Bl(e.value),n=Bl(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),n!=null&&(r.defaultValue=""+n)}function Ek(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function q7(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ky(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?q7(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var $g,Y7=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction(function(){return r(e,t,n,a)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for($g=$g||document.createElement("div"),$g.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$g.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function Xf(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var Ef={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rR=["Webkit","ms","Moz","O"];Object.keys(Ef).forEach(function(r){rR.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),Ef[e]=Ef[r]})});function G7(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Ef.hasOwnProperty(r)&&Ef[r]?(""+e).trim():e+"px"}function X7(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,a=G7(t,e[t],n);t==="float"&&(t="cssFloat"),n?r.setProperty(t,a):r[t]=a}}var nR=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cy(r,e){if(e){if(nR[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ot(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ot(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ot(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ot(62))}}function Sy(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jy=null;function ow(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _y=null,xu=null,vu=null;function Ak(r){if(r=Dp(r)){if(typeof _y!="function")throw Error(ot(280));var e=r.stateNode;e&&(e=Ix(e),_y(r.stateNode,r.type,e))}}function Z7(r){xu?vu?vu.push(r):vu=[r]:xu=r}function J7(){if(xu){var r=xu,e=vu;if(vu=xu=null,Ak(r),e)for(r=0;r<e.length;r++)Ak(e[r])}}function K7(r,e){return r(e)}function Q7(){}var bv=!1;function e9(r,e,t){if(bv)return r(e,t);bv=!0;try{return K7(r,e,t)}finally{bv=!1,(xu!==null||vu!==null)&&(Q7(),J7())}}function Zf(r,e){var t=r.stateNode;if(t===null)return null;var n=Ix(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(ot(231,e,typeof t));return t}var Ny=!1;if(Po)try{var tf={};Object.defineProperty(tf,"passive",{get:function(){Ny=!0}}),window.addEventListener("test",tf,tf),window.removeEventListener("test",tf,tf)}catch{Ny=!1}function aR(r,e,t,n,a,s,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(t,d)}catch(u){this.onError(u)}}var Af=!1,v0=null,b0=!1,Ey=null,sR={onError:function(r){Af=!0,v0=r}};function iR(r,e,t,n,a,s,i,l,c){Af=!1,v0=null,aR.apply(sR,arguments)}function oR(r,e,t,n,a,s,i,l,c){if(iR.apply(this,arguments),Af){if(Af){var d=v0;Af=!1,v0=null}else throw Error(ot(198));b0||(b0=!0,Ey=d)}}function id(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function t9(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function Pk(r){if(id(r)!==r)throw Error(ot(188))}function lR(r){var e=r.alternate;if(!e){if(e=id(r),e===null)throw Error(ot(188));return e!==r?null:r}for(var t=r,n=e;;){var a=t.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){t=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===t)return Pk(a),r;if(s===n)return Pk(a),e;s=s.sibling}throw Error(ot(188))}if(t.return!==n.return)t=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===t){i=!0,t=a,n=s;break}if(l===n){i=!0,n=a,t=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===t){i=!0,t=s,n=a;break}if(l===n){i=!0,n=s,t=a;break}l=l.sibling}if(!i)throw Error(ot(189))}}if(t.alternate!==n)throw Error(ot(190))}if(t.tag!==3)throw Error(ot(188));return t.stateNode.current===t?r:e}function r9(r){return r=lR(r),r!==null?n9(r):null}function n9(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=n9(r);if(e!==null)return e;r=r.sibling}return null}var a9=ks.unstable_scheduleCallback,Lk=ks.unstable_cancelCallback,cR=ks.unstable_shouldYield,dR=ks.unstable_requestPaint,yn=ks.unstable_now,uR=ks.unstable_getCurrentPriorityLevel,lw=ks.unstable_ImmediatePriority,s9=ks.unstable_UserBlockingPriority,y0=ks.unstable_NormalPriority,hR=ks.unstable_LowPriority,i9=ks.unstable_IdlePriority,Dx=null,Gi=null;function fR(r){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(Dx,r,void 0,(r.current.flags&128)===128)}catch{}}var Ci=Math.clz32?Math.clz32:mR,pR=Math.log,gR=Math.LN2;function mR(r){return r>>>=0,r===0?32:31-(pR(r)/gR|0)|0}var Wg=64,qg=4194304;function wf(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function w0(r,e){var t=r.pendingLanes;if(t===0)return 0;var n=0,a=r.suspendedLanes,s=r.pingedLanes,i=t&268435455;if(i!==0){var l=i&~a;l!==0?n=wf(l):(s&=i,s!==0&&(n=wf(s)))}else i=t&~a,i!==0?n=wf(i):s!==0&&(n=wf(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,s=e&-e,a>=s||a===16&&(s&4194240)!==0))return e;if(n&4&&(n|=t&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=n;0<e;)t=31-Ci(e),a=1<<t,n|=r[t],e&=~a;return n}function xR(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vR(r,e){for(var t=r.suspendedLanes,n=r.pingedLanes,a=r.expirationTimes,s=r.pendingLanes;0<s;){var i=31-Ci(s),l=1<<i,c=a[i];c===-1?(!(l&t)||l&n)&&(a[i]=xR(l,e)):c<=e&&(r.expiredLanes|=l),s&=~l}}function Ay(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function o9(){var r=Wg;return Wg<<=1,!(Wg&4194240)&&(Wg=64),r}function yv(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function Pp(r,e,t){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-Ci(e),r[e]=t}function bR(r,e){var t=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<t;){var a=31-Ci(t),s=1<<a;e[a]=0,n[a]=-1,r[a]=-1,t&=~s}}function cw(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var n=31-Ci(t),a=1<<n;a&e|r[n]&e&&(r[n]|=e),t&=~a}}var Er=0;function l9(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var c9,dw,d9,u9,h9,Py=!1,Yg=[],El=null,Al=null,Pl=null,Jf=new Map,Kf=new Map,ml=[],yR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dk(r,e){switch(r){case"focusin":case"focusout":El=null;break;case"dragenter":case"dragleave":Al=null;break;case"mouseover":case"mouseout":Pl=null;break;case"pointerover":case"pointerout":Jf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kf.delete(e.pointerId)}}function rf(r,e,t,n,a,s){return r===null||r.nativeEvent!==s?(r={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},e!==null&&(e=Dp(e),e!==null&&dw(e)),r):(r.eventSystemFlags|=n,e=r.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),r)}function wR(r,e,t,n,a){switch(e){case"focusin":return El=rf(El,r,e,t,n,a),!0;case"dragenter":return Al=rf(Al,r,e,t,n,a),!0;case"mouseover":return Pl=rf(Pl,r,e,t,n,a),!0;case"pointerover":var s=a.pointerId;return Jf.set(s,rf(Jf.get(s)||null,r,e,t,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Kf.set(s,rf(Kf.get(s)||null,r,e,t,n,a)),!0}return!1}function f9(r){var e=Pc(r.target);if(e!==null){var t=id(e);if(t!==null){if(e=t.tag,e===13){if(e=t9(t),e!==null){r.blockedOn=e,h9(r.priority,function(){d9(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Dm(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=Ly(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t===null){t=r.nativeEvent;var n=new t.constructor(t.type,t);jy=n,t.target.dispatchEvent(n),jy=null}else return e=Dp(t),e!==null&&dw(e),r.blockedOn=t,!1;e.shift()}return!0}function Tk(r,e,t){Dm(r)&&t.delete(e)}function kR(){Py=!1,El!==null&&Dm(El)&&(El=null),Al!==null&&Dm(Al)&&(Al=null),Pl!==null&&Dm(Pl)&&(Pl=null),Jf.forEach(Tk),Kf.forEach(Tk)}function nf(r,e){r.blockedOn===e&&(r.blockedOn=null,Py||(Py=!0,ks.unstable_scheduleCallback(ks.unstable_NormalPriority,kR)))}function Qf(r){function e(a){return nf(a,r)}if(0<Yg.length){nf(Yg[0],r);for(var t=1;t<Yg.length;t++){var n=Yg[t];n.blockedOn===r&&(n.blockedOn=null)}}for(El!==null&&nf(El,r),Al!==null&&nf(Al,r),Pl!==null&&nf(Pl,r),Jf.forEach(e),Kf.forEach(e),t=0;t<ml.length;t++)n=ml[t],n.blockedOn===r&&(n.blockedOn=null);for(;0<ml.length&&(t=ml[0],t.blockedOn===null);)f9(t),t.blockedOn===null&&ml.shift()}var bu=Bo.ReactCurrentBatchConfig,k0=!0;function CR(r,e,t,n){var a=Er,s=bu.transition;bu.transition=null;try{Er=1,uw(r,e,t,n)}finally{Er=a,bu.transition=s}}function SR(r,e,t,n){var a=Er,s=bu.transition;bu.transition=null;try{Er=4,uw(r,e,t,n)}finally{Er=a,bu.transition=s}}function uw(r,e,t,n){if(k0){var a=Ly(r,e,t,n);if(a===null)Pv(r,e,n,C0,t),Dk(r,n);else if(wR(a,r,e,t,n))n.stopPropagation();else if(Dk(r,n),e&4&&-1<yR.indexOf(r)){for(;a!==null;){var s=Dp(a);if(s!==null&&c9(s),s=Ly(r,e,t,n),s===null&&Pv(r,e,n,C0,t),s===a)break;a=s}a!==null&&n.stopPropagation()}else Pv(r,e,n,null,t)}}var C0=null;function Ly(r,e,t,n){if(C0=null,r=ow(n),r=Pc(r),r!==null)if(e=id(r),e===null)r=null;else if(t=e.tag,t===13){if(r=t9(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return C0=r,null}function p9(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uR()){case lw:return 1;case s9:return 4;case y0:case hR:return 16;case i9:return 536870912;default:return 16}default:return 16}}var yl=null,hw=null,Tm=null;function g9(){if(Tm)return Tm;var r,e=hw,t=e.length,n,a="value"in yl?yl.value:yl.textContent,s=a.length;for(r=0;r<t&&e[r]===a[r];r++);var i=t-r;for(n=1;n<=i&&e[t-n]===a[s-n];n++);return Tm=a.slice(r,1<n?1-n:void 0)}function Rm(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function Gg(){return!0}function Rk(){return!1}function Ss(r){function e(t,n,a,s,i){this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in r)r.hasOwnProperty(l)&&(t=r[l],this[l]=t?t(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gg:Rk,this.isPropagationStopped=Rk,this}return sn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Gg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Gg)},persist:function(){},isPersistent:Gg}),e}var sh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fw=Ss(sh),Lp=sn({},sh,{view:0,detail:0}),jR=Ss(Lp),wv,kv,af,Tx=sn({},Lp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pw,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==af&&(af&&r.type==="mousemove"?(wv=r.screenX-af.screenX,kv=r.screenY-af.screenY):kv=wv=0,af=r),wv)},movementY:function(r){return"movementY"in r?r.movementY:kv}}),Mk=Ss(Tx),_R=sn({},Tx,{dataTransfer:0}),NR=Ss(_R),ER=sn({},Lp,{relatedTarget:0}),Cv=Ss(ER),AR=sn({},sh,{animationName:0,elapsedTime:0,pseudoElement:0}),PR=Ss(AR),LR=sn({},sh,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),DR=Ss(LR),TR=sn({},sh,{data:0}),Ik=Ss(TR),RR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OR(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=IR[r])?!!e[r]:!1}function pw(){return OR}var FR=sn({},Lp,{key:function(r){if(r.key){var e=RR[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=Rm(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?MR[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pw,charCode:function(r){return r.type==="keypress"?Rm(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Rm(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),BR=Ss(FR),zR=sn({},Tx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ok=Ss(zR),HR=sn({},Lp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pw}),UR=Ss(HR),VR=sn({},sh,{propertyName:0,elapsedTime:0,pseudoElement:0}),$R=Ss(VR),WR=sn({},Tx,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),qR=Ss(WR),YR=[9,13,27,32],gw=Po&&"CompositionEvent"in window,Pf=null;Po&&"documentMode"in document&&(Pf=document.documentMode);var GR=Po&&"TextEvent"in window&&!Pf,m9=Po&&(!gw||Pf&&8<Pf&&11>=Pf),Fk=" ",Bk=!1;function x9(r,e){switch(r){case"keyup":return YR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v9(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ru=!1;function XR(r,e){switch(r){case"compositionend":return v9(e);case"keypress":return e.which!==32?null:(Bk=!0,Fk);case"textInput":return r=e.data,r===Fk&&Bk?null:r;default:return null}}function ZR(r,e){if(ru)return r==="compositionend"||!gw&&x9(r,e)?(r=g9(),Tm=hw=yl=null,ru=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return m9&&e.locale!=="ko"?null:e.data;default:return null}}var JR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zk(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!JR[r.type]:e==="textarea"}function b9(r,e,t,n){Z7(n),e=S0(e,"onChange"),0<e.length&&(t=new fw("onChange","change",null,t,n),r.push({event:t,listeners:e}))}var Lf=null,ep=null;function KR(r){P9(r,0)}function Rx(r){var e=su(r);if(V7(e))return r}function QR(r,e){if(r==="change")return e}var y9=!1;if(Po){var Sv;if(Po){var jv="oninput"in document;if(!jv){var Hk=document.createElement("div");Hk.setAttribute("oninput","return;"),jv=typeof Hk.oninput=="function"}Sv=jv}else Sv=!1;y9=Sv&&(!document.documentMode||9<document.documentMode)}function Uk(){Lf&&(Lf.detachEvent("onpropertychange",w9),ep=Lf=null)}function w9(r){if(r.propertyName==="value"&&Rx(ep)){var e=[];b9(e,ep,r,ow(r)),e9(KR,e)}}function eM(r,e,t){r==="focusin"?(Uk(),Lf=e,ep=t,Lf.attachEvent("onpropertychange",w9)):r==="focusout"&&Uk()}function tM(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Rx(ep)}function rM(r,e){if(r==="click")return Rx(e)}function nM(r,e){if(r==="input"||r==="change")return Rx(e)}function aM(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var _i=typeof Object.is=="function"?Object.is:aM;function tp(r,e){if(_i(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var a=t[n];if(!fy.call(e,a)||!_i(r[a],e[a]))return!1}return!0}function Vk(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function $k(r,e){var t=Vk(r);r=0;for(var n;t;){if(t.nodeType===3){if(n=r+t.textContent.length,r<=e&&n>=e)return{node:t,offset:e-r};r=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Vk(t)}}function k9(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?k9(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function C9(){for(var r=window,e=x0();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=x0(r.document)}return e}function mw(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function sM(r){var e=C9(),t=r.focusedElem,n=r.selectionRange;if(e!==t&&t&&t.ownerDocument&&k9(t.ownerDocument.documentElement,t)){if(n!==null&&mw(t)){if(e=n.start,r=n.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var a=t.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!r.extend&&s>n&&(a=n,n=s,s=a),a=$k(t,s);var i=$k(t,n);a&&i&&(r.rangeCount!==1||r.anchorNode!==a.node||r.anchorOffset!==a.offset||r.focusNode!==i.node||r.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),r.removeAllRanges(),s>n?(r.addRange(e),r.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var iM=Po&&"documentMode"in document&&11>=document.documentMode,nu=null,Dy=null,Df=null,Ty=!1;function Wk(r,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Ty||nu==null||nu!==x0(n)||(n=nu,"selectionStart"in n&&mw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Df&&tp(Df,n)||(Df=n,n=S0(Dy,"onSelect"),0<n.length&&(e=new fw("onSelect","select",null,e,t),r.push({event:e,listeners:n}),e.target=nu)))}function Xg(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var au={animationend:Xg("Animation","AnimationEnd"),animationiteration:Xg("Animation","AnimationIteration"),animationstart:Xg("Animation","AnimationStart"),transitionend:Xg("Transition","TransitionEnd")},_v={},S9={};Po&&(S9=document.createElement("div").style,"AnimationEvent"in window||(delete au.animationend.animation,delete au.animationiteration.animation,delete au.animationstart.animation),"TransitionEvent"in window||delete au.transitionend.transition);function Mx(r){if(_v[r])return _v[r];if(!au[r])return r;var e=au[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in S9)return _v[r]=e[t];return r}var j9=Mx("animationend"),_9=Mx("animationiteration"),N9=Mx("animationstart"),E9=Mx("transitionend"),A9=new Map,qk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gl(r,e){A9.set(r,e),sd(e,[r])}for(var Nv=0;Nv<qk.length;Nv++){var Ev=qk[Nv],oM=Ev.toLowerCase(),lM=Ev[0].toUpperCase()+Ev.slice(1);Gl(oM,"on"+lM)}Gl(j9,"onAnimationEnd");Gl(_9,"onAnimationIteration");Gl(N9,"onAnimationStart");Gl("dblclick","onDoubleClick");Gl("focusin","onFocus");Gl("focusout","onBlur");Gl(E9,"onTransitionEnd");Fu("onMouseEnter",["mouseout","mouseover"]);Fu("onMouseLeave",["mouseout","mouseover"]);Fu("onPointerEnter",["pointerout","pointerover"]);Fu("onPointerLeave",["pointerout","pointerover"]);sd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sd("onBeforeInput",["compositionend","keypress","textInput","paste"]);sd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cM=new Set("cancel close invalid load scroll toggle".split(" ").concat(kf));function Yk(r,e,t){var n=r.type||"unknown-event";r.currentTarget=t,oR(n,e,void 0,r),r.currentTarget=null}function P9(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var n=r[t],a=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;Yk(a,l,d),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;Yk(a,l,d),s=c}}}if(b0)throw r=Ey,b0=!1,Ey=null,r}function Wr(r,e){var t=e[Fy];t===void 0&&(t=e[Fy]=new Set);var n=r+"__bubble";t.has(n)||(L9(e,r,2,!1),t.add(n))}function Av(r,e,t){var n=0;e&&(n|=4),L9(t,r,n,e)}var Zg="_reactListening"+Math.random().toString(36).slice(2);function rp(r){if(!r[Zg]){r[Zg]=!0,F7.forEach(function(t){t!=="selectionchange"&&(cM.has(t)||Av(t,!1,r),Av(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[Zg]||(e[Zg]=!0,Av("selectionchange",!1,e))}}function L9(r,e,t,n){switch(p9(e)){case 1:var a=CR;break;case 4:a=SR;break;default:a=uw}t=a.bind(null,e,t,r),a=void 0,!Ny||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?r.addEventListener(e,t,{capture:!0,passive:a}):r.addEventListener(e,t,!0):a!==void 0?r.addEventListener(e,t,{passive:a}):r.addEventListener(e,t,!1)}function Pv(r,e,t,n,a){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Pc(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}e9(function(){var d=s,u=ow(t),h=[];e:{var f=A9.get(r);if(f!==void 0){var p=fw,m=r;switch(r){case"keypress":if(Rm(t)===0)break e;case"keydown":case"keyup":p=BR;break;case"focusin":m="focus",p=Cv;break;case"focusout":m="blur",p=Cv;break;case"beforeblur":case"afterblur":p=Cv;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Mk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=NR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=UR;break;case j9:case _9:case N9:p=PR;break;case E9:p=$R;break;case"scroll":p=jR;break;case"wheel":p=qR;break;case"copy":case"cut":case"paste":p=DR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ok}var g=(e&4)!==0,v=!g&&r==="scroll",x=g?f!==null?f+"Capture":null:f;g=[];for(var b=d,y;b!==null;){y=b;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,x!==null&&(C=Zf(b,x),C!=null&&g.push(np(b,C,y)))),v)break;b=b.return}0<g.length&&(f=new p(f,m,null,t,u),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=r==="mouseover"||r==="pointerover",p=r==="mouseout"||r==="pointerout",f&&t!==jy&&(m=t.relatedTarget||t.fromElement)&&(Pc(m)||m[Lo]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=t.relatedTarget||t.toElement,p=d,m=m?Pc(m):null,m!==null&&(v=id(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=d),p!==m)){if(g=Mk,C="onMouseLeave",x="onMouseEnter",b="mouse",(r==="pointerout"||r==="pointerover")&&(g=Ok,C="onPointerLeave",x="onPointerEnter",b="pointer"),v=p==null?f:su(p),y=m==null?f:su(m),f=new g(C,b+"leave",p,t,u),f.target=v,f.relatedTarget=y,C=null,Pc(u)===d&&(g=new g(x,b+"enter",m,t,u),g.target=y,g.relatedTarget=v,C=g),v=C,p&&m)t:{for(g=p,x=m,b=0,y=g;y;y=zd(y))b++;for(y=0,C=x;C;C=zd(C))y++;for(;0<b-y;)g=zd(g),b--;for(;0<y-b;)x=zd(x),y--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=zd(g),x=zd(x)}g=null}else g=null;p!==null&&Gk(h,f,p,g,!1),m!==null&&v!==null&&Gk(h,v,m,g,!0)}}e:{if(f=d?su(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=QR;else if(zk(f))if(y9)S=nM;else{S=tM;var _=eM}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=rM);if(S&&(S=S(r,d))){b9(h,S,t,u);break e}_&&_(r,f,d),r==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&yy(f,"number",f.value)}switch(_=d?su(d):window,r){case"focusin":(zk(_)||_.contentEditable==="true")&&(nu=_,Dy=d,Df=null);break;case"focusout":Df=Dy=nu=null;break;case"mousedown":Ty=!0;break;case"contextmenu":case"mouseup":case"dragend":Ty=!1,Wk(h,t,u);break;case"selectionchange":if(iM)break;case"keydown":case"keyup":Wk(h,t,u)}var E;if(gw)e:{switch(r){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ru?x9(r,t)&&(A="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(A="onCompositionStart");A&&(m9&&t.locale!=="ko"&&(ru||A!=="onCompositionStart"?A==="onCompositionEnd"&&ru&&(E=g9()):(yl=u,hw="value"in yl?yl.value:yl.textContent,ru=!0)),_=S0(d,A),0<_.length&&(A=new Ik(A,r,null,t,u),h.push({event:A,listeners:_}),E?A.data=E:(E=v9(t),E!==null&&(A.data=E)))),(E=GR?XR(r,t):ZR(r,t))&&(d=S0(d,"onBeforeInput"),0<d.length&&(u=new Ik("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:d}),u.data=E))}P9(h,e)})}function np(r,e,t){return{instance:r,listener:e,currentTarget:t}}function S0(r,e){for(var t=e+"Capture",n=[];r!==null;){var a=r,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Zf(r,t),s!=null&&n.unshift(np(r,s,a)),s=Zf(r,e),s!=null&&n.push(np(r,s,a))),r=r.return}return n}function zd(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Gk(r,e,t,n,a){for(var s=e._reactName,i=[];t!==null&&t!==n;){var l=t,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=Zf(t,s),c!=null&&i.unshift(np(t,c,l))):a||(c=Zf(t,s),c!=null&&i.push(np(t,c,l)))),t=t.return}i.length!==0&&r.push({event:e,listeners:i})}var dM=/\r\n?/g,uM=/\u0000|\uFFFD/g;function Xk(r){return(typeof r=="string"?r:""+r).replace(dM,`
`).replace(uM,"")}function Jg(r,e,t){if(e=Xk(e),Xk(r)!==e&&t)throw Error(ot(425))}function j0(){}var Ry=null,My=null;function Iy(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Oy=typeof setTimeout=="function"?setTimeout:void 0,hM=typeof clearTimeout=="function"?clearTimeout:void 0,Zk=typeof Promise=="function"?Promise:void 0,fM=typeof queueMicrotask=="function"?queueMicrotask:typeof Zk<"u"?function(r){return Zk.resolve(null).then(r).catch(pM)}:Oy;function pM(r){setTimeout(function(){throw r})}function Lv(r,e){var t=e,n=0;do{var a=t.nextSibling;if(r.removeChild(t),a&&a.nodeType===8)if(t=a.data,t==="/$"){if(n===0){r.removeChild(a),Qf(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=a}while(t);Qf(e)}function Ll(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function Jk(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var ih=Math.random().toString(36).slice(2),qi="__reactFiber$"+ih,ap="__reactProps$"+ih,Lo="__reactContainer$"+ih,Fy="__reactEvents$"+ih,gM="__reactListeners$"+ih,mM="__reactHandles$"+ih;function Pc(r){var e=r[qi];if(e)return e;for(var t=r.parentNode;t;){if(e=t[Lo]||t[qi]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=Jk(r);r!==null;){if(t=r[qi])return t;r=Jk(r)}return e}r=t,t=r.parentNode}return null}function Dp(r){return r=r[qi]||r[Lo],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function su(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(ot(33))}function Ix(r){return r[ap]||null}var By=[],iu=-1;function Xl(r){return{current:r}}function Gr(r){0>iu||(r.current=By[iu],By[iu]=null,iu--)}function Ur(r,e){iu++,By[iu]=r.current,r.current=e}var zl={},Ca=Xl(zl),Qa=Xl(!1),Yc=zl;function Bu(r,e){var t=r.type.contextTypes;if(!t)return zl;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in t)a[s]=e[s];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=a),a}function es(r){return r=r.childContextTypes,r!=null}function _0(){Gr(Qa),Gr(Ca)}function Kk(r,e,t){if(Ca.current!==zl)throw Error(ot(168));Ur(Ca,e),Ur(Qa,t)}function D9(r,e,t){var n=r.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(ot(108,eR(r)||"Unknown",a));return sn({},t,n)}function N0(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||zl,Yc=Ca.current,Ur(Ca,r),Ur(Qa,Qa.current),!0}function Qk(r,e,t){var n=r.stateNode;if(!n)throw Error(ot(169));t?(r=D9(r,e,Yc),n.__reactInternalMemoizedMergedChildContext=r,Gr(Qa),Gr(Ca),Ur(Ca,r)):Gr(Qa),Ur(Qa,t)}var yo=null,Ox=!1,Dv=!1;function T9(r){yo===null?yo=[r]:yo.push(r)}function xM(r){Ox=!0,T9(r)}function Zl(){if(!Dv&&yo!==null){Dv=!0;var r=0,e=Er;try{var t=yo;for(Er=1;r<t.length;r++){var n=t[r];do n=n(!0);while(n!==null)}yo=null,Ox=!1}catch(a){throw yo!==null&&(yo=yo.slice(r+1)),a9(lw,Zl),a}finally{Er=e,Dv=!1}}return null}var ou=[],lu=0,E0=null,A0=0,$s=[],Ws=0,Gc=null,ko=1,Co="";function gc(r,e){ou[lu++]=A0,ou[lu++]=E0,E0=r,A0=e}function R9(r,e,t){$s[Ws++]=ko,$s[Ws++]=Co,$s[Ws++]=Gc,Gc=r;var n=ko;r=Co;var a=32-Ci(n)-1;n&=~(1<<a),t+=1;var s=32-Ci(e)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,ko=1<<32-Ci(e)+a|t<<a|n,Co=s+r}else ko=1<<s|t<<a|n,Co=r}function xw(r){r.return!==null&&(gc(r,1),R9(r,1,0))}function vw(r){for(;r===E0;)E0=ou[--lu],ou[lu]=null,A0=ou[--lu],ou[lu]=null;for(;r===Gc;)Gc=$s[--Ws],$s[Ws]=null,Co=$s[--Ws],$s[Ws]=null,ko=$s[--Ws],$s[Ws]=null}var xs=null,gs=null,Zr=!1,mi=null;function M9(r,e){var t=Ys(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=r,e=r.deletions,e===null?(r.deletions=[t],r.flags|=16):e.push(t)}function eC(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,xs=r,gs=Ll(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,xs=r,gs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Gc!==null?{id:ko,overflow:Co}:null,r.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ys(18,null,null,0),t.stateNode=e,t.return=r,r.child=t,xs=r,gs=null,!0):!1;default:return!1}}function zy(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Hy(r){if(Zr){var e=gs;if(e){var t=e;if(!eC(r,e)){if(zy(r))throw Error(ot(418));e=Ll(t.nextSibling);var n=xs;e&&eC(r,e)?M9(n,t):(r.flags=r.flags&-4097|2,Zr=!1,xs=r)}}else{if(zy(r))throw Error(ot(418));r.flags=r.flags&-4097|2,Zr=!1,xs=r}}}function tC(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;xs=r}function Kg(r){if(r!==xs)return!1;if(!Zr)return tC(r),Zr=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!Iy(r.type,r.memoizedProps)),e&&(e=gs)){if(zy(r))throw I9(),Error(ot(418));for(;e;)M9(r,e),e=Ll(e.nextSibling)}if(tC(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(ot(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){gs=Ll(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}gs=null}}else gs=xs?Ll(r.stateNode.nextSibling):null;return!0}function I9(){for(var r=gs;r;)r=Ll(r.nextSibling)}function zu(){gs=xs=null,Zr=!1}function bw(r){mi===null?mi=[r]:mi.push(r)}var vM=Bo.ReactCurrentBatchConfig;function sf(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(ot(309));var n=t.stateNode}if(!n)throw Error(ot(147,r));var a=n,s=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},e._stringRef=s,e)}if(typeof r!="string")throw Error(ot(284));if(!t._owner)throw Error(ot(290,r))}return r}function Qg(r,e){throw r=Object.prototype.toString.call(e),Error(ot(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function rC(r){var e=r._init;return e(r._payload)}function O9(r){function e(x,b){if(r){var y=x.deletions;y===null?(x.deletions=[b],x.flags|=16):y.push(b)}}function t(x,b){if(!r)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function a(x,b){return x=Ml(x,b),x.index=0,x.sibling=null,x}function s(x,b,y){return x.index=y,r?(y=x.alternate,y!==null?(y=y.index,y<b?(x.flags|=2,b):y):(x.flags|=2,b)):(x.flags|=1048576,b)}function i(x){return r&&x.alternate===null&&(x.flags|=2),x}function l(x,b,y,C){return b===null||b.tag!==6?(b=Bv(y,x.mode,C),b.return=x,b):(b=a(b,y),b.return=x,b)}function c(x,b,y,C){var S=y.type;return S===tu?u(x,b,y.props.children,C,y.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===hl&&rC(S)===b.type)?(C=a(b,y.props),C.ref=sf(x,b,y),C.return=x,C):(C=Hm(y.type,y.key,y.props,null,x.mode,C),C.ref=sf(x,b,y),C.return=x,C)}function d(x,b,y,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=zv(y,x.mode,C),b.return=x,b):(b=a(b,y.children||[]),b.return=x,b)}function u(x,b,y,C,S){return b===null||b.tag!==7?(b=Bc(y,x.mode,C,S),b.return=x,b):(b=a(b,y),b.return=x,b)}function h(x,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Bv(""+b,x.mode,y),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ug:return y=Hm(b.type,b.key,b.props,null,x.mode,y),y.ref=sf(x,null,b),y.return=x,y;case eu:return b=zv(b,x.mode,y),b.return=x,b;case hl:var C=b._init;return h(x,C(b._payload),y)}if(yf(b)||ef(b))return b=Bc(b,x.mode,y,null),b.return=x,b;Qg(x,b)}return null}function f(x,b,y,C){var S=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(x,b,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ug:return y.key===S?c(x,b,y,C):null;case eu:return y.key===S?d(x,b,y,C):null;case hl:return S=y._init,f(x,b,S(y._payload),C)}if(yf(y)||ef(y))return S!==null?null:u(x,b,y,C,null);Qg(x,y)}return null}function p(x,b,y,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(y)||null,l(b,x,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ug:return x=x.get(C.key===null?y:C.key)||null,c(b,x,C,S);case eu:return x=x.get(C.key===null?y:C.key)||null,d(b,x,C,S);case hl:var _=C._init;return p(x,b,y,_(C._payload),S)}if(yf(C)||ef(C))return x=x.get(y)||null,u(b,x,C,S,null);Qg(b,C)}return null}function m(x,b,y,C){for(var S=null,_=null,E=b,A=b=0,T=null;E!==null&&A<y.length;A++){E.index>A?(T=E,E=null):T=E.sibling;var F=f(x,E,y[A],C);if(F===null){E===null&&(E=T);break}r&&E&&F.alternate===null&&e(x,E),b=s(F,b,A),_===null?S=F:_.sibling=F,_=F,E=T}if(A===y.length)return t(x,E),Zr&&gc(x,A),S;if(E===null){for(;A<y.length;A++)E=h(x,y[A],C),E!==null&&(b=s(E,b,A),_===null?S=E:_.sibling=E,_=E);return Zr&&gc(x,A),S}for(E=n(x,E);A<y.length;A++)T=p(E,x,A,y[A],C),T!==null&&(r&&T.alternate!==null&&E.delete(T.key===null?A:T.key),b=s(T,b,A),_===null?S=T:_.sibling=T,_=T);return r&&E.forEach(function(L){return e(x,L)}),Zr&&gc(x,A),S}function g(x,b,y,C){var S=ef(y);if(typeof S!="function")throw Error(ot(150));if(y=S.call(y),y==null)throw Error(ot(151));for(var _=S=null,E=b,A=b=0,T=null,F=y.next();E!==null&&!F.done;A++,F=y.next()){E.index>A?(T=E,E=null):T=E.sibling;var L=f(x,E,F.value,C);if(L===null){E===null&&(E=T);break}r&&E&&L.alternate===null&&e(x,E),b=s(L,b,A),_===null?S=L:_.sibling=L,_=L,E=T}if(F.done)return t(x,E),Zr&&gc(x,A),S;if(E===null){for(;!F.done;A++,F=y.next())F=h(x,F.value,C),F!==null&&(b=s(F,b,A),_===null?S=F:_.sibling=F,_=F);return Zr&&gc(x,A),S}for(E=n(x,E);!F.done;A++,F=y.next())F=p(E,x,A,F.value,C),F!==null&&(r&&F.alternate!==null&&E.delete(F.key===null?A:F.key),b=s(F,b,A),_===null?S=F:_.sibling=F,_=F);return r&&E.forEach(function(D){return e(x,D)}),Zr&&gc(x,A),S}function v(x,b,y,C){if(typeof y=="object"&&y!==null&&y.type===tu&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ug:e:{for(var S=y.key,_=b;_!==null;){if(_.key===S){if(S=y.type,S===tu){if(_.tag===7){t(x,_.sibling),b=a(_,y.props.children),b.return=x,x=b;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===hl&&rC(S)===_.type){t(x,_.sibling),b=a(_,y.props),b.ref=sf(x,_,y),b.return=x,x=b;break e}t(x,_);break}else e(x,_);_=_.sibling}y.type===tu?(b=Bc(y.props.children,x.mode,C,y.key),b.return=x,x=b):(C=Hm(y.type,y.key,y.props,null,x.mode,C),C.ref=sf(x,b,y),C.return=x,x=C)}return i(x);case eu:e:{for(_=y.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){t(x,b.sibling),b=a(b,y.children||[]),b.return=x,x=b;break e}else{t(x,b);break}else e(x,b);b=b.sibling}b=zv(y,x.mode,C),b.return=x,x=b}return i(x);case hl:return _=y._init,v(x,b,_(y._payload),C)}if(yf(y))return m(x,b,y,C);if(ef(y))return g(x,b,y,C);Qg(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(t(x,b.sibling),b=a(b,y),b.return=x,x=b):(t(x,b),b=Bv(y,x.mode,C),b.return=x,x=b),i(x)):t(x,b)}return v}var Hu=O9(!0),F9=O9(!1),P0=Xl(null),L0=null,cu=null,yw=null;function ww(){yw=cu=L0=null}function kw(r){var e=P0.current;Gr(P0),r._currentValue=e}function Uy(r,e,t){for(;r!==null;){var n=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),r===t)break;r=r.return}}function yu(r,e){L0=r,yw=cu=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(Za=!0),r.firstContext=null)}function Ks(r){var e=r._currentValue;if(yw!==r)if(r={context:r,memoizedValue:e,next:null},cu===null){if(L0===null)throw Error(ot(308));cu=r,L0.dependencies={lanes:0,firstContext:r}}else cu=cu.next=r;return e}var Lc=null;function Cw(r){Lc===null?Lc=[r]:Lc.push(r)}function B9(r,e,t,n){var a=e.interleaved;return a===null?(t.next=t,Cw(e)):(t.next=a.next,a.next=t),e.interleaved=t,Do(r,n)}function Do(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}var fl=!1;function Sw(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z9(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function _o(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function Dl(r,e,t){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,pr&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Do(r,t)}return a=n.interleaved,a===null?(e.next=e,Cw(n)):(e.next=a.next,a.next=e),n.interleaved=e,Do(r,t)}function Mm(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,cw(r,t)}}function nC(r,e){var t=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var a=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var i={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?a=s=i:s=s.next=i,t=t.next}while(t!==null);s===null?a=s=e:s=s.next=e}else a=s=e;t={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function D0(r,e,t,n){var a=r.updateQueue;fl=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?s=d:i.next=d,i=c;var u=r.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(s!==null){var h=a.baseState;i=0,u=d=c=null,l=s;do{var f=l.lane,p=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=r,g=l;switch(f=e,p=t,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=sn({},h,f);break e;case 2:fl=!0}}l.callback!==null&&l.lane!==0&&(r.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,i|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,e=a.shared.interleaved,e!==null){a=e;do i|=a.lane,a=a.next;while(a!==e)}else s===null&&(a.shared.lanes=0);Zc|=i,r.lanes=i,r.memoizedState=h}}function aC(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var n=r[e],a=n.callback;if(a!==null){if(n.callback=null,n=t,typeof a!="function")throw Error(ot(191,a));a.call(n)}}}var Tp={},Xi=Xl(Tp),sp=Xl(Tp),ip=Xl(Tp);function Dc(r){if(r===Tp)throw Error(ot(174));return r}function jw(r,e){switch(Ur(ip,e),Ur(sp,r),Ur(Xi,Tp),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ky(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=ky(e,r)}Gr(Xi),Ur(Xi,e)}function Uu(){Gr(Xi),Gr(sp),Gr(ip)}function H9(r){Dc(ip.current);var e=Dc(Xi.current),t=ky(e,r.type);e!==t&&(Ur(sp,r),Ur(Xi,t))}function _w(r){sp.current===r&&(Gr(Xi),Gr(sp))}var rn=Xl(0);function T0(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tv=[];function Nw(){for(var r=0;r<Tv.length;r++)Tv[r]._workInProgressVersionPrimary=null;Tv.length=0}var Im=Bo.ReactCurrentDispatcher,Rv=Bo.ReactCurrentBatchConfig,Xc=0,an=null,On=null,Yn=null,R0=!1,Tf=!1,op=0,bM=0;function ha(){throw Error(ot(321))}function Ew(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!_i(r[t],e[t]))return!1;return!0}function Aw(r,e,t,n,a,s){if(Xc=s,an=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Im.current=r===null||r.memoizedState===null?CM:SM,r=t(n,a),Tf){s=0;do{if(Tf=!1,op=0,25<=s)throw Error(ot(301));s+=1,Yn=On=null,e.updateQueue=null,Im.current=jM,r=t(n,a)}while(Tf)}if(Im.current=M0,e=On!==null&&On.next!==null,Xc=0,Yn=On=an=null,R0=!1,e)throw Error(ot(300));return r}function Pw(){var r=op!==0;return op=0,r}function Ui(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?an.memoizedState=Yn=r:Yn=Yn.next=r,Yn}function Qs(){if(On===null){var r=an.alternate;r=r!==null?r.memoizedState:null}else r=On.next;var e=Yn===null?an.memoizedState:Yn.next;if(e!==null)Yn=e,On=r;else{if(r===null)throw Error(ot(310));On=r,r={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Yn===null?an.memoizedState=Yn=r:Yn=Yn.next=r}return Yn}function lp(r,e){return typeof e=="function"?e(r):e}function Mv(r){var e=Qs(),t=e.queue;if(t===null)throw Error(ot(311));t.lastRenderedReducer=r;var n=On,a=n.baseQueue,s=t.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,t.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,d=s;do{var u=d.lane;if((Xc&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:r(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,i=n):c=c.next=h,an.lanes|=u,Zc|=u}d=d.next}while(d!==null&&d!==s);c===null?i=n:c.next=l,_i(n,e.memoizedState)||(Za=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,t.lastRenderedState=n}if(r=t.interleaved,r!==null){a=r;do s=a.lane,an.lanes|=s,Zc|=s,a=a.next;while(a!==r)}else a===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Iv(r){var e=Qs(),t=e.queue;if(t===null)throw Error(ot(311));t.lastRenderedReducer=r;var n=t.dispatch,a=t.pending,s=e.memoizedState;if(a!==null){t.pending=null;var i=a=a.next;do s=r(s,i.action),i=i.next;while(i!==a);_i(s,e.memoizedState)||(Za=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,n]}function U9(){}function V9(r,e){var t=an,n=Qs(),a=e(),s=!_i(n.memoizedState,a);if(s&&(n.memoizedState=a,Za=!0),n=n.queue,Lw(q9.bind(null,t,n,r),[r]),n.getSnapshot!==e||s||Yn!==null&&Yn.memoizedState.tag&1){if(t.flags|=2048,cp(9,W9.bind(null,t,n,a,e),void 0,null),Jn===null)throw Error(ot(349));Xc&30||$9(t,e,a)}return a}function $9(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=an.updateQueue,e===null?(e={lastEffect:null,stores:null},an.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function W9(r,e,t,n){e.value=t,e.getSnapshot=n,Y9(e)&&G9(r)}function q9(r,e,t){return t(function(){Y9(e)&&G9(r)})}function Y9(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!_i(r,t)}catch{return!0}}function G9(r){var e=Do(r,1);e!==null&&Si(e,r,1,-1)}function sC(r){var e=Ui();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:r},e.queue=r,r=r.dispatch=kM.bind(null,an,r),[e.memoizedState,r]}function cp(r,e,t,n){return r={tag:r,create:e,destroy:t,deps:n,next:null},e=an.updateQueue,e===null?(e={lastEffect:null,stores:null},an.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(n=t.next,t.next=r,r.next=n,e.lastEffect=r)),r}function X9(){return Qs().memoizedState}function Om(r,e,t,n){var a=Ui();an.flags|=r,a.memoizedState=cp(1|e,t,void 0,n===void 0?null:n)}function Fx(r,e,t,n){var a=Qs();n=n===void 0?null:n;var s=void 0;if(On!==null){var i=On.memoizedState;if(s=i.destroy,n!==null&&Ew(n,i.deps)){a.memoizedState=cp(e,t,s,n);return}}an.flags|=r,a.memoizedState=cp(1|e,t,s,n)}function iC(r,e){return Om(8390656,8,r,e)}function Lw(r,e){return Fx(2048,8,r,e)}function Z9(r,e){return Fx(4,2,r,e)}function J9(r,e){return Fx(4,4,r,e)}function K9(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function Q9(r,e,t){return t=t!=null?t.concat([r]):null,Fx(4,4,K9.bind(null,e,r),t)}function Dw(){}function ej(r,e){var t=Qs();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&Ew(e,n[1])?n[0]:(t.memoizedState=[r,e],r)}function tj(r,e){var t=Qs();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&Ew(e,n[1])?n[0]:(r=r(),t.memoizedState=[r,e],r)}function rj(r,e,t){return Xc&21?(_i(t,e)||(t=o9(),an.lanes|=t,Zc|=t,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,Za=!0),r.memoizedState=t)}function yM(r,e){var t=Er;Er=t!==0&&4>t?t:4,r(!0);var n=Rv.transition;Rv.transition={};try{r(!1),e()}finally{Er=t,Rv.transition=n}}function nj(){return Qs().memoizedState}function wM(r,e,t){var n=Rl(r);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},aj(r))sj(e,t);else if(t=B9(r,e,t,n),t!==null){var a=Ta();Si(t,r,n,a),ij(t,e,n)}}function kM(r,e,t){var n=Rl(r),a={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(aj(r))sj(e,a);else{var s=r.alternate;if(r.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,l=s(i,t);if(a.hasEagerState=!0,a.eagerState=l,_i(l,i)){var c=e.interleaved;c===null?(a.next=a,Cw(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}t=B9(r,e,a,n),t!==null&&(a=Ta(),Si(t,r,n,a),ij(t,e,n))}}function aj(r){var e=r.alternate;return r===an||e!==null&&e===an}function sj(r,e){Tf=R0=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function ij(r,e,t){if(t&4194240){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,cw(r,t)}}var M0={readContext:Ks,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},CM={readContext:Ks,useCallback:function(r,e){return Ui().memoizedState=[r,e===void 0?null:e],r},useContext:Ks,useEffect:iC,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,Om(4194308,4,K9.bind(null,e,r),t)},useLayoutEffect:function(r,e){return Om(4194308,4,r,e)},useInsertionEffect:function(r,e){return Om(4,2,r,e)},useMemo:function(r,e){var t=Ui();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var n=Ui();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},n.queue=r,r=r.dispatch=wM.bind(null,an,r),[n.memoizedState,r]},useRef:function(r){var e=Ui();return r={current:r},e.memoizedState=r},useState:sC,useDebugValue:Dw,useDeferredValue:function(r){return Ui().memoizedState=r},useTransition:function(){var r=sC(!1),e=r[0];return r=yM.bind(null,r[1]),Ui().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,t){var n=an,a=Ui();if(Zr){if(t===void 0)throw Error(ot(407));t=t()}else{if(t=e(),Jn===null)throw Error(ot(349));Xc&30||$9(n,e,t)}a.memoizedState=t;var s={value:t,getSnapshot:e};return a.queue=s,iC(q9.bind(null,n,s,r),[r]),n.flags|=2048,cp(9,W9.bind(null,n,s,t,e),void 0,null),t},useId:function(){var r=Ui(),e=Jn.identifierPrefix;if(Zr){var t=Co,n=ko;t=(n&~(1<<32-Ci(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=op++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=bM++,e=":"+e+"r"+t.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},SM={readContext:Ks,useCallback:ej,useContext:Ks,useEffect:Lw,useImperativeHandle:Q9,useInsertionEffect:Z9,useLayoutEffect:J9,useMemo:tj,useReducer:Mv,useRef:X9,useState:function(){return Mv(lp)},useDebugValue:Dw,useDeferredValue:function(r){var e=Qs();return rj(e,On.memoizedState,r)},useTransition:function(){var r=Mv(lp)[0],e=Qs().memoizedState;return[r,e]},useMutableSource:U9,useSyncExternalStore:V9,useId:nj,unstable_isNewReconciler:!1},jM={readContext:Ks,useCallback:ej,useContext:Ks,useEffect:Lw,useImperativeHandle:Q9,useInsertionEffect:Z9,useLayoutEffect:J9,useMemo:tj,useReducer:Iv,useRef:X9,useState:function(){return Iv(lp)},useDebugValue:Dw,useDeferredValue:function(r){var e=Qs();return On===null?e.memoizedState=r:rj(e,On.memoizedState,r)},useTransition:function(){var r=Iv(lp)[0],e=Qs().memoizedState;return[r,e]},useMutableSource:U9,useSyncExternalStore:V9,useId:nj,unstable_isNewReconciler:!1};function hi(r,e){if(r&&r.defaultProps){e=sn({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function Vy(r,e,t,n){e=r.memoizedState,t=t(n,e),t=t==null?e:sn({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var Bx={isMounted:function(r){return(r=r._reactInternals)?id(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var n=Ta(),a=Rl(r),s=_o(n,a);s.payload=e,t!=null&&(s.callback=t),e=Dl(r,s,a),e!==null&&(Si(e,r,a,n),Mm(e,r,a))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var n=Ta(),a=Rl(r),s=_o(n,a);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Dl(r,s,a),e!==null&&(Si(e,r,a,n),Mm(e,r,a))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=Ta(),n=Rl(r),a=_o(t,n);a.tag=2,e!=null&&(a.callback=e),e=Dl(r,a,n),e!==null&&(Si(e,r,n,t),Mm(e,r,n))}};function oC(r,e,t,n,a,s,i){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,s,i):e.prototype&&e.prototype.isPureReactComponent?!tp(t,n)||!tp(a,s):!0}function oj(r,e,t){var n=!1,a=zl,s=e.contextType;return typeof s=="object"&&s!==null?s=Ks(s):(a=es(e)?Yc:Ca.current,n=e.contextTypes,s=(n=n!=null)?Bu(r,a):zl),e=new e(t,s),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bx,r.stateNode=e,e._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=s),e}function lC(r,e,t,n){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==r&&Bx.enqueueReplaceState(e,e.state,null)}function $y(r,e,t,n){var a=r.stateNode;a.props=t,a.state=r.memoizedState,a.refs={},Sw(r);var s=e.contextType;typeof s=="object"&&s!==null?a.context=Ks(s):(s=es(e)?Yc:Ca.current,a.context=Bu(r,s)),a.state=r.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Vy(r,e,s,t),a.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Bx.enqueueReplaceState(a,a.state,null),D0(r,t,a,n),a.state=r.memoizedState),typeof a.componentDidMount=="function"&&(r.flags|=4194308)}function Vu(r,e){try{var t="",n=e;do t+=QT(n),n=n.return;while(n);var a=t}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:r,source:e,stack:a,digest:null}}function Ov(r,e,t){return{value:r,source:null,stack:t??null,digest:e??null}}function Wy(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var _M=typeof WeakMap=="function"?WeakMap:Map;function lj(r,e,t){t=_o(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){O0||(O0=!0,t2=n),Wy(r,e)},t}function cj(r,e,t){t=_o(-1,t),t.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;t.payload=function(){return n(a)},t.callback=function(){Wy(r,e)}}var s=r.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Wy(r,e),typeof n!="function"&&(Tl===null?Tl=new Set([this]):Tl.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),t}function cC(r,e,t){var n=r.pingCache;if(n===null){n=r.pingCache=new _M;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(t)||(a.add(t),r=zM.bind(null,r,e,t),e.then(r,r))}function dC(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function uC(r,e,t,n,a){return r.mode&1?(r.flags|=65536,r.lanes=a,r):(r===e?r.flags|=65536:(r.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=_o(-1,1),e.tag=2,Dl(t,e,1))),t.lanes|=1),r)}var NM=Bo.ReactCurrentOwner,Za=!1;function La(r,e,t,n){e.child=r===null?F9(e,null,t,n):Hu(e,r.child,t,n)}function hC(r,e,t,n,a){t=t.render;var s=e.ref;return yu(e,a),n=Aw(r,e,t,n,s,a),t=Pw(),r!==null&&!Za?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~a,To(r,e,a)):(Zr&&t&&xw(e),e.flags|=1,La(r,e,n,a),e.child)}function fC(r,e,t,n,a){if(r===null){var s=t.type;return typeof s=="function"&&!zw(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,dj(r,e,s,n,a)):(r=Hm(t.type,null,n,e,e.mode,a),r.ref=e.ref,r.return=e,e.child=r)}if(s=r.child,!(r.lanes&a)){var i=s.memoizedProps;if(t=t.compare,t=t!==null?t:tp,t(i,n)&&r.ref===e.ref)return To(r,e,a)}return e.flags|=1,r=Ml(s,n),r.ref=e.ref,r.return=e,e.child=r}function dj(r,e,t,n,a){if(r!==null){var s=r.memoizedProps;if(tp(s,n)&&r.ref===e.ref)if(Za=!1,e.pendingProps=n=s,(r.lanes&a)!==0)r.flags&131072&&(Za=!0);else return e.lanes=r.lanes,To(r,e,a)}return qy(r,e,t,n,a)}function uj(r,e,t){var n=e.pendingProps,a=n.children,s=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ur(uu,ps),ps|=t;else{if(!(t&1073741824))return r=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,Ur(uu,ps),ps|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:t,Ur(uu,ps),ps|=n}else s!==null?(n=s.baseLanes|t,e.memoizedState=null):n=t,Ur(uu,ps),ps|=n;return La(r,e,a,t),e.child}function hj(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function qy(r,e,t,n,a){var s=es(t)?Yc:Ca.current;return s=Bu(e,s),yu(e,a),t=Aw(r,e,t,n,s,a),n=Pw(),r!==null&&!Za?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~a,To(r,e,a)):(Zr&&n&&xw(e),e.flags|=1,La(r,e,t,a),e.child)}function pC(r,e,t,n,a){if(es(t)){var s=!0;N0(e)}else s=!1;if(yu(e,a),e.stateNode===null)Fm(r,e),oj(e,t,n),$y(e,t,n,a),n=!0;else if(r===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,d=t.contextType;typeof d=="object"&&d!==null?d=Ks(d):(d=es(t)?Yc:Ca.current,d=Bu(e,d));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==d)&&lC(e,i,n,d),fl=!1;var f=e.memoizedState;i.state=f,D0(e,n,i,a),c=e.memoizedState,l!==n||f!==c||Qa.current||fl?(typeof u=="function"&&(Vy(e,t,u,n),c=e.memoizedState),(l=fl||oC(e,t,l,n,f,c,d))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=d,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,z9(r,e),l=e.memoizedProps,d=e.type===e.elementType?l:hi(e.type,l),i.props=d,h=e.pendingProps,f=i.context,c=t.contextType,typeof c=="object"&&c!==null?c=Ks(c):(c=es(t)?Yc:Ca.current,c=Bu(e,c));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||f!==c)&&lC(e,i,n,c),fl=!1,f=e.memoizedState,i.state=f,D0(e,n,i,a);var m=e.memoizedState;l!==h||f!==m||Qa.current||fl?(typeof p=="function"&&(Vy(e,t,p,n),m=e.memoizedState),(d=fl||oC(e,t,d,n,f,m,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===r.memoizedProps&&f===r.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===r.memoizedProps&&f===r.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),i.props=n,i.state=m,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||l===r.memoizedProps&&f===r.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===r.memoizedProps&&f===r.memoizedState||(e.flags|=1024),n=!1)}return Yy(r,e,t,n,s,a)}function Yy(r,e,t,n,a,s){hj(r,e);var i=(e.flags&128)!==0;if(!n&&!i)return a&&Qk(e,t,!1),To(r,e,s);n=e.stateNode,NM.current=e;var l=i&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,r!==null&&i?(e.child=Hu(e,r.child,null,s),e.child=Hu(e,null,l,s)):La(r,e,l,s),e.memoizedState=n.state,a&&Qk(e,t,!0),e.child}function fj(r){var e=r.stateNode;e.pendingContext?Kk(r,e.pendingContext,e.pendingContext!==e.context):e.context&&Kk(r,e.context,!1),jw(r,e.containerInfo)}function gC(r,e,t,n,a){return zu(),bw(a),e.flags|=256,La(r,e,t,n),e.child}var Gy={dehydrated:null,treeContext:null,retryLane:0};function Xy(r){return{baseLanes:r,cachePool:null,transitions:null}}function pj(r,e,t){var n=e.pendingProps,a=rn.current,s=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=r!==null&&r.memoizedState===null?!1:(a&2)!==0),l?(s=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(a|=1),Ur(rn,a&1),r===null)return Hy(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,r=n.fallback,s?(n=e.mode,s=e.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Ux(i,n,0,null),r=Bc(r,n,t,null),s.return=e,r.return=e,s.sibling=r,e.child=s,e.child.memoizedState=Xy(t),e.memoizedState=Gy,r):Tw(e,i));if(a=r.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return EM(r,e,i,n,l,a,t);if(s){s=n.fallback,i=e.mode,a=r.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ml(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Ml(l,s):(s=Bc(s,i,t,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,i=r.child.memoizedState,i=i===null?Xy(t):{baseLanes:i.baseLanes|t,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=r.childLanes&~t,e.memoizedState=Gy,n}return s=r.child,r=s.sibling,n=Ml(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,r!==null&&(t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)),e.child=n,e.memoizedState=null,n}function Tw(r,e){return e=Ux({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function em(r,e,t,n){return n!==null&&bw(n),Hu(e,r.child,null,t),r=Tw(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function EM(r,e,t,n,a,s,i){if(t)return e.flags&256?(e.flags&=-257,n=Ov(Error(ot(422))),em(r,e,i,n)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(s=n.fallback,a=e.mode,n=Ux({mode:"visible",children:n.children},a,0,null),s=Bc(s,a,i,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Hu(e,r.child,null,i),e.child.memoizedState=Xy(i),e.memoizedState=Gy,s);if(!(e.mode&1))return em(r,e,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(ot(419)),n=Ov(s,n,void 0),em(r,e,i,n)}if(l=(i&r.childLanes)!==0,Za||l){if(n=Jn,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Do(r,a),Si(n,r,a,-1))}return Bw(),n=Ov(Error(ot(421))),em(r,e,i,n)}return a.data==="$?"?(e.flags|=128,e.child=r.child,e=HM.bind(null,r),a._reactRetry=e,null):(r=s.treeContext,gs=Ll(a.nextSibling),xs=e,Zr=!0,mi=null,r!==null&&($s[Ws++]=ko,$s[Ws++]=Co,$s[Ws++]=Gc,ko=r.id,Co=r.overflow,Gc=e),e=Tw(e,n.children),e.flags|=4096,e)}function mC(r,e,t){r.lanes|=e;var n=r.alternate;n!==null&&(n.lanes|=e),Uy(r.return,e,t)}function Fv(r,e,t,n,a){var s=r.memoizedState;s===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=t,s.tailMode=a)}function gj(r,e,t){var n=e.pendingProps,a=n.revealOrder,s=n.tail;if(La(r,e,n.children,t),n=rn.current,n&2)n=n&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&mC(r,t,e);else if(r.tag===19)mC(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(Ur(rn,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(t=e.child,a=null;t!==null;)r=t.alternate,r!==null&&T0(r)===null&&(a=t),t=t.sibling;t=a,t===null?(a=e.child,e.child=null):(a=t.sibling,t.sibling=null),Fv(e,!1,a,t,s);break;case"backwards":for(t=null,a=e.child,e.child=null;a!==null;){if(r=a.alternate,r!==null&&T0(r)===null){e.child=a;break}r=a.sibling,a.sibling=t,t=a,a=r}Fv(e,!0,t,null,s);break;case"together":Fv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fm(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function To(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),Zc|=e.lanes,!(t&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(ot(153));if(e.child!==null){for(r=e.child,t=Ml(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=Ml(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function AM(r,e,t){switch(e.tag){case 3:fj(e),zu();break;case 5:H9(e);break;case 1:es(e.type)&&N0(e);break;case 4:jw(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Ur(P0,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ur(rn,rn.current&1),e.flags|=128,null):t&e.child.childLanes?pj(r,e,t):(Ur(rn,rn.current&1),r=To(r,e,t),r!==null?r.sibling:null);Ur(rn,rn.current&1);break;case 19:if(n=(t&e.childLanes)!==0,r.flags&128){if(n)return gj(r,e,t);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ur(rn,rn.current),n)break;return null;case 22:case 23:return e.lanes=0,uj(r,e,t)}return To(r,e,t)}var mj,Zy,xj,vj;mj=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Zy=function(){};xj=function(r,e,t,n){var a=r.memoizedProps;if(a!==n){r=e.stateNode,Dc(Xi.current);var s=null;switch(t){case"input":a=vy(r,a),n=vy(r,n),s=[];break;case"select":a=sn({},a,{value:void 0}),n=sn({},n,{value:void 0}),s=[];break;case"textarea":a=wy(r,a),n=wy(r,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=j0)}Cy(t,n);var i;t=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(i in l)l.hasOwnProperty(i)&&(t||(t={}),t[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Gf.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(t||(t={}),t[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(t||(t={}),t[i]=c[i])}else t||(s||(s=[]),s.push(d,t)),t=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Gf.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Wr("scroll",r),s||l===c||(s=[])):(s=s||[]).push(d,c))}t&&(s=s||[]).push("style",t);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};vj=function(r,e,t,n){t!==n&&(e.flags|=4)};function of(r,e){if(!Zr)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function fa(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,n=0;if(e)for(var a=r.child;a!==null;)t|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=r,a=a.sibling;else for(a=r.child;a!==null;)t|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=r,a=a.sibling;return r.subtreeFlags|=n,r.childLanes=t,e}function PM(r,e,t){var n=e.pendingProps;switch(vw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fa(e),null;case 1:return es(e.type)&&_0(),fa(e),null;case 3:return n=e.stateNode,Uu(),Gr(Qa),Gr(Ca),Nw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(Kg(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mi!==null&&(a2(mi),mi=null))),Zy(r,e),fa(e),null;case 5:_w(e);var a=Dc(ip.current);if(t=e.type,r!==null&&e.stateNode!=null)xj(r,e,t,n,a),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ot(166));return fa(e),null}if(r=Dc(Xi.current),Kg(e)){n=e.stateNode,t=e.type;var s=e.memoizedProps;switch(n[qi]=e,n[ap]=s,r=(e.mode&1)!==0,t){case"dialog":Wr("cancel",n),Wr("close",n);break;case"iframe":case"object":case"embed":Wr("load",n);break;case"video":case"audio":for(a=0;a<kf.length;a++)Wr(kf[a],n);break;case"source":Wr("error",n);break;case"img":case"image":case"link":Wr("error",n),Wr("load",n);break;case"details":Wr("toggle",n);break;case"input":jk(n,s),Wr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Wr("invalid",n);break;case"textarea":Nk(n,s),Wr("invalid",n)}Cy(t,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Jg(n.textContent,l,r),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Jg(n.textContent,l,r),a=["children",""+l]):Gf.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Wr("scroll",n)}switch(t){case"input":Vg(n),_k(n,s,!0);break;case"textarea":Vg(n),Ek(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=j0)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=q7(t)),r==="http://www.w3.org/1999/xhtml"?t==="script"?(r=i.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=i.createElement(t,{is:n.is}):(r=i.createElement(t),t==="select"&&(i=r,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):r=i.createElementNS(r,t),r[qi]=e,r[ap]=n,mj(r,e,!1,!1),e.stateNode=r;e:{switch(i=Sy(t,n),t){case"dialog":Wr("cancel",r),Wr("close",r),a=n;break;case"iframe":case"object":case"embed":Wr("load",r),a=n;break;case"video":case"audio":for(a=0;a<kf.length;a++)Wr(kf[a],r);a=n;break;case"source":Wr("error",r),a=n;break;case"img":case"image":case"link":Wr("error",r),Wr("load",r),a=n;break;case"details":Wr("toggle",r),a=n;break;case"input":jk(r,n),a=vy(r,n),Wr("invalid",r);break;case"option":a=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},a=sn({},n,{value:void 0}),Wr("invalid",r);break;case"textarea":Nk(r,n),a=wy(r,n),Wr("invalid",r);break;default:a=n}Cy(t,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?X7(r,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Y7(r,c)):s==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Xf(r,c):typeof c=="number"&&Xf(r,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Gf.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Wr("scroll",r):c!=null&&nw(r,s,c,i))}switch(t){case"input":Vg(r),_k(r,n,!1);break;case"textarea":Vg(r),Ek(r);break;case"option":n.value!=null&&r.setAttribute("value",""+Bl(n.value));break;case"select":r.multiple=!!n.multiple,s=n.value,s!=null?mu(r,!!n.multiple,s,!1):n.defaultValue!=null&&mu(r,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(r.onclick=j0)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fa(e),null;case 6:if(r&&e.stateNode!=null)vj(r,e,r.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ot(166));if(t=Dc(ip.current),Dc(Xi.current),Kg(e)){if(n=e.stateNode,t=e.memoizedProps,n[qi]=e,(s=n.nodeValue!==t)&&(r=xs,r!==null))switch(r.tag){case 3:Jg(n.nodeValue,t,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Jg(n.nodeValue,t,(r.mode&1)!==0)}s&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[qi]=e,e.stateNode=n}return fa(e),null;case 13:if(Gr(rn),n=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Zr&&gs!==null&&e.mode&1&&!(e.flags&128))I9(),zu(),e.flags|=98560,s=!1;else if(s=Kg(e),n!==null&&n.dehydrated!==null){if(r===null){if(!s)throw Error(ot(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ot(317));s[qi]=e}else zu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fa(e),s=!1}else mi!==null&&(a2(mi),mi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(r===null||rn.current&1?Bn===0&&(Bn=3):Bw())),e.updateQueue!==null&&(e.flags|=4),fa(e),null);case 4:return Uu(),Zy(r,e),r===null&&rp(e.stateNode.containerInfo),fa(e),null;case 10:return kw(e.type._context),fa(e),null;case 17:return es(e.type)&&_0(),fa(e),null;case 19:if(Gr(rn),s=e.memoizedState,s===null)return fa(e),null;if(n=(e.flags&128)!==0,i=s.rendering,i===null)if(n)of(s,!1);else{if(Bn!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(i=T0(r),i!==null){for(e.flags|=128,of(s,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)s=t,r=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,r=i.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return Ur(rn,rn.current&1|2),e.child}r=r.sibling}s.tail!==null&&yn()>$u&&(e.flags|=128,n=!0,of(s,!1),e.lanes=4194304)}else{if(!n)if(r=T0(i),r!==null){if(e.flags|=128,n=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),of(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Zr)return fa(e),null}else 2*yn()-s.renderingStartTime>$u&&t!==1073741824&&(e.flags|=128,n=!0,of(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(t=s.last,t!==null?t.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yn(),e.sibling=null,t=rn.current,Ur(rn,n?t&1|2:t&1),e):(fa(e),null);case 22:case 23:return Fw(),n=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ps&1073741824&&(fa(e),e.subtreeFlags&6&&(e.flags|=8192)):fa(e),null;case 24:return null;case 25:return null}throw Error(ot(156,e.tag))}function LM(r,e){switch(vw(e),e.tag){case 1:return es(e.type)&&_0(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return Uu(),Gr(Qa),Gr(Ca),Nw(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return _w(e),null;case 13:if(Gr(rn),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(ot(340));zu()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return Gr(rn),null;case 4:return Uu(),null;case 10:return kw(e.type._context),null;case 22:case 23:return Fw(),null;case 24:return null;default:return null}}var tm=!1,ba=!1,DM=typeof WeakSet=="function"?WeakSet:Set,_t=null;function du(r,e){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){un(r,e,n)}else t.current=null}function Jy(r,e,t){try{t()}catch(n){un(r,e,n)}}var xC=!1;function TM(r,e){if(Ry=k0,r=C9(),mw(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else e:{t=(t=r.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var i=0,l=-1,c=-1,d=0,u=0,h=r,f=null;t:for(;;){for(var p;h!==t||a!==0&&h.nodeType!==3||(l=i+a),h!==s||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===r)break t;if(f===t&&++d===a&&(l=i),f===s&&++u===n&&(c=i),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=l===-1||c===-1?null:{start:l,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(My={focusedElem:r,selectionRange:t},k0=!1,_t=e;_t!==null;)if(e=_t,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,_t=r;else for(;_t!==null;){e=_t;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:hi(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ot(163))}}catch(C){un(e,e.return,C)}if(r=e.sibling,r!==null){r.return=e.return,_t=r;break}_t=e.return}return m=xC,xC=!1,m}function Rf(r,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&r)===r){var s=a.destroy;a.destroy=void 0,s!==void 0&&Jy(e,t,s)}a=a.next}while(a!==n)}}function zx(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&r)===r){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function Ky(r){var e=r.ref;if(e!==null){var t=r.stateNode;switch(r.tag){case 5:r=t;break;default:r=t}typeof e=="function"?e(r):e.current=r}}function bj(r){var e=r.alternate;e!==null&&(r.alternate=null,bj(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[qi],delete e[ap],delete e[Fy],delete e[gM],delete e[mM])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function yj(r){return r.tag===5||r.tag===3||r.tag===4}function vC(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||yj(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Qy(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=j0));else if(n!==4&&(r=r.child,r!==null))for(Qy(r,e,t),r=r.sibling;r!==null;)Qy(r,e,t),r=r.sibling}function e2(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(e2(r,e,t),r=r.sibling;r!==null;)e2(r,e,t),r=r.sibling}var na=null,pi=!1;function sl(r,e,t){for(t=t.child;t!==null;)wj(r,e,t),t=t.sibling}function wj(r,e,t){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(Dx,t)}catch{}switch(t.tag){case 5:ba||du(t,e);case 6:var n=na,a=pi;na=null,sl(r,e,t),na=n,pi=a,na!==null&&(pi?(r=na,t=t.stateNode,r.nodeType===8?r.parentNode.removeChild(t):r.removeChild(t)):na.removeChild(t.stateNode));break;case 18:na!==null&&(pi?(r=na,t=t.stateNode,r.nodeType===8?Lv(r.parentNode,t):r.nodeType===1&&Lv(r,t),Qf(r)):Lv(na,t.stateNode));break;case 4:n=na,a=pi,na=t.stateNode.containerInfo,pi=!0,sl(r,e,t),na=n,pi=a;break;case 0:case 11:case 14:case 15:if(!ba&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Jy(t,e,i),a=a.next}while(a!==n)}sl(r,e,t);break;case 1:if(!ba&&(du(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(l){un(t,e,l)}sl(r,e,t);break;case 21:sl(r,e,t);break;case 22:t.mode&1?(ba=(n=ba)||t.memoizedState!==null,sl(r,e,t),ba=n):sl(r,e,t);break;default:sl(r,e,t)}}function bC(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new DM),e.forEach(function(n){var a=UM.bind(null,r,n);t.has(n)||(t.add(n),n.then(a,a))})}}function oi(r,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];try{var s=r,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:na=l.stateNode,pi=!1;break e;case 3:na=l.stateNode.containerInfo,pi=!0;break e;case 4:na=l.stateNode.containerInfo,pi=!0;break e}l=l.return}if(na===null)throw Error(ot(160));wj(s,i,a),na=null,pi=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){un(a,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kj(e,r),e=e.sibling}function kj(r,e){var t=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(oi(e,r),Fi(r),n&4){try{Rf(3,r,r.return),zx(3,r)}catch(g){un(r,r.return,g)}try{Rf(5,r,r.return)}catch(g){un(r,r.return,g)}}break;case 1:oi(e,r),Fi(r),n&512&&t!==null&&du(t,t.return);break;case 5:if(oi(e,r),Fi(r),n&512&&t!==null&&du(t,t.return),r.flags&32){var a=r.stateNode;try{Xf(a,"")}catch(g){un(r,r.return,g)}}if(n&4&&(a=r.stateNode,a!=null)){var s=r.memoizedProps,i=t!==null?t.memoizedProps:s,l=r.type,c=r.updateQueue;if(r.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&$7(a,s),Sy(l,i);var d=Sy(l,s);for(i=0;i<c.length;i+=2){var u=c[i],h=c[i+1];u==="style"?X7(a,h):u==="dangerouslySetInnerHTML"?Y7(a,h):u==="children"?Xf(a,h):nw(a,u,h,d)}switch(l){case"input":by(a,s);break;case"textarea":W7(a,s);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?mu(a,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?mu(a,!!s.multiple,s.defaultValue,!0):mu(a,!!s.multiple,s.multiple?[]:"",!1))}a[ap]=s}catch(g){un(r,r.return,g)}}break;case 6:if(oi(e,r),Fi(r),n&4){if(r.stateNode===null)throw Error(ot(162));a=r.stateNode,s=r.memoizedProps;try{a.nodeValue=s}catch(g){un(r,r.return,g)}}break;case 3:if(oi(e,r),Fi(r),n&4&&t!==null&&t.memoizedState.isDehydrated)try{Qf(e.containerInfo)}catch(g){un(r,r.return,g)}break;case 4:oi(e,r),Fi(r);break;case 13:oi(e,r),Fi(r),a=r.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(Iw=yn())),n&4&&bC(r);break;case 22:if(u=t!==null&&t.memoizedState!==null,r.mode&1?(ba=(d=ba)||u,oi(e,r),ba=d):oi(e,r),Fi(r),n&8192){if(d=r.memoizedState!==null,(r.stateNode.isHidden=d)&&!u&&r.mode&1)for(_t=r,u=r.child;u!==null;){for(h=_t=u;_t!==null;){switch(f=_t,p=f.child,f.tag){case 0:case 11:case 14:case 15:Rf(4,f,f.return);break;case 1:du(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,t=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){un(n,t,g)}}break;case 5:du(f,f.return);break;case 22:if(f.memoizedState!==null){wC(h);continue}}p!==null?(p.return=f,_t=p):wC(h)}u=u.sibling}e:for(u=null,h=r;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=G7("display",i))}catch(g){un(r,r.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){un(r,r.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===r)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:oi(e,r),Fi(r),n&4&&bC(r);break;case 21:break;default:oi(e,r),Fi(r)}}function Fi(r){var e=r.flags;if(e&2){try{e:{for(var t=r.return;t!==null;){if(yj(t)){var n=t;break e}t=t.return}throw Error(ot(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Xf(a,""),n.flags&=-33);var s=vC(r);e2(r,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=vC(r);Qy(r,l,i);break;default:throw Error(ot(161))}}catch(c){un(r,r.return,c)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function RM(r,e,t){_t=r,Cj(r)}function Cj(r,e,t){for(var n=(r.mode&1)!==0;_t!==null;){var a=_t,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||tm;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ba;l=tm;var d=ba;if(tm=i,(ba=c)&&!d)for(_t=a;_t!==null;)i=_t,c=i.child,i.tag===22&&i.memoizedState!==null?kC(a):c!==null?(c.return=i,_t=c):kC(a);for(;s!==null;)_t=s,Cj(s),s=s.sibling;_t=a,tm=l,ba=d}yC(r)}else a.subtreeFlags&8772&&s!==null?(s.return=a,_t=s):yC(r)}}function yC(r){for(;_t!==null;){var e=_t;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ba||zx(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ba)if(t===null)n.componentDidMount();else{var a=e.elementType===e.type?t.memoizedProps:hi(e.type,t.memoizedProps);n.componentDidUpdate(a,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&aC(e,s,n);break;case 3:var i=e.updateQueue;if(i!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}aC(e,i,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Qf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ot(163))}ba||e.flags&512&&Ky(e)}catch(f){un(e,e.return,f)}}if(e===r){_t=null;break}if(t=e.sibling,t!==null){t.return=e.return,_t=t;break}_t=e.return}}function wC(r){for(;_t!==null;){var e=_t;if(e===r){_t=null;break}var t=e.sibling;if(t!==null){t.return=e.return,_t=t;break}_t=e.return}}function kC(r){for(;_t!==null;){var e=_t;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{zx(4,e)}catch(c){un(e,t,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){un(e,a,c)}}var s=e.return;try{Ky(e)}catch(c){un(e,s,c)}break;case 5:var i=e.return;try{Ky(e)}catch(c){un(e,i,c)}}}catch(c){un(e,e.return,c)}if(e===r){_t=null;break}var l=e.sibling;if(l!==null){l.return=e.return,_t=l;break}_t=e.return}}var MM=Math.ceil,I0=Bo.ReactCurrentDispatcher,Rw=Bo.ReactCurrentOwner,Xs=Bo.ReactCurrentBatchConfig,pr=0,Jn=null,An=null,ia=0,ps=0,uu=Xl(0),Bn=0,dp=null,Zc=0,Hx=0,Mw=0,Mf=null,Ga=null,Iw=0,$u=1/0,vo=null,O0=!1,t2=null,Tl=null,rm=!1,wl=null,F0=0,If=0,r2=null,Bm=-1,zm=0;function Ta(){return pr&6?yn():Bm!==-1?Bm:Bm=yn()}function Rl(r){return r.mode&1?pr&2&&ia!==0?ia&-ia:vM.transition!==null?(zm===0&&(zm=o9()),zm):(r=Er,r!==0||(r=window.event,r=r===void 0?16:p9(r.type)),r):1}function Si(r,e,t,n){if(50<If)throw If=0,r2=null,Error(ot(185));Pp(r,t,n),(!(pr&2)||r!==Jn)&&(r===Jn&&(!(pr&2)&&(Hx|=t),Bn===4&&xl(r,ia)),ts(r,n),t===1&&pr===0&&!(e.mode&1)&&($u=yn()+500,Ox&&Zl()))}function ts(r,e){var t=r.callbackNode;vR(r,e);var n=w0(r,r===Jn?ia:0);if(n===0)t!==null&&Lk(t),r.callbackNode=null,r.callbackPriority=0;else if(e=n&-n,r.callbackPriority!==e){if(t!=null&&Lk(t),e===1)r.tag===0?xM(CC.bind(null,r)):T9(CC.bind(null,r)),fM(function(){!(pr&6)&&Zl()}),t=null;else{switch(l9(n)){case 1:t=lw;break;case 4:t=s9;break;case 16:t=y0;break;case 536870912:t=i9;break;default:t=y0}t=Lj(t,Sj.bind(null,r))}r.callbackPriority=e,r.callbackNode=t}}function Sj(r,e){if(Bm=-1,zm=0,pr&6)throw Error(ot(327));var t=r.callbackNode;if(wu()&&r.callbackNode!==t)return null;var n=w0(r,r===Jn?ia:0);if(n===0)return null;if(n&30||n&r.expiredLanes||e)e=B0(r,n);else{e=n;var a=pr;pr|=2;var s=_j();(Jn!==r||ia!==e)&&(vo=null,$u=yn()+500,Fc(r,e));do try{FM();break}catch(l){jj(r,l)}while(!0);ww(),I0.current=s,pr=a,An!==null?e=0:(Jn=null,ia=0,e=Bn)}if(e!==0){if(e===2&&(a=Ay(r),a!==0&&(n=a,e=n2(r,a))),e===1)throw t=dp,Fc(r,0),xl(r,n),ts(r,yn()),t;if(e===6)xl(r,n);else{if(a=r.current.alternate,!(n&30)&&!IM(a)&&(e=B0(r,n),e===2&&(s=Ay(r),s!==0&&(n=s,e=n2(r,s))),e===1))throw t=dp,Fc(r,0),xl(r,n),ts(r,yn()),t;switch(r.finishedWork=a,r.finishedLanes=n,e){case 0:case 1:throw Error(ot(345));case 2:mc(r,Ga,vo);break;case 3:if(xl(r,n),(n&130023424)===n&&(e=Iw+500-yn(),10<e)){if(w0(r,0)!==0)break;if(a=r.suspendedLanes,(a&n)!==n){Ta(),r.pingedLanes|=r.suspendedLanes&a;break}r.timeoutHandle=Oy(mc.bind(null,r,Ga,vo),e);break}mc(r,Ga,vo);break;case 4:if(xl(r,n),(n&4194240)===n)break;for(e=r.eventTimes,a=-1;0<n;){var i=31-Ci(n);s=1<<i,i=e[i],i>a&&(a=i),n&=~s}if(n=a,n=yn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*MM(n/1960))-n,10<n){r.timeoutHandle=Oy(mc.bind(null,r,Ga,vo),n);break}mc(r,Ga,vo);break;case 5:mc(r,Ga,vo);break;default:throw Error(ot(329))}}}return ts(r,yn()),r.callbackNode===t?Sj.bind(null,r):null}function n2(r,e){var t=Mf;return r.current.memoizedState.isDehydrated&&(Fc(r,e).flags|=256),r=B0(r,e),r!==2&&(e=Ga,Ga=t,e!==null&&a2(e)),r}function a2(r){Ga===null?Ga=r:Ga.push.apply(Ga,r)}function IM(r){for(var e=r;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var a=t[n],s=a.getSnapshot;a=a.value;try{if(!_i(s(),a))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xl(r,e){for(e&=~Mw,e&=~Hx,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-Ci(e),n=1<<t;r[t]=-1,e&=~n}}function CC(r){if(pr&6)throw Error(ot(327));wu();var e=w0(r,0);if(!(e&1))return ts(r,yn()),null;var t=B0(r,e);if(r.tag!==0&&t===2){var n=Ay(r);n!==0&&(e=n,t=n2(r,n))}if(t===1)throw t=dp,Fc(r,0),xl(r,e),ts(r,yn()),t;if(t===6)throw Error(ot(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,mc(r,Ga,vo),ts(r,yn()),null}function Ow(r,e){var t=pr;pr|=1;try{return r(e)}finally{pr=t,pr===0&&($u=yn()+500,Ox&&Zl())}}function Jc(r){wl!==null&&wl.tag===0&&!(pr&6)&&wu();var e=pr;pr|=1;var t=Xs.transition,n=Er;try{if(Xs.transition=null,Er=1,r)return r()}finally{Er=n,Xs.transition=t,pr=e,!(pr&6)&&Zl()}}function Fw(){ps=uu.current,Gr(uu)}function Fc(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,hM(t)),An!==null)for(t=An.return;t!==null;){var n=t;switch(vw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&_0();break;case 3:Uu(),Gr(Qa),Gr(Ca),Nw();break;case 5:_w(n);break;case 4:Uu();break;case 13:Gr(rn);break;case 19:Gr(rn);break;case 10:kw(n.type._context);break;case 22:case 23:Fw()}t=t.return}if(Jn=r,An=r=Ml(r.current,null),ia=ps=e,Bn=0,dp=null,Mw=Hx=Zc=0,Ga=Mf=null,Lc!==null){for(e=0;e<Lc.length;e++)if(t=Lc[e],n=t.interleaved,n!==null){t.interleaved=null;var a=n.next,s=t.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}t.pending=n}Lc=null}return r}function jj(r,e){do{var t=An;try{if(ww(),Im.current=M0,R0){for(var n=an.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}R0=!1}if(Xc=0,Yn=On=an=null,Tf=!1,op=0,Rw.current=null,t===null||t.return===null){Bn=1,dp=e,An=null;break}e:{var s=r,i=t.return,l=t,c=e;if(e=ia,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=dC(i);if(p!==null){p.flags&=-257,uC(p,i,l,s,e),p.mode&1&&cC(s,d,e),e=p,c=d;var m=e.updateQueue;if(m===null){var g=new Set;g.add(c),e.updateQueue=g}else m.add(c);break e}else{if(!(e&1)){cC(s,d,e),Bw();break e}c=Error(ot(426))}}else if(Zr&&l.mode&1){var v=dC(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),uC(v,i,l,s,e),bw(Vu(c,l));break e}}s=c=Vu(c,l),Bn!==4&&(Bn=2),Mf===null?Mf=[s]:Mf.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=lj(s,c,e);nC(s,x);break e;case 1:l=c;var b=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Tl===null||!Tl.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=cj(s,l,e);nC(s,C);break e}}s=s.return}while(s!==null)}Ej(t)}catch(S){e=S,An===t&&t!==null&&(An=t=t.return);continue}break}while(!0)}function _j(){var r=I0.current;return I0.current=M0,r===null?M0:r}function Bw(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),Jn===null||!(Zc&268435455)&&!(Hx&268435455)||xl(Jn,ia)}function B0(r,e){var t=pr;pr|=2;var n=_j();(Jn!==r||ia!==e)&&(vo=null,Fc(r,e));do try{OM();break}catch(a){jj(r,a)}while(!0);if(ww(),pr=t,I0.current=n,An!==null)throw Error(ot(261));return Jn=null,ia=0,Bn}function OM(){for(;An!==null;)Nj(An)}function FM(){for(;An!==null&&!cR();)Nj(An)}function Nj(r){var e=Pj(r.alternate,r,ps);r.memoizedProps=r.pendingProps,e===null?Ej(r):An=e,Rw.current=null}function Ej(r){var e=r;do{var t=e.alternate;if(r=e.return,e.flags&32768){if(t=LM(t,e),t!==null){t.flags&=32767,An=t;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Bn=6,An=null;return}}else if(t=PM(t,e,ps),t!==null){An=t;return}if(e=e.sibling,e!==null){An=e;return}An=e=r}while(e!==null);Bn===0&&(Bn=5)}function mc(r,e,t){var n=Er,a=Xs.transition;try{Xs.transition=null,Er=1,BM(r,e,t,n)}finally{Xs.transition=a,Er=n}return null}function BM(r,e,t,n){do wu();while(wl!==null);if(pr&6)throw Error(ot(327));t=r.finishedWork;var a=r.finishedLanes;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(ot(177));r.callbackNode=null,r.callbackPriority=0;var s=t.lanes|t.childLanes;if(bR(r,s),r===Jn&&(An=Jn=null,ia=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||rm||(rm=!0,Lj(y0,function(){return wu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Xs.transition,Xs.transition=null;var i=Er;Er=1;var l=pr;pr|=4,Rw.current=null,TM(r,t),kj(t,r),sM(My),k0=!!Ry,My=Ry=null,r.current=t,RM(t),dR(),pr=l,Er=i,Xs.transition=s}else r.current=t;if(rm&&(rm=!1,wl=r,F0=a),s=r.pendingLanes,s===0&&(Tl=null),fR(t.stateNode),ts(r,yn()),e!==null)for(n=r.onRecoverableError,t=0;t<e.length;t++)a=e[t],n(a.value,{componentStack:a.stack,digest:a.digest});if(O0)throw O0=!1,r=t2,t2=null,r;return F0&1&&r.tag!==0&&wu(),s=r.pendingLanes,s&1?r===r2?If++:(If=0,r2=r):If=0,Zl(),null}function wu(){if(wl!==null){var r=l9(F0),e=Xs.transition,t=Er;try{if(Xs.transition=null,Er=16>r?16:r,wl===null)var n=!1;else{if(r=wl,wl=null,F0=0,pr&6)throw Error(ot(331));var a=pr;for(pr|=4,_t=r.current;_t!==null;){var s=_t,i=s.child;if(_t.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(_t=d;_t!==null;){var u=_t;switch(u.tag){case 0:case 11:case 15:Rf(8,u,s)}var h=u.child;if(h!==null)h.return=u,_t=h;else for(;_t!==null;){u=_t;var f=u.sibling,p=u.return;if(bj(u),u===d){_t=null;break}if(f!==null){f.return=p,_t=f;break}_t=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}_t=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,_t=i;else e:for(;_t!==null;){if(s=_t,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Rf(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,_t=x;break e}_t=s.return}}var b=r.current;for(_t=b;_t!==null;){i=_t;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,_t=y;else e:for(i=b;_t!==null;){if(l=_t,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zx(9,l)}}catch(S){un(l,l.return,S)}if(l===i){_t=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,_t=C;break e}_t=l.return}}if(pr=a,Zl(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(Dx,r)}catch{}n=!0}return n}finally{Er=t,Xs.transition=e}}return!1}function SC(r,e,t){e=Vu(t,e),e=lj(r,e,1),r=Dl(r,e,1),e=Ta(),r!==null&&(Pp(r,1,e),ts(r,e))}function un(r,e,t){if(r.tag===3)SC(r,r,t);else for(;e!==null;){if(e.tag===3){SC(e,r,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Tl===null||!Tl.has(n))){r=Vu(t,r),r=cj(e,r,1),e=Dl(e,r,1),r=Ta(),e!==null&&(Pp(e,1,r),ts(e,r));break}}e=e.return}}function zM(r,e,t){var n=r.pingCache;n!==null&&n.delete(e),e=Ta(),r.pingedLanes|=r.suspendedLanes&t,Jn===r&&(ia&t)===t&&(Bn===4||Bn===3&&(ia&130023424)===ia&&500>yn()-Iw?Fc(r,0):Mw|=t),ts(r,e)}function Aj(r,e){e===0&&(r.mode&1?(e=qg,qg<<=1,!(qg&130023424)&&(qg=4194304)):e=1);var t=Ta();r=Do(r,e),r!==null&&(Pp(r,e,t),ts(r,t))}function HM(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),Aj(r,t)}function UM(r,e){var t=0;switch(r.tag){case 13:var n=r.stateNode,a=r.memoizedState;a!==null&&(t=a.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(ot(314))}n!==null&&n.delete(e),Aj(r,t)}var Pj;Pj=function(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps||Qa.current)Za=!0;else{if(!(r.lanes&t)&&!(e.flags&128))return Za=!1,AM(r,e,t);Za=!!(r.flags&131072)}else Za=!1,Zr&&e.flags&1048576&&R9(e,A0,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Fm(r,e),r=e.pendingProps;var a=Bu(e,Ca.current);yu(e,t),a=Aw(null,e,n,r,a,t);var s=Pw();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,es(n)?(s=!0,N0(e)):s=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Sw(e),a.updater=Bx,e.stateNode=a,a._reactInternals=e,$y(e,n,r,t),e=Yy(null,e,n,!0,s,t)):(e.tag=0,Zr&&s&&xw(e),La(null,e,a,t),e=e.child),e;case 16:n=e.elementType;e:{switch(Fm(r,e),r=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=$M(n),r=hi(n,r),a){case 0:e=qy(null,e,n,r,t);break e;case 1:e=pC(null,e,n,r,t);break e;case 11:e=hC(null,e,n,r,t);break e;case 14:e=fC(null,e,n,hi(n.type,r),t);break e}throw Error(ot(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:hi(n,a),qy(r,e,n,a,t);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:hi(n,a),pC(r,e,n,a,t);case 3:e:{if(fj(e),r===null)throw Error(ot(387));n=e.pendingProps,s=e.memoizedState,a=s.element,z9(r,e),D0(e,n,null,t);var i=e.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){a=Vu(Error(ot(423)),e),e=gC(r,e,n,t,a);break e}else if(n!==a){a=Vu(Error(ot(424)),e),e=gC(r,e,n,t,a);break e}else for(gs=Ll(e.stateNode.containerInfo.firstChild),xs=e,Zr=!0,mi=null,t=F9(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(zu(),n===a){e=To(r,e,t);break e}La(r,e,n,t)}e=e.child}return e;case 5:return H9(e),r===null&&Hy(e),n=e.type,a=e.pendingProps,s=r!==null?r.memoizedProps:null,i=a.children,Iy(n,a)?i=null:s!==null&&Iy(n,s)&&(e.flags|=32),hj(r,e),La(r,e,i,t),e.child;case 6:return r===null&&Hy(e),null;case 13:return pj(r,e,t);case 4:return jw(e,e.stateNode.containerInfo),n=e.pendingProps,r===null?e.child=Hu(e,null,n,t):La(r,e,n,t),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:hi(n,a),hC(r,e,n,a,t);case 7:return La(r,e,e.pendingProps,t),e.child;case 8:return La(r,e,e.pendingProps.children,t),e.child;case 12:return La(r,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,s=e.memoizedProps,i=a.value,Ur(P0,n._currentValue),n._currentValue=i,s!==null)if(_i(s.value,i)){if(s.children===a.children&&!Qa.current){e=To(r,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=_o(-1,t&-t),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=t,c=s.alternate,c!==null&&(c.lanes|=t),Uy(s.return,t,e),l.lanes|=t;break}c=c.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(ot(341));i.lanes|=t,l=i.alternate,l!==null&&(l.lanes|=t),Uy(i,t,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}La(r,e,a.children,t),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,yu(e,t),a=Ks(a),n=n(a),e.flags|=1,La(r,e,n,t),e.child;case 14:return n=e.type,a=hi(n,e.pendingProps),a=hi(n.type,a),fC(r,e,n,a,t);case 15:return dj(r,e,e.type,e.pendingProps,t);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:hi(n,a),Fm(r,e),e.tag=1,es(n)?(r=!0,N0(e)):r=!1,yu(e,t),oj(e,n,a),$y(e,n,a,t),Yy(null,e,n,!0,r,t);case 19:return gj(r,e,t);case 22:return uj(r,e,t)}throw Error(ot(156,e.tag))};function Lj(r,e){return a9(r,e)}function VM(r,e,t,n){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ys(r,e,t,n){return new VM(r,e,t,n)}function zw(r){return r=r.prototype,!(!r||!r.isReactComponent)}function $M(r){if(typeof r=="function")return zw(r)?1:0;if(r!=null){if(r=r.$$typeof,r===sw)return 11;if(r===iw)return 14}return 2}function Ml(r,e){var t=r.alternate;return t===null?(t=Ys(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&14680064,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function Hm(r,e,t,n,a,s){var i=2;if(n=r,typeof r=="function")zw(r)&&(i=1);else if(typeof r=="string")i=5;else e:switch(r){case tu:return Bc(t.children,a,s,e);case aw:i=8,a|=8;break;case py:return r=Ys(12,t,e,a|2),r.elementType=py,r.lanes=s,r;case gy:return r=Ys(13,t,e,a),r.elementType=gy,r.lanes=s,r;case my:return r=Ys(19,t,e,a),r.elementType=my,r.lanes=s,r;case H7:return Ux(t,a,s,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case B7:i=10;break e;case z7:i=9;break e;case sw:i=11;break e;case iw:i=14;break e;case hl:i=16,n=null;break e}throw Error(ot(130,r==null?r:typeof r,""))}return e=Ys(i,t,e,a),e.elementType=r,e.type=n,e.lanes=s,e}function Bc(r,e,t,n){return r=Ys(7,r,n,e),r.lanes=t,r}function Ux(r,e,t,n){return r=Ys(22,r,n,e),r.elementType=H7,r.lanes=t,r.stateNode={isHidden:!1},r}function Bv(r,e,t){return r=Ys(6,r,null,e),r.lanes=t,r}function zv(r,e,t){return e=Ys(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function WM(r,e,t,n,a){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yv(0),this.expirationTimes=yv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yv(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Hw(r,e,t,n,a,s,i,l,c){return r=new WM(r,e,t,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ys(3,null,null,e),r.current=s,s.stateNode=r,s.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sw(s),r}function qM(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eu,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}function Dj(r){if(!r)return zl;r=r._reactInternals;e:{if(id(r)!==r||r.tag!==1)throw Error(ot(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(es(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ot(171))}if(r.tag===1){var t=r.type;if(es(t))return D9(r,t,e)}return e}function Tj(r,e,t,n,a,s,i,l,c){return r=Hw(t,n,!0,r,a,s,i,l,c),r.context=Dj(null),t=r.current,n=Ta(),a=Rl(t),s=_o(n,a),s.callback=e??null,Dl(t,s,a),r.current.lanes=a,Pp(r,a,n),ts(r,n),r}function Vx(r,e,t,n){var a=e.current,s=Ta(),i=Rl(a);return t=Dj(t),e.context===null?e.context=t:e.pendingContext=t,e=_o(s,i),e.payload={element:r},n=n===void 0?null:n,n!==null&&(e.callback=n),r=Dl(a,e,i),r!==null&&(Si(r,a,i,s),Mm(r,a,i)),i}function z0(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function jC(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function Uw(r,e){jC(r,e),(r=r.alternate)&&jC(r,e)}function YM(){return null}var Rj=typeof reportError=="function"?reportError:function(r){console.error(r)};function Vw(r){this._internalRoot=r}$x.prototype.render=Vw.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(ot(409));Vx(r,e,null,null)};$x.prototype.unmount=Vw.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;Jc(function(){Vx(null,r,null,null)}),e[Lo]=null}};function $x(r){this._internalRoot=r}$x.prototype.unstable_scheduleHydration=function(r){if(r){var e=u9();r={blockedOn:null,target:r,priority:e};for(var t=0;t<ml.length&&e!==0&&e<ml[t].priority;t++);ml.splice(t,0,r),t===0&&f9(r)}};function $w(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Wx(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function _C(){}function GM(r,e,t,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var d=z0(i);s.call(d)}}var i=Tj(e,n,r,0,null,!1,!1,"",_C);return r._reactRootContainer=i,r[Lo]=i.current,rp(r.nodeType===8?r.parentNode:r),Jc(),i}for(;a=r.lastChild;)r.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=z0(c);l.call(d)}}var c=Hw(r,0,!1,null,null,!1,!1,"",_C);return r._reactRootContainer=c,r[Lo]=c.current,rp(r.nodeType===8?r.parentNode:r),Jc(function(){Vx(e,c,t,n)}),c}function qx(r,e,t,n,a){var s=t._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=z0(i);l.call(c)}}Vx(e,i,r,a)}else i=GM(t,e,r,a,n);return z0(i)}c9=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var t=wf(e.pendingLanes);t!==0&&(cw(e,t|1),ts(e,yn()),!(pr&6)&&($u=yn()+500,Zl()))}break;case 13:Jc(function(){var n=Do(r,1);if(n!==null){var a=Ta();Si(n,r,1,a)}}),Uw(r,1)}};dw=function(r){if(r.tag===13){var e=Do(r,134217728);if(e!==null){var t=Ta();Si(e,r,134217728,t)}Uw(r,134217728)}};d9=function(r){if(r.tag===13){var e=Rl(r),t=Do(r,e);if(t!==null){var n=Ta();Si(t,r,e,n)}Uw(r,e)}};u9=function(){return Er};h9=function(r,e){var t=Er;try{return Er=r,e()}finally{Er=t}};_y=function(r,e,t){switch(e){case"input":if(by(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==r&&n.form===r.form){var a=Ix(n);if(!a)throw Error(ot(90));V7(n),by(n,a)}}}break;case"textarea":W7(r,t);break;case"select":e=t.value,e!=null&&mu(r,!!t.multiple,e,!1)}};K7=Ow;Q7=Jc;var XM={usingClientEntryPoint:!1,Events:[Dp,su,Ix,Z7,J7,Ow]},lf={findFiberByHostInstance:Pc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZM={bundleType:lf.bundleType,version:lf.version,rendererPackageName:lf.rendererPackageName,rendererConfig:lf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bo.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=r9(r),r===null?null:r.stateNode},findFiberByHostInstance:lf.findFiberByHostInstance||YM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nm.isDisabled&&nm.supportsFiber)try{Dx=nm.inject(ZM),Gi=nm}catch{}}Cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XM;Cs.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$w(e))throw Error(ot(200));return qM(r,e,null,t)};Cs.createRoot=function(r,e){if(!$w(r))throw Error(ot(299));var t=!1,n="",a=Rj;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Hw(r,1,!1,null,null,t,!1,n,a),r[Lo]=e.current,rp(r.nodeType===8?r.parentNode:r),new Vw(e)};Cs.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(ot(188)):(r=Object.keys(r).join(","),Error(ot(268,r)));return r=r9(e),r=r===null?null:r.stateNode,r};Cs.flushSync=function(r){return Jc(r)};Cs.hydrate=function(r,e,t){if(!Wx(e))throw Error(ot(200));return qx(null,r,e,!0,t)};Cs.hydrateRoot=function(r,e,t){if(!$w(r))throw Error(ot(405));var n=t!=null&&t.hydratedSources||null,a=!1,s="",i=Rj;if(t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),e=Tj(e,null,r,1,t??null,a,!1,s,i),r[Lo]=e.current,rp(r),n)for(r=0;r<n.length;r++)t=n[r],a=t._getVersion,a=a(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,a]:e.mutableSourceEagerHydrationData.push(t,a);return new $x(e)};Cs.render=function(r,e,t){if(!Wx(e))throw Error(ot(200));return qx(null,r,e,!1,t)};Cs.unmountComponentAtNode=function(r){if(!Wx(r))throw Error(ot(40));return r._reactRootContainer?(Jc(function(){qx(null,null,r,!1,function(){r._reactRootContainer=null,r[Lo]=null})}),!0):!1};Cs.unstable_batchedUpdates=Ow;Cs.unstable_renderSubtreeIntoContainer=function(r,e,t,n){if(!Wx(t))throw Error(ot(200));if(r==null||r._reactInternals===void 0)throw Error(ot(38));return qx(r,e,t,!1,n)};Cs.version="18.3.1-next-f1338f8080-20240426";function Mj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mj)}catch(r){console.error(r)}}Mj(),M7.exports=Cs;var xi=M7.exports,Ij,NC=xi;Ij=NC.createRoot,NC.hydrateRoot;var Ww={};Object.defineProperty(Ww,"__esModule",{value:!0});Ww.parse=nI;Ww.serialize=aI;const JM=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,KM=/^[\u0021-\u003A\u003C-\u007E]*$/,QM=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,eI=/^[\u0020-\u003A\u003D-\u007E]*$/,tI=Object.prototype.toString,rI=(()=>{const r=function(){};return r.prototype=Object.create(null),r})();function nI(r,e){const t=new rI,n=r.length;if(n<2)return t;const a=(e==null?void 0:e.decode)||sI;let s=0;do{const i=r.indexOf("=",s);if(i===-1)break;const l=r.indexOf(";",s),c=l===-1?n:l;if(i>c){s=r.lastIndexOf(";",i-1)+1;continue}const d=EC(r,s,i),u=AC(r,i,d),h=r.slice(d,u);if(t[h]===void 0){let f=EC(r,i+1,c),p=AC(r,c,f);const m=a(r.slice(f,p));t[h]=m}s=c+1}while(s<n);return t}function EC(r,e,t){do{const n=r.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<t);return t}function AC(r,e,t){for(;e>t;){const n=r.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return t}function aI(r,e,t){const n=(t==null?void 0:t.encode)||encodeURIComponent;if(!JM.test(r))throw new TypeError(`argument name is invalid: ${r}`);const a=n(e);if(!KM.test(a))throw new TypeError(`argument val is invalid: ${e}`);let s=r+"="+a;if(!t)return s;if(t.maxAge!==void 0){if(!Number.isInteger(t.maxAge))throw new TypeError(`option maxAge is invalid: ${t.maxAge}`);s+="; Max-Age="+t.maxAge}if(t.domain){if(!QM.test(t.domain))throw new TypeError(`option domain is invalid: ${t.domain}`);s+="; Domain="+t.domain}if(t.path){if(!eI.test(t.path))throw new TypeError(`option path is invalid: ${t.path}`);s+="; Path="+t.path}if(t.expires){if(!iI(t.expires)||!Number.isFinite(t.expires.valueOf()))throw new TypeError(`option expires is invalid: ${t.expires}`);s+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(s+="; HttpOnly"),t.secure&&(s+="; Secure"),t.partitioned&&(s+="; Partitioned"),t.priority)switch(typeof t.priority=="string"?t.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${t.priority}`)}if(t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${t.sameSite}`)}return s}function sI(r){if(r.indexOf("%")===-1)return r;try{return decodeURIComponent(r)}catch{return r}}function iI(r){return tI.call(r)==="[object Date]"}/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PC="popstate";function oI(r={}){function e(n,a){let{pathname:s,search:i,hash:l}=n.location;return s2("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(n,a){return typeof a=="string"?a:up(a)}return cI(e,t,null,r)}function Kr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ni(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lI(){return Math.random().toString(36).substring(2,10)}function LC(r,e){return{usr:r.state,key:r.key,idx:e}}function s2(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?oh(e):e,state:t,key:e&&e.key||n||lI()}}function up({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function oh(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function cI(r,e,t,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l="POP",c=null,d=u();d==null&&(d=0,i.replaceState({...i.state,idx:d},""));function u(){return(i.state||{idx:null}).idx}function h(){l="POP";let v=u(),x=v==null?null:v-d;d=v,c&&c({action:l,location:g.location,delta:x})}function f(v,x){l="PUSH";let b=s2(g.location,v,x);d=u()+1;let y=LC(b,d),C=g.createHref(b);try{i.pushState(y,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(C)}s&&c&&c({action:l,location:g.location,delta:1})}function p(v,x){l="REPLACE";let b=s2(g.location,v,x);d=u();let y=LC(b,d),C=g.createHref(b);i.replaceState(y,"",C),s&&c&&c({action:l,location:g.location,delta:0})}function m(v){let x=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:up(v);return b=b.replace(/ $/,"%20"),Kr(x,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,x)}let g={get action(){return l},get location(){return r(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(PC,h),c=v,()=>{a.removeEventListener(PC,h),c=null}},createHref(v){return e(a,v)},createURL:m,encodeLocation(v){let x=m(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(v){return i.go(v)}};return g}function Oj(r,e,t="/"){return dI(r,e,t,!1)}function dI(r,e,t,n){let a=typeof e=="string"?oh(e):e,s=Ro(a.pathname||"/",t);if(s==null)return null;let i=Fj(r);uI(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=kI(s);l=yI(i[c],d,n)}return l}function Fj(r,e=[],t=[],n=""){let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(Kr(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let d=No([n,c.relativePath]),u=t.concat(c);s.children&&s.children.length>0&&(Kr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Fj(s.children,e,u,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:vI(d,s.index),routesMeta:u})};return r.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of Bj(s.path))a(s,i,c)}),e}function Bj(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=Bj(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>r.startsWith("/")&&c===""?"/":c)}function uI(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:bI(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var hI=/^:[\w-]+$/,fI=3,pI=2,gI=1,mI=10,xI=-2,DC=r=>r==="*";function vI(r,e){let t=r.split("/"),n=t.length;return t.some(DC)&&(n+=xI),e&&(n+=pI),t.filter(a=>!DC(a)).reduce((a,s)=>a+(hI.test(s)?fI:s===""?gI:mI),n)}function bI(r,e){return r.length===e.length&&r.slice(0,-1).every((n,a)=>n===e[a])?r[r.length-1]-e[e.length-1]:0}function yI(r,e,t=!1){let{routesMeta:n}=r,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=H0({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&t&&!n[n.length-1].route.index&&(h=H0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),i.push({params:a,pathname:No([s,h.pathname]),pathnameBase:_I(No([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=No([s,h.pathnameBase]))}return i}function H0(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=wI(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,{paramName:u,isOptional:h},f)=>{if(u==="*"){let m=l[f]||"";i=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=l[f];return h&&!p?d[u]=void 0:d[u]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:i,pattern:r}}function wI(r,e=!1,t=!0){Ni(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function kI(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ni(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ro(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function CI(r,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof r=="string"?oh(r):r;return{pathname:t?t.startsWith("/")?t:SI(t,e):e,search:NI(n),hash:EI(a)}}function SI(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Hv(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jI(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qw(r){let e=jI(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Yw(r,e,t,n=!1){let a;typeof r=="string"?a=oh(r):(a={...r},Kr(!a.pathname||!a.pathname.includes("?"),Hv("?","pathname","search",a)),Kr(!a.pathname||!a.pathname.includes("#"),Hv("#","pathname","hash",a)),Kr(!a.search||!a.search.includes("#"),Hv("#","search","hash",a)));let s=r===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=t;else{let h=e.length-1;if(!n&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=CI(a,l),d=i&&i!=="/"&&i.endsWith("/"),u=(s||i===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var No=r=>r.join("/").replace(/\/\/+/g,"/"),_I=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),NI=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,EI=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function AI(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var zj=["POST","PUT","PATCH","DELETE"];new Set(zj);var PI=["GET",...zj];new Set(PI);var lh=w.createContext(null);lh.displayName="DataRouter";var Yx=w.createContext(null);Yx.displayName="DataRouterState";var Hj=w.createContext({isTransitioning:!1});Hj.displayName="ViewTransition";var LI=w.createContext(new Map);LI.displayName="Fetchers";var DI=w.createContext(null);DI.displayName="Await";var Ai=w.createContext(null);Ai.displayName="Navigation";var Rp=w.createContext(null);Rp.displayName="Location";var ei=w.createContext({outlet:null,matches:[],isDataRoute:!1});ei.displayName="Route";var Gw=w.createContext(null);Gw.displayName="RouteError";function TI(r,{relative:e}={}){Kr(ch(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=w.useContext(Ai),{hash:a,pathname:s,search:i}=Mp(r,{relative:e}),l=s;return t!=="/"&&(l=s==="/"?t:No([t,s])),n.createHref({pathname:l,search:i,hash:a})}function ch(){return w.useContext(Rp)!=null}function Pn(){return Kr(ch(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Rp).location}var Uj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vj(r){w.useContext(Ai).static||w.useLayoutEffect(r)}function mr(){let{isDataRoute:r}=w.useContext(ei);return r?GI():RI()}function RI(){Kr(ch(),"useNavigate() may be used only in the context of a <Router> component.");let r=w.useContext(lh),{basename:e,navigator:t}=w.useContext(Ai),{matches:n}=w.useContext(ei),{pathname:a}=Pn(),s=JSON.stringify(qw(n)),i=w.useRef(!1);return Vj(()=>{i.current=!0}),w.useCallback((c,d={})=>{if(Ni(i.current,Uj),!i.current)return;if(typeof c=="number"){t.go(c);return}let u=Yw(c,JSON.parse(s),a,d.relative==="path");r==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:No([e,u.pathname])),(d.replace?t.replace:t.push)(u,d.state,d)},[e,t,s,a,r])}var MI=w.createContext(null);function II(r){let e=w.useContext(ei).outlet;return e&&w.createElement(MI.Provider,{value:r},e)}function zo(){let{matches:r}=w.useContext(ei),e=r[r.length-1];return e?e.params:{}}function Mp(r,{relative:e}={}){let{matches:t}=w.useContext(ei),{pathname:n}=Pn(),a=JSON.stringify(qw(t));return w.useMemo(()=>Yw(r,JSON.parse(a),n,e==="path"),[r,a,n,e])}function OI(r,e){return $j(r,e)}function $j(r,e,t,n){var b;Kr(ch(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:s}=w.useContext(Ai),{matches:i}=w.useContext(ei),l=i[i.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let y=h&&h.path||"";Wj(d,!h||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=Pn(),p;if(e){let y=typeof e=="string"?oh(e):e;Kr(u==="/"||((b=y.pathname)==null?void 0:b.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${y.pathname}" was given in the \`location\` prop.`),p=y}else p=f;let m=p.pathname||"/",g=m;if(u!=="/"){let y=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=!s&&t&&t.matches&&t.matches.length>0?t.matches:Oj(r,{pathname:g});Ni(h||v!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Ni(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=UI(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:No([u,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:No([u,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,t,n);return e&&x?w.createElement(Rp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},x):x}function FI(){let r=YI(),e=AI(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",r),i=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:s},"ErrorBoundary")," or"," ",w.createElement("code",{style:s},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:a},t):null,i)}var BI=w.createElement(FI,null),zI=class extends w.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?w.createElement(ei.Provider,{value:this.props.routeContext},w.createElement(Gw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HI({routeContext:r,match:e,children:t}){let n=w.useContext(lh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(ei.Provider,{value:r},t)}function UI(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,s=t==null?void 0:t.errors;if(s!=null){let c=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Kr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let i=!1,l=-1;if(t)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:u,errors:h}=t,f=d.route.loader&&!u.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||f){i=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,d,u)=>{let h,f=!1,p=null,m=null;t&&(h=s&&d.route.id?s[d.route.id]:void 0,p=d.route.errorElement||BI,i&&(l<0&&u===0?(Wj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,m=null):l===u&&(f=!0,m=d.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,u+1)),v=()=>{let x;return h?x=p:f?x=m:d.route.Component?x=w.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=c,w.createElement(HI,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:t!=null},children:x})};return t&&(d.route.ErrorBoundary||d.route.errorElement||u===0)?w.createElement(zI,{location:t.location,revalidation:t.revalidation,component:p,error:h,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}function Xw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VI(r){let e=w.useContext(lh);return Kr(e,Xw(r)),e}function $I(r){let e=w.useContext(Yx);return Kr(e,Xw(r)),e}function WI(r){let e=w.useContext(ei);return Kr(e,Xw(r)),e}function Zw(r){let e=WI(r),t=e.matches[e.matches.length-1];return Kr(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function qI(){return Zw("useRouteId")}function YI(){var n;let r=w.useContext(Gw),e=$I("useRouteError"),t=Zw("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function GI(){let{router:r}=VI("useNavigate"),e=Zw("useNavigate"),t=w.useRef(!1);return Vj(()=>{t.current=!0}),w.useCallback(async(a,s={})=>{Ni(t.current,Uj),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...s}))},[r,e])}var TC={};function Wj(r,e,t){!e&&!TC[r]&&(TC[r]=!0,Ni(!1,t))}w.memo(XI);function XI({routes:r,future:e,state:t}){return $j(r,void 0,t,e)}function qj({to:r,replace:e,state:t,relative:n}){Kr(ch(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(Ai);Ni(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=w.useContext(ei),{pathname:i}=Pn(),l=mr(),c=Yw(r,qw(s),i,n==="path"),d=JSON.stringify(c);return w.useEffect(()=>{l(JSON.parse(d),{replace:e,state:t,relative:n})},[l,d,n,e,t]),null}function Yj(r){return II(r.context)}function Dt(r){Kr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZI({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:s=!1}){Kr(!ch(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=r.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:i,navigator:a,static:s,future:{}}),[i,a,s]);typeof t=="string"&&(t=oh(t));let{pathname:c="/",search:d="",hash:u="",state:h=null,key:f="default"}=t,p=w.useMemo(()=>{let m=Ro(c,i);return m==null?null:{location:{pathname:m,search:d,hash:u,state:h,key:f},navigationType:n}},[i,c,d,u,h,f,n]);return Ni(p!=null,`<Router basename="${i}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:w.createElement(Ai.Provider,{value:l},w.createElement(Rp.Provider,{children:e,value:p}))}function JI({children:r,location:e}){return OI(i2(r),e)}function i2(r,e=[]){let t=[];return w.Children.forEach(r,(n,a)=>{if(!w.isValidElement(n))return;let s=[...e,a];if(n.type===w.Fragment){t.push.apply(t,i2(n.props.children,s));return}Kr(n.type===Dt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=i2(n.props.children,s)),t.push(i)}),t}var Um="get",Vm="application/x-www-form-urlencoded";function Gx(r){return r!=null&&typeof r.tagName=="string"}function KI(r){return Gx(r)&&r.tagName.toLowerCase()==="button"}function QI(r){return Gx(r)&&r.tagName.toLowerCase()==="form"}function eO(r){return Gx(r)&&r.tagName.toLowerCase()==="input"}function tO(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function rO(r,e){return r.button===0&&(!e||e==="_self")&&!tO(r)}var am=null;function nO(){if(am===null)try{new FormData(document.createElement("form"),0),am=!1}catch{am=!0}return am}var aO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uv(r){return r!=null&&!aO.has(r)?(Ni(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vm}"`),null):r}function sO(r,e){let t,n,a,s,i;if(QI(r)){let l=r.getAttribute("action");n=l?Ro(l,e):null,t=r.getAttribute("method")||Um,a=Uv(r.getAttribute("enctype"))||Vm,s=new FormData(r)}else if(KI(r)||eO(r)&&(r.type==="submit"||r.type==="image")){let l=r.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=r.getAttribute("formaction")||l.getAttribute("action");if(n=c?Ro(c,e):null,t=r.getAttribute("formmethod")||l.getAttribute("method")||Um,a=Uv(r.getAttribute("formenctype"))||Uv(l.getAttribute("enctype"))||Vm,s=new FormData(l,r),!nO()){let{name:d,type:u,value:h}=r;if(u==="image"){let f=d?`${d}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else d&&s.append(d,h)}}else{if(Gx(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Um,n=null,a=Vm,i=r}return s&&a==="text/plain"&&(i=s,s=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:s,body:i}}function Jw(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function iO(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oO(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function lO(r,e,t){let n=await Promise.all(r.map(async a=>{let s=e.routes[a.route.id];if(s){let i=await iO(s,t);return i.links?i.links():[]}return[]}));return hO(n.flat(1).filter(oO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function RC(r,e,t,n,a,s){let i=(c,d)=>t[d]?c.route.id!==t[d].route.id:!0,l=(c,d)=>{var u;return t[d].pathname!==c.pathname||((u=t[d].route.path)==null?void 0:u.endsWith("*"))&&t[d].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,d)=>i(c,d)||l(c,d)):s==="data"?e.filter((c,d)=>{var h;let u=n.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(i(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(r,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function cO(r,e,{includeHydrateFallback:t}={}){return dO(r.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function dO(r){return[...new Set(r)]}function uO(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function hO(r,e){let t=new Set;return new Set(e),r.reduce((n,a)=>{let s=JSON.stringify(uO(a));return t.has(s)||(t.add(s),n.push({key:s,link:a})),n},[])}function fO(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Ro(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Gj(){let r=w.useContext(lh);return Jw(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function pO(){let r=w.useContext(Yx);return Jw(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Kw=w.createContext(void 0);Kw.displayName="FrameworkContext";function Xj(){let r=w.useContext(Kw);return Jw(r,"You must render this element inside a <HydratedRouter> element"),r}function gO(r,e){let t=w.useContext(Kw),[n,a]=w.useState(!1),[s,i]=w.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=e,f=w.useRef(null);w.useEffect(()=>{if(r==="render"&&i(!0),r==="viewport"){let g=x=>{x.forEach(b=>{i(b.isIntersecting)})},v=new IntersectionObserver(g,{threshold:.5});return f.current&&v.observe(f.current),()=>{v.disconnect()}}},[r]),w.useEffect(()=>{if(n){let g=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(g)}}},[n]);let p=()=>{a(!0)},m=()=>{a(!1),i(!1)};return t?r!=="intent"?[s,f,{}]:[s,f,{onFocus:cf(l,p),onBlur:cf(c,m),onMouseEnter:cf(d,p),onMouseLeave:cf(u,m),onTouchStart:cf(h,p)}]:[!1,f,{}]}function cf(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function mO({page:r,...e}){let{router:t}=Gj(),n=w.useMemo(()=>Oj(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?w.createElement(vO,{page:r,matches:n,...e}):null}function xO(r){let{manifest:e,routeModules:t}=Xj(),[n,a]=w.useState([]);return w.useEffect(()=>{let s=!1;return lO(r,e,t).then(i=>{s||a(i)}),()=>{s=!0}},[r,e,t]),n}function vO({page:r,matches:e,...t}){let n=Pn(),{manifest:a,routeModules:s}=Xj(),{basename:i}=Gj(),{loaderData:l,matches:c}=pO(),d=w.useMemo(()=>RC(r,e,c,a,n,"data"),[r,e,c,a,n]),u=w.useMemo(()=>RC(r,e,c,a,n,"assets"),[r,e,c,a,n]),h=w.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let m=new Set,g=!1;if(e.forEach(x=>{var y;let b=a.routes[x.route.id];!b||!b.hasLoader||(!d.some(C=>C.route.id===x.route.id)&&x.route.id in l&&((y=s[x.route.id])!=null&&y.shouldRevalidate)||b.hasClientLoader?g=!0:m.add(x.route.id))}),m.size===0)return[];let v=fO(r,i);return g&&m.size>0&&v.searchParams.set("_routes",e.filter(x=>m.has(x.route.id)).map(x=>x.route.id).join(",")),[v.pathname+v.search]},[i,l,n,a,d,e,r,s]),f=w.useMemo(()=>cO(u,a),[u,a]),p=xO(u);return w.createElement(w.Fragment,null,h.map(m=>w.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...t})),f.map(m=>w.createElement("link",{key:m,rel:"modulepreload",href:m,...t})),p.map(({key:m,link:g})=>w.createElement("link",{key:m,...g})))}function bO(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Zj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zj&&(window.__reactRouterVersion="7.4.0")}catch{}function yO({basename:r,children:e,window:t}){let n=w.useRef();n.current==null&&(n.current=oI({window:t,v5Compat:!0}));let a=n.current,[s,i]=w.useState({action:a.action,location:a.location}),l=w.useCallback(c=>{w.startTransition(()=>i(c))},[i]);return w.useLayoutEffect(()=>a.listen(l),[a,l]),w.createElement(ZI,{basename:r,children:e,location:s.location,navigationType:s.action,navigator:a})}var Jj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sn=w.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:s,replace:i,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h,...f},p){let{basename:m}=w.useContext(Ai),g=typeof d=="string"&&Jj.test(d),v,x=!1;if(typeof d=="string"&&g&&(v=d,Zj))try{let T=new URL(window.location.href),F=d.startsWith("//")?new URL(T.protocol+d):new URL(d),L=Ro(F.pathname,m);F.origin===T.origin&&L!=null?d=L+F.search+F.hash:x=!0}catch{Ni(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=TI(d,{relative:a}),[y,C,S]=gO(n,f),_=SO(d,{replace:i,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function E(T){e&&e(T),T.defaultPrevented||_(T)}let A=w.createElement("a",{...f,...S,href:v||b,onClick:x||s?e:E,ref:bO(p,C),target:c,"data-discover":!g&&t==="render"?"true":void 0});return y&&!g?w.createElement(w.Fragment,null,A,w.createElement(mO,{page:b})):A});Sn.displayName="Link";var wO=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:s,to:i,viewTransition:l,children:c,...d},u){let h=Mp(i,{relative:d.relative}),f=Pn(),p=w.useContext(Yx),{navigator:m,basename:g}=w.useContext(Ai),v=p!=null&&AO(h)&&l===!0,x=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,b=f.pathname,y=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(b=b.toLowerCase(),y=y?y.toLowerCase():null,x=x.toLowerCase()),y&&g&&(y=Ro(y,g)||y);const C=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let S=b===x||!a&&b.startsWith(x)&&b.charAt(C)==="/",_=y!=null&&(y===x||!a&&y.startsWith(x)&&y.charAt(x.length)==="/"),E={isActive:S,isPending:_,isTransitioning:v},A=S?e:void 0,T;typeof n=="function"?T=n(E):T=[n,S?"active":null,_?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(E):s;return w.createElement(Sn,{...d,"aria-current":A,className:T,ref:u,style:F,to:i,viewTransition:l},typeof c=="function"?c(E):c)});wO.displayName="NavLink";var kO=w.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:s,method:i=Um,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:h,...f},p)=>{let m=NO(),g=EO(l,{relative:d}),v=i.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&Jj.test(l),b=y=>{if(c&&c(y),y.defaultPrevented)return;y.preventDefault();let C=y.nativeEvent.submitter,S=(C==null?void 0:C.getAttribute("formmethod"))||i;m(C||y.currentTarget,{fetcherKey:e,method:S,navigate:t,replace:a,state:s,relative:d,preventScrollReset:u,viewTransition:h})};return w.createElement("form",{ref:p,method:v,action:g,onSubmit:n?c:b,...f,"data-discover":!x&&r==="render"?"true":void 0})});kO.displayName="Form";function CO(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kj(r){let e=w.useContext(lh);return Kr(e,CO(r)),e}function SO(r,{target:e,replace:t,state:n,preventScrollReset:a,relative:s,viewTransition:i}={}){let l=mr(),c=Pn(),d=Mp(r,{relative:s});return w.useCallback(u=>{if(rO(u,e)){u.preventDefault();let h=t!==void 0?t:up(c)===up(d);l(r,{replace:h,state:n,preventScrollReset:a,relative:s,viewTransition:i})}},[c,l,d,t,n,e,r,a,s,i])}var jO=0,_O=()=>`__${String(++jO)}__`;function NO(){let{router:r}=Kj("useSubmit"),{basename:e}=w.useContext(Ai),t=qI();return w.useCallback(async(n,a={})=>{let{action:s,method:i,encType:l,formData:c,body:d}=sO(n,e);if(a.navigate===!1){let u=a.fetcherKey||_O();await r.fetch(u,t,a.action||s,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||i,formEncType:a.encType||l,flushSync:a.flushSync})}else await r.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||i,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function EO(r,{relative:e}={}){let{basename:t}=w.useContext(Ai),n=w.useContext(ei);Kr(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Mp(r||".",{relative:e})},i=Pn();if(r==null){s.search=i.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let u=l.toString();s.search=u?`?${u}`:""}}return(!r||r===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:No([t,s.pathname])),up(s)}function AO(r,e={}){let t=w.useContext(Hj);Kr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Kj("useViewTransitionState"),a=Mp(r,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Ro(t.currentLocation.pathname,n)||t.currentLocation.pathname,i=Ro(t.nextLocation.pathname,n)||t.nextLocation.pathname;return H0(a.pathname,i)!=null||H0(a.pathname,s)!=null}new TextEncoder;const PO="modulepreload",LO=function(r){return"/"+r},MC={},Ma=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(t.map(c=>{if(c=LO(c),c in MC)return;MC[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":PO,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},DO=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ma(async()=>{const{default:n}=await Promise.resolve().then(()=>dh);return{default:n}},[]).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class Xx extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class Qj extends Xx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class e_ extends Xx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class t_ extends Xx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var U0;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(U0||(U0={}));var TO=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?s(u.value):a(u.value).then(l,c)}d((n=n.apply(r,e||[])).next())})};class RO{constructor(e,{headers:t={},customFetch:n,region:a=U0.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=DO(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return TO(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:i}=t;let l={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(l["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(l["Content-Type"]="application/json",d=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(m=>{throw new Qj(m)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new e_(u);if(!u.ok)throw new t_(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield u.json():f==="application/octet-stream"?p=yield u.blob():f==="text/event-stream"?p=u:f==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var Xa={},Qw={},Zx={},Ip={},Jx={},Kx={},MO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wu=MO();const IO=Wu.fetch,r_=Wu.fetch.bind(Wu),n_=Wu.Headers,OO=Wu.Request,FO=Wu.Response,dh=Object.freeze(Object.defineProperty({__proto__:null,Headers:n_,Request:OO,Response:FO,default:r_,fetch:IO},Symbol.toStringTag,{value:"Module"})),BO=Z5(dh);var Qx={};Object.defineProperty(Qx,"__esModule",{value:!0});let zO=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Qx.default=zO;var a_=Js&&Js.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Kx,"__esModule",{value:!0});const HO=a_(BO),UO=a_(Qx);let VO=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=HO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var i,l,c;let d=null,u=null,h=null,f=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const x=await s.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=x:u=JSON.parse(x))}const g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),v=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await s.text();try{d=JSON.parse(g),Array.isArray(d)&&s.status===404&&(u=[],d=null,f=200,p="OK")}catch{s.status===404&&g===""?(f=204,p="No Content"):d={message:g}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,p="OK"),d&&this.shouldThrowOnError)throw new UO.default(d)}return{error:d,data:u,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(a=a.catch(s=>{var i,l,c;return{error:{message:`${(i=s==null?void 0:s.name)!==null&&i!==void 0?i:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}};Kx.default=VO;var $O=Js&&Js.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jx,"__esModule",{value:!0});const WO=$O(Kx);let qO=class extends WO.default{select(e){let t=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:a,referencedTable:s=a}={}){const i=s?`${s}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:a=n}={}){const s=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:a=!1,wal:s=!1,format:i="text"}={}){var l;const c=[e?"analyze":null,t?"verbose":null,n?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${d}"; options=${c};`,i==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Jx.default=qO;var YO=Js&&Js.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ip,"__esModule",{value:!0});const GO=YO(Jx);let XO=class extends GO.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};Ip.default=XO;var ZO=Js&&Js.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zx,"__esModule",{value:!0});const df=ZO(Ip);let JO=class{constructor(e,{headers:t={},schema:n,fetch:a}){this.url=e,this.headers=t,this.schema=n,this.fetch=a}select(e,{head:t=!1,count:n}={}){const a=t?"HEAD":"GET";let s=!1;const i=(e??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new df.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const a="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const i=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new df.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:a,defaultToNull:s=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new df.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),t&&a.push(`count=${t}`),this.headers.Prefer=a.join(","),new df.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new df.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Zx.default=JO;var e1={},t1={};Object.defineProperty(t1,"__esModule",{value:!0});t1.version=void 0;t1.version="0.0.0-automated";Object.defineProperty(e1,"__esModule",{value:!0});e1.DEFAULT_HEADERS=void 0;const KO=t1;e1.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${KO.version}`};var s_=Js&&Js.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qw,"__esModule",{value:!0});const QO=s_(Zx),eF=s_(Ip),tF=e1;let rF=class i_{constructor(e,{headers:t={},schema:n,fetch:a}={}){this.url=e,this.headers=Object.assign(Object.assign({},tF.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=a}from(e){const t=new URL(`${this.url}/${e}`);return new QO.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new i_(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:a=!1,count:s}={}){let i;const l=new URL(`${this.url}/rpc/${e}`);let c;n||a?(i=n?"HEAD":"GET",Object.entries(t).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(i="POST",c=t);const d=Object.assign({},this.headers);return s&&(d.Prefer=`count=${s}`),new eF.default({method:i,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Qw.default=rF;var uh=Js&&Js.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.PostgrestError=Xa.PostgrestBuilder=Xa.PostgrestTransformBuilder=Xa.PostgrestFilterBuilder=Xa.PostgrestQueryBuilder=Xa.PostgrestClient=void 0;const o_=uh(Qw);Xa.PostgrestClient=o_.default;const l_=uh(Zx);Xa.PostgrestQueryBuilder=l_.default;const c_=uh(Ip);Xa.PostgrestFilterBuilder=c_.default;const d_=uh(Jx);Xa.PostgrestTransformBuilder=d_.default;const u_=uh(Kx);Xa.PostgrestBuilder=u_.default;const h_=uh(Qx);Xa.PostgrestError=h_.default;var nF=Xa.default={PostgrestClient:o_.default,PostgrestQueryBuilder:l_.default,PostgrestFilterBuilder:c_.default,PostgrestTransformBuilder:d_.default,PostgrestBuilder:u_.default,PostgrestError:h_.default};const{PostgrestClient:aF,PostgrestQueryBuilder:Gce,PostgrestFilterBuilder:Xce,PostgrestTransformBuilder:Zce,PostgrestBuilder:Jce,PostgrestError:sF}=nF,iF="2.11.2",oF={"X-Client-Info":`realtime-js/${iF}`},lF="1.0.0",f_=1e4,cF=1e3;var ku;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ku||(ku={}));var fs;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(fs||(fs={}));var gi;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(gi||(gi={}));var o2;(function(r){r.websocket="websocket"})(o2||(o2={}));var Sc;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Sc||(Sc={}));class dF{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const a=t.getUint8(1),s=t.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(e.slice(i,i+a));i=i+a;const c=n.decode(e.slice(i,i+s));i=i+s;const d=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class p_{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zr;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(zr||(zr={}));const IC=(r,e,t={})=>{var n;const a=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,i)=>(s[i]=uF(i,r,e,a),s),{})},uF=(r,e,t,n)=>{const a=e.find(l=>l.name===r),s=a==null?void 0:a.type,i=t[r];return s&&!n.includes(s)?g_(s,i):l2(i)},g_=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return gF(e,t)}switch(r){case zr.bool:return hF(e);case zr.float4:case zr.float8:case zr.int2:case zr.int4:case zr.int8:case zr.numeric:case zr.oid:return fF(e);case zr.json:case zr.jsonb:return pF(e);case zr.timestamp:return mF(e);case zr.abstime:case zr.date:case zr.daterange:case zr.int4range:case zr.int8range:case zr.money:case zr.reltime:case zr.text:case zr.time:case zr.timestamptz:case zr.timetz:case zr.tsrange:case zr.tstzrange:return l2(e);default:return l2(e)}},l2=r=>r,hF=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},fF=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},pF=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},gF=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let s;const i=r.slice(1,t);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(l=>g_(e,l))}return r},mF=r=>typeof r=="string"?r.replace(" ","T"):r,m_=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Vv{constructor(e,t,n={},a=f_){this.channel=e,this.event=t,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var c2;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(c2||(c2={}));class Cu{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cu.syncState(this.state,a,s,i),this.pendingDiffs.forEach(c=>{this.state=Cu.syncDiff(this.state,c,s,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Cu.syncDiff(this.state,a,s,i),l())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,a){const s=this.cloneDeep(e),i=this.transformState(t),l={},c={};return this.map(s,(d,u)=>{i[d]||(c[d]=u)}),this.map(i,(d,u)=>{const h=s[d];if(h){const f=u.map(v=>v.presence_ref),p=h.map(v=>v.presence_ref),m=u.filter(v=>p.indexOf(v.presence_ref)<0),g=h.filter(v=>f.indexOf(v.presence_ref)<0);m.length>0&&(l[d]=m),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(e,t,n,a){const{joins:s,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const h=e[l].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);e[l].unshift(...f)}n(l,u,c)}),this.map(i,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=d,a(l,d,c),d.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const a=e[n];return"metas"in a?t[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[n]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var d2;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(d2||(d2={}));var u2;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(u2||(u2={}));var $i;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})($i||($i={}));class r1{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=fs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Vv(this,gi.join,this.params,this.timeout),this.rejoinTimer=new p_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fs.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=fs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gi.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Cu(this),this.broadcastEndpointURL=m_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:i,private:l}}=this.params;this._onError(u=>e==null?void 0:e($i.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e($i.CLOSED));const c={},d={broadcast:s,presence:i,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e($i.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,m=[];for(let g=0;g<p;g++){const v=f[g],{filter:{event:x,schema:b,table:y,filter:C}}=v,S=u&&u[g];if(S&&S.event===x&&S.schema===b&&S.table===y&&S.filter===C)m.push(Object.assign(Object.assign({},v),{id:S.id}));else{this.unsubscribe(),e==null||e($i.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e($i.SUBSCRIBED);return}}).receive("error",u=>{e==null||e($i.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e($i.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:i}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,l,c;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=fs.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gi.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new Vv(this,gi.leave,{},e);a.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(e,t,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(s),i}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Vv(this,e,t,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var a,s;const i=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=gi;if(n&&[l,c,d,u].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,t,n);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var m,g,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(p=>p.callback(f,n)):(s=this.bindings[i])===null||s===void 0||s.filter(p=>{var m,g,v,x,b,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const C=p.id,S=(m=p.filter)===null||m===void 0?void 0:m.event;return C&&((g=t.ids)===null||g===void 0?void 0:g.includes(C))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=t.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const C=(b=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return C==="*"||C===((y=t==null?void 0:t.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:g,table:v,commit_timestamp:x,type:b,errors:y}=m;f=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:x,eventType:b,new:{},old:{},errors:y}),this._getPayloadRecords(m))}p.callback(f,n)})}_isClosed(){return this.state===fs.closed}_isJoined(){return this.state===fs.joined}_isJoining(){return this.state===fs.joining}_isLeaving(){return this.state===fs.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const a=e.toLocaleLowerCase(),s={type:a,filter:t,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&r1.isEqual(a.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(gi.close,{},e)}_onError(e){this._on(gi.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fs.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=IC(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=IC(e.columns,e.old_record)),t}}const xF=()=>{},vF=typeof WebSocket<"u",bF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class x_{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=oF,this.params={},this.timeout=f_,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=xF,this.conn=null,this.sendBuffer=[],this.serializer=new dF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...l)=>Ma(async()=>{const{default:c}=await Promise.resolve().then(()=>dh);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${e}/${o2.websocket}`,this.httpEndpoint=m_(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,i)=>i(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new p_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(vF){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new yF(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ma(async()=>{const{default:e}=await import("./browser-x3sbO37i.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lF}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ku.connecting:return Sc.Connecting;case ku.open:return Sc.Open;case ku.closing:return Sc.Closing;default:return Sc.Closed}}isConnected(){return this.connectionState()===Sc.Open}channel(e,t={config:{}}){const n=new r1(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:a,ref:s}=e,i=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${t} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let n=null;try{n=JSON.parse(atob(t.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=t,this.channels.forEach(a=>{t&&a.updateJoinPayload({access_token:t}),a.joinedOnce&&a._isJoined()&&a._push(gi.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(cF,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:a,payload:s,ref:i}=t;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${a} ${i&&"("+i+")"||""}`,s),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,s,i)),this.stateChangeCallbacks.message.forEach(l=>l(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(gi.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${n}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([bF],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class yF{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ku.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class e4 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function qn(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class wF extends e4{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class h2 extends e4{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var kF=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?s(u.value):a(u.value).then(l,c)}d((n=n.apply(r,e||[])).next())})};const v_=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ma(async()=>{const{default:n}=await Promise.resolve().then(()=>dh);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},CF=()=>kF(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ma(()=>Promise.resolve().then(()=>dh),void 0)).Response:Response}),f2=r=>{if(Array.isArray(r))return r.map(t=>f2(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const a=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[a]=f2(n)}),e};var od=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?s(u.value):a(u.value).then(l,c)}d((n=n.apply(r,e||[])).next())})};const $v=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),SF=(r,e,t)=>od(void 0,void 0,void 0,function*(){const n=yield CF();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(a=>{e(new wF($v(a),r.status||500))}).catch(a=>{e(new h2($v(a),a))}):e(new h2($v(r),r))}),jF=(r,e,t,n)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),t))};function Op(r,e,t,n,a,s){return od(this,void 0,void 0,function*(){return new Promise((i,l)=>{r(t,jF(e,n,a,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>SF(c,l,n))})})}function V0(r,e,t,n){return od(this,void 0,void 0,function*(){return Op(r,"GET",e,t,n)})}function pl(r,e,t,n,a){return od(this,void 0,void 0,function*(){return Op(r,"POST",e,n,a,t)})}function _F(r,e,t,n,a){return od(this,void 0,void 0,function*(){return Op(r,"PUT",e,n,a,t)})}function NF(r,e,t,n){return od(this,void 0,void 0,function*(){return Op(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function b_(r,e,t,n,a){return od(this,void 0,void 0,function*(){return Op(r,"DELETE",e,n,a,t)})}var $a=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?s(u.value):a(u.value).then(l,c)}d((n=n.apply(r,e||[])).next())})};const EF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},OC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class AF{constructor(e,t={},n,a){this.url=e,this.headers=t,this.bucketId=n,this.fetch=v_(a)}uploadOrUpdate(e,t,n,a){return $a(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},OC),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(t),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield h.json();return h.ok?{data:{path:d,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(qn(s))return{data:null,error:s};throw s}})}upload(e,t,n){return $a(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,a){return $a(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),i=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",t);try{let c;const d=Object.assign({upsert:OC.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),f=yield h.json();return h.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(qn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return $a(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const s=yield pl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+s.url),l=i.searchParams.get("token");if(!l)throw new e4("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:l},error:null}}catch(n){if(qn(n))return{data:null,error:n};throw n}})}update(e,t,n){return $a(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return $a(this,void 0,void 0,function*(){try{return{data:yield pl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(qn(a))return{data:null,error:a};throw a}})}copy(e,t,n){return $a(this,void 0,void 0,function*(){try{return{data:{path:(yield pl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(qn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,n){return $a(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),s=yield pl(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(a){if(qn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,n){return $a(this,void 0,void 0,function*(){try{const a=yield pl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(a){if(qn(a))return{data:null,error:a};throw a}})}download(e,t){return $a(this,void 0,void 0,function*(){const a=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield V0(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(qn(l))return{data:null,error:l};throw l}})}info(e){return $a(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield V0(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:f2(n),error:null}}catch(n){if(qn(n))return{data:null,error:n};throw n}})}exists(e){return $a(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield NF(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(qn(n)&&n instanceof h2){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),a=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&a.push(s);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(e){return $a(this,void 0,void 0,function*(){try{return{data:yield b_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(qn(t))return{data:null,error:t};throw t}})}list(e,t,n){return $a(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},EF),t),{prefix:e||""});return{data:yield pl(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(qn(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const PF="2.7.1",LF={"X-Client-Info":`storage-js/${PF}`};var Hd=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?s(u.value):a(u.value).then(l,c)}d((n=n.apply(r,e||[])).next())})};class DF{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},LF),t),this.fetch=v_(n)}listBuckets(){return Hd(this,void 0,void 0,function*(){try{return{data:yield V0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(qn(e))return{data:null,error:e};throw e}})}getBucket(e){return Hd(this,void 0,void 0,function*(){try{return{data:yield V0(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(qn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Hd(this,void 0,void 0,function*(){try{return{data:yield pl(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(qn(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Hd(this,void 0,void 0,function*(){try{return{data:yield _F(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(qn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Hd(this,void 0,void 0,function*(){try{return{data:yield pl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(qn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Hd(this,void 0,void 0,function*(){try{return{data:yield b_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(qn(t))return{data:null,error:t};throw t}})}}class TF extends DF{constructor(e,t={},n){super(e,t,n)}from(e){return new AF(this.url,this.headers,e,this.fetch)}}const RF="2.49.1";let Cf="";typeof Deno<"u"?Cf="deno":typeof document<"u"?Cf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cf="react-native":Cf="node";const MF={"X-Client-Info":`supabase-js-${Cf}/${RF}`},IF={headers:MF},OF={schema:"public"},FF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},BF={};var zF=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?s(u.value):a(u.value).then(l,c)}d((n=n.apply(r,e||[])).next())})};const HF=r=>{let e;return r?e=r:typeof fetch>"u"?e=r_:e=fetch,(...t)=>e(...t)},UF=()=>typeof Headers>"u"?n_:Headers,VF=(r,e,t)=>{const n=HF(t),a=UF();return(s,i)=>zF(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:r;let d=new a(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",r),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},i),{headers:d}))})};var $F=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?s(u.value):a(u.value).then(l,c)}d((n=n.apply(r,e||[])).next())})};function WF(r){return r.replace(/\/$/,"")}function qF(r,e){const{db:t,auth:n,realtime:a,global:s}=r,{db:i,auth:l,realtime:c,global:d}=e,u={db:Object.assign(Object.assign({},i),t),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},d),s),accessToken:()=>$F(this,void 0,void 0,function*(){return""})};return r.accessToken?u.accessToken=r.accessToken:delete u.accessToken,u}const y_="2.68.0",Zd=30*1e3,p2=3,Wv=p2*Zd,YF="http://localhost:9999",GF="supabase.auth.token",XF={"X-Client-Info":`gotrue-js/${y_}`},g2="X-Supabase-Api-Version",w_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function ZF(r){return Math.round(Date.now()/1e3)+r}function JF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const zi=()=>typeof window<"u"&&typeof document<"u",hc={tested:!1,writable:!1},Of=()=>{if(!zi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hc.tested)return hc.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),hc.tested=!0,hc.writable=!0}catch{hc.tested=!0,hc.writable=!1}return hc.writable};function KF(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,s)=>{e[s]=a})}catch{}return t.searchParams.forEach((n,a)=>{e[a]=n}),e}const k_=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ma(async()=>{const{default:n}=await Promise.resolve().then(()=>dh);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},QF=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",C_=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},sm=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},im=async(r,e)=>{await r.removeItem(e)};function eB(r){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",n,a,s,i,l,c,d,u=0;for(r=r.replace("-","+").replace("_","/");u<r.length;)i=e.indexOf(r.charAt(u++)),l=e.indexOf(r.charAt(u++)),c=e.indexOf(r.charAt(u++)),d=e.indexOf(r.charAt(u++)),n=i<<2|l>>4,a=(l&15)<<4|c>>2,s=(c&3)<<6|d,t=t+String.fromCharCode(n),c!=64&&a!=0&&(t=t+String.fromCharCode(a)),d!=64&&s!=0&&(t=t+String.fromCharCode(s));return t}class n1{constructor(){this.promise=new n1.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}n1.promiseConstructor=Promise;function FC(r){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=r.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=t[1];return JSON.parse(eB(n))}async function tB(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function rB(r,e){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await r(s);if(!e(s,null,i)){n(i);return}}catch(i){if(!e(s,i)){a(i);return}}})()})}function nB(r){return("0"+r.toString(16)).substr(-2)}function aB(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let a="";for(let s=0;s<56;s++)a+=t.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,nB).join("")}async function sB(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}function iB(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oB(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await sB(r);return iB(t)}async function Ud(r,e,t=!1){const n=aB();let a=n;t&&(a+="/PASSWORD_RECOVERY"),await C_(r,`${e}-code-verifier`,a);const s=await oB(n);return[s,n===s?"plain":"s256"]}const lB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cB(r){const e=r.headers.get(g2);if(!e||!e.match(lB))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class a1 extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Xt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class S_ extends a1{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function j_(r){return Xt(r)&&r.name==="AuthApiError"}class t4 extends a1{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Jl extends a1{constructor(e,t,n,a){super(e,n,a),this.name=t,this.status=n}}class bo extends Jl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function __(r){return Xt(r)&&r.name==="AuthSessionMissingError"}class $m extends Jl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sf extends Jl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class jf extends Jl{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function N_(r){return Xt(r)&&r.name==="AuthImplicitGrantRedirectError"}class m2 extends Jl{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $0 extends Jl{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Wm(r){return Xt(r)&&r.name==="AuthRetryableFetchError"}class x2 extends Jl{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}var dB=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};const xc=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),uB=[502,503,504];async function BC(r){var e;if(!QF(r))throw new $0(xc(r),0);if(uB.includes(r.status))throw new $0(xc(r),r.status);let t;try{t=await r.json()}catch(s){throw new t4(xc(s),s)}let n;const a=cB(r);if(a&&a.getTime()>=w_["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new x2(xc(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new bo}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new x2(xc(t),r.status,t.weak_password.reasons);throw new S_(xc(t),r.status||500,n)}const hB=(r,e,t,n)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),t))};async function ir(r,e,t,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[g2]||(s[g2]=w_["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await fB(r,e,t+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function fB(r,e,t,n,a,s){const i=hB(e,n,a,s);let l;try{l=await r(t,Object.assign({},i))}catch(c){throw console.error(c),new $0(xc(c),0)}if(l.ok||await BC(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await BC(c)}}function dl(r){var e;let t=null;xB(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=ZF(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function zC(r){const e=dl(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function vl(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function pB(r){return{data:r,error:null}}function gB(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:s}=r,i=dB(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function mB(r){return r}function xB(r){return r.access_token&&r.refresh_token&&r.expires_in}var vB=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};class E_{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=k_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await ir(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Xt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await ir(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:vl})}catch(n){if(Xt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=vB(e,["options"]),a=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ir(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:gB,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Xt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ir(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:vl})}catch(t){if(Xt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,a,s,i,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await ir(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:mB});if(u.error)throw u.error;const h=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);d[`${v}Page`]=g}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Xt(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){try{return await ir(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:vl})}catch(t){if(Xt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await ir(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:vl})}catch(n){if(Xt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await ir(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:vl})}catch(n){if(Xt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await ir(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:n}}catch(t){if(Xt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await ir(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Xt(t))return{data:null,error:t};throw t}}}const bB={getItem:r=>Of()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{Of()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{Of()&&globalThis.localStorage.removeItem(r)}};function HC(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function yB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vc={debug:!!(globalThis&&Of()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class A_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class P_ extends A_{}async function L_(r,e,t){vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),vc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await t()}finally{vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new P_(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(vc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}yB();const wB={url:YF,storageKey:GF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function UC(r,e,t){return await t()}class qu{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qu.nextInstanceID,qu.nextInstanceID+=1,this.instanceID>0&&zi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},wB),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new E_({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=k_(a.fetch),this.lock=a.lock||UC,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:zi()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=L_:this.lock=UC,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Of()?this.storage=bB:(this.memoryStorage={},this.storage=HC(this.memoryStorage)):(this.memoryStorage={},this.storage=HC(this.memoryStorage)),zi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${y_}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=KF(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),zi()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),N_(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Xt(t)?{error:t}:{error:new t4("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,a;try{const s=await ir(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:dl}),{data:i,error:l}=s;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(Xt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,n,a;try{let s;if("email"in e){const{email:u,password:h,options:f}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Ud(this.storage,this.storageKey)),s=await ir(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:dl})}else if("phone"in e){const{phone:u,password:h,options:f}=e;s=await ir(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:dl})}else throw new Sf("You must provide either an email or phone number and a password");const{data:i,error:l}=s;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(Xt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:i,options:l}=e;t=await ir(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zC})}else if("phone"in e){const{phone:s,password:i,options:l}=e;t=await ir(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zC})}else throw new Sf("You must provide either an email or phone number and a password");const{data:n,error:a}=t;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new $m}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(t){if(Xt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,a,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await sm(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(t??"").split("/");try{const{data:s,error:i}=await ir(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:dl});if(await im(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new $m}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(Xt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:a,access_token:s,nonce:i}=e,l=await ir(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:dl}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new $m}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(t){if(Xt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,a,s,i;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Ud(this.storage,this.storageKey));const{error:h}=await ir(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await ir(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Sf("You must provide either an email or phone number.")}catch(l){if(Xt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var t,n;try{let a,s;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await ir(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:dl});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,d=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Xt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var t,n,a;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await Ud(this.storage,this.storageKey)),await ir(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:pB})}catch(s){if(Xt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new bo;const{error:a}=await ir(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Xt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:s}=e,{error:i}=await ir(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:a,options:s}=e,{data:i,error:l}=await ir(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Sf("You must provide either an email or phone number and a type")}catch(t){if(Xt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await sm(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Wv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!i&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{session:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ir(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vl}):await this._useSession(async t=>{var n,a,s;const{data:i,error:l}=t;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bo}:await ir(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:vl})})}catch(t){if(Xt(t))return __(t)&&(await this._removeSession(),await im(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new bo;const i=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Ud(this.storage,this.storageKey));const{data:d,error:u}=await ir(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:vl});if(u)throw u;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Xt(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return FC(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new bo;const t=Date.now()/1e3;let n=t,a=!0,s=null;const i=FC(e.access_token);if(i.exp&&(n=i.exp,a=n<=t),a){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(Xt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:i,error:l}=t;if(l)throw l;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new bo;const{session:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Xt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!zi())throw new jf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new jf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new m2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jf("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new m2("No code detected.");const{data:b,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:l,expires_at:c,token_type:d}=e;if(!s||!l||!i||!d)throw new jf("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const p=f-u;p*1e3<=Zd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const m=f-h;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,u);const{data:g,error:v}=await this._getUser(s);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:h,expires_at:f,refresh_token:i,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(Xt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await sm(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:a,error:s}=t;if(s)return{error:s};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,e);if(l&&!(j_(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await im(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=JF(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,a;try{const{data:{session:s},error:i}=t;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ud(this.storage,this.storageKey,!0));try{return await ir(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(Xt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Xt(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:a}=await this._useSession(async s=>{var i,l,c,d,u;const{data:h,error:f}=s;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ir(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return zi()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Xt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,a;const{data:s,error:i}=t;if(i)throw i;return await ir(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(Xt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await rB(async a=>(a>0&&await tB(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await ir(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:dl})),(a,s)=>{const i=200*Math.pow(2,a);return s&&Wm(s)&&Date.now()+i-n<Zd})}catch(n){if(this._debug(t,"error",n),Xt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),zi()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await sm(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const a=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Wv;if(this._debug(t,`session has${a?"":" not"} expired with margin of ${Wv}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),Wm(s)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new bo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new n1;const{data:s,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!s.session)throw new bo;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),Xt(s)){const i={session:null,error:s};return Wm(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(c){s.push(c)}});if(await Promise.all(i),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await C_(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await im(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&zi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Zd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Zd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Zd}ms, refresh threshold is ${p2} ticks`),a<=p2&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof A_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const a=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await Ud(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:a,error:s}=t;return s?{data:null,error:s}:await ir(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Xt(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,a;const{data:s,error:i}=t;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await ir(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(t){if(Xt(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:s}=t;if(s)return{data:null,error:s};const{data:i,error:l}=await ir(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(t){if(Xt(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:s}=t;return s?{data:null,error:s}:await ir(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Xt(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),s=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:a},error:s}=e;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(a.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}}qu.nextInstanceID=0;const D_=qu;class kB extends D_{constructor(e){super(e)}}var CB=function(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?s(u.value):a(u.value).then(l,c)}d((n=n.apply(r,e||[])).next())})};class T_{constructor(e,t,n){var a,s,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const l=WF(e);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:OF,realtime:BF,auth:Object.assign(Object.assign({},FF),{storageKey:c}),global:IF},u=qF(n??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=VF(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new aF(`${l}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new RO(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new TF(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return CB(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,storageKey:s,flowType:i,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kB({url:this.authUrl,headers:Object.assign(Object.assign({},h),d),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,flowType:i,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new x_(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const R_=(r,e,t)=>new T_(r,e,t),SB=Object.freeze(Object.defineProperty({__proto__:null,AuthApiError:S_,AuthClient:D_,AuthError:a1,AuthImplicitGrantRedirectError:jf,AuthInvalidCredentialsError:Sf,AuthInvalidTokenResponseError:$m,AuthPKCEGrantCodeExchangeError:m2,AuthRetryableFetchError:$0,AuthSessionMissingError:bo,AuthUnknownError:t4,AuthWeakPasswordError:x2,CustomAuthError:Jl,get FunctionRegion(){return U0},FunctionsError:Xx,FunctionsFetchError:Qj,FunctionsHttpError:t_,FunctionsRelayError:e_,GoTrueAdminApi:E_,GoTrueClient:qu,NavigatorLockAcquireTimeoutError:P_,PostgrestError:sF,get REALTIME_LISTEN_TYPES(){return u2},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return d2},get REALTIME_PRESENCE_LISTEN_EVENTS(){return c2},get REALTIME_SUBSCRIBE_STATES(){return $i},RealtimeChannel:r1,RealtimeClient:x_,RealtimePresence:Cu,SupabaseClient:T_,createClient:R_,isAuthApiError:j_,isAuthError:Xt,isAuthImplicitGrantRedirectError:N_,isAuthRetryableFetchError:Wm,isAuthSessionMissingError:__,lockInternals:vc,navigatorLock:L_},Symbol.toStringTag,{value:"Module"}));async function M_(r){const e={authUserExists:!1,adminRecordExists:!1,rolesTableExists:!1,adminRoleExists:!1,adminRoleId:null,constraint_violations:[]};try{const{data:t,error:n}=await K.auth.admin.getUserById(r);e.authUserExists=!!t&&!n,n&&e.constraint_violations.push(`Auth user error: ${n.message}`);const{data:a,error:s}=await K.from("admins").select("id").eq("id",r).maybeSingle();e.adminRecordExists=!!a,s&&e.constraint_violations.push(`Admin check error: ${s.message}`);const{data:i,error:l}=await K.from("roles").select("id, name").eq("name","admin").maybeSingle();e.rolesTableExists=!l||!l.message.includes('relation "roles" does not exist'),e.adminRoleExists=!!i,e.adminRoleId=(i==null?void 0:i.id)||null,l&&e.constraint_violations.push(`Roles error: ${l.message}`)}catch(t){e.constraint_violations.push(`General error: ${t.message}`)}return e}async function jB(r){const e=await M_(r);if(!e.authUserExists)return{success:!1,error:"Usurio no existe no Supabase Auth",debug:e};if(e.adminRecordExists)return{success:!0,debug:e};if(!e.adminRoleExists)try{const{data:t,error:n}=await K.from("roles").insert([{name:"admin",description:"Administrador com acesso total ao sistema"}]).select().single();if(n)return{success:!1,error:`Erro ao criar role admin: ${n.message}`,debug:e};e.adminRoleId=t.id,e.adminRoleExists=!0}catch(t){return{success:!1,error:`Erro ao criar role admin: ${t.message}`,debug:e}}return{success:!0,debug:e}}async function _B({firstName:r,lastName:e,email:t,password:n,phone:a}){var s,i;try{const{data:l,error:c}=await K.from("roles").select("id").eq("name","admin").maybeSingle();if(c||!(l!=null&&l.id))return console.error(" [AdminRegister] Erro ao buscar role admin:",c),{success:!1,error:"No foi possvel encontrar o role de administrador."};console.log(" [AdminRegister] Role admin encontrado:",l.id),console.log(" [AdminRegister] Verificando se admin j existe...");const{data:d}=await K.from("admins").select("id").eq("email",t.trim()).maybeSingle();if(d)return console.log(" [AdminRegister] Admin j existe:",d.id),{success:!1,error:"Este e-mail j est cadastrado como administrador."};console.log(" [AdminRegister] Email disponvel, prosseguindo..."),console.log(" [AdminRegister] Verificando se usurio j existe no Auth...");let u="",h=!1;const{data:f}=await K.auth.admin.listUsers();if(f&&f.users){const v=f.users.find(x=>x.email===t.trim());v&&(console.log(" [AdminRegister] Usurio j existe no Auth:",v.id),u=v.id,h=!0)}if(!h){console.log(" [AdminRegister] Criando novo usurio no Supabase Auth...");const{data:v,error:x}=await K.auth.signUp({email:t.trim(),password:n.trim(),options:{data:{first_name:r.trim(),last_name:e.trim(),phone:(a==null?void 0:a.trim())||"",role:"admin",role_id:l.id}}});if(x)return console.error(" [AdminRegister] Erro ao criar usurio no Auth:",x),(s=x.message)!=null&&s.toLowerCase().includes("user already registered")||(i=x.message)!=null&&i.toLowerCase().includes("email")?{success:!1,error:"Este e-mail j est cadastrado."}:{success:!1,error:x.message||"Erro ao criar usurio."};if(!(v!=null&&v.user))return console.error(" [AdminRegister] Usurio no foi criado no Auth"),{success:!1,error:"Erro ao criar usurio."};u=v.user.id,console.log(" [AdminRegister] Novo usurio criado no Auth:",u)}console.log(" [AdminRegister] Verificando se admin j existe na tabela...");const{data:p}=await K.from("admins").select("id").eq("id",u).maybeSingle();if(p)return console.log(" [AdminRegister] Admin j existe na tabela:",p.id),{success:!1,error:"Este usurio j est cadastrado como administrador."};console.log(" [AdminRegister] Inserindo admin na tabela admins..."),console.log(" [AdminRegister] Dados:",{id:u,email:t.trim(),first_name:r.trim(),last_name:e.trim(),phone:(a==null?void 0:a.trim())||"",role:"admin",role_id:l.id});const{data:m,error:g}=await K.from("admins").insert([{id:u,email:t.trim(),first_name:r.trim(),last_name:e.trim(),phone:(a==null?void 0:a.trim())||"",role:"admin",role_id:l.id,is_first_admin:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(g){console.error(" [AdminRegister] Erro ao inserir admin:",g),console.log(" [AdminRegister] Iniciando diagnstico...");const v=await M_(u);if(console.log(" [AdminRegister] Debug info:",v),v.constraint_violations.length>0){console.log(" [AdminRegister] Tentando correo automtica...");const x=await jB(u);if(console.log(" [AdminRegister] Resultado da correo:",x),x.success){const{error:b}=await K.from("admins").insert([{id:u,email:t.trim(),first_name:r.trim(),last_name:e.trim(),phone:(a==null?void 0:a.trim())||"",role:"admin",role_id:x.debug.adminRoleId,is_first_admin:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();return b?{success:!1,error:`Erro aps correo: ${b.message}`}:(console.log(" [AdminRegister] Admin inserido aps correo!"),{success:!0})}}return{success:!1,error:g.message||"Erro ao cadastrar administrador."}}return m?(console.log(" [AdminRegister] Admin cadastrado com sucesso:",m.id),{success:!0}):{success:!1,error:"No foi possvel cadastrar o administrador."}}catch(l){return{success:!1,error:l.message||"Erro ao cadastrar administrador."}}}async function NB({userId:r,email:e,firstName:t,lastName:n,phone:a}){try{const{data:s,error:i}=await K.from("roles").select("id").eq("name","admin").maybeSingle();if(i||!(s!=null&&s.id))throw new Error("No foi possvel encontrar o role de administrador.");const{data:l}=await K.from("admins").select("id").eq("id",r).maybeSingle();if(l)return{success:!0};const{error:c}=await K.from("admins").insert([{id:r,email:e.trim(),first_name:t.trim(),last_name:n.trim(),phone:(a==null?void 0:a.trim())||"",role:"admin",role_id:s.id,is_first_admin:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);if(c)throw c;return{success:!0}}catch(s){return{success:!1,error:s.message||"Erro ao inserir admin."}}}const EB="https://uxbeaslwirkepnowydfu.supabase.co",AB="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV4YmVhc2x3aXJrZXBub3d5ZGZ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE4MTQwNTUsImV4cCI6MjA1NzM5MDA1NX0.bhPFhXaCgp363YlcAWtNhPlpj82dSNUWwNim2fgYh5s",K=R_(EB,AB,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:window.localStorage},global:{headers:{"X-Client-Info":"supabase-js-web"}}}),qm={MAX_ATTEMPTS:5,WINDOW_MS:15*60*1e3,RESET_MS:30*60*1e3};function I_(r){const e=Date.now(),t=localStorage.getItem(r);if(!t){const s={attempts:1,firstAttempt:e,lastAttempt:e};return localStorage.setItem(r,JSON.stringify(s)),!0}const n=JSON.parse(t);if(e-n.firstAttempt>qm.RESET_MS){const s={attempts:1,firstAttempt:e,lastAttempt:e};return localStorage.setItem(r,JSON.stringify(s)),!0}if(n.attempts>=qm.MAX_ATTEMPTS&&e-n.firstAttempt<qm.WINDOW_MS)return!1;const a={attempts:n.attempts+1,firstAttempt:n.firstAttempt,lastAttempt:e};return localStorage.setItem(r,JSON.stringify(a)),!0}function O_(r){const e=localStorage.getItem(r);if(!e)return 0;const{firstAttempt:t}=JSON.parse(e),n=Date.now(),a=Math.max(0,qm.RESET_MS-(n-t));return Math.ceil(a/1e3/60)}async function PB(r,e){var t,n,a;try{const s=r.trim().toLowerCase(),i=`auth_attempts_${s}`;if(!I_(i)){const f=O_(i);throw new Error(`Too many attempts. Try again in ${f} minutes.`)}if(!s||!(e!=null&&e.trim()))throw new Error("Email and password are required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s))throw new Error("Invalid email");const{data:{user:l,session:c},error:d}=await K.auth.signInWithPassword({email:s,password:e.trim()});if(d)throw d;if(!l||!c)throw new Error("User data not found");try{await NB({userId:l.id,email:l.email||"",firstName:((t=l.user_metadata)==null?void 0:t.first_name)||"",lastName:((n=l.user_metadata)==null?void 0:n.last_name)||"",phone:((a=l.user_metadata)==null?void 0:a.phone)||""})}catch(f){console.error("Erro ao garantir admin na tabela admins:",f)}const{data:u,error:h}=await K.from("admins").select("id, email, first_name, last_name, is_first_admin").eq("id",l.id).single();if(h||!u)throw await s1(),new Error("User does not have admin permissions");return localStorage.removeItem(i),{user:l,admin:u,session:c}}catch(s){throw console.error("Login error:",s),s}}async function LB(r,e){try{const t=r.trim().toLowerCase(),n=`auth_attempts_${t}`;if(!I_(n)){const d=O_(n);throw new Error(`Too many attempts. Try again in ${d} minutes.`)}if(!t||!(e!=null&&e.trim()))throw new Error("Email and password are required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error("Invalid email");const{data:{user:a,session:s},error:i}=await K.auth.signInWithPassword({email:t,password:e.trim()});if(i)throw i;if(!a||!s)throw new Error("User data not found");const{data:l,error:c}=await K.from("platform_users").select("*").eq("id",a.id).maybeSingle();if(c)throw c;if(!l)throw new Error("User not found");if(!a.email_confirmed_at)throw await s1(),new Error("Email no confirmado. Por favor, verifique sua caixa de entrada.");return localStorage.removeItem(n),{user:a,platformUser:l,session:s}}catch(t){throw console.error("Login error:",t),t}}async function s1(){try{const r=localStorage.getItem("theme");localStorage.clear(),r&&localStorage.setItem("theme",r);const{error:e}=await K.auth.signOut();if(e)throw e}catch(r){throw console.error("Logout error:",r),r}}async function DB(){try{const{data:{session:r},error:e}=await K.auth.getSession();if(e)throw e;return r}catch(r){return console.error("Error getting session:",r),null}}async function TB(){try{if(!await DB())return null;const{data:{user:e},error:t}=await K.auth.getUser();if(t)throw t;if(!e)return null;const{data:n}=await K.from("admins").select("*").eq("id",e.id).maybeSingle();if(n)return{user:e,type:"admin",data:n};const{data:a}=await K.from("platform_users").select("*").eq("id",e.id).maybeSingle();return a?{user:e,type:"platform",data:a}:(await s1(),null)}catch(r){return console.error("Error getting user:",r),null}}function RB({children:r}){const[e,t]=w.useState(null),[n,a]=w.useState(!0);return w.useEffect(()=>{async function s(){a(!0);const{data:{user:i}}=await K.auth.getUser();if(!i){t(!1),a(!1);return}const{data:l}=await K.from("roles").select("id").eq("name","admin").maybeSingle();if(!(l!=null&&l.id)){t(!1),a(!1);return}const{data:c}=await K.from("admins").select("role, role_id").eq("id",i.id).maybeSingle();if(c&&c.role==="admin"&&c.role_id===l.id){t(!0),a(!1);return}const{data:d}=await K.from("platform_users").select("role, role_id").eq("id",i.id).maybeSingle();if(d&&d.role==="admin"&&d.role_id===l.id){t(!0),a(!1);return}t(!1),a(!1)}s()},[]),n?o.jsx("div",{children:"Carregando..."}):e?o.jsx(o.Fragment,{children:r}):o.jsx(qj,{to:"/",replace:!0})}function F_(){return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute right-0 top-0 -z-1 w-full max-w-[250px] xl:max-w-[450px]",children:o.jsx("img",{src:"/images/shape/grid-01.svg",alt:"grid"})}),o.jsx("div",{className:"absolute bottom-0 left-0 -z-1 w-full max-w-[250px] rotate-180 xl:max-w-[450px]",children:o.jsx("img",{src:"/images/shape/grid-01.svg",alt:"grid"})})]})}var MB=typeof Element<"u",IB=typeof Map=="function",OB=typeof Set=="function",FB=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ym(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){if(r.constructor!==e.constructor)return!1;var t,n,a;if(Array.isArray(r)){if(t=r.length,t!=e.length)return!1;for(n=t;n--!==0;)if(!Ym(r[n],e[n]))return!1;return!0}var s;if(IB&&r instanceof Map&&e instanceof Map){if(r.size!==e.size)return!1;for(s=r.entries();!(n=s.next()).done;)if(!e.has(n.value[0]))return!1;for(s=r.entries();!(n=s.next()).done;)if(!Ym(n.value[1],e.get(n.value[0])))return!1;return!0}if(OB&&r instanceof Set&&e instanceof Set){if(r.size!==e.size)return!1;for(s=r.entries();!(n=s.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(FB&&ArrayBuffer.isView(r)&&ArrayBuffer.isView(e)){if(t=r.length,t!=e.length)return!1;for(n=t;n--!==0;)if(r[n]!==e[n])return!1;return!0}if(r.constructor===RegExp)return r.source===e.source&&r.flags===e.flags;if(r.valueOf!==Object.prototype.valueOf&&typeof r.valueOf=="function"&&typeof e.valueOf=="function")return r.valueOf()===e.valueOf();if(r.toString!==Object.prototype.toString&&typeof r.toString=="function"&&typeof e.toString=="function")return r.toString()===e.toString();if(a=Object.keys(r),t=a.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,a[n]))return!1;if(MB&&r instanceof Element)return!1;for(n=t;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&r.$$typeof)&&!Ym(r[a[n]],e[a[n]]))return!1;return!0}return r!==r&&e!==e}var BB=function(e,t){try{return Ym(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const zB=Fo(BB);var HB=function(r,e,t,n,a,s,i,l){if(!r){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[t,n,a,s,i,l],u=0;c=new Error(e.replace(/%s/g,function(){return d[u++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},B_=HB;const VC=Fo(B_);var UB=function(e,t,n,a){var s=n?n.call(a,e,t):void 0;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),d=0;d<i.length;d++){var u=i[d];if(!c(u))return!1;var h=e[u],f=t[u];if(s=n?n.call(a,h,f,u):void 0,s===!1||s===void 0&&h!==f)return!1}return!0};const VB=Fo(UB);var z_=(r=>(r.BASE="base",r.BODY="body",r.HEAD="head",r.HTML="html",r.LINK="link",r.META="meta",r.NOSCRIPT="noscript",r.SCRIPT="script",r.STYLE="style",r.TITLE="title",r.FRAGMENT="Symbol(react.fragment)",r))(z_||{}),qv={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},$C=Object.values(z_),r4={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},$B=Object.entries(r4).reduce((r,[e,t])=>(r[t]=e,r),{}),vi="data-rh",Su={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ju=(r,e)=>{for(let t=r.length-1;t>=0;t-=1){const n=r[t];if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}return null},WB=r=>{let e=ju(r,"title");const t=ju(r,Su.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const n=ju(r,Su.DEFAULT_TITLE);return e||n||void 0},qB=r=>ju(r,Su.ON_CHANGE_CLIENT_STATE)||(()=>{}),Yv=(r,e)=>e.filter(t=>typeof t[r]<"u").map(t=>t[r]).reduce((t,n)=>({...t,...n}),{}),YB=(r,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,n)=>{if(!t.length){const a=Object.keys(n);for(let s=0;s<a.length;s+=1){const l=a[s].toLowerCase();if(r.indexOf(l)!==-1&&n[l])return t.concat(n)}}return t},[]),GB=r=>console&&typeof console.warn=="function"&&console.warn(r),uf=(r,e,t)=>{const n={};return t.filter(a=>Array.isArray(a[r])?!0:(typeof a[r]<"u"&&GB(`Helmet: ${r} should be of type "Array". Instead found type "${typeof a[r]}"`),!1)).map(a=>a[r]).reverse().reduce((a,s)=>{const i={};s.filter(c=>{let d;const u=Object.keys(c);for(let f=0;f<u.length;f+=1){const p=u[f],m=p.toLowerCase();e.indexOf(m)!==-1&&!(d==="rel"&&c[d].toLowerCase()==="canonical")&&!(m==="rel"&&c[m].toLowerCase()==="stylesheet")&&(d=m),e.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(d=p)}if(!d||!c[d])return!1;const h=c[d].toLowerCase();return n[d]||(n[d]={}),i[d]||(i[d]={}),n[d][h]?!1:(i[d][h]=!0,!0)}).reverse().forEach(c=>a.push(c));const l=Object.keys(i);for(let c=0;c<l.length;c+=1){const d=l[c],u={...n[d],...i[d]};n[d]=u}return a},[]).reverse()},XB=(r,e)=>{if(Array.isArray(r)&&r.length){for(let t=0;t<r.length;t+=1)if(r[t][e])return!0}return!1},ZB=r=>({baseTag:YB(["href"],r),bodyAttributes:Yv("bodyAttributes",r),defer:ju(r,Su.DEFER),encode:ju(r,Su.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Yv("htmlAttributes",r),linkTags:uf("link",["rel","href"],r),metaTags:uf("meta",["name","charset","http-equiv","property","itemprop"],r),noscriptTags:uf("noscript",["innerHTML"],r),onChangeClientState:qB(r),scriptTags:uf("script",["src","innerHTML"],r),styleTags:uf("style",["cssText"],r),title:WB(r),titleAttributes:Yv("titleAttributes",r),prioritizeSeoTags:XB(r,Su.PRIORITIZE_SEO_TAGS)}),H_=r=>Array.isArray(r)?r.join(""):r,JB=(r,e)=>{const t=Object.keys(r);for(let n=0;n<t.length;n+=1)if(e[t[n]]&&e[t[n]].includes(r[t[n]]))return!0;return!1},Gv=(r,e)=>Array.isArray(r)?r.reduce((t,n)=>(JB(n,e)?t.priority.push(n):t.default.push(n),t),{priority:[],default:[]}):{default:r,priority:[]},WC=(r,e)=>({...r,[e]:void 0}),KB=["noscript","script","style"],v2=(r,e=!0)=>e===!1?String(r):String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),U_=r=>Object.keys(r).reduce((e,t)=>{const n=typeof r[t]<"u"?`${t}="${r[t]}"`:`${t}`;return e?`${e} ${n}`:n},""),QB=(r,e,t,n)=>{const a=U_(t),s=H_(e);return a?`<${r} ${vi}="true" ${a}>${v2(s,n)}</${r}>`:`<${r} ${vi}="true">${v2(s,n)}</${r}>`},ez=(r,e,t=!0)=>e.reduce((n,a)=>{const s=a,i=Object.keys(s).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,u)=>{const h=typeof s[u]>"u"?u:`${u}="${v2(s[u],t)}"`;return d?`${d} ${h}`:h},""),l=s.innerHTML||s.cssText||"",c=KB.indexOf(r)===-1;return`${n}<${r} ${vi}="true" ${i}${c?"/>":`>${l}</${r}>`}`},""),V_=(r,e={})=>Object.keys(r).reduce((t,n)=>{const a=r4[n];return t[a||n]=r[n],t},e),tz=(r,e,t)=>{const n={key:e,[vi]:!0},a=V_(t,n);return[ft.createElement("title",a,e)]},Gm=(r,e)=>e.map((t,n)=>{const a={key:n,[vi]:!0};return Object.keys(t).forEach(s=>{const l=r4[s]||s;if(l==="innerHTML"||l==="cssText"){const c=t.innerHTML||t.cssText;a.dangerouslySetInnerHTML={__html:c}}else a[l]=t[s]}),ft.createElement(r,a)}),Hs=(r,e,t=!0)=>{switch(r){case"title":return{toComponent:()=>tz(r,e.title,e.titleAttributes),toString:()=>QB(r,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>V_(e),toString:()=>U_(e)};default:return{toComponent:()=>Gm(r,e),toString:()=>ez(r,e,t)}}},rz=({metaTags:r,linkTags:e,scriptTags:t,encode:n})=>{const a=Gv(r,qv.meta),s=Gv(e,qv.link),i=Gv(t,qv.script);return{priorityMethods:{toComponent:()=>[...Gm("meta",a.priority),...Gm("link",s.priority),...Gm("script",i.priority)],toString:()=>`${Hs("meta",a.priority,n)} ${Hs("link",s.priority,n)} ${Hs("script",i.priority,n)}`},metaTags:a.default,linkTags:s.default,scriptTags:i.default}},nz=r=>{const{baseTag:e,bodyAttributes:t,encode:n=!0,htmlAttributes:a,noscriptTags:s,styleTags:i,title:l="",titleAttributes:c,prioritizeSeoTags:d}=r;let{linkTags:u,metaTags:h,scriptTags:f}=r,p={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:p,linkTags:u,metaTags:h,scriptTags:f}=rz(r)),{priority:p,base:Hs("base",e,n),bodyAttributes:Hs("bodyAttributes",t,n),htmlAttributes:Hs("htmlAttributes",a,n),link:Hs("link",u,n),meta:Hs("meta",h,n),noscript:Hs("noscript",s,n),script:Hs("script",f,n),style:Hs("style",i,n),title:Hs("title",{title:l,titleAttributes:c},n)}},b2=nz,om=[],$_=!!(typeof window<"u"&&window.document&&window.document.createElement),y2=class{constructor(r,e){ii(this,"instances",[]);ii(this,"canUseDOM",$_);ii(this,"context");ii(this,"value",{setHelmet:r=>{this.context.helmet=r},helmetInstances:{get:()=>this.canUseDOM?om:this.instances,add:r=>{(this.canUseDOM?om:this.instances).push(r)},remove:r=>{const e=(this.canUseDOM?om:this.instances).indexOf(r);(this.canUseDOM?om:this.instances).splice(e,1)}}});this.context=r,this.canUseDOM=e||!1,e||(r.helmet=b2({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},az={},W_=ft.createContext(az),Oc,q_=(Oc=class extends w.Component{constructor(t){super(t);ii(this,"helmetData");this.helmetData=new y2(this.props.context||{},Oc.canUseDOM)}render(){return ft.createElement(W_.Provider,{value:this.helmetData.value},this.props.children)}},ii(Oc,"canUseDOM",$_),Oc),Vd=(r,e)=>{const t=document.head||document.querySelector("head"),n=t.querySelectorAll(`${r}[${vi}]`),a=[].slice.call(n),s=[];let i;return e&&e.length&&e.forEach(l=>{const c=document.createElement(r);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d))if(d==="innerHTML")c.innerHTML=l.innerHTML;else if(d==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const u=d,h=typeof l[u]>"u"?"":l[u];c.setAttribute(d,h)}c.setAttribute(vi,"true"),a.some((d,u)=>(i=u,c.isEqualNode(d)))?a.splice(i,1):s.push(c)}),a.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),s.forEach(l=>t.appendChild(l)),{oldTags:a,newTags:s}},w2=(r,e)=>{const t=document.getElementsByTagName(r)[0];if(!t)return;const n=t.getAttribute(vi),a=n?n.split(","):[],s=[...a],i=Object.keys(e);for(const l of i){const c=e[l]||"";t.getAttribute(l)!==c&&t.setAttribute(l,c),a.indexOf(l)===-1&&a.push(l);const d=s.indexOf(l);d!==-1&&s.splice(d,1)}for(let l=s.length-1;l>=0;l-=1)t.removeAttribute(s[l]);a.length===s.length?t.removeAttribute(vi):t.getAttribute(vi)!==i.join(",")&&t.setAttribute(vi,i.join(","))},sz=(r,e)=>{typeof r<"u"&&document.title!==r&&(document.title=H_(r)),w2("title",e)},qC=(r,e)=>{const{baseTag:t,bodyAttributes:n,htmlAttributes:a,linkTags:s,metaTags:i,noscriptTags:l,onChangeClientState:c,scriptTags:d,styleTags:u,title:h,titleAttributes:f}=r;w2("body",n),w2("html",a),sz(h,f);const p={baseTag:Vd("base",t),linkTags:Vd("link",s),metaTags:Vd("meta",i),noscriptTags:Vd("noscript",l),scriptTags:Vd("script",d),styleTags:Vd("style",u)},m={},g={};Object.keys(p).forEach(v=>{const{newTags:x,oldTags:b}=p[v];x.length&&(m[v]=x),b.length&&(g[v]=p[v].oldTags)}),e&&e(),c(r,m,g)},hf=null,iz=r=>{hf&&cancelAnimationFrame(hf),r.defer?hf=requestAnimationFrame(()=>{qC(r,()=>{hf=null})}):(qC(r),hf=null)},oz=iz,YC=class extends w.Component{constructor(){super(...arguments);ii(this,"rendered",!1)}shouldComponentUpdate(e){return!VB(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let n=null;const a=ZB(e.get().map(s=>{const i={...s.props};return delete i.context,i}));q_.canUseDOM?oz(a):b2&&(n=b2(a)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},hy,lz=(hy=class extends w.Component{shouldComponentUpdate(r){return!zB(WC(this.props,"helmetData"),WC(r,"helmetData"))}mapNestedChildrenToProps(r,e){if(!e)return null;switch(r.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${r.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(r,e,t,n){return{...e,[r.type]:[...e[r.type]||[],{...t,...this.mapNestedChildrenToProps(r,n)}]}}mapObjectTypeChildren(r,e,t,n){switch(r.type){case"title":return{...e,[r.type]:n,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[r.type]:{...t}}}}mapArrayTypeChildrenToProps(r,e){let t={...e};return Object.keys(r).forEach(n=>{t={...t,[n]:r[n]}}),t}warnOnInvalidChildren(r,e){return VC($C.some(t=>r.type===t),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${$C.join(", ")} are allowed. Helmet does not support rendering <${r.type}> elements. Refer to our API for more information.`),VC(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${r.type}>. Did you forget to wrap your children in braces? ( <${r.type}>{\`\`}</${r.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(r,e){let t={};return ft.Children.forEach(r,n=>{if(!n||!n.props)return;const{children:a,...s}=n.props,i=Object.keys(s).reduce((c,d)=>(c[$B[d]||d]=s[d],c),{});let{type:l}=n;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(n,a),l){case"Symbol(react.fragment)":e=this.mapChildrenToProps(a,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(n,t,i,a);break;default:e=this.mapObjectTypeChildren(n,e,i,a);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:r,...e}=this.props;let t={...e},{helmetData:n}=e;if(r&&(t=this.mapChildrenToProps(r,t)),n&&!(n instanceof y2)){const a=n;n=new y2(a.context,!0),delete t.helmetData}return n?ft.createElement(YC,{...t,context:n.value}):ft.createElement(W_.Consumer,null,a=>ft.createElement(YC,{...t,context:a}))}},ii(hy,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),hy);const Yt=({title:r,description:e})=>o.jsxs(lz,{children:[o.jsx("title",{children:r}),o.jsx("meta",{name:"description",content:e}),o.jsx("meta",{name:"robots",content:"noindex, nofollow"}),o.jsx("meta",{name:"googlebot",content:"noindex, nofollow"})]}),cz=({children:r})=>o.jsx(q_,{children:r});function dz(){return o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"React.js 404 Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js 404 Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),o.jsxs("div",{className:"relative flex flex-col items-center justify-center min-h-screen p-6 overflow-hidden z-1",children:[o.jsx(F_,{}),o.jsxs("div",{className:"mx-auto w-full max-w-[242px] text-center sm:max-w-[472px]",children:[o.jsx("h1",{className:"mb-8 font-bold text-gray-800 text-title-md dark:text-white/90 xl:text-title-2xl",children:"ERROR"}),o.jsx("img",{src:"/images/error/404.svg",alt:"404",className:"dark:hidden"}),o.jsx("img",{src:"/images/error/404-dark.svg",alt:"404",className:"hidden dark:block"}),o.jsx("p",{className:"mt-10 mb-6 text-base text-gray-700 dark:text-gray-400 sm:text-lg",children:"We cant seem to find the page you are looking for!"}),o.jsx(Sn,{to:"/",className:"inline-flex items-center justify-center rounded-lg border border-gray-300 bg-white px-5 py-3.5 text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",children:"Back to Home Page"})]}),o.jsxs("p",{className:"absolute text-sm text-center text-gray-500 -translate-x-1/2 bottom-6 left-1/2 dark:text-gray-400",children:[" ",new Date().getFullYear()," - TailAdmin"]})]})]})}const kr=({pageTitle:r})=>o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white/90","x-text":"pageName",children:r}),o.jsx("nav",{children:o.jsxs("ol",{className:"flex items-center gap-1.5",children:[o.jsx("li",{children:o.jsxs(Sn,{className:"inline-flex items-center gap-1.5 text-sm text-gray-500 dark:text-gray-400",to:"/",children:["Home",o.jsx("svg",{className:"stroke-current",width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M6.0765 12.667L10.2432 8.50033L6.0765 4.33366",stroke:"",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),o.jsx("li",{className:"text-sm text-gray-800 dark:text-white/90",children:r})]})})]}),GC=["bg-brand-500","bg-success-500","bg-error-500","bg-warning-500","bg-purple-500","bg-pink-500","bg-cyan-500","bg-amber-500","bg-emerald-500","bg-indigo-500"],uz=r=>{const e=r.split("").reduce((t,n)=>t+n.charCodeAt(0),0);return GC[e%GC.length]},hz=r=>r.split(" ").map(e=>e[0]).filter((e,t,n)=>t===0||t===n.length-1).join("").toUpperCase(),fz=r=>{switch(r){case"sm":return"w-8 h-8 text-sm";case"lg":return"w-16 h-16 text-xl";default:return"w-12 h-12 text-base"}};function n4({userId:r,name:e,size:t="md",onImageChange:n,editable:a=!1}){const[s,i]=w.useState(null),[l,c]=w.useState(!1),[d,u]=w.useState(null),[h,f]=w.useState(null);w.useEffect(()=>{m()},[r]);async function p(y){const{data:C}=await K.from("admins").select("id").eq("id",y).maybeSingle();return C?"admins":"platform_users"}async function m(){try{const y=await p(r);f(y);const{data:C}=await K.from(y).select("avatar_url").eq("id",r).maybeSingle();if(C!=null&&C.avatar_url){const{data:{publicUrl:S}}=K.storage.from("avatars").getPublicUrl(C.avatar_url);i(S)}}catch(y){console.error("Error loading avatar:",y),i(null)}}const g=async y=>{var S;const C=(S=y.target.files)==null?void 0:S[0];if(!(!C||!h)){if(!C.type.startsWith("image/")){u("Please select an image file");return}if(C.size>5*1024*1024){u("Image must be less than 5MB");return}try{c(!0),u(null);const _=C.name.split(".").pop(),E=`${r}-${Date.now()}.${_}`,{error:A}=await K.storage.from("avatars").upload(E,C);if(A)throw A;const{error:T}=await K.from(h).update({avatar_url:E}).eq("id",r);if(T)throw T;await m(),n&&n()}catch(_){console.error("Error uploading avatar:",_),u("Failed to upload image")}finally{c(!1)}}},v=fz(t),x=uz(r),b=hz(e);return o.jsxs("div",{className:"relative group",children:[s?o.jsx("img",{src:s,alt:e,className:`${v} rounded-full object-cover`}):o.jsx("div",{className:`${v} ${x} rounded-full flex items-center justify-center text-white font-medium`,children:b}),a&&o.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-full cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:g,disabled:l}),o.jsxs("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})]}),d&&o.jsx("div",{className:"absolute top-full mt-1 text-sm text-error-500",children:d})]})}function Y_({profile:r}){if(!r)return null;const e=`${r.first_name} ${r.last_name}`,t=r.is_first_admin!==void 0?r.is_first_admin?"Administrador Principal":"Administrador":r.role==="publisher"?"Publisher":"Anunciante",n=()=>{};return o.jsx("div",{className:"p-5 border border-gray-200 rounded-2xl dark:border-gray-800 lg:p-6",children:o.jsx("div",{className:"flex flex-col gap-5 xl:flex-row xl:items-center xl:justify-between",children:o.jsxs("div",{className:"flex flex-col items-center w-full gap-6 xl:flex-row",children:[o.jsx(n4,{userId:r.id,name:e,size:"lg",editable:!0,onImageChange:n}),o.jsxs("div",{className:"order-3 xl:order-2",children:[o.jsx("h4",{className:"mb-2 text-lg font-semibold text-center text-gray-800 dark:text-white/90 xl:text-left",children:e}),o.jsxs("div",{className:"flex flex-col items-center gap-1 text-center xl:flex-row xl:gap-3 xl:text-left",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.email}),o.jsx("div",{className:"hidden h-3.5 w-px bg-gray-300 dark:bg-gray-700 xl:block"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t})]})]})]})})})}const at=({children:r,size:e="md",variant:t="primary",startIcon:n,endIcon:a,onClick:s,className:i="",disabled:l=!1})=>{const c={sm:"px-4 py-3 text-sm",md:"px-5 py-3.5 text-sm"},d={primary:"bg-brand-500 text-white shadow-theme-xs hover:bg-brand-600 disabled:bg-brand-300",outline:"bg-white text-gray-700 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-white/[0.03] dark:hover:text-gray-300"};return o.jsxs("button",{className:`inline-flex items-center justify-center gap-2 rounded-lg transition ${i} ${c[e]} ${d[t]} ${l?"cursor-not-allowed opacity-50":""}`,onClick:s,disabled:l,children:[n&&o.jsx("span",{className:"flex items-center",children:n}),r,a&&o.jsx("span",{className:"flex items-center",children:a})]})},st=({type:r="text",id:e,name:t,placeholder:n,value:a,onChange:s,onBlur:i,className:l="",min:c,max:d,step:u,disabled:h=!1,success:f=!1,error:p=!1,hint:m,pattern:g,title:v,required:x=!1,maxLength:b,autoComplete:y})=>{let C=` h-11 w-full rounded-lg border appearance-none px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3  dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 ${l}`;h?C+=" text-gray-500 border-gray-300 opacity-40 bg-gray-100 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700 opacity-40":p?C+="  border-error-500 focus:border-error-300 focus:ring-error-500/20 dark:text-error-400 dark:border-error-500 dark:focus:border-error-800":f?C+="  border-success-500 focus:border-success-300 focus:ring-success-500/20 dark:text-success-400 dark:border-success-500 dark:focus:border-success-800":C+=" bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-brand-500/20 dark:bg-gray-800 dark:border-gray-600 dark:text-white dark:placeholder:text-gray-400 dark:focus:border-brand-400";const S=_=>{if(r==="url"){let E=_.target.value;if(!E||/^https?:\/\//.test(E)){s==null||s(_);return}/^https?:\/\//.test(E)||(_.target.value=`https://${E}`)}s==null||s(_)};return o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:r,id:e,name:t,placeholder:r==="url"?"https://example.com":n,value:a,onChange:r==="url"?S:s,onBlur:i,min:c,max:d,step:u,disabled:h,className:C,pattern:g||(r==="url"?"^https?://.+":void 0),title:v||(r==="url"?"URL must start with http:// or https://":void 0),required:x,maxLength:b,autoComplete:y}),m&&o.jsx("p",{className:`mt-1.5 text-xs ${p?"text-error-500":f?"text-success-500":"text-gray-500"}`,children:m})]})},a4="-",pz=r=>{const e=mz(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:i=>{const l=i.split(a4);return l[0]===""&&l.length!==1&&l.shift(),G_(l,e)||gz(i)},getConflictingClassGroupIds:(i,l)=>{const c=t[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},G_=(r,e)=>{var i;if(r.length===0)return e.classGroupId;const t=r[0],n=e.nextPart.get(t),a=n?G_(r.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const s=r.join(a4);return(i=e.validators.find(({validator:l})=>l(s)))==null?void 0:i.classGroupId},XC=/^\[(.+)\]$/,gz=r=>{if(XC.test(r)){const e=XC.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},mz=r=>{const{theme:e,classGroups:t}=r,n={nextPart:new Map,validators:[]};for(const a in t)k2(t[a],n,a,e);return n},k2=(r,e,t,n)=>{r.forEach(a=>{if(typeof a=="string"){const s=a===""?e:ZC(e,a);s.classGroupId=t;return}if(typeof a=="function"){if(xz(a)){k2(a(n),e,t,n);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([s,i])=>{k2(i,ZC(e,s),t,n)})})},ZC=(r,e)=>{let t=r;return e.split(a4).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},xz=r=>r.isThemeGetter,vz=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const a=(s,i)=>{t.set(s,i),e++,e>r&&(e=0,n=t,t=new Map)};return{get(s){let i=t.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return a(s,i),i},set(s,i){t.has(s)?t.set(s,i):a(s,i)}}},C2="!",S2=":",bz=S2.length,yz=r=>{const{prefix:e,experimentalParseClassName:t}=r;let n=a=>{const s=[];let i=0,l=0,c=0,d;for(let m=0;m<a.length;m++){let g=a[m];if(i===0&&l===0){if(g===S2){s.push(a.slice(c,m)),c=m+bz;continue}if(g==="/"){d=m;continue}}g==="["?i++:g==="]"?i--:g==="("?l++:g===")"&&l--}const u=s.length===0?a:a.substring(c),h=wz(u),f=h!==u,p=d&&d>c?d-c:void 0;return{modifiers:s,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}};if(e){const a=e+S2,s=n;n=i=>i.startsWith(a)?s(i.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(t){const a=n;n=s=>t({className:s,parseClassName:a})}return n},wz=r=>r.endsWith(C2)?r.substring(0,r.length-1):r.startsWith(C2)?r.substring(1):r,kz=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let s=[];return n.forEach(i=>{i[0]==="["||e[i]?(a.push(...s.sort(),i),s=[]):s.push(i)}),a.push(...s.sort()),a}},Cz=r=>({cache:vz(r.cacheSize),parseClassName:yz(r),sortModifiers:kz(r),...pz(r)}),Sz=/\s+/,jz=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:s}=e,i=[],l=r.trim().split(Sz);let c="";for(let d=l.length-1;d>=0;d-=1){const u=l[d],{isExternal:h,modifiers:f,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}=t(u);if(h){c=u+(c.length>0?" "+c:c);continue}let v=!!g,x=n(v?m.substring(0,g):m);if(!x){if(!v){c=u+(c.length>0?" "+c:c);continue}if(x=n(m),!x){c=u+(c.length>0?" "+c:c);continue}v=!1}const b=s(f).join(":"),y=p?b+C2:b,C=y+x;if(i.includes(C))continue;i.push(C);const S=a(x,v);for(let _=0;_<S.length;++_){const E=S[_];i.push(y+E)}c=u+(c.length>0?" "+c:c)}return c};function _z(){let r=0,e,t,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=X_(e))&&(n&&(n+=" "),n+=t);return n}const X_=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=X_(r[n]))&&(t&&(t+=" "),t+=e);return t};function Nz(r,...e){let t,n,a,s=i;function i(c){const d=e.reduce((u,h)=>h(u),r());return t=Cz(d),n=t.cache.get,a=t.cache.set,s=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=jz(c,t);return a(c,u),u}return function(){return s(_z.apply(null,arguments))}}const Wn=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},Z_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,J_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ez=/^\d+\/\d+$/,Az=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Pz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Lz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Dz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Tz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$d=r=>Ez.test(r),nr=r=>!!r&&!Number.isNaN(Number(r)),fc=r=>!!r&&Number.isInteger(Number(r)),JC=r=>r.endsWith("%")&&nr(r.slice(0,-1)),il=r=>Az.test(r),Rz=()=>!0,Mz=r=>Pz.test(r)&&!Lz.test(r),s4=()=>!1,Iz=r=>Dz.test(r),Oz=r=>Tz.test(r),Fz=r=>!St(r)&&!jt(r),Bz=r=>hh(r,eN,s4),St=r=>Z_.test(r),pc=r=>hh(r,tN,Mz),Xv=r=>hh(r,Zz,nr),zz=r=>hh(r,K_,s4),Hz=r=>hh(r,Q_,Oz),Uz=r=>hh(r,s4,Iz),jt=r=>J_.test(r),lm=r=>fh(r,tN),Vz=r=>fh(r,Jz),$z=r=>fh(r,K_),Wz=r=>fh(r,eN),qz=r=>fh(r,Q_),Yz=r=>fh(r,Kz,!0),hh=(r,e,t)=>{const n=Z_.exec(r);return n?n[1]?e(n[1]):t(n[2]):!1},fh=(r,e,t=!1)=>{const n=J_.exec(r);return n?n[1]?e(n[1]):t:!1},K_=r=>r==="position",Gz=new Set(["image","url"]),Q_=r=>Gz.has(r),Xz=new Set(["length","size","percentage"]),eN=r=>Xz.has(r),tN=r=>r==="length",Zz=r=>r==="number",Jz=r=>r==="family-name",Kz=r=>r==="shadow",Qz=()=>{const r=Wn("color"),e=Wn("font"),t=Wn("text"),n=Wn("font-weight"),a=Wn("tracking"),s=Wn("leading"),i=Wn("breakpoint"),l=Wn("container"),c=Wn("spacing"),d=Wn("radius"),u=Wn("shadow"),h=Wn("inset-shadow"),f=Wn("drop-shadow"),p=Wn("blur"),m=Wn("perspective"),g=Wn("aspect"),v=Wn("ease"),x=Wn("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],C=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],_=()=>[$d,"px","full","auto",jt,St,c],E=()=>[fc,"none","subgrid",jt,St],A=()=>["auto",{span:["full",fc,jt,St]},jt,St],T=()=>[fc,"auto",jt,St],F=()=>["auto","min","max","fr",jt,St],L=()=>[jt,St,c],D=()=>["start","end","center","between","around","evenly","stretch","baseline"],O=()=>["start","end","center","stretch"],I=()=>[jt,St,c],B=()=>["px",...I()],z=()=>["px","auto",...I()],V=()=>[$d,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",jt,St,c],W=()=>[r,jt,St],Y=()=>[JC,pc],G=()=>["","none","full",d,jt,St],q=()=>["",nr,lm,pc],M=()=>["solid","dashed","dotted","double"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["","none",p,jt,St],X=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",jt,St],Q=()=>["none",nr,jt,St],se=()=>["none",nr,jt,St],le=()=>[nr,jt,St],ue=()=>[$d,"full","px",jt,St,c];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[il],breakpoint:[il],color:[Rz],container:[il],"drop-shadow":[il],ease:["in","out","in-out"],font:[Fz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[il],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[il],shadow:[il],spacing:[nr],text:[il],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",$d,St,jt,g]}],container:["container"],columns:[{columns:[nr,St,jt,l]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...y(),St,jt]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{start:_()}],end:[{end:_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[fc,"auto",jt,St]}],basis:[{basis:[$d,"full","auto",jt,St,l,c]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[nr,$d,"auto","initial","none",St]}],grow:[{grow:["",nr,jt,St]}],shrink:[{shrink:["",nr,jt,St]}],order:[{order:[fc,"first","last","none",jt,St]}],"grid-cols":[{"grid-cols":E()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":E()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...D(),"normal"]}],"justify-items":[{"justify-items":[...O(),"normal"]}],"justify-self":[{"justify-self":["auto",...O()]}],"align-content":[{content:["normal",...D()]}],"align-items":[{items:[...O(),"baseline"]}],"align-self":[{self:["auto",...O(),"baseline"]}],"place-content":[{"place-content":D()}],"place-items":[{"place-items":[...O(),"baseline"]}],"place-self":[{"place-self":["auto",...O()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[l,"screen",...V()]}],"min-w":[{"min-w":[l,"screen","none",...V()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...V()]}],h:[{h:["screen",...V()]}],"min-h":[{"min-h":["screen","none",...V()]}],"max-h":[{"max-h":["screen",...V()]}],"font-size":[{text:["base",t,lm,pc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,jt,Xv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",JC,St]}],"font-family":[{font:[Vz,St,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,jt,St]}],"line-clamp":[{"line-clamp":[nr,"none",jt,Xv]}],leading:[{leading:[jt,St,s,c]}],"list-image":[{"list-image":["none",jt,St]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",jt,St]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:[nr,"from-font","auto",jt,pc]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[nr,"auto",jt,St]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...I()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",jt,St]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",jt,St]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...y(),$z,zz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",Wz,Bz]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fc,jt,St],radial:["",jt,St],conic:[fc,jt,St]},qz,Hz]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:q()}],"border-w-x":[{"border-x":q()}],"border-w-y":[{"border-y":q()}],"border-w-s":[{"border-s":q()}],"border-w-e":[{"border-e":q()}],"border-w-t":[{"border-t":q()}],"border-w-r":[{"border-r":q()}],"border-w-b":[{"border-b":q()}],"border-w-l":[{"border-l":q()}],"divide-x":[{"divide-x":q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...M(),"hidden","none"]}],"divide-style":[{divide:[...M(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...M(),"none","hidden"]}],"outline-offset":[{"outline-offset":[nr,jt,St]}],"outline-w":[{outline:["",nr,lm,pc]}],"outline-color":[{outline:[r]}],shadow:[{shadow:["","none",u,Yz,Uz]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",jt,St,h]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[nr,pc]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":q()}],"inset-ring-color":[{"inset-ring":W()}],opacity:[{opacity:[nr,jt,St]}],"mix-blend":[{"mix-blend":[...U(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none",jt,St]}],blur:[{blur:$()}],brightness:[{brightness:[nr,jt,St]}],contrast:[{contrast:[nr,jt,St]}],"drop-shadow":[{"drop-shadow":["","none",f,jt,St]}],grayscale:[{grayscale:["",nr,jt,St]}],"hue-rotate":[{"hue-rotate":[nr,jt,St]}],invert:[{invert:["",nr,jt,St]}],saturate:[{saturate:[nr,jt,St]}],sepia:[{sepia:["",nr,jt,St]}],"backdrop-filter":[{"backdrop-filter":["","none",jt,St]}],"backdrop-blur":[{"backdrop-blur":$()}],"backdrop-brightness":[{"backdrop-brightness":[nr,jt,St]}],"backdrop-contrast":[{"backdrop-contrast":[nr,jt,St]}],"backdrop-grayscale":[{"backdrop-grayscale":["",nr,jt,St]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[nr,jt,St]}],"backdrop-invert":[{"backdrop-invert":["",nr,jt,St]}],"backdrop-opacity":[{"backdrop-opacity":[nr,jt,St]}],"backdrop-saturate":[{"backdrop-saturate":[nr,jt,St]}],"backdrop-sepia":[{"backdrop-sepia":["",nr,jt,St]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",jt,St]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[nr,"initial",jt,St]}],ease:[{ease:["linear","initial",v,jt,St]}],delay:[{delay:[nr,jt,St]}],animate:[{animate:["none",x,jt,St]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,jt,St]}],"perspective-origin":[{"perspective-origin":X()}],rotate:[{rotate:Q()}],"rotate-x":[{"rotate-x":Q()}],"rotate-y":[{"rotate-y":Q()}],"rotate-z":[{"rotate-z":Q()}],scale:[{scale:se()}],"scale-x":[{"scale-x":se()}],"scale-y":[{"scale-y":se()}],"scale-z":[{"scale-z":se()}],"scale-3d":["scale-3d"],skew:[{skew:le()}],"skew-x":[{"skew-x":le()}],"skew-y":[{"skew-y":le()}],transform:[{transform:[jt,St,"","none","gpu","cpu"]}],"transform-origin":[{origin:X()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ue()}],"translate-x":[{"translate-x":ue()}],"translate-y":[{"translate-y":ue()}],"translate-z":[{"translate-z":ue()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",jt,St]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",jt,St]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[nr,lm,pc,Xv]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},eH=Nz(Qz),Te=({htmlFor:r,children:e,className:t})=>o.jsx("label",{htmlFor:r,className:eH("mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",t),children:e}),Kc=({countries:r,placeholder:e="(99) 99999-9999",value:t="",onChange:n,selectPosition:a="start"})=>{const[s,i]=w.useState("BR"),l=u=>{var p;const h=u.target.value;i(h);const f=((p=r.find(m=>m.code===h))==null?void 0:p.label)||"";n&&n(f+t.replace(/^\+\d+\s*/,""))},c=u=>{var m;const h=u.target.value.replace(/[^\d]/g,"");let f=h;s==="BR"&&h.length<=11&&(h.length>2&&(f=`(${h.slice(0,2)}) ${h.slice(2)}`),h.length>7&&(f=`(${h.slice(0,2)}) ${h.slice(2,7)}-${h.slice(7)}`));const p=((m=r.find(g=>g.code===s))==null?void 0:m.label)||"";n&&n(p+" "+f)},d=()=>{var h;const u=((h=r.find(f=>f.code===s))==null?void 0:h.label)||"";return t.replace(u,"").trim()};return o.jsxs("div",{className:"relative flex",children:[a==="start"&&o.jsxs("div",{className:"absolute",children:[o.jsx("select",{value:s,onChange:l,className:"appearance-none bg-none rounded-l-lg border-0 border-r border-gray-200 bg-transparent py-3 pl-3.5 pr-8 leading-tight text-gray-700 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-800 dark:text-gray-400",children:r.map(u=>o.jsx("option",{value:u.code,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:u.label},u.code))}),o.jsx("div",{className:"absolute inset-y-0 flex items-center text-gray-700 pointer-events-none bg-none right-3 dark:text-gray-400",children:o.jsx("svg",{className:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),o.jsx("input",{type:"tel",value:d(),onChange:c,placeholder:e,className:`dark:bg-dark-900 h-11 w-full ${a==="start"?"pl-[84px]":"pr-[84px]"} rounded-lg border border-gray-300 bg-transparent py-3 px-4 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800`}),a==="end"&&o.jsxs("div",{className:"absolute right-0",children:[o.jsx("select",{value:s,onChange:l,className:"appearance-none bg-none rounded-r-lg border-0 border-l border-gray-200 bg-transparent py-3 pl-3.5 pr-8 leading-tight text-gray-700 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-800 dark:text-gray-400",children:r.map(u=>o.jsx("option",{value:u.code,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:u.label},u.code))}),o.jsx("div",{className:"absolute inset-y-0 flex items-center text-gray-700 pointer-events-none right-3 dark:text-gray-400",children:o.jsx("svg",{className:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})},tH=[{code:"BR",label:"+55"},{code:"US",label:"+1"},{code:"GB",label:"+44"},{code:"PT",label:"+351"},{code:"ES",label:"+34"},{code:"FR",label:"+33"},{code:"DE",label:"+49"},{code:"IT",label:"+39"},{code:"JP",label:"+81"},{code:"CN",label:"+86"},{code:"AU",label:"+61"},{code:"CA",label:"+1"},{code:"MX",label:"+52"},{code:"AR",label:"+54"},{code:"CL",label:"+56"},{code:"CO",label:"+57"},{code:"PE",label:"+51"},{code:"UY",label:"+598"},{code:"PY",label:"+595"},{code:"BO",label:"+591"}];function rH({profile:r,onUpdate:e,onClose:t}){const[n,a]=w.useState((r==null?void 0:r.first_name)||""),[s,i]=w.useState((r==null?void 0:r.last_name)||""),[l,c]=w.useState((r==null?void 0:r.phone)||""),[d,u]=w.useState(!1),[h,f]=w.useState(""),[p,m]=w.useState(!1);if(w.useEffect(()=>{r&&(a(r.first_name),i(r.last_name),c(r.phone||""))},[r]),!r)return null;const g=async v=>{v.preventDefault();try{if(u(!0),f(""),m(!1),!n.trim()||!s.trim()){f("Nome e sobrenome so obrigatrios");return}const{error:x}=await K.from("admins").update({first_name:n.trim(),last_name:s.trim(),phone:l.trim()}).eq("id",r.id);if(x)throw x;m(!0),e(),setTimeout(()=>{m(!1)},3e3)}catch(x){console.error("Erro ao atualizar perfil:",x),f("Erro ao atualizar perfil")}finally{u(!1)}};return o.jsx("div",{className:"p-5 border border-gray-200 rounded-2xl dark:border-gray-800 lg:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Informaes Pessoais"}),h&&o.jsx("div",{className:"p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:h}),p&&o.jsx("div",{className:"p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:"Informaes atualizadas com sucesso!"}),o.jsxs("form",{onSubmit:g,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[o.jsxs("div",{children:[o.jsxs(Te,{children:["Nome ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"text",value:n,onChange:v=>a(v.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Sobrenome ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"text",value:s,onChange:v=>i(v.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Email"}),o.jsx(st,{type:"email",value:r.email,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Telefone"}),o.jsx(Kc,{countries:tH,value:l,onChange:v=>c(v),placeholder:"(99) 99999-9999"})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Tipo de Conta"}),o.jsx(st,{type:"text",value:r.is_first_admin?"Administrador Principal":"Administrador",disabled:!0})]})]}),o.jsxs("div",{className:"flex justify-end",children:[t&&o.jsx(at,{variant:"outline",onClick:t,children:"Cancelar"}),o.jsx(at,{disabled:d,children:d?"Salvando...":"Salvar"})]})]})]})})}const Lr=({label:r,defaultChecked:e=!1,checked:t,disabled:n=!1,onChange:a,color:s="blue"})=>{const[i,l]=w.useState(e);w.useEffect(()=>{t!==void 0&&(console.log(`Switch ${r} - External checked prop changed to:`,t),l(t))},[t,r]);const c=()=>{if(n)return;const u=!i;l(u),a&&(console.log(`Switch ${r} - Calling onChange with:`,u),a(u)),console.log("Switch toggled:",r,"New state:",u)},d=s==="blue"?{background:i?"bg-brand-500":"bg-gray-200 dark:bg-white/10",knob:i?"translate-x-full bg-white":"translate-x-0 bg-white"}:{background:i?"bg-gray-800 dark:bg-white/10":"bg-gray-200 dark:bg-white/10",knob:i?"translate-x-full bg-white":"translate-x-0 bg-white"};return o.jsxs("label",{className:`flex cursor-pointer select-none items-center gap-3 text-sm font-medium ${n?"text-gray-400":"text-gray-700 dark:text-gray-400"}`,onClick:c,children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:`block transition duration-150 ease-linear h-6 w-11 rounded-full ${n?"bg-gray-100 pointer-events-none dark:bg-gray-800":d.background}`}),o.jsx("div",{className:`absolute left-0.5 top-0.5 h-5 w-5 rounded-full shadow-theme-sm duration-150 ease-linear transform ${d.knob}`})]}),r]})},rN="https://uxbeaslwirkepnowydfu.supabase.co/functions/v1",nN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV4YmVhc2x3aXJrZXBub3d5ZGZ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE4MTQwNTUsImV4cCI6MjA1NzM5MDA1NX0.bhPFhXaCgp363YlcAWtNhPlpj82dSNUWwNim2fgYh5s";console.log("SUPABASE_FUNCTIONS_URL:",rN);console.log("SUPABASE_ANON_KEY:",nN.substring(0,8)+"...");async function aN(r){const e=`${rN}/delete-user`,t="POST",n={"Content-Type":"application/json",Authorization:`Bearer ${nN}`},a=JSON.stringify({userId:r});console.log("deleteUserFromAuth - endpoint:",e),console.log("deleteUserFromAuth - method:",t),console.log("deleteUserFromAuth - headers:",n),console.log("deleteUserFromAuth - body:",a);const s=await fetch(e,{method:t,headers:n,body:a}),i=await s.json();if(!s.ok)throw new Error(i.error||"Erro ao deletar do Auth");return i}function sN({profile:r,onUpdate:e}){const[t,n]=w.useState(!1),[a,s]=w.useState(""),[i,l]=w.useState(!1),[c,d]=w.useState(!1),[u,h]=w.useState(!1),[f,p]=w.useState(!1),[m,g]=w.useState(!1);if(w.useEffect(()=>{r&&(d(r.marketing_automation||!1),h(r.newsletter||!1),p(r.offer_suggestions||!1))},[r]),!r)return null;const v=async()=>{try{n(!0),s(""),l(!1);const{error:b}=await K.from("admins").update({marketing_automation:c,newsletter:u,offer_suggestions:f}).eq("id",r.id);if(b)throw b;l(!0),e(),setTimeout(()=>{l(!1)},3e3)}catch(b){console.error("Erro ao atualizar preferncias:",b),s("Erro ao atualizar preferncias")}finally{n(!1)}},x=async()=>{const y=prompt(` ATENO: Esta ao  IRREVERSVEL!

Ao excluir sua conta:
 Todos os seus dados sero permanentemente removidos
 Voc perder acesso a todos os servios
 No ser possvel recuperar informaes

Digite 'EXCLUIR' para confirmar:`);if(y!=="EXCLUIR"){y!==null&&s("Confirmao incorreta. Operao cancelada.");return}try{n(!0),s(""),l(!1);const{data:{user:C}}=await K.auth.getUser();if(!C)throw new Error("Usurio no autenticado");let S="admins",{data:_,error:E}=await K.from("admins").select("id").eq("id",r.id).single();if(E||!_){S="platform_users";const{data:F,error:L}=await K.from("platform_users").select("id").eq("id",r.id).single();if(L||!F)throw new Error("Perfil no encontrado")}const{error:A}=await K.from(S).delete().eq("id",r.id);if(A)throw new Error(`Erro ao deletar perfil: ${A.message}`);await aN(C.id);const{error:T}=await K.auth.signOut();T&&console.warn("Erro ao fazer logout:",T),typeof window<"u"&&(localStorage.clear(),sessionStorage.clear()),window.location.replace("/signin")}catch(C){console.error("Erro ao excluir conta:",C);let S="Erro inesperado ao excluir conta";C instanceof Error?S=C.message:typeof C=="string"&&(S=C),s(`Falha ao excluir conta: ${S}`)}finally{n(!1)}};return o.jsx("div",{className:"p-5 border border-gray-200 rounded-2xl dark:border-gray-800 lg:p-6",children:o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 dark:text-white/90 mb-6",children:"Preferncias"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex-shrink-0 pt-1",children:o.jsx(Lr,{checked:c,onChange:b=>{d(b),l(!1)},label:""})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800 dark:text-white/90 mb-2",children:"Automao de Marketing"}),o.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[o.jsxs("div",{className:m?"":"line-clamp-2",children:["Como parte da Plataforma, enviamos"," ",o.jsx("b",{children:"emails educacionais"})," aos nossos Usurios e apresentamos ",o.jsx("b",{children:"recursos adicionais da Plataforma"}),","," ",o.jsx("b",{children:"produtos"})," e ",o.jsx("b",{children:"promoes peridicas"})," (",o.jsx("i",{children:"automao de marketing"}),") - marque esta caixa se voc concorda em receber mensagens nossas usando sistemas de chamadas automatizados para fins de marketing direto de servios e produtos oferecidos."]}),o.jsx("button",{onClick:()=>g(!m),className:"text-brand-500 hover:text-brand-600 dark:text-brand-400 mt-1",children:m?"Ler menos ":"Ler mais "})]})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex-shrink-0 pt-1",children:o.jsx(Lr,{checked:u,onChange:b=>{h(b),l(!1)},label:""})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800 dark:text-white/90 mb-2",children:"Newsletter"}),o.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[o.jsx("strong",{children:"Eu assino a newsletter e concordo com o envio de informaes comerciais"})," ","por meio de comunicao eletrnica, incluindo, em particular, e-mail, sobre marketing direto de servios e produtos oferecidos. A base legal para o processamento de dados  o Artigo 6(1)(a) do GDPR."]})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex-shrink-0 pt-1",children:o.jsx(Lr,{checked:f,onChange:b=>{p(b),l(!1)},label:""})}),o.jsx("div",{children:o.jsx("p",{className:"font-medium text-gray-800 dark:text-white/90",children:"Recomendao de Ofertas"})})]})]}),o.jsx("div",{className:"flex justify-end mt-6",children:o.jsx(at,{onClick:v,disabled:t,children:t?"Salvando...":"Salvar Preferncias"})}),a&&o.jsx("div",{className:"mt-4 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:a}),i&&o.jsx("div",{className:"mt-4 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:"Preferncias salvas com sucesso!"})]}),o.jsx("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6",children:o.jsx("button",{onClick:x,disabled:t,className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-error-500 rounded-lg hover:bg-error-600 focus:outline-none focus:ring-2 focus:ring-error-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900",children:t?"Excluindo...":"Excluir Conta"})})]})})}const Jt=({options:r,placeholder:e="Select an option",onChange:t,className:n="",defaultValue:a="",value:s,disabled:i=!1})=>{const[l,c]=w.useState(s||a),d=h=>{const f=h.target.value;c(f),t(f)},u=r.find(h=>h.value===(s||l));return o.jsxs("div",{className:"relative",children:[(u==null?void 0:u.icon)&&o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10",children:u.icon}),o.jsxs("select",{className:`h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 pr-11 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 ${typeof s<"u"&&s!==null?s!==""?"text-gray-800 dark:text-white/90":"text-gray-400 dark:text-gray-400":l?"text-gray-800 dark:text-white/90":"text-gray-400 dark:text-gray-400"} ${u!=null&&u.icon?"pl-12":"pl-4"} ${i?"opacity-50 cursor-not-allowed":""} ${n}`,value:s||l,onChange:d,disabled:i,children:[o.jsx("option",{value:"",disabled:!0,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:e}),r.map(h=>o.jsx("option",{value:h.value,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:h.label},h.value))]}),o.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:o.jsx("svg",{className:"stroke-gray-500 dark:stroke-gray-400",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})};var iN={exports:{}},oN={exports:{}},lN={exports:{}},nH="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",aH=nH,sH=aH;function cN(){}function dN(){}dN.resetWarningCache=cN;var iH=function(){function r(n,a,s,i,l,c){if(c!==sH){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}r.isRequired=r;function e(){return r}var t={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:e,element:r,elementType:r,instanceOf:e,node:r,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:dN,resetWarningCache:cN};return t.PropTypes=t,t};lN.exports=iH();var i4=lN.exports;const Ot=Fo(i4);function uN(r){return r&&typeof r=="object"&&"default"in r?r.default:r}var dn=w,W0=uN(dn),oH=xi,KC=uN(B_);function _f(){return(_f=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}).apply(this,arguments)}function lH(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,function(t,n){for(var a=Object.getOwnPropertyNames(n),s=0;s<a.length;s++){var i=a[s],l=Object.getOwnPropertyDescriptor(n,i);l&&l.configurable&&t[i]===void 0&&Object.defineProperty(t,i,l)}}(r,e)}function hN(r,e){if(r==null)return{};var t,n,a={},s=Object.keys(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)>=0||(a[t]=r[t]);return a}function fN(r){return requestAnimationFrame(r)}function QC(r){cancelAnimationFrame(r)}function hu(r){var e=r.ownerDocument;return e.hasFocus()&&e.activeElement===r}function pN(r){return r==null?void 0:r.ownerDocument}function cH(r){var e=function(t){var n;return(n=pN(t))==null?void 0:n.defaultView}(r);return!!e&&r instanceof e.HTMLElement}function o4(r){return dn.useCallback(function(){var e=r.current,t=typeof window<"u"&&cH(e);if(!e||!t)return null;if(e.nodeName!=="INPUT"&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},[r])}function dH(r,e){var t,n,a,s,i=dn.useRef({start:null,end:null}),l=o4(r),c=dn.useCallback(function(){return function(g){var v=g.selectionStart,x=g.selectionEnd;return{start:v,end:x,length:x-v}}(l())},[l]),d=dn.useCallback(function(){return i.current},[]),u=dn.useCallback(function(g){var v=l();v&&hu(v)&&(function(x,b,y){y===void 0&&(y=b),x.setSelectionRange(b,y)}(v,g.start,g.end),i.current=c())},[l,c]),h=dn.useCallback(function(){i.current=c()},[c]),f=(t=h,n=dn.useRef(null),a=dn.useCallback(function(){n.current===null&&function g(){t(),n.current=fN(g)}()},[t]),s=dn.useCallback(function(){QC(n.current),n.current=null},[]),dn.useEffect(function(){n.current&&(s(),a())},[a,s]),dn.useEffect(QC,[]),[a,s]),p=f[0],m=f[1];return dn.useLayoutEffect(function(){if(e){var g=l();return g.addEventListener("focus",p),g.addEventListener("blur",m),hu(g)&&p(),function(){g.removeEventListener("focus",p),g.removeEventListener("blur",m),m()}}}),{getSelection:c,getLastSelection:d,setSelection:u}}function uH(r,e){var t=dn.useRef(),n=dH(t,e),a=n.getSelection,s=n.getLastSelection,i=n.setSelection,l=function(h,f){var p=o4(h),m=dn.useRef(f);return{getValue:dn.useCallback(function(){return p().value},[p]),getLastValue:dn.useCallback(function(){return m.current},[]),setValue:dn.useCallback(function(g){m.current=g;var v=p();v&&(v.value=g)},[p])}}(t,r),c=l.getValue,d=l.getLastValue,u=l.setValue;return{inputRef:t,getInputState:function(){return{value:c(),selection:a()}},getLastInputState:function(){return{value:d(),selection:s()}},setInputState:function(h){var f=h.value,p=h.selection;u(f),i(p)}}}var hH=["disabled","onBlur","onChange","onFocus","onMouseDown","readOnly","value"],e6={9:/[0-9]/,a:/[A-Za-z]/,"*":/[A-Za-z0-9]/},fH=function(r){var e=this;this.isCharacterAllowedAtPosition=function(t,n){var a=e.maskOptions.maskPlaceholder;return!!e.isCharacterFillingPosition(t,n)||!!a&&a[n]===t},this.isCharacterFillingPosition=function(t,n){var a=e.maskOptions.mask;if(!t||n>=a.length)return!1;if(!e.isPositionEditable(n))return a[n]===t;var s=a[n];return new RegExp(s).test(t)},this.isPositionEditable=function(t){var n=e.maskOptions,a=n.mask,s=n.permanents;return t<a.length&&s.indexOf(t)===-1},this.isValueEmpty=function(t){return t.split("").every(function(n,a){return!e.isPositionEditable(a)||!e.isCharacterFillingPosition(n,a)})},this.isValueFilled=function(t){return e.getFilledLength(t)===e.maskOptions.lastEditablePosition+1},this.getDefaultSelectionForValue=function(t){var n=e.getFilledLength(t),a=e.getRightEditablePosition(n);return{start:a,end:a}},this.getFilledLength=function(t){return function(n,a){for(var s=n.length-1;s>=0;s--)if(a(n[s],s))return s;return-1}(t.split(""),function(n,a){return e.isPositionEditable(a)&&e.isCharacterFillingPosition(n,a)})+1},this.getStringFillingLengthAtPosition=function(t,n){return t.split("").reduce(function(a,s){return e.insertCharacterAtPosition(a,s,a.length)},function(a,s){s===void 0&&(s=1);for(var i="",l=0;l<s;l++)i+=a;return i}(" ",n)).length-n},this.getLeftEditablePosition=function(t){for(var n=t;n>=0;n--)if(e.isPositionEditable(n))return n;return null},this.getRightEditablePosition=function(t){for(var n=e.maskOptions.mask,a=t;a<n.length;a++)if(e.isPositionEditable(a))return a;return null},this.formatValue=function(t){var n=e.maskOptions,a=n.maskPlaceholder,s=n.mask;if(!a){for(t=e.insertStringAtPosition("",t,0);t.length<s.length&&!e.isPositionEditable(t.length);)t+=s[t.length];return t}return e.insertStringAtPosition(a,t,0)},this.clearRange=function(t,n,a){if(!a)return t;var s=n+a,i=e.maskOptions,l=i.maskPlaceholder,c=i.mask,d=t.split("").map(function(u,h){var f=e.isPositionEditable(h);return!l&&h>=s&&!f?"":h<n||h>=s?u:f?l?l[h]:"":c[h]}).join("");return e.formatValue(d)},this.insertCharacterAtPosition=function(t,n,a){var s=e.maskOptions,i=s.mask,l=s.maskPlaceholder;if(a>=i.length)return t;var c=e.isCharacterAllowedAtPosition(n,a),d=e.isPositionEditable(a),u=e.getRightEditablePosition(a),h=l&&u?n===l[u]:null,f=t.slice(0,a);return!c&&d||(t=f+(c?n:i[a])),c||d||h||(t=e.insertCharacterAtPosition(t,n,a+1)),t},this.insertStringAtPosition=function(t,n,a){var s=e.maskOptions,i=s.mask,l=s.maskPlaceholder;if(!n||a>=i.length)return t;var c=n.split(""),d=e.isValueFilled(t)||!!l,u=t.slice(a);return t=c.reduce(function(h,f){return e.insertCharacterAtPosition(h,f,h.length)},t.slice(0,a)),d?t+=u.slice(t.length-a):e.isValueFilled(t)?t+=i.slice(t.length).join(""):t=u.split("").filter(function(h,f){return e.isPositionEditable(a+f)}).reduce(function(h,f){var p=e.getRightEditablePosition(h.length);return p===null?h:(e.isPositionEditable(h.length)||(h+=i.slice(h.length,p).join("")),e.insertCharacterAtPosition(h,f,h.length))},t),t},this.processChange=function(t,n){var a=e.maskOptions,s=a.mask,i=a.prefix,l=a.lastEditablePosition,c=t.value,d=t.selection,u=n.value,h=n.selection,f=c,p="",m=0,g=0,v=Math.min(h.start,d.start);return d.end>h.start?(p=f.slice(h.start,d.end),g=(m=e.getStringFillingLengthAtPosition(p,v))?h.length:0):f.length<u.length&&(g=u.length-f.length),f=u,g&&(g===1&&!h.length&&(v=h.start===d.start?e.getRightEditablePosition(d.start):e.getLeftEditablePosition(d.start)),f=e.clearRange(f,v,g)),f=e.insertStringAtPosition(f,p,v),(v+=m)>=s.length?v=s.length:v<i.length&&!m?v=i.length:v>=i.length&&v<l&&m&&(v=e.getRightEditablePosition(v)),{value:f=e.formatValue(f),enteredString:p,selection:{start:v,end:v}}},this.maskOptions=function(t){var n=t.mask,a=t.maskPlaceholder,s=[];if(!n)return{maskPlaceholder:null,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};if(typeof n=="string"){var i=!1,l="";n.split("").forEach(function(u){i||u!=="\\"?(!i&&e6[u]||s.push(l.length),l+=u,i=!1):i=!0}),n=l.split("").map(function(u,h){return s.indexOf(h)===-1?e6[u]:u})}else n.forEach(function(u,h){typeof u=="string"&&s.push(h)});a&&(a=a.length===1?n.map(function(u,h){return s.indexOf(h)!==-1?u:a}):a.split(""),s.forEach(function(u){a[u]=n[u]}),a=a.join(""));for(var c=s.filter(function(u,h){return u===h}).map(function(u){return n[u]}).join(""),d=n.length-1;s.indexOf(d)!==-1;)d--;return{maskPlaceholder:a,prefix:c,mask:n,lastEditablePosition:d,permanents:s}}(r)},pH=function(r){function e(){return r.apply(this,arguments)||this}return lH(e,r),e.prototype.render=function(){var t=this.props,n=t.children,a=hN(t,["children"]);return W0.cloneElement(n,a)},e}(W0.Component),Zv=dn.forwardRef(function(r,e){var t=r.alwaysShowMask,n=r.children,a=r.mask,s=r.maskPlaceholder,i=r.beforeMaskedStateChange,l=hN(r,["alwaysShowMask","children","mask","maskPlaceholder","beforeMaskedStateChange"]);(function(L){var D=L.mask,O=L.maskPlaceholder;D&&O&&O.length!==1&&O.length!==D.length&&KC(!1)})(r);var c,d,u=new fH({mask:a,maskPlaceholder:s}),h=!!a,f=!l.disabled&&!l.readOnly,p=r.value!==null&&r.value!==void 0,m=(c=h,d=dn.useRef(),dn.useEffect(function(){d.current=c}),d.current),g=uH(function(L){return""+L}((p?r.value:r.defaultValue)||""),h),v=g.inputRef,x=g.getInputState,b=g.setInputState,y=g.getLastInputState,C=o4(v);if(h&&p){var S=C(),_=S&&hu(S)||t||r.value?u.formatValue(r.value):r.value;i&&(_=i({nextState:{value:_,selection:{start:null,end:null}}}).value),b(_f({},y(),{value:_}))}var E=y(),A=E.selection,T=E.value;dn.useLayoutEffect(function(){if(h){var L=hu(C()),D=A,O=x(),I=_f({},O);if(!p){var B=O.value,z=u.formatValue(B),V=u.isValueEmpty(z);!V||L||t?I.value=z:V&&!L&&(I.value="")}L&&!m?I.selection=u.getDefaultSelectionForValue(I.value):p&&L&&D&&D.start!==null&&D.end!==null&&(I.selection=D),i&&(I=i({currentState:O,nextState:I})),b(I)}});var F=_f({},l,{onFocus:function(L){v.current=L.target;var D=x().value;if(h&&!u.isValueFilled(D)){var O=u.formatValue(D),I=u.getDefaultSelectionForValue(O),B={value:O,selection:I};i&&(O=(B=i({currentState:x(),nextState:B})).value,I=B.selection),b(B),O!==D&&r.onChange&&r.onChange(L),fN(function(){b(y())})}r.onFocus&&r.onFocus(L)},onBlur:function(L){var D=x().value,O=y().value;if(h&&!t&&u.isValueEmpty(O)){var I="",B={value:I,selection:{start:null,end:null}};i&&(I=(B=i({currentState:x(),nextState:B})).value),b(B),I!==D&&r.onChange&&r.onChange(L)}r.onBlur&&r.onBlur(L)},onChange:h&&f?function(L){var D=x(),O=y(),I=u.processChange(D,O);i&&(I=i({currentState:D,previousState:O,nextState:I})),b(I),r.onChange&&r.onChange(L)}:r.onChange,onMouseDown:h&&f?function(L){var D=C(),O=x().value,I=pN(D);if(!hu(D)&&!u.isValueFilled(O)){var B=L.clientX,z=L.clientY,V=new Date().getTime();I.addEventListener("mouseup",function W(Y){if(I.removeEventListener("mouseup",W),hu(D)){var G=Math.abs(Y.clientX-B),q=Math.abs(Y.clientY-z),M=Math.max(G,q),U=new Date().getTime()-V;if(M<=10&&U<=200||M<=5&&U<=300){var $=y(),X=_f({},$,{selection:u.getDefaultSelectionForValue($.value)});b(X)}}})}r.onMouseDown&&r.onMouseDown(L)}:r.onMouseDown,ref:function(L){v.current=oH.findDOMNode(L),function(D){return typeof D=="function"}(e)?e(L):e!==null&&typeof e=="object"&&(e.current=L)},value:h&&p?T:r.value});return n?(function(L,D){hH.filter(function(O){return D.props[O]!=null&&D.props[O]!==L[O]}).length&&KC(!1)}(r,n),W0.createElement(pH,F,n)):W0.createElement("input",F)});Zv.displayName="InputMask",Zv.defaultProps={alwaysShowMask:!1,maskPlaceholder:"_"},oN.exports=Zv;var gH=oN.exports;iN.exports=gH;var mH=iN.exports;const zc=Fo(mH),xH=[{value:"AC",label:"Acre"},{value:"AL",label:"Alagoas"},{value:"AP",label:"Amap"},{value:"AM",label:"Amazonas"},{value:"BA",label:"Bahia"},{value:"CE",label:"Cear"},{value:"DF",label:"Distrito Federal"},{value:"ES",label:"Esprito Santo"},{value:"GO",label:"Gois"},{value:"MA",label:"Maranho"},{value:"MT",label:"Mato Grosso"},{value:"MS",label:"Mato Grosso do Sul"},{value:"MG",label:"Minas Gerais"},{value:"PA",label:"Par"},{value:"PB",label:"Paraba"},{value:"PR",label:"Paran"},{value:"PE",label:"Pernambuco"},{value:"PI",label:"Piau"},{value:"RJ",label:"Rio de Janeiro"},{value:"RN",label:"Rio Grande do Norte"},{value:"RS",label:"Rio Grande do Sul"},{value:"RO",label:"Rondnia"},{value:"RR",label:"Roraima"},{value:"SC",label:"Santa Catarina"},{value:"SP",label:"So Paulo"},{value:"SE",label:"Sergipe"},{value:"TO",label:"Tocantins"}],vH=[{value:"AL",label:"Alabama"},{value:"AK",label:"Alaska"},{value:"AZ",label:"Arizona"},{value:"AR",label:"Arkansas"},{value:"CA",label:"California"},{value:"CO",label:"Colorado"},{value:"CT",label:"Connecticut"},{value:"DE",label:"Delaware"},{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"HI",label:"Hawaii"},{value:"ID",label:"Idaho"},{value:"IL",label:"Illinois"},{value:"IN",label:"Indiana"},{value:"IA",label:"Iowa"},{value:"KS",label:"Kansas"},{value:"KY",label:"Kentucky"},{value:"LA",label:"Louisiana"},{value:"ME",label:"Maine"},{value:"MD",label:"Maryland"},{value:"MA",label:"Massachusetts"},{value:"MI",label:"Michigan"},{value:"MN",label:"Minnesota"},{value:"MS",label:"Mississippi"},{value:"MO",label:"Missouri"},{value:"MT",label:"Montana"},{value:"NE",label:"Nebraska"},{value:"NV",label:"Nevada"},{value:"NH",label:"New Hampshire"},{value:"NJ",label:"New Jersey"},{value:"NM",label:"New Mexico"},{value:"NY",label:"New York"},{value:"NC",label:"North Carolina"},{value:"ND",label:"North Dakota"},{value:"OH",label:"Ohio"},{value:"OK",label:"Oklahoma"},{value:"OR",label:"Oregon"},{value:"PA",label:"Pennsylvania"},{value:"RI",label:"Rhode Island"},{value:"SC",label:"South Carolina"},{value:"SD",label:"South Dakota"},{value:"TN",label:"Tennessee"},{value:"TX",label:"Texas"},{value:"UT",label:"Utah"},{value:"VT",label:"Vermont"},{value:"VA",label:"Virginia"},{value:"WA",label:"Washington"},{value:"WV",label:"West Virginia"},{value:"WI",label:"Wisconsin"},{value:"WY",label:"Wyoming"}],bH=[{value:"B",label:"Buenos Aires"},{value:"C",label:"Ciudad Autnoma de Buenos Aires"},{value:"K",label:"Catamarca"},{value:"H",label:"Chaco"},{value:"U",label:"Chubut"},{value:"X",label:"Crdoba"},{value:"W",label:"Corrientes"},{value:"E",label:"Entre Ros"},{value:"P",label:"Formosa"},{value:"Y",label:"Jujuy"},{value:"L",label:"La Pampa"},{value:"F",label:"La Rioja"},{value:"M",label:"Mendoza"},{value:"N",label:"Misiones"},{value:"Q",label:"Neuqun"},{value:"R",label:"Ro Negro"},{value:"A",label:"Salta"},{value:"J",label:"San Juan"},{value:"D",label:"San Luis"},{value:"Z",label:"Santa Cruz"},{value:"S",label:"Santa Fe"},{value:"G",label:"Santiago del Estero"},{value:"V",label:"Tierra del Fuego"},{value:"T",label:"Tucumn"}],yH=[{value:"L",label:"La Paz"},{value:"C",label:"Cochabamba"},{value:"S",label:"Santa Cruz"},{value:"P",label:"Potos"},{value:"O",label:"Oruro"},{value:"T",label:"Tarija"},{value:"H",label:"Chuquisaca"},{value:"N",label:"Pando"}],wH=[{value:"XV",label:"Regin de Arica y Parinacota"},{value:"I",label:"Regin de Tarapac"},{value:"II",label:"Regin de Antofagasta"},{value:"III",label:"Regin de Atacama"},{value:"IV",label:"Regin de Coquimbo"},{value:"V",label:"Regin de Valparaso"},{value:"RM",label:"Regin Metropolitana de Santiago"},{value:"VI",label:"Regin del Libertador General Bernardo O'Higgins"},{value:"VII",label:"Regin del Maule"},{value:"XVI",label:"Regin de uble"},{value:"VIII",label:"Regin del Biobo"},{value:"IX",label:"Regin de la Araucana"},{value:"XIV",label:"Regin de Los Ros"},{value:"X",label:"Regin de Los Lagos"},{value:"XI",label:"Regin Aysn del General Carlos Ibez del Campo"},{value:"XII",label:"Regin de Magallanes y de la Antrtica Chilena"}],kH=[{value:"DC",label:"Bogot D.C."},{value:"AMA",label:"Amazonas"},{value:"ANT",label:"Antioquia"},{value:"ARA",label:"Arauca"},{value:"ATL",label:"Atlntico"},{value:"BOL",label:"Bolvar"},{value:"BOY",label:"Boyac"},{value:"CAL",label:"Caldas"},{value:"CAQ",label:"Caquet"},{value:"CAS",label:"Casanare"},{value:"CAU",label:"Cauca"},{value:"CES",label:"Cesar"},{value:"CHO",label:"Choc"},{value:"COR",label:"Crdoba"},{value:"CUN",label:"Cundinamarca"},{value:"GUA",label:"Guaina"},{value:"GUV",label:"Guaviare"},{value:"HUI",label:"Huila"},{value:"LAG",label:"La Guajira"},{value:"MAG",label:"Magdalena"},{value:"MET",label:"Meta"},{value:"NAR",label:"Nario"},{value:"NSA",label:"Norte de Santander"},{value:"PUT",label:"Putumayo"},{value:"QUI",label:"Quindo"},{value:"RIS",label:"Risaralda"},{value:"SAN",label:"Santander"},{value:"SUC",label:"Sucre"},{value:"TOL",label:"Tolima"},{value:"VAC",label:"Valle del Cauca"},{value:"VAU",label:"Vaups"},{value:"VID",label:"Vichada"}],CH=[{value:"A",label:"Azuay"},{value:"B",label:"Bolvar"},{value:"F",label:"Caar"},{value:"C",label:"Carchi"},{value:"H",label:"Chimborazo"},{value:"X",label:"Cotopaxi"},{value:"O",label:"El Oro"},{value:"E",label:"Esmeraldas"},{value:"W",label:"Galpagos"},{value:"G",label:"Guayas"},{value:"I",label:"Imbabura"},{value:"L",label:"Loja"},{value:"R",label:"Los Ros"},{value:"M",label:"Manab"},{value:"S",label:"Morona-Santiago"},{value:"N",label:"Napo"},{value:"D",label:"Orellana"},{value:"Y",label:"Pastaza"},{value:"P",label:"Pichincha"},{value:"SE",label:"Santa Elena"},{value:"SD",label:"Santo Domingo de los Tschilas"},{value:"U",label:"Sucumbos"},{value:"T",label:"Tungurahua"},{value:"Z",label:"Zamora-Chinchipe"}],SH=[{value:"BA",label:"Barima-Waini"},{value:"CU",label:"Cuyuni-Mazaruni"},{value:"DE",label:"Demerara-Mahaica"},{value:"EB",label:"East Berbice-Corentyne"},{value:"ES",label:"Essequibo Islands-West Demerara"},{value:"MA",label:"Mahaica-Berbice"},{value:"PM",label:"Pomeroon-Supenaam"},{value:"PT",label:"Potaro-Siparuni"},{value:"UD",label:"Upper Demerara-Berbice"},{value:"UT",label:"Upper Takutu-Upper Essequibo"}],jH=[{value:"ASU",label:"Asuncin"},{value:"CON",label:"Concepcin"},{value:"SAN",label:"San Pedro"},{value:"COR",label:"Cordillera"},{value:"GUA",label:"Guair"},{value:"CAA",label:"Caaguaz"},{value:"CAZ",label:"Caazap"},{value:"ITA",label:"Itapa"},{value:"MIS",label:"Misiones"},{value:"PAR",label:"Paraguar"},{value:"ATO",label:"Alto Paran"},{value:"CEN",label:"Central"},{value:"EE",label:"eembuc"},{value:"AMA",label:"Amambay"},{value:"CAN",label:"Canindey"},{value:"PRE",label:"Presidente Hayes"},{value:"BOQ",label:"Boquern"},{value:"APE",label:"Alto Paraguay"}],_H=[{value:"AMA",label:"Amazonas"},{value:"ANC",label:"ncash"},{value:"APU",label:"Apurmac"},{value:"ARE",label:"Arequipa"},{value:"AYA",label:"Ayacucho"},{value:"CAJ",label:"Cajamarca"},{value:"CAL",label:"Callao"},{value:"CUS",label:"Cusco"},{value:"HUV",label:"Huancavelica"},{value:"HUA",label:"Hunuco"},{value:"ICA",label:"Ica"},{value:"JUN",label:"Junn"},{value:"LAL",label:"La Libertad"},{value:"LAM",label:"Lambayeque"},{value:"LIM",label:"Lima"},{value:"LOR",label:"Loreto"},{value:"MDD",label:"Madre de Dios"},{value:"MOQ",label:"Moquegua"},{value:"PAS",label:"Pasco"},{value:"PIU",label:"Piura"},{value:"PUN",label:"Puno"},{value:"SAM",label:"San Martn"},{value:"TAC",label:"Tacna"},{value:"TUM",label:"Tumbes"},{value:"UCA",label:"Ucayali"}],NH=[{value:"BR",label:"Brokopondo"},{value:"CM",label:"Commewijne"},{value:"CR",label:"Coronie"},{value:"MA",label:"Marowijne"},{value:"NI",label:"Nickerie"},{value:"PR",label:"Para"},{value:"PM",label:"Paramaribo"},{value:"SA",label:"Saramacca"},{value:"SI",label:"Sipaliwini"},{value:"WA",label:"Wanica"}],EH=[{value:"AR",label:"Artigas"},{value:"CA",label:"Canelones"},{value:"CL",label:"Cerro Largo"},{value:"CO",label:"Colonia"},{value:"DU",label:"Durazno"},{value:"FS",label:"Flores"},{value:"FD",label:"Florida"},{value:"LA",label:"Lavalleja"},{value:"MA",label:"Maldonado"},{value:"MO",label:"Montevideo"},{value:"PA",label:"Paysand"},{value:"RN",label:"Ro Negro"},{value:"RV",label:"Rivera"},{value:"RO",label:"Rocha"},{value:"SA",label:"Salto"},{value:"SJ",label:"San Jos"},{value:"SO",label:"Soriano"},{value:"TA",label:"Tacuaremb"},{value:"TT",label:"Treinta y Tres"}],AH=[{value:"AM",label:"Amazonas"},{value:"AN",label:"Anzotegui"},{value:"AP",label:"Apure"},{value:"AR",label:"Aragua"},{value:"BA",label:"Barinas"},{value:"BO",label:"Bolvar"},{value:"CA",label:"Carabobo"},{value:"CO",label:"Cojedes"},{value:"DA",label:"Delta Amacuro"},{value:"DC",label:"Distrito Capital"},{value:"FA",label:"Falcn"},{value:"GU",label:"Gurico"},{value:"LA",label:"Lara"},{value:"ME",label:"Mrida"},{value:"MI",label:"Miranda"},{value:"MO",label:"Monagas"},{value:"NE",label:"Nueva Esparta"},{value:"PO",label:"Portuguesa"},{value:"SU",label:"Sucre"},{value:"TA",label:"Tchira"},{value:"TR",label:"Trujillo"},{value:"VA",label:"Vargas"},{value:"YA",label:"Yaracuy"},{value:"ZU",label:"Zulia"}],PH=[{value:"AB",label:"Alberta"},{value:"BC",label:"British Columbia"},{value:"MB",label:"Manitoba"},{value:"NB",label:"New Brunswick"},{value:"NL",label:"Newfoundland and Labrador"},{value:"NS",label:"Nova Scotia"},{value:"ON",label:"Ontario"},{value:"PE",label:"Prince Edward Island"},{value:"QC",label:"Quebec"},{value:"SK",label:"Saskatchewan"},{value:"NT",label:"Northwest Territories"},{value:"NU",label:"Nunavut"},{value:"YT",label:"Yukon"}],LH=[{value:"AG",label:"Aguascalientes"},{value:"BC",label:"Baja California"},{value:"BS",label:"Baja California Sur"},{value:"CM",label:"Campeche"},{value:"CS",label:"Chiapas"},{value:"CH",label:"Chihuahua"},{value:"CX",label:"Ciudad de Mxico"},{value:"CO",label:"Coahuila"},{value:"CL",label:"Colima"},{value:"DG",label:"Durango"},{value:"GT",label:"Guanajuato"},{value:"GR",label:"Guerrero"},{value:"HG",label:"Hidalgo"},{value:"JA",label:"Jalisco"},{value:"EM",label:"Estado de Mxico"},{value:"MI",label:"Michoacn"},{value:"MO",label:"Morelos"},{value:"NA",label:"Nayarit"},{value:"NL",label:"Nuevo Len"},{value:"OA",label:"Oaxaca"},{value:"PU",label:"Puebla"},{value:"QT",label:"Quertaro"},{value:"QR",label:"Quintana Roo"},{value:"SL",label:"San Luis Potos"},{value:"SI",label:"Sinaloa"},{value:"SO",label:"Sonora"},{value:"TB",label:"Tabasco"},{value:"TM",label:"Tamaulipas"},{value:"TL",label:"Tlaxcala"},{value:"VE",label:"Veracruz"},{value:"YU",label:"Yucatn"},{value:"ZA",label:"Zacatecas"}],DH=[{value:"BW",label:"Baden-Wrttemberg"},{value:"BY",label:"Bayern (Bavaria)"},{value:"BE",label:"Berlin"},{value:"BB",label:"Brandenburg"},{value:"HB",label:"Bremen"},{value:"HH",label:"Hamburg"},{value:"HE",label:"Hessen"},{value:"MV",label:"Mecklenburg-Vorpommern"},{value:"NI",label:"Niedersachsen"},{value:"NW",label:"Nordrhein-Westfalen"},{value:"RP",label:"Rheinland-Pfalz"},{value:"SL",label:"Saarland"},{value:"SN",label:"Sachsen"},{value:"ST",label:"Sachsen-Anhalt"},{value:"SH",label:"Schleswig-Holstein"},{value:"TH",label:"Thringen"}],TH=[{value:"1",label:"Burgenland"},{value:"2",label:"Krnten"},{value:"3",label:"Niedersterreich"},{value:"4",label:"Obersterreich"},{value:"5",label:"Salzburg"},{value:"6",label:"Steiermark"},{value:"7",label:"Tirol"},{value:"8",label:"Vorarlberg"},{value:"9",label:"Wien"}],RH=[{value:"BRU",label:"Brussels-Capital Region"},{value:"VLG",label:"Flemish Region"},{value:"WAL",label:"Walloon Region"}],MH=[{value:"AN",label:"Andaluca"},{value:"AR",label:"Aragn"},{value:"AS",label:"Asturias"},{value:"IB",label:"Islas Baleares"},{value:"CN",label:"Canarias"},{value:"CB",label:"Cantabria"},{value:"CM",label:"Castilla-La Mancha"},{value:"CL",label:"Castilla y Len"},{value:"CT",label:"Catalua"},{value:"EX",label:"Extremadura"},{value:"GA",label:"Galicia"},{value:"MD",label:"Madrid"},{value:"MC",label:"Murcia"},{value:"NC",label:"Navarra"},{value:"PV",label:"Pas Vasco"},{value:"RI",label:"La Rioja"},{value:"VC",label:"Valencia"},{value:"CE",label:"Ceuta"},{value:"ML",label:"Melilla"}],IH=[{value:"ARA",label:"Auvergne-Rhne-Alpes"},{value:"BFC",label:"Bourgogne-Franche-Comt"},{value:"BRE",label:"Bretagne"},{value:"CVL",label:"Centre-Val de Loire"},{value:"COR",label:"Corse"},{value:"GES",label:"Grand Est"},{value:"HDF",label:"Hauts-de-France"},{value:"IDF",label:"le-de-France"},{value:"NOR",label:"Normandie"},{value:"NAQ",label:"Nouvelle-Aquitaine"},{value:"OCC",label:"Occitanie"},{value:"PDL",label:"Pays de la Loire"},{value:"PAC",label:"Provence-Alpes-Cte d'Azur"}],OH=[{value:"ABR",label:"Abruzzo"},{value:"BAS",label:"Basilicata"},{value:"CAL",label:"Calabria"},{value:"CAM",label:"Campania"},{value:"EMR",label:"Emilia-Romagna"},{value:"FVG",label:"Friuli-Venezia Giulia"},{value:"LAZ",label:"Lazio"},{value:"LIG",label:"Liguria"},{value:"LOM",label:"Lombardia"},{value:"MAR",label:"Marche"},{value:"MOL",label:"Molise"},{value:"PIE",label:"Piemonte"},{value:"PUG",label:"Puglia"},{value:"SAR",label:"Sardegna"},{value:"SIC",label:"Sicilia"},{value:"TOS",label:"Toscana"},{value:"TAA",label:"Trentino-Alto Adige"},{value:"UMB",label:"Umbria"},{value:"VDA",label:"Valle d'Aosta"},{value:"VEN",label:"Veneto"}],FH=[{value:"ENG",label:"England"},{value:"SCT",label:"Scotland"},{value:"WLS",label:"Wales"},{value:"NIR",label:"Northern Ireland"}],BH=[{value:"AN",label:"Andaman and Nicobar Islands"},{value:"AP",label:"Andhra Pradesh"},{value:"AR",label:"Arunachal Pradesh"},{value:"AS",label:"Assam"},{value:"BR",label:"Bihar"},{value:"CH",label:"Chandigarh"},{value:"CT",label:"Chhattisgarh"},{value:"DN",label:"Dadra and Nagar Haveli"},{value:"DD",label:"Daman and Diu"},{value:"DL",label:"Delhi"},{value:"GA",label:"Goa"},{value:"GJ",label:"Gujarat"},{value:"HR",label:"Haryana"},{value:"HP",label:"Himachal Pradesh"},{value:"JK",label:"Jammu and Kashmir"},{value:"JH",label:"Jharkhand"},{value:"KA",label:"Karnataka"},{value:"KL",label:"Kerala"},{value:"LD",label:"Lakshadweep"},{value:"MP",label:"Madhya Pradesh"},{value:"MH",label:"Maharashtra"},{value:"MN",label:"Manipur"},{value:"ML",label:"Meghalaya"},{value:"MZ",label:"Mizoram"},{value:"NL",label:"Nagaland"},{value:"OR",label:"Odisha"},{value:"PY",label:"Puducherry"},{value:"PB",label:"Punjab"},{value:"RJ",label:"Rajasthan"},{value:"SK",label:"Sikkim"},{value:"TN",label:"Tamil Nadu"},{value:"TG",label:"Telangana"},{value:"TR",label:"Tripura"},{value:"UP",label:"Uttar Pradesh"},{value:"UT",label:"Uttarakhand"},{value:"WB",label:"West Bengal"}],zH=[{value:"AC",label:"Aceh"},{value:"SU",label:"Sumatera Utara"},{value:"SB",label:"Sumatera Barat"},{value:"RI",label:"Riau"},{value:"JA",label:"Jambi"},{value:"SS",label:"Sumatera Selatan"},{value:"BB",label:"Bangka Belitung"},{value:"BE",label:"Bengkulu"},{value:"LA",label:"Lampung"},{value:"KR",label:"Kepulauan Riau"},{value:"JK",label:"DKI Jakarta"},{value:"JB",label:"Jawa Barat"},{value:"JT",label:"Jawa Tengah"},{value:"YO",label:"DI Yogyakarta"},{value:"JI",label:"Jawa Timur"},{value:"BT",label:"Banten"},{value:"BA",label:"Bali"},{value:"NB",label:"Nusa Tenggara Barat"},{value:"NT",label:"Nusa Tenggara Timur"},{value:"KB",label:"Kalimantan Barat"},{value:"KT",label:"Kalimantan Tengah"},{value:"KS",label:"Kalimantan Selatan"},{value:"KI",label:"Kalimantan Timur"},{value:"KU",label:"Kalimantan Utara"},{value:"SA",label:"Sulawesi Utara"},{value:"ST",label:"Sulawesi Tengah"},{value:"SN",label:"Sulawesi Selatan"},{value:"SG",label:"Sulawesi Tenggara"},{value:"GO",label:"Gorontalo"},{value:"SR",label:"Sulawesi Barat"},{value:"MA",label:"Maluku"},{value:"MU",label:"Maluku Utara"},{value:"PA",label:"Papua"},{value:"PB",label:"Papua Barat"}],HH=[{value:"01",label:"Hokkaido"},{value:"02",label:"Aomori"},{value:"03",label:"Iwate"},{value:"04",label:"Miyagi"},{value:"05",label:"Akita"},{value:"06",label:"Yamagata"},{value:"07",label:"Fukushima"},{value:"08",label:"Ibaraki"},{value:"09",label:"Tochigi"},{value:"10",label:"Gunma"},{value:"11",label:"Saitama"},{value:"12",label:"Chiba"},{value:"13",label:"Tokyo"},{value:"14",label:"Kanagawa"},{value:"15",label:"Niigata"},{value:"16",label:"Toyama"},{value:"17",label:"Ishikawa"},{value:"18",label:"Fukui"},{value:"19",label:"Yamanashi"},{value:"20",label:"Nagano"},{value:"21",label:"Gifu"},{value:"22",label:"Shizuoka"},{value:"23",label:"Aichi"},{value:"24",label:"Mie"},{value:"25",label:"Shiga"},{value:"26",label:"Kyoto"},{value:"27",label:"Osaka"},{value:"28",label:"Hyogo"},{value:"29",label:"Nara"},{value:"30",label:"Wakayama"},{value:"31",label:"Tottori"},{value:"32",label:"Shimane"},{value:"33",label:"Okayama"},{value:"34",label:"Hiroshima"},{value:"35",label:"Yamaguchi"},{value:"36",label:"Tokushima"},{value:"37",label:"Kagawa"},{value:"38",label:"Ehime"},{value:"39",label:"Kochi"},{value:"40",label:"Fukuoka"},{value:"41",label:"Saga"},{value:"42",label:"Nagasaki"},{value:"43",label:"Kumamoto"},{value:"44",label:"Oita"},{value:"45",label:"Miyazaki"},{value:"46",label:"Kagoshima"},{value:"47",label:"Okinawa"}],UH=[{value:"JH",label:"Johor"},{value:"KD",label:"Kedah"},{value:"KL",label:"Kelantan"},{value:"ML",label:"Melaka"},{value:"NS",label:"Negeri Sembilan"},{value:"PA",label:"Pahang"},{value:"PK",label:"Perak"},{value:"PR",label:"Perlis"},{value:"PP",label:"Pulau Pinang"},{value:"SB",label:"Sabah"},{value:"SW",label:"Sarawak"},{value:"SL",label:"Selangor"},{value:"TR",label:"Terengganu"},{value:"KU",label:"Kuala Lumpur"},{value:"LB",label:"Labuan"},{value:"PJ",label:"Putrajaya"}],VH=[{value:"10",label:"Bangkok"},{value:"11",label:"Samut Prakan"},{value:"12",label:"Nonthaburi"},{value:"13",label:"Pathum Thani"},{value:"14",label:"Phra Nakhon Si Ayutthaya"},{value:"15",label:"Ang Thong"},{value:"16",label:"Lopburi"},{value:"17",label:"Sing Buri"},{value:"18",label:"Chai Nat"},{value:"19",label:"Saraburi"},{value:"20",label:"Chonburi"},{value:"21",label:"Rayong"},{value:"22",label:"Chanthaburi"},{value:"23",label:"Trat"},{value:"24",label:"Chachoengsao"},{value:"25",label:"Prachinburi"},{value:"26",label:"Nakhon Nayok"},{value:"27",label:"Sa Kaeo"},{value:"30",label:"Nakhon Ratchasima"},{value:"31",label:"Buriram"},{value:"32",label:"Surin"},{value:"33",label:"Sisaket"},{value:"34",label:"Ubon Ratchathani"},{value:"35",label:"Yasothon"},{value:"36",label:"Chaiyaphum"},{value:"37",label:"Amnat Charoen"},{value:"39",label:"Nong Bua Lamphu"},{value:"40",label:"Khon Kaen"},{value:"41",label:"Udon Thani"},{value:"42",label:"Loei"},{value:"43",label:"Nong Khai"},{value:"44",label:"Maha Sarakham"},{value:"45",label:"Roi Et"},{value:"46",label:"Kalasin"},{value:"47",label:"Sakon Nakhon"},{value:"48",label:"Nakhon Phanom"},{value:"49",label:"Mukdahan"},{value:"50",label:"Chiang Mai"},{value:"51",label:"Lamphun"},{value:"52",label:"Lampang"},{value:"53",label:"Uttaradit"},{value:"54",label:"Phrae"},{value:"55",label:"Nan"},{value:"56",label:"Phayao"},{value:"57",label:"Chiang Rai"},{value:"58",label:"Mae Hong Son"},{value:"60",label:"Nakhon Sawan"},{value:"61",label:"Uthai Thani"},{value:"62",label:"Kamphaeng Phet"},{value:"63",label:"Tak"},{value:"64",label:"Sukhothai"},{value:"65",label:"Phitsanulok"},{value:"66",label:"Phichit"},{value:"67",label:"Phetchabun"},{value:"70",label:"Ratchaburi"},{value:"71",label:"Kanchanaburi"},{value:"72",label:"Suphanburi"},{value:"73",label:"Nakhon Pathom"},{value:"74",label:"Samut Sakhon"},{value:"75",label:"Samut Songkhram"},{value:"76",label:"Phetchaburi"},{value:"77",label:"Prachuap Khiri Khan"},{value:"80",label:"Nakhon Si Thammarat"},{value:"81",label:"Krabi"},{value:"82",label:"Phangnga"},{value:"83",label:"Phuket"},{value:"84",label:"Surat Thani"},{value:"85",label:"Ranong"},{value:"86",label:"Chumphon"},{value:"90",label:"Songkhla"},{value:"91",label:"Satun"},{value:"92",label:"Trang"},{value:"93",label:"Phatthalung"},{value:"94",label:"Pattani"},{value:"95",label:"Yala"},{value:"96",label:"Narathiwat"},{value:"S",label:"Bueng Kan"}],$H=[{value:"01",label:"Adana"},{value:"02",label:"Adyaman"},{value:"03",label:"Afyonkarahisar"},{value:"04",label:"Ar"},{value:"05",label:"Amasya"},{value:"06",label:"Ankara"},{value:"07",label:"Antalya"},{value:"08",label:"Artvin"},{value:"09",label:"Aydn"},{value:"10",label:"Balkesir"},{value:"11",label:"Bilecik"},{value:"12",label:"Bingl"},{value:"13",label:"Bitlis"},{value:"14",label:"Bolu"},{value:"15",label:"Burdur"},{value:"16",label:"Bursa"},{value:"17",label:"anakkale"},{value:"18",label:"ankr"},{value:"19",label:"orum"},{value:"20",label:"Denizli"},{value:"21",label:"Diyarbakr"},{value:"22",label:"Edirne"},{value:"23",label:"Elaz"},{value:"24",label:"Erzincan"},{value:"25",label:"Erzurum"},{value:"26",label:"Eskiehir"},{value:"27",label:"Gaziantep"},{value:"28",label:"Giresun"},{value:"29",label:"Gmhane"},{value:"30",label:"Hakkri"},{value:"31",label:"Hatay"},{value:"32",label:"Isparta"},{value:"33",label:"Mersin"},{value:"34",label:"stanbul"},{value:"35",label:"zmir"},{value:"36",label:"Kars"},{value:"37",label:"Kastamonu"},{value:"38",label:"Kayseri"},{value:"39",label:"Krklareli"},{value:"40",label:"Krehir"},{value:"41",label:"Kocaeli"},{value:"42",label:"Konya"},{value:"43",label:"Ktahya"},{value:"44",label:"Malatya"},{value:"45",label:"Manisa"},{value:"46",label:"Kahramanmara"},{value:"47",label:"Mardin"},{value:"48",label:"Mula"},{value:"49",label:"Mu"},{value:"50",label:"Nevehir"},{value:"51",label:"Nide"},{value:"52",label:"Ordu"},{value:"53",label:"Rize"},{value:"54",label:"Sakarya"},{value:"55",label:"Samsun"},{value:"56",label:"Siirt"},{value:"57",label:"Sinop"},{value:"58",label:"Sivas"},{value:"59",label:"Tekirda"},{value:"60",label:"Tokat"},{value:"61",label:"Trabzon"},{value:"62",label:"Tunceli"},{value:"63",label:"anlurfa"},{value:"64",label:"Uak"},{value:"65",label:"Van"},{value:"66",label:"Yozgat"},{value:"67",label:"Zonguldak"},{value:"68",label:"Aksaray"},{value:"69",label:"Bayburt"},{value:"70",label:"Karaman"},{value:"71",label:"Krkkale"},{value:"72",label:"Batman"},{value:"73",label:"rnak"},{value:"74",label:"Bartn"},{value:"75",label:"Ardahan"},{value:"76",label:"Idr"},{value:"77",label:"Yalova"},{value:"78",label:"Karabk"},{value:"79",label:"Kilis"},{value:"80",label:"Osmaniye"},{value:"81",label:"Dzce"}],WH=[{value:"NSW",label:"New South Wales"},{value:"QLD",label:"Queensland"},{value:"SA",label:"South Australia"},{value:"TAS",label:"Tasmania"},{value:"VIC",label:"Victoria"},{value:"WA",label:"Western Australia"},{value:"ACT",label:"Australian Capital Territory"},{value:"NT",label:"Northern Territory"}],qH=[{value:"AUK",label:"Auckland"},{value:"BOP",label:"Bay of Plenty"},{value:"CAN",label:"Canterbury"},{value:"GIS",label:"Gisborne"},{value:"HKB",label:"Hawke's Bay"},{value:"MWT",label:"Manawat-Whanganui"},{value:"MBH",label:"Marlborough"},{value:"NSN",label:"Nelson"},{value:"NTL",label:"Northland"},{value:"OTA",label:"Otago"},{value:"STL",label:"Southland"},{value:"TKI",label:"Taranaki"},{value:"TAS",label:"Tasman"},{value:"WKO",label:"Waikato"},{value:"WGN",label:"Wellington"},{value:"WTC",label:"West Coast"}],YH=[{value:"EC",label:"Eastern Cape"},{value:"FS",label:"Free State"},{value:"GP",label:"Gauteng"},{value:"KZN",label:"KwaZulu-Natal"},{value:"LP",label:"Limpopo"},{value:"MP",label:"Mpumalanga"},{value:"NC",label:"Northern Cape"},{value:"NW",label:"North West"},{value:"WC",label:"Western Cape"}],j2={BR:xH,US:vH,AR:bH,BO:yH,CL:wH,CO:kH,EC:CH,GY:SH,PY:jH,PE:_H,SR:NH,UY:EH,VE:AH,CA:PH,MX:LH,CR:[{value:"",label:"N/A"}],CU:[{value:"",label:"N/A"}],SV:[{value:"",label:"N/A"}],GT:[{value:"",label:"N/A"}],HT:[{value:"",label:"N/A"}],HN:[{value:"",label:"N/A"}],NI:[{value:"",label:"N/A"}],PA:[{value:"",label:"N/A"}],DO:[{value:"",label:"N/A"}],DE:DH,AT:TH,BE:RH,BG:[{value:"",label:"N/A"}],DK:[{value:"",label:"N/A"}],SK:[{value:"",label:"N/A"}],SI:[{value:"",label:"N/A"}],ES:MH,FI:[{value:"",label:"N/A"}],FR:IH,GR:[{value:"",label:"N/A"}],HU:[{value:"",label:"N/A"}],IE:[{value:"",label:"N/A"}],IT:OH,LU:[{value:"",label:"N/A"}],NO:[{value:"",label:"N/A"}],NL:[{value:"",label:"N/A"}],PL:[{value:"",label:"N/A"}],PT:[{value:"",label:"N/A"}],GB:FH,CZ:[{value:"",label:"N/A"}],RO:[{value:"",label:"N/A"}],SE:[{value:"",label:"N/A"}],CH:[{value:"",label:"N/A"}],CN:[{value:"",label:"N/A"}],KR:[{value:"",label:"N/A"}],AE:[{value:"",label:"N/A"}],HK:[{value:"",label:"N/A"}],IN:BH,ID:zH,JP:HH,MY:UH,TH:VH,TR:$H,VN:[{value:"",label:"N/A"}],AU:WH,NZ:qH,ZA:YH,AO:[{value:"",label:"N/A"}],CM:[{value:"",label:"N/A"}],EG:[{value:"",label:"N/A"}],ET:[{value:"",label:"N/A"}],GH:[{value:"",label:"N/A"}],KE:[{value:"",label:"N/A"}],MA:[{value:"",label:"N/A"}],MZ:[{value:"",label:"N/A"}],NG:[{value:"",label:"N/A"}],SN:[{value:"",label:"N/A"}],TN:[{value:"",label:"N/A"}]},GH=[{value:"BR",label:"Brasil",icon:o.jsx("img",{src:"https://flagcdn.com/br.svg",width:"20",alt:"Brasil",className:"mr-2"})},{value:"AR",label:"Argentina",icon:o.jsx("img",{src:"https://flagcdn.com/ar.svg",width:"20",alt:"Argentina",className:"mr-2"})},{value:"BO",label:"Bolvia",icon:o.jsx("img",{src:"https://flagcdn.com/bo.svg",width:"20",alt:"Bolvia",className:"mr-2"})},{value:"CL",label:"Chile",icon:o.jsx("img",{src:"https://flagcdn.com/cl.svg",width:"20",alt:"Chile",className:"mr-2"})},{value:"CO",label:"Colmbia",icon:o.jsx("img",{src:"https://flagcdn.com/co.svg",width:"20",alt:"Colmbia",className:"mr-2"})},{value:"EC",label:"Equador",icon:o.jsx("img",{src:"https://flagcdn.com/ec.svg",width:"20",alt:"Equador",className:"mr-2"})},{value:"GY",label:"Guiana",icon:o.jsx("img",{src:"https://flagcdn.com/gy.svg",width:"20",alt:"Guiana",className:"mr-2"})},{value:"PY",label:"Paraguai",icon:o.jsx("img",{src:"https://flagcdn.com/py.svg",width:"20",alt:"Paraguai",className:"mr-2"})},{value:"PE",label:"Peru",icon:o.jsx("img",{src:"https://flagcdn.com/pe.svg",width:"20",alt:"Peru",className:"mr-2"})},{value:"SR",label:"Suriname",icon:o.jsx("img",{src:"https://flagcdn.com/sr.svg",width:"20",alt:"Suriname",className:"mr-2"})},{value:"UY",label:"Uruguai",icon:o.jsx("img",{src:"https://flagcdn.com/uy.svg",width:"20",alt:"Uruguai",className:"mr-2"})},{value:"VE",label:"Venezuela",icon:o.jsx("img",{src:"https://flagcdn.com/ve.svg",width:"20",alt:"Venezuela",className:"mr-2"})},{value:"US",label:"Estados Unidos",icon:o.jsx("img",{src:"https://flagcdn.com/us.svg",width:"20",alt:"Estados Unidos",className:"mr-2"})},{value:"CA",label:"Canad",icon:o.jsx("img",{src:"https://flagcdn.com/ca.svg",width:"20",alt:"Canad",className:"mr-2"})},{value:"MX",label:"Mxico",icon:o.jsx("img",{src:"https://flagcdn.com/mx.svg",width:"20",alt:"Mxico",className:"mr-2"})},{value:"CR",label:"Costa Rica",icon:o.jsx("img",{src:"https://flagcdn.com/cr.svg",width:"20",alt:"Costa Rica",className:"mr-2"})},{value:"CU",label:"Cuba",icon:o.jsx("img",{src:"https://flagcdn.com/cu.svg",width:"20",alt:"Cuba",className:"mr-2"})},{value:"SV",label:"El Salvador",icon:o.jsx("img",{src:"https://flagcdn.com/sv.svg",width:"20",alt:"El Salvador",className:"mr-2"})},{value:"GT",label:"Guatemala",icon:o.jsx("img",{src:"https://flagcdn.com/gt.svg",width:"20",alt:"Guatemala",className:"mr-2"})},{value:"HT",label:"Haiti",icon:o.jsx("img",{src:"https://flagcdn.com/ht.svg",width:"20",alt:"Haiti",className:"mr-2"})},{value:"HN",label:"Honduras",icon:o.jsx("img",{src:"https://flagcdn.com/hn.svg",width:"20",alt:"Honduras",className:"mr-2"})},{value:"NI",label:"Nicargua",icon:o.jsx("img",{src:"https://flagcdn.com/ni.svg",width:"20",alt:"Nicargua",className:"mr-2"})},{value:"PA",label:"Panam",icon:o.jsx("img",{src:"https://flagcdn.com/pa.svg",width:"20",alt:"Panam",className:"mr-2"})},{value:"DO",label:"Repblica Dominicana",icon:o.jsx("img",{src:"https://flagcdn.com/do.svg",width:"20",alt:"Repblica Dominicana",className:"mr-2"})},{value:"DE",label:"Alemanha",icon:o.jsx("img",{src:"https://flagcdn.com/de.svg",width:"20",alt:"Alemanha",className:"mr-2"})},{value:"AT",label:"ustria",icon:o.jsx("img",{src:"https://flagcdn.com/at.svg",width:"20",alt:"ustria",className:"mr-2"})},{value:"BE",label:"Blgica",icon:o.jsx("img",{src:"https://flagcdn.com/be.svg",width:"20",alt:"Blgica",className:"mr-2"})},{value:"BG",label:"Bulgria",icon:o.jsx("img",{src:"https://flagcdn.com/bg.svg",width:"20",alt:"Bulgria",className:"mr-2"})},{value:"DK",label:"Dinamarca",icon:o.jsx("img",{src:"https://flagcdn.com/dk.svg",width:"20",alt:"Dinamarca",className:"mr-2"})},{value:"SK",label:"Eslovquia",icon:o.jsx("img",{src:"https://flagcdn.com/sk.svg",width:"20",alt:"Eslovquia",className:"mr-2"})},{value:"SI",label:"Eslovnia",icon:o.jsx("img",{src:"https://flagcdn.com/si.svg",width:"20",alt:"Eslovnia",className:"mr-2"})},{value:"ES",label:"Espanha",icon:o.jsx("img",{src:"https://flagcdn.com/es.svg",width:"20",alt:"Espanha",className:"mr-2"})},{value:"FI",label:"Finlndia",icon:o.jsx("img",{src:"https://flagcdn.com/fi.svg",width:"20",alt:"Finlndia",className:"mr-2"})},{value:"FR",label:"Frana",icon:o.jsx("img",{src:"https://flagcdn.com/fr.svg",width:"20",alt:"Frana",className:"mr-2"})},{value:"GR",label:"Grcia",icon:o.jsx("img",{src:"https://flagcdn.com/gr.svg",width:"20",alt:"Grcia",className:"mr-2"})},{value:"HU",label:"Hungria",icon:o.jsx("img",{src:"https://flagcdn.com/hu.svg",width:"20",alt:"Hungria",className:"mr-2"})},{value:"IE",label:"Irlanda",icon:o.jsx("img",{src:"https://flagcdn.com/ie.svg",width:"20",alt:"Irlanda",className:"mr-2"})},{value:"IT",label:"Itlia",icon:o.jsx("img",{src:"https://flagcdn.com/it.svg",width:"20",alt:"Itlia",className:"mr-2"})},{value:"LU",label:"Luxemburgo",icon:o.jsx("img",{src:"https://flagcdn.com/lu.svg",width:"20",alt:"Luxemburgo",className:"mr-2"})},{value:"NO",label:"Noruega",icon:o.jsx("img",{src:"https://flagcdn.com/no.svg",width:"20",alt:"Noruega",className:"mr-2"})},{value:"NL",label:"Pases Baixos",icon:o.jsx("img",{src:"https://flagcdn.com/nl.svg",width:"20",alt:"Pases Baixos",className:"mr-2"})},{value:"PL",label:"Polnia",icon:o.jsx("img",{src:"https://flagcdn.com/pl.svg",width:"20",alt:"Polnia",className:"mr-2"})},{value:"PT",label:"Portugal",icon:o.jsx("img",{src:"https://flagcdn.com/pt.svg",width:"20",alt:"Portugal",className:"mr-2"})},{value:"GB",label:"Reino Unido",icon:o.jsx("img",{src:"https://flagcdn.com/gb.svg",width:"20",alt:"Reino Unido",className:"mr-2"})},{value:"CZ",label:"Repblica Tcheca",icon:o.jsx("img",{src:"https://flagcdn.com/cz.svg",width:"20",alt:"Repblica Tcheca",className:"mr-2"})},{value:"RO",label:"Romnia",icon:o.jsx("img",{src:"https://flagcdn.com/ro.svg",width:"20",alt:"Romnia",className:"mr-2"})},{value:"SE",label:"Sucia",icon:o.jsx("img",{src:"https://flagcdn.com/se.svg",width:"20",alt:"Sucia",className:"mr-2"})},{value:"CH",label:"Sua",icon:o.jsx("img",{src:"https://flagcdn.com/ch.svg",width:"20",alt:"Sua",className:"mr-2"})},{value:"CN",label:"China",icon:o.jsx("img",{src:"https://flagcdn.com/cn.svg",width:"20",alt:"China",className:"mr-2"})},{value:"KR",label:"Coreia do Sul",icon:o.jsx("img",{src:"https://flagcdn.com/kr.svg",width:"20",alt:"Coreia do Sul",className:"mr-2"})},{value:"AE",label:"Emirados rabes Unidos",icon:o.jsx("img",{src:"https://flagcdn.com/ae.svg",width:"20",alt:"Emirados rabes Unidos",className:"mr-2"})},{value:"HK",label:"Hong Kong",icon:o.jsx("img",{src:"https://flagcdn.com/hk.svg",width:"20",alt:"Hong Kong",className:"mr-2"})},{value:"IN",label:"ndia",icon:o.jsx("img",{src:"https://flagcdn.com/in.svg",width:"20",alt:"ndia",className:"mr-2"})},{value:"ID",label:"Indonsia",icon:o.jsx("img",{src:"https://flagcdn.com/id.svg",width:"20",alt:"Indonsia",className:"mr-2"})},{value:"IL",label:"Israel",icon:o.jsx("img",{src:"https://flagcdn.com/il.svg",width:"20",alt:"Israel",className:"mr-2"})},{value:"JP",label:"Japo",icon:o.jsx("img",{src:"https://flagcdn.com/jp.svg",width:"20",alt:"Japo",className:"mr-2"})},{value:"MY",label:"Malsia",icon:o.jsx("img",{src:"https://flagcdn.com/my.svg",width:"20",alt:"Malsia",className:"mr-2"})},{value:"SG",label:"Singapura",icon:o.jsx("img",{src:"https://flagcdn.com/sg.svg",width:"20",alt:"Singapura",className:"mr-2"})},{value:"TH",label:"Tailndia",icon:o.jsx("img",{src:"https://flagcdn.com/th.svg",width:"20",alt:"Tailndia",className:"mr-2"})},{value:"TR",label:"Turquia",icon:o.jsx("img",{src:"https://flagcdn.com/tr.svg",width:"20",alt:"Turquia",className:"mr-2"})},{value:"VN",label:"Vietn",icon:o.jsx("img",{src:"https://flagcdn.com/vn.svg",width:"20",alt:"Vietn",className:"mr-2"})},{value:"AU",label:"Austrlia",icon:o.jsx("img",{src:"https://flagcdn.com/au.svg",width:"20",alt:"Austrlia",className:"mr-2"})},{value:"NZ",label:"Nova Zelndia",icon:o.jsx("img",{src:"https://flagcdn.com/nz.svg",width:"20",alt:"Nova Zelndia",className:"mr-2"})},{value:"ZA",label:"frica do Sul",icon:o.jsx("img",{src:"https://flagcdn.com/za.svg",width:"20",alt:"frica do Sul",className:"mr-2"})},{value:"AO",label:"Angola",icon:o.jsx("img",{src:"https://flagcdn.com/ao.svg",width:"20",alt:"Angola",className:"mr-2"})},{value:"CM",label:"Camares",icon:o.jsx("img",{src:"https://flagcdn.com/cm.svg",width:"20",alt:"Camares",className:"mr-2"})},{value:"EG",label:"Egito",icon:o.jsx("img",{src:"https://flagcdn.com/eg.svg",width:"20",alt:"Egito",className:"mr-2"})},{value:"ET",label:"Etipia",icon:o.jsx("img",{src:"https://flagcdn.com/et.svg",width:"20",alt:"Etipia",className:"mr-2"})},{value:"GH",label:"Gana",icon:o.jsx("img",{src:"https://flagcdn.com/gh.svg",width:"20",alt:"Gana",className:"mr-2"})},{value:"KE",label:"Qunia",icon:o.jsx("img",{src:"https://flagcdn.com/ke.svg",width:"20",alt:"Qunia",className:"mr-2"})},{value:"MA",label:"Marrocos",icon:o.jsx("img",{src:"https://flagcdn.com/ma.svg",width:"20",alt:"Marrocos",className:"mr-2"})},{value:"MZ",label:"Moambique",icon:o.jsx("img",{src:"https://flagcdn.com/mz.svg",width:"20",alt:"Moambique",className:"mr-2"})},{value:"NG",label:"Nigria",icon:o.jsx("img",{src:"https://flagcdn.com/ng.svg",width:"20",alt:"Nigria",className:"mr-2"})},{value:"SN",label:"Senegal",icon:o.jsx("img",{src:"https://flagcdn.com/sn.svg",width:"20",alt:"Senegal",className:"mr-2"})},{value:"TN",label:"Tunsia",icon:o.jsx("img",{src:"https://flagcdn.com/tn.svg",width:"20",alt:"Tunsia",className:"mr-2"})}].sort((r,e)=>r.label.localeCompare(e.label));function XH({data:r,onChange:e}){const t=(a,s)=>{e({...r,[a]:s})},n=j2[r.country]||[];return o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[o.jsxs("div",{children:[o.jsxs(Te,{children:["Tipo de Pessoa ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(Jt,{options:[{value:"individual",label:"Pessoa Fsica"},{value:"business",label:"Pessoa Jurdica"}],value:r.legal_status,onChange:a=>t("legal_status",a)})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Pas ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(Jt,{options:GH,value:r.country,onChange:a=>t("country",a)})]}),r.legal_status==="business"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs(Te,{children:["CNPJ ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(zc,{mask:"99.999.999/9999-99",value:r.document_number,onChange:a=>t("document_number",a.target.value),className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",placeholder:"00.000.000/0000-00",required:!0})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Nome da Empresa ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"text",value:r.company_name||"",onChange:a=>t("company_name",a.target.value),required:!0,placeholder:"Digite o nome da empresa"})]})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Estado ",n.length>0&&o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(Jt,{options:n.length>0?[{value:"",label:"Selecione o estado"},...n]:[{value:"",label:"Selecione o pas primeiro"}],value:r.state||"",onChange:a=>t("state",a),disabled:n.length===0})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Cidade ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"text",value:r.city,onChange:a=>t("city",a.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["CEP ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx("div",{className:"relative",children:o.jsx(zc,{mask:"99999-999",value:r.zip_code,onChange:a=>t("zip_code",a.target.value),className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",placeholder:"00000-000",required:!0})})]}),o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs(Te,{children:["Endereo ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"text",value:r.address,onChange:a=>t("address",a.target.value),required:!0})]}),r.legal_status==="individual"&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs(Te,{children:["CPF ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(zc,{mask:"999.999.999-99",value:r.document_number,onChange:a=>t("document_number",a.target.value),className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",placeholder:"000.000.000-00",required:!0})]})]})})}function gN({profile:r,onUpdate:e}){const[t,n]=w.useState(""),[a,s]=w.useState(!1),[i,l]=w.useState(!1),[c,d]=w.useState({legal_status:"individual",country:"BR",city:"",zip_code:"",address:"",document_number:""});w.useEffect(()=>{r&&r.id&&u()},[r&&r.id]),w.useEffect(()=>{var f;r&&((f=r.phone)!=null&&f.startsWith("+55"))&&!c.id&&d(p=>({...p,country:"BR"}))},[r==null?void 0:r.phone]);async function u(){var f;try{l(!0),n("");let p=K.from("company_data").select("*");r&&r.role==="admin"?p=p.eq("admin_id",r.id):r&&r.id&&(p=p.eq("user_id",r.id));const{data:m,error:g}=await p.maybeSingle();if(g)throw g;m?d(m):r&&((f=r.phone)!=null&&f.startsWith("+55"))&&d(v=>({...v,country:"BR"}))}catch(p){console.error("Erro ao carregar dados da empresa:",p),n("Erro ao carregar dados da empresa")}finally{l(!1)}}const h=async f=>{f.preventDefault();try{l(!0),n(""),s(!1);let p=null;if(r){let m=K.from("company_data").select("id");r.role==="admin"?m=m.eq("admin_id",r.id):m=m.eq("user_id",r.id);const{data:g}=await m.maybeSingle();p=g}if(p&&p.id){let m=null,g=null;r&&r.id&&(m=r.role==="admin"?r.id:null,g=r.role!=="admin"?r.id:null);const v={...c,updated_at:new Date().toISOString(),admin_id:m,user_id:g};console.log("Payload UPDATE company_data:",v);const{error:x}=await K.from("company_data").update(v).eq("id",p.id);if(x)throw x}else{let m=null,g=null;r&&r.id&&(m=r.role==="admin"?r.id:null,g=r.role!=="admin"?r.id:null);const v={...c,admin_id:m,user_id:g};console.log("Payload INSERT company_data:",v);const{error:x}=await K.from("company_data").insert([v]);if(x)throw x}s(!0),e(),setTimeout(()=>{s(!1)},3e3)}catch(p){console.error("Erro ao salvar dados da empresa:",p),n("Erro ao salvar dados da empresa")}finally{l(!1)}};return r?o.jsx("div",{className:"space-y-8",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Dados da Empresa"}),t&&o.jsx("div",{className:"p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:t}),a&&o.jsx("div",{className:"p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:"Dados salvos com sucesso!"}),o.jsxs("form",{onSubmit:h,className:"space-y-8",children:[o.jsx(XH,{data:c,onChange:f=>d({...c,...f})}),o.jsx("div",{className:"flex justify-end pt-6",children:o.jsx(at,{disabled:i,children:i?"Salvando...":"Salvar"})})]})]})}):null}const mN=(r=!1)=>{const[e,t]=w.useState(r),n=w.useCallback(()=>t(!0),[]),a=w.useCallback(()=>t(!1),[]),s=w.useCallback(()=>t(i=>!i),[]);return{isOpen:e,openModal:n,closeModal:a,toggleModal:s}},vs=({isOpen:r,onClose:e,children:t,className:n,showCloseButton:a=!0,isFullscreen:s=!1})=>{const i=w.useRef(null);if(w.useEffect(()=>{const c=d=>{d.key==="Escape"&&e()};return r&&document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[r,e]),w.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),!r)return null;const l=s?"w-full h-full":"relative w-full rounded-3xl bg-white dark:bg-gray-900";return o.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-99999",children:[!s&&o.jsx("div",{className:"fixed inset-0 h-full w-full bg-gray-400/50 backdrop-blur-[--background-blur]",onClick:e}),o.jsxs("div",{ref:i,className:`${l} ${n} max-h-[calc(100vh-2rem)] overflow-hidden flex flex-col`,onClick:c=>c.stopPropagation(),children:[a&&o.jsx("button",{onClick:e,className:"absolute right-3 top-3 z-999 flex h-9.5 w-9.5 items-center justify-center rounded-full bg-gray-100 text-gray-400 transition-colors hover:bg-gray-200 hover:text-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white sm:right-6 sm:top-6 sm:h-11 sm:w-11",children:o.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.04289 16.5413C5.65237 16.9318 5.65237 17.565 6.04289 17.9555C6.43342 18.346 7.06658 18.346 7.45711 17.9555L11.9987 13.4139L16.5408 17.956C16.9313 18.3466 17.5645 18.3466 17.955 17.956C18.3455 17.5655 18.3455 16.9323 17.955 16.5418L13.4129 11.9997L17.955 7.4576C18.3455 7.06707 18.3455 6.43391 17.955 6.04338C17.5645 5.65286 16.9313 5.65286 16.5408 6.04338L11.9987 10.5855L7.45711 6.0439C7.06658 5.65338 6.43342 5.65338 6.04289 6.0439C5.65237 6.43442 5.65237 7.06759 6.04289 7.45811L10.5845 11.9997L6.04289 16.5413Z",fill:"currentColor"})})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:t})]})]})};function xN({}){const{isOpen:r,openModal:e,closeModal:t}=mN();return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Tipo de Conta"}),o.jsx(at,{onClick:e,children:"Editar"})]}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Funcionalidade em desenvolvimento. Em breve voc poder gerenciar seu tipo de conta aqui."}),o.jsx(vs,{isOpen:r,onClose:t,className:"max-w-[700px] m-4",children:o.jsxs("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-11",children:[o.jsxs("div",{className:"px-2 pr-14",children:[o.jsx("h4",{className:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90",children:"Editar Tipo de Conta"}),o.jsx("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7",children:"Atualize seu tipo de conta"})]}),o.jsxs("form",{className:"flex flex-col",children:[o.jsx("div",{className:"px-2 pb-3",children:o.jsx("div",{className:"grid grid-cols-1 gap-x-6 gap-y-5",children:o.jsxs("div",{children:[o.jsx(Te,{children:"Plano Atual"}),o.jsx(st,{type:"text",placeholder:"Em desenvolvimento...",disabled:!0})]})})}),o.jsx("div",{className:"flex items-center gap-3 px-2 mt-6 lg:justify-end",children:o.jsx(at,{size:"sm",variant:"outline",onClick:t,children:"Fechar"})})]})]})})]})}const ZH=[{value:"pl-PL",label:"Polish",description:"Polski"},{value:"en-GB",label:"English",description:"English"},{value:"de-DE",label:"German",description:"Deutsch"},{value:"cs-CS",label:"Czech",description:"etina"},{value:"sk-SK",label:"Slovak",description:"Slovenina"},{value:"hr-HR",label:"Croatian",description:"Hrvatski"},{value:"hu-HU",label:"Hungarian",description:"Magyar"},{value:"ro-RO",label:"Romanian",description:"Romn"},{value:"ua-UA",label:"Ukrainian",description:""},{value:"ru-RU",label:"Russian",description:""},{value:"bg-BG",label:"Bulgarian",description:""},{value:"nl-NL",label:"Dutch",description:"Nederlands"},{value:"tr-TR",label:"Turkish",description:"Trke"},{value:"gr-GR",label:"Greek",description:""},{value:"fr-FR",label:"French",description:"Franais"},{value:"it-IT",label:"Italian",description:"Italiano"},{value:"es-ES",label:"Spanish",description:"Espaol"},{value:"pt-PT",label:"Portuguese",description:"Portugus"},{value:"pt-BR",label:"Portuguese (Brazil)",description:"Portugus (Brazil)"}],JH=[{value:"1",label:"Caracteres com espaos"},{value:"2",label:"Palavras"}],t6=[{value:"BRL",label:"Real (BRL)"},{value:"USD",label:"US Dollar (USD)"},{value:"USDT",label:"Tether (USDT)"}],KH={BR:"Brasil",US:"Estados Unidos",GB:"Reino Unido",PT:"Portugal",ES:"Espanha",FR:"Frana",DE:"Alemanha",IT:"Itlia",JP:"Japo",CN:"China",AU:"Austrlia",CA:"Canad",MX:"Mxico",AR:"Argentina",CL:"Chile",CO:"Colmbia",PE:"Peru",UY:"Uruguai",PY:"Paraguai",BO:"Bolvia"};function vN({profile:r}){const[e,t]=w.useState(!1),[n,a]=w.useState(""),[s,i]=w.useState(!1),[l,c]=w.useState({language:"pt-BR",counter_type:"1",operational_currency:"BRL",display_currency:"BRL",country:"BR"});w.useEffect(()=>{d()},[r==null?void 0:r.id]);async function d(){var h;try{t(!0),a("");const{data:f,error:p}=await K.from("company_data").select("country").eq("admin_id",r==null?void 0:r.id).maybeSingle();if(p&&p.code!=="PGRST116")throw p;f?c(m=>({...m,country:f.country,language:f.country==="BR"?"pt-BR":m.language,operational_currency:f.country==="BR"?"BRL":m.operational_currency,display_currency:f.country==="BR"?"BRL":m.display_currency})):(h=r==null?void 0:r.phone)!=null&&h.startsWith("+55")&&c(m=>({...m,country:"BR",language:"pt-BR",operational_currency:"BRL",display_currency:"BRL"}))}catch(f){console.error("Erro ao carregar dados:",f),a("Erro ao carregar configuraes")}finally{t(!1)}}const u=async h=>{h.preventDefault();try{t(!0),a(""),i(!1),i(!0),setTimeout(()=>{i(!1)},3e3)}catch(f){console.error("Erro ao salvar configuraes:",f),a("Erro ao salvar configuraes")}finally{t(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Idioma e Moeda"}),n&&o.jsx("div",{className:"p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:n}),s&&o.jsx("div",{className:"p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:"Configuraes salvas com sucesso!"}),o.jsxs("form",{onSubmit:u,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[o.jsxs("div",{children:[o.jsx(Te,{children:"Pas de Residncia"}),o.jsx("div",{className:"p-3 bg-gray-50 rounded-lg dark:bg-gray-800",children:o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:KH[l.country]||"Pas no definido"})}),o.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"O pas  definido em Dados da Empresa"})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Moeda Operacional ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(Jt,{options:t6,value:l.operational_currency,onChange:h=>c({...l,operational_currency:h})})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Idioma da Plataforma ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(Jt,{options:ZH,value:l.language,onChange:h=>c({...l,language:h})})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Nmero de caracteres/palavras"," ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(Jt,{options:JH,value:l.counter_type,onChange:h=>c({...l,counter_type:h})})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Moeda de Exibio ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(Jt,{options:t6,value:l.display_currency,onChange:h=>c({...l,display_currency:h})})]})]}),o.jsxs("div",{className:"flex justify-end pt-6",children:[o.jsx(at,{variant:"outline",children:"Cancelar"}),o.jsx(at,{disabled:e,children:e?"Salvando...":"Salvar"})]})]})]})}function QH(){const[r,e]=w.useState(null),[t,n]=w.useState(!0),[a,s]=w.useState(""),[i,l]=w.useState("profile");w.useEffect(()=>{c()},[]);async function c(){try{const{data:{user:u}}=await K.auth.getUser();if(!u){s("Usurio no encontrado");return}const{data:h,error:f}=await K.from("admins").select("*").eq("id",u.id).single();if(f)throw f;e(h)}catch(u){console.error("Erro ao carregar perfil:",u),s("Erro ao carregar dados do perfil")}finally{n(!1)}}if(t)return o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})});if(a)return o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-error-500",children:a})});const d=[{id:"profile",name:"Perfil"},{id:"company",name:"Dados da Empresa"}];return o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"Minha Conta | Admin Panel",description:"Gerencie suas informaes de conta"}),o.jsx(kr,{pageTitle:"Minha Conta"}),o.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]",children:[o.jsx("div",{className:"border-b border-gray-200 dark:border-gray-800",children:o.jsx("div",{className:"flex gap-2 px-5 lg:px-6",children:d.map(u=>o.jsx("button",{onClick:()=>l(u.id),className:`inline-flex items-center gap-2 border-b-2 px-4 py-4 text-sm font-medium hover:text-gray-700 dark:hover:text-gray-300 ${i===u.id?"border-brand-500 text-brand-500 dark:text-brand-400":"border-transparent text-gray-500 dark:text-gray-400"}`,children:u.name},u.id))})}),o.jsxs("div",{className:"p-5 lg:p-6",children:[i==="profile"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(Y_,{profile:r}),o.jsx(rH,{profile:r,onUpdate:c}),o.jsx(sN,{profile:r,onUpdate:c})]}),i==="company"&&o.jsx(gN,{profile:r,onUpdate:c}),i==="account"&&o.jsx(xN,{profile:r,onUpdate:c}),i==="localization"&&o.jsx(vN,{profile:r})]})]})]})}function eU(){return o.jsx("div",{className:"relative",children:o.jsx("div",{className:"overflow-hidden",children:o.jsx("img",{src:"/images/grid-image/image-01.png",alt:"Cover",className:"w-full border border-gray-200 rounded-xl dark:border-gray-800"})})})}function tU(){return o.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2",children:[o.jsx("div",{children:o.jsx("img",{src:"/images/grid-image/image-02.png",alt:" grid",className:"border border-gray-200 rounded-xl dark:border-gray-800"})}),o.jsx("div",{children:o.jsx("img",{src:"/images/grid-image/image-03.png",alt:" grid",className:"border border-gray-200 rounded-xl dark:border-gray-800"})})]})}function rU(){return o.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 xl:grid-cols-3",children:[o.jsx("div",{children:o.jsx("img",{src:"/images/grid-image/image-04.png",alt:" grid",className:"border border-gray-200 rounded-xl dark:border-gray-800"})}),o.jsx("div",{children:o.jsx("img",{src:"/images/grid-image/image-05.png",alt:" grid",className:"border border-gray-200 rounded-xl dark:border-gray-800"})}),o.jsx("div",{children:o.jsx("img",{src:"/images/grid-image/image-06.png",alt:" grid",className:"border border-gray-200 rounded-xl dark:border-gray-800"})})]})}const ar=({title:r,children:e,className:t="",desc:n=""})=>o.jsxs("div",{className:`rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] ${t}`,children:[o.jsxs("div",{className:"px-6 py-5",children:[o.jsx("h3",{className:"text-base font-medium text-gray-800 dark:text-white/90",children:r}),n&&o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:n})]}),o.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-800 sm:p-6",children:o.jsx("div",{className:"space-y-6",children:e})})]});function nU(){return o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"React.js Images Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Images page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),o.jsx(kr,{pageTitle:"Images"}),o.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[o.jsx(ar,{title:"Responsive image",children:o.jsx(eU,{})}),o.jsx(ar,{title:"Image in 2 Grid",children:o.jsx(tU,{})}),o.jsx(ar,{title:"Image in 3 Grid",children:o.jsx(rU,{})})]})]})}const ol=({variant:r,title:e,message:t,showLink:n=!1,linkHref:a="#",linkText:s="Learn more"})=>{const i={success:{container:"border-success-500 bg-success-50 dark:border-success-500/30 dark:bg-success-500/15",icon:"text-success-500"},error:{container:"border-error-500 bg-error-50 dark:border-error-500/30 dark:bg-error-500/15",icon:"text-error-500"},warning:{container:"border-warning-500 bg-warning-50 dark:border-warning-500/30 dark:bg-warning-500/15",icon:"text-warning-500"},info:{container:"border-blue-light-500 bg-blue-light-50 dark:border-blue-light-500/30 dark:bg-blue-light-500/15",icon:"text-blue-light-500"}},l={success:o.jsx("svg",{className:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.70186 12.0001C3.70186 7.41711 7.41711 3.70186 12.0001 3.70186C16.5831 3.70186 20.2984 7.41711 20.2984 12.0001C20.2984 16.5831 16.5831 20.2984 12.0001 20.2984C7.41711 20.2984 3.70186 16.5831 3.70186 12.0001ZM12.0001 1.90186C6.423 1.90186 1.90186 6.423 1.90186 12.0001C1.90186 17.5772 6.423 22.0984 12.0001 22.0984C17.5772 22.0984 22.0984 17.5772 22.0984 12.0001C22.0984 6.423 17.5772 1.90186 12.0001 1.90186ZM15.6197 10.7395C15.9712 10.388 15.9712 9.81819 15.6197 9.46672C15.2683 9.11525 14.6984 9.11525 14.347 9.46672L11.1894 12.6243L9.6533 11.0883C9.30183 10.7368 8.73198 10.7368 8.38051 11.0883C8.02904 11.4397 8.02904 12.0096 8.38051 12.3611L10.553 14.5335C10.7217 14.7023 10.9507 14.7971 11.1894 14.7971C11.428 14.7971 11.657 14.7023 11.8257 14.5335L15.6197 10.7395Z"})}),error:o.jsx("svg",{className:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.3499 12.0004C20.3499 16.612 16.6115 20.3504 11.9999 20.3504C7.38832 20.3504 3.6499 16.612 3.6499 12.0004C3.6499 7.38881 7.38833 3.65039 11.9999 3.65039C16.6115 3.65039 20.3499 7.38881 20.3499 12.0004ZM11.9999 22.1504C17.6056 22.1504 22.1499 17.6061 22.1499 12.0004C22.1499 6.3947 17.6056 1.85039 11.9999 1.85039C6.39421 1.85039 1.8499 6.3947 1.8499 12.0004C1.8499 17.6061 6.39421 22.1504 11.9999 22.1504ZM13.0008 16.4753C13.0008 15.923 12.5531 15.4753 12.0008 15.4753L11.9998 15.4753C11.4475 15.4753 10.9998 15.923 10.9998 16.4753C10.9998 17.0276 11.4475 17.4753 11.9998 17.4753L12.0008 17.4753C12.5531 17.4753 13.0008 17.0276 13.0008 16.4753ZM11.9998 6.62898C12.414 6.62898 12.7498 6.96476 12.7498 7.37898L12.7498 13.0555C12.7498 13.4697 12.414 13.8055 11.9998 13.8055C11.5856 13.8055 11.2498 13.4697 11.2498 13.0555L11.2498 7.37898C11.2498 6.96476 11.5856 6.62898 11.9998 6.62898Z",fill:"#F04438"})}),warning:o.jsx("svg",{className:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6501 12.0001C3.6501 7.38852 7.38852 3.6501 12.0001 3.6501C16.6117 3.6501 20.3501 7.38852 20.3501 12.0001C20.3501 16.6117 16.6117 20.3501 12.0001 20.3501C7.38852 20.3501 3.6501 16.6117 3.6501 12.0001ZM12.0001 1.8501C6.39441 1.8501 1.8501 6.39441 1.8501 12.0001C1.8501 17.6058 6.39441 22.1501 12.0001 22.1501C17.6058 22.1501 22.1501 17.6058 22.1501 12.0001C22.1501 6.39441 17.6058 1.8501 12.0001 1.8501ZM10.9992 7.52517C10.9992 8.07746 11.4469 8.52517 11.9992 8.52517H12.0002C12.5525 8.52517 13.0002 8.07746 13.0002 7.52517C13.0002 6.97289 12.5525 6.52517 12.0002 6.52517H11.9992C11.4469 6.52517 10.9992 6.97289 10.9992 7.52517ZM12.0002 17.3715C11.586 17.3715 11.2502 17.0357 11.2502 16.6215V10.945C11.2502 10.5308 11.586 10.195 12.0002 10.195C12.4144 10.195 12.7502 10.5308 12.7502 10.945V16.6215C12.7502 17.0357 12.4144 17.3715 12.0002 17.3715Z",fill:""})}),info:o.jsx("svg",{className:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6501 11.9996C3.6501 7.38803 7.38852 3.64961 12.0001 3.64961C16.6117 3.64961 20.3501 7.38803 20.3501 11.9996C20.3501 16.6112 16.6117 20.3496 12.0001 20.3496C7.38852 20.3496 3.6501 16.6112 3.6501 11.9996ZM12.0001 1.84961C6.39441 1.84961 1.8501 6.39392 1.8501 11.9996C1.8501 17.6053 6.39441 22.1496 12.0001 22.1496C17.6058 22.1496 22.1501 17.6053 22.1501 11.9996C22.1501 6.39392 17.6058 1.84961 12.0001 1.84961ZM10.9992 7.52468C10.9992 8.07697 11.4469 8.52468 11.9992 8.52468H12.0002C12.5525 8.52468 13.0002 8.07697 13.0002 7.52468C13.0002 6.9724 12.5525 6.52468 12.0002 6.52468H11.9992C11.4469 6.52468 10.9992 6.9724 10.9992 7.52468ZM12.0002 17.371C11.586 17.371 11.2502 17.0352 11.2502 16.621V10.9445C11.2502 10.5303 11.586 10.1945 12.0002 10.1945C12.4144 10.1945 12.7502 10.5303 12.7502 10.9445V16.621C12.7502 17.0352 12.4144 17.371 12.0002 17.371Z",fill:""})})};return o.jsx("div",{className:`rounded-xl border p-4 ${i[r].container}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:`-mt-0.5 ${i[r].icon}`,children:l[r]}),o.jsxs("div",{children:[o.jsx("h4",{className:"mb-1 text-sm font-semibold text-gray-800 dark:text-white/90",children:e}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t}),n&&o.jsx(Sn,{to:a,className:"inline-block mt-3 text-sm font-medium text-gray-500 underline dark:text-gray-400",children:s})]})]})})};function aU(){return o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"React.js Alerts Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Alerts Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),o.jsx(kr,{pageTitle:"Alerts"}),o.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[o.jsxs(ar,{title:"Success Alert",children:[o.jsx(ol,{variant:"success",title:"Success Message",message:"Be cautious when performing this action.",showLink:!0,linkHref:"/",linkText:"Learn more"}),o.jsx(ol,{variant:"success",title:"Success Message",message:"Be cautious when performing this action.",showLink:!1})]}),o.jsxs(ar,{title:"Warning Alert",children:[o.jsx(ol,{variant:"warning",title:"Warning Message",message:"Be cautious when performing this action.",showLink:!0,linkHref:"/",linkText:"Learn more"}),o.jsx(ol,{variant:"warning",title:"Warning Message",message:"Be cautious when performing this action.",showLink:!1})]})," ",o.jsxs(ar,{title:"Error Alert",children:[o.jsx(ol,{variant:"error",title:"Error Message",message:"Be cautious when performing this action.",showLink:!0,linkHref:"/",linkText:"Learn more"}),o.jsx(ol,{variant:"error",title:"Error Message",message:"Be cautious when performing this action.",showLink:!1})]})," ",o.jsxs(ar,{title:"Info Alert",children:[o.jsx(ol,{variant:"info",title:"Info Message",message:"Be cautious when performing this action.",showLink:!0,linkHref:"/",linkText:"Learn more"}),o.jsx(ol,{variant:"info",title:"Info Message",message:"Be cautious when performing this action.",showLink:!1})]})]})]})}const At=({variant:r="light",color:e="primary",size:t="md",startIcon:n,endIcon:a,children:s})=>{const i="inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium",l={sm:"text-theme-xs",md:"text-sm"},c={light:{primary:"bg-brand-50 text-brand-500 dark:bg-brand-500/15 dark:text-brand-400",success:"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500",error:"bg-error-50 text-error-600 dark:bg-error-500/15 dark:text-error-500",warning:"bg-warning-50 text-warning-600 dark:bg-warning-500/15 dark:text-orange-400",info:"bg-blue-light-50 text-blue-light-500 dark:bg-blue-light-500/15 dark:text-blue-light-500",light:"bg-gray-100 text-gray-700 dark:bg-white/5 dark:text-white/80",dark:"bg-gray-500 text-white dark:bg-white/5 dark:text-white"},solid:{primary:"bg-brand-500 text-white dark:text-white",success:"bg-success-500 text-white dark:text-white",error:"bg-error-500 text-white dark:text-white",warning:"bg-warning-500 text-white dark:text-white",info:"bg-blue-light-500 text-white dark:text-white",light:"bg-gray-400 dark:bg-white/5 text-white dark:text-white/80",dark:"bg-gray-700 text-white dark:text-white"}},d=l[t],u=c[r][e];return o.jsxs("span",{className:`${i} ${d} ${u}`,children:[n&&o.jsx("span",{className:"mr-1",children:n}),s,a&&o.jsx("span",{className:"ml-1",children:a})]})},yr=r=>w.createElement("svg",{className:"fill-current",width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25012 3C5.25012 2.58579 5.58591 2.25 6.00012 2.25C6.41433 2.25 6.75012 2.58579 6.75012 3V5.25012L9.00034 5.25012C9.41455 5.25012 9.75034 5.58591 9.75034 6.00012C9.75034 6.41433 9.41455 6.75012 9.00034 6.75012H6.75012V9.00034C6.75012 9.41455 6.41433 9.75034 6.00012 9.75034C5.58591 9.75034 5.25012 9.41455 5.25012 9.00034L5.25012 6.75012H3C2.58579 6.75012 2.25 6.41433 2.25 6.00012C2.25 5.58591 2.58579 5.25012 3 5.25012H5.25012V3Z",fill:""})),sU=r=>w.createElement("svg",{className:"size-6       ",width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.04289 16.5418C5.65237 16.9323 5.65237 17.5655 6.04289 17.956C6.43342 18.3465 7.06658 18.3465 7.45711 17.956L11.9987 13.4144L16.5408 17.9565C16.9313 18.347 17.5645 18.347 17.955 17.9565C18.3455 17.566 18.3455 16.9328 17.955 16.5423L13.4129 12.0002L17.955 7.45808C18.3455 7.06756 18.3455 6.43439 17.955 6.04387C17.5645 5.65335 16.9313 5.65335 16.5408 6.04387L11.9987 10.586L7.45711 6.04439C7.06658 5.65386 6.43342 5.65386 6.04289 6.04439C5.65237 6.43491 5.65237 7.06808 6.04289 7.4586L10.5845 12.0002L6.04289 16.5418Z",fill:"currentColor"})),Vi=r=>w.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.77692 3.24224C9.91768 3.17186 10.0834 3.17186 10.2241 3.24224L15.3713 5.81573L10.3359 8.33331C10.1248 8.43888 9.87626 8.43888 9.66512 8.33331L4.6298 5.81573L9.77692 3.24224ZM3.70264 7.0292V13.4124C3.70264 13.6018 3.80964 13.775 3.97903 13.8597L9.25016 16.4952L9.25016 9.7837C9.16327 9.75296 9.07782 9.71671 8.99432 9.67496L3.70264 7.0292ZM10.7502 16.4955V9.78396C10.8373 9.75316 10.923 9.71683 11.0067 9.67496L16.2984 7.0292V13.4124C16.2984 13.6018 16.1914 13.775 16.022 13.8597L10.7502 16.4955ZM9.41463 17.4831L9.10612 18.1002C9.66916 18.3817 10.3319 18.3817 10.8949 18.1002L16.6928 15.2013C17.3704 14.8625 17.7984 14.17 17.7984 13.4124V6.58831C17.7984 5.83076 17.3704 5.13823 16.6928 4.79945L10.8949 1.90059C10.3319 1.61908 9.66916 1.61907 9.10612 1.90059L9.44152 2.57141L9.10612 1.90059L3.30823 4.79945C2.63065 5.13823 2.20264 5.83076 2.20264 6.58831V13.4124C2.20264 14.17 2.63065 14.8625 3.30823 15.2013L9.10612 18.1002L9.41463 17.4831Z",fill:"currentColor"})),_2=r=>w.createElement("svg",{className:"size-5",xmlns:"http://www.w3.org/2000/svg",width:22,height:22,viewBox:"0 0 22 22",fill:"none",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.70186 11.0001C2.70186 6.41711 6.41711 2.70186 11.0001 2.70186C15.5831 2.70186 19.2984 6.41711 19.2984 11.0001C19.2984 15.5831 15.5831 19.2984 11.0001 19.2984C6.41711 19.2984 2.70186 15.5831 2.70186 11.0001ZM11.0001 0.901855C5.423 0.901855 0.901855 5.423 0.901855 11.0001C0.901855 16.5772 5.423 21.0984 11.0001 21.0984C16.5772 21.0984 21.0984 16.5772 21.0984 11.0001C21.0984 5.423 16.5772 0.901855 11.0001 0.901855ZM14.6197 9.73951C14.9712 9.38804 14.9712 8.81819 14.6197 8.46672C14.2683 8.11525 13.6984 8.11525 13.347 8.46672L10.1894 11.6243L8.6533 10.0883C8.30183 9.7368 7.73198 9.7368 7.38051 10.0883C7.02904 10.4397 7.02904 11.0096 7.38051 11.3611L9.55295 13.5335C9.72174 13.7023 9.95065 13.7971 10.1894 13.7971C10.428 13.7971 10.657 13.7023 10.8257 13.5335L14.6197 9.73951Z",fill:"#12B76A"})),iU=r=>w.createElement("svg",{className:"size-5",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6501 12.0001C3.6501 7.38852 7.38852 3.6501 12.0001 3.6501C16.6117 3.6501 20.3501 7.38852 20.3501 12.0001C20.3501 16.6117 16.6117 20.3501 12.0001 20.3501C7.38852 20.3501 3.6501 16.6117 3.6501 12.0001ZM12.0001 1.8501C6.39441 1.8501 1.8501 6.39441 1.8501 12.0001C1.8501 17.6058 6.39441 22.1501 12.0001 22.1501C17.6058 22.1501 22.1501 17.6058 22.1501 12.0001C22.1501 6.39441 17.6058 1.8501 12.0001 1.8501ZM10.9992 7.52517C10.9992 8.07746 11.4469 8.52517 11.9992 8.52517H12.0002C12.5525 8.52517 13.0002 8.07746 13.0002 7.52517C13.0002 6.97289 12.5525 6.52517 12.0002 6.52517H11.9992C11.4469 6.52517 10.9992 6.97289 10.9992 7.52517ZM12.0002 17.3715C11.586 17.3715 11.2502 17.0357 11.2502 16.6215V10.945C11.2502 10.5308 11.586 10.195 12.0002 10.195C12.4144 10.195 12.7502 10.5308 12.7502 10.945V16.6215C12.7502 17.0357 12.4144 17.3715 12.0002 17.3715Z",fill:"#F79009"})),oU=r=>w.createElement("svg",{className:"size-5",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6501 11.9996C3.6501 7.38803 7.38852 3.64961 12.0001 3.64961C16.6117 3.64961 20.3501 7.38803 20.3501 11.9996C20.3501 16.6112 16.6117 20.3496 12.0001 20.3496C7.38852 20.3496 3.6501 16.6112 3.6501 11.9996ZM12.0001 1.84961C6.39441 1.84961 1.8501 6.39392 1.8501 11.9996C1.8501 17.6053 6.39441 22.1496 12.0001 22.1496C17.6058 22.1496 22.1501 17.6053 22.1501 11.9996C22.1501 6.39392 17.6058 1.84961 12.0001 1.84961ZM10.9992 7.52468C10.9992 8.07697 11.4469 8.52468 11.9992 8.52468H12.0002C12.5525 8.52468 13.0002 8.07697 13.0002 7.52468C13.0002 6.9724 12.5525 6.52468 12.0002 6.52468H11.9992C11.4469 6.52468 10.9992 6.9724 10.9992 7.52468ZM12.0002 17.371C11.586 17.371 11.2502 17.0352 11.2502 16.621V10.9445C11.2502 10.5303 11.586 10.1945 12.0002 10.1945C12.4144 10.1945 12.7502 10.5303 12.7502 10.9445V16.621C12.7502 17.0352 12.4144 17.371 12.0002 17.371Z",fill:"#0BA5EC"})),lU=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.3499 11.9999C20.3499 16.6115 16.6115 20.3499 11.9999 20.3499C7.38832 20.3499 3.6499 16.6115 3.6499 11.9999C3.6499 7.38832 7.38833 3.6499 11.9999 3.6499C16.6115 3.6499 20.3499 7.38832 20.3499 11.9999ZM11.9999 22.1499C17.6056 22.1499 22.1499 17.6056 22.1499 11.9999C22.1499 6.39421 17.6056 1.8499 11.9999 1.8499C6.39421 1.8499 1.8499 6.39421 1.8499 11.9999C1.8499 17.6056 6.39421 22.1499 11.9999 22.1499ZM13.0008 16.4748C13.0008 15.9225 12.5531 15.4748 12.0008 15.4748L11.9998 15.4748C11.4475 15.4748 10.9998 15.9225 10.9998 16.4748C10.9998 17.0271 11.4475 17.4748 11.9998 17.4748L12.0008 17.4748C12.5531 17.4748 13.0008 17.0271 13.0008 16.4748ZM11.9998 6.62849C12.414 6.62849 12.7498 6.96428 12.7498 7.37849L12.7498 13.055C12.7498 13.4692 12.414 13.805 11.9998 13.805C11.5856 13.805 11.2498 13.4692 11.2498 13.055L11.2498 7.37849C11.2498 6.96428 11.5856 6.62849 11.9998 6.62849Z",fill:"#F04438"})),cU=r=>w.createElement("svg",{className:"size-6",width:24,height:26,viewBox:"0 0 24 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{d:"M12.814 4.75L4.78516 16.0352H11.1859L11.1859 23.25L19.2148 11.9648L12.814 11.9648V4.75Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),N2=r=>w.createElement("svg",{className:"fill-current",width:13,height:12,viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.06462 1.62393C6.20193 1.47072 6.40135 1.37432 6.62329 1.37432C6.6236 1.37432 6.62391 1.37432 6.62422 1.37432C6.81631 1.37415 7.00845 1.44731 7.15505 1.5938L10.1551 4.5918C10.4481 4.88459 10.4483 5.35946 10.1555 5.65246C9.86273 5.94546 9.38785 5.94562 9.09486 5.65283L7.37329 3.93247L7.37329 10.125C7.37329 10.5392 7.03751 10.875 6.62329 10.875C6.20908 10.875 5.87329 10.5392 5.87329 10.125L5.87329 3.93578L4.15516 5.65281C3.86218 5.94561 3.3873 5.94546 3.0945 5.65248C2.8017 5.35949 2.80185 4.88462 3.09484 4.59182L6.06462 1.62393Z",fill:""})),E2=r=>w.createElement("svg",{className:"fill-current",width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.31462 10.3761C5.45194 10.5293 5.65136 10.6257 5.87329 10.6257C5.8736 10.6257 5.8739 10.6257 5.87421 10.6257C6.0663 10.6259 6.25845 10.5527 6.40505 10.4062L9.40514 7.4082C9.69814 7.11541 9.69831 6.64054 9.40552 6.34754C9.11273 6.05454 8.63785 6.05438 8.34486 6.34717L6.62329 8.06753L6.62329 1.875C6.62329 1.46079 6.28751 1.125 5.87329 1.125C5.45908 1.125 5.12329 1.46079 5.12329 1.875L5.12329 8.06422L3.40516 6.34719C3.11218 6.05439 2.6373 6.05454 2.3445 6.34752C2.0517 6.64051 2.05185 7.11538 2.34484 7.40818L5.31462 10.3761Z",fill:""})),dU=r=>w.createElement("svg",{width:20,height:18,viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{d:"M9.05 3.9L8.45 4.35L9.05 3.9ZM2.25 2.25H6.5V0.75H2.25V2.25ZM1.5 15V3H0V15H1.5ZM17.75 15.75H2.25V17.25H17.75V15.75ZM18.5 6V15H20V6H18.5ZM17.75 3.75H10.25V5.25H17.75V3.75ZM9.65 3.45L8.3 1.65L7.1 2.55L8.45 4.35L9.65 3.45ZM10.25 3.75C10.0139 3.75 9.79164 3.63885 9.65 3.45L8.45 4.35C8.87492 4.91656 9.5418 5.25 10.25 5.25V3.75ZM20 6C20 4.75736 18.9926 3.75 17.75 3.75V5.25C18.1642 5.25 18.5 5.58579 18.5 6H20ZM17.75 17.25C18.9926 17.25 20 16.2426 20 15H18.5C18.5 15.4142 18.1642 15.75 17.75 15.75V17.25ZM0 15C0 16.2426 1.00736 17.25 2.25 17.25V15.75C1.83579 15.75 1.5 15.4142 1.5 15H0ZM6.5 2.25C6.73607 2.25 6.95836 2.36115 7.1 2.55L8.3 1.65C7.87508 1.08344 7.2082 0.75 6.5 0.75V2.25ZM2.25 0.75C1.00736 0.75 0 1.75736 0 3H1.5C1.5 2.58579 1.83579 2.25 2.25 2.25V0.75Z",fill:"currentColor"})),uU=r=>w.createElement("svg",{width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{d:"M6.70825 5.93126L6.70825 18.0687C6.70825 19.2416 7.9937 19.9607 8.99315 19.347L18.8765 13.2783C19.83 12.6928 19.83 11.3072 18.8765 10.7217L8.99315 4.65301C7.9937 4.03931 6.70825 4.75844 6.70825 5.93126Z",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round"})),hU=r=>w.createElement("svg",{className:"fill-current",width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.4166 4.00001C21.4166 3.77689 21.3173 3.56536 21.1456 3.42287C20.9739 3.28039 20.7477 3.22173 20.5284 3.26285L8.52841 5.51285C8.17368 5.57936 7.91663 5.88909 7.91663 6.25001V9.98484C7.91644 9.99437 7.91644 10.0039 7.91663 10.0135V14.4585C7.3716 14.1636 6.72327 14 6.04163 14C5.16738 14 4.34794 14.2691 3.73094 14.7392C3.11333 15.2098 2.66663 15.9138 2.66663 16.75C2.66663 17.5862 3.11333 18.2902 3.73094 18.7608C4.34794 19.2309 5.16738 19.5 6.04163 19.5C6.91587 19.5 7.73532 19.2309 8.35231 18.7608C8.95774 18.2995 9.39893 17.6139 9.41611 16.7993C9.41645 16.79 9.41663 16.7806 9.41663 16.7712V16.75V10.62L19.9166 8.60938V12.2085C19.3716 11.9136 18.7233 11.75 18.0416 11.75C17.1674 11.75 16.3479 12.0191 15.7309 12.4892C15.1133 12.9598 14.6666 13.6638 14.6666 14.5C14.6666 15.3362 15.1133 16.0402 15.7309 16.5108C16.3479 16.9809 17.1674 17.25 18.0416 17.25C18.9159 17.25 19.7353 16.9809 20.3523 16.5108C20.9577 16.0495 21.3989 15.3639 21.4161 14.5493C21.4165 14.54 21.4166 14.5306 21.4166 14.5212V14.5V4.00001ZM19.9166 14.5C19.9166 14.2316 19.7757 13.9357 19.4432 13.6824C19.1102 13.4286 18.6171 13.25 18.0416 13.25C17.4661 13.25 16.9731 13.4286 16.64 13.6824C16.3076 13.9357 16.1666 14.2316 16.1666 14.5C16.1666 14.7684 16.3076 15.0643 16.64 15.3176C16.9731 15.5714 17.4661 15.75 18.0416 15.75C18.6171 15.75 19.1102 15.5714 19.4432 15.3176C19.7757 15.0643 19.9166 14.7684 19.9166 14.5ZM7.44325 15.9324C7.7757 16.1857 7.91663 16.4816 7.91663 16.75C7.91663 17.0184 7.7757 17.3143 7.44325 17.5676C7.11018 17.8214 6.61713 18 6.04163 18C5.46613 18 4.97307 17.8214 4.64 17.5676C4.30755 17.3143 4.16663 17.0184 4.16663 16.75C4.16663 16.4816 4.30755 16.1857 4.64 15.9324C4.97307 15.6786 5.46613 15.5 6.04163 15.5C6.61713 15.5 7.11018 15.6786 7.44325 15.9324ZM19.9166 7.08212V4.9037L9.41663 6.87245V9.09276L19.9166 7.08212Z",fill:"currentColor"})),_u=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 3.25C4.25736 3.25 3.25 4.25736 3.25 5.5V8.99998C3.25 10.2426 4.25736 11.25 5.5 11.25H9C10.2426 11.25 11.25 10.2426 11.25 8.99998V5.5C11.25 4.25736 10.2426 3.25 9 3.25H5.5ZM4.75 5.5C4.75 5.08579 5.08579 4.75 5.5 4.75H9C9.41421 4.75 9.75 5.08579 9.75 5.5V8.99998C9.75 9.41419 9.41421 9.74998 9 9.74998H5.5C5.08579 9.74998 4.75 9.41419 4.75 8.99998V5.5ZM5.5 12.75C4.25736 12.75 3.25 13.7574 3.25 15V18.5C3.25 19.7426 4.25736 20.75 5.5 20.75H9C10.2426 20.75 11.25 19.7427 11.25 18.5V15C11.25 13.7574 10.2426 12.75 9 12.75H5.5ZM4.75 15C4.75 14.5858 5.08579 14.25 5.5 14.25H9C9.41421 14.25 9.75 14.5858 9.75 15V18.5C9.75 18.9142 9.41421 19.25 9 19.25H5.5C5.08579 19.25 4.75 18.9142 4.75 18.5V15ZM12.75 5.5C12.75 4.25736 13.7574 3.25 15 3.25H18.5C19.7426 3.25 20.75 4.25736 20.75 5.5V8.99998C20.75 10.2426 19.7426 11.25 18.5 11.25H15C13.7574 11.25 12.75 10.2426 12.75 8.99998V5.5ZM15 4.75C14.5858 4.75 14.25 5.08579 14.25 5.5V8.99998C14.25 9.41419 14.5858 9.74998 15 9.74998H18.5C18.9142 9.74998 19.25 9.41419 19.25 8.99998V5.5C19.25 5.08579 18.9142 4.75 18.5 4.75H15ZM15 12.75C13.7574 12.75 12.75 13.7574 12.75 15V18.5C12.75 19.7426 13.7574 20.75 15 20.75H18.5C19.7426 20.75 20.75 19.7427 20.75 18.5V15C20.75 13.7574 19.7426 12.75 18.5 12.75H15ZM14.25 15C14.25 14.5858 14.5858 14.25 15 14.25H18.5C18.9142 14.25 19.25 14.5858 19.25 15V18.5C19.25 18.9142 18.9142 19.25 18.5 19.25H15C14.5858 19.25 14.25 18.9142 14.25 18.5V15Z",fill:"currentColor"})),wo=r=>w.createElement("svg",{className:"fill-current",width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.8335 19.75C19.8335 20.9926 18.8261 22 17.5835 22H7.0835C5.84086 22 4.8335 20.9926 4.8335 19.75V9.62105C4.8335 9.02455 5.07036 8.45247 5.49201 8.03055L10.8597 2.65951C11.2817 2.23725 11.8542 2 12.4512 2H17.5835C18.8261 2 19.8335 3.00736 19.8335 4.25V19.75ZM17.5835 20.5C17.9977 20.5 18.3335 20.1642 18.3335 19.75V4.25C18.3335 3.83579 17.9977 3.5 17.5835 3.5H12.5815L12.5844 7.49913C12.5853 8.7424 11.5776 9.75073 10.3344 9.75073H6.3335V19.75C6.3335 20.1642 6.66928 20.5 7.0835 20.5H17.5835ZM7.39262 8.25073L11.0823 4.55876L11.0844 7.5002C11.0847 7.91462 10.7488 8.25073 10.3344 8.25073H7.39262ZM8.5835 14.5C8.5835 14.0858 8.91928 13.75 9.3335 13.75H15.3335C15.7477 13.75 16.0835 14.0858 16.0835 14.5C16.0835 14.9142 15.7477 15.25 15.3335 15.25H9.3335C8.91928 15.25 8.5835 14.9142 8.5835 14.5ZM8.5835 17.5C8.5835 17.0858 8.91928 16.75 9.3335 16.75H12.3335C12.7477 16.75 13.0835 17.0858 13.0835 17.5C13.0835 17.9142 12.7477 18.25 12.3335 18.25H9.3335C8.91928 18.25 8.5835 17.9142 8.5835 17.5Z",fill:"currentColor"})),fU=r=>w.createElement("svg",{className:"fill-current",width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.6686 16.75C12.4526 16.75 12.2579 16.6587 12.1211 16.5126L7.5115 11.9059C7.21851 11.6131 7.21836 11.1382 7.51116 10.8452C7.80396 10.5523 8.27883 10.5521 8.57182 10.8449L11.9186 14.1896V4C11.9186 3.58579 12.2544 3.25 12.6686 3.25C13.0828 3.25 13.4186 3.58579 13.4186 4V14.1854L16.7615 10.8449C17.0545 10.5521 17.5294 10.5523 17.8222 10.8453C18.115 11.1383 18.1148 11.6131 17.8218 11.9059L13.2469 16.4776C13.1093 16.644 12.9013 16.75 12.6686 16.75ZM5.41663 16C5.41663 15.5858 5.08084 15.25 4.66663 15.25C4.25241 15.25 3.91663 15.5858 3.91663 16V18.5C3.91663 19.7426 4.92399 20.75 6.16663 20.75H19.1675C20.4101 20.75 21.4175 19.7426 21.4175 18.5V16C21.4175 15.5858 21.0817 15.25 20.6675 15.25C20.2533 15.25 19.9175 15.5858 19.9175 16V18.5C19.9175 18.9142 19.5817 19.25 19.1675 19.25H6.16663C5.75241 19.25 5.41663 18.9142 5.41663 18.5V16Z",fill:"currentColor"})),bN=r=>w.createElement("svg",{className:"fill-current",width:29,height:28,viewBox:"0 0 29 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5019 3.91699C14.2852 3.91699 14.0899 4.00891 13.953 4.15589L8.57363 9.53186C8.28065 9.82466 8.2805 10.2995 8.5733 10.5925C8.8661 10.8855 9.34097 10.8857 9.63396 10.5929L13.7519 6.47752V18.667C13.7519 19.0812 14.0877 19.417 14.5019 19.417C14.9161 19.417 15.2519 19.0812 15.2519 18.667V6.48234L19.3653 10.5929C19.6583 10.8857 20.1332 10.8855 20.426 10.5925C20.7188 10.2995 20.7186 9.82463 20.4256 9.53184L15.0838 4.19378C14.9463 4.02488 14.7367 3.91699 14.5019 3.91699ZM5.91626 18.667C5.91626 18.2528 5.58047 17.917 5.16626 17.917C4.75205 17.917 4.41626 18.2528 4.41626 18.667V21.8337C4.41626 23.0763 5.42362 24.0837 6.66626 24.0837H22.3339C23.5766 24.0837 24.5839 23.0763 24.5839 21.8337V18.667C24.5839 18.2528 24.2482 17.917 23.8339 17.917C23.4197 17.917 23.0839 18.2528 23.0839 18.667V21.8337C23.0839 22.2479 22.7482 22.5837 22.3339 22.5837H6.66626C6.25205 22.5837 5.91626 22.2479 5.91626 21.8337V18.667Z",fill:"currentColor"})),yN=r=>w.createElement("svg",{className:"fill-current",width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4175 9.9986C17.4178 10.1909 17.3446 10.3832 17.198 10.53L12.2013 15.5301C11.9085 15.8231 11.4337 15.8233 11.1407 15.5305C10.8477 15.2377 10.8475 14.7629 11.1403 14.4699L14.8604 10.7472L3.33301 10.7472C2.91879 10.7472 2.58301 10.4114 2.58301 9.99715C2.58301 9.58294 2.91879 9.24715 3.33301 9.24715L14.8549 9.24715L11.1403 5.53016C10.8475 5.23717 10.8477 4.7623 11.1407 4.4695C11.4336 4.1767 11.9085 4.17685 12.2013 4.46984L17.1588 9.43049C17.3173 9.568 17.4175 9.77087 17.4175 9.99715C17.4175 9.99763 17.4175 9.99812 17.4175 9.9986Z",fill:"currentColor"})),wN=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.80443 5.60156C7.59109 5.60156 6.60749 6.58517 6.60749 7.79851C6.60749 9.01185 7.59109 9.99545 8.80443 9.99545C10.0178 9.99545 11.0014 9.01185 11.0014 7.79851C11.0014 6.58517 10.0178 5.60156 8.80443 5.60156ZM5.10749 7.79851C5.10749 5.75674 6.76267 4.10156 8.80443 4.10156C10.8462 4.10156 12.5014 5.75674 12.5014 7.79851C12.5014 9.84027 10.8462 11.4955 8.80443 11.4955C6.76267 11.4955 5.10749 9.84027 5.10749 7.79851ZM4.86252 15.3208C4.08769 16.0881 3.70377 17.0608 3.51705 17.8611C3.48384 18.0034 3.5211 18.1175 3.60712 18.2112C3.70161 18.3141 3.86659 18.3987 4.07591 18.3987H13.4249C13.6343 18.3987 13.7992 18.3141 13.8937 18.2112C13.9797 18.1175 14.017 18.0034 13.9838 17.8611C13.7971 17.0608 13.4132 16.0881 12.6383 15.3208C11.8821 14.572 10.6899 13.955 8.75042 13.955C6.81096 13.955 5.61877 14.572 4.86252 15.3208ZM3.8071 14.2549C4.87163 13.2009 6.45602 12.455 8.75042 12.455C11.0448 12.455 12.6292 13.2009 13.6937 14.2549C14.7397 15.2906 15.2207 16.5607 15.4446 17.5202C15.7658 18.8971 14.6071 19.8987 13.4249 19.8987H4.07591C2.89369 19.8987 1.73504 18.8971 2.05628 17.5202C2.28015 16.5607 2.76117 15.2906 3.8071 14.2549ZM15.3042 11.4955C14.4702 11.4955 13.7006 11.2193 13.0821 10.7533C13.3742 10.3314 13.6054 9.86419 13.7632 9.36432C14.1597 9.75463 14.7039 9.99545 15.3042 9.99545C16.5176 9.99545 17.5012 9.01185 17.5012 7.79851C17.5012 6.58517 16.5176 5.60156 15.3042 5.60156C14.7039 5.60156 14.1597 5.84239 13.7632 6.23271C13.6054 5.73284 13.3741 5.26561 13.082 4.84371C13.7006 4.37777 14.4702 4.10156 15.3042 4.10156C17.346 4.10156 19.0012 5.75674 19.0012 7.79851C19.0012 9.84027 17.346 11.4955 15.3042 11.4955ZM19.9248 19.8987H16.3901C16.7014 19.4736 16.9159 18.969 16.9827 18.3987H19.9248C20.1341 18.3987 20.2991 18.3141 20.3936 18.2112C20.4796 18.1175 20.5169 18.0034 20.4837 17.861C20.2969 17.0607 19.913 16.088 19.1382 15.3208C18.4047 14.5945 17.261 13.9921 15.4231 13.9566C15.2232 13.6945 14.9995 13.437 14.7491 13.1891C14.5144 12.9566 14.262 12.7384 13.9916 12.5362C14.3853 12.4831 14.8044 12.4549 15.2503 12.4549C17.5447 12.4549 19.1291 13.2008 20.1936 14.2549C21.2395 15.2906 21.7206 16.5607 21.9444 17.5202C22.2657 18.8971 21.107 19.8987 19.9248 19.8987Z",fill:"currentColor"})),kN=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.665 3.75621C11.8762 3.65064 12.1247 3.65064 12.3358 3.75621L18.7807 6.97856L12.3358 10.2009C12.1247 10.3065 11.8762 10.3065 11.665 10.2009L5.22014 6.97856L11.665 3.75621ZM4.29297 8.19203V16.0946C4.29297 16.3787 4.45347 16.6384 4.70757 16.7654L11.25 20.0366V11.6513C11.1631 11.6205 11.0777 11.5843 10.9942 11.5426L4.29297 8.19203ZM12.75 20.037L19.2933 16.7654C19.5474 16.6384 19.7079 16.3787 19.7079 16.0946V8.19202L13.0066 11.5426C12.9229 11.5844 12.8372 11.6208 12.75 11.6516V20.037ZM13.0066 2.41456C12.3732 2.09786 11.6277 2.09786 10.9942 2.41456L4.03676 5.89319C3.27449 6.27432 2.79297 7.05342 2.79297 7.90566V16.0946C2.79297 16.9469 3.27448 17.726 4.03676 18.1071L10.9942 21.5857L11.3296 20.9149L10.9942 21.5857C11.6277 21.9024 12.3732 21.9024 13.0066 21.5857L19.9641 18.1071C20.7264 17.726 21.2079 16.9469 21.2079 16.0946V7.90566C21.2079 7.05342 20.7264 6.27432 19.9641 5.89319L13.0066 2.41456Z",fill:"currentColor"})),pU=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.3662 1.11216C20.6592 0.8193 21.134 0.819349 21.4269 1.11227C21.7198 1.4052 21.7197 1.88007 21.4268 2.17293L17.0308 6.56803C16.7379 6.8609 16.263 6.86085 15.9701 6.56792C15.6773 6.275 15.6773 5.80013 15.9702 5.50726L20.3662 1.11216ZM16.6592 2.696C16.952 2.40308 16.952 1.9282 16.659 1.63534C16.3661 1.34248 15.8913 1.34253 15.5984 1.63545L14.0987 3.13545C13.8058 3.42837 13.8059 3.90325 14.0988 4.19611C14.3917 4.48897 14.8666 4.48892 15.1595 4.196L16.6592 2.696ZM11.8343 3.45488C11.7079 3.19888 11.4472 3.0368 11.1617 3.0368C10.8762 3.0368 10.6155 3.19888 10.4892 3.45488L8.06431 8.36817L2.64217 9.15605C2.35966 9.19711 2.12495 9.39499 2.03673 9.6665C1.94851 9.93801 2.02208 10.2361 2.22651 10.4353L6.15001 14.2598L5.2238 19.66C5.17554 19.9414 5.29121 20.2258 5.52216 20.3936C5.75312 20.5614 6.05932 20.5835 6.31201 20.4506L11.1617 17.901L16.0114 20.4506C16.2641 20.5835 16.5703 20.5614 16.8013 20.3936C17.0322 20.2258 17.1479 19.9414 17.0996 19.66L16.1734 14.2598L20.0969 10.4353C20.3014 10.2361 20.3749 9.93801 20.2867 9.6665C20.1985 9.39499 19.9638 9.19711 19.6813 9.15605L14.2591 8.36817L11.8343 3.45488ZM9.23491 9.3856L11.1617 5.48147L13.0885 9.3856C13.1978 9.60696 13.4089 9.76039 13.6532 9.79588L17.9617 10.4219L14.8441 13.4609C14.6673 13.6332 14.5866 13.8814 14.6284 14.1247L15.3643 18.4158L11.5107 16.3898C11.2922 16.275 11.0312 16.275 10.8127 16.3898L6.9591 18.4158L7.69508 14.1247C7.7368 13.8814 7.65614 13.6332 7.47938 13.4609L4.36174 10.4219L8.67021 9.79588C8.91449 9.76039 9.12567 9.60696 9.23491 9.3856ZM21.6514 5.12825C21.9443 5.42111 21.9444 5.89598 21.6515 6.18891L20.1518 7.68891C19.8589 7.98183 19.3841 7.98188 19.0912 7.68901C18.7982 7.39615 18.7982 6.92128 19.091 6.62836L20.5907 5.12836C20.8836 4.83543 21.3585 4.83538 21.6514 5.12825Z",fill:"currentColor"})),gU=r=>w.createElement("svg",{width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4164 2.79175C13.4164 2.37753 13.0806 2.04175 12.6664 2.04175C12.2522 2.04175 11.9164 2.37753 11.9164 2.79175V4.39876C9.94768 4.67329 8.43237 6.36366 8.43237 8.40795C8.43237 10.0954 9.47908 11.6058 11.0591 12.1984L13.7474 13.2066C14.7419 13.5795 15.4008 14.5303 15.4008 15.5925C15.4008 16.9998 14.2599 18.1407 12.8526 18.1407H11.7957C10.7666 18.1407 9.93237 17.3064 9.93237 16.2773C9.93237 15.8631 9.59659 15.5273 9.18237 15.5273C8.76816 15.5273 8.43237 15.8631 8.43237 16.2773C8.43237 18.1348 9.9382 19.6407 11.7957 19.6407H11.9164V21.2083C11.9164 21.6225 12.2522 21.9583 12.6664 21.9583C13.0806 21.9583 13.4164 21.6225 13.4164 21.2083V19.6017C15.3853 19.3274 16.9008 17.6369 16.9008 15.5925C16.9008 13.905 15.8541 12.3946 14.2741 11.8021L11.5858 10.7939C10.5912 10.4209 9.93237 9.47013 9.93237 8.40795C9.93237 7.00063 11.0732 5.85976 12.4806 5.85976H13.5374C14.5665 5.85976 15.4008 6.69401 15.4008 7.72311C15.4008 8.13732 15.7366 8.47311 16.1508 8.47311C16.565 8.47311 16.9008 8.13732 16.9008 7.72311C16.9008 5.86558 15.395 4.35976 13.5374 4.35976H13.4164V2.79175Z",fill:"currentColor"})),rs=r=>w.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.54142 3.7915C6.54142 2.54886 7.54878 1.5415 8.79142 1.5415H11.2081C12.4507 1.5415 13.4581 2.54886 13.4581 3.7915V4.0415H15.6252H16.666C17.0802 4.0415 17.416 4.37729 17.416 4.7915C17.416 5.20572 17.0802 5.5415 16.666 5.5415H16.3752V8.24638V13.2464V16.2082C16.3752 17.4508 15.3678 18.4582 14.1252 18.4582H5.87516C4.63252 18.4582 3.62516 17.4508 3.62516 16.2082V13.2464V8.24638V5.5415H3.3335C2.91928 5.5415 2.5835 5.20572 2.5835 4.7915C2.5835 4.37729 2.91928 4.0415 3.3335 4.0415H4.37516H6.54142V3.7915ZM14.8752 13.2464V8.24638V5.5415H13.4581H12.7081H7.29142H6.54142H5.12516V8.24638V13.2464V16.2082C5.12516 16.6224 5.46095 16.9582 5.87516 16.9582H14.1252C14.5394 16.9582 14.8752 16.6224 14.8752 16.2082V13.2464ZM8.04142 4.0415H11.9581V3.7915C11.9581 3.37729 11.6223 3.0415 11.2081 3.0415H8.79142C8.37721 3.0415 8.04142 3.37729 8.04142 3.7915V4.0415ZM8.3335 7.99984C8.74771 7.99984 9.0835 8.33562 9.0835 8.74984V13.7498C9.0835 14.1641 8.74771 14.4998 8.3335 14.4998C7.91928 14.4998 7.5835 14.1641 7.5835 13.7498V8.74984C7.5835 8.33562 7.91928 7.99984 8.3335 7.99984ZM12.4168 8.74984C12.4168 8.33562 12.081 7.99984 11.6668 7.99984C11.2526 7.99984 10.9168 8.33562 10.9168 8.74984V13.7498C10.9168 14.1641 11.2526 14.4998 11.6668 14.4998C12.081 14.4998 12.4168 14.1641 12.4168 13.7498V8.74984Z",fill:"currentColor"})),mU=r=>w.createElement("svg",{className:"w-2 h-[1.5px]",width:8,height:5,viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:"currentColor"})),xU=r=>w.createElement("svg",{width:8,height:5,viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:"currentColor"})),Pi=r=>w.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.0911 3.53206C16.2124 2.65338 14.7878 2.65338 13.9091 3.53206L5.6074 11.8337C5.29899 12.1421 5.08687 12.5335 4.99684 12.9603L4.26177 16.445C4.20943 16.6931 4.286 16.9508 4.46529 17.1301C4.64458 17.3094 4.90232 17.3859 5.15042 17.3336L8.63507 16.5985C9.06184 16.5085 9.45324 16.2964 9.76165 15.988L18.0633 7.68631C18.942 6.80763 18.942 5.38301 18.0633 4.50433L17.0911 3.53206ZM14.9697 4.59272C15.2626 4.29982 15.7375 4.29982 16.0304 4.59272L17.0027 5.56499C17.2956 5.85788 17.2956 6.33276 17.0027 6.62565L16.1043 7.52402L14.0714 5.49109L14.9697 4.59272ZM13.0107 6.55175L6.66806 12.8944C6.56526 12.9972 6.49455 13.1277 6.46454 13.2699L5.96704 15.6283L8.32547 15.1308C8.46772 15.1008 8.59819 15.0301 8.70099 14.9273L15.0436 8.58468L13.0107 6.55175Z",fill:"currentColor"})),vU=r=>w.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{d:"M13.4017 4.35986L6.12166 11.6399L2.59833 8.11657",stroke:"currentColor",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"})),bU=r=>w.createElement("svg",{width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.05394 4.78033C3.76105 4.48744 3.76105 4.01256 4.05394 3.71967C4.34684 3.42678 4.82171 3.42678 5.1146 3.71967L8.33437 6.93944L11.5521 3.72173C11.845 3.42883 12.3199 3.42883 12.6127 3.72173C12.9056 4.01462 12.9056 4.48949 12.6127 4.78239L9.39503 8.0001L12.6127 11.2178C12.9056 11.5107 12.9056 11.9856 12.6127 12.2785C12.3198 12.5713 11.845 12.5713 11.5521 12.2785L8.33437 9.06076L5.11462 12.2805C4.82173 12.5734 4.34685 12.5734 4.05396 12.2805C3.76107 11.9876 3.76107 11.5127 4.05396 11.2199L7.27371 8.0001L4.05394 4.78033Z",fill:"currentColor"})),i1=r=>w.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),yU=r=>w.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{d:"M15.8333 12.7083L10.6249 7.5L5.41658 12.7083",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),CN=r=>w.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.98481 2.44399C3.11333 1.57147 1.15325 3.46979 1.96543 5.36824L3.82086 9.70527C3.90146 9.89367 3.90146 10.1069 3.82086 10.2953L1.96543 14.6323C1.15326 16.5307 3.11332 18.4291 4.98481 17.5565L16.8184 12.0395C18.5508 11.2319 18.5508 8.76865 16.8184 7.961L4.98481 2.44399ZM3.34453 4.77824C3.0738 4.14543 3.72716 3.51266 4.35099 3.80349L16.1846 9.32051C16.762 9.58973 16.762 10.4108 16.1846 10.68L4.35098 16.197C3.72716 16.4879 3.0738 15.8551 3.34453 15.2223L5.19996 10.8853C5.21944 10.8397 5.23735 10.7937 5.2537 10.7473L9.11784 10.7473C9.53206 10.7473 9.86784 10.4115 9.86784 9.99726C9.86784 9.58304 9.53206 9.24726 9.11784 9.24726L5.25157 9.24726C5.2358 9.20287 5.2186 9.15885 5.19996 9.11528L3.34453 4.77824Z",fill:"currentColor"})),wU=r=>w.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{d:"M10.6252 13.9582C10.6252 13.613 10.3453 13.3332 10.0002 13.3332C9.65498 13.3332 9.37516 13.613 9.37516 13.9582V15.2082C9.37516 15.5533 9.65498 15.8332 10.0002 15.8332C10.3453 15.8332 10.6252 15.5533 10.6252 15.2082V13.9582Z",fill:"#667085"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0002 1.6665C7.58392 1.6665 5.62516 3.62526 5.62516 6.0415V7.604H4.5835C3.54796 7.604 2.7085 8.44347 2.7085 9.479V16.4578C2.7085 17.4933 3.54796 18.3328 4.5835 18.3328H15.4168C16.4524 18.3328 17.2918 17.4933 17.2918 16.4578V9.479C17.2918 8.44347 16.4524 7.604 15.4168 7.604H14.3752V6.0415C14.3752 3.62526 12.4164 1.6665 10.0002 1.6665ZM13.1252 6.0415V7.604H6.87516V6.0415C6.87516 4.31561 8.27427 2.9165 10.0002 2.9165C11.7261 2.9165 13.1252 4.31561 13.1252 6.0415ZM4.5835 8.854C4.23832 8.854 3.9585 9.13383 3.9585 9.479V16.4578C3.9585 16.8029 4.23832 17.0828 4.5835 17.0828H15.4168C15.762 17.0828 16.0418 16.8029 16.0418 16.4578V9.479C16.0418 9.13383 15.762 8.854 15.4168 8.854H4.5835Z",fill:"currentColor"})),l4=r=>w.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.0415 7.06206V14.375C3.0415 14.6511 3.26536 14.875 3.5415 14.875H16.4582C16.7343 14.875 16.9582 14.6511 16.9582 14.375V7.06245L11.1441 11.1168C10.4568 11.5961 9.54348 11.5961 8.85614 11.1168L3.0415 7.06206ZM16.9582 5.19262C16.9582 5.19341 16.9582 5.1942 16.9582 5.19498V5.20026C16.957 5.22216 16.9458 5.24239 16.9277 5.25501L10.2861 9.88638C10.1143 10.0062 9.88596 10.0062 9.71412 9.88638L3.0723 5.25485C3.05318 5.24151 3.04178 5.21967 3.04177 5.19636C3.04176 5.15695 3.0737 5.125 3.1131 5.125H16.8869C16.925 5.125 16.9562 5.15494 16.9582 5.19262ZM18.4582 5.21428V14.375C18.4582 15.4796 17.5627 16.375 16.4582 16.375H3.5415C2.43693 16.375 1.5415 15.4796 1.5415 14.375V5.19498C1.5415 5.1852 1.54169 5.17546 1.54206 5.16577C1.55834 4.31209 2.25546 3.625 3.1131 3.625H16.8869C17.7546 3.625 18.4582 4.32843 18.4583 5.19622C18.4583 5.20225 18.4582 5.20826 18.4582 5.21428Z",fill:"currentColor"})),SN=r=>w.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.0254 6.17845C8.0254 4.90629 9.05669 3.875 10.3289 3.875C11.601 3.875 12.6323 4.90629 12.6323 6.17845C12.6323 7.45061 11.601 8.48191 10.3289 8.48191C9.05669 8.48191 8.0254 7.45061 8.0254 6.17845ZM10.3289 2.375C8.22827 2.375 6.5254 4.07786 6.5254 6.17845C6.5254 8.27904 8.22827 9.98191 10.3289 9.98191C12.4294 9.98191 14.1323 8.27904 14.1323 6.17845C14.1323 4.07786 12.4294 2.375 10.3289 2.375ZM8.92286 11.03C5.7669 11.03 3.2085 13.5884 3.2085 16.7444V17.0333C3.2085 17.4475 3.54428 17.7833 3.9585 17.7833C4.37271 17.7833 4.7085 17.4475 4.7085 17.0333V16.7444C4.7085 14.4169 6.59533 12.53 8.92286 12.53H11.736C14.0635 12.53 15.9504 14.4169 15.9504 16.7444V17.0333C15.9504 17.4475 16.2861 17.7833 16.7004 17.7833C17.1146 17.7833 17.4504 17.4475 17.4504 17.0333V16.7444C17.4504 13.5884 14.8919 11.03 11.736 11.03H8.92286Z",fill:"currentColor"})),c4=r=>w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2C8.41421 2 8.75 2.33579 8.75 2.75V3.75H15.25V2.75C15.25 2.33579 15.5858 2 16 2C16.4142 2 16.75 2.33579 16.75 2.75V3.75H18.5C19.7426 3.75 20.75 4.75736 20.75 6V9V19C20.75 20.2426 19.7426 21.25 18.5 21.25H5.5C4.25736 21.25 3.25 20.2426 3.25 19V9V6C3.25 4.75736 4.25736 3.75 5.5 3.75H7.25V2.75C7.25 2.33579 7.58579 2 8 2ZM8 5.25H5.5C5.08579 5.25 4.75 5.58579 4.75 6V8.25H19.25V6C19.25 5.58579 18.9142 5.25 18.5 5.25H16H8ZM19.25 9.75H4.75V19C4.75 19.4142 5.08579 19.75 5.5 19.75H18.5C18.9142 19.75 19.25 19.4142 19.25 19V9.75Z",fill:"currentColor"})),Mo=r=>w.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0002 13.8619C7.23361 13.8619 4.86803 12.1372 3.92328 9.70241C4.86804 7.26761 7.23361 5.54297 10.0002 5.54297C12.7667 5.54297 15.1323 7.26762 16.0771 9.70243C15.1323 12.1372 12.7667 13.8619 10.0002 13.8619ZM10.0002 4.04297C6.48191 4.04297 3.49489 6.30917 2.4155 9.4593C2.3615 9.61687 2.3615 9.78794 2.41549 9.94552C3.49488 13.0957 6.48191 15.3619 10.0002 15.3619C13.5184 15.3619 16.5055 13.0957 17.5849 9.94555C17.6389 9.78797 17.6389 9.6169 17.5849 9.45932C16.5055 6.30919 13.5184 4.04297 10.0002 4.04297ZM9.99151 7.84413C8.96527 7.84413 8.13333 8.67606 8.13333 9.70231C8.13333 10.7286 8.96527 11.5605 9.99151 11.5605H10.0064C11.0326 11.5605 11.8646 10.7286 11.8646 9.70231C11.8646 8.67606 11.0326 7.84413 10.0064 7.84413H9.99151Z"})),Hl=r=>w.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.63803 3.57709C4.34513 3.2842 3.87026 3.2842 3.57737 3.57709C3.28447 3.86999 3.28447 4.34486 3.57737 4.63775L4.85323 5.91362C3.74609 6.84199 2.89363 8.06395 2.4155 9.45936C2.3615 9.61694 2.3615 9.78801 2.41549 9.94558C3.49488 13.0957 6.48191 15.3619 10.0002 15.3619C11.255 15.3619 12.4422 15.0737 13.4994 14.5598L15.3625 16.4229C15.6554 16.7158 16.1302 16.7158 16.4231 16.4229C16.716 16.13 16.716 15.6551 16.4231 15.3622L4.63803 3.57709ZM12.3608 13.4212L10.4475 11.5079C10.3061 11.5423 10.1584 11.5606 10.0064 11.5606H9.99151C8.96527 11.5606 8.13333 10.7286 8.13333 9.70237C8.13333 9.5461 8.15262 9.39434 8.18895 9.24933L5.91885 6.97923C5.03505 7.69015 4.34057 8.62704 3.92328 9.70247C4.86803 12.1373 7.23361 13.8619 10.0002 13.8619C10.8326 13.8619 11.6287 13.7058 12.3608 13.4212ZM16.0771 9.70249C15.7843 10.4569 15.3552 11.1432 14.8199 11.7311L15.8813 12.7925C16.6329 11.9813 17.2187 11.0143 17.5849 9.94561C17.6389 9.78803 17.6389 9.61696 17.5849 9.45938C16.5055 6.30925 13.5184 4.04303 10.0002 4.04303C9.13525 4.04303 8.30244 4.17999 7.52218 4.43338L8.75139 5.66259C9.1556 5.58413 9.57311 5.54303 10.0002 5.54303C12.7667 5.54303 15.1323 7.26768 16.0771 9.70249Z"})),d4=r=>w.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.04175 9.99984C3.04175 6.15686 6.1571 3.0415 10.0001 3.0415C13.8431 3.0415 16.9584 6.15686 16.9584 9.99984C16.9584 13.8428 13.8431 16.9582 10.0001 16.9582C6.1571 16.9582 3.04175 13.8428 3.04175 9.99984ZM10.0001 1.5415C5.32867 1.5415 1.54175 5.32843 1.54175 9.99984C1.54175 14.6712 5.32867 18.4582 10.0001 18.4582C14.6715 18.4582 18.4584 14.6712 18.4584 9.99984C18.4584 5.32843 14.6715 1.5415 10.0001 1.5415ZM9.99998 10.7498C9.58577 10.7498 9.24998 10.4141 9.24998 9.99984V5.4165C9.24998 5.00229 9.58577 4.6665 9.99998 4.6665C10.4142 4.6665 10.75 5.00229 10.75 5.4165V9.24984H13.3334C13.7476 9.24984 14.0834 9.58562 14.0834 9.99984C14.0834 10.4141 13.7476 10.7498 13.3334 10.7498H10.0001H9.99998Z",fill:"currentColor"})),jN=r=>w.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.58822 4.58398C6.58822 4.30784 6.81207 4.08398 7.08822 4.08398H15.4154C15.6915 4.08398 15.9154 4.30784 15.9154 4.58398L15.9154 12.9128C15.9154 13.189 15.6916 13.4128 15.4154 13.4128H7.08821C6.81207 13.4128 6.58822 13.189 6.58822 12.9128V4.58398ZM7.08822 2.58398C5.98365 2.58398 5.08822 3.47942 5.08822 4.58398V5.09416H4.58496C3.48039 5.09416 2.58496 5.98959 2.58496 7.09416V15.4161C2.58496 16.5207 3.48039 17.4161 4.58496 17.4161H12.9069C14.0115 17.4161 14.9069 16.5207 14.9069 15.4161L14.9069 14.9128H15.4154C16.52 14.9128 17.4154 14.0174 17.4154 12.9128L17.4154 4.58398C17.4154 3.47941 16.52 2.58398 15.4154 2.58398H7.08822ZM13.4069 14.9128H7.08821C5.98364 14.9128 5.08822 14.0174 5.08822 12.9128V6.59416H4.58496C4.30882 6.59416 4.08496 6.81801 4.08496 7.09416V15.4161C4.08496 15.6922 4.30882 15.9161 4.58496 15.9161H12.9069C13.183 15.9161 13.4069 15.6922 13.4069 15.4161L13.4069 14.9128Z",fill:"currentColor"})),_N=r=>w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",...r},w.createElement("path",{d:"M12.7083 5L7.5 10.2083L12.7083 15.4167",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),NN=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 14.1526 4.3002 16.1184 5.61936 17.616C6.17279 15.3096 8.24852 13.5955 10.7246 13.5955H13.2746C15.7509 13.5955 17.8268 15.31 18.38 17.6167C19.6996 16.119 20.5 14.153 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5ZM17.0246 18.8566V18.8455C17.0246 16.7744 15.3457 15.0955 13.2746 15.0955H10.7246C8.65354 15.0955 6.97461 16.7744 6.97461 18.8455V18.856C8.38223 19.8895 10.1198 20.5 12 20.5C13.8798 20.5 15.6171 19.8898 17.0246 18.8566ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM11.9991 7.25C10.8847 7.25 9.98126 8.15342 9.98126 9.26784C9.98126 10.3823 10.8847 11.2857 11.9991 11.2857C13.1135 11.2857 14.0169 10.3823 14.0169 9.26784C14.0169 8.15342 13.1135 7.25 11.9991 7.25ZM8.48126 9.26784C8.48126 7.32499 10.0563 5.75 11.9991 5.75C13.9419 5.75 15.5169 7.32499 15.5169 9.26784C15.5169 11.2107 13.9419 12.7857 11.9991 12.7857C10.0563 12.7857 8.48126 11.2107 8.48126 9.26784Z",fill:"currentColor"})),kU=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.75586 5.50098C7.75586 5.08676 8.09165 4.75098 8.50586 4.75098H18.4985C18.9127 4.75098 19.2485 5.08676 19.2485 5.50098L19.2485 15.4956C19.2485 15.9098 18.9127 16.2456 18.4985 16.2456H8.50586C8.09165 16.2456 7.75586 15.9098 7.75586 15.4956V5.50098ZM8.50586 3.25098C7.26322 3.25098 6.25586 4.25834 6.25586 5.50098V6.26318H5.50195C4.25931 6.26318 3.25195 7.27054 3.25195 8.51318V18.4995C3.25195 19.7422 4.25931 20.7495 5.50195 20.7495H15.4883C16.7309 20.7495 17.7383 19.7421 17.7383 18.4995L17.7383 17.7456H18.4985C19.7411 17.7456 20.7485 16.7382 20.7485 15.4956L20.7485 5.50097C20.7485 4.25833 19.7411 3.25098 18.4985 3.25098H8.50586ZM16.2383 17.7456H8.50586C7.26322 17.7456 6.25586 16.7382 6.25586 15.4956V7.76318H5.50195C5.08774 7.76318 4.75195 8.09897 4.75195 8.51318V18.4995C4.75195 18.9137 5.08774 19.2495 5.50195 19.2495H15.4883C15.9025 19.2495 16.2383 18.9137 16.2383 18.4995L16.2383 17.7456Z",fill:"currentColor"})),q0=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 3.25C4.25736 3.25 3.25 4.25736 3.25 5.5V18.5C3.25 19.7426 4.25736 20.75 5.5 20.75H18.5001C19.7427 20.75 20.7501 19.7426 20.7501 18.5V5.5C20.7501 4.25736 19.7427 3.25 18.5001 3.25H5.5ZM4.75 5.5C4.75 5.08579 5.08579 4.75 5.5 4.75H18.5001C18.9143 4.75 19.2501 5.08579 19.2501 5.5V18.5C19.2501 18.9142 18.9143 19.25 18.5001 19.25H5.5C5.08579 19.25 4.75 18.9142 4.75 18.5V5.5ZM6.25005 9.7143C6.25005 9.30008 6.58583 8.9643 7.00005 8.9643L17 8.96429C17.4143 8.96429 17.75 9.30008 17.75 9.71429C17.75 10.1285 17.4143 10.4643 17 10.4643L7.00005 10.4643C6.58583 10.4643 6.25005 10.1285 6.25005 9.7143ZM6.25005 14.2857C6.25005 13.8715 6.58583 13.5357 7.00005 13.5357H17C17.4143 13.5357 17.75 13.8715 17.75 14.2857C17.75 14.6999 17.4143 15.0357 17 15.0357H7.00005C6.58583 15.0357 6.25005 14.6999 6.25005 14.2857Z",fill:"currentColor"})),CU=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.25 5.5C3.25 4.25736 4.25736 3.25 5.5 3.25H18.5C19.7426 3.25 20.75 4.25736 20.75 5.5V18.5C20.75 19.7426 19.7426 20.75 18.5 20.75H5.5C4.25736 20.75 3.25 19.7426 3.25 18.5V5.5ZM5.5 4.75C5.08579 4.75 4.75 5.08579 4.75 5.5V8.58325L19.25 8.58325V5.5C19.25 5.08579 18.9142 4.75 18.5 4.75H5.5ZM19.25 10.0833H15.416V13.9165H19.25V10.0833ZM13.916 10.0833L10.083 10.0833V13.9165L13.916 13.9165V10.0833ZM8.58301 10.0833H4.75V13.9165H8.58301V10.0833ZM4.75 18.5V15.4165H8.58301V19.25H5.5C5.08579 19.25 4.75 18.9142 4.75 18.5ZM10.083 19.25V15.4165L13.916 15.4165V19.25H10.083ZM15.416 19.25V15.4165H19.25V18.5C19.25 18.9142 18.9142 19.25 18.5 19.25H15.416Z",fill:"currentColor"})),EN=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.50391 4.25C8.50391 3.83579 8.83969 3.5 9.25391 3.5H15.2777C15.4766 3.5 15.6674 3.57902 15.8081 3.71967L18.2807 6.19234C18.4214 6.333 18.5004 6.52376 18.5004 6.72268V16.75C18.5004 17.1642 18.1646 17.5 17.7504 17.5H16.248V17.4993H14.748V17.5H9.25391C8.83969 17.5 8.50391 17.1642 8.50391 16.75V4.25ZM14.748 19H9.25391C8.01126 19 7.00391 17.9926 7.00391 16.75V6.49854H6.24805C5.83383 6.49854 5.49805 6.83432 5.49805 7.24854V19.75C5.49805 20.1642 5.83383 20.5 6.24805 20.5H13.998C14.4123 20.5 14.748 20.1642 14.748 19.75L14.748 19ZM7.00391 4.99854V4.25C7.00391 3.00736 8.01127 2 9.25391 2H15.2777C15.8745 2 16.4468 2.23705 16.8687 2.659L19.3414 5.13168C19.7634 5.55364 20.0004 6.12594 20.0004 6.72268V16.75C20.0004 17.9926 18.9931 19 17.7504 19H16.248L16.248 19.75C16.248 20.9926 15.2407 22 13.998 22H6.24805C5.00541 22 3.99805 20.9926 3.99805 19.75V7.24854C3.99805 6.00589 5.00541 4.99854 6.24805 4.99854H7.00391Z",fill:"currentColor"})),r6=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C11.5858 2 11.25 2.33579 11.25 2.75V12C11.25 12.4142 11.5858 12.75 12 12.75H21.25C21.6642 12.75 22 12.4142 22 12C22 6.47715 17.5228 2 12 2ZM12.75 11.25V3.53263C13.2645 3.57761 13.7659 3.66843 14.25 3.80098V3.80099C15.6929 4.19606 16.9827 4.96184 18.0104 5.98959C19.0382 7.01734 19.8039 8.30707 20.199 9.75C20.3316 10.2341 20.4224 10.7355 20.4674 11.25H12.75ZM2 12C2 7.25083 5.31065 3.27489 9.75 2.25415V3.80099C6.14748 4.78734 3.5 8.0845 3.5 12C3.5 16.6944 7.30558 20.5 12 20.5C15.9155 20.5 19.2127 17.8525 20.199 14.25H21.7459C20.7251 18.6894 16.7492 22 12 22C6.47715 22 2 17.5229 2 12Z",fill:"currentColor"})),SU=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.665 3.75618C11.8762 3.65061 12.1247 3.65061 12.3358 3.75618L18.7807 6.97853L12.3358 10.2009C12.1247 10.3064 11.8762 10.3064 11.665 10.2009L5.22014 6.97853L11.665 3.75618ZM4.29297 8.19199V16.0946C4.29297 16.3787 4.45347 16.6384 4.70757 16.7654L11.25 20.0365V11.6512C11.1631 11.6205 11.0777 11.5843 10.9942 11.5425L4.29297 8.19199ZM12.75 20.037L19.2933 16.7654C19.5474 16.6384 19.7079 16.3787 19.7079 16.0946V8.19199L13.0066 11.5425C12.9229 11.5844 12.8372 11.6207 12.75 11.6515V20.037ZM13.0066 2.41453C12.3732 2.09783 11.6277 2.09783 10.9942 2.41453L4.03676 5.89316C3.27449 6.27429 2.79297 7.05339 2.79297 7.90563V16.0946C2.79297 16.9468 3.27448 17.7259 4.03676 18.1071L10.9942 21.5857L11.3296 20.9149L10.9942 21.5857C11.6277 21.9024 12.3732 21.9024 13.0066 21.5857L19.9641 18.1071C20.7264 17.7259 21.2079 16.9468 21.2079 16.0946V7.90563C21.2079 7.05339 20.7264 6.27429 19.9641 5.89316L13.0066 2.41453Z",fill:"currentColor"})),jU=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 2.75C14 2.33579 14.3358 2 14.75 2C15.1642 2 15.5 2.33579 15.5 2.75V5.73291L17.75 5.73291H19C19.4142 5.73291 19.75 6.0687 19.75 6.48291C19.75 6.89712 19.4142 7.23291 19 7.23291H18.5L18.5 12.2329C18.5 15.5691 15.9866 18.3183 12.75 18.6901V21.25C12.75 21.6642 12.4142 22 12 22C11.5858 22 11.25 21.6642 11.25 21.25V18.6901C8.01342 18.3183 5.5 15.5691 5.5 12.2329L5.5 7.23291H5C4.58579 7.23291 4.25 6.89712 4.25 6.48291C4.25 6.0687 4.58579 5.73291 5 5.73291L6.25 5.73291L8.5 5.73291L8.5 2.75C8.5 2.33579 8.83579 2 9.25 2C9.66421 2 10 2.33579 10 2.75L10 5.73291L14 5.73291V2.75ZM7 7.23291L7 12.2329C7 14.9943 9.23858 17.2329 12 17.2329C14.7614 17.2329 17 14.9943 17 12.2329L17 7.23291L7 7.23291Z",fill:"currentColor"})),_U=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5 19.75C19.5 20.9926 18.4926 22 17.25 22H6.75C5.50736 22 4.5 20.9926 4.5 19.75V9.62105C4.5 9.02455 4.73686 8.45247 5.15851 8.03055L10.5262 2.65951C10.9482 2.23725 11.5207 2 12.1177 2H17.25C18.4926 2 19.5 3.00736 19.5 4.25V19.75ZM17.25 20.5C17.6642 20.5 18 20.1642 18 19.75V4.25C18 3.83579 17.6642 3.5 17.25 3.5H12.248L12.2509 7.49913C12.2518 8.7424 11.2442 9.75073 10.0009 9.75073H6V19.75C6 20.1642 6.33579 20.5 6.75 20.5H17.25ZM7.05913 8.25073L10.7488 4.55876L10.7509 7.5002C10.7512 7.91462 10.4153 8.25073 10.0009 8.25073H7.05913ZM8.25 14.5C8.25 14.0858 8.58579 13.75 9 13.75H15C15.4142 13.75 15.75 14.0858 15.75 14.5C15.75 14.9142 15.4142 15.25 15 15.25H9C8.58579 15.25 8.25 14.9142 8.25 14.5ZM8.25 17.5C8.25 17.0858 8.58579 16.75 9 16.75H12C12.4142 16.75 12.75 17.0858 12.75 17.5C12.75 17.9142 12.4142 18.25 12 18.25H9C8.58579 18.25 8.25 17.9142 8.25 17.5Z",fill:"currentColor"})),NU=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 8.187V17.25C3.5 17.6642 3.83579 18 4.25 18H19.75C20.1642 18 20.5 17.6642 20.5 17.25V8.18747L13.2873 13.2171C12.5141 13.7563 11.4866 13.7563 10.7134 13.2171L3.5 8.187ZM20.5 6.2286C20.5 6.23039 20.5 6.23218 20.5 6.23398V6.24336C20.4976 6.31753 20.4604 6.38643 20.3992 6.42905L12.4293 11.9867C12.1716 12.1664 11.8291 12.1664 11.5713 11.9867L3.60116 6.42885C3.538 6.38481 3.50035 6.31268 3.50032 6.23568C3.50028 6.10553 3.60577 6 3.73592 6H20.2644C20.3922 6 20.4963 6.10171 20.5 6.2286ZM22 6.25648V17.25C22 18.4926 20.9926 19.5 19.75 19.5H4.25C3.00736 19.5 2 18.4926 2 17.25V6.23398C2 6.22371 2.00021 6.2135 2.00061 6.20333C2.01781 5.25971 2.78812 4.5 3.73592 4.5H20.2644C21.2229 4.5 22 5.27697 22.0001 6.23549C22.0001 6.24249 22.0001 6.24949 22 6.25648Z",fill:"currentColor"})),Y0=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.99915 10.2451C6.96564 10.2451 7.74915 11.0286 7.74915 11.9951V12.0051C7.74915 12.9716 6.96564 13.7551 5.99915 13.7551C5.03265 13.7551 4.24915 12.9716 4.24915 12.0051V11.9951C4.24915 11.0286 5.03265 10.2451 5.99915 10.2451ZM17.9991 10.2451C18.9656 10.2451 19.7491 11.0286 19.7491 11.9951V12.0051C19.7491 12.9716 18.9656 13.7551 17.9991 13.7551C17.0326 13.7551 16.2491 12.9716 16.2491 12.0051V11.9951C16.2491 11.0286 17.0326 10.2451 17.9991 10.2451ZM13.7491 11.9951C13.7491 11.0286 12.9656 10.2451 11.9991 10.2451C11.0326 10.2451 10.2491 11.0286 10.2491 11.9951V12.0051C10.2491 12.9716 11.0326 13.7551 11.9991 13.7551C12.9656 13.7551 13.7491 12.9716 13.7491 12.0051V11.9951Z",fill:"currentColor"})),EU=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.00002 12.0957C4.00002 7.67742 7.58174 4.0957 12 4.0957C16.4183 4.0957 20 7.67742 20 12.0957C20 16.514 16.4183 20.0957 12 20.0957H5.06068L6.34317 18.8132C6.48382 18.6726 6.56284 18.4818 6.56284 18.2829C6.56284 18.084 6.48382 17.8932 6.34317 17.7526C4.89463 16.304 4.00002 14.305 4.00002 12.0957ZM12 2.5957C6.75332 2.5957 2.50002 6.849 2.50002 12.0957C2.50002 14.4488 3.35633 16.603 4.77303 18.262L2.71969 20.3154C2.50519 20.5299 2.44103 20.8525 2.55711 21.1327C2.6732 21.413 2.94668 21.5957 3.25002 21.5957H12C17.2467 21.5957 21.5 17.3424 21.5 12.0957C21.5 6.849 17.2467 2.5957 12 2.5957ZM7.62502 10.8467C6.93467 10.8467 6.37502 11.4063 6.37502 12.0967C6.37502 12.787 6.93467 13.3467 7.62502 13.3467H7.62512C8.31548 13.3467 8.87512 12.787 8.87512 12.0967C8.87512 11.4063 8.31548 10.8467 7.62512 10.8467H7.62502ZM10.75 12.0967C10.75 11.4063 11.3097 10.8467 12 10.8467H12.0001C12.6905 10.8467 13.2501 11.4063 13.2501 12.0967C13.2501 12.787 12.6905 13.3467 12.0001 13.3467H12C11.3097 13.3467 10.75 12.787 10.75 12.0967ZM16.375 10.8467C15.6847 10.8467 15.125 11.4063 15.125 12.0967C15.125 12.787 15.6847 13.3467 16.375 13.3467H16.3751C17.0655 13.3467 17.6251 12.787 17.6251 12.0967C17.6251 11.4063 17.0655 10.8467 16.3751 10.8467H16.375Z",fill:"currentColor"})),AU=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2441 6C10.2441 5.0335 11.0276 4.25 11.9941 4.25H12.0041C12.9706 4.25 13.7541 5.0335 13.7541 6C13.7541 6.9665 12.9706 7.75 12.0041 7.75H11.9941C11.0276 7.75 10.2441 6.9665 10.2441 6ZM10.2441 18C10.2441 17.0335 11.0276 16.25 11.9941 16.25H12.0041C12.9706 16.25 13.7541 17.0335 13.7541 18C13.7541 18.9665 12.9706 19.75 12.0041 19.75H11.9941C11.0276 19.75 10.2441 18.9665 10.2441 18ZM11.9941 10.25C11.0276 10.25 10.2441 11.0335 10.2441 12C10.2441 12.9665 11.0276 13.75 11.9941 13.75H12.0041C12.9706 13.75 13.7541 12.9665 13.7541 12C13.7541 11.0335 12.9706 10.25 12.0041 10.25H11.9941Z",fill:"currentColor"})),PU=r=>w.createElement("svg",{className:"size-5",width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.9497 3.875C13.0836 2.375 10.9186 2.375 10.0525 3.875L2.54699 16.875C1.68096 18.375 2.76349 20.25 4.49554 20.25H19.5067C21.2387 20.25 22.3212 18.375 21.4552 16.875L13.9497 3.875ZM11.3516 4.625C11.6403 4.125 12.3619 4.125 12.6506 4.625L20.1562 17.625C20.4448 18.125 20.084 18.75 19.5067 18.75H4.49554C3.91819 18.75 3.55735 18.125 3.84603 17.625L11.3516 4.625ZM12.0018 8.56075C12.416 8.56075 12.7518 8.89653 12.7518 9.31075V13.5303C12.7518 13.9445 12.416 14.2803 12.0018 14.2803C11.5876 14.2803 11.2518 13.9445 11.2518 13.5303V9.31075C11.2518 8.89653 11.5876 8.56075 12.0018 8.56075ZM11.0009 16.0803C11.0009 15.528 11.4486 15.0803 12.0009 15.0803H12.0016C12.5539 15.0803 13.0016 15.528 13.0016 16.0803C13.0016 16.6326 12.5539 17.0803 12.0016 17.0803H12.0009C11.4486 17.0803 11.0009 16.6326 11.0009 16.0803Z",fill:"#DC6803"})),LU=r=>w.createElement("svg",{className:"size-5",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.12454 4.53906L15.8736 4.53906C16.1416 4.53906 16.3892 4.68201 16.5231 4.91406L20.3977 11.625C20.5317 11.857 20.5317 12.1429 20.3977 12.375L16.5231 19.0859C16.3892 19.3179 16.1416 19.4609 15.8736 19.4609H8.12454C7.85659 19.4609 7.609 19.3179 7.47502 19.0859L3.60048 12.375C3.46651 12.1429 3.46651 11.857 3.60048 11.625L7.47502 4.91406C7.609 4.68201 7.85659 4.53906 8.12454 4.53906ZM15.8736 3.03906H8.12454C7.3207 3.03906 6.57791 3.46791 6.17599 4.16406L2.30144 10.875C1.89952 11.5711 1.89952 12.4288 2.30144 13.125L6.17599 19.8359C6.57791 20.532 7.32069 20.9609 8.12454 20.9609H15.8736C16.6775 20.9609 17.4203 20.532 17.8222 19.8359L21.6967 13.125C22.0987 12.4288 22.0987 11.5711 21.6967 10.875L17.8222 4.16406C17.4203 3.46791 16.6775 3.03906 15.8736 3.03906ZM12.0007 7.81075C12.4149 7.81075 12.7507 8.14653 12.7507 8.56075V12.7803C12.7507 13.1945 12.4149 13.5303 12.0007 13.5303C11.5865 13.5303 11.2507 13.1945 11.2507 12.7803V8.56075C11.2507 8.14653 11.5865 7.81075 12.0007 7.81075ZM10.9998 15.3303C10.9998 14.778 11.4475 14.3303 11.9998 14.3303H12.0005C12.5528 14.3303 13.0005 14.778 13.0005 15.3303C13.0005 15.8826 12.5528 16.3303 12.0005 16.3303H11.9998C11.4475 16.3303 10.9998 15.8826 10.9998 15.3303Z",fill:"#D92D20"})),kl=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.2929 5.29289C14.6834 4.90237 15.3166 4.90237 15.7071 5.29289L20.7071 10.2929C21.0976 10.6834 21.0976 11.3166 20.7071 11.7071L15.7071 16.7071C15.3166 17.0976 14.6834 17.0976 14.2929 16.7071C13.9024 16.3166 13.9024 15.6834 14.2929 15.2929L18.5858 11L14.2929 6.70711C13.9024 6.31658 13.9024 5.68342 14.2929 5.29289ZM9.70711 5.29289C10.0976 5.68342 10.0976 6.31658 9.70711 6.70711L5.41421 11L9.70711 15.2929C10.0976 15.6834 10.0976 16.3166 9.70711 16.7071C9.31658 17.0976 8.68342 17.0976 8.29289 16.7071L3.29289 11.7071C2.90237 11.3166 2.90237 10.6834 3.29289 10.2929L8.29289 5.29289C8.68342 4.90237 9.31658 4.90237 9.70711 5.29289Z",fill:"currentColor"})),u4=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{d:"M12 15.5A3.5 3.5 0 1 0 12 8.5a3.5 3.5 0 0 0 0 7z",fill:"none"}),w.createElement("circle",{cx:12,cy:12,r:2.5,fill:"none",stroke:"currentColor",strokeWidth:.5}),w.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.09a1.65 1.65 0 0 0 1-1.51V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h.09a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v.09a1.65 1.65 0 0 0 1.51 1H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"})),h4=r=>w.createElement("svg",{className:"fill-gray-500 group-hover:fill-gray-700 dark:fill-gray-400 dark:group-hover:fill-gray-300",width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4858 3.5L13.5182 3.5C13.9233 3.5 14.2518 3.82851 14.2518 4.23377C14.2518 5.9529 16.1129 7.02795 17.602 6.1682C17.9528 5.96567 18.4014 6.08586 18.6039 6.43667L20.1203 9.0631C20.3229 9.41407 20.2027 9.86286 19.8517 10.0655C18.3625 10.9253 18.3625 13.0747 19.8517 13.9345C20.2026 14.1372 20.3229 14.5859 20.1203 14.9369L18.6039 17.5634C18.4013 17.9142 17.9528 18.0344 17.602 17.8318C16.1129 16.9721 14.2518 18.0471 14.2518 19.7663C14.2518 20.1715 13.9233 20.5 13.5182 20.5H10.4858C10.0804 20.5 9.75182 20.1714 9.75182 19.766C9.75182 18.0461 7.88983 16.9717 6.40067 17.8314C6.04945 18.0342 5.60037 17.9139 5.39767 17.5628L3.88167 14.937C3.67903 14.586 3.79928 14.1372 4.15026 13.9346C5.63949 13.0748 5.63946 10.9253 4.15025 10.0655C3.79926 9.86282 3.67901 9.41401 3.88165 9.06303L5.39764 6.43725C5.60034 6.08617 6.04943 5.96581 6.40065 6.16858C7.88982 7.02836 9.75182 5.9539 9.75182 4.23399C9.75182 3.82862 10.0804 3.5 10.4858 3.5ZM13.5182 2L10.4858 2C9.25201 2 8.25182 3.00019 8.25182 4.23399C8.25182 4.79884 7.64013 5.15215 7.15065 4.86955C6.08213 4.25263 4.71559 4.61859 4.0986 5.68725L2.58261 8.31303C1.96575 9.38146 2.33183 10.7477 3.40025 11.3645C3.88948 11.647 3.88947 12.3531 3.40026 12.6355C2.33184 13.2524 1.96578 14.6186 2.58263 15.687L4.09863 18.3128C4.71562 19.3814 6.08215 19.7474 7.15067 19.1305C7.64015 18.8479 8.25182 19.2012 8.25182 19.766C8.25182 20.9998 9.25201 22 10.4858 22H13.5182C14.7519 22 15.7518 20.9998 15.7518 19.7663C15.7518 19.2015 16.3632 18.8487 16.852 19.1309C17.9202 19.7476 19.2862 19.3816 19.9029 18.3134L21.4193 15.6869C22.0361 14.6185 21.6701 13.2523 20.6017 12.6355C20.1125 12.3531 20.1125 11.647 20.6017 11.3645C21.6701 10.7477 22.0362 9.38152 21.4193 8.3131L19.903 5.68667C19.2862 4.61842 17.9202 4.25241 16.852 4.86917C16.3632 5.15138 15.7518 4.79856 15.7518 4.23377C15.7518 3.00024 14.7519 2 13.5182 2ZM9.6659 11.9999C9.6659 10.7103 10.7113 9.66493 12.0009 9.66493C13.2905 9.66493 14.3359 10.7103 14.3359 11.9999C14.3359 13.2895 13.2905 14.3349 12.0009 14.3349C10.7113 14.3349 9.6659 13.2895 9.6659 11.9999ZM12.0009 8.16493C9.88289 8.16493 8.1659 9.88191 8.1659 11.9999C8.1659 14.1179 9.88289 15.8349 12.0009 15.8349C14.1189 15.8349 15.8359 14.1179 15.8359 11.9999C15.8359 9.88191 14.1189 8.16493 12.0009 8.16493Z",fill:"currentColor"})),DU=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{d:"M3 20H21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),w.createElement("path",{d:"M3 4L9 10L13 6L21 14",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("circle",{cx:21,cy:14,r:2,fill:"currentColor"}),w.createElement("circle",{cx:13,cy:6,r:2,fill:"currentColor"}),w.createElement("circle",{cx:9,cy:10,r:2,fill:"currentColor"}),w.createElement("circle",{cx:3,cy:4,r:2,fill:"currentColor"})),TU=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{d:"M3 20H21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),w.createElement("path",{d:"M3 12H7L11 16L15 8L19 12H21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("circle",{cx:21,cy:12,r:2,fill:"currentColor"}),w.createElement("circle",{cx:19,cy:12,r:2,fill:"currentColor"}),w.createElement("circle",{cx:15,cy:8,r:2,fill:"currentColor"}),w.createElement("circle",{cx:11,cy:16,r:2,fill:"currentColor"}),w.createElement("circle",{cx:7,cy:12,r:2,fill:"currentColor"}),w.createElement("circle",{cx:3,cy:12,r:2,fill:"currentColor"})),RU=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{d:"M3 20H21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),w.createElement("path",{d:"M3 4L8 12L13 8L18 16L21 12",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("circle",{cx:21,cy:12,r:2,fill:"currentColor"}),w.createElement("circle",{cx:18,cy:16,r:2,fill:"currentColor"}),w.createElement("circle",{cx:13,cy:8,r:2,fill:"currentColor"}),w.createElement("circle",{cx:8,cy:12,r:2,fill:"currentColor"}),w.createElement("circle",{cx:3,cy:4,r:2,fill:"currentColor"})),AN=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{d:"M3 7C3 6.44772 3.44772 6 4 6H20C20.5523 6 21 6.44772 21 7C21 7.55228 20.5523 8 20 8H4C3.44772 8 3 7.55228 3 7Z",fill:"currentColor"}),w.createElement("path",{d:"M6 12C6 11.4477 6.44772 11 7 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H7C6.44772 13 6 12.5523 6 12Z",fill:"currentColor"}),w.createElement("path",{d:"M9 17C9 16.4477 9.44772 16 10 16H14C14.5523 16 15 16.4477 15 17C15 17.5523 14.5523 18 14 18H10C9.44772 18 9 17.5523 9 17Z",fill:"currentColor"})),Fp=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{d:"M2.83179 4.38657H3.34341C4.20256 4.38657 4.96125 4.94691 5.21392 5.76808L8.27786 15.7259C8.53053 16.547 9.28921 17.1074 10.1484 17.1074H17.1114C17.9373 17.1074 18.6743 16.5889 18.9534 15.8116L20.9925 10.1312C21.679 8.21867 20.2616 6.20383 18.2295 6.20383H10.66",stroke:"currentColor",strokeWidth:1.7,strokeLinecap:"round"}),w.createElement("circle",{cx:10.1707,cy:20.5322,r:1.46779,fill:"currentColor"}),w.createElement("circle",{cx:17.0204,cy:20.5322,r:1.46779,fill:"currentColor"}));/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IU=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),n6=r=>{const e=IU(r);return e.charAt(0).toUpperCase()+e.slice(1)},PN=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),OU=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=w.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>w.createElement("svg",{ref:c,...FU,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:PN("lucide",a),...!s&&!OU(l)&&{"aria-hidden":"true"},...l},[...i.map(([d,u])=>w.createElement(d,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=(r,e)=>{const t=w.forwardRef(({className:n,...a},s)=>w.createElement(BU,{ref:s,iconNode:e,className:PN(`lucide-${MU(n6(r))}`,`lucide-${r}`,n),...a}));return t.displayName=n6(r),t};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],UU=zU("ticket",HU);function LN({className:r="w-5 h-5"}){return o.jsx(UU,{className:r})}const f4=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("line",{x1:12,y1:1,x2:12,y2:23,stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),p4=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z",fill:"currentColor"})),g4=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("rect",{width:18,height:18,x:3,y:3,rx:2,ry:2,stroke:"currentColor",strokeWidth:2}),w.createElement("path",{d:"m9 9h.01",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"m15 9h.01",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"m9 15h.01",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"m15 15h.01",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"m12 12h.01",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),m4=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),x4=r=>w.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("polygon",{points:"6,3 20,12 6,21",fill:"currentColor"})),VU=Object.freeze(Object.defineProperty({__proto__:null,CasinoIcon:g4,EntertainmentIcon:x4,FinanceIcon:f4,HeartIcon:p4,TechIcon:m4},Symbol.toStringTag,{value:"Module"})),G0=Object.freeze(Object.defineProperty({__proto__:null,AhrefsTrafficIcon:DU,AlertHexaIcon:PU,AlertIcon:iU,AngleDownIcon:xU,AngleUpIcon:mU,ArrowDownIcon:E2,ArrowRightIcon:yN,ArrowUpIcon:N2,AudioIcon:hU,BoltIcon:cU,BoxCubeIcon:SU,BoxIcon:Vi,BoxIconLine:kN,CalenderIcon:c4,CasinoIcon:g4,ChartIcon:r6,ChatIcon:EU,CheckCircleIcon:_2,CheckLineIcon:vU,ChevronDownIcon:i1,ChevronLeftIcon:_N,ChevronUpIcon:yU,CloseIcon:sU,CloseLineIcon:bU,CodeIcon:kl,CopyIcon:jN,DocsIcon:_U,DollarLineIcon:gU,DownloadIcon:fU,EntertainmentIcon:x4,EnvelopeIcon:l4,ErrorHexaIcon:LU,ErrorIcon:lU,EyeCloseIcon:Hl,EyeIcon:Mo,FileIcon:wo,FilterIcon:AN,FinanceIcon:f4,FolderIcon:dU,GoogleTrafficIcon:RU,GridIcon:_u,GroupIcon:wN,HeartIcon:p4,HorizontaLDots:Y0,InfoIcon:oU,ListIcon:q0,LockIcon:wU,MailIcon:NU,MoreDotIcon:AU,PageIcon:EN,PaperPlaneIcon:CN,PencilIcon:Pi,PieChartIcon:r6,PlugInIcon:jU,PlusIcon:yr,SettingsIcon:u4,SettingsMinimalIcon:h4,ShootingStarIcon:pU,ShoppingCartIcon:Fp,SimilarwebTrafficIcon:TU,TableIcon:CU,TaskIcon:kU,TechIcon:m4,TicketIcon:LN,TimeIcon:d4,TrashBinIcon:rs,UploadIcon:bN,UserCircleIcon:NN,UserIcon:SN,VideoIcon:uU},Symbol.toStringTag,{value:"Module"}));function $U(){return o.jsxs("div",{children:[o.jsx(Yt,{title:"React.js Badges Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Badges Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),o.jsx(kr,{pageTitle:"Badges"}),o.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[o.jsx(ar,{title:"With Light Background",children:o.jsxs("div",{className:"flex flex-wrap gap-4 sm:items-center sm:justify-center",children:[o.jsx(At,{variant:"light",color:"primary",children:"Primary"}),o.jsx(At,{variant:"light",color:"success",children:"Success"})," ",o.jsx(At,{variant:"light",color:"error",children:"Error"})," ",o.jsx(At,{variant:"light",color:"warning",children:"Warning"})," ",o.jsx(At,{variant:"light",color:"info",children:"Info"}),o.jsx(At,{variant:"light",color:"light",children:"Light"}),o.jsx(At,{variant:"light",color:"dark",children:"Dark"})]})}),o.jsx(ar,{title:"With Solid Background",children:o.jsxs("div",{className:"flex flex-wrap gap-4 sm:items-center sm:justify-center",children:[o.jsx(At,{variant:"solid",color:"primary",children:"Primary"}),o.jsx(At,{variant:"solid",color:"success",children:"Success"})," ",o.jsx(At,{variant:"solid",color:"error",children:"Error"})," ",o.jsx(At,{variant:"solid",color:"warning",children:"Warning"})," ",o.jsx(At,{variant:"solid",color:"info",children:"Info"}),o.jsx(At,{variant:"solid",color:"light",children:"Light"}),o.jsx(At,{variant:"solid",color:"dark",children:"Dark"})]})}),o.jsx(ar,{title:"Light Background with Left Icon",children:o.jsxs("div",{className:"flex flex-wrap gap-4 sm:items-center sm:justify-center",children:[o.jsx(At,{variant:"light",color:"primary",startIcon:o.jsx(yr,{}),children:"Primary"}),o.jsx(At,{variant:"light",color:"success",startIcon:o.jsx(yr,{}),children:"Success"})," ",o.jsx(At,{variant:"light",color:"error",startIcon:o.jsx(yr,{}),children:"Error"})," ",o.jsx(At,{variant:"light",color:"warning",startIcon:o.jsx(yr,{}),children:"Warning"})," ",o.jsx(At,{variant:"light",color:"info",startIcon:o.jsx(yr,{}),children:"Info"}),o.jsx(At,{variant:"light",color:"light",startIcon:o.jsx(yr,{}),children:"Light"}),o.jsx(At,{variant:"light",color:"dark",startIcon:o.jsx(yr,{}),children:"Dark"})]})}),o.jsx(ar,{title:"Solid Background with Left Icon",children:o.jsxs("div",{className:"flex flex-wrap gap-4 sm:items-center sm:justify-center",children:[o.jsx(At,{variant:"solid",color:"primary",startIcon:o.jsx(yr,{}),children:"Primary"}),o.jsx(At,{variant:"solid",color:"success",startIcon:o.jsx(yr,{}),children:"Success"})," ",o.jsx(At,{variant:"solid",color:"error",startIcon:o.jsx(yr,{}),children:"Error"})," ",o.jsx(At,{variant:"solid",color:"warning",startIcon:o.jsx(yr,{}),children:"Warning"})," ",o.jsx(At,{variant:"solid",color:"info",startIcon:o.jsx(yr,{}),children:"Info"}),o.jsx(At,{variant:"solid",color:"light",startIcon:o.jsx(yr,{}),children:"Light"}),o.jsx(At,{variant:"solid",color:"dark",startIcon:o.jsx(yr,{}),children:"Dark"})]})}),o.jsx(ar,{title:"Light Background with Right Icon",children:o.jsxs("div",{className:"flex flex-wrap gap-4 sm:items-center sm:justify-center",children:[o.jsx(At,{variant:"light",color:"primary",endIcon:o.jsx(yr,{}),children:"Primary"}),o.jsx(At,{variant:"light",color:"success",endIcon:o.jsx(yr,{}),children:"Success"})," ",o.jsx(At,{variant:"light",color:"error",endIcon:o.jsx(yr,{}),children:"Error"})," ",o.jsx(At,{variant:"light",color:"warning",endIcon:o.jsx(yr,{}),children:"Warning"})," ",o.jsx(At,{variant:"light",color:"info",endIcon:o.jsx(yr,{}),children:"Info"}),o.jsx(At,{variant:"light",color:"light",endIcon:o.jsx(yr,{}),children:"Light"}),o.jsx(At,{variant:"light",color:"dark",endIcon:o.jsx(yr,{}),children:"Dark"})]})}),o.jsx(ar,{title:"Solid Background with Right Icon",children:o.jsxs("div",{className:"flex flex-wrap gap-4 sm:items-center sm:justify-center",children:[o.jsx(At,{variant:"solid",color:"primary",endIcon:o.jsx(yr,{}),children:"Primary"}),o.jsx(At,{variant:"solid",color:"success",endIcon:o.jsx(yr,{}),children:"Success"})," ",o.jsx(At,{variant:"solid",color:"error",endIcon:o.jsx(yr,{}),children:"Error"})," ",o.jsx(At,{variant:"solid",color:"warning",endIcon:o.jsx(yr,{}),children:"Warning"})," ",o.jsx(At,{variant:"solid",color:"info",endIcon:o.jsx(yr,{}),children:"Info"}),o.jsx(At,{variant:"solid",color:"light",endIcon:o.jsx(yr,{}),children:"Light"}),o.jsx(At,{variant:"solid",color:"dark",endIcon:o.jsx(yr,{}),children:"Dark"})]})})]})]})}const WU={xsmall:"h-6 w-6 max-w-6",small:"h-8 w-8 max-w-8",medium:"h-10 w-10 max-w-10",large:"h-12 w-12 max-w-12",xlarge:"h-14 w-14 max-w-14",xxlarge:"h-16 w-16 max-w-16"},qU={xsmall:"h-1.5 w-1.5 max-w-1.5",small:"h-2 w-2 max-w-2",medium:"h-2.5 w-2.5 max-w-2.5",large:"h-3 w-3 max-w-3",xlarge:"h-3.5 w-3.5 max-w-3.5",xxlarge:"h-4 w-4 max-w-4"},YU={online:"bg-success-500",offline:"bg-error-400",busy:"bg-warning-500"},Xr=({src:r,alt:e="User Avatar",size:t="medium",status:n="none"})=>o.jsxs("div",{className:`relative  rounded-full ${WU[t]}`,children:[o.jsx("img",{src:r,alt:e,className:"object-cover rounded-full"}),n!=="none"&&o.jsx("span",{className:`absolute bottom-0 right-0 rounded-full border-[1.5px] border-white dark:border-gray-900 ${qU[t]} ${YU[n]||""}`})]});function GU(){return o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"React.js Avatars Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Avatars Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),o.jsx(kr,{pageTitle:"Avatars"}),o.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[o.jsx(ar,{title:"Default Avatar",children:o.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 sm:flex-row",children:[o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"xsmall"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"small"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"medium"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"large"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"xlarge"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"xxlarge"})]})}),o.jsx(ar,{title:"Avatar with online indicator",children:o.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 sm:flex-row",children:[o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"xsmall",status:"online"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"small",status:"online"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"medium",status:"online"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"large",status:"online"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"xlarge",status:"online"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"xxlarge",status:"online"})]})}),o.jsx(ar,{title:"Avatar with Offline indicator",children:o.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 sm:flex-row",children:[o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"xsmall",status:"offline"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"small",status:"offline"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"medium",status:"offline"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"large",status:"offline"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"xlarge",status:"offline"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"xxlarge",status:"offline"})]})})," ",o.jsx(ar,{title:"Avatar with busy indicator",children:o.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 sm:flex-row",children:[o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"xsmall",status:"busy"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"small",status:"busy"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"medium",status:"busy"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"large",status:"busy"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"xlarge",status:"busy"}),o.jsx(Xr,{src:"/images/user/user-01.jpg",size:"xxlarge",status:"busy"})]})})]})]})}function XU(){return o.jsxs("div",{children:[o.jsx(Yt,{title:"React.js Buttons Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Buttons Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),o.jsx(kr,{pageTitle:"Buttons"}),o.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[o.jsx(ar,{title:"Primary Button",children:o.jsxs("div",{className:"flex items-center gap-5",children:[o.jsx(at,{size:"sm",variant:"primary",children:"Button Text"}),o.jsx(at,{size:"md",variant:"primary",children:"Button Text"})]})}),o.jsx(ar,{title:"Primary Button with Left Icon",children:o.jsxs("div",{className:"flex items-center gap-5",children:[o.jsx(at,{size:"sm",variant:"primary",startIcon:o.jsx(Vi,{className:"size-5"}),children:"Button Text"}),o.jsx(at,{size:"md",variant:"primary",startIcon:o.jsx(Vi,{className:"size-5"}),children:"Button Text"})]})}),o.jsx(ar,{title:"Primary Button with Right Icon",children:o.jsxs("div",{className:"flex items-center gap-5",children:[o.jsx(at,{size:"sm",variant:"primary",endIcon:o.jsx(Vi,{className:"size-5"}),children:"Button Text"}),o.jsx(at,{size:"md",variant:"primary",endIcon:o.jsx(Vi,{className:"size-5"}),children:"Button Text"})]})}),o.jsx(ar,{title:"Secondary Button",children:o.jsxs("div",{className:"flex items-center gap-5",children:[o.jsx(at,{size:"sm",variant:"outline",children:"Button Text"}),o.jsx(at,{size:"md",variant:"outline",children:"Button Text"})]})}),o.jsx(ar,{title:"Outline Button with Left Icon",children:o.jsxs("div",{className:"flex items-center gap-5",children:[o.jsx(at,{size:"sm",variant:"outline",startIcon:o.jsx(Vi,{className:"size-5"}),children:"Button Text"}),o.jsx(at,{size:"md",variant:"outline",startIcon:o.jsx(Vi,{className:"size-5"}),children:"Button Text"})]})})," ",o.jsx(ar,{title:"Outline Button with Right Icon",children:o.jsxs("div",{className:"flex items-center gap-5",children:[o.jsx(at,{size:"sm",variant:"outline",endIcon:o.jsx(Vi,{className:"size-5"}),children:"Button Text"}),o.jsx(at,{size:"md",variant:"outline",endIcon:o.jsx(Vi,{className:"size-5"}),children:"Button Text"})]})})]})]})}var DN={};/*!
 * ApexCharts v4.4.0
 * (c) 2018-2025 ApexCharts
 * Released under the MIT License.
 */function A2(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function TN(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function bt(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function a6(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,IN(n.key),n)}}function yt(r,e,t){return e&&a6(r.prototype,e),t&&a6(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Nf(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=v4(r))||e){t&&(r=t);var n=0,a=function(){};return{s:a,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,i=!0,l=!1;return{s:function(){t=t.call(r)},n:function(){var c=t.next();return i=c.done,c},e:function(c){l=!0,s=c},f:function(){try{i||t.return==null||t.return()}finally{if(l)throw s}}}}function Bp(r){var e=RN();return function(){var t,n=Z0(r);if(e){var a=Z0(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return function(s,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TN(s)}(this,t)}}function X0(r,e,t){return(e=IN(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Z0(r){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z0(r)}function zp(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&P2(r,e)}function RN(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RN=function(){return!!r})()}function s6(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function ct(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?s6(Object(t),!0).forEach(function(n){X0(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):s6(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function P2(r,e){return P2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},P2(r,e)}function MN(r,e){return function(t){if(Array.isArray(t))return t}(r)||function(t,n){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var s,i,l,c,d=[],u=!0,h=!1;try{if(l=(a=a.call(t)).next,n===0){if(Object(a)!==a)return;u=!1}else for(;!(u=(s=l.call(a)).done)&&(d.push(s.value),d.length!==n);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(h)throw i}}return d}}(r,e)||v4(r,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zn(r){return function(e){if(Array.isArray(e))return A2(e)}(r)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(r)||v4(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function IN(r){var e=function(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}(r,"string");return typeof e=="symbol"?e:e+""}function Yu(r){return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(r)}function v4(r,e){if(r){if(typeof r=="string")return A2(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?A2(r,e):void 0}}var xe=function(){function r(){bt(this,r)}return yt(r,[{key:"shadeRGBColor",value:function(e,t){var n=t.split(","),a=e<0?0:255,s=e<0?-1*e:e,i=parseInt(n[0].slice(4),10),l=parseInt(n[1],10),c=parseInt(n[2],10);return"rgb("+(Math.round((a-i)*s)+i)+","+(Math.round((a-l)*s)+l)+","+(Math.round((a-c)*s)+c)+")"}},{key:"shadeHexColor",value:function(e,t){var n=parseInt(t.slice(1),16),a=e<0?0:255,s=e<0?-1*e:e,i=n>>16,l=n>>8&255,c=255&n;return"#"+(16777216+65536*(Math.round((a-i)*s)+i)+256*(Math.round((a-l)*s)+l)+(Math.round((a-c)*s)+c)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return r.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&Yu(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"listToArray",value:function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n}},{key:"extend",value:function(e,t){var n=this;typeof Object.assign!="function"&&(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(s),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var d in c)c.hasOwnProperty(d)&&(i[d]=c[d])}return i});var a=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(s){n.isObject(t[s])&&s in e?a[s]=n.extend(e[s],t[s]):Object.assign(a,X0({},s,t[s]))}),a}},{key:"extendArray",value:function(e,t){var n=[];return e.map(function(a){n.push(r.extend(t,a))}),e=n}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||Yu(e)!=="object")return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){t=[],n.set(e,t);for(var a=0;a<e.length;a++)t[a]=this.clone(e[a],n)}else if(e instanceof Date)t=new Date(e.getTime());else for(var s in t={},n.set(e,t),e)e.hasOwnProperty(s)&&(t[s]=this.clone(e[s],n));return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),n=e.clientHeight,a=e.clientWidth;return n-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[a-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),n]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(t,n){return Array.isArray(n)&&(n=n.reduce(function(a,s){return a.length>s.length?a:s})),t.length>n.length?t:n},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var n=e.replace("#","");n=n.match(new RegExp("(.{"+n.length/3+"})","g"));for(var a=0;a<n.length;a++)n[a]=parseInt(n[a].length===1?n[a]+n[a]:n[a],16);return t!==void 0&&n.push(t),"rgba("+n.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var n=[],a=2*Math.PI/t,s=0;s<t;s++){var i={};i.x=e*Math.sin(s*a),i.y=-e*Math.cos(s*a),n.push(i)}return n}},{key:"polarToCartesian",value:function(e,t,n,a){var s=(a-90)*Math.PI/180;return{x:e+n*Math.cos(s),y:t+n*Math.sin(s)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",n=e.toString().slice();return n=n.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,n){if(n>=e.length)for(var a=n-e.length+1;a--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style.key=t[n])}},{key:"preciseAddition",value:function(e,t){var n=(String(e).split(".")[1]||"").length,a=(String(t).split(".")[1]||"").length,s=Math.pow(10,Math.max(n,a));return(Math.round(e*s)+Math.round(t*s))/s}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,t))));for(e=Math.round(Math.abs(e)*a),t=Math.round(Math.abs(t)*a);t;){var s=t;t=e%t,e=s}return e/a}},{key:"getPrimeFactors",value:function(e){for(var t=[],n=2;e>=2;)e%n==0?(t.push(n),e/=n):n++;return t}},{key:"mod",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*a))%(t=Math.round(Math.abs(t)*a))/a}}]),r}(),ph=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w}return yt(r,[{key:"animateLine",value:function(e,t,n,a){e.attr(t).animate(a).attr(n)}},{key:"animateMarker",value:function(e,t,n,a){e.attr({opacity:0}).animate(t).attr({opacity:1}).after(function(){a()})}},{key:"animateRect",value:function(e,t,n,a,s){e.attr(t).animate(a).attr(n).after(function(){return s()})}},{key:"animatePathsGradually",value:function(e){var t=e.el,n=e.realIndex,a=e.j,s=e.fill,i=e.pathFrom,l=e.pathTo,c=e.speed,d=e.delay,u=this.w,h=0;u.config.chart.animations.animateGradually.enabled&&(h=u.config.chart.animations.animateGradually.delay),u.config.chart.animations.dynamicAnimation.enabled&&u.globals.dataChanged&&u.config.chart.type!=="bar"&&(h=0),this.morphSVG(t,n,a,u.config.chart.type!=="line"||u.globals.comboCharts?s:"stroke",i,l,c,d*h)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),typeof t.config.chart.events.animationEnd=="function"&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,n,a,s,i,l,c){var d=this,u=this.w;s||(s=e.attr("pathFrom")),i||(i=e.attr("pathTo"));var h=function(f){return u.config.chart.type==="radar"&&(l=1),"M 0 ".concat(u.globals.gridHeight)};(!s||s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s=h()),(!i.trim()||i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i=h()),u.globals.shouldAnimate||(l=1),e.plot(s).animate(1,c).plot(s).animate(l,c).plot(i).after(function(){xe.isNumber(n)?n===u.globals.series[u.globals.maxValsInArrayIndex].length-2&&u.globals.shouldAnimate&&d.animationCompleted(e):a!=="none"&&u.globals.shouldAnimate&&(!u.globals.comboCharts&&t===u.globals.series.length-1||u.globals.comboCharts)&&d.animationCompleted(e),d.showDelayedElements()})}}]),r}();const L2={},ON=[];function Zt(r,e){if(Array.isArray(r))for(const t of r)Zt(t,e);else if(typeof r!="object")FN(Object.getOwnPropertyNames(e)),L2[r]=Object.assign(L2[r]||{},e);else for(const t in r)Zt(t,r[t])}function Wa(r){return L2[r]||{}}function FN(r){ON.push(...r)}function b4(r,e){let t;const n=r.length,a=[];for(t=0;t<n;t++)a.push(e(r[t]));return a}function Jv(r){return r%360*Math.PI/180}function gh(r){return r.charAt(0).toUpperCase()+r.slice(1)}function mh(r,e,t,n){return e!=null&&t!=null||(n=n||r.bbox(),e==null?e=n.width/n.height*t:t==null&&(t=n.height/n.width*e)),{width:e,height:t}}function D2(r,e){const t=r.origin;let n=r.ox!=null?r.ox:r.originX!=null?r.originX:"center",a=r.oy!=null?r.oy:r.originY!=null?r.originY:"center";t!=null&&([n,a]=Array.isArray(t)?t:typeof t=="object"?[t.x,t.y]:[t,t]);const s=typeof n=="string",i=typeof a=="string";if(s||i){const{height:l,width:c,x:d,y:u}=e.bbox();s&&(n=n.includes("left")?d:n.includes("right")?d+c:d+c/2),i&&(a=a.includes("top")?u:a.includes("bottom")?u+l:u+l/2)}return[n,a]}const ZU=new Set(["desc","metadata","title"]),T2=r=>ZU.has(r.nodeName),BN=(r,e,t={})=>{const n={...e};for(const a in n)n[a].valueOf()===t[a]&&delete n[a];Object.keys(n).length?r.node.setAttribute("data-svgjs",JSON.stringify(n)):(r.node.removeAttribute("data-svgjs"),r.node.removeAttribute("svgjs:data"))},y4="http://www.w3.org/2000/svg",Kv="http://www.w3.org/2000/xmlns/",xh="http://www.w3.org/1999/xlink",dr={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Hp(){return dr.window}let w4=class{};const Hc={},k4="___SYMBOL___ROOT___";function hp(r,e=y4){return dr.document.createElementNS(e,r)}function Da(r,e=!1){if(r instanceof w4)return r;if(typeof r=="object")return Qv(r);if(r==null)return new Hc[k4];if(typeof r=="string"&&r.charAt(0)!=="<")return Qv(dr.document.querySelector(r));const t=e?dr.document.createElement("div"):hp("svg");return t.innerHTML=r,r=Qv(t.firstChild),t.removeChild(t.firstChild),r}function Rr(r,e){return e&&(e instanceof dr.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:hp(r)}function Us(r){if(!r)return null;if(r.instance instanceof w4)return r.instance;if(r.nodeName==="#document-fragment")return new Hc.Fragment(r);let e=gh(r.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":Hc[e]||(e="Dom"),new Hc[e](r)}let Qv=Us;function ur(r,e=r.name,t=!1){return Hc[e]=r,t&&(Hc[k4]=r),FN(Object.getOwnPropertyNames(r.prototype)),r}let JU=1e3;function zN(r){return"Svgjs"+gh(r)+JU++}function HN(r){for(let e=r.children.length-1;e>=0;e--)HN(r.children[e]);return r.id&&(r.id=zN(r.nodeName)),r}function Rt(r,e){let t,n;for(n=(r=Array.isArray(r)?r:[r]).length-1;n>=0;n--)for(t in e)r[n].prototype[t]=e[t]}function Dr(r){return function(...e){const t=e[e.length-1];return!t||t.constructor!==Object||t instanceof Array?r.apply(this,e):r.apply(this,e.slice(0,-1)).attr(t)}}Zt("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const r=this.position();return this.parent().add(this.remove(),r+1),this},backward:function(){const r=this.position();return this.parent().add(this.remove(),r?r-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(r){(r=Da(r)).remove();const e=this.position();return this.parent().add(r,e),this},after:function(r){(r=Da(r)).remove();const e=this.position();return this.parent().add(r,e+1),this},insertBefore:function(r){return(r=Da(r)).before(this),this},insertAfter:function(r){return(r=Da(r)).after(this),this}});const UN=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,KU=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,QU=/rgb\((\d+),(\d+),(\d+)\)/,eV=/(#[a-z_][a-z0-9\-_]*)/i,tV=/\)\s*,?\s*/,rV=/\s/g,i6=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,o6=/^rgb\(/,l6=/^(\s+)?$/,c6=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,nV=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Ho=/[\s,]+/,C4=/[MLHVCSQTAZ]/i;function aV(r){const e=Math.round(r),t=Math.max(0,Math.min(255,e)).toString(16);return t.length===1?"0"+t:t}function Wd(r,e){for(let t=e.length;t--;)if(r[e[t]]==null)return!1;return!0}function eb(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+6*(e-r)*t:t<.5?e:t<2/3?r+(e-r)*(2/3-t)*6:r}Zt("Dom",{classes:function(){const r=this.attr("class");return r==null?[]:r.trim().split(Ho)},hasClass:function(r){return this.classes().indexOf(r)!==-1},addClass:function(r){if(!this.hasClass(r)){const e=this.classes();e.push(r),this.attr("class",e.join(" "))}return this},removeClass:function(r){return this.hasClass(r)&&this.attr("class",this.classes().filter(function(e){return e!==r}).join(" ")),this},toggleClass:function(r){return this.hasClass(r)?this.removeClass(r):this.addClass(r)}}),Zt("Dom",{css:function(r,e){const t={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(n){return!!n.length}).forEach(function(n){const a=n.split(/\s*:\s*/);t[a[0]]=a[1]}),t;if(arguments.length<2){if(Array.isArray(r)){for(const n of r){const a=n;t[n]=this.node.style.getPropertyValue(a)}return t}if(typeof r=="string")return this.node.style.getPropertyValue(r);if(typeof r=="object")for(const n in r)this.node.style.setProperty(n,r[n]==null||l6.test(r[n])?"":r[n])}return arguments.length===2&&this.node.style.setProperty(r,e==null||l6.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),Zt("Dom",{data:function(r,e,t){if(r==null)return this.data(b4(function(n,a){let s;const i=n.length,l=[];for(s=0;s<i;s++)a(n[s])&&l.push(n[s]);return l}(this.node.attributes,n=>n.nodeName.indexOf("data-")===0),n=>n.nodeName.slice(5)));if(r instanceof Array){const n={};for(const a of r)n[a]=this.data(a);return n}if(typeof r=="object")for(e in r)this.data(e,r[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+r))}catch{return this.attr("data-"+r)}else this.attr("data-"+r,e===null?null:t===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),Zt("Dom",{remember:function(r,e){if(typeof arguments[0]=="object")for(const t in r)this.remember(t,r[t]);else{if(arguments.length===1)return this.memory()[r];this.memory()[r]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let r=arguments.length-1;r>=0;r--)delete this.memory()[arguments[r]];return this},memory:function(){return this._memory=this._memory||{}}});let Qi=class Mn{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof Mn||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",t){const{random:n,round:a,sin:s,PI:i}=Math;if(e==="vibrant"){const l=24*n()+57,c=38*n()+45,d=360*n();return new Mn(l,c,d,"lch")}if(e==="sine"){const l=a(80*s(2*i*(t=t??n())/.5+.01)+150),c=a(50*s(2*i*t/.5+4.6)+200),d=a(100*s(2*i*t/.5+2.3)+150);return new Mn(l,c,d)}if(e==="pastel"){const l=8*n()+86,c=17*n()+9,d=360*n();return new Mn(l,c,d,"lch")}if(e==="dark"){const l=10+10*n(),c=50*n()+86,d=360*n();return new Mn(l,c,d,"lch")}if(e==="rgb"){const l=255*n(),c=255*n(),d=255*n();return new Mn(l,c,d)}if(e==="lab"){const l=100*n(),c=256*n()-128,d=256*n()-128;return new Mn(l,c,d,"lab")}if(e==="grey"){const l=255*n();return new Mn(l,l,l)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(i6.test(e)||o6.test(e))}cmyk(){const{_a:e,_b:t,_c:n}=this.rgb(),[a,s,i]=[e,t,n].map(c=>c/255),l=Math.min(1-a,1-s,1-i);return l===1?new Mn(0,0,0,1,"cmyk"):new Mn((1-a-l)/(1-l),(1-s-l)/(1-l),(1-i-l)/(1-l),l,"cmyk")}hsl(){const{_a:e,_b:t,_c:n}=this.rgb(),[a,s,i]=[e,t,n].map(f=>f/255),l=Math.max(a,s,i),c=Math.min(a,s,i),d=(l+c)/2,u=l===c,h=l-c;return new Mn(360*(u?0:l===a?((s-i)/h+(s<i?6:0))/6:l===s?((i-a)/h+2)/6:l===i?((a-s)/h+4)/6:0),100*(u?0:d>.5?h/(2-l-c):h/(l+c)),100*d,"hsl")}init(e=0,t=0,n=0,a=0,s="rgb"){if(e=e||0,this.space)for(const h in this.space)delete this[this.space[h]];if(typeof e=="number")s=typeof a=="string"?a:s,a=typeof a=="string"?0:a,Object.assign(this,{_a:e,_b:t,_c:n,_d:a,space:s});else if(e instanceof Array)this.space=t||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const h=function(f,p){const m=Wd(f,"rgb")?{_a:f.r,_b:f.g,_c:f.b,_d:0,space:"rgb"}:Wd(f,"xyz")?{_a:f.x,_b:f.y,_c:f.z,_d:0,space:"xyz"}:Wd(f,"hsl")?{_a:f.h,_b:f.s,_c:f.l,_d:0,space:"hsl"}:Wd(f,"lab")?{_a:f.l,_b:f.a,_c:f.b,_d:0,space:"lab"}:Wd(f,"lch")?{_a:f.l,_b:f.c,_c:f.h,_d:0,space:"lch"}:Wd(f,"cmyk")?{_a:f.c,_b:f.m,_c:f.y,_d:f.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return m.space=p||m.space,m}(e,t);Object.assign(this,h)}else if(typeof e=="string")if(o6.test(e)){const h=e.replace(rV,""),[f,p,m]=QU.exec(h).slice(1,4).map(g=>parseInt(g));Object.assign(this,{_a:f,_b:p,_c:m,_d:0,space:"rgb"})}else{if(!i6.test(e))throw Error("Unsupported string format, can't construct Color");{const h=g=>parseInt(g,16),[,f,p,m]=KU.exec(function(g){return g.length===4?["#",g.substring(1,2),g.substring(1,2),g.substring(2,3),g.substring(2,3),g.substring(3,4),g.substring(3,4)].join(""):g}(e)).map(h);Object.assign(this,{_a:f,_b:p,_c:m,_d:0,space:"rgb"})}}const{_a:i,_b:l,_c:c,_d:d}=this,u=this.space==="rgb"?{r:i,g:l,b:c}:this.space==="xyz"?{x:i,y:l,z:c}:this.space==="hsl"?{h:i,s:l,l:c}:this.space==="lab"?{l:i,a:l,b:c}:this.space==="lch"?{l:i,c:l,h:c}:this.space==="cmyk"?{c:i,m:l,y:c,k:d}:{};Object.assign(this,u)}lab(){const{x:e,y:t,z:n}=this.xyz();return new Mn(116*t-16,500*(e-t),200*(t-n),"lab")}lch(){const{l:e,a:t,b:n}=this.lab(),a=Math.sqrt(t**2+n**2);let s=180*Math.atan2(n,t)/Math.PI;return s<0&&(s*=-1,s=360-s),new Mn(e,a,s,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:t,y:n,z:a}=this;if(this.space==="lab"||this.space==="lch"){let{l:p,a:m,b:g}=this;if(this.space==="lch"){const{c:_,h:E}=this,A=Math.PI/180;m=_*Math.cos(A*E),g=_*Math.sin(A*E)}const v=(p+16)/116,x=m/500+v,b=v-g/200,y=16/116,C=.008856,S=7.787;t=.95047*(x**3>C?x**3:(x-y)/S),n=1*(v**3>C?v**3:(v-y)/S),a=1.08883*(b**3>C?b**3:(b-y)/S)}const s=3.2406*t+-1.5372*n+-.4986*a,i=-.9689*t+1.8758*n+.0415*a,l=.0557*t+-.204*n+1.057*a,c=Math.pow,d=.0031308,u=s>d?1.055*c(s,1/2.4)-.055:12.92*s,h=i>d?1.055*c(i,1/2.4)-.055:12.92*i,f=l>d?1.055*c(l,1/2.4)-.055:12.92*l;return new Mn(255*u,255*h,255*f)}if(this.space==="hsl"){let{h:t,s:n,l:a}=this;if(t/=360,n/=100,a/=100,n===0)return a*=255,new Mn(a,a,a);const s=a<.5?a*(1+n):a+n-a*n,i=2*a-s,l=255*eb(i,s,t+1/3),c=255*eb(i,s,t),d=255*eb(i,s,t-1/3);return new Mn(l,c,d)}if(this.space==="cmyk"){const{c:t,m:n,y:a,k:s}=this,i=255*(1-Math.min(1,t*(1-s)+s)),l=255*(1-Math.min(1,n*(1-s)+s)),c=255*(1-Math.min(1,a*(1-s)+s));return new Mn(i,l,c)}return this;var e}toArray(){const{_a:e,_b:t,_c:n,_d:a,space:s}=this;return[e,t,n,a,s]}toHex(){const[e,t,n]=this._clamped().map(aV);return`#${e}${t}${n}`}toRgb(){const[e,t,n]=this._clamped();return`rgb(${e},${t},${n})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:n}=this.rgb(),[a,s,i]=[e,t,n].map(v=>v/255),l=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,c=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,d=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,u=(.4124*l+.3576*c+.1805*d)/.95047,h=(.2126*l+.7152*c+.0722*d)/1,f=(.0193*l+.1192*c+.9505*d)/1.08883,p=u>.008856?Math.pow(u,1/3):7.787*u+16/116,m=h>.008856?Math.pow(h,1/3):7.787*h+16/116,g=f>.008856?Math.pow(f,1/3):7.787*f+16/116;return new Mn(p,m,g,"xyz")}_clamped(){const{_a:e,_b:t,_c:n}=this.rgb(),{max:a,min:s,round:i}=Math;return[e,t,n].map(l=>a(0,s(i(l),255)))}},_r=class VN{constructor(...e){this.init(...e)}clone(){return new VN(this)}init(e,t){const s=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:t};return this.x=s.x==null?0:s.x,this.y=s.y==null?0:s.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){Kt.isMatrixLike(e)||(e=new Kt(e));const{x:t,y:n}=this;return this.x=e.a*t+e.c*n+e.e,this.y=e.b*t+e.d*n+e.f,this}};function qd(r,e,t){return Math.abs(e-r)<1e-6}let Kt=class In{constructor(...e){this.init(...e)}static formatTransforms(e){const t=e.flip==="both"||e.flip===!0,n=e.flip&&(t||e.flip==="x")?-1:1,a=e.flip&&(t||e.flip==="y")?-1:1,s=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,i=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,l=e.scale&&e.scale.length?e.scale[0]*n:isFinite(e.scale)?e.scale*n:isFinite(e.scaleX)?e.scaleX*n:n,c=e.scale&&e.scale.length?e.scale[1]*a:isFinite(e.scale)?e.scale*a:isFinite(e.scaleY)?e.scaleY*a:a,d=e.shear||0,u=e.rotate||e.theta||0,h=new _r(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),f=h.x,p=h.y,m=new _r(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),g=m.x,v=m.y,x=new _r(e.translate||e.tx||e.translateX,e.ty||e.translateY),b=x.x,y=x.y,C=new _r(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:l,scaleY:c,skewX:s,skewY:i,shear:d,theta:u,rx:C.x,ry:C.y,tx:b,ty:y,ox:f,oy:p,px:g,py:v}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,t,n){const a=e.a*t.a+e.c*t.b,s=e.b*t.a+e.d*t.b,i=e.a*t.c+e.c*t.d,l=e.b*t.c+e.d*t.d,c=e.e+e.a*t.e+e.c*t.f,d=e.f+e.b*t.e+e.d*t.f;return n.a=a,n.b=s,n.c=i,n.d=l,n.e=c,n.f=d,n}around(e,t,n){return this.clone().aroundO(e,t,n)}aroundO(e,t,n){const a=e||0,s=t||0;return this.translateO(-a,-s).lmultiplyO(n).translateO(a,s)}clone(){return new In(this)}decompose(e=0,t=0){const n=this.a,a=this.b,s=this.c,i=this.d,l=this.e,c=this.f,d=n*i-a*s,u=d>0?1:-1,h=u*Math.sqrt(n*n+a*a),f=Math.atan2(u*a,u*n),p=180/Math.PI*f,m=Math.cos(f),g=Math.sin(f),v=(n*s+a*i)/d,x=s*h/(v*n-a)||i*h/(v*a+n);return{scaleX:h,scaleY:x,shear:v,rotate:p,translateX:l-e+e*m*h+t*(v*m*h-g*x),translateY:c-t+e*g*h+t*(v*g*h+m*x),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new In(e);return qd(this.a,t.a)&&qd(this.b,t.b)&&qd(this.c,t.c)&&qd(this.d,t.d)&&qd(this.e,t.e)&&qd(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return e==="x"?this.scaleO(-1,1,t,0):e==="y"?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=In.fromArray([1,0,0,1,0,0]);return e=e instanceof la?e.matrixify():typeof e=="string"?In.fromArray(e.split(Ho).map(parseFloat)):Array.isArray(e)?In.fromArray(e):typeof e=="object"&&In.isMatrixLike(e)?e:typeof e=="object"?new In().transform(e):arguments.length===6?In.fromArray([].slice.call(arguments)):t,this.a=e.a!=null?e.a:t.a,this.b=e.b!=null?e.b:t.b,this.c=e.c!=null?e.c:t.c,this.d=e.d!=null?e.d:t.d,this.e=e.e!=null?e.e:t.e,this.f=e.f!=null?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,n=this.c,a=this.d,s=this.e,i=this.f,l=e*a-t*n;if(!l)throw new Error("Cannot invert "+this);const c=a/l,d=-t/l,u=-n/l,h=e/l,f=-(c*s+u*i),p=-(d*s+h*i);return this.a=c,this.b=d,this.c=u,this.d=h,this.e=f,this.f=p,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof In?e:new In(e);return In.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof In?e:new In(e);return In.matrixMultiply(this,t,this)}rotate(e,t,n){return this.clone().rotateO(e,t,n)}rotateO(e,t=0,n=0){e=Jv(e);const a=Math.cos(e),s=Math.sin(e),{a:i,b:l,c,d,e:u,f:h}=this;return this.a=i*a-l*s,this.b=l*a+i*s,this.c=c*a-d*s,this.d=d*a+c*s,this.e=u*a-h*s+n*s-t*a+t,this.f=h*a+u*s-t*s-n*a+n,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,n=0,a=0){arguments.length===3&&(a=n,n=t,t=e);const{a:s,b:i,c:l,d:c,e:d,f:u}=this;return this.a=s*e,this.b=i*t,this.c=l*e,this.d=c*t,this.e=d*e-n*e+n,this.f=u*t-a*t+a,this}shear(e,t,n){return this.clone().shearO(e,t,n)}shearO(e,t=0,n=0){const{a,b:s,c:i,d:l,e:c,f:d}=this;return this.a=a+s*e,this.c=i+l*e,this.e=c+d*e-n*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,n=0,a=0){arguments.length===3&&(a=n,n=t,t=e),e=Jv(e),t=Jv(t);const s=Math.tan(e),i=Math.tan(t),{a:l,b:c,c:d,d:u,e:h,f}=this;return this.a=l+c*s,this.b=c+l*i,this.c=d+u*s,this.d=u+d*i,this.e=h+f*s-a*s,this.f=f+h*i-n*i,this}skewX(e,t,n){return this.skew(e,0,t,n)}skewY(e,t,n){return this.skew(0,e,t,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(In.isMatrixLike(e))return new In(e).multiplyO(this);const t=In.formatTransforms(e),{x:n,y:a}=new _r(t.ox,t.oy).transform(this),s=new In().translateO(t.rx,t.ry).lmultiplyO(this).translateO(-n,-a).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(n,a);if(isFinite(t.px)||isFinite(t.py)){const i=new _r(n,a).transform(s),l=isFinite(t.px)?t.px-i.x:0,c=isFinite(t.py)?t.py-i.y:0;s.translateO(l,c)}return s.translateO(t.tx,t.ty),s}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}};function bl(){if(!bl.nodes){const r=Da().size(2,0);r.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),r.attr("focusable","false"),r.attr("aria-hidden","true");const e=r.path().node;bl.nodes={svg:r,path:e}}if(!bl.nodes.svg.node.parentNode){const r=dr.document.body||dr.document.documentElement;bl.nodes.svg.addTo(r)}return bl.nodes}function $N(r){return!(r.width||r.height||r.x||r.y)}ur(Kt,"Matrix");let Zn=class Xm{constructor(...e){this.init(...e)}addOffset(){return this.x+=dr.window.pageXOffset,this.y+=dr.window.pageYOffset,new Xm(this)}init(e){return e=typeof e=="string"?e.split(Ho).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return $N(this)}merge(e){const t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),a=Math.max(this.x+this.width,e.x+e.width)-t,s=Math.max(this.y+this.height,e.y+e.height)-n;return new Xm(t,n,a,s)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof Kt||(e=new Kt(e));let t=1/0,n=-1/0,a=1/0,s=-1/0;return[new _r(this.x,this.y),new _r(this.x2,this.y),new _r(this.x,this.y2),new _r(this.x2,this.y2)].forEach(function(i){i=i.transform(e),t=Math.min(t,i.x),n=Math.max(n,i.x),a=Math.min(a,i.y),s=Math.max(s,i.y)}),new Xm(t,a,n-t,s-a)}};function d6(r,e,t){let n;try{if(n=e(r.node),$N(n)&&(a=r.node)!==dr.document&&!(dr.document.documentElement.contains||function(s){for(;s.parentNode;)s=s.parentNode;return s===dr.document}).call(dr.document.documentElement,a))throw new Error("Element not in the dom")}catch{n=t(r)}var a;return n}Zt({viewbox:{viewbox(r,e,t,n){return r==null?new Zn(this.attr("viewBox")):this.attr("viewBox",new Zn(r,e,t,n))},zoom(r,e){let{width:t,height:n}=this.attr(["width","height"]);if((t||n)&&typeof t!="string"&&typeof n!="string"||(t=this.node.clientWidth,n=this.node.clientHeight),!t||!n)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const a=this.viewbox(),s=t/a.width,i=n/a.height,l=Math.min(s,i);if(r==null)return l;let c=l/r;c===1/0&&(c=Number.MAX_SAFE_INTEGER/100),e=e||new _r(t/2/s+a.x,n/2/i+a.y);const d=new Zn(a).transform(new Kt({scale:c,origin:e}));return this.viewbox(d)}}}),ur(Zn,"Box");let Qc=class extends Array{constructor(e=[],...t){if(super(e,...t),typeof e=="number")return this;this.length=0,this.push(...e)}};Rt([Qc],{each(r,...e){return typeof r=="function"?this.map((t,n,a)=>r.call(t,t,n,a)):this.map(t=>t[r](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const sV=["toArray","constructor","each"];function ld(r,e){return new Qc(b4((e||dr.document).querySelectorAll(r),function(t){return Us(t)}))}Qc.extend=function(r){r=r.reduce((e,t)=>(sV.includes(t)||t[0]==="_"||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...n){return this.each(t,...n)}),e),{}),Rt([Qc],r)};let iV=0;const WN={};function qN(r){let e=r.getEventHolder();return e===dr.window&&(e=WN),e.events||(e.events={}),e.events}function S4(r){return r.getEventTarget()}function So(r,e,t,n,a){const s=t.bind(n||r),i=Da(r),l=qN(i),c=S4(i);e=Array.isArray(e)?e:e.split(Ho),t._svgjsListenerId||(t._svgjsListenerId=++iV),e.forEach(function(d){const u=d.split(".")[0],h=d.split(".")[1]||"*";l[u]=l[u]||{},l[u][h]=l[u][h]||{},l[u][h][t._svgjsListenerId]=s,c.addEventListener(u,s,a||!1)})}function Gs(r,e,t,n){const a=Da(r),s=qN(a),i=S4(a);(typeof t!="function"||(t=t._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(Ho)).forEach(function(l){const c=l&&l.split(".")[0],d=l&&l.split(".")[1];let u,h;if(t)s[c]&&s[c][d||"*"]&&(i.removeEventListener(c,s[c][d||"*"][t],n||!1),delete s[c][d||"*"][t]);else if(c&&d){if(s[c]&&s[c][d]){for(h in s[c][d])Gs(i,[c,d].join("."),h);delete s[c][d]}}else if(d)for(l in s)for(u in s[l])d===u&&Gs(i,[l,d].join("."));else if(c){if(s[c]){for(u in s[c])Gs(i,[c,u].join("."));delete s[c]}}else{for(l in s)Gs(i,l);(function(f){let p=f.getEventHolder();p===dr.window&&(p=WN),p.events&&(p.events={})})(a)}})}let Up=class extends w4{addEventListener(){}dispatch(e,t,n){return function(a,s,i,l){const c=S4(a);return s instanceof dr.window.Event||(s=new dr.window.CustomEvent(s,{detail:i,cancelable:!0,...l})),c.dispatchEvent(s),s}(this,e,t,n)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const n=t[e.type];for(const a in n)for(const s in n[a])n[a][s](e);return!e.defaultPrevented}fire(e,t,n){return this.dispatch(e,t,n),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,n){return Gs(this,e,t,n),this}on(e,t,n,a){return So(this,e,t,n,a),this}removeEventListener(){}};function u6(){}ur(Up,"EventTarget");const tb=400,oV=">",lV=0,cV={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};let ed=class extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(Ho).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}},gr=class ui{constructor(...e){this.init(...e)}convert(e){return new ui(this.value,e)}divide(e){return e=new ui(e),new ui(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(t=e.match(UN))&&(this.value=parseFloat(t[1]),t[5]==="%"?this.value/=100:t[5]==="s"&&(this.value*=1e3),this.unit=t[5]):e instanceof ui&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new ui(e),new ui(this-e,this.unit||e.unit)}plus(e){return e=new ui(e),new ui(this+e,this.unit||e.unit)}times(e){return e=new ui(e),new ui(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}};const dV=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),YN=[];let Gu=class GN extends Up{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=Da(e)).removeNamespace&&this.node instanceof dr.window.SVGElement&&e.removeNamespace(),t==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return Da(e).put(this,t)}children(){return new Qc(b4(this.node.children,function(e){return Us(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let n=this.node.cloneNode(e);return t&&(n=HN(n)),new this.constructor(n)}each(e,t){const n=this.children();let a,s;for(a=0,s=n.length;a<s;a++)e.apply(n[a],[a,n]),t&&n[a].each(e,t);return this}element(e,t){return this.put(new GN(hp(e),t))}first(){return Us(this.node.firstChild)}get(e){return Us(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=zN(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return Us(this.node.lastChild)}matches(e){const t=this.node,n=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return n&&n.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=Us(t.node.parentNode),!e)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=Us(t.node.parentNode));return t}put(e,t){return e=Da(e),this.add(e,t),e}putIn(e,t){return Da(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=Da(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const n=10**e,a=this.attr(t);for(const s in a)typeof a[s]=="number"&&(a[s]=Math.round(a[s]*n)/n);return this.attr(a),this}svg(e,t){return this.xml(e,t,y4)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const n=t.index(this);return t.put(e,n).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,t,n){if(typeof e=="boolean"&&(n=t,t=e,e=null),e==null||typeof e=="function"){t=t==null||t,this.writeDataToDom();let l=this;if(e!=null){if(l=Us(l.node.cloneNode(!0)),t){const c=e(l);if(l=c||l,c===!1)return""}l.each(function(){const c=e(this),d=c||this;c===!1?this.remove():c&&this!==d&&this.replace(d)},!0)}return t?l.node.outerHTML:l.node.innerHTML}t=t!=null&&t;const a=hp("wrapper",n),s=dr.document.createDocumentFragment();a.innerHTML=e;for(let l=a.children.length;l--;)s.appendChild(a.firstElementChild);const i=this.parent();return t?this.replace(s)&&i:this.add(s)}};Rt(Gu,{attr:function(r,e,t){if(r==null){r={},e=this.node.attributes;for(const n of e)r[n.nodeName]=c6.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return r}if(r instanceof Array)return r.reduce((n,a)=>(n[a]=this.attr(a),n),{});if(typeof r=="object"&&r.constructor===Object)for(e in r)this.attr(e,r[e]);else if(e===null)this.node.removeAttribute(r);else{if(e==null)return(e=this.node.getAttribute(r))==null?cV[r]:c6.test(e)?parseFloat(e):e;typeof(e=YN.reduce((n,a)=>a(r,n,this),e))=="number"?e=new gr(e):dV.has(r)&&Qi.isColor(e)?e=new Qi(e):e.constructor===Array&&(e=new ed(e)),r==="leading"?this.leading&&this.leading(e):typeof t=="string"?this.node.setAttributeNS(t,r,e.toString()):this.node.setAttribute(r,e.toString()),!this.rebuild||r!=="font-size"&&r!=="x"||this.rebuild()}return this},find:function(r){return ld(r,this.node)},findOne:function(r){return Us(this.node.querySelector(r))}}),ur(Gu,"Dom");let la=class extends Gu{constructor(e,t){super(e,t),this.dom={},this.node.instance=this,(e.hasAttribute("data-svgjs")||e.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(e.getAttribute("data-svgjs"))??JSON.parse(e.getAttribute("svgjs:data"))??{})}center(e,t){return this.cx(e).cy(t)}cx(e){return e==null?this.x()+this.width()/2:this.x(e-this.width()/2)}cy(e){return e==null?this.y()+this.height()/2:this.y(e-this.height()/2)}defs(){const e=this.root();return e&&e.defs()}dmove(e,t){return this.dx(e).dy(t)}dx(e=0){return this.x(new gr(e).plus(this.x()))}dy(e=0){return this.y(new gr(e).plus(this.y()))}getEventHolder(){return this}height(e){return this.attr("height",e)}move(e,t){return this.x(e).y(t)}parents(e=this.root()){const t=typeof e=="string";t||(e=Da(e));const n=new Qc;let a=this;for(;(a=a.parent())&&a.node!==dr.document&&a.nodeName!=="#document-fragment"&&(n.push(a),t||a.node!==e.node)&&(!t||!a.matches(e));)if(a.node===this.root().node)return null;return n}reference(e){if(!(e=this.attr(e)))return null;const t=(e+"").match(eV);return t?Da(t[1]):null}root(){const e=this.parent(function(t){return Hc[t]}(k4));return e&&e.root()}setData(e){return this.dom=e,this}size(e,t){const n=mh(this,e,t);return this.width(new gr(n.width)).height(new gr(n.height))}width(e){return this.attr("width",e)}writeDataToDom(){return BN(this,this.dom),super.writeDataToDom()}x(e){return this.attr("x",e)}y(e){return this.attr("y",e)}};Rt(la,{bbox:function(){const r=d6(this,e=>e.getBBox(),e=>{try{const t=e.clone().addTo(bl().svg).show(),n=t.node.getBBox();return t.remove(),n}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}});return new Zn(r)},rbox:function(r){const e=d6(this,n=>n.getBoundingClientRect(),n=>{throw new Error(`Getting rbox of element "${n.node.nodeName}" is not possible`)}),t=new Zn(e);return r?t.transform(r.screenCTM().inverseO()):t.addOffset()},inside:function(r,e){const t=this.bbox();return r>t.x&&e>t.y&&r<t.x+t.width&&e<t.y+t.height},point:function(r,e){return new _r(r,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new Kt(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const r=this.rect(1,1),e=r.node.getScreenCTM();return r.remove(),new Kt(e)}return new Kt(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Kt}}}),ur(la,"Element");const ff={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(r,e){return e==="color"?r:r+"-"+e}};["fill","stroke"].forEach(function(r){const e={};let t;e[r]=function(n){if(n===void 0)return this.attr(r);if(typeof n=="string"||n instanceof Qi||Qi.isRgb(n)||n instanceof la)this.attr(r,n);else for(t=ff[r].length-1;t>=0;t--)n[ff[r][t]]!=null&&this.attr(ff.prefix(r,ff[r][t]),n[ff[r][t]]);return this},Zt(["Element","Runner"],e)}),Zt(["Element","Runner"],{matrix:function(r,e,t,n,a,s){return r==null?new Kt(this):this.attr("transform",new Kt(r,e,t,n,a,s))},rotate:function(r,e,t){return this.transform({rotate:r,ox:e,oy:t},!0)},skew:function(r,e,t,n){return arguments.length===1||arguments.length===3?this.transform({skew:r,ox:e,oy:t},!0):this.transform({skew:[r,e],ox:t,oy:n},!0)},shear:function(r,e,t){return this.transform({shear:r,ox:e,oy:t},!0)},scale:function(r,e,t,n){return arguments.length===1||arguments.length===3?this.transform({scale:r,ox:e,oy:t},!0):this.transform({scale:[r,e],ox:t,oy:n},!0)},translate:function(r,e){return this.transform({translate:[r,e]},!0)},relative:function(r,e){return this.transform({relative:[r,e]},!0)},flip:function(r="both",e="center"){return"xybothtrue".indexOf(r)===-1&&(e=r,r="both"),this.transform({flip:r,origin:e},!0)},opacity:function(r){return this.attr("opacity",r)}}),Zt("radius",{radius:function(r,e=r){return(this._element||this).type==="radialGradient"?this.attr("r",new gr(r)):this.rx(r).ry(e)}}),Zt("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(r){return new _r(this.node.getPointAtLength(r))}}),Zt(["Element","Runner"],{font:function(r,e){if(typeof r=="object"){for(e in r)this.font(e,r[e]);return this}return r==="leading"?this.leading(e):r==="anchor"?this.attr("text-anchor",e):r==="size"||r==="family"||r==="weight"||r==="stretch"||r==="variant"||r==="style"?this.attr("font-"+r,e):this.attr(r,e)}});Zt("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(r,e){return r[e]=function(t){return t===null?this.off(e):this.on(e,t),this},r},{})),Zt("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(tV).slice(0,-1).map(function(e){const t=e.trim().split("(");return[t[0],t[1].split(Ho).map(function(n){return parseFloat(n)})]}).reverse().reduce(function(e,t){return t[0]==="matrix"?e.lmultiply(Kt.fromArray(t[1])):e[t[0]].apply(e,t[1])},new Kt)},toParent:function(r,e){if(this===r)return this;if(T2(this.node))return this.addTo(r,e);const t=this.screenCTM(),n=r.screenCTM().inverse();return this.addTo(r,e).untransform().transform(n.multiply(t)),this},toRoot:function(r){return this.toParent(this.root(),r)},transform:function(r,e){if(r==null||typeof r=="string"){const n=new Kt(this).decompose();return r==null?n:n[r]}Kt.isMatrixLike(r)||(r={...r,origin:D2(r,this)});const t=new Kt(e===!0?this:e||!1).transform(r);return this.attr("transform",t)}});let js=class XN extends la{flatten(){return this.each(function(){if(this instanceof XN)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),t=e.index(this)){return t=t===-1?e.children().length:t,this.each(function(n,a){return a[a.length-n-1].toParent(e,t)}),this.remove()}};ur(js,"Container");let o1=class extends js{constructor(e,t=e){super(Rr("defs",e),t)}flatten(){return this}ungroup(){return this}};ur(o1,"Defs");let _s=class extends la{};function j4(r){return this.attr("rx",r)}function _4(r){return this.attr("ry",r)}function ZN(r){return r==null?this.cx()-this.rx():this.cx(r+this.rx())}function JN(r){return r==null?this.cy()-this.ry():this.cy(r+this.ry())}function KN(r){return this.attr("cx",r)}function QN(r){return this.attr("cy",r)}function eE(r){return r==null?2*this.rx():this.rx(new gr(r).divide(2))}function tE(r){return r==null?2*this.ry():this.ry(new gr(r).divide(2))}ur(_s,"Shape");var uV=Object.freeze({__proto__:null,cx:KN,cy:QN,height:tE,rx:j4,ry:_4,width:eE,x:ZN,y:JN});let Zm=class extends _s{constructor(e,t=e){super(Rr("ellipse",e),t)}size(e,t){const n=mh(this,e,t);return this.rx(new gr(n.width).divide(2)).ry(new gr(n.height).divide(2))}};Rt(Zm,uV),Zt("Container",{ellipse:Dr(function(r=0,e=r){return this.put(new Zm).size(r,e).move(0,0)})}),ur(Zm,"Ellipse");let rE=class extends Gu{constructor(e=dr.document.createDocumentFragment()){super(e)}xml(e,t,n){if(typeof e=="boolean"&&(n=t,t=e,e=null),e==null||typeof e=="function"){const a=new Gu(hp("wrapper",n));return a.add(this.node.cloneNode(!0)),a.xml(!1,n)}return super.xml(e,!1,n)}};function nE(r,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new gr(r),fy:new gr(e)}):this.attr({x1:new gr(r),y1:new gr(e)})}function aE(r,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new gr(r),cy:new gr(e)}):this.attr({x2:new gr(r),y2:new gr(e)})}ur(rE,"Fragment");var hV=Object.freeze({__proto__:null,from:nE,to:aE});let Ff=class extends js{constructor(e,t){super(Rr(e+"Gradient",typeof e=="string"?null:e),t)}attr(e,t,n){return e==="transform"&&(e="gradientTransform"),super.attr(e,t,n)}bbox(){return new Zn}targets(){return ld("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}};Rt(Ff,hV),Zt({Container:{gradient(...r){return this.defs().gradient(...r)}},Defs:{gradient:Dr(function(r,e){return this.put(new Ff(r)).update(e)})}}),ur(Ff,"Gradient");let fp=class extends js{constructor(e,t=e){super(Rr("pattern",e),t)}attr(e,t,n){return e==="transform"&&(e="patternTransform"),super.attr(e,t,n)}bbox(){return new Zn}targets(){return ld("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}};Zt({Container:{pattern(...r){return this.defs().pattern(...r)}},Defs:{pattern:Dr(function(r,e,t){return this.put(new fp).update(t).attr({x:0,y:0,width:r,height:e,patternUnits:"userSpaceOnUse"})})}}),ur(fp,"Pattern");let Jm=class extends _s{constructor(e,t=e){super(Rr("image",e),t)}load(e,t){if(!e)return this;const n=new dr.window.Image;return So(n,"load",function(a){const s=this.parent(fp);this.width()===0&&this.height()===0&&this.size(n.width,n.height),s instanceof fp&&s.width()===0&&s.height()===0&&s.size(this.width(),this.height()),typeof t=="function"&&t.call(this,a)},this),So(n,"load error",function(){Gs(n)}),this.attr("href",n.src=e,xh)}};var h6;h6=function(r,e,t){return r!=="fill"&&r!=="stroke"||nV.test(e)&&(e=t.root().defs().image(e)),e instanceof Jm&&(e=t.root().defs().pattern(0,0,n=>{n.add(e)})),e},YN.push(h6),Zt({Container:{image:Dr(function(r,e){return this.put(new Jm).size(0,0).load(r,e)})}}),ur(Jm,"Image");let Ul=class extends ed{bbox(){let e=-1/0,t=-1/0,n=1/0,a=1/0;return this.forEach(function(s){e=Math.max(s[0],e),t=Math.max(s[1],t),n=Math.min(s[0],n),a=Math.min(s[1],a)}),new Zn(n,a,e-n,t-a)}move(e,t){const n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(let a=this.length-1;a>=0;a--)this[a]=[this[a][0]+e,this[a][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(Ho).map(parseFloat)).length%2!=0&&e.pop();for(let n=0,a=e.length;n<a;n+=2)t.push([e[n],e[n+1]]);return t}size(e,t){let n;const a=this.bbox();for(n=this.length-1;n>=0;n--)a.width&&(this[n][0]=(this[n][0]-a.x)*e/a.width+a.x),a.height&&(this[n][1]=(this[n][1]-a.y)*t/a.height+a.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,n=this.length;t<n;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){Kt.isMatrixLike(e)||(e=new Kt(e));for(let t=this.length;t--;){const[n,a]=this[t];this[t][0]=e.a*n+e.c*a+e.e,this[t][1]=e.b*n+e.d*a+e.f}return this}};const fV=Ul;var N4=Object.freeze({__proto__:null,MorphArray:fV,height:function(r){const e=this.bbox();return r==null?e.height:this.size(e.width,r)},width:function(r){const e=this.bbox();return r==null?e.width:this.size(r,e.height)},x:function(r){return r==null?this.bbox().x:this.move(r,this.bbox().y)},y:function(r){return r==null?this.bbox().y:this.move(this.bbox().x,r)}});let Tc=class extends _s{constructor(r,e=r){super(Rr("line",r),e)}array(){return new Ul([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(r,e){return this.attr(this.array().move(r,e).toLine())}plot(r,e,t,n){return r==null?this.array():(r=e!==void 0?{x1:r,y1:e,x2:t,y2:n}:new Ul(r).toLine(),this.attr(r))}size(r,e){const t=mh(this,r,e);return this.attr(this.array().size(t.width,t.height).toLine())}};Rt(Tc,N4),Zt({Container:{line:Dr(function(...r){return Tc.prototype.plot.apply(this.put(new Tc),r[0]!=null?r:[0,0,0,0])})}}),ur(Tc,"Line");let Km=class extends js{constructor(e,t=e){super(Rr("marker",e),t)}height(e){return this.attr("markerHeight",e)}orient(e){return this.attr("orient",e)}ref(e,t){return this.attr("refX",e).attr("refY",t)}toString(){return"url(#"+this.id()+")"}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}width(e){return this.attr("markerWidth",e)}};function fu(r,e){return function(t){return t==null?this[r]:(this[r]=t,e&&e.call(this),this)}}Zt({Container:{marker(...r){return this.defs().marker(...r)}},Defs:{marker:Dr(function(r,e,t){return this.put(new Km).size(r,e).ref(r/2,e/2).viewbox(0,0,r,e).attr("orient","auto").update(t)})},marker:{marker(r,e,t,n){let a=["marker"];return r!=="all"&&a.push(r),a=a.join("-"),r=arguments[1]instanceof Km?arguments[1]:this.defs().marker(e,t,n),this.attr(a,r)}}}),ur(Km,"Marker");const pV={"-":function(r){return r},"<>":function(r){return-Math.cos(r*Math.PI)/2+.5},">":function(r){return Math.sin(r*Math.PI/2)},"<":function(r){return 1-Math.cos(r*Math.PI/2)},bezier:function(r,e,t,n){return function(a){return a<0?r>0?e/r*a:t>0?n/t*a:0:a>1?t<1?(1-n)/(1-t)*a+(n-t)/(1-t):r<1?(1-e)/(1-r)*a+(e-r)/(1-r):1:3*a*(1-a)**2*e+3*a**2*(1-a)*n+a**3}},steps:function(r,e="end"){e=e.split("-").reverse()[0];let t=r;return e==="none"?--t:e==="both"&&++t,(n,a=!1)=>{let s=Math.floor(n*r);const i=n*s%1==0;return e!=="start"&&e!=="both"||++s,a&&i&&--s,n>=0&&s<0&&(s=0),n<=1&&s>t&&(s=t),s/t}}};let E4=class{done(){return!1}},R2=class extends E4{constructor(e=oV){super(),this.ease=pV[e]||e}step(e,t,n){return typeof e!="number"?n<1?e:t:e+(t-e)*this.ease(n)}};class J0 extends E4{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,n,a){return this.stepper(e,t,n,a)}}function f6(){const r=(this._duration||500)/1e3,e=this._overshoot||0,t=Math.PI,n=Math.log(e/100+1e-10),a=-n/Math.sqrt(t*t+n*n),s=3.9/(a*r);this.d=2*a*s,this.k=s*s}Rt(class extends J0{constructor(r=500,e=0){super(),this.duration(r).overshoot(e)}step(r,e,t,n){if(typeof r=="string")return r;if(n.done=t===1/0,t===1/0)return e;if(t===0)return r;t>100&&(t=16),t/=1e3;const a=n.velocity||0,s=-this.d*a-this.k*(r-e),i=r+a*t+s*t*t/2;return n.velocity=a+s*t,n.done=Math.abs(e-i)+Math.abs(a)<.002,n.done?e:i}},{duration:fu("_duration",f6),overshoot:fu("_overshoot",f6)});Rt(class extends J0{constructor(r=.1,e=.01,t=0,n=1e3){super(),this.p(r).i(e).d(t).windup(n)}step(r,e,t,n){if(typeof r=="string")return r;if(n.done=t===1/0,t===1/0)return e;if(t===0)return r;const a=e-r;let s=(n.integral||0)+a*t;const i=(a-(n.error||0))/t,l=this._windup;return l!==!1&&(s=Math.max(-l,Math.min(s,l))),n.error=a,n.integral=s,n.done=Math.abs(a)<.001,n.done?e:r+(this.P*a+this.I*s+this.D*i)}},{windup:fu("_windup"),p:fu("P"),i:fu("I"),d:fu("D")});const gV={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},M2={M:function(r,e,t){return e.x=t.x=r[0],e.y=t.y=r[1],["M",e.x,e.y]},L:function(r,e){return e.x=r[0],e.y=r[1],["L",r[0],r[1]]},H:function(r,e){return e.x=r[0],["H",r[0]]},V:function(r,e){return e.y=r[0],["V",r[0]]},C:function(r,e){return e.x=r[4],e.y=r[5],["C",r[0],r[1],r[2],r[3],r[4],r[5]]},S:function(r,e){return e.x=r[2],e.y=r[3],["S",r[0],r[1],r[2],r[3]]},Q:function(r,e){return e.x=r[2],e.y=r[3],["Q",r[0],r[1],r[2],r[3]]},T:function(r,e){return e.x=r[0],e.y=r[1],["T",r[0],r[1]]},Z:function(r,e,t){return e.x=t.x,e.y=t.y,["Z"]},A:function(r,e){return e.x=r[5],e.y=r[6],["A",r[0],r[1],r[2],r[3],r[4],r[5],r[6]]}},rb="mlhvqtcsaz".split("");for(let r=0,e=rb.length;r<e;++r)M2[rb[r]]=function(t){return function(n,a,s){if(t==="H")n[0]=n[0]+a.x;else if(t==="V")n[0]=n[0]+a.y;else if(t==="A")n[5]=n[5]+a.x,n[6]=n[6]+a.y;else for(let i=0,l=n.length;i<l;++i)n[i]=n[i]+(i%2?a.y:a.x);return M2[t](n,a,s)}}(rb[r].toUpperCase());function I2(r){return r.segment.length&&r.segment.length-1===gV[r.segment[0].toUpperCase()]}function mV(r,e){r.inNumber&&bc(r,!1);const t=C4.test(e);if(t)r.segment=[e];else{const n=r.lastCommand,a=n.toLowerCase(),s=n===a;r.segment=[a==="m"?s?"l":"L":n]}return r.inSegment=!0,r.lastCommand=r.segment[0],t}function bc(r,e){if(!r.inNumber)throw new Error("Parser Error");r.number&&r.segment.push(parseFloat(r.number)),r.inNumber=e,r.number="",r.pointSeen=!1,r.hasExponent=!1,I2(r)&&O2(r)}function O2(r){r.inSegment=!1,r.absolute&&(r.segment=function(e){const t=e.segment[0];return M2[t](e.segment.slice(1),e.p,e.p0)}(r)),r.segments.push(r.segment)}function xV(r){if(!r.segment.length)return!1;const e=r.segment[0].toUpperCase()==="A",t=r.segment.length;return e&&(t===4||t===5)}function vV(r){return r.lastToken.toUpperCase()==="E"}const bV=new Set([" ",",","	",`
`,"\r","\f"]);class bi extends ed{bbox(){return bl().path.setAttribute("d",this.toString()),new Zn(bl.nodes.path.getBBox())}move(e,t){const n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(let a,s=this.length-1;s>=0;s--)a=this[s][0],a==="M"||a==="L"||a==="T"?(this[s][1]+=e,this[s][2]+=t):a==="H"?this[s][1]+=e:a==="V"?this[s][1]+=t:a==="C"||a==="S"||a==="Q"?(this[s][1]+=e,this[s][2]+=t,this[s][3]+=e,this[s][4]+=t,a==="C"&&(this[s][5]+=e,this[s][6]+=t)):a==="A"&&(this[s][6]+=e,this[s][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(t,n=!0){let a=0,s="";const i={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:n,p0:new _r,p:new _r};for(;i.lastToken=s,s=t.charAt(a++);)if(i.inSegment||!mV(i,s))if(s!==".")if(isNaN(parseInt(s)))if(bV.has(s))i.inNumber&&bc(i,!1);else if(s!=="-"&&s!=="+")if(s.toUpperCase()!=="E"){if(C4.test(s)){if(i.inNumber)bc(i,!1);else{if(!I2(i))throw new Error("parser Error");O2(i)}--a}}else i.number+=s,i.hasExponent=!0;else{if(i.inNumber&&!vV(i)){bc(i,!1),--a;continue}i.number+=s,i.inNumber=!0}else{if(i.number==="0"||xV(i)){i.inNumber=!0,i.number=s,bc(i,!0);continue}i.inNumber=!0,i.number+=s}else{if(i.pointSeen||i.hasExponent){bc(i,!1),--a;continue}i.inNumber=!0,i.pointSeen=!0,i.number+=s}return i.inNumber&&bc(i,!1),i.inSegment&&I2(i)&&O2(i),i.segments}(e)}size(e,t){const n=this.bbox();let a,s;for(n.width=n.width===0?1:n.width,n.height=n.height===0?1:n.height,a=this.length-1;a>=0;a--)s=this[a][0],s==="M"||s==="L"||s==="T"?(this[a][1]=(this[a][1]-n.x)*e/n.width+n.x,this[a][2]=(this[a][2]-n.y)*t/n.height+n.y):s==="H"?this[a][1]=(this[a][1]-n.x)*e/n.width+n.x:s==="V"?this[a][1]=(this[a][1]-n.y)*t/n.height+n.y:s==="C"||s==="S"||s==="Q"?(this[a][1]=(this[a][1]-n.x)*e/n.width+n.x,this[a][2]=(this[a][2]-n.y)*t/n.height+n.y,this[a][3]=(this[a][3]-n.x)*e/n.width+n.x,this[a][4]=(this[a][4]-n.y)*t/n.height+n.y,s==="C"&&(this[a][5]=(this[a][5]-n.x)*e/n.width+n.x,this[a][6]=(this[a][6]-n.y)*t/n.height+n.y)):s==="A"&&(this[a][1]=this[a][1]*e/n.width,this[a][2]=this[a][2]*t/n.height,this[a][6]=(this[a][6]-n.x)*e/n.width+n.x,this[a][7]=(this[a][7]-n.y)*t/n.height+n.y);return this}toString(){return function(e){let t="";for(let n=0,a=e.length;n<a;n++)t+=e[n][0],e[n][1]!=null&&(t+=e[n][1],e[n][2]!=null&&(t+=" ",t+=e[n][2],e[n][3]!=null&&(t+=" ",t+=e[n][3],t+=" ",t+=e[n][4],e[n][5]!=null&&(t+=" ",t+=e[n][5],t+=" ",t+=e[n][6],e[n][7]!=null&&(t+=" ",t+=e[n][7])))));return t+" "}(this)}}const sE=r=>{const e=typeof r;return e==="number"?gr:e==="string"?Qi.isColor(r)?Qi:Ho.test(r)?C4.test(r)?bi:ed:UN.test(r)?gr:F2:B2.indexOf(r.constructor)>-1?r.constructor:Array.isArray(r)?ed:e==="object"?pp:F2};class yc{constructor(e){this._stepper=e||new R2("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,t){return e&&t},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(sE(e));let t=new this._type(e);return this._type===Qi&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===pp&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map(function(n){return n.done=!0,n}),t}}class F2{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class Vp{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,Vp.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}Vp.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const yV=(r,e)=>r[0]<e[0]?-1:r[0]>e[0]?1:0;class pp{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let n=0,a=t.length;n<a;++n){if(t[n+1]===e[n+1]){if(t[n+1]===Qi&&e[n+7]!==t[n+7]){const l=e[n+7],c=new Qi(this.values.splice(n+3,5))[l]().toArray();this.values.splice(n+3,0,...c)}n+=t[n+2]+2;continue}if(!e[n+1])return this;const s=new e[n+1]().toArray(),i=t[n+2]+3;t.splice(n,i,e[n],e[n+1],e[n+2],...s),n+=t[n+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const n in e){const a=sE(e[n]),s=new a(e[n]).toArray();t.push([n,a,s.length,...s])}return t.sort(yV),this.values=t.reduce((n,a)=>n.concat(a),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const n=t.shift(),a=t.shift(),s=t.shift(),i=t.splice(0,s);e[n]=new a(i)}return e}}const B2=[F2,Vp,pp];class Nu extends _s{constructor(e,t=e){super(Rr("path",e),t)}array(){return this._array||(this._array=new bi(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new bi(e))}size(e,t){const n=mh(this,e,t);return this.attr("d",this.array().size(n.width,n.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}Nu.prototype.MorphArray=bi,Zt({Container:{path:Dr(function(r){return this.put(new Nu).plot(r||new bi)})}}),ur(Nu,"Path");var iE=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new Ul(this.attr("points")))},clear:function(){return delete this._array,this},move:function(r,e){return this.attr("points",this.array().move(r,e))},plot:function(r){return r==null?this.array():this.clear().attr("points",typeof r=="string"?r:this._array=new Ul(r))},size:function(r,e){const t=mh(this,r,e);return this.attr("points",this.array().size(t.width,t.height))}});class Rc extends _s{constructor(e,t=e){super(Rr("polygon",e),t)}}Zt({Container:{polygon:Dr(function(r){return this.put(new Rc).plot(r||new Ul)})}}),Rt(Rc,N4),Rt(Rc,iE),ur(Rc,"Polygon");class Mc extends _s{constructor(e,t=e){super(Rr("polyline",e),t)}}Zt({Container:{polyline:Dr(function(r){return this.put(new Mc).plot(r||new Ul)})}}),Rt(Mc,N4),Rt(Mc,iE),ur(Mc,"Polyline");class Qm extends _s{constructor(e,t=e){super(Rr("rect",e),t)}}Rt(Qm,{rx:j4,ry:_4}),Zt({Container:{rect:Dr(function(r,e){return this.put(new Qm).size(r,e)})}}),ur(Qm,"Rect");class nb{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const wr={nextDraw:null,frames:new nb,timeouts:new nb,immediates:new nb,timer:()=>dr.window.performance||dr.window.Date,transforms:[],frame(r){const e=wr.frames.push({run:r});return wr.nextDraw===null&&(wr.nextDraw=dr.window.requestAnimationFrame(wr._draw)),e},timeout(r,e){e=e||0;const t=wr.timer().now()+e,n=wr.timeouts.push({run:r,time:t});return wr.nextDraw===null&&(wr.nextDraw=dr.window.requestAnimationFrame(wr._draw)),n},immediate(r){const e=wr.immediates.push(r);return wr.nextDraw===null&&(wr.nextDraw=dr.window.requestAnimationFrame(wr._draw)),e},cancelFrame(r){r!=null&&wr.frames.remove(r)},clearTimeout(r){r!=null&&wr.timeouts.remove(r)},cancelImmediate(r){r!=null&&wr.immediates.remove(r)},_draw(r){let e=null;const t=wr.timeouts.last();for(;(e=wr.timeouts.shift())&&(r>=e.time?e.run():wr.timeouts.push(e),e!==t););let n=null;const a=wr.frames.last();for(;n!==a&&(n=wr.frames.shift());)n.run(r);let s=null;for(;s=wr.immediates.shift();)s();wr.nextDraw=wr.timeouts.first()||wr.frames.first()?dr.window.requestAnimationFrame(wr._draw):null}},wV=function(r){const e=r.start,t=r.runner.duration();return{start:e,duration:t,end:e+t,runner:r.runner}},kV=function(){const r=dr.window;return(r.performance||r.Date).now()};class oE extends Up{constructor(e=kV){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map(t=>t.start+t.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(e==null)return this.speed(-t);const n=Math.abs(t);return this.speed(e?-n:n)}schedule(e,t,n){if(e==null)return this._runners.map(wV);let a=0;const s=this.getEndTime();if(t=t||0,n==null||n==="last"||n==="after")a=s;else if(n==="absolute"||n==="start")a=t,t=0;else if(n==="now")a=this._time;else if(n==="relative"){const c=this.getRunnerInfoById(e.id);c&&(a=c.start+t,t=0)}else{if(n!=="with-last")throw new Error('Invalid value for the "when" parameter');{const c=this.getLastRunnerInfo();a=c?c.start:this._time}}e.unschedule(),e.timeline(this);const i=e.persist(),l={persist:i===null?this._persist:i,start:a+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(l),this._runners.sort((c,d)=>c.start-d.start),this._runnerIds=this._runners.map(c=>c.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return wr.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=wr.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let n=t-this._lastSourceTime;e&&(n=0);const a=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=a,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let i=this._runners.length;i--;){const l=this._runners[i],c=l.runner;this._time-l.start<=0&&c.reset()}let s=!1;for(let i=0,l=this._runners.length;i<l;i++){const c=this._runners[i],d=c.runner;let u=a;const h=this._time-c.start;if(h<=0){s=!0;continue}h<u&&(u=h),d.active()&&(d.step(u).done?c.persist!==!0&&d.duration()-d.time()+this._time+c.persist<this._time&&(d.unschedule(),--i,--l):s=!0)}return s&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}Zt({Element:{timeline:function(r){return r==null?(this._timeline=this._timeline||new oE,this._timeline):(this._timeline=r,this)}}});class bs extends Up{constructor(e){super(),this.id=bs.id++,e=typeof(e=e??tb)=="function"?new J0(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof J0,this._stepper=this._isDeclarative?e:new R2,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Kt,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,n){let a=1,s=!1,i=0;return t=t??lV,n=n||"last",typeof(e=e??tb)!="object"||e instanceof E4||(t=e.delay??t,n=e.when??n,s=e.swing||s,a=e.times??a,i=e.wait??i,e=e.duration??tb),{duration:e,delay:t,swing:s,times:a,wait:i,when:n}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,n){const a=bs.sanitise(e,t,n),s=new bs(a.duration);return this._timeline&&s.timeline(this._timeline),this._element&&s.element(this._element),s.loop(a).schedule(a.delay,a.when)}clearTransform(){return this.transforms=new Kt,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new R2(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,n){return typeof e=="object"&&(t=e.swing,n=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=n||0,this._times===!0&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(e==null){const s=Math.floor(this._time/t),i=(this._time-s*t)/this._duration;return Math.min(s+i,this._times)}const n=e%1,a=t*Math.floor(e)+this._duration*n;return this.time(a)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const t=this._time,n=this._duration,a=this._wait,s=this._times,i=this._swing,l=this._reverse;let c;if(e==null){const h=function(p){const m=i*Math.floor(p%(2*(a+n))/(a+n)),g=m&&!l||!m&&l,v=Math.pow(-1,g)*(p%(a+n))/n+g;return Math.max(Math.min(v,1),0)},f=s*(a+n)-a;return c=t<=0?Math.round(h(1e-5)):t<f?h(t):Math.round(h(f-1e-5)),c}const d=Math.floor(this.loops()),u=i&&d%2==0;return c=d+(u&&!l||l&&u?e:1-e),this.loops(c)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,n,a){return this._queue.push({initialiser:e||u6,runner:t||u6,retarget:n,isTransform:a,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,t,n){if(e instanceof oE||(n=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,n),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const t=this.position(),n=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const a=this.duration(),s=this._lastTime<=0&&this._time>0,i=this._lastTime<a&&this._time>=a;this._lastTime=this._time,s&&this.fire("start",this);const l=this._isDeclarative;this.done=!l&&!i&&this._time>=a,this._reseted=!1;let c=!1;return(n||l)&&(this._initialise(n),this.transforms=new Kt,c=this._run(l?e:t),this.fire("step",this)),this.done=this.done||c&&l,i&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,n=this._queue.length;t<n;++t){const a=this._queue[t],s=this._isDeclarative||!a.initialised&&e;e=!a.finished,s&&e&&(a.initialiser.call(this),a.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const n=this.timeline();n&&n.play()}}_run(e){let t=!0;for(let n=0,a=this._queue.length;n<a;++n){const s=this._queue[n],i=s.runner.call(this,e);s.finished=s.finished||i===!0,t=t&&s.finished}return t}_tryRetarget(e,t,n){if(this._history[e]){if(!this._history[e].caller.initialised){const s=this._queue.indexOf(this._history[e].caller);return this._queue.splice(s,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,n):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const a=this.timeline();return a&&a.play(),!0}return!1}}bs.id=0;class K0{constructor(e=new Kt,t=-1,n=!0){this.transforms=e,this.id=t,this.done=n}clearTransformsFromQueue(){}}Rt([bs,K0],{mergeWith(r){return new K0(r.transforms.lmultiply(this.transforms),r.id)}});const lE=(r,e)=>r.lmultiplyO(e),cE=r=>r.transforms;function CV(){const r=this._transformationRunners.runners.map(cE).reduce(lE,new Kt);this.transform(r),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class SV{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new K0).forEach(n=>n.clearTransformsFromQueue()),this}edit(e,t){const n=this.ids.indexOf(e+1);return this.ids.splice(n,1,e+1),this.runners.splice(n,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const n=this.runners[t];if(e&&n.done&&e.done&&(!n._timeline||!n._timeline._runnerIds.includes(n.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(n.id);const a=n.mergeWith(e);this.edit(e.id,a),e=a,--t}else e=n}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}Zt({Element:{animate(r,e,t){const n=bs.sanitise(r,e,t),a=this.timeline();return new bs(n.duration).loop(n).element(this).timeline(a.play()).schedule(n.delay,n.when)},delay(r,e){return this.animate(0,r,e)},_clearTransformRunnersBefore(r){this._transformationRunners.clearBefore(r.id)},_currentTransform(r){return this._transformationRunners.runners.filter(e=>e.id<=r.id).map(cE).reduce(lE,new Kt)},_addRunner(r){this._transformationRunners.add(r),wr.cancelImmediate(this._frameId),this._frameId=wr.immediate(CV.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new SV().add(new K0(new Kt(this))))}}});Rt(bs,{attr(r,e){return this.styleAttr("attr",r,e)},css(r,e){return this.styleAttr("css",r,e)},styleAttr(r,e,t){if(typeof e=="string")return this.styleAttr(r,{[e]:t});let n=e;if(this._tryRetarget(r,n))return this;let a=new yc(this._stepper).to(n),s=Object.keys(n);return this.queue(function(){a=a.from(this.element()[r](s))},function(i){return this.element()[r](a.at(i).valueOf()),a.done()},function(i){const l=Object.keys(i),c=(d=s,l.filter(h=>!d.includes(h)));var d;if(c.length){const h=this.element()[r](c),f=new pp(a.from()).valueOf();Object.assign(f,h),a.from(f)}const u=new pp(a.to()).valueOf();Object.assign(u,i),a.to(u),s=l,n=i}),this._rememberMorpher(r,a),this},zoom(r,e){if(this._tryRetarget("zoom",r,e))return this;let t=new yc(this._stepper).to(new gr(r));return this.queue(function(){t=t.from(this.element().zoom())},function(n){return this.element().zoom(t.at(n),e),t.done()},function(n,a){e=a,t.to(n)}),this._rememberMorpher("zoom",t),this},transform(r,e,t){if(e=r.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",r))return this;const n=Kt.isMatrixLike(r);t=r.affine!=null?r.affine:t??!n;const a=new yc(this._stepper).type(t?Vp:Kt);let s,i,l,c,d;return this.queue(function(){i=i||this.element(),s=s||D2(r,i),d=new Kt(e?void 0:i),i._addRunner(this),e||i._clearTransformRunnersBefore(this)},function(u){e||this.clearTransform();const{x:h,y:f}=new _r(s).transform(i._currentTransform(this));let p=new Kt({...r,origin:[h,f]}),m=this._isDeclarative&&l?l:d;if(t){p=p.decompose(h,f),m=m.decompose(h,f);const v=p.rotate,x=m.rotate,b=[v-360,v,v+360],y=b.map(_=>Math.abs(_-x)),C=Math.min(...y),S=y.indexOf(C);p.rotate=b[S]}e&&(n||(p.rotate=r.rotate||0),this._isDeclarative&&c&&(m.rotate=c)),a.from(m),a.to(p);const g=a.at(u);return c=g.rotate,l=new Kt(g),this.addTransform(l),i._addRunner(this),a.done()},function(u){(u.origin||"center").toString()!==(r.origin||"center").toString()&&(s=D2(u,i)),r={...u,origin:s}},!0),this._isDeclarative&&this._rememberMorpher("transform",a),this},x(r){return this._queueNumber("x",r)},y(r){return this._queueNumber("y",r)},ax(r){return this._queueNumber("ax",r)},ay(r){return this._queueNumber("ay",r)},dx(r=0){return this._queueNumberDelta("x",r)},dy(r=0){return this._queueNumberDelta("y",r)},dmove(r,e){return this.dx(r).dy(e)},_queueNumberDelta(r,e){if(e=new gr(e),this._tryRetarget(r,e))return this;const t=new yc(this._stepper).to(e);let n=null;return this.queue(function(){n=this.element()[r](),t.from(n),t.to(n+e)},function(a){return this.element()[r](t.at(a)),t.done()},function(a){t.to(n+new gr(a))}),this._rememberMorpher(r,t),this},_queueObject(r,e){if(this._tryRetarget(r,e))return this;const t=new yc(this._stepper).to(e);return this.queue(function(){t.from(this.element()[r]())},function(n){return this.element()[r](t.at(n)),t.done()}),this._rememberMorpher(r,t),this},_queueNumber(r,e){return this._queueObject(r,new gr(e))},cx(r){return this._queueNumber("cx",r)},cy(r){return this._queueNumber("cy",r)},move(r,e){return this.x(r).y(e)},amove(r,e){return this.ax(r).ay(e)},center(r,e){return this.cx(r).cy(e)},size(r,e){let t;return r&&e||(t=this._element.bbox()),r||(r=t.width/t.height*e),e||(e=t.height/t.width*r),this.width(r).height(e)},width(r){return this._queueNumber("width",r)},height(r){return this._queueNumber("height",r)},plot(r,e,t,n){if(arguments.length===4)return this.plot([r,e,t,n]);if(this._tryRetarget("plot",r))return this;const a=new yc(this._stepper).type(this._element.MorphArray).to(r);return this.queue(function(){a.from(this._element.array())},function(s){return this._element.plot(a.at(s)),a.done()}),this._rememberMorpher("plot",a),this},leading(r){return this._queueNumber("leading",r)},viewbox(r,e,t,n){return this._queueObject("viewbox",new Zn(r,e,t,n))},update(r){return typeof r!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(r.opacity!=null&&this.attr("stop-opacity",r.opacity),r.color!=null&&this.attr("stop-color",r.color),r.offset!=null&&this.attr("offset",r.offset),this)}}),Rt(bs,{rx:j4,ry:_4,from:nE,to:aE}),ur(bs,"Runner");class z2 extends js{constructor(e,t=e){super(Rr("svg",e),t),this.namespace()}defs(){return this.isRoot()?Us(this.node.querySelector("defs"))||this.put(new o1):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof dr.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:y4,version:"1.1"}).attr("xmlns:xlink",xh,Kv):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Kv).attr("xmlns:svgjs",null,Kv)}root(){return this.isRoot()?this:super.root()}}Zt({Container:{nested:Dr(function(){return this.put(new z2)})}}),ur(z2,"Svg",!0);let H2=class extends js{constructor(r,e=r){super(Rr("symbol",r),e)}};Zt({Container:{symbol:Dr(function(){return this.put(new H2)})}}),ur(H2,"Symbol");var dE=Object.freeze({__proto__:null,amove:function(r,e){return this.ax(r).ay(e)},ax:function(r){return this.attr("x",r)},ay:function(r){return this.attr("y",r)},build:function(r){return this._build=!!r,this},center:function(r,e,t=this.bbox()){return this.cx(r,t).cy(e,t)},cx:function(r,e=this.bbox()){return r==null?e.cx:this.attr("x",this.attr("x")+r-e.cx)},cy:function(r,e=this.bbox()){return r==null?e.cy:this.attr("y",this.attr("y")+r-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(r,e,t=this.bbox()){return this.x(r,t).y(e,t)},plain:function(r){return this._build===!1&&this.clear(),this.node.appendChild(dr.document.createTextNode(r)),this},x:function(r,e=this.bbox()){return r==null?e.x:this.attr("x",this.attr("x")+r-e.x)},y:function(r,e=this.bbox()){return r==null?e.y:this.attr("y",this.attr("y")+r-e.y)}});class yi extends _s{constructor(e,t=e){super(Rr("text",e),t),this.dom.leading=this.dom.leading??new gr(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new gr(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const t=this;let n=0;const a=this.dom.leading;this.each(function(s){if(T2(this.node))return;const i=dr.window.getComputedStyle(this.node).getPropertyValue("font-size"),l=a*new gr(i);this.dom.newLined&&(this.attr("x",t.attr("x")),this.text()===`
`?n+=l:(this.attr("dy",s?l+n:0),n=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new gr(e.leading||1.3),this}writeDataToDom(){return BN(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const t=this.node.childNodes;let n=0;e="";for(let a=0,s=t.length;a<s;++a)t[a].nodeName==="textPath"||T2(t[a])?a===0&&(n=a+1):(a!==n&&t[a].nodeType!==3&&Us(t[a]).dom.newLined===!0&&(e+=`
`),e+=t[a].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let t=0,n=(e=(e+"").split(`
`)).length;t<n;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}Rt(yi,dE),Zt({Container:{text:Dr(function(r=""){return this.put(new yi).text(r)}),plain:Dr(function(r=""){return this.put(new yi).plain(r)})}}),ur(yi,"Text");class e0 extends _s{constructor(e,t=e){super(Rr("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof yi))return this;const t=e.index(this),n=dr.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=e.dom.leading*new gr(n);return this.dy(t?a:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}Rt(e0,dE),Zt({Tspan:{tspan:Dr(function(r=""){const e=new e0;return this._build||this.clear(),this.put(e).text(r)})},Text:{newLine:function(r=""){return this.tspan(r).newLine()}}}),ur(e0,"Tspan");class ab extends _s{constructor(e,t=e){super(Rr("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new gr(e).divide(2))}}Rt(ab,{x:ZN,y:JN,cx:KN,cy:QN,width:eE,height:tE}),Zt({Container:{circle:Dr(function(r=0){return this.put(new ab).size(r).move(0,0)})}}),ur(ab,"Circle");class sb extends js{constructor(e,t=e){super(Rr("clipPath",e),t)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return ld("svg [clip-path*="+this.id()+"]")}}Zt({Container:{clip:Dr(function(){return this.defs().put(new sb)})},Element:{clipper(){return this.reference("clip-path")},clipWith(r){const e=r instanceof sb?r:this.parent().clip().add(r);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),ur(sb,"ClipPath");class p6 extends la{constructor(e,t=e){super(Rr("foreignObject",e),t)}}Zt({Container:{foreignObject:Dr(function(r,e){return this.put(new p6).size(r,e)})}}),ur(p6,"ForeignObject");var uE=Object.freeze({__proto__:null,dmove:function(r,e){return this.children().forEach(t=>{let n;try{n=t.node instanceof Hp().SVGSVGElement?new Zn(t.attr(["x","y","width","height"])):t.bbox()}catch{return}const a=new Kt(t),s=a.translate(r,e).transform(a.inverse()),i=new _r(n.x,n.y).transform(s);t.move(i.x,i.y)}),this},dx:function(r){return this.dmove(r,0)},dy:function(r){return this.dmove(0,r)},height:function(r,e=this.bbox()){return r==null?e.height:this.size(e.width,r,e)},move:function(r=0,e=0,t=this.bbox()){const n=r-t.x,a=e-t.y;return this.dmove(n,a)},size:function(r,e,t=this.bbox()){const n=mh(this,r,e,t),a=n.width/t.width,s=n.height/t.height;return this.children().forEach(i=>{const l=new _r(t).transform(new Kt(i).inverse());i.scale(a,s,l.x,l.y)}),this},width:function(r,e=this.bbox()){return r==null?e.width:this.size(r,e.height,e)},x:function(r,e=this.bbox()){return r==null?e.x:this.move(r,e.y,e)},y:function(r,e=this.bbox()){return r==null?e.y:this.move(e.x,r,e)}});class Il extends js{constructor(e,t=e){super(Rr("g",e),t)}}Rt(Il,uE),Zt({Container:{group:Dr(function(){return this.put(new Il)})}}),ur(Il,"G");class cm extends js{constructor(e,t=e){super(Rr("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,xh)}}Rt(cm,uE),Zt({Container:{link:Dr(function(r){return this.put(new cm).to(r)})},Element:{unlink(){const r=this.linker();if(!r)return this;const e=r.parent();if(!e)return this.remove();const t=e.index(r);return e.add(this,t),r.remove(),this},linkTo(r){let e=this.linker();return e||(e=new cm,this.wrap(e)),typeof r=="function"?r.call(e,e):e.to(r),this},linker(){const r=this.parent();return r&&r.node.nodeName.toLowerCase()==="a"?r:null}}}),ur(cm,"A");class ib extends js{constructor(e,t=e){super(Rr("mask",e),t)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return ld("svg [mask*="+this.id()+"]")}}Zt({Container:{mask:Dr(function(){return this.defs().put(new ib)})},Element:{masker(){return this.reference("mask")},maskWith(r){const e=r instanceof ib?r:this.parent().mask().add(r);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),ur(ib,"Mask");class g6 extends la{constructor(e,t=e){super(Rr("stop",e),t)}update(e){return(typeof e=="number"||e instanceof gr)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new gr(e.offset)),this}}Zt({Gradient:{stop:function(r,e,t){return this.put(new g6).update(r,e,t)}}}),ur(g6,"Stop");class ob extends la{constructor(e,t=e){super(Rr("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,n={}){return this.rule("@font-face",{fontFamily:e,src:t,...n})}rule(e,t){return this.addText(function(n,a){if(!n)return"";if(!a)return n;let s=n+"{";for(const i in a)s+=i.replace(/([A-Z])/g,function(l,c){return"-"+c.toLowerCase()})+":"+a[i]+";";return s+="}",s}(e,t))}}Zt("Dom",{style(r,e){return this.put(new ob).rule(r,e)},fontface(r,e,t){return this.put(new ob).font(r,e,t)}}),ur(ob,"Style");class lb extends yi{constructor(e,t=e){super(Rr("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let n=null;return t&&(n=t.plot(e)),e==null?n:this}track(){return this.reference("href")}}Zt({Container:{textPath:Dr(function(r,e){return r instanceof yi||(r=this.text(r)),r.path(e)})},Text:{path:Dr(function(r,e=!0){const t=new lb;let n;if(r instanceof Nu||(r=this.defs().path(r)),t.attr("href","#"+r,xh),e)for(;n=this.node.firstChild;)t.node.appendChild(n);return this.put(t)}),textPath(){return this.findOne("textPath")}},Path:{text:Dr(function(r){return r instanceof yi||(r=new yi().addTo(this.parent()).text(r)),r.path(this)}),targets(){return ld("svg textPath").filter(r=>(r.attr("href")||"").includes(this.id()))}}}),lb.prototype.MorphArray=bi,ur(lb,"TextPath");class m6 extends _s{constructor(e,t=e){super(Rr("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,xh)}}Zt({Container:{use:Dr(function(r,e){return this.put(new m6).use(r,e)})}}),ur(m6,"Use");const jV=Da;Rt([z2,H2,Jm,fp,Km],Wa("viewbox")),Rt([Tc,Mc,Rc,Nu],Wa("marker")),Rt(yi,Wa("Text")),Rt(Nu,Wa("Path")),Rt(o1,Wa("Defs")),Rt([yi,e0],Wa("Tspan")),Rt([Qm,Zm,Ff,bs],Wa("radius")),Rt(Up,Wa("EventTarget")),Rt(Gu,Wa("Dom")),Rt(la,Wa("Element")),Rt(_s,Wa("Shape")),Rt([js,rE],Wa("Container")),Rt(Ff,Wa("Gradient")),Rt(bs,Wa("Runner")),Qc.extend([...new Set(ON)]),function(r=[]){B2.push(...[].concat(r))}([gr,Qi,Zn,Kt,ed,Ul,bi,_r]),Rt(B2,{to(r){return new yc().type(this.constructor).from(this.toArray()).to(r)},fromArray(r){return this.init(r),this},toConsumable(){return this.toArray()},morph(r,e,t,n,a){return this.fromArray(r.map(function(s,i){return n.step(s,e[i],t,a[i],a)}))}});class Hr extends la{constructor(e){super(Rr("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,t){return!(e=super.put(e,t)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return ld('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class A4 extends la{constructor(e,t){super(e,t),this.result(this.id())}in(e){if(e==null){const t=this.attr("in");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const Fs=r=>function(...e){for(let t=r.length;t--;)e[t]!=null&&this.attr(r[t],e[t])},_V={blend:Fs(["in","in2","mode"]),colorMatrix:Fs(["type","values"]),composite:Fs(["in","in2","operator"]),convolveMatrix:function(r){r=new ed(r).toString(),this.attr({order:Math.sqrt(r.split(" ").length),kernelMatrix:r})},diffuseLighting:Fs(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:Fs(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:Fs(["in","dx","dy","stdDeviation"]),flood:Fs(["flood-color","flood-opacity"]),gaussianBlur:function(r=0,e=r){this.attr("stdDeviation",r+" "+e)},image:function(r){this.attr("href",r,xh)},morphology:Fs(["operator","radius"]),offset:Fs(["dx","dy"]),specularLighting:Fs(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:Fs([]),turbulence:Fs(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(r=>{const e=gh(r),t=_V[r];Hr[e+"Effect"]=class extends A4{constructor(n){super(Rr("fe"+e,n),n)}update(n){return t.apply(this,n),this}},Hr.prototype[r]=Dr(function(n,...a){const s=new Hr[e+"Effect"];return n==null?this.put(s):(typeof n=="function"?n.call(s,s):a.unshift(n),this.put(s).update(a))})}),Rt(Hr,{merge(r){const e=this.put(new Hr.MergeEffect);return typeof r=="function"?(r.call(e,e),e):((r instanceof Array?r:[...arguments]).forEach(t=>{t instanceof Hr.MergeNode?e.put(t):e.mergeNode(t)}),e)},componentTransfer(r={}){const e=this.put(new Hr.ComponentTransferEffect);if(typeof r=="function")return r.call(e,e),e;r.r||r.g||r.b||r.a||(r={r,g:r,b:r,a:r});for(const t in r)e.add(new Hr["Func"+t.toUpperCase()](r[t]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(r=>{const e=gh(r);Hr[e]=class extends A4{constructor(t){super(Rr("fe"+e,t),t)}}});["funcR","funcG","funcB","funcA"].forEach(function(r){const e=Hr[gh(r)],t=Dr(function(){return this.put(new e)});Hr.ComponentTransferEffect.prototype[r]=t});["distantLight","pointLight","spotLight"].forEach(r=>{const e=Hr[gh(r)],t=Dr(function(){return this.put(new e)});Hr.DiffuseLightingEffect.prototype[r]=t,Hr.SpecularLightingEffect.prototype[r]=t}),Rt(Hr.MergeEffect,{mergeNode(r){return this.put(new Hr.MergeNode).attr("in",r)}}),Rt(o1,{filter:function(r){const e=this.put(new Hr);return typeof r=="function"&&r.call(e,e),e}}),Rt(js,{filter:function(r){return this.defs().filter(r)}}),Rt(la,{filterWith:function(r){const e=r instanceof Hr?r:this.defs().filter(r);return this.attr("filter",e)},unfilter:function(r){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const NV={blend:function(r,e){return this.parent()&&this.parent().blend(this,r,e)},colorMatrix:function(r,e){return this.parent()&&this.parent().colorMatrix(r,e).in(this)},componentTransfer:function(r){return this.parent()&&this.parent().componentTransfer(r).in(this)},composite:function(r,e){return this.parent()&&this.parent().composite(this,r,e)},convolveMatrix:function(r){return this.parent()&&this.parent().convolveMatrix(r).in(this)},diffuseLighting:function(r,e,t,n){return this.parent()&&this.parent().diffuseLighting(r,t,n).in(this)},displacementMap:function(r,e,t,n){return this.parent()&&this.parent().displacementMap(this,r,e,t,n)},dropShadow:function(r,e,t){return this.parent()&&this.parent().dropShadow(this,r,e,t).in(this)},flood:function(r,e){return this.parent()&&this.parent().flood(r,e)},gaussianBlur:function(r,e){return this.parent()&&this.parent().gaussianBlur(r,e).in(this)},image:function(r){return this.parent()&&this.parent().image(r)},merge:function(r){return r=r instanceof Array?r:[...r],this.parent()&&this.parent().merge(this,...r)},morphology:function(r,e){return this.parent()&&this.parent().morphology(r,e).in(this)},offset:function(r,e){return this.parent()&&this.parent().offset(r,e).in(this)},specularLighting:function(r,e,t,n,a){return this.parent()&&this.parent().specularLighting(r,t,n,a).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(r,e,t,n,a){return this.parent()&&this.parent().turbulence(r,e,t,n,a).in(this)}};Rt(A4,NV),Rt(Hr.MergeEffect,{in:function(r){return r instanceof Hr.MergeNode?this.add(r,0):this.add(new Hr.MergeNode().in(r),0),this}}),Rt([Hr.CompositeEffect,Hr.BlendEffect,Hr.DisplacementMapEffect],{in2:function(r){if(r==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",r)}}),Hr.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var sa=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w}return yt(r,[{key:"getDefaultFilter",value:function(e,t){var n=this.w;e.unfilter(!0),new Hr().size("120%","180%","-5%","-40%"),n.config.chart.dropShadow.enabled&&this.dropShadow(e,n.config.chart.dropShadow,t)}},{key:"applyFilter",value:function(e,t,n){var a,s=this,i=this.w;if(e.unfilter(!0),n!=="none"){var l,c,d=i.config.chart.dropShadow,u=n==="lighten"?2:.3;e.filterWith(function(h){h.colorMatrix({type:"matrix",values:`
          `.concat(u,` 0 0 0 0
          0 `).concat(u,` 0 0 0
          0 0 `).concat(u,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),d.enabled&&s.addShadow(h,t,d,"brightness")}),!d.noUserSpaceOnUse&&((l=e.filterer())===null||l===void 0||(c=l.node)===null||c===void 0||c.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((a=e.filterer())===null||a===void 0?void 0:a.node)}else this.getDefaultFilter(e,t)}},{key:"addShadow",value:function(e,t,n,a){var s,i=this.w,l=n.blur,c=n.top,d=n.left,u=n.color,h=n.opacity;if(u=Array.isArray(u)?u[t]:u,((s=i.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.length)>0&&i.config.chart.dropShadow.enabledOnSeries.indexOf(t)===-1)return e;e.offset({in:a,dx:d,dy:c,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:l,result:"blur"}),e.flood({"flood-color":u,"flood-opacity":h,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",a])}},{key:"dropShadow",value:function(e,t){var n,a,s,i,l,c=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=this.w;return e.unfilter(!0),xe.isMsEdge()&&u.config.chart.type==="radialBar"||((n=u.config.chart.dropShadow.enabledOnSeries)===null||n===void 0?void 0:n.length)>0&&((s=u.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.indexOf(d))===-1?e:(e.filterWith(function(h){c.addShadow(h,d,t,"SourceGraphic")}),t.noUserSpaceOnUse||(i=e.filterer())===null||i===void 0||(l=i.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((a=e.filterer())===null||a===void 0?void 0:a.node),e)}},{key:"setSelectionFilter",value:function(e,t,n){var a=this.w;if(a.globals.selectedDataPoints[t]!==void 0&&a.globals.selectedDataPoints[t].indexOf(n)>-1){e.node.setAttribute("selected",!0);var s=a.config.states.active.filter;s!=="none"&&this.applyFilter(e,t,s.type)}}},{key:"_scaleFilterSize",value:function(e){e&&function(t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),r}(),Ye=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w}return yt(r,[{key:"roundPathCorners",value:function(e,t){function n(A,T,F){var L=T.x-A.x,D=T.y-A.y,O=Math.sqrt(L*L+D*D);return a(A,T,Math.min(1,F/O))}function a(A,T,F){return{x:A.x+(T.x-A.x)*F,y:A.y+(T.y-A.y)*F}}function s(A,T){A.length>2&&(A[A.length-2]=T.x,A[A.length-1]=T.y)}function i(A){return{x:parseFloat(A[A.length-2]),y:parseFloat(A[A.length-1])}}e.indexOf("NaN")>-1&&(e="");var l=e.split(/[,\s]/).reduce(function(A,T){var F=T.match("([a-zA-Z])(.+)");return F?(A.push(F[1]),A.push(F[2])):A.push(T),A},[]).reduce(function(A,T){return parseFloat(T)==T&&A.length?A[A.length-1].push(T):A.push([T]),A},[]),c=[];if(l.length>1){var d=i(l[0]),u=null;l[l.length-1][0]=="Z"&&l[0].length>2&&(u=["L",d.x,d.y],l[l.length-1]=u),c.push(l[0]);for(var h=1;h<l.length;h++){var f=c[c.length-1],p=l[h],m=p==u?l[1]:l[h+1];if(m&&f&&f.length>2&&p[0]=="L"&&m.length>2&&m[0]=="L"){var g,v,x=i(f),b=i(p),y=i(m);g=n(b,x,t),v=n(b,y,t),s(p,g),p.origPoint=b,c.push(p);var C=a(g,b,.5),S=a(b,v,.5),_=["C",C.x,C.y,S.x,S.y,v.x,v.y];_.origPoint=b,c.push(_)}else c.push(p)}if(u){var E=i(c[c.length-1]);c.push(["Z"]),s(c[0],E)}}else c=l;return c.reduce(function(A,T){return A+T.join(" ")+" "},"")}},{key:"drawLine",value:function(e,t,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:n,y2:a,stroke:s,"stroke-dasharray":i,"stroke-width":l,"stroke-linecap":c})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,d=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,u=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,h=this.w.globals.dom.Paper.rect();return h.attr({x:e,y:t,width:n>0?n:0,height:a>0?a:0,rx:s,ry:s,opacity:l,"stroke-width":c!==null?c:0,stroke:d!==null?d:"none","stroke-dasharray":u}),h.node.setAttribute("fill",i),h}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:a,stroke:t,"stroke-width":n})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var n=this.w.globals.dom.Paper.circle(2*e);return t!==null&&n.attr(t),n}},{key:"drawPath",value:function(e){var t=e.d,n=t===void 0?"":t,a=e.stroke,s=a===void 0?"#a8a8a8":a,i=e.strokeWidth,l=i===void 0?1:i,c=e.fill,d=e.fillOpacity,u=d===void 0?1:d,h=e.strokeOpacity,f=h===void 0?1:h,p=e.classes,m=e.strokeLinecap,g=m===void 0?null:m,v=e.strokeDashArray,x=v===void 0?0:v,b=this.w;return g===null&&(g=b.config.stroke.lineCap),(n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n="M 0 ".concat(b.globals.gridHeight)),b.globals.dom.Paper.path(n).attr({fill:c,"fill-opacity":u,stroke:s,"stroke-opacity":f,"stroke-linecap":g,"stroke-width":l,"stroke-dasharray":x,class:p})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w.globals.dom.Paper.group();return e!==null&&t.attr(e),t}},{key:"move",value:function(e,t){var n=["M",e,t].join(" ");return n}},{key:"line",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=null;return n===null?a=[" L",e,t].join(" "):n==="H"?a=[" H",e].join(" "):n==="V"&&(a=[" V",t].join(" ")),a}},{key:"curve",value:function(e,t,n,a,s,i){var l=["C",e,t,n,a,s,i].join(" ");return l}},{key:"quadraticCurve",value:function(e,t,n,a){return["Q",e,t,n,a].join(" ")}},{key:"arc",value:function(e,t,n,a,s,i,l){var c="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(c="a");var d=[c,e,t,n,a,s,i,l].join(" ");return d}},{key:"renderPaths",value:function(e){var t,n=e.j,a=e.realIndex,s=e.pathFrom,i=e.pathTo,l=e.stroke,c=e.strokeWidth,d=e.strokeLinecap,u=e.fill,h=e.animationDelay,f=e.initialSpeed,p=e.dataChangeSpeed,m=e.className,g=e.chartType,v=e.shouldClipToGrid,x=v===void 0||v,b=e.bindEventsOnPaths,y=b===void 0||b,C=e.drawShadow,S=C===void 0||C,_=this.w,E=new sa(this.ctx),A=new ph(this.ctx),T=this.w.config.chart.animations.enabled,F=T&&this.w.config.chart.animations.dynamicAnimation.enabled,L=!!(T&&!_.globals.resized||F&&_.globals.dataChanged&&_.globals.shouldAnimate);L?t=s:(t=i,_.globals.animationEnded=!0);var D=_.config.stroke.dashArray,O=0;O=Array.isArray(D)?D[a]:_.config.stroke.dashArray;var I=this.drawPath({d:t,stroke:l,strokeWidth:c,fill:u,fillOpacity:1,classes:m,strokeLinecap:d,strokeDashArray:O});I.attr("index",a),x&&(g==="bar"&&!_.globals.isHorizontal||_.globals.comboCharts?I.attr({"clip-path":"url(#gridRectBarMask".concat(_.globals.cuid,")")}):I.attr({"clip-path":"url(#gridRectMask".concat(_.globals.cuid,")")})),_.config.chart.dropShadow.enabled&&S&&E.dropShadow(I,_.config.chart.dropShadow,a),y&&(I.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,I)),I.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,I)),I.node.addEventListener("mousedown",this.pathMouseDown.bind(this,I))),I.attr({pathTo:i,pathFrom:s});var B={el:I,j:n,realIndex:a,pathFrom:s,pathTo:i,fill:u,strokeWidth:c,delay:h};return!T||_.globals.resized||_.globals.dataChanged?!_.globals.resized&&_.globals.dataChanged||A.showDelayedElements():A.animatePathsGradually(ct(ct({},B),{},{speed:f})),_.globals.dataChanged&&F&&L&&A.animatePathsGradually(ct(ct({},B),{},{speed:p})),I}},{key:"drawPattern",value:function(e,t,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,n,function(i){e==="horizontalLines"?i.line(0,0,n,0).stroke({color:a,width:s+1}):e==="verticalLines"?i.line(0,0,0,t).stroke({color:a,width:s+1}):e==="slantedLines"?i.line(0,0,t,n).stroke({color:a,width:s}):e==="squares"?i.rect(t,n).fill("none").stroke({color:a,width:s}):e==="circles"&&i.circle(t).fill("none").stroke({color:a,width:s})})}},{key:"drawGradient",value:function(e,t,n,a,s){var i,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,h=this.w;t.length<9&&t.indexOf("#")===0&&(t=xe.hexToRgba(t,a)),n.length<9&&n.indexOf("#")===0&&(n=xe.hexToRgba(n,s));var f=0,p=1,m=1,g=null;c!==null&&(f=c[0]!==void 0?c[0]/100:0,p=c[1]!==void 0?c[1]/100:1,m=c[2]!==void 0?c[2]/100:1,g=c[3]!==void 0?c[3]/100:null);var v=!(h.config.chart.type!=="donut"&&h.config.chart.type!=="pie"&&h.config.chart.type!=="polarArea"&&h.config.chart.type!=="bubble");if(i=d&&d.length!==0?h.globals.dom.Paper.gradient(v?"radial":"linear",function(y){(Array.isArray(d[u])?d[u]:d).forEach(function(C){y.stop(C.offset/100,C.color,C.opacity)})}):h.globals.dom.Paper.gradient(v?"radial":"linear",function(y){y.stop(f,t,a),y.stop(p,n,s),y.stop(m,n,s),g!==null&&y.stop(g,t,a)}),v){var x=h.globals.gridWidth/2,b=h.globals.gridHeight/2;h.config.chart.type!=="bubble"?i.attr({gradientUnits:"userSpaceOnUse",cx:x,cy:b,r:l}):i.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?i.from(0,0).to(0,1):e==="diagonal"?i.from(0,0).to(1,1):e==="horizontal"?i.from(0,1).to(1,1):e==="diagonal2"&&i.from(1,0).to(0,1);return i}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,n=e.maxWidth,a=e.fontSize,s=e.fontFamily,i=this.getTextRects(t,a,s),l=i.width/t.length,c=Math.floor(n/l);return n<i.width?t.slice(0,c-3)+"...":t}},{key:"drawText",value:function(e){var t=this,n=e.x,a=e.y,s=e.text,i=e.textAnchor,l=e.fontSize,c=e.fontFamily,d=e.fontWeight,u=e.foreColor,h=e.opacity,f=e.maxWidth,p=e.cssClass,m=p===void 0?"":p,g=e.isPlainText,v=g===void 0||g,x=e.dominantBaseline,b=x===void 0?"auto":x,y=this.w;s===void 0&&(s="");var C=s;i||(i="start"),u&&u.length||(u=y.config.chart.foreColor),c=c||y.config.chart.fontFamily,d=d||"regular";var S,_={maxWidth:f,fontSize:l=l||"11px",fontFamily:c};return Array.isArray(s)?S=y.globals.dom.Paper.text(function(E){for(var A=0;A<s.length;A++)C=s[A],f&&(C=t.getTextBasedOnMaxWidth(ct({text:s[A]},_))),A===0?E.tspan(C):E.tspan(C).newLine()}):(f&&(C=this.getTextBasedOnMaxWidth(ct({text:s},_))),S=v?y.globals.dom.Paper.plain(s):y.globals.dom.Paper.text(function(E){return E.tspan(C)})),S.attr({x:n,y:a,"text-anchor":i,"dominant-baseline":b,"font-size":l,"font-family":c,"font-weight":d,fill:u,class:"apexcharts-text "+m}),S.node.style.fontFamily=c,S.node.style.opacity=h,S}},{key:"getMarkerPath",value:function(e,t,n,a){var s="";switch(n){case"cross":s="M ".concat(e-(a/=1.4)," ").concat(t-a," L ").concat(e+a," ").concat(t+a,"  M ").concat(e-a," ").concat(t+a," L ").concat(e+a," ").concat(t-a);break;case"plus":s="M ".concat(e-(a/=1.12)," ").concat(t," L ").concat(e+a," ").concat(t,"  M ").concat(e," ").concat(t-a," L ").concat(e," ").concat(t+a);break;case"star":case"sparkle":var i=5;a*=1.15,n==="sparkle"&&(a/=1.1,i=4);for(var l=Math.PI/i,c=0;c<=2*i;c++){var d=c*l,u=c%2==0?a:a/2;s+=(c===0?"M":"L")+(e+u*Math.sin(d))+","+(t-u*Math.cos(d))}s+="Z";break;case"triangle":s="M ".concat(e," ").concat(t-a,` 
             L `).concat(e+a," ").concat(t+a,` 
             L `).concat(e-a," ").concat(t+a,` 
             Z`);break;case"square":case"rect":s="M ".concat(e-(a/=1.125)," ").concat(t-a,` 
           L `).concat(e+a," ").concat(t-a,` 
           L `).concat(e+a," ").concat(t+a,` 
           L `).concat(e-a," ").concat(t+a,` 
           Z`);break;case"diamond":a*=1.05,s="M ".concat(e," ").concat(t-a,` 
             L `).concat(e+a," ").concat(t,` 
             L `).concat(e," ").concat(t+a,` 
             L `).concat(e-a," ").concat(t,` 
            Z`);break;case"line":s="M ".concat(e-(a/=1.1)," ").concat(t,` 
           L `).concat(e+a," ").concat(t);break;default:a*=2,s="M ".concat(e,", ").concat(t,` 
           m -`).concat(a/2,`, 0 
           a `).concat(a/2,",").concat(a/2," 0 1,0 ").concat(a,`,0 
           a `).concat(a/2,",").concat(a/2," 0 1,0 -").concat(a,",0")}return s}},{key:"drawMarkerShape",value:function(e,t,n,a,s){var i=this.drawPath({d:this.getMarkerPath(e,t,n,a,s),stroke:s.pointStrokeColor,strokeDashArray:s.pointStrokeDashArray,strokeWidth:s.pointStrokeWidth,fill:s.pointFillColor,fillOpacity:s.pointFillOpacity,strokeOpacity:s.pointStrokeOpacity});return i.attr({cx:e,cy:t,shape:s.shape,class:s.class?s.class:""}),i}},{key:"drawMarker",value:function(e,t,n){e=e||0;var a=n.pSize||0;return xe.isNumber(t)||(a=0,t=0),this.drawMarkerShape(e,t,n==null?void 0:n.shape,a,ct(ct({},n),n.shape==="line"||n.shape==="plus"||n.shape==="cross"?{pointStrokeColor:n.pointFillColor,pointStrokeOpacity:n.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var n=this.w,a=new sa(this.ctx),s=parseInt(e.node.getAttribute("index"),10),i=parseInt(e.node.getAttribute("j"),10);if(typeof n.config.chart.events.dataPointMouseEnter=="function"&&n.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:s,dataPointIndex:i,w:n}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:s,dataPointIndex:i,w:n}]),(n.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&n.config.states.hover.filter.type!=="none"&&!n.globals.isTouchDevice){var l=n.config.states.hover.filter;a.applyFilter(e,s,l.type)}}},{key:"pathMouseLeave",value:function(e,t){var n=this.w,a=new sa(this.ctx),s=parseInt(e.node.getAttribute("index"),10),i=parseInt(e.node.getAttribute("j"),10);typeof n.config.chart.events.dataPointMouseLeave=="function"&&n.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:s,dataPointIndex:i,w:n}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:s,dataPointIndex:i,w:n}]),n.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||n.config.states.hover.filter.type!=="none"&&a.getDefaultFilter(e,s)}},{key:"pathMouseDown",value:function(e,t){var n=this.w,a=new sa(this.ctx),s=parseInt(e.node.getAttribute("index"),10),i=parseInt(e.node.getAttribute("j"),10),l="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),n.globals.selectedDataPoints[s].indexOf(i)>-1){var c=n.globals.selectedDataPoints[s].indexOf(i);n.globals.selectedDataPoints[s].splice(c,1)}}else{if(!n.config.states.active.allowMultipleDataPointsSelection&&n.globals.selectedDataPoints.length>0){n.globals.selectedDataPoints=[];var d=n.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),u=n.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),h=function(m){Array.prototype.forEach.call(m,function(g){g.node.setAttribute("selected","false"),a.getDefaultFilter(g,s)})};h(d),h(u)}e.node.setAttribute("selected","true"),l="true",n.globals.selectedDataPoints[s]===void 0&&(n.globals.selectedDataPoints[s]=[]),n.globals.selectedDataPoints[s].push(i)}if(l==="true"){var f=n.config.states.active.filter;if(f!=="none")a.applyFilter(e,s,f.type);else if(n.config.states.hover.filter!=="none"&&!n.globals.isTouchDevice){var p=n.config.states.hover.filter;a.applyFilter(e,s,p.type)}}else n.config.states.active.filter.type!=="none"&&(n.config.states.hover.filter.type==="none"||n.globals.isTouchDevice?a.getDefaultFilter(e,s):(p=n.config.states.hover.filter,a.applyFilter(e,s,p.type)));typeof n.config.chart.events.dataPointSelection=="function"&&n.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:s,dataPointIndex:i,w:n}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:s,dataPointIndex:i,w:n}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&typeof e.getBBox=="function"&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,n,a){var s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],i=this.w,l=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:n,foreColor:"#fff",opacity:0});a&&l.attr("transform",a),i.globals.dom.Paper.add(l);var c=l.bbox();return s||(c=l.node.getBoundingClientRect()),l.remove(),{width:c.width,height:c.height}}},{key:"placeTextWithEllipsis",value:function(e,t,n){if(typeof e.getComputedTextLength=="function"&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=n/1.1)){for(var a=t.length-3;a>0;a-=3)if(e.getSubStringLength(0,a)<=n/1.1)return void(e.textContent=t.substring(0,a)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}}]),r}(),hn=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w}return yt(r,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.w,n=[];if(t.globals.series.length===0)return n;for(var a=0;a<t.globals.series[t.globals.maxValsInArrayIndex].length;a++){for(var s=0,i=0;i<t.globals.series.length;i++)t.globals.series[i][a]!==void 0&&e.indexOf(i)===-1&&(s+=t.globals.series[i][a]);n.push(s)}return n}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce(function(t,n){return t+n},0):this.w.globals.series[e].reduce(function(t,n){return t+n},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,n=[];return t.globals.seriesGroups.forEach(function(a){var s=[];t.config.series.forEach(function(l,c){a.indexOf(t.globals.seriesNames[c])>-1&&s.push(c)});var i=t.globals.series.map(function(l,c){return s.indexOf(c)===-1?c:-1}).filter(function(l){return l!==-1});n.push(e.getStackedSeriesTotals(i))}),n}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,n=[],a=[],s=[],i=e.series.length>t.yaxis.length||t.yaxis.some(function(h){return Array.isArray(h.seriesName)});t.series.forEach(function(h,f){s.push(f),a.push(null)}),t.yaxis.forEach(function(h,f){n[f]=[]});var l=[];t.yaxis.forEach(function(h,f){var p=!1;if(h.seriesName){var m=[];Array.isArray(h.seriesName)?m=h.seriesName:m.push(h.seriesName),m.forEach(function(g){t.series.forEach(function(v,x){if(v.name===g){var b=x;f===x||i?!i||s.indexOf(x)>-1?n[f].push([f,x]):console.warn("Series '"+v.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(n[x].push([x,f]),b=f),p=!0,(b=s.indexOf(b))!==-1&&s.splice(b,1)}})})}p||l.push(f)}),n=n.map(function(h,f){var p=[];return h.forEach(function(m){a[m[1]]=m[0],p.push(m[1])}),p});for(var c=t.yaxis.length-1,d=0;d<l.length&&(c=l[d],n[c]=[],s);d++){var u=s[0];s.shift(),n[c].push(u),a[u]=c}s.forEach(function(h){n[c].push(h),a[h]=c}),e.seriesYAxisMap=n.map(function(h){return h}),e.seriesYAxisReverseMap=a.map(function(h){return h}),e.seriesYAxisMap.forEach(function(h,f){h.forEach(function(p){t.series[p]&&t.series[p].group===void 0&&(t.series[p].group="apexcharts-axis-".concat(f.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter(function(t){return t!==null}):this.w.config.series[e].data.filter(function(t){return t!==null})).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(t,n,a){return t===a[0]})}},{key:"getCategoryLabels",value:function(e){var t=this.w,n=e.slice();return t.config.xaxis.convertedCatToNumeric&&(n=e.map(function(a,s){return t.config.xaxis.labels.formatter(a-t.globals.minX+1)})),n}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(t){return t.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(t){return t.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach(function(n){t=Math.max(t,n)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(n){t=Math.max(t,n.size)}),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(t,n){var a=0;if(Array.isArray(t))for(var s=0;s<t.length;s++)a+=t[s];else a+=t;return a})}},{key:"getSeriesTotalsXRange",value:function(e,t){var n=this.w;return n.globals.series.map(function(a,s){for(var i=0,l=0;l<a.length;l++)n.globals.seriesX[s][l]>e&&n.globals.seriesX[s][l]<t&&(i+=a[l]);return i})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(t,n){var a=[];if(Array.isArray(t))for(var s=0;s<t.length;s++){var i=e.globals.stackedSeriesTotals[s],l=0;i&&(l=100*t[s]/i),a.push(l)}else{var c=100*t/e.globals.seriesTotals.reduce(function(d,u){return d+u},0);a.push(c)}return a})}},{key:"getCalculatedRatios",value:function(){var e,t,n,a=this,s=this.w,i=s.globals,l=[],c=0,d=[],u=.1,h=0;if(i.yRange=[],i.isMultipleYAxis)for(var f=0;f<i.minYArr.length;f++)i.yRange.push(Math.abs(i.minYArr[f]-i.maxYArr[f])),d.push(0);else i.yRange.push(Math.abs(i.minY-i.maxY));i.xRange=Math.abs(i.maxX-i.minX),i.zRange=Math.abs(i.maxZ-i.minZ);for(var p=0;p<i.yRange.length;p++)l.push(i.yRange[p]/i.gridHeight);if(t=i.xRange/i.gridWidth,e=i.yRange/i.gridWidth,n=i.xRange/i.gridHeight,(c=i.zRange/i.gridHeight*16)||(c=1),i.minY!==Number.MIN_VALUE&&Math.abs(i.minY)!==0&&(i.hasNegs=!0),s.globals.seriesYAxisReverseMap.length>0){var m=function(v,x){var b=s.config.yaxis[s.globals.seriesYAxisReverseMap[x]],y=v<0?-1:1;return v=Math.abs(v),b.logarithmic&&(v=a.getBaseLog(b.logBase,v)),-y*v/l[x]};if(i.isMultipleYAxis){d=[];for(var g=0;g<l.length;g++)d.push(m(i.minYArr[g],g))}else(d=[]).push(m(i.minY,0)),i.minY!==Number.MIN_VALUE&&Math.abs(i.minY)!==0&&(u=-i.minY/e,h=i.minX/t)}else(d=[]).push(0),u=0,h=0;return{yRatio:l,invertedYRatio:e,zRatio:c,xRatio:t,invertedXRatio:n,baseLineInvertedY:u,baseLineY:d,baseLineX:h}}},{key:"getLogSeries",value:function(e){var t=this,n=this.w;return n.globals.seriesLog=e.map(function(a,s){var i=n.globals.seriesYAxisReverseMap[s];return n.config.yaxis[i]&&n.config.yaxis[i].logarithmic?a.map(function(l){return l===null?null:t.getLogVal(n.config.yaxis[i].logBase,l,s)}):a}),n.globals.invalidLogScale?e:n.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,t){if(e===null)return null;var n=this.w,a=n.globals.seriesYAxisReverseMap[t];return n.config.yaxis[a]&&n.config.yaxis[a].logarithmic?this.getLogVal(n.config.yaxis[a].logBase,e,t):e}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,n){if(t<=0)return 0;var a=this.w,s=a.globals.minYArr[n]===0?-1:this.getBaseLog(e,a.globals.minYArr[n]),i=(a.globals.maxYArr[n]===0?0:this.getBaseLog(e,a.globals.maxYArr[n]))-s;return t<1?t/i:(this.getBaseLog(e,t)-s)/i}},{key:"getLogYRatios",value:function(e){var t=this,n=this.w,a=this.w.globals;return a.yLogRatio=e.slice(),a.logYRange=a.yRange.map(function(s,i){var l=n.globals.seriesYAxisReverseMap[i];if(n.config.yaxis[l]&&t.w.config.yaxis[l].logarithmic){var c,d=-Number.MAX_VALUE,u=Number.MIN_VALUE;return a.seriesLog.forEach(function(h,f){h.forEach(function(p){n.config.yaxis[f]&&n.config.yaxis[f].logarithmic&&(d=Math.max(p,d),u=Math.min(p,u))})}),c=Math.pow(a.yRange[i],Math.abs(u-d)/a.yRange[i]),a.yLogRatio[i]=c/a.gridHeight,c}}),a.invalidLogScale?e.slice():a.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,n,a){var s=this.w,i=[];return e.series.length>0&&t.forEach(function(l){var c=[],d=[];e.i.forEach(function(u,h){s.config.series[u].group===l&&(c.push(e.series[h]),d.push(u))}),c.length>0&&i.push(a.draw(c,n,d))}),i}}],[{key:"checkComboSeries",value:function(e,t){var n=!1,a=0,s=0;return t===void 0&&(t="line"),e.length&&e[0].type!==void 0&&e.forEach(function(i){i.type!=="bar"&&i.type!=="column"&&i.type!=="candlestick"&&i.type!=="boxPlot"||a++,i.type!==void 0&&i.type!==t&&s++}),s>0&&(n=!0),{comboBarCount:a,comboCharts:n}}},{key:"extendArrayProps",value:function(e,t,n){var a,s,i,l,c,d;return(a=t)!==null&&a!==void 0&&a.yaxis&&(t=e.extendYAxis(t,n)),(s=t)!==null&&s!==void 0&&s.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(i=t)!==null&&i!==void 0&&(l=i.annotations)!==null&&l!==void 0&&l.xaxis&&(t=e.extendXAxisAnnotations(t)),(c=t)!==null&&c!==void 0&&(d=c.annotations)!==null&&d!==void 0&&d.points&&(t=e.extendPointAnnotations(t))),t}}]),r}(),l1=function(){function r(e){bt(this,r),this.w=e.w,this.annoCtx=e}return yt(r,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.w;if(e.label.orientation==="vertical"){var a=t!==null?t:0,s=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(a,"']"));if(s!==null){var i=s.getBoundingClientRect();s.setAttribute("x",parseFloat(s.getAttribute("x"))-i.height+4);var l=e.label.position==="top"?i.width:-i.width;s.setAttribute("y",parseFloat(s.getAttribute("y"))+l);var c=this.annoCtx.graphics.rotateAroundCenter(s),d=c.x,u=c.y;s.setAttribute("transform","rotate(-90 ".concat(d," ").concat(u,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var n=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var a=n.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),s=e.getBoundingClientRect(),i=t.label.style.padding,l=i.left,c=i.right,d=i.top,u=i.bottom;if(t.label.orientation==="vertical"){var h=[l,c,d,u];d=h[0],u=h[1],l=h[2],c=h[3]}var f=s.left-a.left-l,p=s.top-a.top-d,m=this.annoCtx.graphics.drawRect(f-n.globals.barPadForNumericAxis,p,s.width+l+c,s.height+d+u,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&m.node.classList.add(t.id),m}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,n=function(a,s,i){var l=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-annotations .apexcharts-").concat(i,"-annotation-label[rel='").concat(s,"']"));if(l){var c=l.parentNode,d=e.addBackgroundToAnno(l,a);d&&(c.insertBefore(d.node,l),a.label.mouseEnter&&d.node.addEventListener("mouseenter",a.label.mouseEnter.bind(e,a)),a.label.mouseLeave&&d.node.addEventListener("mouseleave",a.label.mouseLeave.bind(e,a)),a.label.click&&d.node.addEventListener("click",a.label.click.bind(e,a)))}};t.config.annotations.xaxis.forEach(function(a,s){return n(a,s,"xaxis")}),t.config.annotations.yaxis.forEach(function(a,s){return n(a,s,"yaxis")}),t.config.annotations.points.forEach(function(a,s){return n(a,s,"point")})}},{key:"getY1Y2",value:function(e,t){var n,a=this.w,s=e==="y1"?t.y:t.y2,i=!1;if(this.annoCtx.invertAxis){var l=a.config.xaxis.convertedCatToNumeric?a.globals.categoryLabels:a.globals.labels,c=l.indexOf(s),d=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(c+1,")"));n=d?parseFloat(d.getAttribute("y")):(a.globals.gridHeight/l.length-1)*(c+1)-a.globals.barHeight,t.seriesIndex!==void 0&&a.globals.barHeight&&(n-=a.globals.barHeight/2*(a.globals.series.length-1)-a.globals.barHeight*t.seriesIndex)}else{var u,h=a.globals.seriesYAxisMap[t.yAxisIndex][0],f=a.config.yaxis[t.yAxisIndex].logarithmic?new hn(this.annoCtx.ctx).getLogVal(a.config.yaxis[t.yAxisIndex].logBase,s,h)/a.globals.yLogRatio[h]:(s-a.globals.minYArr[h])/(a.globals.yRange[h]/a.globals.gridHeight);n=a.globals.gridHeight-Math.min(Math.max(f,0),a.globals.gridHeight),i=f>a.globals.gridHeight||f<0,!t.marker||t.y!==void 0&&t.y!==null||(n=0),(u=a.config.yaxis[t.yAxisIndex])!==null&&u!==void 0&&u.reversed&&(n=f)}return typeof s=="string"&&s.includes("px")&&(n=parseFloat(s)),{yP:n,clipped:i}}},{key:"getX1X2",value:function(e,t){var n=this.w,a=e==="x1"?t.x:t.x2,s=this.annoCtx.invertAxis?n.globals.minY:n.globals.minX,i=this.annoCtx.invertAxis?n.globals.maxY:n.globals.maxX,l=this.annoCtx.invertAxis?n.globals.yRange[0]:n.globals.xRange,c=!1,d=this.annoCtx.inversedReversedAxis?(i-a)/(l/n.globals.gridWidth):(a-s)/(l/n.globals.gridWidth);return n.config.xaxis.type!=="category"&&!n.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||n.globals.dataFormatXNumeric||n.config.chart.sparkline.enabled||(d=this.getStringX(a)),typeof a=="string"&&a.includes("px")&&(d=parseFloat(a)),a==null&&t.marker&&(d=n.globals.gridWidth),t.seriesIndex!==void 0&&n.globals.barWidth&&!this.annoCtx.invertAxis&&(d-=n.globals.barWidth/2*(n.globals.series.length-1)-n.globals.barWidth*t.seriesIndex),d>n.globals.gridWidth?(d=n.globals.gridWidth,c=!0):d<0&&(d=0,c=!0),{x:d,clipped:c}}},{key:"getStringX",value:function(e){var t=this.w,n=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var a=t.globals.labels.map(function(i){return Array.isArray(i)?i.join(" "):i}).indexOf(e),s=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(a+1,")"));return s&&(n=parseFloat(s.getAttribute("x"))),n}}]),r}(),EV=function(){function r(e){bt(this,r),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new l1(this.annoCtx)}return yt(r,[{key:"addXaxisAnnotation",value:function(e,t,n){var a,s=this.w,i=this.helpers.getX1X2("x1",e),l=i.x,c=i.clipped,d=!0,u=e.label.text,h=e.strokeDashArray;if(xe.isNumber(l)){if(e.x2===null||e.x2===void 0){if(!c){var f=this.annoCtx.graphics.drawLine(l+e.offsetX,0+e.offsetY,l+e.offsetX,s.globals.gridHeight+e.offsetY,e.borderColor,h,e.borderWidth);t.appendChild(f.node),e.id&&f.node.classList.add(e.id)}}else{var p=this.helpers.getX1X2("x2",e);if(a=p.x,d=p.clipped,a<l){var m=l;l=a,a=m}var g=this.annoCtx.graphics.drawRect(l+e.offsetX,0+e.offsetY,a-l,s.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,h);g.node.classList.add("apexcharts-annotation-rect"),g.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),t.appendChild(g.node),e.id&&g.node.classList.add(e.id)}if(!c||!d){var v=this.annoCtx.graphics.getTextRects(u,parseFloat(e.label.style.fontSize)),x=e.label.position==="top"?4:e.label.position==="center"?s.globals.gridHeight/2+(e.label.orientation==="vertical"?v.width/2:0):s.globals.gridHeight,b=this.annoCtx.graphics.drawText({x:l+e.label.offsetX,y:x+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?v.width/2-12:-v.width/2:0),text:u,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});b.attr({rel:n}),t.appendChild(b.node),this.annoCtx.helpers.setOrientations(e,n)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(a,s){e.addXaxisAnnotation(a,n.node,s)}),n}}]),r}(),aa=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return yt(r,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var n=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return n=this.getTimeStamp(n)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var n=this.w.globals.locale,a=this.w.config.xaxis.labels.datetimeUTC,s=["\0"].concat(zn(n.months)),i=[""].concat(zn(n.shortMonths)),l=[""].concat(zn(n.days)),c=[""].concat(zn(n.shortDays));function d(A,T){var F=A+"";for(T=T||2;F.length<T;)F="0"+F;return F}var u=a?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+u)).replace(/(^|[^\\])yy/g,"$1"+u.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+u);var h=(a?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+s[0])).replace(/(^|[^\\])MMM/g,"$1"+i[0])).replace(/(^|[^\\])MM/g,"$1"+d(h))).replace(/(^|[^\\])M/g,"$1"+h);var f=a?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+l[0])).replace(/(^|[^\\])ddd/g,"$1"+c[0])).replace(/(^|[^\\])dd/g,"$1"+d(f))).replace(/(^|[^\\])d/g,"$1"+f);var p=a?e.getUTCHours():e.getHours(),m=p>12?p-12:p===0?12:p;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+d(p))).replace(/(^|[^\\])H/g,"$1"+p)).replace(/(^|[^\\])hh+/g,"$1"+d(m))).replace(/(^|[^\\])h/g,"$1"+m);var g=a?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+d(g))).replace(/(^|[^\\])m/g,"$1"+g);var v=a?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+d(v))).replace(/(^|[^\\])s/g,"$1"+v);var x=a?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+d(x,3)),x=Math.round(x/10),t=t.replace(/(^|[^\\])ff/g,"$1"+d(x)),x=Math.round(x/10);var b=p<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+x)).replace(/(^|[^\\])TT+/g,"$1"+b)).replace(/(^|[^\\])T/g,"$1"+b.charAt(0));var y=b.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+y)).replace(/(^|[^\\])t/g,"$1"+y.charAt(0));var C=-e.getTimezoneOffset(),S=a||!C?"Z":C>0?"+":"-";if(!a){var _=(C=Math.abs(C))%60;S+=d(Math.floor(C/60))+":"+d(_)}t=t.replace(/(^|[^\\])K/g,"$1"+S);var E=(a?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(l[0],"g"),l[E])).replace(new RegExp(c[0],"g"),c[E])).replace(new RegExp(s[0],"g"),s[h])).replace(new RegExp(i[0],"g"),i[h])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,n){var a=this.w;a.config.xaxis.min!==void 0&&(e=a.config.xaxis.min),a.config.xaxis.max!==void 0&&(t=a.config.xaxis.max);var s=this.getDate(e),i=this.getDate(t),l=this.formatDate(s,"yyyy MM dd HH mm ss fff").split(" "),c=this.formatDate(i,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(l[6],10),maxMillisecond:parseInt(c[6],10),minSecond:parseInt(l[5],10),maxSecond:parseInt(c[5],10),minMinute:parseInt(l[4],10),maxMinute:parseInt(c[4],10),minHour:parseInt(l[3],10),maxHour:parseInt(c[3],10),minDate:parseInt(l[2],10),maxDate:parseInt(c[2],10),minMonth:parseInt(l[1],10)-1,maxMonth:parseInt(c[1],10)-1,minYear:parseInt(l[0],10),maxYear:parseInt(c[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,n){return this.determineDaysOfMonths(e,t)-n}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,n){var a=this.daysCntOfYear[t]+n;return t>1&&this.isLeapYear()&&a++,a}},{key:"determineDaysOfMonths",value:function(e,t){var n=30;switch(e=xe.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(n=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:n=31}return n}}]),r}(),$p=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return yt(r,[{key:"xLabelFormat",value:function(e,t,n,a){var s=this.w;if(s.config.xaxis.type==="datetime"&&s.config.xaxis.labels.formatter===void 0&&s.config.tooltip.x.formatter===void 0){var i=new aa(this.ctx);return i.formatDate(i.getDate(t),s.config.tooltip.x.format)}return e(t,n,a)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(t){return t}):e}},{key:"defaultYFormatter",value:function(e,t,n){var a=this.w;if(xe.isNumber(e))if(a.globals.yValueDecimal!==0)e=e.toFixed(t.decimalsInFloat!==void 0?t.decimalsInFloat:a.globals.yValueDecimal);else{var s=e.toFixed(0);e=e==s?s:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(n){return e.defaultGeneralFormatter(n)},t.globals.ttKeyFormatter=function(n){return e.defaultGeneralFormatter(n)},t.globals.ttZFormatter=function(n){return n},t.globals.legendFormatter=function(n){return e.defaultGeneralFormatter(n)},t.config.xaxis.labels.formatter!==void 0?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(n){if(xe.isNumber(n)){if(!t.config.xaxis.convertedCatToNumeric&&t.config.xaxis.type==="numeric"){if(xe.isNumber(t.config.xaxis.decimalsInFloat))return n.toFixed(t.config.xaxis.decimalsInFloat);var a=t.globals.maxX-t.globals.minX;return a>0&&a<100?n.toFixed(1):n.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?n.toFixed(1):n.toFixed(0)}return n},typeof t.config.tooltip.x.formatter=="function"?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,typeof t.config.xaxis.tooltip.formatter=="function"&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||t.config.tooltip.y.formatter!==void 0)&&(t.globals.ttVal=t.config.tooltip.y),t.config.tooltip.z.formatter!==void 0&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),t.config.legend.formatter!==void 0&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(n,a){n.labels.formatter!==void 0?t.globals.yLabelFormatters[a]=n.labels.formatter:t.globals.yLabelFormatters[a]=function(s){return t.globals.xyCharts?Array.isArray(s)?s.map(function(i){return e.defaultYFormatter(i,n,a)}):e.defaultYFormatter(s,n,a):s}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce(function(n,a){return n.length>a.length?n:a},0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),r}(),Vl=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w}return yt(r,[{key:"getLabel",value:function(e,t,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",l=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],c=this.w,d=e[a]===void 0?"":e[a],u=d,h=c.globals.xLabelFormatter,f=c.config.xaxis.labels.formatter,p=!1,m=new $p(this.ctx),g=d;l&&(u=m.xLabelFormat(h,d,g,{i:a,dateFormatter:new aa(this.ctx).formatDate,w:c}),f!==void 0&&(u=f(d,e[a],{i:a,dateFormatter:new aa(this.ctx).formatDate,w:c})));var v,x;t.length>0?(v=t[a].unit,x=null,t.forEach(function(S){S.unit==="month"?x="year":S.unit==="day"?x="month":S.unit==="hour"?x="day":S.unit==="minute"&&(x="hour")}),p=x===v,n=t[a].position,u=t[a].value):c.config.xaxis.type==="datetime"&&f===void 0&&(u=""),u===void 0&&(u=""),u=Array.isArray(u)?u:u.toString();var b=new Ye(this.ctx),y={};y=c.globals.rotateXLabels&&l?b.getTextRects(u,parseInt(i,10),null,"rotate(".concat(c.config.xaxis.labels.rotate," 0 0)"),!1):b.getTextRects(u,parseInt(i,10));var C=!c.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(u)&&(String(u)==="NaN"||s.indexOf(u)>=0&&C)&&(u=""),{x:n,text:u,textRect:y,isBold:p}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,n){var a=this.w,s=a.config.xaxis.tickAmount;return s==="dataPoints"&&(s=Math.round(a.globals.gridWidth/120)),s>n||e%Math.round(n/(s+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,n,a,s){var i=this.w;if(e===0&&i.globals.skipFirstTimelinelabel&&(t.text=""),e===n-1&&i.globals.skipLastTimelinelabel&&(t.text=""),i.config.xaxis.labels.hideOverlappingLabels&&a.length>0){var l=s[s.length-1];t.x<l.textRect.width/(i.globals.rotateXLabels?Math.abs(i.config.xaxis.labels.rotate)/12:1.01)+l.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var n=this.w;return n.config.yaxis[e]&&n.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some(function(n){return t.collapsedSeriesIndices.indexOf(n)===-1})}},{key:"translateYAxisIndex",value:function(e){var t=this.w,n=t.globals,a=t.config.yaxis;return n.series.length>a.length||a.some(function(s){return Array.isArray(s.seriesName)})?e:n.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,n=t.config.yaxis[e];if(!n.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!n.showForNullSeries){var a=t.globals.seriesYAxisMap[e],s=new hn(this.ctx);return a.every(function(i){return s.isSeriesNull(i)})}return!1}},{key:"getYAxisForeColor",value:function(e,t){var n=this.w;return Array.isArray(e)&&n.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,n.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,n,a,s,i,l){var c=this.w,d=new Ye(this.ctx),u=c.globals.translateY+c.config.yaxis[s].labels.offsetY;if(c.globals.isBarHorizontal?u=0:c.config.chart.type==="heatmap"&&(u+=i/2),a.show&&t>0){c.config.yaxis[s].opposite===!0&&(e+=a.width);for(var h=t;h>=0;h--){var f=d.drawLine(e+n.offsetX-a.width+a.offsetX,u+a.offsetY,e+n.offsetX+a.offsetX,u+a.offsetY,a.color);l.add(f),u+=i}}}}]),r}(),AV=function(){function r(e){bt(this,r),this.w=e.w,this.annoCtx=e,this.helpers=new l1(this.annoCtx),this.axesUtils=new Vl(this.annoCtx)}return yt(r,[{key:"addYaxisAnnotation",value:function(e,t,n){var a,s=this.w,i=e.strokeDashArray,l=this.helpers.getY1Y2("y1",e),c=l.yP,d=l.clipped,u=!0,h=!1,f=e.label.text;if(e.y2===null||e.y2===void 0){if(!d){h=!0;var p=this.annoCtx.graphics.drawLine(0+e.offsetX,c+e.offsetY,this._getYAxisAnnotationWidth(e),c+e.offsetY,e.borderColor,i,e.borderWidth);t.appendChild(p.node),e.id&&p.node.classList.add(e.id)}}else{if(a=(l=this.helpers.getY1Y2("y2",e)).yP,u=l.clipped,a>c){var m=c;c=a,a=m}if(!d||!u){h=!0;var g=this.annoCtx.graphics.drawRect(0+e.offsetX,a+e.offsetY,this._getYAxisAnnotationWidth(e),c-a,0,e.fillColor,e.opacity,1,e.borderColor,i);g.node.classList.add("apexcharts-annotation-rect"),g.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),t.appendChild(g.node),e.id&&g.node.classList.add(e.id)}}if(h){var v=e.label.position==="right"?s.globals.gridWidth:e.label.position==="center"?s.globals.gridWidth/2:0,x=this.annoCtx.graphics.drawText({x:v+e.label.offsetX,y:(a??c)+e.label.offsetY-3,text:f,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});x.attr({rel:n}),t.appendChild(x.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach(function(a,s){a.yAxisIndex=e.axesUtils.translateYAxisIndex(a.yAxisIndex),e.axesUtils.isYAxisHidden(a.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(a.yAxisIndex)||e.addYaxisAnnotation(a,n.node,s)}),n}}]),r}(),PV=function(){function r(e){bt(this,r),this.w=e.w,this.annoCtx=e,this.helpers=new l1(this.annoCtx)}return yt(r,[{key:"addPointAnnotation",value:function(e,t,n){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var a=this.helpers.getX1X2("x1",e),s=a.x,i=a.clipped,l=(a=this.helpers.getY1Y2("y1",e)).yP,c=a.clipped;if(xe.isNumber(s)&&!c&&!i){var d={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},u=this.annoCtx.graphics.drawMarker(s+e.marker.offsetX,l+e.marker.offsetY,d);t.appendChild(u.node);var h=e.label.text?e.label.text:"",f=this.annoCtx.graphics.drawText({x:s+e.label.offsetX,y:l+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:h,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(f.attr({rel:n}),t.appendChild(f.node),e.customSVG.SVG){var p=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});p.attr({transform:"translate(".concat(s+e.customSVG.offsetX,", ").concat(l+e.customSVG.offsetY,")")}),p.node.innerHTML=e.customSVG.SVG,t.appendChild(p.node)}if(e.image.path){var m=e.image.width?e.image.width:20,g=e.image.height?e.image.height:20;u=this.annoCtx.addImage({x:s+e.image.offsetX-m/2,y:l+e.image.offsetY-g/2,width:m,height:g,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&u.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&u.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&u.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(a,s){e.addPointAnnotation(a,n.node,s)}),n}}]),r}(),hE={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},jc=function(){function r(){bt(this,r),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return yt(r,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[hE],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,n){return t+n},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,n){return t+n},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),r}(),LV=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w,this.graphics=new Ye(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new l1(this),this.xAxisAnnotations=new EV(this),this.yAxisAnnotations=new AV(this),this.pointsAnnotations=new PV(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return yt(r,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),n=this.xAxisAnnotations.drawXAxisAnnotations(),a=this.pointsAnnotations.drawPointAnnotations(),s=e.config.chart.animations.enabled,i=[t,n,a],l=[n.node,t.node,a.node],c=0;c<3;c++)e.globals.dom.elGraphical.add(i[c]),!s||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&l[c].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:l[c],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(t,n){e.addImage(t,n)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(t,n){e.addText(t,n)})}},{key:"addXaxisAnnotation",value:function(e,t,n){this.xAxisAnnotations.addXaxisAnnotation(e,t,n)}},{key:"addYaxisAnnotation",value:function(e,t,n){this.yAxisAnnotations.addYaxisAnnotation(e,t,n)}},{key:"addPointAnnotation",value:function(e,t,n){this.pointsAnnotations.addPointAnnotation(e,t,n)}},{key:"addText",value:function(e,t){var n=e.x,a=e.y,s=e.text,i=e.textAnchor,l=e.foreColor,c=e.fontSize,d=e.fontFamily,u=e.fontWeight,h=e.cssClass,f=e.backgroundColor,p=e.borderWidth,m=e.strokeDashArray,g=e.borderRadius,v=e.borderColor,x=e.appendTo,b=x===void 0?".apexcharts-svg":x,y=e.paddingLeft,C=y===void 0?4:y,S=e.paddingRight,_=S===void 0?4:S,E=e.paddingBottom,A=E===void 0?2:E,T=e.paddingTop,F=T===void 0?2:T,L=this.w,D=this.graphics.drawText({x:n,y:a,text:s,textAnchor:i||"start",fontSize:c||"12px",fontWeight:u||"regular",fontFamily:d||L.config.chart.fontFamily,foreColor:l||L.config.chart.foreColor,cssClass:h}),O=L.globals.dom.baseEl.querySelector(b);O&&O.appendChild(D.node);var I=D.bbox();if(s){var B=this.graphics.drawRect(I.x-C,I.y-F,I.width+C+_,I.height+A+F,g,f||"transparent",1,p,v,m);O.insertBefore(B.node,D.node)}}},{key:"addImage",value:function(e,t){var n=this.w,a=e.path,s=e.x,i=s===void 0?0:s,l=e.y,c=l===void 0?0:l,d=e.width,u=d===void 0?20:d,h=e.height,f=h===void 0?20:h,p=e.appendTo,m=p===void 0?".apexcharts-svg":p,g=n.globals.dom.Paper.image(a);g.size(u,f).move(i,c);var v=n.globals.dom.baseEl.querySelector(m);return v&&v.appendChild(g.node),g}},{key:"addXaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"xaxis",contextMethod:n.addXaxisAnnotation}),n}},{key:"addYaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"yaxis",contextMethod:n.addYaxisAnnotation}),n}},{key:"addPointAnnotationExternal",value:function(e,t,n){return this.invertAxis===void 0&&(this.invertAxis=n.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"point",contextMethod:n.addPointAnnotation}),n}},{key:"addAnnotationExternal",value:function(e){var t=e.params,n=e.pushToMemory,a=e.context,s=e.type,i=e.contextMethod,l=a,c=l.w,d=c.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations")),u=d.childNodes.length+1,h=new jc,f=Object.assign({},s==="xaxis"?h.xAxisAnnotation:s==="yaxis"?h.yAxisAnnotation:h.pointAnnotation),p=xe.extend(f,t);switch(s){case"xaxis":this.addXaxisAnnotation(p,d,u);break;case"yaxis":this.addYaxisAnnotation(p,d,u);break;case"point":this.addPointAnnotation(p,d,u)}var m=c.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations .apexcharts-").concat(s,"-annotation-label[rel='").concat(u,"']")),g=this.helpers.addBackgroundToAnno(m,p);return g&&d.insertBefore(g.node,m),n&&c.globals.memory.methodsToExec.push({context:l,id:p.id?p.id:xe.randomId(),method:i,label:"addAnnotation",params:t}),a}},{key:"clearAnnotations",value:function(e){for(var t=e.w,n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),a=t.globals.memory.methodsToExec.length-1;a>=0;a--)t.globals.memory.methodsToExec[a].label!=="addText"&&t.globals.memory.methodsToExec[a].label!=="addAnnotation"||t.globals.memory.methodsToExec.splice(a,1);n=xe.listToArray(n),Array.prototype.forEach.call(n,function(s){for(;s.firstChild;)s.removeChild(s.firstChild)})}},{key:"removeAnnotation",value:function(e,t){var n=e.w,a=n.globals.dom.baseEl.querySelectorAll(".".concat(t));a&&(n.globals.memory.methodsToExec.map(function(s,i){s.id===t&&n.globals.memory.methodsToExec.splice(i,1)}),Array.prototype.forEach.call(a,function(s){s.parentElement.removeChild(s)}))}}]),r}(),cb=function(r){var e,t=r.isTimeline,n=r.ctx,a=r.seriesIndex,s=r.dataPointIndex,i=r.y1,l=r.y2,c=r.w,d=c.globals.seriesRangeStart[a][s],u=c.globals.seriesRangeEnd[a][s],h=c.globals.labels[s],f=c.config.series[a].name?c.config.series[a].name:"",p=c.globals.ttKeyFormatter,m=c.config.tooltip.y.title.formatter,g={w:c,seriesIndex:a,dataPointIndex:s,start:d,end:u};typeof m=="function"&&(f=m(f,g)),(e=c.config.series[a].data[s])!==null&&e!==void 0&&e.x&&(h=c.config.series[a].data[s].x),t||c.config.xaxis.type==="datetime"&&(h=new $p(n).xLabelFormat(c.globals.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new aa(n).formatDate,w:c})),typeof p=="function"&&(h=p(h,g)),Number.isFinite(i)&&Number.isFinite(l)&&(d=i,u=l);var v="",x="",b=c.globals.colors[a];if(c.config.tooltip.x.formatter===void 0)if(c.config.xaxis.type==="datetime"){var y=new aa(n);v=y.formatDate(y.getDate(d),c.config.tooltip.x.format),x=y.formatDate(y.getDate(u),c.config.tooltip.x.format)}else v=d,x=u;else v=c.config.tooltip.x.formatter(d),x=c.config.tooltip.x.formatter(u);return{start:d,end:u,startVal:v,endVal:x,ylabel:h,color:b,seriesName:f}},db=function(r){var e=r.color,t=r.seriesName,n=r.ylabel,a=r.start,s=r.end,i=r.seriesIndex,l=r.dataPointIndex,c=r.ctx.tooltip.tooltipLabels.getFormatters(i);a=c.yLbFormatter(a),s=c.yLbFormatter(s);var d=c.yLbFormatter(r.w.globals.series[i][l]),u=`<span class="value start-value">
  `.concat(a,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(s,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+n+": </span> "+(r.w.globals.comboCharts?r.w.config.series[i].type==="rangeArea"||r.w.config.series[i].type==="rangeBar"?u:"<span>".concat(d,"</span>"):u)+" </div></div>"},gp=function(){function r(e){bt(this,r),this.opts=e}return yt(r,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),xe.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var n=t.w.config.series[t.seriesIndex].name;return e!==null?n+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),ct(ct({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,a=t.dataPointIndex,s=t.w;return e._getBoxTooltip(s,n,a,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,a=t.dataPointIndex,s=t.w;return e._getBoxTooltip(s,n,a,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var n=t.seriesIndex,a=t.dataPointIndex,s=t.w,i=function(){var l=s.globals.seriesRangeStart[n][a];return s.globals.seriesRangeEnd[n][a]-l};return s.globals.comboCharts?s.config.series[n].type==="rangeBar"||s.config.series[n].type==="rangeArea"?i():e:i()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(t){var n=cb(ct(ct({},t),{},{isTimeline:!0})),a=n.color,s=n.seriesName,i=n.ylabel,l=n.startVal,c=n.endVal;return db(ct(ct({},t),{},{color:a,seriesName:s,ylabel:i,start:l,end:c}))}(e):function(t){var n=cb(t),a=n.color,s=n.seriesName,i=n.ylabel,l=n.start,c=n.end;return db(ct(ct({},t),{},{color:a,seriesName:s,ylabel:i,start:l,end:c}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,n;return(t=e.plotOptions.bar)!==null&&t!==void 0&&t.barHeight||(e.plotOptions.bar.barHeight=2),(n=e.plotOptions.bar)!==null&&n!==void 0&&n.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(t){var n=cb(t),a=n.color,s=n.seriesName,i=n.ylabel,l=n.start,c=n.end;return db(ct(ct({},t),{},{color:a,seriesName:s,ylabel:i,start:l,end:c}))}(e)}}}}},{key:"brush",value:function(e){return xe.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach(function(n,a){e.yaxis[a].min=0,e.yaxis[a].max=100}),e.chart.type==="bar"&&(e.dataLabels.formatter=t||function(n){return typeof n=="number"&&n?n.toFixed(0)+"%":n}),e}},{key:"stackedBars",value:function(){var e=this.bar();return ct(ct({},e),{},{plotOptions:ct(ct({},e.plotOptions),{},{bar:ct(ct({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,n){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(i){return xe.isNumber(i)?Math.floor(i):i};var a=e.xaxis.labels.formatter,s=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return n&&n.length&&(s=n.map(function(i){return Array.isArray(i)?i:String(i)})),s&&s.length&&(e.xaxis.labels.formatter=function(i){return xe.isNumber(i)?a(s[Math.floor(i)-1]):a(i)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,n,a,s){var i=e.globals.seriesCandleO[t][n],l=e.globals.seriesCandleH[t][n],c=e.globals.seriesCandleM[t][n],d=e.globals.seriesCandleL[t][n],u=e.globals.seriesCandleC[t][n];return e.config.series[t].type&&e.config.series[t].type!==s?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][n],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(a[0],': <span class="value">')+i+"</span></div>"+"<div>".concat(a[1],': <span class="value">')+l+"</span></div>"+(c?"<div>".concat(a[2],': <span class="value">')+c+"</span></div>":"")+"<div>".concat(a[3],': <span class="value">')+d+"</span></div>"+"<div>".concat(a[4],': <span class="value">')+u+"</span></div></div>"}}]),r}(),mp=function(){function r(e){bt(this,r),this.opts=e}return yt(r,[{key:"init",value:function(e){var t=e.responsiveOverride,n=this.opts,a=new jc,s=new gp(n);this.chartType=n.chart.type,n=this.extendYAxis(n),n=this.extendAnnotations(n);var i=a.init(),l={};if(n&&Yu(n)==="object"){var c,d,u,h,f,p,m,g,v,x,b={};b=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(n.chart.type)!==-1?s[n.chart.type]():s.line(),(c=n.plotOptions)!==null&&c!==void 0&&(d=c.bar)!==null&&d!==void 0&&d.isFunnel&&(b=s.funnel()),n.chart.stacked&&n.chart.type==="bar"&&(b=s.stackedBars()),(u=n.chart.brush)!==null&&u!==void 0&&u.enabled&&(b=s.brush(b)),(h=n.plotOptions)!==null&&h!==void 0&&(f=h.line)!==null&&f!==void 0&&f.isSlopeChart&&(b=s.slope()),n.chart.stacked&&n.chart.stackType==="100%"&&(n=s.stacked100(n)),(p=n.plotOptions)!==null&&p!==void 0&&(m=p.bar)!==null&&m!==void 0&&m.isDumbbell&&(n=s.dumbbell(n)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(n),n.xaxis=n.xaxis||window.Apex.xaxis||{},t||(n.xaxis.convertedCatToNumeric=!1),((g=(n=this.checkForCatToNumericXAxis(this.chartType,b,n)).chart.sparkline)!==null&&g!==void 0&&g.enabled||(v=window.Apex.chart)!==null&&v!==void 0&&(x=v.sparkline)!==null&&x!==void 0&&x.enabled)&&(b=s.sparkline(b)),l=xe.extend(i,b)}var y=xe.extend(l,window.Apex);return i=xe.extend(y,n),i=this.handleUserInputErrors(i)}},{key:"checkForCatToNumericXAxis",value:function(e,t,n){var a,s,i=new gp(n),l=(e==="bar"||e==="boxPlot")&&((a=n.plotOptions)===null||a===void 0||(s=a.bar)===null||s===void 0?void 0:s.horizontal),c=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",d=n.xaxis.type!=="datetime"&&n.xaxis.type!=="numeric",u=n.xaxis.tickPlacement?n.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return l||c||!d||u==="between"||(n=i.convertCatToNumeric(n)),n}},{key:"extendYAxis",value:function(e,t){var n=new jc;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=xe.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[xe.extend(n.yAxis,e.yaxis)]:e.yaxis=xe.extendArray(e.yaxis,n.yAxis);var a=!1;e.yaxis.forEach(function(i){i.logarithmic&&(a=!0)});var s=e.series;return t&&!s&&(s=t.config.series),a&&s.length!==e.yaxis.length&&s.length&&(e.yaxis=s.map(function(i,l){if(i.name||(s[l].name="series-".concat(l+1)),e.yaxis[l])return e.yaxis[l].seriesName=s[l].name,e.yaxis[l];var c=xe.extend(n.yAxis,e.yaxis[0]);return c.show=!1,c})),a&&s.length>1&&s.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new jc;return e.annotations.yaxis=xe.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new jc;return e.annotations.xaxis=xe.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new jc;return e.annotations.points=xe.extendArray(e.annotations.points!==void 0?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(t.chart.type==="bar"&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return t.chart.type!=="bar"&&t.chart.type!=="rangeBar"||t.tooltip.shared&&t.xaxis.crosshairs.width==="barWidth"&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),t.chart.type!=="candlestick"&&t.chart.type!=="boxPlot"||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),r}(),fE=function(){function r(){bt(this,r)}return yt(r,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=xe.extend({},e),t.initialSeries=xe.clone(e.series),t.lastXAxis=xe.clone(t.initialConfig.xaxis),t.lastYAxis=xe.clone(t.initialConfig.yaxis),t}}]),r}(),DV=function(){function r(e){bt(this,r),this.opts=e}return yt(r,[{key:"init",value:function(){var e=new mp(this.opts).init({responsiveOverride:!1});return{config:e,globals:new fE().init(e)}}}]),r}(),ji=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return yt(r,[{key:"clippedImgArea",value:function(e){var t=this.w,n=t.config,a=parseInt(t.globals.gridWidth,10),s=parseInt(t.globals.gridHeight,10),i=a>s?a:s,l=e.image,c=0,d=0;e.width===void 0&&e.height===void 0?n.fill.image.width!==void 0&&n.fill.image.height!==void 0?(c=n.fill.image.width+1,d=n.fill.image.height):(c=i+1,d=i):(c=e.width,d=e.height);var u=document.createElementNS(t.globals.SVGNS,"pattern");Ye.setAttrs(u,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:c+"px",height:d+"px"});var h=document.createElementNS(t.globals.SVGNS,"image");u.appendChild(h),h.setAttributeNS(window.SVG.xlink,"href",l),Ye.setAttrs(h,{x:0,y:0,preserveAspectRatio:"none",width:c+"px",height:d+"px"}),h.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(u)}},{key:"getSeriesIndex",value:function(e){var t=this.w,n=t.config.chart.type;return(n==="bar"||n==="rangeBar")&&t.config.plotOptions.bar.distributed||n==="heatmap"||n==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,t){var n,a=this.w,s=null,i=null,l=Nf(e);try{for(l.s();!(n=l.n()).done;){var c=n.value;c>=t.threshold?(s===null||c>s)&&(s=c):(i===null||c<i)&&(i=c)}}catch(h){l.e(h)}finally{l.f()}s===null&&(s=t.threshold),i===null&&(i=t.threshold);var d=s-t.threshold+(t.threshold-i);d===0&&(d=1);var u=100-(t.threshold-i)/d*100;return[{offset:u=Math.max(0,Math.min(u,100)),color:t.colorAboveThreshold,opacity:a.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:a.config.fill.opacity}]}},{key:"fillPath",value:function(e){var t,n,a,s=this.w;this.opts=e;var i,l,c,d=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var u=d.plotOptions.line.colors.colorAboveThreshold&&d.plotOptions.line.colors.colorBelowThreshold,h=this.getFillColors()[this.seriesIndex];s.globals.seriesColors[this.seriesIndex]!==void 0&&(h=s.globals.seriesColors[this.seriesIndex]),typeof h=="function"&&(h=h({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:s}));var f,p,m,g=e.fillType?e.fillType:this.getFillType(this.seriesIndex),v=Array.isArray(d.fill.opacity)?d.fill.opacity[this.seriesIndex]:d.fill.opacity,x=g==="gradient"||u;e.color&&(h=e.color),(t=s.config.series[this.seriesIndex])!==null&&t!==void 0&&(n=t.data)!==null&&n!==void 0&&(a=n[e.dataPointIndex])!==null&&a!==void 0&&a.fillColor&&(h=(f=s.config.series[this.seriesIndex])===null||f===void 0||(p=f.data)===null||p===void 0||(m=p[e.dataPointIndex])===null||m===void 0?void 0:m.fillColor),h||(h="#fff",console.warn("undefined color - ApexCharts"));var b=h;if(h.indexOf("rgb")===-1?h.indexOf("#")===-1?b=h:h.length<9&&(b=xe.hexToRgba(h,v)):h.indexOf("rgba")>-1?v=xe.getOpacityFromRGBA(h):b=xe.hexToRgba(xe.rgb2hex(h),v),e.opacity&&(v=e.opacity),g==="pattern"&&(l=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:l,fillColor:h,fillOpacity:v,defaultColor:b})),x){var y=zn(d.fill.gradient.colorStops)||[],C=d.fill.gradient.type;u&&(y[this.seriesIndex]=this.computeColorStops(s.globals.series[this.seriesIndex],d.plotOptions.line.colors),C="vertical"),c=this.handleGradientFill({type:C,fillConfig:e.fillConfig,fillColor:h,fillOpacity:v,colorStops:y,i:this.seriesIndex})}if(g==="image"){var S=d.fill.image.src,_=e.patternID?e.patternID:"",E="pattern".concat(s.globals.cuid).concat(e.seriesNumber+1).concat(_);this.patternIDs.indexOf(E)===-1&&(this.clippedImgArea({opacity:v,image:Array.isArray(S)?e.seriesNumber<S.length?S[e.seriesNumber]:S[0]:S,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:E}),this.patternIDs.push(E)),i="url(#".concat(E,")")}else i=x?c:g==="pattern"?l:b;return e.solid&&(i=b),i}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,n=this.opts,a=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?a=e.globals.stroke.colors:a.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?a=e.globals.fill.colors:a.push(e.globals.fill.colors):t.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?a=e.globals.stroke.colors:a.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?a=e.globals.fill.colors:a.push(e.globals.fill.colors),n.fillColors!==void 0&&(a=[],Array.isArray(n.fillColors)?a=n.fillColors.slice():a.push(n.fillColors)),a}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,n=e.patternFill,a=e.fillColor,s=e.fillOpacity,i=e.defaultColor,l=this.w.config.fill;t&&(l=t);var c=this.opts,d=new Ye(this.ctx),u=Array.isArray(l.pattern.strokeWidth)?l.pattern.strokeWidth[this.seriesIndex]:l.pattern.strokeWidth,h=a;return Array.isArray(l.pattern.style)?n=l.pattern.style[c.seriesNumber]!==void 0?d.drawPattern(l.pattern.style[c.seriesNumber],l.pattern.width,l.pattern.height,h,u,s):i:n=d.drawPattern(l.pattern.style,l.pattern.width,l.pattern.height,h,u,s),n}},{key:"handleGradientFill",value:function(e){var t=e.type,n=e.fillColor,a=e.fillOpacity,s=e.fillConfig,i=e.colorStops,l=e.i,c=this.w.config.fill;s&&(c=ct(ct({},c),s));var d=this.opts,u=new Ye(this.ctx),h=new xe;t=t||c.gradient.type;var f,p=n,m=c.gradient.opacityFrom===void 0?a:Array.isArray(c.gradient.opacityFrom)?c.gradient.opacityFrom[l]:c.gradient.opacityFrom;p.indexOf("rgba")>-1&&(m=xe.getOpacityFromRGBA(p));var g=c.gradient.opacityTo===void 0?a:Array.isArray(c.gradient.opacityTo)?c.gradient.opacityTo[l]:c.gradient.opacityTo;if(c.gradient.gradientToColors===void 0||c.gradient.gradientToColors.length===0)f=c.gradient.shade==="dark"?h.shadeColor(-1*parseFloat(c.gradient.shadeIntensity),n.indexOf("rgb")>-1?xe.rgb2hex(n):n):h.shadeColor(parseFloat(c.gradient.shadeIntensity),n.indexOf("rgb")>-1?xe.rgb2hex(n):n);else if(c.gradient.gradientToColors[d.seriesNumber]){var v=c.gradient.gradientToColors[d.seriesNumber];f=v,v.indexOf("rgba")>-1&&(g=xe.getOpacityFromRGBA(v))}else f=n;if(c.gradient.gradientFrom&&(p=c.gradient.gradientFrom),c.gradient.gradientTo&&(f=c.gradient.gradientTo),c.gradient.inverseColors){var x=p;p=f,f=x}return p.indexOf("rgb")>-1&&(p=xe.rgb2hex(p)),f.indexOf("rgb")>-1&&(f=xe.rgb2hex(f)),u.drawGradient(t,p,f,m,g,d.size,c.gradient.stops,i,l)}}]),r}(),vh=function(){function r(e,t){bt(this,r),this.ctx=e,this.w=e.w}return yt(r,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)e.globals.markers.size[t]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(n){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e){var t=e.pointsPos,n=e.seriesIndex,a=e.j,s=e.pSize,i=e.alwaysDrawMarker,l=i!==void 0&&i,c=e.isVirtualPoint,d=c!==void 0&&c,u=this.w,h=n,f=t,p=null,m=new Ye(this.ctx),g=u.config.markers.discrete&&u.config.markers.discrete.length;if(Array.isArray(f.x))for(var v=0;v<f.x.length;v++){var x=void 0,b=a,y=!xe.isNumber(f.y[v]);u.globals.markers.largestSize===0&&u.globals.hasNullValues&&u.globals.series[h][a+1]!==null&&!d&&(y=!0),a===1&&v===0&&(b=0),a===1&&v===1&&(b=1);var C="apexcharts-marker";if(u.config.chart.type!=="line"&&u.config.chart.type!=="area"||u.globals.comboCharts||u.config.tooltip.intersect||(C+=" no-pointer-events"),(Array.isArray(u.config.markers.size)?u.globals.markers.size[n]>0:u.config.markers.size>0)||l||g){y||(C+=" w".concat(xe.randomId()));var S=this.getMarkerConfig({cssClass:C,seriesIndex:n,dataPointIndex:b});u.config.series[h].data[b]&&(u.config.series[h].data[b].fillColor&&(S.pointFillColor=u.config.series[h].data[b].fillColor),u.config.series[h].data[b].strokeColor&&(S.pointStrokeColor=u.config.series[h].data[b].strokeColor)),s!==void 0&&(S.pSize=s),(f.x[v]<-u.globals.markers.largestSize||f.x[v]>u.globals.gridWidth+u.globals.markers.largestSize||f.y[v]<-u.globals.markers.largestSize||f.y[v]>u.globals.gridHeight+u.globals.markers.largestSize)&&(S.pSize=0),!y&&((u.globals.markers.size[n]>0||l||g)&&!p&&(p=m.group({class:l||g?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(u.globals.cuid,")")),(x=m.drawMarker(f.x[v],f.y[v],S)).attr("rel",b),x.attr("j",b),x.attr("index",n),x.node.setAttribute("default-marker-size",S.pSize),new sa(this.ctx).setSelectionFilter(x,n,b),this.addEvents(x),p&&p.add(x))}else u.globals.pointsArray[n]===void 0&&(u.globals.pointsArray[n]=[]),u.globals.pointsArray[n].push([f.x[v],f.y[v]])}return p}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,n=e.seriesIndex,a=e.dataPointIndex,s=a===void 0?null:a,i=e.radius,l=i===void 0?null:i,c=e.size,d=c===void 0?null:c,u=e.strokeWidth,h=u===void 0?null:u,f=this.w,p=this.getMarkerStyle(n),m=d===null?f.globals.markers.size[n]:d,g=f.config.markers;return s!==null&&g.discrete.length&&g.discrete.map(function(v){v.seriesIndex===n&&v.dataPointIndex===s&&(p.pointStrokeColor=v.strokeColor,p.pointFillColor=v.fillColor,m=v.size,p.pointShape=v.shape)}),{pSize:l===null?m:l,pRadius:l!==null?l:g.radius,pointStrokeWidth:h!==null?h:Array.isArray(g.strokeWidth)?g.strokeWidth[n]:g.strokeWidth,pointStrokeColor:p.pointStrokeColor,pointFillColor:p.pointFillColor,shape:p.pointShape||(Array.isArray(g.shape)?g.shape[n]:g.shape),class:t,pointStrokeOpacity:Array.isArray(g.strokeOpacity)?g.strokeOpacity[n]:g.strokeOpacity,pointStrokeDashArray:Array.isArray(g.strokeDashArray)?g.strokeDashArray[n]:g.strokeDashArray,pointFillOpacity:Array.isArray(g.fillOpacity)?g.fillOpacity[n]:g.fillOpacity,seriesIndex:n}}},{key:"addEvents",value:function(e){var t=this.w,n=new Ye(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",n.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,n=t.globals.markers.colors,a=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(a)?a[e]:a,pointFillColor:Array.isArray(n)?n[e]:n}}}]),r}(),pE=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return yt(r,[{key:"draw",value:function(e,t,n){var a=this.w,s=new Ye(this.ctx),i=n.realIndex,l=n.pointsPos,c=n.zRatio,d=n.elParent,u=s.group({class:"apexcharts-series-markers apexcharts-series-".concat(a.config.chart.type)});if(u.attr("clip-path","url(#gridRectMarkerMask".concat(a.globals.cuid,")")),Array.isArray(l.x))for(var h=0;h<l.x.length;h++){var f=t+1,p=!0;t===0&&h===0&&(f=0),t===0&&h===1&&(f=1);var m=a.globals.markers.size[i];if(c!==1/0){var g=a.config.plotOptions.bubble;m=a.globals.seriesZ[i][f],g.zScaling&&(m/=c),g.minBubbleRadius&&m<g.minBubbleRadius&&(m=g.minBubbleRadius),g.maxBubbleRadius&&m>g.maxBubbleRadius&&(m=g.maxBubbleRadius)}var v=l.x[h],x=l.y[h];if(m=m||0,x!==null&&a.globals.series[i][f]!==void 0||(p=!1),p){var b=this.drawPoint(v,x,m,i,f,t);u.add(b)}d.add(u)}}},{key:"drawPoint",value:function(e,t,n,a,s,i){var l=this.w,c=a,d=new ph(this.ctx),u=new sa(this.ctx),h=new ji(this.ctx),f=new vh(this.ctx),p=new Ye(this.ctx),m=f.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:c,dataPointIndex:s,radius:l.config.chart.type==="bubble"||l.globals.comboCharts&&l.config.series[a]&&l.config.series[a].type==="bubble"?n:null}),g=h.fillPath({seriesNumber:a,dataPointIndex:s,color:m.pointFillColor,patternUnits:"objectBoundingBox",value:l.globals.series[a][i]}),v=p.drawMarker(e,t,m);if(l.config.series[c].data[s]&&l.config.series[c].data[s].fillColor&&(g=l.config.series[c].data[s].fillColor),v.attr({fill:g}),l.config.chart.dropShadow.enabled){var x=l.config.chart.dropShadow;u.dropShadow(v,x,a)}if(!this.initialAnim||l.globals.dataChanged||l.globals.resized)l.globals.animationEnded=!0;else{var b=l.config.chart.animations.speed;d.animateMarker(v,b,l.globals.easing,function(){window.setTimeout(function(){d.animationCompleted(v)},100)})}return v.attr({rel:s,j:s,index:a,"default-marker-size":m.pSize}),u.setSelectionFilter(v,a,s),f.addEvents(v),v.node.classList.add("apexcharts-marker"),v}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),r}(),Xu=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w}return yt(r,[{key:"dataLabelsCorrection",value:function(e,t,n,a,s,i,l){var c=this.w,d=!1,u=new Ye(this.ctx).getTextRects(n,l),h=u.width,f=u.height;t<0&&(t=0),t>c.globals.gridHeight+f&&(t=c.globals.gridHeight+f/2),c.globals.dataLabelsRects[a]===void 0&&(c.globals.dataLabelsRects[a]=[]),c.globals.dataLabelsRects[a].push({x:e,y:t,width:h,height:f});var p=c.globals.dataLabelsRects[a].length-2,m=c.globals.lastDrawnDataLabelsIndexes[a]!==void 0?c.globals.lastDrawnDataLabelsIndexes[a][c.globals.lastDrawnDataLabelsIndexes[a].length-1]:0;if(c.globals.dataLabelsRects[a][p]!==void 0){var g=c.globals.dataLabelsRects[a][m];(e>g.x+g.width||t>g.y+g.height||t+f<g.y||e+h<g.x)&&(d=!0)}return(s===0||i)&&(d=!0),{x:e,y:t,textRects:u,drawnextLabel:d}}},{key:"drawDataLabel",value:function(e){var t=this,n=e.type,a=e.pos,s=e.i,i=e.j,l=e.isRangeStart,c=e.strokeWidth,d=c===void 0?2:c,u=this.w,h=new Ye(this.ctx),f=u.config.dataLabels,p=0,m=0,g=i,v=null;if(u.globals.collapsedSeriesIndices.indexOf(s)!==-1||!f.enabled||!Array.isArray(a.x))return v;v=h.group({class:"apexcharts-data-labels"});for(var x=0;x<a.x.length;x++)if(p=a.x[x]+f.offsetX,m=a.y[x]+f.offsetY+d,!isNaN(p)){i===1&&x===0&&(g=0),i===1&&x===1&&(g=1);var b=u.globals.series[s][g];n==="rangeArea"&&(b=l?u.globals.seriesRangeStart[s][g]:u.globals.seriesRangeEnd[s][g]);var y="",C=function(_){return u.config.dataLabels.formatter(_,{ctx:t.ctx,seriesIndex:s,dataPointIndex:g,w:u})};u.config.chart.type==="bubble"?(y=C(b=u.globals.seriesZ[s][g]),m=a.y[x],m=new pE(this.ctx).centerTextInBubble(m,s,g).y):b!==void 0&&(y=C(b));var S=u.config.dataLabels.textAnchor;u.globals.isSlopeChart&&(S=g===0?"end":g===u.config.series[s].data.length-1?"start":"middle"),this.plotDataLabelsText({x:p,y:m,text:y,i:s,j:g,parent:v,offsetCorrection:!0,dataLabelsConfig:u.config.dataLabels,textAnchor:S})}return v}},{key:"plotDataLabelsText",value:function(e){var t=this.w,n=new Ye(this.ctx),a=e.x,s=e.y,i=e.i,l=e.j,c=e.text,d=e.textAnchor,u=e.fontSize,h=e.parent,f=e.dataLabelsConfig,p=e.color,m=e.alwaysDrawDataLabel,g=e.offsetCorrection,v=e.className,x=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(i)<0)return x;var b={x:a,y:s,drawnextLabel:!0,textRects:null};g&&(b=this.dataLabelsCorrection(a,s,c,i,l,m,parseInt(f.style.fontSize,10))),t.globals.zoomed||(a=b.x,s=b.y),b.textRects&&(a<-20-b.textRects.width||a>t.globals.gridWidth+b.textRects.width+30)&&(c="");var y=t.globals.dataLabels.style.colors[i];((t.config.chart.type==="bar"||t.config.chart.type==="rangeBar")&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(y=t.globals.dataLabels.style.colors[l]),typeof y=="function"&&(y=y({series:t.globals.series,seriesIndex:i,dataPointIndex:l,w:t})),p&&(y=p);var C=f.offsetX,S=f.offsetY;if(t.config.chart.type!=="bar"&&t.config.chart.type!=="rangeBar"||(C=0,S=0),t.globals.isSlopeChart&&(l!==0&&(C=-2*f.offsetX+5),l!==0&&l!==t.config.series[i].data.length-1&&(C=0)),b.drawnextLabel){if((x=n.drawText({width:100,height:parseInt(f.style.fontSize,10),x:a+C,y:s+S,foreColor:y,textAnchor:d||f.textAnchor,text:c,fontSize:u||f.style.fontSize,fontFamily:f.style.fontFamily,fontWeight:f.style.fontWeight||"normal"})).attr({class:v||"apexcharts-datalabel",cx:a,cy:s}),f.dropShadow.enabled){var _=f.dropShadow;new sa(this.ctx).dropShadow(x,_)}h.add(x),t.globals.lastDrawnDataLabelsIndexes[i]===void 0&&(t.globals.lastDrawnDataLabelsIndexes[i]=[]),t.globals.lastDrawnDataLabelsIndexes[i].push(l)}return x}},{key:"addBackgroundToDataLabel",value:function(e,t){var n=this.w,a=n.config.dataLabels.background,s=a.padding,i=a.padding/2,l=t.width,c=t.height,d=new Ye(this.ctx).drawRect(t.x-s,t.y-i/2,l+2*s,c+i,a.borderRadius,n.config.chart.background!=="transparent"&&n.config.chart.background?n.config.chart.background:"#fff",a.opacity,a.borderWidth,a.borderColor);return a.dropShadow.enabled&&new sa(this.ctx).dropShadow(d,a.dropShadow),d}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),n=0;n<t.length;n++){var a=t[n],s=a.getBBox(),i=null;if(s.width&&s.height&&(i=this.addBackgroundToDataLabel(a,s)),i){a.parentNode.insertBefore(i.node,a);var l=a.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?i.animate().attr({fill:l}):i.attr({fill:l}),a.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),n=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),a=0;a<t.length;a++)n&&n.insertBefore(t[a],n.nextSibling)}}]),r}(),Zs=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return yt(r,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(xe.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),n=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:n}}},{key:"addCollapsedClassToSeries",value:function(e,t){var n=this.w;function a(s){for(var i=0;i<s.length;i++)s[i].index===t&&e.node.classList.add("apexcharts-series-collapsed")}a(n.globals.collapsedSeries),a(n.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=this.w,s=xe.clone(a.globals.initialSeries);a.globals.previousPaths=[],n?(a.globals.collapsedSeries=[],a.globals.ancillaryCollapsedSeries=[],a.globals.collapsedSeriesIndices=[],a.globals.ancillaryCollapsedSeriesIndices=[]):s=this.emptyCollapsedSeries(s),a.config.series=s,e&&(t&&(a.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(s,a.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,n=0;n<e.length;n++)t.globals.collapsedSeriesIndices.indexOf(n)>-1&&(e[n].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,n=this.getSeriesByName(e),a=parseInt(n==null?void 0:n.getAttribute("data:realIndex"),10),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),i=null,l=null,c=null;if(t.globals.axisCharts||t.config.chart.type==="radialBar")if(t.globals.axisCharts){i=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),l=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(a,"']"));var d=t.globals.seriesYAxisReverseMap[a];c=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(d,"']"))}else i=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']"));else i=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"'] path"));for(var u=0;u<s.length;u++)s[u].classList.add(this.legendInactiveClass);if(i)t.globals.axisCharts||i.parentNode.classList.remove(this.legendInactiveClass),i.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass),c!==null&&c.classList.remove(this.legendInactiveClass);else for(var h=0;h<s.length;h++)s[h].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var n=this.w;t||(t=e.target);var a=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var s=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(n.globals.seriesNames[s])}else if(e.type==="mouseout")for(var i=0;i<a.length;i++)a[i].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var n=this,a=this.w,s=a.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),i=function(d){for(var u=0;u<s.length;u++)s[u].classList[d](n.legendInactiveClass)};if(e.type==="mousemove"){var l=parseInt(t.getAttribute("rel"),10)-1;i("add");var c=a.config.plotOptions.heatmap.colorScale.ranges;(function(d,u){for(var h=0;h<s.length;h++){var f=Number(s[h].getAttribute("val"));f>=d.from&&(f<d.to||d.to===u&&f===u)&&s[h].classList.remove(n.legendInactiveClass)}})(c[l],c.reduce(function(d,u){return Math.max(d,u.to)},0))}else e.type==="mouseout"&&i("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=this.w,a=0;if(n.config.series.length>1){for(var s=n.config.series.map(function(l,c){return l.data&&l.data.length>0&&n.globals.collapsedSeriesIndices.indexOf(c)===-1&&(!n.globals.comboCharts||t.length===0||t.length&&t.indexOf(n.config.series[c].type)>-1)?c:-1}),i=e==="asc"?0:s.length-1;e==="asc"?i<s.length:i>=0;e==="asc"?i++:i--)if(s[i]!==-1){a=s[i];break}}return a}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,t){return e.type==="bar"||e.type==="column"?t:-1}).filter(function(e){return e!==-1}):this.w.config.series.map(function(e,t){return t})}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(i,l,c){for(var d=i[l].childNodes,u={type:c,paths:[],realIndex:i[l].getAttribute("data:realIndex")},h=0;h<d.length;h++)if(d[h].hasAttribute("pathTo")){var f=d[h].getAttribute("pathTo");u.paths.push({d:f})}e.globals.previousPaths.push(u)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(i){for(var l,c=(l=i,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(l,"-series .apexcharts-series"))),d=0;d<c.length;d++)t(c,d,i)});var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(n.length>0)for(var a=function(i){for(var l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(i,"'] rect")),c=[],d=function(h){var f=function(m){return l[h].getAttribute(m)},p={x:parseFloat(f("x")),y:parseFloat(f("y")),width:parseFloat(f("width")),height:parseFloat(f("height"))};c.push({rect:p,color:l[h].getAttribute("color")})},u=0;u<l.length;u++)d(u);e.globals.previousPaths.push(c)},s=0;s<n.length;s++)a(s);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,n=new Ye(this.ctx),a=e.globals.svgWidth/2,s=e.globals.svgHeight/2,i="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,t.align==="left"?(a=10,i="start"):t.align==="right"&&(a=e.globals.svgWidth-10,i="end"),t.verticalAlign==="top"?s=50:t.verticalAlign==="bottom"&&(s=e.globals.svgHeight-50),a+=t.offsetX,s=s+parseInt(t.style.fontSize,10)+2+t.offsetY,t.text!==void 0&&t.text!==""){var l=n.drawText({x:a,y:s,text:t.text,textAnchor:i,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(l)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,n=0;n<e.length;n++)if(e[n].length===0)for(var a=0;a<e[t.globals.maxValsInArrayIndex].length;a++)e[n].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,n=this.filteredSeriesX(),a=0;a<n.length-1;a++)if(n[a][0]!==n[a+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map(function(t){return t.length>0?t:[]});return e}}]),r}(),P4=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new hn(this.ctx)}return yt(r,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new Zs(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new Zs(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var n=this.w.config,a=this.w.globals,s=n.chart.type==="boxPlot"||n.series[t].type==="boxPlot",i=0;i<e[t].data.length;i++)if(e[t].data[i][1]!==void 0&&(Array.isArray(e[t].data[i][1])&&e[t].data[i][1].length===4&&!s?this.twoDSeries.push(xe.parseNumber(e[t].data[i][1][3])):e[t].data[i].length>=5?this.twoDSeries.push(xe.parseNumber(e[t].data[i][4])):this.twoDSeries.push(xe.parseNumber(e[t].data[i][1])),a.dataFormatXNumeric=!0),n.xaxis.type==="datetime"){var l=new Date(e[t].data[i][0]);l=new Date(l).getTime(),this.twoDSeriesX.push(l)}else this.twoDSeriesX.push(e[t].data[i][0]);for(var c=0;c<e[t].data.length;c++)e[t].data[c][2]!==void 0&&(this.threeDSeries.push(e[t].data[c][2]),a.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var n=this.w.config,a=this.w.globals,s=new aa(this.ctx),i=t;a.collapsedSeriesIndices.indexOf(t)>-1&&(i=this.activeSeriesIndex);for(var l=0;l<e[t].data.length;l++)e[t].data[l].y!==void 0&&(Array.isArray(e[t].data[l].y)?this.twoDSeries.push(xe.parseNumber(e[t].data[l].y[e[t].data[l].y.length-1])):this.twoDSeries.push(xe.parseNumber(e[t].data[l].y))),e[t].data[l].goals!==void 0&&Array.isArray(e[t].data[l].goals)?(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[l].goals)):(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var c=0;c<e[i].data.length;c++){var d=typeof e[i].data[c].x=="string",u=Array.isArray(e[i].data[c].x),h=!u&&!!s.isValidDate(e[i].data[c].x);if(d||h)if(d||n.xaxis.convertedCatToNumeric){var f=a.isBarHorizontal&&a.isRangeData;n.xaxis.type!=="datetime"||f?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[i].data[c].x),isNaN(e[i].data[c].x)||this.w.config.xaxis.type==="category"||typeof e[i].data[c].x=="string"||(a.isXNumeric=!0)):this.twoDSeriesX.push(s.parseDate(e[i].data[c].x))}else n.xaxis.type==="datetime"?this.twoDSeriesX.push(s.parseDate(e[i].data[c].x.toString())):(a.dataFormatXNumeric=!0,a.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[i].data[c].x)));else u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[i].data[c].x)):(a.isXNumeric=!0,a.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[i].data[c].x))}if(e[t].data[0]&&e[t].data[0].z!==void 0){for(var p=0;p<e[t].data.length;p++)this.threeDSeries.push(e[t].data[p].z);a.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var n=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(a=this.handleRangeDataFormat("xy",e,t)),n.seriesRangeStart.push(a.start===void 0?[]:a.start),n.seriesRangeEnd.push(a.end===void 0?[]:a.end),n.seriesRange.push(a.rangeUniques),n.seriesRange.forEach(function(s,i){s&&s.forEach(function(l,c){l.y.forEach(function(d,u){for(var h=0;h<l.y.length;h++)if(u!==h){var f=d.y1,p=d.y2,m=l.y[h].y1;f<=l.y[h].y2&&m<=p&&(l.overlaps.indexOf(d.rangeName)<0&&l.overlaps.push(d.rangeName),l.overlaps.indexOf(l.y[h].rangeName)<0&&l.overlaps.push(l.y[h].rangeName))}})})}),a}},{key:"handleCandleStickBoxData",value:function(e,t){var n=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(a=this.handleCandleStickBoxDataFormat("xy",e,t)),n.seriesCandleO[t]=a.o,n.seriesCandleH[t]=a.h,n.seriesCandleM[t]=a.m,n.seriesCandleL[t]=a.l,n.seriesCandleC[t]=a.c,a}},{key:"handleRangeDataFormat",value:function(e,t,n){var a=[],s=[],i=t[n].data.filter(function(u,h,f){return h===f.findIndex(function(p){return p.x===u.x})}).map(function(u,h){return{x:u.x,overlaps:[],y:[]}});if(e==="array")for(var l=0;l<t[n].data.length;l++)Array.isArray(t[n].data[l])?(a.push(t[n].data[l][1][0]),s.push(t[n].data[l][1][1])):(a.push(t[n].data[l]),s.push(t[n].data[l]));else if(e==="xy")for(var c=function(u){var h=Array.isArray(t[n].data[u].y),f=xe.randomId(),p=t[n].data[u].x,m={y1:h?t[n].data[u].y[0]:t[n].data[u].y,y2:h?t[n].data[u].y[1]:t[n].data[u].y,rangeName:f};t[n].data[u].rangeName=f;var g=i.findIndex(function(v){return v.x===p});i[g].y.push(m),a.push(m.y1),s.push(m.y2)},d=0;d<t[n].data.length;d++)c(d);return{start:a,end:s,rangeUniques:i}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,n){var a=this.w,s=a.config.chart.type==="boxPlot"||a.config.series[n].type==="boxPlot",i=[],l=[],c=[],d=[],u=[];if(e==="array")if(s&&t[n].data[0].length===6||!s&&t[n].data[0].length===5)for(var h=0;h<t[n].data.length;h++)i.push(t[n].data[h][1]),l.push(t[n].data[h][2]),s?(c.push(t[n].data[h][3]),d.push(t[n].data[h][4]),u.push(t[n].data[h][5])):(d.push(t[n].data[h][3]),u.push(t[n].data[h][4]));else for(var f=0;f<t[n].data.length;f++)Array.isArray(t[n].data[f][1])&&(i.push(t[n].data[f][1][0]),l.push(t[n].data[f][1][1]),s?(c.push(t[n].data[f][1][2]),d.push(t[n].data[f][1][3]),u.push(t[n].data[f][1][4])):(d.push(t[n].data[f][1][2]),u.push(t[n].data[f][1][3])));else if(e==="xy")for(var p=0;p<t[n].data.length;p++)Array.isArray(t[n].data[p].y)&&(i.push(t[n].data[p].y[0]),l.push(t[n].data[p].y[1]),s?(c.push(t[n].data[p].y[2]),d.push(t[n].data[p].y[3]),u.push(t[n].data[p].y[4])):(d.push(t[n].data[p].y[2]),u.push(t[n].data[p].y[3])));return{o:i,h:l,m:c,l:d,c:u}}},{key:"parseDataAxisCharts",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,a=this.w.config,s=this.w.globals,i=new aa(n),l=a.labels.length>0?a.labels.slice():a.xaxis.categories.slice();s.isRangeBar=a.chart.type==="rangeBar"&&s.isBarHorizontal,s.hasXaxisGroups=a.xaxis.type==="category"&&a.xaxis.group.groups.length>0,s.hasXaxisGroups&&(s.groups=a.xaxis.group.groups),e.forEach(function(p,m){p.name!==void 0?s.seriesNames.push(p.name):s.seriesNames.push("series-"+parseInt(m+1,10))}),this.coreUtils.setSeriesYAxisMappings();var c=[],d=zn(new Set(a.series.map(function(p){return p.group})));a.series.forEach(function(p,m){var g=d.indexOf(p.group);c[g]||(c[g]=[]),c[g].push(s.seriesNames[m])}),s.seriesGroups=c;for(var u=function(){for(var p=0;p<l.length;p++)if(typeof l[p]=="string"){if(!i.isValidDate(l[p]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(i.parseDate(l[p]))}else t.twoDSeriesX.push(l[p])},h=0;h<e.length;h++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[h].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(a.chart.type!=="rangeBar"&&a.chart.type!=="rangeArea"&&e[h].type!=="rangeBar"&&e[h].type!=="rangeArea"||(s.isRangeData=!0,a.chart.type!=="rangeBar"&&a.chart.type!=="rangeArea"||this.handleRangeData(e,h)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,h):this.isFormatXY()&&this.handleFormatXY(e,h),a.chart.type!=="candlestick"&&e[h].type!=="candlestick"&&a.chart.type!=="boxPlot"&&e[h].type!=="boxPlot"||this.handleCandleStickBoxData(e,h),s.series.push(this.twoDSeries),s.labels.push(this.twoDSeriesX),s.seriesX.push(this.twoDSeriesX),s.seriesGoals=this.seriesGoals,h!==this.activeSeriesIndex||this.fallbackToCategory||(s.isXNumeric=!0);else{a.xaxis.type==="datetime"?(s.isXNumeric=!0,u(),s.seriesX.push(this.twoDSeriesX)):a.xaxis.type==="numeric"&&(s.isXNumeric=!0,l.length>0&&(this.twoDSeriesX=l,s.seriesX.push(this.twoDSeriesX))),s.labels.push(this.twoDSeriesX);var f=e[h].data.map(function(p){return xe.parseNumber(p)});s.series.push(f)}s.seriesZ.push(this.threeDSeries),e[h].color!==void 0?s.seriesColors.push(e[h].color):s.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,n=this.w.config;t.series=e.slice(),t.seriesNames=n.labels.slice();for(var a=0;a<t.series.length;a++)t.seriesNames[a]===void 0&&t.seriesNames.push("series-"+(a+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,n=this.w.globals;t.xaxis.categories.length>0?n.labels=t.xaxis.categories:t.labels.length>0?n.labels=t.labels.slice():this.fallbackToCategory?(n.labels=n.labels[0],n.seriesRange.length&&(n.seriesRange.map(function(a){a.forEach(function(s){n.labels.indexOf(s.x)<0&&s.x&&n.labels.push(s.x)})}),n.labels=Array.from(new Set(n.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new gp(t).convertCatToNumericXaxis(t,this.ctx,n.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,n=this.w.config,a=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var s=n.series.map(function(h,f){return h.data.filter(function(p,m,g){return g.findIndex(function(v){return v.x===p.x})===m})}),i=s.reduce(function(h,f,p,m){return m[h].length>f.length?h:p},0),l=0;l<s[i].length;l++)a.push(l+1);else for(var c=0;c<t.series[t.maxValsInArrayIndex].length;c++)a.push(c+1);t.seriesX=[];for(var d=0;d<e.length;d++)t.seriesX.push(a);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(a.length===0){a=t.axisCharts?[]:t.series.map(function(h,f){return f+1});for(var u=0;u<e.length;u++)t.seriesX.push(a)}t.labels=a,n.xaxis.convertedCatToNumeric&&(t.categoryLabels=a.map(function(h){return n.xaxis.labels.formatter(h)})),t.noLabelsProvided=!0}},{key:"parseData",value:function(e){var t=this.w,n=t.config,a=t.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),a.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),n.chart.stacked){var s=new Zs(this.ctx);a.series=s.setNullSeriesToZeroValues(a.series)}this.coreUtils.getSeriesTotals(),a.axisCharts&&(a.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),a.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),a.dataFormatXNumeric||a.isXNumeric&&(n.xaxis.type!=="numeric"||n.labels.length!==0||n.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var i=this.coreUtils.getCategoryLabels(a.labels),l=0;l<i.length;l++)if(Array.isArray(i[l])){a.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach(function(n,a){var s=0;n.forEach(function(i){e.globals.collapsedSeriesIndices.indexOf(i)!==-1&&s++}),s>0&&s==n.length&&t.push(a)}),e.globals.ignoreYAxisIndexes=t.map(function(n){return n})}}]),r}(),Q0=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w}return yt(r,[{key:"scaleSvgNode",value:function(e,t){var n=parseFloat(e.getAttributeNS(null,"width")),a=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",n*t),e.setAttributeNS(null,"height",a*t),e.setAttributeNS(null,"viewBox","0 0 "+n+" "+a)}},{key:"getSvgString",value:function(e){var t=this;return new Promise(function(n){var a=t.w,s=e||a.config.chart.toolbar.export.scale||a.config.chart.toolbar.export.width/a.globals.svgWidth;s||(s=1);var i=t.w.globals.dom.Paper.svg(),l=t.w.globals.dom.Paper.node.cloneNode(!0);s!==1&&t.scaleSvgNode(l,s),t.convertImagesToBase64(l).then(function(){i=new XMLSerializer().serializeToString(l),n(i.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var t=this,n=e.getElementsByTagName("image"),a=Array.from(n).map(function(s){var i=s.getAttributeNS("http://www.w3.org/1999/xlink","href");return i&&!i.startsWith("data:")?t.getBase64FromUrl(i).then(function(l){s.setAttributeNS("http://www.w3.org/1999/xlink","href",l)}).catch(function(l){console.error("Error converting image to base64:",l)}):Promise.resolve()});return Promise.all(a)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(t,n){var a=new Image;a.crossOrigin="Anonymous",a.onload=function(){var s=document.createElement("canvas");s.width=a.width,s.height=a.height,s.getContext("2d").drawImage(a,0,0),t(s.toDataURL())},a.onerror=n,a.src=e})}},{key:"cleanup",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),n=e.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(a,function(s){s.setAttribute("width",0)}),t&&t[0]&&(t[0].setAttribute("x",-500),t[0].setAttribute("x1",-500),t[0].setAttribute("x2",-500)),n&&n[0]&&(n[0].setAttribute("y",-100),n[0].setAttribute("y1",-100),n[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(t){e.cleanup(),e.getSvgString().then(function(n){var a=new Blob([n],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(a))})})}},{key:"dataURI",value:function(e){var t=this;return new Promise(function(n){var a=t.w,s=e?e.scale||e.width/a.globals.svgWidth:1;t.cleanup();var i=document.createElement("canvas");i.width=a.globals.svgWidth*s,i.height=parseInt(a.globals.dom.elWrap.style.height,10)*s;var l=a.config.chart.background!=="transparent"&&a.config.chart.background?a.config.chart.background:"#fff",c=i.getContext("2d");c.fillStyle=l,c.fillRect(0,0,i.width*s,i.height*s),t.getSvgString(s).then(function(d){var u="data:image/svg+xml,"+encodeURIComponent(d),h=new Image;h.crossOrigin="anonymous",h.onload=function(){if(c.drawImage(h,0,0),i.msToBlob){var f=i.msToBlob();n({blob:f})}else{var p=i.toDataURL("image/png");n({imgURI:p})}},h.src=u})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,n=this.w.config.chart.toolbar.export.width,a=t?{scale:t}:n?{width:n}:void 0;this.dataURI(a).then(function(s){var i=s.imgURI,l=s.blob;l?navigator.msSaveOrOpenBlob(l,e.w.globals.chartID+".png"):e.triggerDownload(i,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var t=this,n=e.series,a=e.fileName,s=e.columnDelimiter,i=s===void 0?",":s,l=e.lineDelimiter,c=l===void 0?`
`:l,d=this.w;n||(n=d.config.series);var u=[],h=[],f="",p=d.globals.series.map(function(S,_){return d.globals.collapsedSeriesIndices.indexOf(_)===-1?S:[]}),m=function(S){return typeof d.config.chart.toolbar.export.csv.categoryFormatter=="function"?d.config.chart.toolbar.export.csv.categoryFormatter(S):d.config.xaxis.type==="datetime"&&String(S).length>=10?new Date(S).toDateString():xe.isNumber(S)?S:S.split(i).join("")},g=function(S){return typeof d.config.chart.toolbar.export.csv.valueFormatter=="function"?d.config.chart.toolbar.export.csv.valueFormatter(S):S},v=Math.max.apply(Math,zn(n.map(function(S){return S.data?S.data.length:0}))),x=new P4(this.ctx),b=new Vl(this.ctx),y=function(S){var _="";if(d.globals.axisCharts){if(d.config.xaxis.type==="category"||d.config.xaxis.convertedCatToNumeric)if(d.globals.isBarHorizontal){var E=d.globals.yLabelFormatters[0],A=new Zs(t.ctx).getActiveConfigSeriesIndex();_=E(d.globals.labels[S],{seriesIndex:A,dataPointIndex:S,w:d})}else _=b.getLabel(d.globals.labels,d.globals.timescaleLabels,0,S).text;d.config.xaxis.type==="datetime"&&(d.config.xaxis.categories.length?_=d.config.xaxis.categories[S]:d.config.labels.length&&(_=d.config.labels[S]))}else _=d.config.labels[S];return _===null?"nullvalue":(Array.isArray(_)&&(_=_.join(" ")),xe.isNumber(_)?_:_.split(i).join(""))},C=function(S,_){if(u.length&&_===0&&h.push(u.join(i)),S.data){S.data=S.data.length&&S.data||zn(Array(v)).map(function(){return""});for(var E=0;E<S.data.length;E++){u=[];var A=y(E);if(A!=="nullvalue"){if(A||(x.isFormatXY()?A=n[_].data[E].x:x.isFormat2DArray()&&(A=n[_].data[E]?n[_].data[E][0]:"")),_===0){u.push(m(A));for(var T=0;T<d.globals.series.length;T++){var F,L=x.isFormatXY()?(F=n[T].data[E])===null||F===void 0?void 0:F.y:p[T][E];u.push(g(L))}}(d.config.chart.type==="candlestick"||S.type&&S.type==="candlestick")&&(u.pop(),u.push(d.globals.seriesCandleO[_][E]),u.push(d.globals.seriesCandleH[_][E]),u.push(d.globals.seriesCandleL[_][E]),u.push(d.globals.seriesCandleC[_][E])),(d.config.chart.type==="boxPlot"||S.type&&S.type==="boxPlot")&&(u.pop(),u.push(d.globals.seriesCandleO[_][E]),u.push(d.globals.seriesCandleH[_][E]),u.push(d.globals.seriesCandleM[_][E]),u.push(d.globals.seriesCandleL[_][E]),u.push(d.globals.seriesCandleC[_][E])),d.config.chart.type==="rangeBar"&&(u.pop(),u.push(d.globals.seriesRangeStart[_][E]),u.push(d.globals.seriesRangeEnd[_][E])),u.length&&h.push(u.join(i))}}}};u.push(d.config.chart.toolbar.export.csv.headerCategory),d.config.chart.type==="boxPlot"?(u.push("minimum"),u.push("q1"),u.push("median"),u.push("q3"),u.push("maximum")):d.config.chart.type==="candlestick"?(u.push("open"),u.push("high"),u.push("low"),u.push("close")):d.config.chart.type==="rangeBar"?(u.push("minimum"),u.push("maximum")):n.map(function(S,_){var E=(S.name?S.name:"series-".concat(_))+"";d.globals.axisCharts&&u.push(E.split(i).join("")?E.split(i).join(""):"series-".concat(_))}),d.globals.axisCharts||(u.push(d.config.chart.toolbar.export.csv.headerValue),h.push(u.join(i))),d.globals.allSeriesHasEqualX||!d.globals.axisCharts||d.config.xaxis.categories.length||d.config.labels.length?n.map(function(S,_){d.globals.axisCharts?C(S,_):((u=[]).push(m(d.globals.labels[_])),u.push(g(p[_])),h.push(u.join(i)))}):function(){var S=new Set,_={};n.forEach(function(E,A){E==null||E.data.forEach(function(T){var F,L;if(x.isFormatXY())F=T.x,L=T.y;else{if(!x.isFormat2DArray())return;F=T[0],L=T[1]}_[F]||(_[F]=Array(n.length).fill("")),_[F][A]=g(L),S.add(F)})}),u.length&&h.push(u.join(i)),Array.from(S).sort().forEach(function(E){h.push([m(E),_[E].join(i)])})}(),f+=h.join(c),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+f),a||d.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,n){var a=document.createElement("a");a.href=e,a.download=(t||this.w.globals.chartID)+n,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}]),r}(),xp=function(){function r(e,t){bt(this,r),this.ctx=e,this.elgrid=t,this.w=e.w;var n=this.w;this.axesUtils=new Vl(e),this.xaxisLabels=n.globals.labels.slice(),n.globals.timescaleLabels.length>0&&!n.globals.isBarHorizontal&&(this.xaxisLabels=n.globals.timescaleLabels.slice()),n.config.xaxis.overwriteCategories&&(this.xaxisLabels=n.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],n.config.xaxis.position==="top"?this.offY=0:this.offY=n.globals.gridHeight,this.offY=this.offY+n.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=n.config.chart.type==="bar"&&n.config.plotOptions.bar.horizontal,this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.xaxisBorderWidth=n.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=n.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=n.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=n.config.xaxis.axisBorder.height,this.yaxis=n.config.yaxis[0]}return yt(r,[{key:"drawXaxis",value:function(){var e=this.w,t=new Ye(this.ctx),n=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),a=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});n.add(a);for(var s=[],i=0;i<this.xaxisLabels.length;i++)s.push(this.xaxisLabels[i]);if(this.drawXAxisLabelAndGroup(!0,t,a,s,e.globals.isXNumeric,function(m,g){return g}),e.globals.hasXaxisGroups){var l=e.globals.groups;s=[];for(var c=0;c<l.length;c++)s.push(l[c].title);var d={};e.config.xaxis.group.style&&(d.xaxisFontSize=e.config.xaxis.group.style.fontSize,d.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,d.xaxisForeColors=e.config.xaxis.group.style.colors,d.fontWeight=e.config.xaxis.group.style.fontWeight,d.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,a,s,!1,function(m,g){return l[m].cols*g},d)}if(e.config.xaxis.title.text!==void 0){var u=t.group({class:"apexcharts-xaxis-title"}),h=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});u.add(h),n.add(u)}if(e.config.xaxis.axisBorder.show){var f=e.globals.barPadForNumericAxis,p=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-f,this.offY,this.xaxisBorderWidth+f,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(p):n.add(p)}return n}},{key:"drawXAxisLabelAndGroup",value:function(e,t,n,a,s,i){var l,c=this,d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},u=[],h=[],f=this.w,p=d.xaxisFontSize||this.xaxisFontSize,m=d.xaxisFontFamily||this.xaxisFontFamily,g=d.xaxisForeColors||this.xaxisForeColors,v=d.fontWeight||f.config.xaxis.labels.style.fontWeight,x=d.cssClass||f.config.xaxis.labels.style.cssClass,b=f.globals.padHorizontal,y=a.length,C=f.config.xaxis.type==="category"?f.globals.dataPoints:y;if(C===0&&y>C&&(C=y),s){var S=Math.max(Number(f.config.xaxis.tickAmount)||1,C>1?C-1:C);l=f.globals.gridWidth/Math.min(S,y-1),b=b+i(0,l)/2+f.config.xaxis.labels.offsetX}else l=f.globals.gridWidth/C,b=b+i(0,l)+f.config.xaxis.labels.offsetX;for(var _=function(A){var T=b-i(A,l)/2+f.config.xaxis.labels.offsetX;A===0&&y===1&&l/2===b&&C===1&&(T=f.globals.gridWidth/2);var F=c.axesUtils.getLabel(a,f.globals.timescaleLabels,T,A,u,p,e),L=28;if(f.globals.rotateXLabels&&e&&(L=22),f.config.xaxis.title.text&&f.config.xaxis.position==="top"&&(L+=parseFloat(f.config.xaxis.title.style.fontSize)+2),e||(L=L+parseFloat(p)+(f.globals.xAxisLabelsHeight-f.globals.xAxisGroupLabelsHeight)+(f.globals.rotateXLabels?10:0)),F=f.config.xaxis.tickAmount!==void 0&&f.config.xaxis.tickAmount!=="dataPoints"&&f.config.xaxis.type!=="datetime"?c.axesUtils.checkLabelBasedOnTickamount(A,F,y):c.axesUtils.checkForOverflowingLabels(A,F,y,u,h),f.config.xaxis.labels.show){var D=t.drawText({x:F.x,y:c.offY+f.config.xaxis.labels.offsetY+L-(f.config.xaxis.position==="top"?f.globals.xAxisHeight+f.config.xaxis.axisTicks.height-2:0),text:F.text,textAnchor:"middle",fontWeight:F.isBold?600:v,fontSize:p,fontFamily:m,foreColor:Array.isArray(g)?e&&f.config.xaxis.convertedCatToNumeric?g[f.globals.minX+A-1]:g[A]:g,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+x});if(n.add(D),D.on("click",function(I){if(typeof f.config.chart.events.xAxisLabelClick=="function"){var B=Object.assign({},f,{labelIndex:A});f.config.chart.events.xAxisLabelClick(I,c.ctx,B)}}),e){var O=document.createElementNS(f.globals.SVGNS,"title");O.textContent=Array.isArray(F.text)?F.text.join(" "):F.text,D.node.appendChild(O),F.text!==""&&(u.push(F.text),h.push(F))}}A<y-1&&(b+=i(A+1,l))},E=0;E<=y-1;E++)_(E)}},{key:"drawXaxisInversed",value:function(e){var t,n,a=this,s=this.w,i=new Ye(this.ctx),l=s.config.yaxis[0].opposite?s.globals.translateYAxisX[e]:0,c=i.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),d=i.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+l+", 0)"});c.add(d);var u=[];if(s.config.yaxis[e].show)for(var h=0;h<this.xaxisLabels.length;h++)u.push(this.xaxisLabels[h]);t=s.globals.gridHeight/u.length,n=-t/2.2;var f=s.globals.yLabelFormatters[0],p=s.config.yaxis[0].labels;if(p.show)for(var m=function(S){var _=u[S]===void 0?"":u[S];_=f(_,{seriesIndex:e,dataPointIndex:S,w:s});var E=a.axesUtils.getYAxisForeColor(p.style.colors,e),A=0;Array.isArray(_)&&(A=_.length/2*parseInt(p.style.fontSize,10));var T=p.offsetX-15,F="end";a.yaxis.opposite&&(F="start"),s.config.yaxis[0].labels.align==="left"?(T=p.offsetX,F="start"):s.config.yaxis[0].labels.align==="center"?(T=p.offsetX,F="middle"):s.config.yaxis[0].labels.align==="right"&&(F="end");var L=i.drawText({x:T,y:n+t+p.offsetY-A,text:_,textAnchor:F,foreColor:Array.isArray(E)?E[S]:E,fontSize:p.style.fontSize,fontFamily:p.style.fontFamily,fontWeight:p.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+p.style.cssClass,maxWidth:p.maxWidth});d.add(L),L.on("click",function(I){if(typeof s.config.chart.events.xAxisLabelClick=="function"){var B=Object.assign({},s,{labelIndex:S});s.config.chart.events.xAxisLabelClick(I,a.ctx,B)}});var D=document.createElementNS(s.globals.SVGNS,"title");if(D.textContent=Array.isArray(_)?_.join(" "):_,L.node.appendChild(D),s.config.yaxis[e].labels.rotate!==0){var O=i.rotateAroundCenter(L.node);L.node.setAttribute("transform","rotate(".concat(s.config.yaxis[e].labels.rotate," 0 ").concat(O.y,")"))}n+=t},g=0;g<=u.length-1;g++)m(g);if(s.config.yaxis[0].title.text!==void 0){var v=i.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+l+", 0)"}),x=i.drawText({x:s.config.yaxis[0].title.offsetX,y:s.globals.gridHeight/2+s.config.yaxis[0].title.offsetY,text:s.config.yaxis[0].title.text,textAnchor:"middle",foreColor:s.config.yaxis[0].title.style.color,fontSize:s.config.yaxis[0].title.style.fontSize,fontWeight:s.config.yaxis[0].title.style.fontWeight,fontFamily:s.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+s.config.yaxis[0].title.style.cssClass});v.add(x),c.add(v)}var b=0;this.isCategoryBarHorizontal&&s.config.yaxis[0].opposite&&(b=s.globals.gridWidth);var y=s.config.xaxis.axisBorder;if(y.show){var C=i.drawLine(s.globals.padHorizontal+y.offsetX+b,1+y.offsetY,s.globals.padHorizontal+y.offsetX+b,s.globals.gridHeight+y.offsetY,y.color,0);this.elgrid&&this.elgrid.elGridBorders&&s.config.grid.show?this.elgrid.elGridBorders.add(C):c.add(C)}return s.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(b,u.length,s.config.yaxis[0].axisBorder,s.config.yaxis[0].axisTicks,0,t,c),c}},{key:"drawXaxisTicks",value:function(e,t,n){var a=this.w,s=e;if(!(e<0||e-2>a.globals.gridWidth)){var i=this.offY+a.config.xaxis.axisTicks.offsetY;if(t=t+i+a.config.xaxis.axisTicks.height,a.config.xaxis.position==="top"&&(t=i-a.config.xaxis.axisTicks.height),a.config.xaxis.axisTicks.show){var l=new Ye(this.ctx).drawLine(e+a.config.xaxis.axisTicks.offsetX,i+a.config.xaxis.offsetY,s+a.config.xaxis.axisTicks.offsetX,t+a.config.xaxis.offsetY,a.config.xaxis.axisTicks.color);n.add(l),l.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],n=this.xaxisLabels.length,a=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var s=0;s<n;s++)a=this.xaxisLabels[s].position,t.push(a);else for(var i=n,l=0;l<i;l++){var c=i;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(c-=1),a+=e.globals.gridWidth/c,t.push(a)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new Ye(this.ctx),n=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var l=0;l<a.length;l++){var c=t.rotateAroundCenter(a[l]);c.y=c.y-1,c.x=c.x+1,a[l].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(c.x," ").concat(c.y,")")),a[l].setAttribute("text-anchor","end"),n.setAttribute("transform","translate(0, ".concat(-10,")"));var d=a[l].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(d,function(p){t.placeTextWithEllipsis(p,p.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))})}else(function(){for(var p=e.globals.gridWidth/(e.globals.labels.length+1),m=0;m<a.length;m++){var g=a[m].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(g,function(v){t.placeTextWithEllipsis(v,v.textContent,p)})}})();if(s.length>0){var u=s[s.length-1].getBBox(),h=s[0].getBBox();u.x<-20&&s[s.length-1].parentNode.removeChild(s[s.length-1]),h.x+h.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&s[0].parentNode.removeChild(s[0]);for(var f=0;f<i.length;f++)t.placeTextWithEllipsis(i[f],i[f].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),r}(),gE=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new Vl(e),this.isRangeBar=t.globals.seriesRange.length&&t.globals.isBarHorizontal,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return yt(r,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w,n=new Ye(this.ctx);e||(e=n.group({class:"apexcharts-grid"}));var a=n.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),s=n.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(s),e.add(a),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,n=new Ye(this.ctx),a=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,zn(e.config.stroke.width)):e.config.stroke.width,s=function(u){var h=document.createElementNS(t.SVGNS,"clipPath");return h.setAttribute("id",u),h};t.dom.elGridRectMask=s("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=s("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=s("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=s("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=s("nonForecastMask".concat(t.cuid));var i=0,l=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(i=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),l=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=n.drawRect(-a/2-2,-a/2-2,t.gridWidth+a+4,t.gridHeight+a+4,0,"#fff"),t.dom.elGridRectBar=n.drawRect(-a/2-i-2,-a/2-2,t.gridWidth+a+l+i+4,t.gridHeight+a+4,0,"#fff");var c=e.globals.markers.largestSize;t.dom.elGridRectMarker=n.drawRect(-c,-c,t.gridWidth+2*c,t.gridHeight+2*c,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var d=t.dom.baseEl.querySelector("defs");d.appendChild(t.dom.elGridRectMask),d.appendChild(t.dom.elGridRectBarMask),d.appendChild(t.dom.elGridRectMarkerMask),d.appendChild(t.dom.elForecastMask),d.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,n=e.x1,a=e.y1,s=e.x2,i=e.y2,l=e.xCount,c=e.parent,d=this.w;if(!(t===0&&d.globals.skipFirstTimelinelabel||t===l-1&&d.globals.skipLastTimelinelabel&&!d.config.xaxis.labels.formatter||d.config.chart.type==="radar")){d.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:n,y1:a,x2:s,y2:i,xCount:l,parent:c});var u=0;if(d.globals.hasXaxisGroups&&d.config.xaxis.tickPlacement==="between"){var h=d.globals.groups;if(h){for(var f=0,p=0;f<t&&p<h.length;p++)f+=h[p].cols;f===t&&(u=.6*d.globals.xAxisLabelsHeight)}}new xp(this.ctx).drawXaxisTicks(n,u,d.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,n=e.x1,a=e.y1,s=e.x2,i=e.y2,l=e.xCount,c=e.parent,d=this.w,u=c.node.classList.contains("apexcharts-gridlines-horizontal"),h=d.globals.barPadForNumericAxis,f=a===0&&i===0||n===0&&s===0||a===d.globals.gridHeight&&i===d.globals.gridHeight||d.globals.isBarHorizontal&&(t===0||t===l-1),p=new Ye(this).drawLine(n-(u?h:0),a,s+(u?h:0),i,d.config.grid.borderColor,d.config.grid.strokeDashArray);p.node.classList.add("apexcharts-gridline"),f&&d.config.grid.show?this.elGridBorders.add(p):c.add(p)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,n=e.x1,a=e.y1,s=e.x2,i=e.y2,l=e.type,c=this.w,d=new Ye(this.ctx),u=c.globals.barPadForNumericAxis,h=c.config.grid[l].colors[t],f=d.drawRect(n-(l==="row"?u:0),a,s+(l==="row"?2*u:0),i,0,h,c.config.grid[l].opacity);this.elg.add(f),f.attr("clip-path","url(#gridRectMask".concat(c.globals.cuid,")")),f.node.classList.add("apexcharts-grid-".concat(l))}},{key:"_drawXYLines",value:function(e){var t=this,n=e.xCount,a=e.tickAmount,s=this.w;if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show){var i,l=s.globals.padHorizontal,c=s.globals.gridHeight;s.globals.timescaleLabels.length?function(m){for(var g=m.xC,v=m.x1,x=m.y1,b=m.x2,y=m.y2,C=0;C<g;C++)v=t.xaxisLabels[C].position,b=t.xaxisLabels[C].position,t._drawGridLines({i:C,x1:v,y1:x,x2:b,y2:y,xCount:n,parent:t.elgridLinesV})}({xC:n,x1:l,y1:0,x2:i,y2:c}):(s.globals.isXNumeric&&(n=s.globals.xAxisScale.result.length),function(m){for(var g=m.xC,v=m.x1,x=m.y1,b=m.x2,y=m.y2,C=0;C<g+(s.globals.isXNumeric?0:1);C++)C===0&&g===1&&s.globals.dataPoints===1&&(b=v=s.globals.gridWidth/2),t._drawGridLines({i:C,x1:v,y1:x,x2:b,y2:y,xCount:n,parent:t.elgridLinesV}),b=v+=s.globals.gridWidth/(s.globals.isXNumeric?g-1:g)}({xC:n,x1:l,y1:0,x2:i,y2:c}))}if(s.config.grid.yaxis.lines.show){var d=0,u=0,h=s.globals.gridWidth,f=a+1;this.isRangeBar&&(f=s.globals.labels.length);for(var p=0;p<f+(this.isRangeBar?1:0);p++)this._drawGridLine({i:p,xCount:f+(this.isRangeBar?1:0),x1:0,y1:d,x2:h,y2:u,parent:this.elgridLinesH}),u=d+=s.globals.gridHeight/(this.isRangeBar?f:a)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show)for(var a,s=n.globals.padHorizontal,i=n.globals.gridHeight,l=0;l<t+1;l++)n.config.grid.xaxis.lines.show&&this._drawGridLine({i:l,xCount:t+1,x1:s,y1:0,x2:a,y2:i,parent:this.elgridLinesV}),new xp(this.ctx).drawXaxisTicks(s,0,n.globals.dom.elGraphical),a=s+=n.globals.gridWidth/t;if(n.config.grid.yaxis.lines.show)for(var c=0,d=0,u=n.globals.gridWidth,h=0;h<n.globals.dataPoints+1;h++)this._drawGridLine({i:h,xCount:n.globals.dataPoints+1,x1:0,y1:c,x2:u,y2:d,parent:this.elgridLinesH}),d=c+=n.globals.gridHeight/n.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,n=new Ye(this.ctx);this.elg=n.group({class:"apexcharts-grid"}),this.elgridLinesH=n.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=n.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=n.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var a=0;a<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(a);)a++;a===t.seriesYAxisMap.length&&(a=0);var s,i=t.yAxisScale[a].result.length-1;if(!t.isBarHorizontal||this.isRangeBar){var l,c,d;s=this.xaxisLabels.length,this.isRangeBar&&(i=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(s=e.config.xaxis.tickAmount),((l=t.yAxisScale)===null||l===void 0||(c=l[a])===null||c===void 0||(d=c.result)===null||d===void 0?void 0:d.length)>0&&e.config.xaxis.type!=="datetime"&&(s=t.yAxisScale[a].result.length-1)),this._drawXYLines({xCount:s,tickAmount:i})}else s=i,i=t.xTickAmount,this._drawInvertedXYLines({xCount:s,tickAmount:i});return this.drawGridBands(s,i),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/s}}},{key:"drawGridBands",value:function(e,t){var n,a,s=this,i=this.w;if(((n=i.config.grid.row.colors)===null||n===void 0?void 0:n.length)>0&&function(m,g,v,x,b,y){for(var C=0,S=0;C<g;C++,S++)S>=i.config.grid[m].colors.length&&(S=0),s._drawGridBandRect({c:S,x1:v,y1:x,x2:b,y2:y,type:m}),x+=i.globals.gridHeight/t}("row",t,0,0,i.globals.gridWidth,i.globals.gridHeight/t),((a=i.config.grid.column.colors)===null||a===void 0?void 0:a.length)>0){var l=i.globals.isBarHorizontal||i.config.xaxis.tickPlacement!=="on"||i.config.xaxis.type!=="category"&&!i.config.xaxis.convertedCatToNumeric?e:e-1;i.globals.isXNumeric&&(l=i.globals.xAxisScale.result.length-1);for(var c=i.globals.padHorizontal,d=i.globals.padHorizontal+i.globals.gridWidth/l,u=i.globals.gridHeight,h=0,f=0;h<e;h++,f++){var p;f>=i.config.grid.column.colors.length&&(f=0),i.config.xaxis.type==="datetime"&&(c=this.xaxisLabels[h].position,d=(((p=this.xaxisLabels[h+1])===null||p===void 0?void 0:p.position)||i.globals.gridWidth)-this.xaxisLabels[h].position),this._drawGridBandRect({c:f,x1:c,y1:0,x2:d,y2:u,type:"column"}),c+=i.globals.gridWidth/l}}}}]),r}(),mE=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w,this.coreUtils=new hn(this.ctx)}return yt(r,[{key:"niceScale",value:function(e,t){var n,a,s,i,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=1e-11,d=this.w,u=d.globals;u.isBarHorizontal?(n=d.config.xaxis,a=Math.max((u.svgWidth-100)/25,2)):(n=d.config.yaxis[l],a=Math.max((u.svgHeight-100)/15,2)),xe.isNumber(a)||(a=10),s=n.min!==void 0&&n.min!==null,i=n.max!==void 0&&n.min!==null;var h=n.stepSize!==void 0&&n.stepSize!==null,f=n.tickAmount!==void 0&&n.tickAmount!==null,p=f?n.tickAmount:u.niceScaleDefaultTicks[Math.min(Math.round(a/2),u.niceScaleDefaultTicks.length-1)];if(u.isMultipleYAxis&&!f&&u.multiAxisTickAmount>0&&(p=u.multiAxisTickAmount,f=!0),p=p==="dataPoints"?u.dataPoints-1:Math.abs(Math.round(p)),(e===Number.MIN_VALUE&&t===0||!xe.isNumber(e)&&!xe.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=xe.isNumber(n.min)?n.min:0,t=xe.isNumber(n.max)?n.max:e+p,u.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var m=t;t=e,e=m}else e===t&&(e=e===0?0:e-1,t=t===0?2:t+1);var g=[];p<1&&(p=1);var v=p,x=Math.abs(t-e);!s&&e>0&&e/x<.15&&(e=0,s=!0),!i&&t<0&&-t/x<.15&&(t=0,i=!0);var b=(x=Math.abs(t-e))/v,y=b,C=Math.floor(Math.log10(y)),S=Math.pow(10,C),_=Math.ceil(y/S);if(b=y=(_=u.niceScaleAllowedMagMsd[u.yValueDecimal===0?0:1][_])*S,u.isBarHorizontal&&n.stepSize&&n.type!=="datetime"?(b=n.stepSize,h=!0):h&&(b=n.stepSize),h&&n.forceNiceScale){var E=Math.floor(Math.log10(b));b*=Math.pow(10,C-E)}if(s&&i){var A=x/v;if(f)if(h)if(xe.mod(x,b)!=0){var T=xe.getGCD(b,A);b=A/T<10?T:A}else xe.mod(b,A)==0?b=A:(A=b,f=!1);else b=A;else if(h)xe.mod(x,b)==0?A=b:b=A;else if(xe.mod(x,b)==0)A=b;else{A=x/(v=Math.ceil(x/b));var F=xe.getGCD(x,b);x/F<a&&(A=F),b=A}v=Math.round(x/b)}else{if(s||i){if(i)if(f)e=t-b*v;else{var L=e;e=b*Math.floor(e/b),Math.abs(t-e)/xe.getGCD(x,b)>a&&(e=t-b*p,e+=b*Math.floor((L-e)/b))}else if(s)if(f)t=e+b*v;else{var D=t;t=b*Math.ceil(t/b),Math.abs(t-e)/xe.getGCD(x,b)>a&&(t=e+b*p,t+=b*Math.ceil((D-t)/b))}}else if(u.isMultipleYAxis&&f){var O=b*Math.floor(e/b),I=O+b*v;I<t&&(b*=2),I=t,t=(e=O)+b*v,x=Math.abs(t-e),e>0&&e<Math.abs(I-t)&&(e=0,t=b*v),t<0&&-t<Math.abs(O-e)&&(t=0,e=-b*v)}else e=b*Math.floor(e/b),t=b*Math.ceil(t/b);x=Math.abs(t-e),b=xe.getGCD(x,b),v=Math.round(x/b)}if(f||s||i||(v=Math.ceil((x-c)/(b+c)))>16&&xe.getPrimeFactors(v).length<2&&v++,!f&&n.forceNiceScale&&u.yValueDecimal===0&&v>x&&(v=x,b=Math.round(x/v)),v>a&&(!f&&!h||n.forceNiceScale)){var B=xe.getPrimeFactors(v),z=B.length-1,V=v;e:for(var W=0;W<z;W++)for(var Y=0;Y<=z-W;Y++){for(var G=Math.min(Y+W,z),q=V,M=1,U=Y;U<=G;U++)M*=B[U];if((q/=M)<a){V=q;break e}}b=V===v?x:x/V,v=Math.round(x/b)}u.isMultipleYAxis&&u.multiAxisTickAmount==0&&u.ignoreYAxisIndexes.indexOf(l)<0&&(u.multiAxisTickAmount=v);var $=e-b,X=b*c;do $+=b,g.push(xe.stripNumber($,7));while(t-$>X);return{result:g,niceMin:g[0],niceMax:g[g.length-1]}}},{key:"linearScale",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,i=Math.abs(t-e),l=[];if(e===t)return{result:l=[e],niceMin:l[0],niceMax:l[l.length-1]};(n=this._adjustTicksForSmallRange(n,a,i))==="dataPoints"&&(n=this.w.globals.dataPoints-1),s||(s=i/n),s=Math.round(10*(s+Number.EPSILON))/10,n===Number.MAX_VALUE&&(n=5,s=1);for(var c=e;n>=0;)l.push(c),c=xe.preciseAddition(c,s),n-=1;return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var a=[],s=Math.ceil(Math.log(t)/Math.log(n)+1),i=Math.floor(Math.log(e)/Math.log(n));i<s;i++)a.push(Math.pow(n,i));return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScale",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var a=[],s=Math.log(t)/Math.log(n),i=Math.log(e)/Math.log(n),l=s-i,c=Math.round(l),d=l/c,u=0,h=i;u<c;u++,h+=d)a.push(Math.pow(n,h));return a.push(Math.pow(n,s)),{result:a,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,n){var a=e;if(t!==void 0&&this.w.config.yaxis[t].labels.formatter&&this.w.config.yaxis[t].tickAmount===void 0){var s=Number(this.w.config.yaxis[t].labels.formatter(1));xe.isNumber(s)&&this.w.globals.yValueDecimal===0&&(a=Math.ceil(n))}return a<e?a:e}},{key:"setYScaleForIndex",value:function(e,t,n){var a=this.w.globals,s=this.w.config,i=a.isBarHorizontal?s.xaxis:s.yaxis[e];a.yAxisScale[e]===void 0&&(a.yAxisScale[e]=[]);var l=Math.abs(n-t);i.logarithmic&&l<=5&&(a.invalidLogScale=!0),i.logarithmic&&l>5?(a.allSeriesCollapsed=!1,a.yAxisScale[e]=i.forceNiceScale?this.logarithmicScaleNice(t,n,i.logBase):this.logarithmicScale(t,n,i.logBase)):n!==-Number.MAX_VALUE&&xe.isNumber(n)&&t!==Number.MAX_VALUE&&xe.isNumber(t)?(a.allSeriesCollapsed=!1,a.yAxisScale[e]=this.niceScale(t,n,e)):a.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var n=this.w,a=n.globals,s=Math.abs(t-e);if(t!==-Number.MAX_VALUE&&xe.isNumber(t)){var i=a.xTickAmount;s<10&&s>1&&(i=s),a.xAxisScale=this.linearScale(e,t,i,0,n.config.xaxis.stepSize)}else a.xAxisScale=this.linearScale(0,10,10);return a.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,n=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var a=n.seriesYAxisMap,s=n.minYArr,i=n.maxYArr;n.allSeriesCollapsed=!0,n.barGroups=[],a.forEach(function(l,c){var d=[];l.forEach(function(u){var h,f=(h=t.series[u])===null||h===void 0?void 0:h.group;d.indexOf(f)<0&&d.push(f)}),l.length>0?function(){var u,h,f=Number.MAX_VALUE,p=-Number.MAX_VALUE,m=f,g=p;if(t.chart.stacked)(function(){var b=new Array(n.dataPoints).fill(0),y=[],C=[],S=[];d.forEach(function(){y.push(b.map(function(){return Number.MIN_VALUE})),C.push(b.map(function(){return Number.MIN_VALUE})),S.push(b.map(function(){return Number.MIN_VALUE}))});for(var _=function(A){!u&&t.series[l[A]].type&&(u=t.series[l[A]].type);var T=l[A];h=t.series[T].group?t.series[T].group:"axis-".concat(c),!(n.collapsedSeriesIndices.indexOf(T)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(T)<0)||(n.allSeriesCollapsed=!1,d.forEach(function(F,L){if(t.series[T].group===F)for(var D=0;D<n.series[T].length;D++){var O=n.series[T][D];O>=0?C[L][D]+=O:S[L][D]+=O,y[L][D]+=O,m=Math.min(m,O),g=Math.max(g,O)}})),u!=="bar"&&u!=="column"||n.barGroups.push(h)},E=0;E<l.length;E++)_(E);u||(u=t.chart.type),u==="bar"||u==="column"?d.forEach(function(A,T){f=Math.min(f,Math.min.apply(null,S[T])),p=Math.max(p,Math.max.apply(null,C[T]))}):(d.forEach(function(A,T){m=Math.min(m,Math.min.apply(null,y[T])),g=Math.max(g,Math.max.apply(null,y[T]))}),f=m,p=g),f===Number.MIN_VALUE&&p===Number.MIN_VALUE&&(p=-Number.MAX_VALUE)})();else for(var v=0;v<l.length;v++){var x=l[v];f=Math.min(f,s[x]),p=Math.max(p,i[x]),!(n.collapsedSeriesIndices.indexOf(x)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(x)<0)||(n.allSeriesCollapsed=!1)}t.yaxis[c].min!==void 0&&(f=typeof t.yaxis[c].min=="function"?t.yaxis[c].min(f):t.yaxis[c].min),t.yaxis[c].max!==void 0&&(p=typeof t.yaxis[c].max=="function"?t.yaxis[c].max(p):t.yaxis[c].max),n.barGroups=n.barGroups.filter(function(b,y,C){return C.indexOf(b)===y}),e.setYScaleForIndex(c,f,p),l.forEach(function(b){s[b]=n.yAxisScale[c].niceMin,i[b]=n.yAxisScale[c].niceMax})}():e.setYScaleForIndex(c,0,-Number.MAX_VALUE)})}}]),r}(),U2=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w,this.scales=new mE(e)}return yt(r,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.w.config,i=this.w.globals,l=-Number.MAX_VALUE,c=Number.MIN_VALUE;a===null&&(a=e+1);var d=i.series,u=d,h=d;s.chart.type==="candlestick"?(u=i.seriesCandleL,h=i.seriesCandleH):s.chart.type==="boxPlot"?(u=i.seriesCandleO,h=i.seriesCandleC):i.isRangeData&&(u=i.seriesRangeStart,h=i.seriesRangeEnd);var f=!1;if(i.seriesX.length>=a){var p,m=(p=i.brushSource)===null||p===void 0?void 0:p.w.config.chart.brush;(s.chart.zoom.enabled&&s.chart.zoom.autoScaleYaxis||m!=null&&m.enabled&&m!=null&&m.autoScaleYaxis)&&(f=!0)}for(var g=e;g<a;g++){i.dataPoints=Math.max(i.dataPoints,d[g].length);var v=s.series[g].type;i.categoryLabels.length&&(i.dataPoints=i.categoryLabels.filter(function(S){return S!==void 0}).length),i.labels.length&&s.xaxis.type!=="datetime"&&i.series.reduce(function(S,_){return S+_.length},0)!==0&&(i.dataPoints=Math.max(i.dataPoints,i.labels.length));var x=0,b=d[g].length-1;if(f){if(s.xaxis.min)for(;x<b&&i.seriesX[g][x]<s.xaxis.min;x++);if(s.xaxis.max)for(;b>x&&i.seriesX[g][b]>s.xaxis.max;b--);}for(var y=x;y<=b&&y<i.series[g].length;y++){var C=d[g][y];if(C!==null&&xe.isNumber(C)){switch(h[g][y]!==void 0&&(l=Math.max(l,h[g][y]),t=Math.min(t,h[g][y])),u[g][y]!==void 0&&(t=Math.min(t,u[g][y]),n=Math.max(n,u[g][y])),v){case"candlestick":i.seriesCandleC[g][y]!==void 0&&(l=Math.max(l,i.seriesCandleH[g][y]),t=Math.min(t,i.seriesCandleL[g][y]));break;case"boxPlot":i.seriesCandleC[g][y]!==void 0&&(l=Math.max(l,i.seriesCandleC[g][y]),t=Math.min(t,i.seriesCandleO[g][y]))}v&&v!=="candlestick"&&v!=="boxPlot"&&v!=="rangeArea"&&v!=="rangeBar"&&(l=Math.max(l,i.series[g][y]),t=Math.min(t,i.series[g][y])),i.seriesGoals[g]&&i.seriesGoals[g][y]&&Array.isArray(i.seriesGoals[g][y])&&i.seriesGoals[g][y].forEach(function(S){l=Math.max(l,S.value),t=Math.min(t,S.value)}),n=l,C=xe.noExponents(C),xe.isFloat(C)&&(i.yValueDecimal=Math.max(i.yValueDecimal,C.toString().split(".")[1].length)),c>u[g][y]&&u[g][y]<0&&(c=u[g][y])}else i.hasNullValues=!0}v!=="bar"&&v!=="column"||(c<0&&l<0&&(l=0,n=Math.max(n,0)),c===Number.MIN_VALUE&&(c=0,t=Math.min(t,0)))}return s.chart.type==="rangeBar"&&i.seriesRangeStart.length&&i.isBarHorizontal&&(c=t),s.chart.type==="bar"&&(c<0&&l<0&&(l=0),c===Number.MIN_VALUE&&(c=0)),{minY:c,maxY:l,lowestY:t,highestY:n}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var n,a=Number.MAX_VALUE;if(e.isMultipleYAxis){a=Number.MAX_VALUE;for(var s=0;s<e.series.length;s++)n=this.getMinYMaxY(s),e.minYArr[s]=n.lowestY,e.maxYArr[s]=n.highestY,a=Math.min(a,n.lowestY)}return n=this.getMinYMaxY(0,a,null,e.series.length),t.chart.type==="bar"?(e.minY=n.minY,e.maxY=n.maxY):(e.minY=n.lowestY,e.maxY=n.highestY),a=n.lowestY,t.chart.stacked&&this._setStackedMinMax(),t.chart.type==="line"||t.chart.type==="area"||t.chart.type==="scatter"||t.chart.type==="candlestick"||t.chart.type==="boxPlot"||t.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&a!==-Number.MAX_VALUE&&a!==e.maxY&&(e.minY=a):e.minY=e.minY!==Number.MIN_VALUE?Math.min(n.minY,e.minY):n.minY,t.yaxis.forEach(function(i,l){i.max!==void 0&&(typeof i.max=="number"?e.maxYArr[l]=i.max:typeof i.max=="function"&&(e.maxYArr[l]=i.max(e.isMultipleYAxis?e.maxYArr[l]:e.maxY)),e.maxY=e.maxYArr[l]),i.min!==void 0&&(typeof i.min=="number"?e.minYArr[l]=i.min:typeof i.min=="function"&&(e.minYArr[l]=i.min(e.isMultipleYAxis?e.minYArr[l]===Number.MIN_VALUE?0:e.minYArr[l]:e.minY)),e.minY=e.minYArr[l])}),e.isBarHorizontal&&["min","max"].forEach(function(i){t.xaxis[i]!==void 0&&typeof t.xaxis[i]=="number"&&(i==="min"?e.minY=t.xaxis[i]:e.maxY=t.xaxis[i])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=a):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach(function(i){switch(i.type||t.chart.type){case"bar":case"column":e.barGroups.push(i.group);break;case"line":e.lineGroups.push(i.group);break;case"area":e.areaGroups.push(i.group)}}),e.barGroups=e.barGroups.filter(function(i,l,c){return c.indexOf(i)===l}),e.lineGroups=e.lineGroups.filter(function(i,l,c){return c.indexOf(i)===l}),e.areaGroups=e.areaGroups.filter(function(i,l,c){return c.indexOf(i)===l}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,n=t.xaxis.type==="numeric"||t.xaxis.type==="datetime"||t.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var c=0;c<e.series.length;c++)if(e.labels[c])for(var d=0;d<e.labels[c].length;d++)e.labels[c][d]!==null&&xe.isNumber(e.labels[c][d])&&(e.maxX=Math.max(e.maxX,e.labels[c][d]),e.initialMaxX=Math.max(e.maxX,e.labels[c][d]),e.minX=Math.min(e.minX,e.labels[c][d]),e.initialMinX=Math.min(e.minX,e.labels[c][d]))}(),e.noLabelsProvided&&t.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var a=10;if(t.xaxis.tickAmount===void 0)a=Math.round(e.svgWidth/150),t.xaxis.type==="numeric"&&e.dataPoints<30&&(a=e.dataPoints-1),a>e.dataPoints&&e.dataPoints!==0&&(a=e.dataPoints-1);else if(t.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(a=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var s=e.maxX-e.minX;s<30&&(a=s-1)}}else a=t.xaxis.tickAmount;if(e.xTickAmount=a,t.xaxis.max!==void 0&&typeof t.xaxis.max=="number"&&(e.maxX=t.xaxis.max),t.xaxis.min!==void 0&&typeof t.xaxis.min=="number"&&(e.minX=t.xaxis.min),t.xaxis.range!==void 0&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var i=[],l=e.minX-1;l<e.maxX;l++)i.push(l+1);e.xAxisScale={result:i,niceMin:i[0],niceMax:i[i.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,a,a,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,a-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());n&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var t=0;t<e.series.length;t++)if(e.seriesZ[t]!==void 0)for(var n=0;n<e.seriesZ[t].length;n++)e.seriesZ[t][n]!==null&&xe.isNumber(e.seriesZ[t][n])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][n]),e.minZ=Math.min(e.minZ,e.seriesZ[t][n]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var n=new aa(this.ctx);if(t.xaxis.type==="datetime"){var a=n.getDate(e.minX);t.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()-2):a.setDate(a.getDate()-2),e.minX=new Date(a).getTime();var s=n.getDate(e.maxX);t.xaxis.labels.datetimeUTC?s.setUTCDate(s.getUTCDate()+2):s.setDate(s.getDate()+2),e.maxX=new Date(s).getTime()}else(t.xaxis.type==="numeric"||t.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(t,n){if(t.length){t.length===1&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var a=t.slice();a.sort(function(s,i){return s-i}),a.forEach(function(s,i){if(i>0){var l=s-a[i-1];l>0&&(e.minXDiff=Math.min(l,e.minXDiff))}}),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var n=t.seriesGroups;n.length||(n=[this.w.globals.seriesNames.map(function(i){return i})]);var a={},s={};n.forEach(function(i){a[i]=[],s[i]=[],e.w.config.series.map(function(l,c){return i.indexOf(t.seriesNames[c])>-1?c:null}).filter(function(l){return l!==null}).forEach(function(l){for(var c=0;c<t.series[t.maxValsInArrayIndex].length;c++){var d,u,h,f;a[i][c]===void 0&&(a[i][c]=0,s[i][c]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||((d=e.w.config.series)===null||d===void 0||(u=d[l])===null||u===void 0?void 0:u.type)==="bar"||((h=e.w.config.series)===null||h===void 0||(f=h[l])===null||f===void 0?void 0:f.type)==="column"))&&t.series[l][c]!==null&&xe.isNumber(t.series[l][c])&&(t.series[l][c]>0?a[i][c]+=parseFloat(t.series[l][c])+1e-4:s[i][c]+=parseFloat(t.series[l][c]))}})}),Object.entries(a).forEach(function(i){var l=MN(i,1)[0];a[l].forEach(function(c,d){t.maxY=Math.max(t.maxY,a[l][d]),t.minY=Math.min(t.minY,s[l][d])})})}}}]),r}(),L4=function(){function r(e,t){bt(this,r),this.ctx=e,this.elgrid=t,this.w=e.w;var n=this.w;this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.axisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=n.config.chart.type==="bar"&&n.config.plotOptions.bar.horizontal,this.xAxisoffX=n.config.xaxis.position==="bottom"?n.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Vl(e)}return yt(r,[{key:"drawYaxis",value:function(e){var t=this.w,n=new Ye(this.ctx),a=t.config.yaxis[e].labels.style,s=a.fontSize,i=a.fontFamily,l=a.fontWeight,c=n.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return c;var d=n.group({class:"apexcharts-yaxis-texts-g"});c.add(d);var u=t.globals.yAxisScale[e].result.length-1,h=t.globals.gridHeight/u,f=t.globals.yLabelFormatters[e],p=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var m=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?m=0:t.config.chart.type==="heatmap"&&(m-=h/2),m+=parseInt(s,10)/3;for(var g=u;g>=0;g--){var v=f(p[g],g,t),x=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&t.config.yaxis.length!==0&&(x*=-1);var b=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),y=this.axesUtils.getYAxisForeColor(a.colors,e),C=Array.isArray(y)?y[g]:y,S=xe.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(E){return E.textContent}),_=n.drawText({x,y:m,text:S.includes(v)&&!t.config.yaxis[e].labels.showDuplicates?"":v,textAnchor:b,fontSize:s,fontFamily:i,fontWeight:l,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:C,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(a.cssClass)});d.add(_),this.addTooltip(_,v),t.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(n,_,firstLabel,t.config.yaxis[e].labels.rotate),m+=h}}return this.addYAxisTitle(n,c,e),this.addAxisBorder(n,c,e,u,h),c}},{key:"getTextAnchor",value:function(e,t){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var n=document.createElementNS(this.w.globals.SVGNS,"title");n.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(n)}},{key:"rotateLabel",value:function(e,t,n,a){var s=e.rotateAroundCenter(n.node),i=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(a," ").concat(s.x," ").concat(i.y,")"))}},{key:"addYAxisTitle",value:function(e,t,n){var a=this.w;if(a.config.yaxis[n].title.text!==void 0){var s=e.group({class:"apexcharts-yaxis-title"}),i=a.config.yaxis[n].opposite?a.globals.translateYAxisX[n]:0,l=e.drawText({x:i,y:a.globals.gridHeight/2+a.globals.translateY+a.config.yaxis[n].title.offsetY,text:a.config.yaxis[n].title.text,textAnchor:"end",foreColor:a.config.yaxis[n].title.style.color,fontSize:a.config.yaxis[n].title.style.fontSize,fontWeight:a.config.yaxis[n].title.style.fontWeight,fontFamily:a.config.yaxis[n].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(a.config.yaxis[n].title.style.cssClass)});s.add(l),t.add(s)}}},{key:"addAxisBorder",value:function(e,t,n,a,s){var i=this.w,l=i.config.yaxis[n].axisBorder,c=31+l.offsetX;if(i.config.yaxis[n].opposite&&(c=-31-l.offsetX),l.show){var d=e.drawLine(c,i.globals.translateY+l.offsetY-2,c,i.globals.gridHeight+i.globals.translateY+l.offsetY+2,l.color,0,l.width);t.add(d)}i.config.yaxis[n].axisTicks.show&&this.axesUtils.drawYAxisTicks(c,a,l,i.config.yaxis[n].axisTicks,n,s,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,n=new Ye(this.ctx),a=n.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),s=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});a.add(s);var i=t.globals.yAxisScale[e].result.length-1,l=t.globals.gridWidth/i+.1,c=l+t.config.xaxis.labels.offsetX,d=t.globals.xLabelFormatter,u=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),h=t.globals.timescaleLabels;if(h.length>0&&(this.xaxisLabels=h.slice(),i=(u=h.slice()).length),t.config.xaxis.labels.show)for(var f=h.length?0:i;h.length?f<h.length:f>=0;h.length?f++:f--){var p=d(u[f],f,t),m=t.globals.gridWidth+t.globals.padHorizontal-(c-l+t.config.xaxis.labels.offsetX);if(h.length){var g=this.axesUtils.getLabel(u,h,m,f,this.drawnLabels,this.xaxisFontSize);m=g.x,p=g.text,this.drawnLabels.push(g.text),f===0&&t.globals.skipFirstTimelinelabel&&(p=""),f===u.length-1&&t.globals.skipLastTimelinelabel&&(p="")}var v=n.drawText({x:m,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-(t.config.xaxis.position==="top"?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:p,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});s.add(v),v.tspan(p),this.addTooltip(v,p),c+=l}return this.inversedYAxisTitleText(a),this.inversedYAxisBorder(a),a}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,n=new Ye(this.ctx),a=t.config.xaxis.axisBorder;if(a.show){var s=0;t.config.chart.type==="bar"&&t.globals.isXNumeric&&(s-=15);var i=n.drawLine(t.globals.padHorizontal+s+a.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,a.color,0,a.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(i):e.add(i)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,n=new Ye(this.ctx);if(t.config.xaxis.title.text!==void 0){var a=n.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),s=n.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});a.add(s),e.add(a)}}},{key:"yAxisTitleRotate",value:function(e,t){var n=this.w,a=new Ye(this.ctx),s=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),i=s?s.getBoundingClientRect():{width:0,height:0},l=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),c=l?l.getBoundingClientRect():{width:0,height:0};if(l){var d=this.xPaddingForYAxisTitle(e,i,c,t);l.setAttribute("x",d.xPos-(t?10:0));var u=a.rotateAroundCenter(l);l.setAttribute("transform","rotate(".concat(t?-1*n.config.yaxis[e].title.rotate:n.config.yaxis[e].title.rotate," ").concat(u.x," ").concat(u.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,n,a){var s=this.w,i=0,l=10;return s.config.yaxis[e].title.text===void 0||e<0?{xPos:i,padd:0}:(a?i=t.width+s.config.yaxis[e].title.offsetX+n.width/2+l/2:(i=-1*t.width+s.config.yaxis[e].title.offsetX+l/2+n.width/2,s.globals.isBarHorizontal&&(l=25,i=-1*t.width-s.config.yaxis[e].title.offsetX-l)),{xPos:i,padd:l})}},{key:"setYAxisXPosition",value:function(e,t){var n=this.w,a=0,s=0,i=18,l=1;n.config.yaxis.length>1&&(this.multipleYs=!0),n.config.yaxis.forEach(function(c,d){var u=n.globals.ignoreYAxisIndexes.includes(d)||!c.show||c.floating||e[d].width===0,h=e[d].width+t[d].width;c.opposite?n.globals.isBarHorizontal?(s=n.globals.gridWidth+n.globals.translateX-1,n.globals.translateYAxisX[d]=s-c.labels.offsetX):(s=n.globals.gridWidth+n.globals.translateX+l,u||(l+=h+20),n.globals.translateYAxisX[d]=s-c.labels.offsetX+20):(a=n.globals.translateX-i,u||(i+=h+20),n.globals.translateYAxisX[d]=a+c.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;xe.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(t,n){var a=e.config.yaxis[n];if(a&&!a.floating&&a.labels.align!==void 0){var s=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g")),i=xe.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-label"))),l=s.getBoundingClientRect();i.forEach(function(c){c.setAttribute("text-anchor",a.labels.align)}),a.labels.align!=="left"||a.opposite?a.labels.align==="center"?s.setAttribute("transform","translate(".concat(l.width/2*(a.opposite?1:-1),", 0)")):a.labels.align==="right"&&a.opposite&&s.setAttribute("transform","translate(".concat(l.width,", 0)")):s.setAttribute("transform","translate(-".concat(l.width,", 0)"))}})}}]),r}(),TV=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w,this.documentEvent=xe.bind(this.documentEvent,this)}return yt(r,[{key:"addEventListener",value:function(e,t){var n=this.w;n.globals.events.hasOwnProperty(e)?n.globals.events[e].push(t):n.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){var a=n.globals.events[e].indexOf(t);a!==-1&&n.globals.events[e].splice(a,1)}}},{key:"fireEvent",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var a=n.globals.events[e],s=a.length,i=0;i<s;i++)a[i].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,n=this.ctx,a=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(s){a.addEventListener(s,function(i){var l=Object.assign({},t,{seriesIndex:t.globals.axisCharts?t.globals.capturedSeriesIndex:0,dataPointIndex:t.globals.capturedDataPointIndex});i.type==="mousemove"||i.type==="touchmove"?typeof t.config.chart.events.mouseMove=="function"&&t.config.chart.events.mouseMove(i,n,l):i.type==="mouseleave"||i.type==="touchleave"?typeof t.config.chart.events.mouseLeave=="function"&&t.config.chart.events.mouseLeave(i,n,l):(i.type==="mouseup"&&i.which===1||i.type==="touchend")&&(typeof t.config.chart.events.click=="function"&&t.config.chart.events.click(i,n,l),n.ctx.events.fireEvent("click",[i,n,l]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(s){t.globals.dom.baseEl.addEventListener(s,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,n=e.target.className;if(e.type==="click"){var a=t.globals.dom.baseEl.querySelector(".apexcharts-menu");a&&a.classList.contains("apexcharts-menu-open")&&n!=="apexcharts-menu-icon"&&a.classList.remove("apexcharts-menu-open")}t.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,t.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),r}(),RV=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w}return yt(r,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var n=t.filter(function(s){return s.name===e})[0];if(!n)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var a=xe.extend(hE,n);this.w.globals.locale=a.options}}]),r}(),MV=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w}return yt(r,[{key:"drawAxis",value:function(e,t){var n,a,s=this,i=this.w.globals,l=this.w.config,c=new xp(this.ctx,t),d=new L4(this.ctx,t);i.axisCharts&&e!=="radar"&&(i.isBarHorizontal?(a=d.drawYaxisInversed(0),n=c.drawXaxisInversed(0),i.dom.elGraphical.add(n),i.dom.elGraphical.add(a)):(n=c.drawXaxis(),i.dom.elGraphical.add(n),l.yaxis.map(function(u,h){if(i.ignoreYAxisIndexes.indexOf(h)===-1&&(a=d.drawYaxis(h),i.dom.Paper.add(a),s.w.config.grid.position==="back")){var f=i.dom.Paper.children()[1];f.remove(),i.dom.Paper.add(f)}})))}}]),r}(),V2=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w}return yt(r,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new Ye(this.ctx),n=new sa(this.ctx),a=e.config.xaxis.crosshairs.fill.gradient,s=e.config.xaxis.crosshairs.dropShadow,i=e.config.xaxis.crosshairs.fill.type,l=a.colorFrom,c=a.colorTo,d=a.opacityFrom,u=a.opacityTo,h=a.stops,f=s.enabled,p=s.left,m=s.top,g=s.blur,v=s.color,x=s.opacity,b=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){i==="gradient"&&(b=t.drawGradient("vertical",l,c,d,u,null,h,null));var y=t.drawRect();e.config.xaxis.crosshairs.width===1&&(y=t.drawLine());var C=e.globals.gridHeight;(!xe.isNumber(C)||C<0)&&(C=0);var S=e.config.xaxis.crosshairs.width;(!xe.isNumber(S)||S<0)&&(S=0),y.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:C,width:S,height:C,fill:b,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),f&&(y=n.dropShadow(y,{left:p,top:m,blur:g,color:v,opacity:x})),e.globals.dom.elGraphical.add(y)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new Ye(this.ctx),n=e.config.yaxis[0].crosshairs,a=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var s=t.drawLine(-a,0,e.globals.gridWidth+a,0,n.stroke.color,n.stroke.dashArray,n.stroke.width);s.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(s)}var i=t.drawLine(-a,0,e.globals.gridWidth+a,0,n.stroke.color,0,0);i.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(i)}}]),r}(),IV=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w}return yt(r,[{key:"checkResponsiveConfig",value:function(e){var t=this,n=this.w,a=n.config;if(a.responsive.length!==0){var s=a.responsive.slice();s.sort(function(d,u){return d.breakpoint>u.breakpoint?1:u.breakpoint>d.breakpoint?-1:0}).reverse();var i=new mp({}),l=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s[0].breakpoint,h=window.innerWidth>0?window.innerWidth:screen.width;if(h>u){var f=xe.clone(n.globals.initialConfig);f.series=xe.clone(n.config.series);var p=hn.extendArrayProps(i,f,n);d=xe.extend(p,d),d=xe.extend(n.config,d),t.overrideResponsiveOptions(d)}else for(var m=0;m<s.length;m++)h<s[m].breakpoint&&(d=hn.extendArrayProps(i,s[m].options,n),d=xe.extend(n.config,d),t.overrideResponsiveOptions(d))};if(e){var c=hn.extendArrayProps(i,e,n);c=xe.extend(n.config,c),l(c=xe.extend(c,e))}else l({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new mp(e).init({responsiveOverride:!0});this.w.config=t}}]),r}(),OV=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return yt(r,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,n=e.plotOptions;return t.type==="treemap"&&n.treemap&&n.treemap.distributed||t.type==="heatmap"&&n.heatmap&&n.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,n=e.plotOptions;return n.bar&&n.bar.distributed&&(t.type==="bar"||t.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new xe;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode));var n=zn(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(n),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var a=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],a),this.applyDataLabelsColors(a),this.applyRadarPolygonsColors(),this.applyMarkersColors(a)}},{key:"getColors",value:function(e){var t=this,n=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,n.config.series.map(function(a,s){var i=e[s]||e[0];return typeof i=="function"?i({value:n.globals.axisCharts?n.globals.series[s][0]||0:n.globals.series[s],seriesIndex:s,dataPointIndex:s,w:t.w}):i})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach(function(n,a){n&&(t[a]=n)})}},{key:"getMonochromeColors",value:function(e,t,n){var a=e.color,s=e.shadeIntensity,i=e.shadeTo,l=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,c=1/(l/s),d=0;return Array.from({length:l},function(){var u=i==="dark"?n.shadeColor(-1*d,a):n.shadeColor(d,a);return d+=c,u})}},{key:"applyColorTypes",value:function(e,t){var n=this,a=this.w;e.forEach(function(s){a.globals[s].colors=a.config[s].colors===void 0?n.isColorFn?a.config.colors:t:a.config[s].colors.slice(),n.pushExtraColors(a.globals[s].colors)})}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors===void 0?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#424242":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=t.config.markers.colors===void 0?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.w,s=t||a.globals.series.length;if(n===null&&(n=this.isBarDistributed||this.isHeatmapDistributed||a.config.chart.type==="heatmap"&&a.config.plotOptions.heatmap&&a.config.plotOptions.heatmap.colorScale.inverse),n&&a.globals.series.length&&(s=a.globals.series[a.globals.maxValsInArrayIndex].length*a.globals.series.length),e.length<s)for(var i=s-e.length,l=0;l<i;l++)e.push(e[l])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,n=t==="dark"?"palette4":t==="light"?"palette1":e.theme.palette||"palette1",a=t==="dark"?"#f6f7f8":t==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=a,e.theme.palette=n,e}},{key:"predefined",value:function(){var e={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return e[this.w.config.theme.palette]||e.default}}]),r}(),FV=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w}return yt(r,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,n=e==="title"?t.config.title:t.config.subtitle,a=t.globals.svgWidth/2,s=n.offsetY,i="middle";if(n.align==="left"?(a=10,i="start"):n.align==="right"&&(a=t.globals.svgWidth-10,i="end"),a+=n.offsetX,s=s+parseInt(n.style.fontSize,10)+n.margin/2,n.text!==void 0){var l=new Ye(this.ctx).drawText({x:a,y:s,text:n.text,textAnchor:i,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,fontWeight:n.style.fontWeight,foreColor:n.style.color,opacity:1});l.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(l)}}}]),r}(),BV=function(){function r(e){bt(this,r),this.w=e.w,this.dCtx=e}return yt(r,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,n=0,a=0,s=e==="title"?t.config.title.floating:t.config.subtitle.floating,i=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(i!==null&&!s){var l=i.getBoundingClientRect();n=l.width,a=t.globals.axisCharts?l.height+5:l.height}return{width:n,height:a}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(t.style.maxHeight=e.globals.svgHeight/2+"px");var n=Object.assign({},xe.getBoundingClientRect(t));return t!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:n.x,y:n.y,height:n.height,width:n.height===0?0:n.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,n=[];t.config.series.forEach(function(c,d){c.data.forEach(function(u,h){var f;f=t.globals.series[d][h],a=t.config.dataLabels.formatter(f,{ctx:e.dCtx.ctx,seriesIndex:d,dataPointIndex:h,w:t}),n.push(a)})});var a=xe.getLargestStringFromArr(n),s=new Ye(this.dCtx.ctx),i=t.config.dataLabels.style,l=s.getTextRects(a,parseInt(i.fontSize),i.fontFamily);return{width:1.05*l.width,height:l.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var n=e;if(this.w.globals.isMultiLineX){var a=t.map(function(i,l){return Array.isArray(i)?i.length:1}),s=Math.max.apply(Math,zn(a));n=t[a.indexOf(s)]}return n}}]),r}(),zV=function(){function r(e){bt(this,r),this.w=e.w,this.dCtx=e}return yt(r,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,n=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&n.length===0&&(n=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var a=this.getxAxisTimeScaleLabelsCoords();e={width:a.width,height:a.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=t.config.legend.position!=="left"&&t.config.legend.position!=="right"||t.config.legend.floating?0:this.dCtx.lgRect.width;var s=t.globals.xLabelFormatter,i=xe.getLargestStringFromArr(n),l=this.dCtx.dimHelpers.getLargestStringFromMultiArr(i,n);t.globals.isBarHorizontal&&(l=i=t.globals.yAxisScale[0].result.reduce(function(m,g){return m.length>g.length?m:g},0));var c=new $p(this.dCtx.ctx),d=i;i=c.xLabelFormat(s,i,d,{i:void 0,dateFormatter:new aa(this.dCtx.ctx).formatDate,w:t}),l=c.xLabelFormat(s,l,d,{i:void 0,dateFormatter:new aa(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&i===void 0||String(i).trim()==="")&&(l=i="1");var u=new Ye(this.dCtx.ctx),h=u.getTextRects(i,t.config.xaxis.labels.style.fontSize),f=h;if(i!==l&&(f=u.getTextRects(l,t.config.xaxis.labels.style.fontSize)),(e={width:h.width>=f.width?h.width:f.width,height:h.height>=f.height?h.height:f.height}).width*n.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&t.config.xaxis.labels.rotate!==0||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var p=function(m){return u.getTextRects(m,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};h=p(i),i!==l&&(f=p(l)),e.height=(h.height>f.height?h.height:f.height)/1.5,e.width=h.width>f.width?h.width:f.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var n,a=((e=t.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,s=t.globals.groups.map(function(h){return h.title}),i=xe.getLargestStringFromArr(s),l=this.dCtx.dimHelpers.getLargestStringFromMultiArr(i,s),c=new Ye(this.dCtx.ctx),d=c.getTextRects(i,a),u=d;return i!==l&&(u=c.getTextRects(l,a)),n={width:d.width>=u.width?d.width:u.width,height:d.height>=u.height?d.height:u.height},t.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,n=0;if(e.config.xaxis.title.text!==void 0){var a=new Ye(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=a.width,n=a.height}return{width:t,height:n}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var n=this.dCtx.timescaleLabels.map(function(s){return s.value}),a=n.reduce(function(s,i){return s===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):s.length>i.length?s:i},0);return 1.05*(e=new Ye(this.dCtx.ctx).getTextRects(a,t.config.xaxis.labels.style.fontSize)).width*n.length>t.globals.gridWidth&&t.config.xaxis.labels.rotate!==0&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,n=this.w,a=n.globals,s=n.config,i=s.xaxis.type,l=e.width;a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1;var c=n.config.yaxis[0].opposite&&n.globals.isBarHorizontal,d=function(u,h){s.yaxis.length>1&&function(f){return a.collapsedSeriesIndices.indexOf(f)!==-1}(h)||function(f){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var p=t.dCtx.timescaleLabels[0],m=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+l/1.75-t.dCtx.yAxisWidthRight,g=p.position-l/1.75+t.dCtx.yAxisWidthLeft,v=n.config.legend.position==="right"&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;m>a.svgWidth-a.translateX-v&&(a.skipLastTimelinelabel=!0),g<-(f.show&&!f.floating||s.chart.type!=="bar"&&s.chart.type!=="candlestick"&&s.chart.type!=="rangeBar"&&s.chart.type!=="boxPlot"?10:l/1.75)&&(a.skipFirstTimelinelabel=!0)}else i==="datetime"?t.dCtx.gridPad.right<l&&!a.rotateXLabels&&(a.skipLastTimelinelabel=!0):i!=="datetime"&&t.dCtx.gridPad.right<l/2-t.dCtx.yAxisWidthRight&&!a.rotateXLabels&&!n.config.xaxis.labels.trim&&(t.dCtx.xPadRight=l/2+1)}(u)};s.yaxis.forEach(function(u,h){c?(t.dCtx.gridPad.left<l&&(t.dCtx.xPadLeft=l/2+1),t.dCtx.xPadRight=l/2+1):d(u,h)})}}]),r}(),HV=function(){function r(e){bt(this,r),this.w=e.w,this.dCtx=e}return yt(r,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,n=[],a=10,s=new Vl(this.dCtx.ctx);return t.config.yaxis.map(function(i,l){var c={seriesIndex:l,dataPointIndex:-1,w:t},d=t.globals.yAxisScale[l],u=0;if(!s.isYAxisHidden(l)&&i.labels.show&&i.labels.minWidth!==void 0&&(u=i.labels.minWidth),!s.isYAxisHidden(l)&&i.labels.show&&d.result.length){var h=t.globals.yLabelFormatters[l],f=d.niceMin===Number.MIN_VALUE?0:d.niceMin,p=d.result.reduce(function(C,S){var _,E;return((_=String(h(C,c)))===null||_===void 0?void 0:_.length)>((E=String(h(S,c)))===null||E===void 0?void 0:E.length)?C:S},f),m=p=h(p,c);if(p!==void 0&&p.length!==0||(p=d.niceMax),t.globals.isBarHorizontal){a=0;var g=t.globals.labels.slice();p=xe.getLargestStringFromArr(g),p=h(p,{seriesIndex:l,dataPointIndex:-1,w:t}),m=e.dCtx.dimHelpers.getLargestStringFromMultiArr(p,g)}var v=new Ye(e.dCtx.ctx),x="rotate(".concat(i.labels.rotate," 0 0)"),b=v.getTextRects(p,i.labels.style.fontSize,i.labels.style.fontFamily,x,!1),y=b;p!==m&&(y=v.getTextRects(m,i.labels.style.fontSize,i.labels.style.fontFamily,x,!1)),n.push({width:(u>y.width||u>b.width?u:y.width>b.width?y.width:b.width)+a,height:y.height>b.height?y.height:b.height})}else n.push({width:0,height:0})}),n}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,n=[];return t.config.yaxis.map(function(a,s){if(a.show&&a.title.text!==void 0){var i=new Ye(e.dCtx.ctx),l="rotate(".concat(a.title.rotate," 0 0)"),c=i.getTextRects(a.title.text,a.title.style.fontSize,a.title.style.fontFamily,l,!1);n.push({width:c.width,height:c.height})}else n.push({width:0,height:0})}),n}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,n=0,a=0,s=e.globals.yAxisScale.length>1?10:0,i=new Vl(this.dCtx.ctx),l=function(c,d){var u=e.config.yaxis[d].floating,h=0;c.width>0&&!u?(h=c.width+s,function(f){return e.globals.ignoreYAxisIndexes.indexOf(f)>-1}(d)&&(h=h-c.width-s)):h=u||i.isYAxisHidden(d)?0:5,e.config.yaxis[d].opposite?a+=h:n+=h,t+=h};return e.globals.yLabelsCoords.map(function(c,d){l(c,d)}),e.globals.yTitleCoords.map(function(c,d){l(c,d)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=n,this.dCtx.yAxisWidthRight=a,t}}]),r}(),UV=function(){function r(e){bt(this,r),this.w=e.w,this.dCtx=e}return yt(r,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,n=t.config,a=t.globals;if(a.noData||a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===n.series.length)return 0;var s=function(p){return["bar","rangeBar","candlestick","boxPlot"].includes(p)},i=n.chart.type,l=0,c=s(i)?n.series.length:1;a.comboBarCount>0&&(c=a.comboBarCount),a.collapsedSeries.forEach(function(p){s(p.type)&&(c-=1)}),n.chart.stacked&&(c=1);var d=s(i)||a.comboBarCount>0,u=Math.abs(a.initialMaxX-a.initialMinX);if(d&&a.isXNumeric&&!a.isBarHorizontal&&c>0&&u!==0){u<=3&&(u=a.dataPoints);var h=u/e,f=a.minXDiff&&a.minXDiff/h>0?a.minXDiff/h:0;f>e/2&&(f/=2),(l=f*parseInt(n.plotOptions.bar.columnWidth,10)/100)<1&&(l=1),a.barPadForNumericAxis=l}return l}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,n=t.globals,a=this.dCtx.isSparkline||!n.axisCharts?0:10;["title","subtitle"].forEach(function(l){t.config[l].text!==void 0?a+=t.config[l].margin:a+=e.dCtx.isSparkline||!n.axisCharts?0:5}),!t.config.legend.show||t.config.legend.position!=="bottom"||t.config.legend.floating||n.axisCharts||(a+=10);var s=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),i=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");n.gridHeight-=s.height+i.height+a,n.translateY+=s.height+i.height+a}},{key:"setGridXPosForDualYAxis",value:function(e,t){var n=this.w,a=new Vl(this.dCtx.ctx);n.config.yaxis.forEach(function(s,i){n.globals.ignoreYAxisIndexes.indexOf(i)!==-1||s.floating||a.isYAxisHidden(i)||(s.opposite&&(n.globals.translateX-=t[i].width+e[i].width+parseInt(s.labels.style.fontSize,10)/1.2+12),n.globals.translateX<2&&(n.globals.translateX=2))})}}]),r}(),ex=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new BV(this),this.dimYAxis=new HV(this),this.dimXAxis=new zV(this),this.dimGrid=new UV(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return yt(r,[{key:"plotCoords",value:function(){var e=this,t=this.w,n=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var a=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,zn(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(i){var l=MN(i,2),c=l[0],d=l[1];e.gridPad[c]=Math.max(d,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(a/2,this.gridPad.top),this.gridPad.bottom=Math.max(a/2,this.gridPad.bottom)),n.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),n.gridHeight=n.gridHeight-this.gridPad.top-this.gridPad.bottom,n.gridWidth=n.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var s=this.dimGrid.gridPadForColumnsInNumericAxis(n.gridWidth);n.gridWidth=n.gridWidth-2*s,n.translateX=n.translateX+this.gridPad.left+this.xPadLeft+(s>0?s:0),n.translateY=n.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,n=t.globals,a=this.dimYAxis.getyAxisLabelsCoords(),s=this.dimYAxis.getyAxisTitleCoords();n.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(p,m){t.globals.yLabelsCoords.push({width:a[m].width,index:m}),t.globals.yTitleCoords.push({width:s[m].width,index:m})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var i=this.dimXAxis.getxAxisLabelsCoords(),l=this.dimXAxis.getxAxisGroupLabelsCoords(),c=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(i,c,l),n.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,n.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(n.rotateXLabels=!1,n.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),n.translateXAxisY=n.translateXAxisY+t.config.xaxis.labels.offsetY,n.translateXAxisX=n.translateXAxisX+t.config.xaxis.labels.offsetX;var d=this.yAxisWidth,u=this.xAxisHeight;n.xAxisLabelsHeight=this.xAxisHeight-c.height,n.xAxisGroupLabelsHeight=n.xAxisLabelsHeight-i.height,n.xAxisLabelsWidth=this.xAxisWidth,n.xAxisHeight=this.xAxisHeight;var h=10;(t.config.chart.type==="radar"||this.isSparkline)&&(d=0,u=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||t.config.chart.type==="treemap")&&(d=0,u=0,h=0),this.isSparkline||t.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(i);var f=function(){n.translateX=d+e.datalabelsCoords.width,n.gridHeight=n.svgHeight-e.lgRect.height-u-(e.isSparkline||t.config.chart.type==="treemap"?0:t.globals.rotateXLabels?10:15),n.gridWidth=n.svgWidth-d-2*e.datalabelsCoords.width};switch(t.config.xaxis.position==="top"&&(h=n.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":n.translateY=h,f();break;case"top":n.translateY=this.lgRect.height+h,f();break;case"left":n.translateY=h,n.translateX=this.lgRect.width+d+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-u-12,n.gridWidth=n.svgWidth-this.lgRect.width-d-2*this.datalabelsCoords.width;break;case"right":n.translateY=h,n.translateX=d+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-u-12,n.gridWidth=n.svgWidth-this.lgRect.width-d-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(s,a),new L4(this.ctx).setYAxisXPosition(a,s)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=e.config,a=0;e.config.legend.show&&!e.config.legend.floating&&(a=20);var s=n.chart.type==="pie"||n.chart.type==="polarArea"||n.chart.type==="donut"?"pie":"radialBar",i=n.plotOptions[s].offsetY,l=n.plotOptions[s].offsetX;if(!n.legend.show||n.legend.floating){t.gridHeight=t.svgHeight;var c=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(c,t.gridHeight),t.translateY=i,void(t.translateX=l+(t.svgWidth-t.gridWidth)/2)}switch(n.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=i-10,t.translateX=l+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+i+10,t.translateX=l+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-a,t.gridHeight=n.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=i,t.translateX=l+this.lgRect.width+a;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-a-5,t.gridHeight=n.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=i,t.translateX=l+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,n){var a=this.w,s=a.globals.hasXaxisGroups?2:1,i=n.height+e.height+t.height,l=a.globals.isMultiLineX?1.2:a.globals.LINE_HEIGHT_RATIO,c=a.globals.rotateXLabels?22:10,d=a.globals.rotateXLabels&&a.config.legend.position==="bottom"?10:0;this.xAxisHeight=i*l+s*c+d,this.xAxisWidth=e.width,this.xAxisHeight-t.height>a.config.xaxis.labels.maxHeight&&(this.xAxisHeight=a.config.xaxis.labels.maxHeight),a.config.xaxis.labels.minHeight&&this.xAxisHeight<a.config.xaxis.labels.minHeight&&(this.xAxisHeight=a.config.xaxis.labels.minHeight),a.config.xaxis.floating&&(this.xAxisHeight=0);var u=0,h=0;a.config.yaxis.forEach(function(f){u+=f.labels.minWidth,h+=f.labels.maxWidth}),this.yAxisWidth<u&&(this.yAxisWidth=u),this.yAxisWidth>h&&(this.yAxisWidth=h)}}]),r}(),VV=function(){function r(e){bt(this,r),this.w=e.w,this.lgCtx=e}return yt(r,[{key:"getLegendStyles",value:function(){var e,t,n,a=document.createElement("style");a.setAttribute("type","text/css");var s=((e=this.lgCtx.ctx)===null||e===void 0||(t=e.opts)===null||t===void 0||(n=t.chart)===null||n===void 0?void 0:n.nonce)||this.w.config.chart.nonce;s&&a.setAttribute("nonce",s);var i=document.createTextNode(`
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apexcharts-legend-group-horizontal {
        flex-direction: column;
      }
      .apexcharts-legend-group {
        display: flex;
      }
      .apexcharts-legend-group-vertical {
        flex-direction: column-reverse;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
        align-items: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
        align-items: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
        align-items: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }

    `);return a.appendChild(i),a}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var n=this,a=this.w;if(a.globals.axisCharts||a.config.chart.type==="radialBar"){a.globals.resized=!0;var s=null,i=null;a.globals.risingSeries=[],a.globals.axisCharts?(s=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),i=parseInt(s.getAttribute("data:realIndex"),10)):(s=a.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),i=parseInt(s.getAttribute("rel"),10)-1),t?[{cs:a.globals.collapsedSeries,csi:a.globals.collapsedSeriesIndices},{cs:a.globals.ancillaryCollapsedSeries,csi:a.globals.ancillaryCollapsedSeriesIndices}].forEach(function(u){n.riseCollapsedSeries(u.cs,u.csi,i)}):this.hideSeries({seriesEl:s,realIndex:i})}else{var l=a.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),c=a.config.chart.type;if(c==="pie"||c==="polarArea"||c==="donut"){var d=a.config.plotOptions.pie.donut.labels;new Ye(this.lgCtx.ctx).pathMouseDown(l,null),this.lgCtx.ctx.pie.printDataLabelsInner(l.node,d)}l.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,n=this.w,a=n.globals,s=xe.clone(n.config.series);if(a.axisCharts){var i=n.config.yaxis[a.seriesYAxisReverseMap[t]],l={index:t,data:s[t].data.slice(),type:s[t].type||n.config.chart.type};if(i&&i.show&&i.showAlways)a.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(a.ancillaryCollapsedSeries.push(l),a.ancillaryCollapsedSeriesIndices.push(t));else if(a.collapsedSeriesIndices.indexOf(t)<0){a.collapsedSeries.push(l),a.collapsedSeriesIndices.push(t);var c=a.risingSeries.indexOf(t);a.risingSeries.splice(c,1)}}else a.collapsedSeries.push({index:t,data:s[t]}),a.collapsedSeriesIndices.push(t);return a.allSeriesCollapsed=a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===n.config.series.length,this._getSeriesBasedOnCollapsedState(s)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,n=e.realIndex,a=this.w,s=this.getSeriesAfterCollapsing({realIndex:n}),i=t.childNodes,l=0;l<i.length;l++)i[l].classList.contains("apexcharts-series-markers-wrap")&&(i[l].classList.contains("apexcharts-hide")?i[l].classList.remove("apexcharts-hide"):i[l].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(s,a.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,n){var a=this.w,s=xe.clone(a.config.series);if(e.length>0){for(var i=0;i<e.length;i++)e[i].index===n&&(a.globals.axisCharts?s[n].data=e[i].data.slice():s[n]=e[i].data,typeof s[n]!="number"&&(s[n].hidden=!1),e.splice(i,1),t.splice(i,1),a.globals.risingSeries.push(n));s=this._getSeriesBasedOnCollapsedState(s),this.lgCtx.ctx.updateHelpers._updateSeries(s,a.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,n=0;return t.globals.axisCharts?e.forEach(function(a,s){t.globals.collapsedSeriesIndices.indexOf(s)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(s)<0||(e[s].data=[],n++)}):e.forEach(function(a,s){!t.globals.collapsedSeriesIndices.indexOf(s)<0&&(e[s]=0,n++)}),t.globals.allSeriesCollapsed=n===e.length,e}}]),r}(),xE=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new VV(this)}return yt(r,[{key:"init",value:function(){var e=this.w,t=e.globals,n=e.config,a=n.legend.showForSingleSeries&&t.series.length===1||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(a||!t.axisCharts)&&n.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),n.legend.position==="bottom"||n.legend.position==="top"?this.legendAlignHorizontal():n.legend.position!=="right"&&n.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,n=e.fillcolor,a=this.w,s=document.createElement("span");s.classList.add("apexcharts-legend-marker");var i=a.config.legend.markers.shape||a.config.markers.shape,l=i;Array.isArray(i)&&(l=i[t]);var c=Array.isArray(a.config.legend.markers.size)?parseFloat(a.config.legend.markers.size[t]):parseFloat(a.config.legend.markers.size),d=Array.isArray(a.config.legend.markers.offsetX)?parseFloat(a.config.legend.markers.offsetX[t]):parseFloat(a.config.legend.markers.offsetX),u=Array.isArray(a.config.legend.markers.offsetY)?parseFloat(a.config.legend.markers.offsetY[t]):parseFloat(a.config.legend.markers.offsetY),h=Array.isArray(a.config.legend.markers.strokeWidth)?parseFloat(a.config.legend.markers.strokeWidth[t]):parseFloat(a.config.legend.markers.strokeWidth),f=s.style;if(f.height=2*(c+h)+"px",f.width=2*(c+h)+"px",f.left=d+"px",f.top=u+"px",a.config.legend.markers.customHTML)f.background="transparent",f.color=n[t],Array.isArray(a.config.legend.markers.customHTML)?a.config.legend.markers.customHTML[t]&&(s.innerHTML=a.config.legend.markers.customHTML[t]()):s.innerHTML=a.config.legend.markers.customHTML();else{var p=new vh(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(l),seriesIndex:t,strokeWidth:h,size:c}),m=window.SVG().addTo(s).size("100%","100%"),g=new Ye(this.ctx).drawMarker(0,0,ct(ct({},p),{},{pointFillColor:Array.isArray(n)?n[t]:p.pointFillColor,shape:l}));a.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(v){v.node.classList.contains("apexcharts-marker-triangle")?v.node.style.transform="translate(50%, 45%)":v.node.style.transform="translate(50%, 50%)"}),m.add(g)}return s}},{key:"drawLegends",value:function(){var e=this,t=this,n=this.w,a=n.config.legend.fontFamily,s=n.globals.seriesNames,i=n.config.legend.markers.fillColors?n.config.legend.markers.fillColors.slice():n.globals.colors.slice();if(n.config.chart.type==="heatmap"){var l=n.config.plotOptions.heatmap.colorScale.ranges;s=l.map(function(p){return p.name?p.name:p.from+" - "+p.to}),i=l.map(function(p){return p.color})}else this.isBarsDistributed&&(s=n.globals.labels.slice());n.config.legend.customLegendItems.length&&(s=n.config.legend.customLegendItems);var c=n.globals.legendFormatter,d=n.config.legend.inverseOrder,u=[];n.globals.seriesGroups.length>1&&n.config.legend.clusterGroupedSeries&&n.globals.seriesGroups.forEach(function(p,m){u[m]=document.createElement("div"),u[m].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(m)),n.config.legend.clusterGroupedSeriesOrientation==="horizontal"?n.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):u[m].classList.add("apexcharts-legend-group-vertical")});for(var h=function(p){var m,g=c(s[p],{seriesIndex:p,w:n}),v=!1,x=!1;if(n.globals.collapsedSeries.length>0)for(var b=0;b<n.globals.collapsedSeries.length;b++)n.globals.collapsedSeries[b].index===p&&(v=!0);if(n.globals.ancillaryCollapsedSeriesIndices.length>0)for(var y=0;y<n.globals.ancillaryCollapsedSeriesIndices.length;y++)n.globals.ancillaryCollapsedSeriesIndices[y]===p&&(x=!0);var C=e.createLegendMarker({i:p,fillcolor:i});Ye.setAttrs(C,{rel:p+1,"data:collapsed":v||x}),(v||x)&&C.classList.add("apexcharts-inactive-legend");var S=document.createElement("div"),_=document.createElement("span");_.classList.add("apexcharts-legend-text"),_.innerHTML=Array.isArray(g)?g.join(" "):g;var E=n.config.legend.labels.useSeriesColors?n.globals.colors[p]:Array.isArray(n.config.legend.labels.colors)?(m=n.config.legend.labels.colors)===null||m===void 0?void 0:m[p]:n.config.legend.labels.colors;E||(E=n.config.chart.foreColor),_.style.color=E,_.style.fontSize=parseFloat(n.config.legend.fontSize)+"px",_.style.fontWeight=n.config.legend.fontWeight,_.style.fontFamily=a||n.config.chart.fontFamily,Ye.setAttrs(_,{rel:p+1,i:p,"data:default-text":encodeURIComponent(g),"data:collapsed":v||x}),S.appendChild(C),S.appendChild(_);var A=new hn(e.ctx);n.config.legend.showForZeroSeries||A.getSeriesTotalByIndex(p)===0&&A.seriesHaveSameValues(p)&&!A.isSeriesNull(p)&&n.globals.collapsedSeriesIndices.indexOf(p)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(p)===-1&&S.classList.add("apexcharts-hidden-zero-series"),n.config.legend.showForNullSeries||A.isSeriesNull(p)&&n.globals.collapsedSeriesIndices.indexOf(p)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(p)===-1&&S.classList.add("apexcharts-hidden-null-series"),u.length?n.globals.seriesGroups.forEach(function(T,F){var L;T.includes((L=n.config.series[p])===null||L===void 0?void 0:L.name)&&(n.globals.dom.elLegendWrap.appendChild(u[F]),u[F].appendChild(S))}):n.globals.dom.elLegendWrap.appendChild(S),n.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(n.config.legend.horizontalAlign)),n.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+n.config.legend.position),S.classList.add("apexcharts-legend-series"),S.style.margin="".concat(n.config.legend.itemMargin.vertical,"px ").concat(n.config.legend.itemMargin.horizontal,"px"),n.globals.dom.elLegendWrap.style.width=n.config.legend.width?n.config.legend.width+"px":"",n.globals.dom.elLegendWrap.style.height=n.config.legend.height?n.config.legend.height+"px":"",Ye.setAttrs(S,{rel:p+1,seriesName:xe.escapeString(s[p]),"data:collapsed":v||x}),(v||x)&&S.classList.add("apexcharts-inactive-legend"),n.config.legend.onItemClick.toggleDataSeries||S.classList.add("apexcharts-no-click")},f=d?s.length-1:0;d?f>=0:f<=s.length-1;d?f--:f++)h(f);n.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),n.config.legend.onItemHover.highlightDataSeries&&n.config.legend.customLegendItems.length===0&&(n.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),n.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var n=this.w,a=n.globals.dom.elLegendWrap,s=a.clientHeight,i=0,l=0;if(n.config.legend.position==="bottom")l=n.globals.svgHeight-Math.min(s,n.globals.svgHeight/2)-5;else if(n.config.legend.position==="top"){var c=new ex(this.ctx),d=c.dimHelpers.getTitleSubtitleCoords("title").height,u=c.dimHelpers.getTitleSubtitleCoords("subtitle").height;l=(d>0?d-10:0)+(u>0?u-10:0)}a.style.position="absolute",i=i+e+n.config.legend.offsetX,l=l+t+n.config.legend.offsetY,a.style.left=i+"px",a.style.top=l+"px",n.config.legend.position==="right"&&(a.style.left="auto",a.style.right=25+n.config.legend.offsetX+"px"),["width","height"].forEach(function(h){a.style[h]&&(a.style[h]=parseInt(n.config.legend[h],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new ex(this.ctx),n=t.dimHelpers.getTitleSubtitleCoords("title"),a=t.dimHelpers.getTitleSubtitleCoords("subtitle"),s=0;e.config.legend.position==="top"&&(s=n.height+a.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,s)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),n=0;e.config.legend.position==="left"&&(n=20),e.config.legend.position==="right"&&(n=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(n,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,n=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(t.config.chart.type==="heatmap"||this.isBarsDistributed){if(n){var a=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,a,this.w]),new Zs(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&n&&new Zs(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var n=parseInt(e.target.getAttribute("rel"),10)-1,a=e.target.getAttribute("data:collapsed")==="true",s=this.w.config.chart.events.legendClick;typeof s=="function"&&s(this.ctx,n,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,n,this.w]);var i=this.w.config.legend.markers.onClick;typeof i=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(i(this.ctx,n,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,n,this.w])),t.config.chart.type!=="treemap"&&t.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(n,a)}}}]),r}(),vE=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return yt(r,[{key:"createToolbar",value:function(){var e=this,t=this.w,n=function(){return document.createElement("div")},a=n();if(a.setAttribute("class","apexcharts-toolbar"),a.style.top=t.config.chart.toolbar.offsetY+"px",a.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(a),this.elZoom=n(),this.elZoomIn=n(),this.elZoomOut=n(),this.elPan=n(),this.elSelection=n(),this.elZoomReset=n(),this.elMenuIcon=n(),this.elMenu=n(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var s=0;s<this.t.customIcons.length;s++)this.elCustomIcons.push(n());var i=[],l=function(h,f,p){var m=h.toLowerCase();e.t[m]&&t.config.chart.zoom.enabled&&i.push({el:f,icon:typeof e.t[m]=="string"?e.t[m]:p,title:e.localeValues[h],class:"apexcharts-".concat(m,"-icon")})};l("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),l("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var c=function(h){e.t[h]&&t.config.chart[h].enabled&&i.push({el:h==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[h]=="string"?e.t[h]:h==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[h==="zoom"?"selectionZoom":"selection"],class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(h,"-icon")})};c("zoom"),c("selection"),this.t.pan&&t.config.chart.zoom.enabled&&i.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),l("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&i.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var d=0;d<this.elCustomIcons.length;d++)i.push({el:this.elCustomIcons[d],icon:this.t.customIcons[d].icon,title:this.t.customIcons[d].title,index:this.t.customIcons[d].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[d].class});i.forEach(function(h,f){h.index&&xe.moveIndexInArray(i,f,h.index)});for(var u=0;u<i.length;u++)Ye.setAttrs(i[u].el,{class:i[u].class,title:i[u].title}),i[u].el.innerHTML=i[u].icon,a.appendChild(i[u].el);this._createHamburgerMenu(a),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),Ye.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],n=0;n<t.length;n++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[n].innerHTML=t[n].title,Ye.setAttrs(this.elMenuItems[n],{class:"apexcharts-menu-item ".concat(t[n].name),title:t[n].title}),this.elMenu.appendChild(this.elMenuItems[n])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(n){n.classList.contains("exportSVG")?n.addEventListener("click",e.handleDownload.bind(e,"svg")):n.classList.contains("exportPNG")?n.addEventListener("click",e.handleDownload.bind(e,"png")):n.classList.contains("exportCSV")&&n.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var n=e==="selection"?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,a=e==="selection"?"selectionEnabled":"zoomEnabled";t.w.globals[a]=!t.w.globals[a],n.classList.contains(t.ctx.toolbar.selectedClass)?n.classList.remove(t.ctx.toolbar.selectedClass):n.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t=e==="pan"?this.elPan:this.elZoom,n=e==="pan"?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),n&&n.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(n){n&&n.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,n=(this.minX+t)/2,a=(this.maxX+t)/2,s=this._getNewMinXMaxX(n,a);e.globals.disableZoomIn||this.zoomUpdateOptions(s.minX,s.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,n=this.minX-(t-this.minX),a=this.maxX-(t-this.maxX),s=this._getNewMinXMaxX(n,a);e.globals.disableZoomOut||this.zoomUpdateOptions(s.minX,s.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var n=this.w.config.xaxis.convertedCatToNumeric;return{minX:n?Math.floor(e):e,maxX:n?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var n=this.w;if(e!==void 0||t!==void 0){if(!(n.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=n.globals.dataPoints),t-e<2))){var a={min:e,max:t},s=this.getBeforeZoomRange(a);s&&(a=s.xaxis);var i={xaxis:a},l=xe.clone(n.globals.initialConfig.yaxis);n.config.chart.group||(i.yaxis=l),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(i,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(a,l)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t})}},{key:"getBeforeZoomRange",value:function(e,t){var n=null;return typeof this.ev.beforeZoom=="function"&&(n=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),n}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var t=this.w,n=new Q0(this.ctx);switch(e){case"svg":n.exportToSVG(this.ctx);break;case"png":n.exportToPng(this.ctx);break;case"csv":n.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){var n=t.w;if(n.globals.lastXAxis.min=n.globals.initialConfig.xaxis.min,n.globals.lastXAxis.max=n.globals.initialConfig.xaxis.max,t.updateHelpers.revertDefaultAxisMinMax(),typeof n.config.chart.events.beforeResetZoom=="function"){var a=n.config.chart.events.beforeResetZoom(t,n);a&&t.updateHelpers.revertDefaultAxisMinMax(a)}typeof n.config.chart.events.zoomed=="function"&&t.ctx.toolbar.zoomCallback({min:n.config.xaxis.min,max:n.config.xaxis.max}),n.globals.zoomed=!1;var s=t.ctx.series.emptyCollapsedSeries(xe.clone(n.globals.initialSeries));t.updateHelpers._updateSeries(s,n.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),r}(),$V=function(r){zp(t,vE);var e=Bp(t);function t(n){var a;return bt(this,t),(a=e.call(this,n)).ctx=n,a.w=n.w,a.dragged=!1,a.graphics=new Ye(a.ctx),a.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],a.clientX=0,a.clientY=0,a.startX=0,a.endX=0,a.dragX=0,a.startY=0,a.endY=0,a.dragY=0,a.moveDirection="none",a.debounceTimer=null,a.debounceDelay=100,a.wheelDelay=400,a}return yt(t,[{key:"init",value:function(n){var a=this,s=n.xyRatios,i=this.w,l=this;this.xyRatios=s,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=i.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new Zn(0,0,i.globals.gridWidth,i.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),i.globals.dom.Paper.add(this.zoomRect),i.globals.dom.Paper.add(this.selectionRect),i.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:i.globals.gridWidth,maxY:i.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):i.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:i.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=i.globals.dom.baseEl.querySelector("".concat(i.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(c){a.hoverArea.addEventListener(c,l.svgMouseEvents.bind(l,s),{capture:!1,passive:!0})}),i.config.chart.zoom.enabled&&i.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",l.mouseWheelEvent.bind(l),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(n,a){var s=this.w,i=this.ctx.toolbar,l=s.globals.zoomEnabled?s.config.chart.zoom.type:s.config.chart.selection.type,c=s.config.chart.toolbar.autoSelected;if(a.shiftKey?(this.shiftWasPressed=!0,i.enableZoomPanFromToolbar(c==="pan"?"zoom":"pan")):this.shiftWasPressed&&(i.enableZoomPanFromToolbar(c),this.shiftWasPressed=!1),a.target){var d,u=a.target.classList;if(a.target.parentNode&&a.target.parentNode!==null&&(d=a.target.parentNode.classList),!(u.contains("apexcharts-legend-marker")||u.contains("apexcharts-legend-text")||d&&d.contains("apexcharts-toolbar"))){if(this.clientX=a.type==="touchmove"||a.type==="touchstart"?a.touches[0].clientX:a.type==="touchend"?a.changedTouches[0].clientX:a.clientX,this.clientY=a.type==="touchmove"||a.type==="touchstart"?a.touches[0].clientY:a.type==="touchend"?a.changedTouches[0].clientY:a.clientY,a.type==="mousedown"&&a.which===1||a.type==="touchstart"){var h=this.gridRect.getBoundingClientRect();this.startX=this.clientX-h.left-s.globals.barPadForNumericAxis,this.startY=this.clientY-h.top,this.dragged=!1,this.w.globals.mousedown=!0}(a.type==="mousemove"&&a.which===1||a.type==="touchmove")&&(this.dragged=!0,s.globals.panEnabled?(s.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:l,xyRatios:n})):(this.w.globals.mousedown&&s.globals.zoomEnabled||this.w.globals.mousedown&&s.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:l}))),a.type!=="mouseup"&&a.type!=="touchend"&&a.type!=="mouseleave"||this.handleMouseUp({zoomtype:l}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(n){var a,s=n.zoomtype,i=n.isResized,l=this.w,c=(a=this.gridRect)===null||a===void 0?void 0:a.getBoundingClientRect();c&&(this.w.globals.mousedown||i)&&(this.endX=this.clientX-c.left-l.globals.barPadForNumericAxis,this.endY=this.clientY-c.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(l.globals.zoomEnabled||l.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:s}),l.globals.panEnabled&&l.config.xaxis.convertedCatToNumeric&&this.delayedPanScrolled()),l.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(n){var a=this,s=this.w;n.preventDefault();var i=Date.now();i-s.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(n),s.globals.lastWheelExecution=i),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){i-s.globals.lastWheelExecution>a.wheelDelay&&(a.executeMouseWheelZoom(n),s.globals.lastWheelExecution=i)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(n){var a,s=this.w;this.minX=s.globals.isRangeBar?s.globals.minY:s.globals.minX,this.maxX=s.globals.isRangeBar?s.globals.maxY:s.globals.maxX;var i=(a=this.gridRect)===null||a===void 0?void 0:a.getBoundingClientRect();if(i){var l,c,d,u=(n.clientX-i.left)/i.width,h=this.minX,f=this.maxX,p=f-h;if(n.deltaY<0){var m=h+u*p;c=m-(l=.5*p)/2,d=m+l/2}else c=h-(l=1.5*p)/2,d=f+l/2;if(!s.globals.isRangeBar){c=Math.max(c,s.globals.initialMinX),d=Math.min(d,s.globals.initialMaxX);var g=.01*(s.globals.initialMaxX-s.globals.initialMinX);if(d-c<g){var v=(c+d)/2;c=v-g/2,d=v+g/2}}var x=this._getNewMinXMaxX(c,d);isNaN(x.minX)||isNaN(x.maxX)||this.zoomUpdateOptions(x.minX,x.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var n=this,a=this.w;if(this.selectionRect){var s=this.selectionRect.node.getBoundingClientRect();s.width>0&&s.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(i,l,c,d,u){return u==="l"||u==="r"?i.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):i.circle(0)},updateHandle:function(i,l){return i.center(l[0],l[1])}}).resize().on("resize",function(){var i=a.globals.zoomEnabled?a.config.chart.zoom.type:a.config.chart.selection.type;n.handleMouseUp({zoomtype:i,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var n=this.w,a=this.xyRatios;if(!n.globals.zoomEnabled){if(n.globals.selection!==void 0&&n.globals.selection!==null)this.drawSelectionRect(ct(ct({},n.globals.selection),{},{translateX:n.globals.translateX,translateY:n.globals.translateY}));else if(n.config.chart.selection.xaxis.min!==void 0&&n.config.chart.selection.xaxis.max!==void 0){var s=(n.config.chart.selection.xaxis.min-n.globals.minX)/a.xRatio,i=n.globals.gridWidth-(n.globals.maxX-n.config.chart.selection.xaxis.max)/a.xRatio-s;n.globals.isRangeBar&&(s=(n.config.chart.selection.xaxis.min-n.globals.yAxisScale[0].niceMin)/a.invertedYRatio,i=(n.config.chart.selection.xaxis.max-n.config.chart.selection.xaxis.min)/a.invertedYRatio);var l={x:s,y:0,width:i,height:n.globals.gridHeight,translateX:n.globals.translateX,translateY:n.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(l),this.makeSelectionRectDraggable(),typeof n.config.chart.events.selection=="function"&&n.config.chart.events.selection(this.ctx,{xaxis:{min:n.config.chart.selection.xaxis.min,max:n.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.translateX,d=c===void 0?0:c,u=n.translateY,h=u===void 0?0:u,f=this.w,p=this.zoomRect,m=this.selectionRect;if(this.dragged||f.globals.selection!==null){var g={transform:"translate("+d+", "+h+")"};f.globals.zoomEnabled&&this.dragged&&(i<0&&(i=1),p.attr({x:a,y:s,width:i,height:l,fill:f.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":f.config.chart.zoom.zoomedArea.fill.opacity,stroke:f.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":f.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":f.config.chart.zoom.zoomedArea.stroke.opacity}),Ye.setAttrs(p.node,g)),f.globals.selectionEnabled&&(m.attr({x:a,y:s,width:i>0?i:0,height:l>0?l:0,fill:f.config.chart.selection.fill.color,"fill-opacity":f.config.chart.selection.fill.opacity,stroke:f.config.chart.selection.stroke.color,"stroke-width":f.config.chart.selection.stroke.width,"stroke-dasharray":f.config.chart.selection.stroke.dashArray,"stroke-opacity":f.config.chart.selection.stroke.opacity}),Ye.setAttrs(m.node,g))}}},{key:"hideSelectionRect",value:function(n){n&&n.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(n){var a=n.context,s=n.zoomtype,i=this.w,l=a,c=this.gridRect.getBoundingClientRect(),d=l.startX-1,u=l.startY,h=!1,f=!1,p=l.clientX-c.left-i.globals.barPadForNumericAxis,m=l.clientY-c.top,g=p-d,v=m-u,x={translateX:i.globals.translateX,translateY:i.globals.translateY};return Math.abs(g+d)>i.globals.gridWidth?g=i.globals.gridWidth-d:p<0&&(g=d),d>p&&(h=!0,g=Math.abs(g)),u>m&&(f=!0,v=Math.abs(v)),x=ct(ct({},x=s==="x"?{x:h?d-g:d,y:0,width:g,height:i.globals.gridHeight}:s==="y"?{x:0,y:f?u-v:u,width:i.globals.gridWidth,height:v}:{x:h?d-g:d,y:f?u-v:u,width:g,height:v}),{},{translateX:i.globals.translateX,translateY:i.globals.translateY}),l.drawSelectionRect(x),l.selectionDragging("resizing"),x}},{key:"selectionDragging",value:function(n,a){var s=this,i=this.w;if(a){a.preventDefault();var l=a.detail,c=l.handler,d=l.box,u=d.x,h=d.y;u<this.constraints.x&&(u=this.constraints.x),h<this.constraints.y&&(h=this.constraints.y),d.x2>this.constraints.x2&&(u=this.constraints.x2-d.w),d.y2>this.constraints.y2&&(h=this.constraints.y2-d.h),c.move(u,h);var f=this.xyRatios,p=this.selectionRect,m=0;n==="resizing"&&(m=30);var g=function(x){return parseFloat(p.node.getAttribute(x))},v={x:g("x"),y:g("y"),width:g("width"),height:g("height")};i.globals.selection=v,typeof i.config.chart.events.selection=="function"&&i.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var x,b,y,C,S=s.gridRect.getBoundingClientRect(),_=p.node.getBoundingClientRect();i.globals.isRangeBar?(x=i.globals.yAxisScale[0].niceMin+(_.left-S.left)*f.invertedYRatio,b=i.globals.yAxisScale[0].niceMin+(_.right-S.left)*f.invertedYRatio,y=0,C=1):(x=i.globals.xAxisScale.niceMin+(_.left-S.left)*f.xRatio,b=i.globals.xAxisScale.niceMin+(_.right-S.left)*f.xRatio,y=i.globals.yAxisScale[0].niceMin+(S.bottom-_.bottom)*f.yRatio[0],C=i.globals.yAxisScale[0].niceMax-(_.top-S.top)*f.yRatio[0]);var E={xaxis:{min:x,max:b},yaxis:{min:y,max:C}};i.config.chart.events.selection(s.ctx,E),i.config.chart.brush.enabled&&i.config.chart.events.brushScrolled!==void 0&&i.config.chart.events.brushScrolled(s.ctx,E)},m))}}},{key:"selectionDrawn",value:function(n){var a,s,i=n.context,l=n.zoomtype,c=this.w,d=i,u=this.xyRatios,h=this.ctx.toolbar,f=c.globals.zoomEnabled?d.zoomRect.node.getBoundingClientRect():d.selectionRect.node.getBoundingClientRect(),p=d.gridRect.getBoundingClientRect(),m=f.left-p.left-c.globals.barPadForNumericAxis,g=f.right-p.left-c.globals.barPadForNumericAxis,v=f.top-p.top,x=f.bottom-p.top;c.globals.isRangeBar?(a=c.globals.yAxisScale[0].niceMin+m*u.invertedYRatio,s=c.globals.yAxisScale[0].niceMin+g*u.invertedYRatio):(a=c.globals.xAxisScale.niceMin+m*u.xRatio,s=c.globals.xAxisScale.niceMin+g*u.xRatio);var b=[],y=[];if(c.config.yaxis.forEach(function(F,L){var D=c.globals.seriesYAxisMap[L][0],O=c.globals.yAxisScale[L].niceMax-u.yRatio[D]*v,I=c.globals.yAxisScale[L].niceMax-u.yRatio[D]*x;b.push(O),y.push(I)}),d.dragged&&(d.dragX>10||d.dragY>10)&&a!==s){if(c.globals.zoomEnabled){var C=xe.clone(c.globals.initialConfig.yaxis),S=xe.clone(c.globals.initialConfig.xaxis);if(c.globals.zoomed=!0,c.config.xaxis.convertedCatToNumeric&&(a=Math.floor(a),s=Math.floor(s),a<1&&(a=1,s=c.globals.dataPoints),s-a<2&&(s=a+1)),l!=="xy"&&l!=="x"||(S={min:a,max:s}),l!=="xy"&&l!=="y"||C.forEach(function(F,L){C[L].min=y[L],C[L].max=b[L]}),h){var _=h.getBeforeZoomRange(S,C);_&&(S=_.xaxis?_.xaxis:S,C=_.yaxis?_.yaxis:C)}var E={xaxis:S};c.config.chart.group||(E.yaxis=C),d.ctx.updateHelpers._updateOptions(E,!1,d.w.config.chart.animations.dynamicAnimation.enabled),typeof c.config.chart.events.zoomed=="function"&&h.zoomCallback(S,C)}else if(c.globals.selectionEnabled){var A,T=null;A={min:a,max:s},l!=="xy"&&l!=="y"||(T=xe.clone(c.config.yaxis)).forEach(function(F,L){T[L].min=y[L],T[L].max=b[L]}),c.globals.selection=d.selection,typeof c.config.chart.events.selection=="function"&&c.config.chart.events.selection(d.ctx,{xaxis:A,yaxis:T})}}}},{key:"panDragging",value:function(n){var a=n.context,s=this.w,i=a;if(s.globals.lastClientPosition.x!==void 0){var l=s.globals.lastClientPosition.x-i.clientX,c=s.globals.lastClientPosition.y-i.clientY;Math.abs(l)>Math.abs(c)&&l>0?this.moveDirection="left":Math.abs(l)>Math.abs(c)&&l<0?this.moveDirection="right":Math.abs(c)>Math.abs(l)&&c>0?this.moveDirection="up":Math.abs(c)>Math.abs(l)&&c<0&&(this.moveDirection="down")}s.globals.lastClientPosition={x:i.clientX,y:i.clientY};var d=s.globals.isRangeBar?s.globals.minY:s.globals.minX,u=s.globals.isRangeBar?s.globals.maxY:s.globals.maxX;s.config.xaxis.convertedCatToNumeric||i.panScrolled(d,u)}},{key:"delayedPanScrolled",value:function(){var n=this.w,a=n.globals.minX,s=n.globals.maxX,i=(n.globals.maxX-n.globals.minX)/2;this.moveDirection==="left"?(a=n.globals.minX+i,s=n.globals.maxX+i):this.moveDirection==="right"&&(a=n.globals.minX-i,s=n.globals.maxX-i),a=Math.floor(a),s=Math.floor(s),this.updateScrolledChart({xaxis:{min:a,max:s}},a,s)}},{key:"panScrolled",value:function(n,a){var s=this.w,i=this.xyRatios,l=xe.clone(s.globals.initialConfig.yaxis),c=i.xRatio,d=s.globals.minX,u=s.globals.maxX;s.globals.isRangeBar&&(c=i.invertedYRatio,d=s.globals.minY,u=s.globals.maxY),this.moveDirection==="left"?(n=d+s.globals.gridWidth/15*c,a=u+s.globals.gridWidth/15*c):this.moveDirection==="right"&&(n=d-s.globals.gridWidth/15*c,a=u-s.globals.gridWidth/15*c),s.globals.isRangeBar||(n<s.globals.initialMinX||a>s.globals.initialMaxX)&&(n=d,a=u);var h={xaxis:{min:n,max:a}};s.config.chart.group||(h.yaxis=l),this.updateScrolledChart(h,n,a)}},{key:"updateScrolledChart",value:function(n,a,s){var i=this.w;this.ctx.updateHelpers._updateOptions(n,!1,!1),typeof i.config.chart.events.scrolled=="function"&&i.config.chart.events.scrolled(this.ctx,{xaxis:{min:a,max:s}})}}]),t}(),bE=function(){function r(e){bt(this,r),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return yt(r,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,n=e.elGrid,a=e.clientX,s=e.clientY,i=this.w,l=n.getBoundingClientRect(),c=l.width,d=l.height,u=c/(i.globals.dataPoints-1),h=d/i.globals.dataPoints,f=this.hasBars();!i.globals.comboCharts&&!f||i.config.xaxis.convertedCatToNumeric||(u=c/i.globals.dataPoints);var p=a-l.left-i.globals.barPadForNumericAxis,m=s-l.top;p<0||m<0||p>c||m>d?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):i.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):i.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var g=Math.round(p/u),v=Math.floor(m/h);f&&!i.config.xaxis.convertedCatToNumeric&&(g=Math.ceil(p/u),g-=1);var x=null,b=null,y=i.globals.seriesXvalues.map(function(A){return A.filter(function(T){return xe.isNumber(T)})}),C=i.globals.seriesYvalues.map(function(A){return A.filter(function(T){return xe.isNumber(T)})});if(i.globals.isXNumeric){var S=this.ttCtx.getElGrid().getBoundingClientRect(),_=p*(S.width/c),E=m*(S.height/d);x=(b=this.closestInMultiArray(_,E,y,C)).index,g=b.j,x!==null&&i.globals.hasNullValues&&(y=i.globals.seriesXvalues[x],g=(b=this.closestInArray(_,y)).j)}return i.globals.capturedSeriesIndex=x===null?-1:x,(!g||g<1)&&(g=0),i.globals.isBarHorizontal?i.globals.capturedDataPointIndex=v:i.globals.capturedDataPointIndex=g,{capturedSeries:x,j:i.globals.isBarHorizontal?v:g,hoverX:p,hoverY:m}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,n=0,a=e.map(function(i,l){return i.length>0?l:-1}),s=0;s<a.length;s++)if(a[s]!==-1&&t.globals.collapsedSeriesIndices.indexOf(s)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(s)===-1){n=a[s];break}return n}},{key:"closestInMultiArray",value:function(e,t,n,a){for(var s,i=this.w,l=1/0,c=null,d=null,u=0;u<n.length;u++)if(s=u,i.globals.collapsedSeriesIndices.indexOf(s)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(s)===-1)for(var h=n[u],f=a[u],p=Math.min(h.length,f.length),m=0;m<p;m++){var g=e-h[m],v=Math.sqrt(g*g);if(!i.globals.allSeriesHasEqualX){var x=t-f[m];v=Math.sqrt(g*g+x*x)}v<l&&(l=v,c=u,d=m)}return{index:c,j:d}}},{key:"closestInArray",value:function(e,t){for(var n=t[0],a=null,s=Math.abs(e-n),i=0;i<t.length;i++){var l=Math.abs(e-t[i]);l<s&&(s=l,a=i)}return{j:a}}},{key:"isXoverlap",value:function(e){var t=[],n=this.w.globals.seriesX.filter(function(s){return s[0]!==void 0});if(n.length>0)for(var a=0;a<n.length-1;a++)n[a][e]!==void 0&&n[a+1][e]!==void 0&&n[a][e]!==n[a+1][e]&&t.push("unEqual");return t.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,n=0;n<t.length-1;n++)if(t[n].data.length!==t[n+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return zn(e).reduce(function(t,n){return t+n.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");n=zn(n),t&&(n=n.filter(function(s){var i=Number(s.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(i)===-1})),n.sort(function(s,i){var l=Number(s.getAttribute("data:realIndex")),c=Number(i.getAttribute("data:realIndex"));return c<l?1:c>l?-1:0});var a=[];return n.forEach(function(s){a.push(s.querySelector(".apexcharts-marker"))}),a}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var n=Number(e.getAttribute("cx")),a=Number(e.getAttribute("cy")),s=e.getAttribute("shape");return new Ye(this.ctx).getMarkerPath(n,a,s,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,n=t.config.markers.hover.size;return n===void 0&&(n=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),n}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,n=this.ttCtx;n.allTooltipSeriesGroups.length===0&&(n.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var a=n.allTooltipSeriesGroups,s=0;s<a.length;s++)e==="enable"?(a[s].classList.add("apexcharts-active"),a[s].style.display=t.config.tooltip.items.display):(a[s].classList.remove("apexcharts-active"),a[s].style.display="none")}}]),r}(),WV=function(){function r(e){bt(this,r),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new bE(e)}return yt(r,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,n=t===void 0||t,a=e.ttItems,s=e.i,i=s===void 0?0:s,l=e.j,c=l===void 0?null:l,d=e.y1,u=e.y2,h=e.e,f=this.w;f.config.tooltip.custom!==void 0?this.handleCustomTooltip({i,j:c,y1:d,y2:u,w:f}):this.toggleActiveInactiveSeries(n,i);var p=this.getValuesToPrint({i,j:c});this.printLabels({i,j:c,values:p,ttItems:a,shared:n,e:h});var m=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=m.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=m.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,n=this,a=e.i,s=e.j,i=e.values,l=e.ttItems,c=e.shared,d=e.e,u=this.w,h=[],f=function(S){return u.globals.seriesGoals[S]&&u.globals.seriesGoals[S][s]&&Array.isArray(u.globals.seriesGoals[S][s])},p=i.xVal,m=i.zVal,g=i.xAxisTTVal,v="",x=u.globals.colors[a];s!==null&&u.config.plotOptions.bar.distributed&&(x=u.globals.colors[s]);for(var b=function(S,_){var E=n.getFormatters(a);v=n.getSeriesName({fn:E.yLbTitleFormatter,index:a,seriesIndex:a,j:s}),u.config.chart.type==="treemap"&&(v=E.yLbTitleFormatter(String(u.config.series[a].data[s].x),{series:u.globals.series,seriesIndex:a,dataPointIndex:s,w:u}));var A=u.config.tooltip.inverseOrder?_:S;if(u.globals.axisCharts){var T=function(D){var O,I,B,z;return u.globals.isRangeData?E.yLbFormatter((O=u.globals.seriesRangeStart)===null||O===void 0||(I=O[D])===null||I===void 0?void 0:I[s],{series:u.globals.seriesRangeStart,seriesIndex:D,dataPointIndex:s,w:u})+" - "+E.yLbFormatter((B=u.globals.seriesRangeEnd)===null||B===void 0||(z=B[D])===null||z===void 0?void 0:z[s],{series:u.globals.seriesRangeEnd,seriesIndex:D,dataPointIndex:s,w:u}):E.yLbFormatter(u.globals.series[D][s],{series:u.globals.series,seriesIndex:D,dataPointIndex:s,w:u})};if(c)E=n.getFormatters(A),v=n.getSeriesName({fn:E.yLbTitleFormatter,index:A,seriesIndex:a,j:s}),x=u.globals.colors[A],t=T(A),f(A)&&(h=u.globals.seriesGoals[A][s].map(function(D){return{attrs:D,val:E.yLbFormatter(D.value,{seriesIndex:A,dataPointIndex:s,w:u})}}));else{var F,L=d==null||(F=d.target)===null||F===void 0?void 0:F.getAttribute("fill");L&&(L.indexOf("url")!==-1?L.indexOf("Pattern")!==-1&&(x=u.globals.dom.baseEl.querySelector(L.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):x=L),t=T(a),f(a)&&Array.isArray(u.globals.seriesGoals[a][s])&&(h=u.globals.seriesGoals[a][s].map(function(D){return{attrs:D,val:E.yLbFormatter(D.value,{seriesIndex:a,dataPointIndex:s,w:u})}}))}}s===null&&(t=E.yLbFormatter(u.globals.series[a],ct(ct({},u),{},{seriesIndex:a,dataPointIndex:a}))),n.DOMHandling({i:a,t:A,j:s,ttItems:l,values:{val:t,goalVals:h,xVal:p,xAxisTTVal:g,zVal:m},seriesName:v,shared:c,pColor:x})},y=0,C=u.globals.series.length-1;y<u.globals.series.length;y++,C--)b(y,C)}},{key:"getFormatters",value:function(e){var t,n=this.w,a=n.globals.yLabelFormatters[e];return n.globals.ttVal!==void 0?Array.isArray(n.globals.ttVal)?(a=n.globals.ttVal[e]&&n.globals.ttVal[e].formatter,t=n.globals.ttVal[e]&&n.globals.ttVal[e].title&&n.globals.ttVal[e].title.formatter):(a=n.globals.ttVal.formatter,typeof n.globals.ttVal.title.formatter=="function"&&(t=n.globals.ttVal.title.formatter)):t=n.config.tooltip.y.title.formatter,typeof a!="function"&&(a=n.globals.yLabelFormatters[0]?n.globals.yLabelFormatters[0]:function(s){return s}),typeof t!="function"&&(t=function(s){return s?s+": ":""}),{yLbFormatter:a,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,n=e.index,a=e.seriesIndex,s=e.j,i=this.w;return t(String(i.globals.seriesNames[n]),{series:i.globals.series,seriesIndex:a,dataPointIndex:s,w:i})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,n=e.j,a=e.ttItems,s=e.values,i=e.seriesName,l=e.shared,c=e.pColor,d=this.w,u=this.ttCtx,h=s.val,f=s.goalVals,p=s.xVal,m=s.xAxisTTVal,g=s.zVal,v=null;v=a[t].children,d.config.tooltip.fillSeriesColor&&(a[t].style.color=c,v[0].style.display="none"),u.showTooltipTitle&&(u.tooltipTitle===null&&(u.tooltipTitle=d.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),u.tooltipTitle.innerHTML=p),u.isXAxisTooltipEnabled&&(u.xaxisTooltipText.innerHTML=m!==""?m:p);var x=a[t].querySelector(".apexcharts-tooltip-text-y-label");x&&(x.innerHTML=i||"");var b=a[t].querySelector(".apexcharts-tooltip-text-y-value");b&&(b.innerHTML=h!==void 0?h:""),v[0]&&v[0].classList.contains("apexcharts-tooltip-marker")&&(d.config.tooltip.marker.fillColors&&Array.isArray(d.config.tooltip.marker.fillColors)&&(c=d.config.tooltip.marker.fillColors[t]),v[0].style.color=c),d.config.tooltip.marker.show||(v[0].style.display="none");var y=a[t].querySelector(".apexcharts-tooltip-text-goals-label"),C=a[t].querySelector(".apexcharts-tooltip-text-goals-value");if(f.length&&d.globals.seriesGoals[t]){var S=function(){var A="<div>",T="<div>";f.forEach(function(F,L){A+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(F.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(F.attrs.name,"</div>"),T+="<div>".concat(F.val,"</div>")}),y.innerHTML=A+"</div>",C.innerHTML=T+"</div>"};l?d.globals.seriesGoals[t][n]&&Array.isArray(d.globals.seriesGoals[t][n])?S():(y.innerHTML="",C.innerHTML=""):S()}else y.innerHTML="",C.innerHTML="";if(g!==null&&(a[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=d.config.tooltip.z.title,a[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=g!==void 0?g:""),l&&v[0]){if(d.config.tooltip.hideEmptySeries){var _=a[t].querySelector(".apexcharts-tooltip-marker"),E=a[t].querySelector(".apexcharts-tooltip-text");parseFloat(h)==0?(_.style.display="none",E.style.display="none"):(_.style.display="block",E.style.display="block")}h==null||d.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||d.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(t)===-1?v[0].parentNode.style.display="none":v[0].parentNode.style.display=d.config.tooltip.items.display}else Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(t)===-1&&(v[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var n=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var a=n.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));a&&(a.classList.add("apexcharts-active"),a.style.display=n.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,n=e.j,a=this.w,s=this.ctx.series.filteredSeriesX(),i="",l="",c=null,d=null,u={series:a.globals.series,seriesIndex:t,dataPointIndex:n,w:a},h=a.globals.ttZFormatter;n===null?d=a.globals.series[t]:a.globals.isXNumeric&&a.config.chart.type!=="treemap"?(i=s[t][n],s[t].length===0&&(i=s[this.tooltipUtil.getFirstActiveXArray(s)][n])):i=new P4(this.ctx).isFormatXY()?a.config.series[t].data[n]!==void 0?a.config.series[t].data[n].x:"":a.globals.labels[n]!==void 0?a.globals.labels[n]:"";var f=i;return a.globals.isXNumeric&&a.config.xaxis.type==="datetime"?i=new $p(this.ctx).xLabelFormat(a.globals.ttKeyFormatter,f,f,{i:void 0,dateFormatter:new aa(this.ctx).formatDate,w:this.w}):i=a.globals.isBarHorizontal?a.globals.yLabelFormatters[0](f,u):a.globals.xLabelFormatter(f,u),a.config.tooltip.x.formatter!==void 0&&(i=a.globals.ttKeyFormatter(f,u)),a.globals.seriesZ.length>0&&a.globals.seriesZ[t].length>0&&(c=h(a.globals.seriesZ[t][n],a)),l=typeof a.config.xaxis.tooltip.formatter=="function"?a.globals.xaxisTooltipFormatter(f,u):i,{val:Array.isArray(d)?d.join(" "):d,xVal:Array.isArray(i)?i.join(" "):i,xAxisTTVal:Array.isArray(l)?l.join(" "):l,zVal:c}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,n=e.j,a=e.y1,s=e.y2,i=e.w,l=this.ttCtx.getElTooltip(),c=i.config.tooltip.custom;Array.isArray(c)&&c[t]&&(c=c[t]);var d=c({ctx:this.ctx,series:i.globals.series,seriesIndex:t,dataPointIndex:n,y1:a,y2:s,w:i});typeof d=="string"?l.innerHTML=d:(d instanceof Element||typeof d.nodeName=="string")&&(l.innerHTML="",l.appendChild(d.cloneNode(!0)))}}]),r}(),yE=function(){function r(e){bt(this,r),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return yt(r,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.ttCtx,a=this.w,s=n.getElXCrosshairs(),i=e-n.xcrosshairsWidth/2,l=a.globals.labels.slice().length;if(t!==null&&(i=a.globals.gridWidth/l*t),s===null||a.globals.isBarHorizontal||(s.setAttribute("x",i),s.setAttribute("x1",i),s.setAttribute("x2",i),s.setAttribute("y2",a.globals.gridHeight),s.classList.add("apexcharts-active")),i<0&&(i=0),i>a.globals.gridWidth&&(i=a.globals.gridWidth),n.isXAxisTooltipEnabled){var c=i;a.config.xaxis.crosshairs.width!=="tickWidth"&&a.config.xaxis.crosshairs.width!=="barWidth"||(c=i+n.xcrosshairsWidth/2),this.moveXAxisTooltip(c)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;t.ycrosshairs!==null&&Ye.setAttrs(t.ycrosshairs,{y1:e,y2:e}),t.ycrosshairsHidden!==null&&Ye.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;if(n.xaxisTooltip!==null&&n.xcrosshairsWidth!==0){n.xaxisTooltip.classList.add("apexcharts-active");var a=n.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=n.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.globals.translateX;var s;s=new Ye(this.ctx).getTextRects(n.xaxisTooltipText.innerHTML),n.xaxisTooltipText.style.minWidth=s.width+"px",n.xaxisTooltip.style.left=e+"px",n.xaxisTooltip.style.top=a+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;n.yaxisTTEls===null&&(n.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var a=parseInt(n.ycrosshairsHidden.getAttribute("y1"),10),s=t.globals.translateY+a,i=n.yaxisTTEls[e].getBoundingClientRect().height,l=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(l-=26),s-=i/2,t.globals.ignoreYAxisIndexes.indexOf(e)===-1?(n.yaxisTTEls[e].classList.add("apexcharts-active"),n.yaxisTTEls[e].style.top=s+"px",n.yaxisTTEls[e].style.left=l+t.config.yaxis[e].tooltip.offsetX+"px"):n.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.w,s=this.ttCtx,i=s.getElTooltip(),l=s.tooltipRect,c=n!==null?parseFloat(n):1,d=parseFloat(e)+c+5,u=parseFloat(t)+c/2;if(d>a.globals.gridWidth/2&&(d=d-l.ttWidth-c-10),d>a.globals.gridWidth-l.ttWidth-10&&(d=a.globals.gridWidth-l.ttWidth),d<-20&&(d=-20),a.config.tooltip.followCursor){var h=s.getElGrid().getBoundingClientRect();(d=s.e.clientX-h.left)>a.globals.gridWidth/2&&(d-=s.tooltipRect.ttWidth),(u=s.e.clientY+a.globals.translateY-h.top)>a.globals.gridHeight/2&&(u-=s.tooltipRect.ttHeight)}else a.globals.isBarHorizontal||l.ttHeight/2+u>a.globals.gridHeight&&(u=a.globals.gridHeight-l.ttHeight+a.globals.translateY);isNaN(d)||(d+=a.globals.translateX,i.style.left=d+"px",i.style.top=u+"px")}},{key:"moveMarkers",value:function(e,t){var n=this.w,a=this.ttCtx;if(n.globals.markers.size[e]>0)for(var s=n.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),i=0;i<s.length;i++)parseInt(s[i].getAttribute("rel"),10)===t&&(a.marker.resetPointsSize(),a.marker.enlargeCurrentPoint(t,s[i]));else a.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var n,a,s,i,l=this.w,c=this.ttCtx,d=new Ye(this.ctx),u=l.globals.pointsArray,h=c.tooltipUtil.getHoverMarkerSize(t),f=l.config.series[t].type;if(!f||f!=="column"&&f!=="candlestick"&&f!=="boxPlot"){s=(n=u[t][e])===null||n===void 0?void 0:n[0],i=((a=u[t][e])===null||a===void 0?void 0:a[1])||0;var p=l.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(p&&i<l.globals.gridHeight&&i>0){var m=p.getAttribute("shape"),g=d.getMarkerPath(s,i,m,1.5*h);p.setAttribute("d",g)}this.moveXCrosshairs(s),c.fixedTooltip||this.moveTooltip(s,i,h)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,n=this.ttCtx,a=n.w,s=0,i=0,l=a.globals.pointsArray,c=new Zs(this.ctx),d=new Ye(this.ctx);t=c.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var u=n.tooltipUtil.getHoverMarkerSize(t);if(l[t]&&(s=l[t][e][0],i=l[t][e][1]),!isNaN(s)){var h=n.tooltipUtil.getAllMarkers();if(h.length)for(var f=0;f<a.globals.series.length;f++){var p=l[f];if(a.globals.comboCharts&&p===void 0&&h.splice(f,0,null),p&&p.length){var m=l[f][e][1],g=void 0;h[f].setAttribute("cx",s);var v=h[f].getAttribute("shape");if(a.config.chart.type==="rangeArea"&&!a.globals.comboCharts){var x=e+a.globals.series[f].length;g=l[f][x][1],m-=Math.abs(m-g)/2}if(m!==null&&!isNaN(m)&&m<a.globals.gridHeight+u&&m+u>0){var b=d.getMarkerPath(s,m,v,u);h[f].setAttribute("d",b)}else h[f].setAttribute("d","")}}this.moveXCrosshairs(s),n.fixedTooltip||this.moveTooltip(s,i||a.globals.gridHeight,u)}}},{key:"moveStickyTooltipOverBars",value:function(e,t){var n=this.w,a=this.ttCtx,s=n.globals.columnSeries?n.globals.columnSeries.length:n.globals.series.length;n.config.chart.stacked&&(s=n.globals.barGroups.length);var i=s>=2&&s%2==0?Math.floor(s/2):Math.floor(s/2)+1;n.globals.isBarHorizontal&&(i=new Zs(this.ctx).getActiveConfigSeriesIndex("desc")+1);var l=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(i,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(i,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(i,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(i,"'] path[j='").concat(e,"']"));l||typeof t!="number"||(l=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,"']")));var c=l?parseFloat(l.getAttribute("cx")):0,d=l?parseFloat(l.getAttribute("cy")):0,u=l?parseFloat(l.getAttribute("barWidth")):0,h=a.getElGrid().getBoundingClientRect(),f=l&&(l.classList.contains("apexcharts-candlestick-area")||l.classList.contains("apexcharts-boxPlot-area"));n.globals.isXNumeric?(l&&!f&&(c-=s%2!=0?u/2:0),l&&f&&(c-=u/2)):n.globals.isBarHorizontal||(c=a.xAxisTicksPositions[e-1]+a.dataPointsDividedWidth/2,isNaN(c)&&(c=a.xAxisTicksPositions[e]-a.dataPointsDividedWidth/2)),n.globals.isBarHorizontal?d-=a.tooltipRect.ttHeight:n.config.tooltip.followCursor?d=a.e.clientY-h.top-a.tooltipRect.ttHeight/2:d+a.tooltipRect.ttHeight+15>n.globals.gridHeight&&(d=n.globals.gridHeight),n.globals.isBarHorizontal||this.moveXCrosshairs(c),a.fixedTooltip||this.moveTooltip(c,d||n.globals.gridHeight)}}]),r}(),qV=function(){function r(e){bt(this,r),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new yE(e)}return yt(r,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new Ye(this.ctx),n=new vh(this.ctx),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");a=zn(a),e.config.chart.stacked&&a.sort(function(h,f){return parseFloat(h.getAttribute("data:realIndex"))-parseFloat(f.getAttribute("data:realIndex"))});for(var s=0;s<a.length;s++){var i=a[s].querySelector(".apexcharts-series-markers-wrap");if(i!==null){var l=void 0,c="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(c+=" no-pointer-events");var d=n.getMarkerConfig({cssClass:c,seriesIndex:Number(i.getAttribute("data:realIndex"))});(l=t.drawMarker(0,0,d)).node.setAttribute("default-marker-size",0);var u=document.createElementNS(e.globals.SVGNS,"g");u.classList.add("apexcharts-series-markers"),u.appendChild(l.node),i.appendChild(u)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.w;s.config.chart.type!=="bubble"&&this.newPointSize(e,t);var i=t.getAttribute("cx"),l=t.getAttribute("cy");if(n!==null&&a!==null&&(i=n,l=a),this.tooltipPosition.moveXCrosshairs(i),!this.fixedTooltip){if(s.config.chart.type==="radar"){var c=this.ttCtx.getElGrid().getBoundingClientRect();i=this.ttCtx.e.clientX-c.left}this.tooltipPosition.moveTooltip(i,l,s.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,n=this,a=this.ttCtx,s=e,i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),l=t.config.markers.hover.size,c=0;c<i.length;c++){var d=i[c].getAttribute("rel"),u=i[c].getAttribute("index");if(l===void 0&&(l=t.globals.markers.size[u]+t.config.markers.hover.sizeOffset),s===parseInt(d,10)){n.newPointSize(s,i[c]);var h=i[c].getAttribute("cx"),f=i[c].getAttribute("cy");n.tooltipPosition.moveXCrosshairs(h),a.fixedTooltip||n.tooltipPosition.moveTooltip(h,f,l)}else n.oldPointSize(i[c])}}},{key:"newPointSize",value:function(e,t){var n=this.w,a=n.config.markers.hover.size,s=e===0?t.parentNode.firstChild:t.parentNode.lastChild;if(s.getAttribute("default-marker-size")!=="0"){var i=parseInt(s.getAttribute("index"),10);a===void 0&&(a=n.globals.markers.size[i]+n.config.markers.hover.sizeOffset),a<0&&(a=0);var l=this.ttCtx.tooltipUtil.getPathFromPoint(t,a);t.setAttribute("d",l)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),n=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",n)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var n=parseFloat(e[t].getAttribute("default-marker-size"));if(xe.isNumber(n)&&n>0){var a=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],n);e[t].setAttribute("d",a)}else e[t].setAttribute("d","M0,0")}}}]),r}(),YV=function(){function r(e){bt(this,r),this.w=e.w;var t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.config.chart.type==="rangeBar"&&t.config.plotOptions.bar.rangeBarGroupRows}return yt(r,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,n=e.opt,a=e.x,s=e.y,i=e.type,l=this.ttCtx,c=this.w;if(t.target.classList.contains("apexcharts-".concat(i,"-rect"))){var d=this.getAttr(t,"i"),u=this.getAttr(t,"j"),h=this.getAttr(t,"cx"),f=this.getAttr(t,"cy"),p=this.getAttr(t,"width"),m=this.getAttr(t,"height");if(l.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:d,j:u,shared:!1,e:t}),c.globals.capturedSeriesIndex=d,c.globals.capturedDataPointIndex=u,a=h+l.tooltipRect.ttWidth/2+p,s=f+l.tooltipRect.ttHeight/2-m/2,l.tooltipPosition.moveXCrosshairs(h+p/2),a>c.globals.gridWidth/2&&(a=h-l.tooltipRect.ttWidth/2+p),l.w.config.tooltip.followCursor){var g=c.globals.dom.elWrap.getBoundingClientRect();a=c.globals.clientX-g.left-(a>c.globals.gridWidth/2?l.tooltipRect.ttWidth:0),s=c.globals.clientY-g.top-(s>c.globals.gridHeight/2?l.tooltipRect.ttHeight:0)}}return{x:a,y:s}}},{key:"handleMarkerTooltip",value:function(e){var t,n,a=e.e,s=e.opt,i=e.x,l=e.y,c=this.w,d=this.ttCtx;if(a.target.classList.contains("apexcharts-marker")){var u=parseInt(s.paths.getAttribute("cx"),10),h=parseInt(s.paths.getAttribute("cy"),10),f=parseFloat(s.paths.getAttribute("val"));if(n=parseInt(s.paths.getAttribute("rel"),10),t=parseInt(s.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,d.intersect){var p=xe.findAncestor(s.paths,"apexcharts-series");p&&(t=parseInt(p.getAttribute("data:realIndex"),10))}if(d.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:t,j:n,shared:!d.showOnIntersect&&c.config.tooltip.shared,e:a}),a.type==="mouseup"&&d.markerClick(a,t,n),c.globals.capturedSeriesIndex=t,c.globals.capturedDataPointIndex=n,i=u,l=h+c.globals.translateY-1.4*d.tooltipRect.ttHeight,d.w.config.tooltip.followCursor){var m=d.getElGrid().getBoundingClientRect();l=d.e.clientY+c.globals.translateY-m.top}f<0&&(l=h),d.marker.enlargeCurrentPoint(n,s.paths,i,l)}return{x:i,y:l}}},{key:"handleBarTooltip",value:function(e){var t,n,a=e.e,s=e.opt,i=this.w,l=this.ttCtx,c=l.getElTooltip(),d=0,u=0,h=0,f=this.getBarTooltipXY({e:a,opt:s});if(f.j!==null||f.barHeight!==0||f.barWidth!==0){t=f.i;var p=f.j;if(i.globals.capturedSeriesIndex=t,i.globals.capturedDataPointIndex=p,i.globals.isBarHorizontal&&l.tooltipUtil.hasBars()||!i.config.tooltip.shared?(u=f.x,h=f.y,n=Array.isArray(i.config.stroke.width)?i.config.stroke.width[t]:i.config.stroke.width,d=u):i.globals.comboCharts||i.config.tooltip.shared||(d/=2),isNaN(h)&&(h=i.globals.svgHeight-l.tooltipRect.ttHeight),parseInt(s.paths.parentNode.getAttribute("data:realIndex"),10),u+l.tooltipRect.ttWidth>i.globals.gridWidth?u-=l.tooltipRect.ttWidth:u<0&&(u=0),l.w.config.tooltip.followCursor){var m=l.getElGrid().getBoundingClientRect();h=l.e.clientY-m.top}l.tooltip===null&&(l.tooltip=i.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),i.config.tooltip.shared||(i.globals.comboBarCount>0?l.tooltipPosition.moveXCrosshairs(d+n/2):l.tooltipPosition.moveXCrosshairs(d)),!l.fixedTooltip&&(!i.config.tooltip.shared||i.globals.isBarHorizontal&&l.tooltipUtil.hasBars())&&(h=h+i.globals.translateY-l.tooltipRect.ttHeight/2,c.style.left=u+i.globals.translateX+"px",c.style.top=h+"px")}}},{key:"getBarTooltipXY",value:function(e){var t=this,n=e.e,a=e.opt,s=this.w,i=null,l=this.ttCtx,c=0,d=0,u=0,h=0,f=0,p=n.target.classList;if(p.contains("apexcharts-bar-area")||p.contains("apexcharts-candlestick-area")||p.contains("apexcharts-boxPlot-area")||p.contains("apexcharts-rangebar-area")){var m=n.target,g=m.getBoundingClientRect(),v=a.elGrid.getBoundingClientRect(),x=g.height;f=g.height;var b=g.width,y=parseInt(m.getAttribute("cx"),10),C=parseInt(m.getAttribute("cy"),10);h=parseFloat(m.getAttribute("barWidth"));var S=n.type==="touchmove"?n.touches[0].clientX:n.clientX;i=parseInt(m.getAttribute("j"),10),c=parseInt(m.parentNode.getAttribute("rel"),10)-1;var _=m.getAttribute("data-range-y1"),E=m.getAttribute("data-range-y2");s.globals.comboCharts&&(c=parseInt(m.parentNode.getAttribute("data:realIndex"),10));var A=function(F){return s.globals.isXNumeric?y-b/2:t.isVerticalGroupedRangeBar?y+b/2:y-l.dataPointsDividedWidth+b/2},T=function(){return C-l.dataPointsDividedHeight+x/2-l.tooltipRect.ttHeight/2};l.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:c,j:i,y1:_?parseInt(_,10):null,y2:E?parseInt(E,10):null,shared:!l.showOnIntersect&&s.config.tooltip.shared,e:n}),s.config.tooltip.followCursor?s.globals.isBarHorizontal?(d=S-v.left+15,u=T()):(d=A(),u=n.clientY-v.top-l.tooltipRect.ttHeight/2-15):s.globals.isBarHorizontal?((d=y)<l.xyRatios.baseLineInvertedY&&(d=y-l.tooltipRect.ttWidth),u=T()):(d=A(),u=C)}return{x:d,y:u,barHeight:f,barWidth:h,i:c,j:i}}}]),r}(),GV=function(){function r(e){bt(this,r),this.w=e.w,this.ttCtx=e}return yt(r,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,n=e.config.xaxis.position==="bottom";t.xaxisOffY=n?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var a=n?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",s=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+e.config.tooltip.theme),s.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,n=0;n<e.config.yaxis.length;n++){var a=e.config.yaxis[n].opposite||e.config.yaxis[n].crosshairs.opposite;t.yaxisOffX=a?e.globals.gridWidth+1:1;var s="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n,a?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),i=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n))===null&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",s+" apexcharts-theme-"+e.config.tooltip.theme),i.appendChild(t.yaxisTooltip),n===0&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[n]=document.createElement("div"),t.yaxisTooltipText[n].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[n]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,n=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var a=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(a!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var s=parseFloat(a.getAttribute("barWidth"));t.xcrosshairsWidth=s}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var i=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/i}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var l=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/l}else if(e.config.xaxis.crosshairs.width==="barWidth"){var c=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(c!==null){var d=parseFloat(c.getAttribute("barWidth"));t.xcrosshairsWidth=d}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),n!==null&&t.xcrosshairsWidth>0&&n.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,n){var a=this.ttCtx,s=this.w,i=s.globals,l=i.seriesYAxisMap[e];if(a.yaxisTooltips[e]&&l.length>0){var c=i.yLabelFormatters[e],d=a.getElGrid().getBoundingClientRect(),u=l[0],h=0;n.yRatio.length>1&&(h=u);var f=(t-d.top)*n.yRatio[h],p=i.maxYArr[u]-i.minYArr[u],m=i.minYArr[u]+(p-f);s.config.yaxis[e].reversed&&(m=i.maxYArr[u]-(p-f)),a.tooltipPosition.moveYCrosshairs(t-d.top),a.yaxisTooltipText[e].innerHTML=c(m),a.tooltipPosition.moveYAxisTooltip(e)}}}]),r}(),x6=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new bE(this),this.tooltipLabels=new WV(this),this.tooltipPosition=new yE(this),this.marker=new qV(this),this.intersect=new YV(this),this.axesTooltip=new GV(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return yt(r,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(i,l){return!!(i.show&&i.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var n=document.createElement("div");if(n.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&n.classList.add(t.config.tooltip.cssClass),n.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),t.globals.dom.elWrap.appendChild(n),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var a=new xp(this.ctx);this.xAxisTicksPositions=a.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&t.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),t.config.markers.size!==0&&t.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,n.appendChild(this.tooltipTitle));var s=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(s=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(s),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,n=this.w,a=[],s=this.getElTooltip(),i=function(c){var d=document.createElement("div");d.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(c)),d.style.order=n.config.tooltip.inverseOrder?e-c:c+1;var u=document.createElement("span");u.classList.add("apexcharts-tooltip-marker"),u.style.color=n.globals.colors[c];var h=n.config.markers.shape,f=h;Array.isArray(h)&&(f=h[c]),u.setAttribute("shape",f),d.appendChild(u);var p=document.createElement("div");p.classList.add("apexcharts-tooltip-text"),p.style.fontFamily=t.tConfig.style.fontFamily||n.config.chart.fontFamily,p.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(m){var g=document.createElement("div");g.classList.add("apexcharts-tooltip-".concat(m,"-group"));var v=document.createElement("span");v.classList.add("apexcharts-tooltip-text-".concat(m,"-label")),g.appendChild(v);var x=document.createElement("span");x.classList.add("apexcharts-tooltip-text-".concat(m,"-value")),g.appendChild(x),p.appendChild(g)}),d.appendChild(p),s.appendChild(d),a.push(d)},l=0;l<e;l++)i(l);return a}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,n=this.getElTooltip(),a=!(t!=="bar"&&t!=="candlestick"&&t!=="boxPlot"&&t!=="rangeBar"),s=t==="area"||t==="line"||t==="scatter"||t==="bubble"||t==="radar",i=e.globals.dom.Paper.node,l=this.getElGrid();l&&(this.seriesBound=l.getBoundingClientRect());var c,d=[],u=[],h={hoverArea:i,elGrid:l,tooltipEl:n,tooltipY:d,tooltipX:u,ttItems:this.ttItems};if(e.globals.axisCharts&&(s?c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):a?c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):t!=="heatmap"&&t!=="treemap"||(c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),c&&c.length))for(var f=0;f<c.length;f++)d.push(c[f].getAttribute("cy")),u.push(c[f].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||a&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([i],h);else if(a&&!e.globals.comboCharts||s&&this.showOnIntersect)this.addDatapointEventsListeners(h);else if(!e.globals.axisCharts||t==="heatmap"||t==="treemap"){var p=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(p,h)}if(this.showOnIntersect){var m=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");m.length>0&&this.addPathsEventListeners(m,h),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(h)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),n=t.getBoundingClientRect(),a=n.width+10,s=n.height+10,i=this.tConfig.fixed.offsetX,l=this.tConfig.fixed.offsetY,c=this.tConfig.fixed.position.toLowerCase();return c.indexOf("right")>-1&&(i=i+e.globals.svgWidth-a+10),c.indexOf("bottom")>-1&&(l=l+e.globals.svgHeight-s-10),t.style.left=i+"px",t.style.top=l+"px",{x:i,y:l,ttWidth:a,ttHeight:s}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var n=this,a=function(i){var l={paths:e[i],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(c){return e[i].addEventListener(c,n.onSeriesHover.bind(n,l),{capture:!1,passive:!0})})},s=0;s<e.length;s++)a(s)}},{key:"onSeriesHover",value:function(e,t){var n=this,a=Date.now()-this.lastHoverTime;a>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){n.seriesHover(e,t)},20-a))}},{key:"seriesHover",value:function(e,t){var n=this;this.lastHoverTime=Date.now();var a=[],s=this.w;s.config.chart.group&&(a=this.ctx.getGroupedCharts()),s.globals.axisCharts&&(s.globals.minX===-1/0&&s.globals.maxX===1/0||s.globals.dataPoints===0)||(a.length?a.forEach(function(i){var l=n.getElTooltip(i),c={paths:e.paths,tooltipEl:l,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:i.w.globals.tooltip.ttItems};i.w.globals.minX===n.w.globals.minX&&i.w.globals.maxX===n.w.globals.maxX&&i.w.globals.tooltip.seriesHoverByContext({chartCtx:i,ttCtx:i.w.globals.tooltip,opt:c,e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,n=e.ttCtx,a=e.opt,s=e.e,i=t.w,l=this.getElTooltip(t);l&&(n.tooltipRect={x:0,y:0,ttWidth:l.getBoundingClientRect().width,ttHeight:l.getBoundingClientRect().height},n.e=s,n.tooltipUtil.hasBars()&&!i.globals.comboCharts&&!n.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Zs(t).toggleSeriesOnHover(s,s.target.parentNode),n.fixedTooltip&&n.drawFixedTooltipRect(),i.globals.axisCharts?n.axisChartsTooltips({e:s,opt:a,tooltipRect:n.tooltipRect}):n.nonAxisChartsTooltips({e:s,opt:a,tooltipRect:n.tooltipRect}))}},{key:"axisChartsTooltips",value:function(e){var t,n,a=e.e,s=e.opt,i=this.w,l=s.elGrid.getBoundingClientRect(),c=a.type==="touchmove"?a.touches[0].clientX:a.clientX,d=a.type==="touchmove"?a.touches[0].clientY:a.clientY;if(this.clientY=d,this.clientX=c,i.globals.capturedSeriesIndex=-1,i.globals.capturedDataPointIndex=-1,d<l.top||d>l.top+l.height)this.handleMouseOut(s);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!i.config.tooltip.shared){var u=parseInt(s.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(u)<0)return void this.handleMouseOut(s)}var h=this.getElTooltip(),f=this.getElXCrosshairs(),p=[];i.config.chart.group&&(p=this.ctx.getSyncedCharts());var m=i.globals.xyCharts||i.config.chart.type==="bar"&&!i.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||i.globals.comboCharts&&this.tooltipUtil.hasBars();if(a.type==="mousemove"||a.type==="touchmove"||a.type==="mouseup"){if(i.globals.collapsedSeries.length+i.globals.ancillaryCollapsedSeries.length===i.globals.series.length)return;f!==null&&f.classList.add("apexcharts-active");var g=this.yaxisTooltips.filter(function(b){return b===!0});if(this.ycrosshairs!==null&&g.length&&this.ycrosshairs.classList.add("apexcharts-active"),m&&!this.showOnIntersect||p.length>1)this.handleStickyTooltip(a,c,d,s);else if(i.config.chart.type==="heatmap"||i.config.chart.type==="treemap"){var v=this.intersect.handleHeatTreeTooltip({e:a,opt:s,x:t,y:n,type:i.config.chart.type});t=v.x,n=v.y,h.style.left=t+"px",h.style.top=n+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:a,opt:s}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:a,opt:s,x:t,y:n});if(this.yaxisTooltips.length)for(var x=0;x<i.config.yaxis.length;x++)this.axesTooltip.drawYaxisTooltipText(x,d,this.xyRatios);i.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),s.tooltipEl.classList.add("apexcharts-active")}else a.type!=="mouseout"&&a.type!=="touchend"||this.handleMouseOut(s)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,n=e.opt,a=e.tooltipRect,s=this.w,i=n.paths.getAttribute("rel"),l=this.getElTooltip(),c=s.globals.dom.elWrap.getBoundingClientRect();if(t.type==="mousemove"||t.type==="touchmove"){s.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),l.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:parseInt(i,10)-1,shared:!1});var d=s.globals.clientX-c.left-a.ttWidth/2,u=s.globals.clientY-c.top-a.ttHeight-10;if(l.style.left=d+"px",l.style.top=u+"px",s.config.legend.tooltipHoverFormatter){var h=i-1,f=(0,s.config.legend.tooltipHoverFormatter)(this.legendLabels[h].getAttribute("data:default-text"),{seriesIndex:h,dataPointIndex:h,w:s});this.legendLabels[h].innerHTML=f}}else t.type!=="mouseout"&&t.type!=="touchend"||(l.classList.remove("apexcharts-active"),s.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),s.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(p){var m=p.getAttribute("data:default-text");p.innerHTML=decodeURIComponent(m)}))}},{key:"handleStickyTooltip",value:function(e,t,n,a){var s=this.w,i=this.tooltipUtil.getNearestValues({context:this,hoverArea:a.hoverArea,elGrid:a.elGrid,clientX:t,clientY:n}),l=i.j,c=i.capturedSeries;s.globals.collapsedSeriesIndices.includes(c)&&(c=null);var d=a.elGrid.getBoundingClientRect();if(i.hoverX<0||i.hoverX>d.width)this.handleMouseOut(a);else if(c!==null)this.handleStickyCapturedSeries(e,c,a,l);else if(this.tooltipUtil.isXoverlap(l)||s.globals.isBarHorizontal){var u=s.globals.series.findIndex(function(h,f){return!s.globals.collapsedSeriesIndices.includes(f)});this.create(e,this,u,l,a.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,n,a){var s=this.w;if(!this.tConfig.shared&&s.globals.series[t][a]===null)return void this.handleMouseOut(n);if(s.globals.series[t][a]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(a)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,a,n.ttItems):this.create(e,this,t,a,n.ttItems,!1);else if(this.tooltipUtil.isXoverlap(a)){var i=s.globals.series.findIndex(function(l,c){return!s.globals.collapsedSeriesIndices.includes(c)});this.create(e,this,i,a,n.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new Ye(this.ctx),n=e.globals.dom.Paper.find(".apexcharts-bar-area"),a=0;a<n.length;a++)t.pathMouseLeave(n[a])}},{key:"handleMouseOut",value:function(e){var t=this.w,n=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),t.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),n!==null&&n.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var a=0;a<this.yaxisTTEls.length;a++)this.yaxisTTEls[a].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(s){var i=s.getAttribute("data:default-text");s.innerHTML=decodeURIComponent(i)})}},{key:"markerClick",value:function(e,t,n){var a=this.w;typeof a.config.chart.events.markerClick=="function"&&a.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:a}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:a}])}},{key:"create",value:function(e,t,n,a,s){var i,l,c,d,u,h,f,p,m,g,v,x,b,y,C,S,_=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,E=this.w,A=t;e.type==="mouseup"&&this.markerClick(e,n,a),_===null&&(_=this.tConfig.shared);var T=this.tooltipUtil.hasMarkers(n),F=this.tooltipUtil.getElBars(),L=function(){E.globals.markers.largestSize>0?A.marker.enlargePoints(a):A.tooltipPosition.moveDynamicPointsOnHover(a)};if(E.config.legend.tooltipHoverFormatter){var D=E.config.legend.tooltipHoverFormatter,O=Array.from(this.legendLabels);O.forEach(function(U){var $=U.getAttribute("data:default-text");U.innerHTML=decodeURIComponent($)});for(var I=0;I<O.length;I++){var B=O[I],z=parseInt(B.getAttribute("i"),10),V=decodeURIComponent(B.getAttribute("data:default-text")),W=D(V,{seriesIndex:_?z:n,dataPointIndex:a,w:E});if(_)B.innerHTML=E.globals.collapsedSeriesIndices.indexOf(z)<0?W:V;else if(B.innerHTML=z===n?W:V,n===z)break}}var Y=ct(ct({ttItems:s,i:n,j:a},((i=E.globals.seriesRange)===null||i===void 0||(l=i[n])===null||l===void 0||(c=l[a])===null||c===void 0||(d=c.y[0])===null||d===void 0?void 0:d.y1)!==void 0&&{y1:(u=E.globals.seriesRange)===null||u===void 0||(h=u[n])===null||h===void 0||(f=h[a])===null||f===void 0||(p=f.y[0])===null||p===void 0?void 0:p.y1}),((m=E.globals.seriesRange)===null||m===void 0||(g=m[n])===null||g===void 0||(v=g[a])===null||v===void 0||(x=v.y[0])===null||x===void 0?void 0:x.y2)!==void 0&&{y2:(b=E.globals.seriesRange)===null||b===void 0||(y=b[n])===null||y===void 0||(C=y[a])===null||C===void 0||(S=C.y[0])===null||S===void 0?void 0:S.y2});if(_){if(A.tooltipLabels.drawSeriesTexts(ct(ct({},Y),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),T)L();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(F),this.barSeriesHeight>0)){var G=new Ye(this.ctx),q=E.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(a,"']"));this.deactivateHoverFilter(),A.tooltipPosition.moveStickyTooltipOverBars(a,n),A.tooltipUtil.getAllMarkers(!0).length&&L();for(var M=0;M<q.length;M++)G.pathMouseEnter(q[M])}}else A.tooltipLabels.drawSeriesTexts(ct({shared:!1},Y)),this.tooltipUtil.hasBars()&&A.tooltipPosition.moveStickyTooltipOverBars(a,n),T&&A.tooltipPosition.moveMarkers(n,a)}}]),r}(),XV=function(){function r(e){bt(this,r),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return yt(r,[{key:"handleBarDataLabels",value:function(e){var t,n,a=e.x,s=e.y,i=e.y1,l=e.y2,c=e.i,d=e.j,u=e.realIndex,h=e.columnGroupIndex,f=e.series,p=e.barHeight,m=e.barWidth,g=e.barXPosition,v=e.barYPosition,x=e.visibleSeries,b=e.renderedPath,y=this.w,C=new Ye(this.barCtx.ctx),S=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[u]:this.barCtx.strokeWidth;y.globals.isXNumeric&&!y.globals.isBarHorizontal?(t=a+parseFloat(m*(x+1)),n=s+parseFloat(p*(x+1))-S):(t=a+parseFloat(m*x),n=s+parseFloat(p*x));var _,E=null,A=a,T=s,F={},L=y.config.dataLabels,D=this.barCtx.barOptions.dataLabels,O=this.barCtx.barOptions.dataLabels.total;v!==void 0&&this.barCtx.isRangeBar&&(n=v,T=v),g!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(t=g,A=g);var I=L.offsetX,B=L.offsetY,z={width:0,height:0};if(y.config.dataLabels.enabled){var V=y.globals.series[c][d];z=C.getTextRects(y.config.dataLabels.formatter?y.config.dataLabels.formatter(V,ct(ct({},y),{},{seriesIndex:c,dataPointIndex:d,w:y})):y.globals.yLabelFormatters[0](V),parseFloat(L.style.fontSize))}var W={x:a,y:s,i:c,j:d,realIndex:u,columnGroupIndex:h,renderedPath:b,bcx:t,bcy:n,barHeight:p,barWidth:m,textRects:z,strokeWidth:S,dataLabelsX:A,dataLabelsY:T,dataLabelsConfig:L,barDataLabelsConfig:D,barTotalDataLabelsConfig:O,offX:I,offY:B};return F=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(W):this.calculateColumnsDataLabelsPosition(W),b.attr({cy:F.bcy,cx:F.bcx,j:d,val:y.globals.series[c][d],barHeight:p,barWidth:m}),_=this.drawCalculatedDataLabels({x:F.dataLabelsX,y:F.dataLabelsY,val:this.barCtx.isRangeBar?[i,l]:y.config.chart.stackType==="100%"?f[u][d]:y.globals.series[u][d],i:u,j:d,barWidth:m,barHeight:p,textRects:z,dataLabelsConfig:L}),y.config.chart.stacked&&O.enabled&&(E=this.drawTotalDataLabels({x:F.totalDataLabelsX,y:F.totalDataLabelsY,barWidth:m,barHeight:p,realIndex:u,textAnchor:F.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:u,j:d}),dataLabelsConfig:L,barTotalDataLabelsConfig:O})),{dataLabels:_,totalDataLabels:E}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,n=e.j,a=this.w,s=this.barCtx.stackedSeriesTotals[n];return this.totalFormatter&&(s=this.totalFormatter(s,ct(ct({},a),{},{seriesIndex:t,dataPointIndex:n,w:a}))),s}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this,n=this.w,a=e.i,s=e.j,i=e.realIndex;e.columnGroupIndex;var l,c,d=e.y,u=e.bcx,h=e.barWidth,f=e.barHeight,p=e.textRects,m=e.dataLabelsX,g=e.dataLabelsY,v=e.dataLabelsConfig,x=e.barDataLabelsConfig,b=e.barTotalDataLabelsConfig,y=e.strokeWidth,C=e.offX,S=e.offY,_=u;f=Math.abs(f);var E=n.config.plotOptions.bar.dataLabels.orientation==="vertical",A=this.barCtx.barHelpers.getZeroValueEncounters({i:a,j:s}).zeroEncounters;u-=y/2;var T=n.globals.gridWidth/n.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?m+=h/2:(m=n.globals.isXNumeric?u-h/2+C:u-T+h/2+C,A>0&&n.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(m-=h*A)),E&&(m=m+p.height/2-y/2-2);var F=n.globals.series[a][s]<0,L=d;switch(this.barCtx.isReversed&&(L=d+(F?f:-f)),x.position){case"center":g=E?F?L-f/2+S:L+f/2-S:F?L-f/2+p.height/2+S:L+f/2+p.height/2-S;break;case"bottom":g=E?F?L-f+S:L+f-S:F?L-f+p.height+y+S:L+f-p.height/2+y-S;break;case"top":g=E?F?L+S:L-S:F?L-p.height/2-S:L+p.height+S}var D=L;if(n.globals.seriesGroups.forEach(function(B){var z;(z=t.barCtx[B.join(",")])===null||z===void 0||z.prevY.forEach(function(V){D=F?Math.max(V[s],D):Math.min(V[s],D)})}),this.barCtx.lastActiveBarSerieIndex===i&&b.enabled){var O=new Ye(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:i,j:s}),v.fontSize);l=F?D-O.height/2-S-b.offsetY+18:D+O.height+S+b.offsetY-18;var I=T;c=_+(n.globals.isXNumeric?-h*n.globals.barGroups.length/2:n.globals.barGroups.length*h/2-(n.globals.barGroups.length-1)*h-I)+b.offsetX}return n.config.chart.stacked||(g<0?g=0+y:g+p.height/3>n.globals.gridHeight&&(g=n.globals.gridHeight-y)),{bcx:u,bcy:d,dataLabelsX:m,dataLabelsY:g,totalDataLabelsX:c,totalDataLabelsY:l,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this,n=this.w,a=e.x,s=e.i,i=e.j,l=e.realIndex,c=e.bcy,d=e.barHeight,u=e.barWidth,h=e.textRects,f=e.dataLabelsX,p=e.strokeWidth,m=e.dataLabelsConfig,g=e.barDataLabelsConfig,v=e.barTotalDataLabelsConfig,x=e.offX,b=e.offY,y=n.globals.gridHeight/n.globals.dataPoints;u=Math.abs(u);var C,S,_=c-(this.barCtx.isRangeBar?0:y)+d/2+h.height/2+b-3,E="start",A=n.globals.series[s][i]<0,T=a;switch(this.barCtx.isReversed&&(T=a+(A?-u:u),E=A?"start":"end"),g.position){case"center":f=A?T+u/2-x:Math.max(h.width/2,T-u/2)+x;break;case"bottom":f=A?T+u-p-x:T-u+p+x;break;case"top":f=A?T-p-x:T-p+x}var F=T;if(n.globals.seriesGroups.forEach(function(D){var O;(O=t.barCtx[D.join(",")])===null||O===void 0||O.prevX.forEach(function(I){F=A?Math.min(I[i],F):Math.max(I[i],F)})}),this.barCtx.lastActiveBarSerieIndex===l&&v.enabled){var L=new Ye(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:l,j:i}),m.fontSize);A?(C=F-p-x-v.offsetX,E="end"):C=F+x+v.offsetX+(this.barCtx.isReversed?-(u+p):p),S=_-h.height/2+L.height/2+v.offsetY+p,n.globals.barGroups.length>1&&(S-=n.globals.barGroups.length/2*(d/2))}return n.config.chart.stacked||(m.textAnchor==="start"?f-h.width<0?f=A?h.width+p:p:f+h.width>n.globals.gridWidth&&(f=A?n.globals.gridWidth-p:n.globals.gridWidth-h.width-p):m.textAnchor==="middle"?f-h.width/2<0?f=h.width/2+p:f+h.width/2>n.globals.gridWidth&&(f=n.globals.gridWidth-h.width/2-p):m.textAnchor==="end"&&(f<1?f=h.width+p:f+1>n.globals.gridWidth&&(f=n.globals.gridWidth-h.width-p))),{bcx:a,bcy:c,dataLabelsX:f,dataLabelsY:_,totalDataLabelsX:C,totalDataLabelsY:S,totalDataLabelsAnchor:E}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,n=e.y,a=e.val,s=e.i,i=e.j,l=e.textRects,c=e.barHeight,d=e.barWidth,u=e.dataLabelsConfig,h=this.w,f="rotate(0)";h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(f="rotate(-90, ".concat(t,", ").concat(n,")"));var p=new Xu(this.barCtx.ctx),m=new Ye(this.barCtx.ctx),g=u.formatter,v=null,x=h.globals.collapsedSeriesIndices.indexOf(s)>-1;if(u.enabled&&!x){v=m.group({class:"apexcharts-data-labels",transform:f});var b="";a!==void 0&&(b=g(a,ct(ct({},h),{},{seriesIndex:s,dataPointIndex:i,w:h}))),!a&&h.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(b="");var y=h.globals.series[s][i]<0,C=h.config.plotOptions.bar.dataLabels.position;h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(C==="top"&&(u.textAnchor=y?"end":"start"),C==="center"&&(u.textAnchor="middle"),C==="bottom"&&(u.textAnchor=y?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&d<m.getTextRects(b,parseFloat(u.style.fontSize)).width&&(b=""),h.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?l.width/1.6>Math.abs(d)&&(b=""):l.height/1.6>Math.abs(c)&&(b=""));var S=ct({},u);this.barCtx.isHorizontal&&a<0&&(u.textAnchor==="start"?S.textAnchor="end":u.textAnchor==="end"&&(S.textAnchor="start")),p.plotDataLabelsText({x:t,y:n,text:b,i:s,j:i,parent:v,dataLabelsConfig:S,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return v}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,n=e.y,a=e.val,s=e.realIndex,i=e.textAnchor,l=e.barTotalDataLabelsConfig;this.w;var c,d=new Ye(this.barCtx.ctx);return l.enabled&&t!==void 0&&n!==void 0&&this.barCtx.lastActiveBarSerieIndex===s&&(c=d.drawText({x:t,y:n,foreColor:l.style.color,text:a,textAnchor:i,fontFamily:l.style.fontFamily,fontSize:l.style.fontSize,fontWeight:l.style.fontWeight})),c}}]),r}(),ZV=function(){function r(e){bt(this,r),this.w=e.w,this.barCtx=e}return yt(r,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var n=0;n<e.length;n++)if(e[n].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[n].length),t.globals.isXNumeric)for(var a=0;a<e[n].length;a++)t.globals.seriesX[n][a]>t.globals.minX&&t.globals.seriesX[n][a]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var t,n,a,s,i,l,c,d,u=this.w,h=u.globals.dataPoints;this.barCtx.isRangeBar&&(h=u.globals.labels.length);var f=this.barCtx.seriesLen;if(u.config.plotOptions.bar.rangeBarGroupRows&&(f=1),this.barCtx.isHorizontal)i=(a=u.globals.gridHeight/h)/f,u.globals.isXNumeric&&(i=(a=u.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),i=i*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(i=parseInt(this.barCtx.barOptions.barHeight,10)),d=this.barCtx.baseLineInvertedY+u.globals.padHorizontal+(this.barCtx.isReversed?u.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(d=u.globals.gridWidth/2),n=(a-i*this.barCtx.seriesLen)/2;else{if(s=u.globals.gridWidth/this.barCtx.visibleItems,u.config.xaxis.convertedCatToNumeric&&(s=u.globals.gridWidth/u.globals.dataPoints),l=s/f*parseInt(this.barCtx.barOptions.columnWidth,10)/100,u.globals.isXNumeric){var p=this.barCtx.xRatio;u.globals.minXDiff&&u.globals.minXDiff!==.5&&u.globals.minXDiff/p>0&&(s=u.globals.minXDiff/p),(l=s/f*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(l=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(l=parseInt(this.barCtx.barOptions.columnWidth,10)),c=u.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?u.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),u.globals.isXNumeric?t=this.barCtx.getBarXForNumericXAxis({x:t,j:0,realIndex:e,barWidth:l}).x:t=u.globals.padHorizontal+xe.noExponents(s-l*this.barCtx.seriesLen)/2}return u.globals.barHeight=i,u.globals.barWidth=l,{x:t,y:n,yDivision:a,xDivision:s,barHeight:i,barWidth:l,zeroH:c,zeroW:d}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,t,n,a){var s,i,l,c,d=this.w,u=this.barCtx.ctx.fill,h=null,f=this.barCtx.barOptions.distributed?n:t,p=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(m){e[t][n]>=m.from&&e[t][n]<=m.to&&(h=m.color,p=!0)}),{color:u.fillPath({seriesNumber:this.barCtx.barOptions.distributed?f:a,dataPointIndex:n,color:h,value:e[t][n],fillConfig:(s=d.config.series[t].data[n])===null||s===void 0?void 0:s.fill,fillType:(i=d.config.series[t].data[n])!==null&&i!==void 0&&(l=i.fill)!==null&&l!==void 0&&l.type?(c=d.config.series[t].data[n])===null||c===void 0?void 0:c.fill.type:Array.isArray(d.config.fill.type)?d.config.fill.type[a]:d.config.fill.type}),useRangeColor:p}}},{key:"getStrokeWidth",value:function(e,t,n){var a=0,s=this.w;return this.barCtx.series[e][t]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,s.config.stroke.show&&(this.barCtx.isNullValue||(a=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[n]:this.barCtx.strokeWidth)),a}},{key:"createBorderRadiusArr",value:function(e){var t,n=this.w,a=!this.w.config.chart.stacked||n.config.plotOptions.bar.borderRadius<=0,s=e.length,i=0|((t=e[0])===null||t===void 0?void 0:t.length),l=Array.from({length:s},function(){return Array(i).fill(a?"top":"none")});if(a)return l;for(var c=0;c<i;c++){for(var d=[],u=[],h=0,f=0;f<s;f++){var p=e[f][c];p>0?(d.push(f),h++):p<0&&(u.push(f),h++)}if(d.length>0&&u.length===0)if(d.length===1)l[d[0]][c]="both";else{var m,g=d[0],v=d[d.length-1],x=Nf(d);try{for(x.s();!(m=x.n()).done;){var b=m.value;l[b][c]=b===g?"bottom":b===v?"top":"none"}}catch(z){x.e(z)}finally{x.f()}}else if(u.length>0&&d.length===0)if(u.length===1)l[u[0]][c]="both";else{var y,C=Math.max.apply(Math,u),S=Math.min.apply(Math,u),_=Nf(u);try{for(_.s();!(y=_.n()).done;){var E=y.value;l[E][c]=E===C?"bottom":E===S?"top":"none"}}catch(z){_.e(z)}finally{_.f()}}else if(d.length>0&&u.length>0){var A,T=d[d.length-1],F=Nf(d);try{for(F.s();!(A=F.n()).done;){var L=A.value;l[L][c]=L===T?"top":"none"}}catch(z){F.e(z)}finally{F.f()}var D,O=Math.max.apply(Math,u),I=Nf(u);try{for(I.s();!(D=I.n()).done;){var B=D.value;l[B][c]=B===O?"bottom":"none"}}catch(z){I.e(z)}finally{I.f()}}else h===1&&(l[d[0]||u[0]][c]="both")}return l}},{key:"barBackground",value:function(e){var t=e.j,n=e.i,a=e.x1,s=e.x2,i=e.y1,l=e.y2,c=e.elSeries,d=this.w,u=new Ye(this.barCtx.ctx),h=new Zs(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&h===n){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var f=this.barCtx.barOptions.colors.backgroundBarColors[t],p=u.drawRect(a!==void 0?a:0,i!==void 0?i:0,s!==void 0?s:d.globals.gridWidth,l!==void 0?l:d.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,f,this.barCtx.barOptions.colors.backgroundBarOpacity);c.add(p),p.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,n=e.barWidth,a=e.barXPosition,s=e.y1,i=e.y2,l=e.strokeWidth,c=e.isReversed,d=e.series,u=e.seriesGroup,h=e.realIndex,f=e.i,p=e.j,m=e.w,g=new Ye(this.barCtx.ctx);(l=Array.isArray(l)?l[h]:l)||(l=0);var v=n,x=a;(t=m.config.series[h].data[p])!==null&&t!==void 0&&t.columnWidthOffset&&(x=a-m.config.series[h].data[p].columnWidthOffset/2,v=n+m.config.series[h].data[p].columnWidthOffset);var b=l/2,y=x+b,C=x+v-b,S=(d[f][p]>=0?1:-1)*(c?-1:1);s+=.001-b*S,i+=.001+b*S;var _=g.move(y,s),E=g.move(y,s),A=g.line(C,s);if(m.globals.previousPaths.length>0&&(E=this.barCtx.getPreviousPath(h,p,!1)),_=_+g.line(y,i)+g.line(C,i)+A+(m.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][p]==="both"?" Z":" z"),E=E+g.line(y,s)+A+A+A+A+A+g.line(y,s)+(m.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][p]==="both"?" Z":" z"),this.arrBorderRadius[h][p]!=="none"&&(_=g.roundPathCorners(_,m.config.plotOptions.bar.borderRadius)),m.config.chart.stacked){var T=this.barCtx;(T=this.barCtx[u]).yArrj.push(i-b*S),T.yArrjF.push(Math.abs(s-i+l*S)),T.yArrjVal.push(this.barCtx.series[f][p])}return{pathTo:_,pathFrom:E}}},{key:"getBarpaths",value:function(e){var t,n=e.barYPosition,a=e.barHeight,s=e.x1,i=e.x2,l=e.strokeWidth,c=e.isReversed,d=e.series,u=e.seriesGroup,h=e.realIndex,f=e.i,p=e.j,m=e.w,g=new Ye(this.barCtx.ctx);(l=Array.isArray(l)?l[h]:l)||(l=0);var v=n,x=a;(t=m.config.series[h].data[p])!==null&&t!==void 0&&t.barHeightOffset&&(v=n-m.config.series[h].data[p].barHeightOffset/2,x=a+m.config.series[h].data[p].barHeightOffset);var b=l/2,y=v+b,C=v+x-b,S=(d[f][p]>=0?1:-1)*(c?-1:1);s+=.001+b*S,i+=.001-b*S;var _=g.move(s,y),E=g.move(s,y);m.globals.previousPaths.length>0&&(E=this.barCtx.getPreviousPath(h,p,!1));var A=g.line(s,C);if(_=_+g.line(i,y)+g.line(i,C)+A+(m.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][p]==="both"?" Z":" z"),E=E+g.line(s,y)+A+A+A+A+A+g.line(s,y)+(m.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][p]==="both"?" Z":" z"),this.arrBorderRadius[h][p]!=="none"&&(_=g.roundPathCorners(_,m.config.plotOptions.bar.borderRadius)),m.config.chart.stacked){var T=this.barCtx;(T=this.barCtx[u]).xArrj.push(i+b*S),T.xArrjF.push(Math.abs(s-i-l*S)),T.xArrjVal.push(this.barCtx.series[f][p])}return{pathTo:_,pathFrom:E}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,n=this.w,a=0;a<t.length;a++){for(var s=0,i=0;i<t[n.globals.maxValsInArrayIndex].length;i++)s+=t[a][i];s===0&&this.barCtx.zeroSerieses.push(a)}}},{key:"getXForValue",value:function(e,t){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?t:null;return e!=null&&(n=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),n}},{key:"getYForValue",value:function(e,t,n){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?t:null;return e!=null&&(a=t-e/this.barCtx.yRatio[n]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[n]:0)),a}},{key:"getGoalValues",value:function(e,t,n,a,s,i){var l=this,c=this.w,d=[],u=function(p,m){var g;d.push((X0(g={},e,e==="x"?l.getXForValue(p,t,!1):l.getYForValue(p,n,i,!1)),X0(g,"attrs",m),g))};if(c.globals.seriesGoals[a]&&c.globals.seriesGoals[a][s]&&Array.isArray(c.globals.seriesGoals[a][s])&&c.globals.seriesGoals[a][s].forEach(function(p){u(p.value,p)}),this.barCtx.barOptions.isDumbbell&&c.globals.seriesRange.length){var h=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:c.globals.colors,f={strokeHeight:e==="x"?0:c.globals.markers.size[a],strokeWidth:e==="x"?c.globals.markers.size[a]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(h[a])?h[a][0]:h[a]};u(c.globals.seriesRangeStart[a][s],f),u(c.globals.seriesRangeEnd[a][s],ct(ct({},f),{},{strokeColor:Array.isArray(h[a])?h[a][1]:h[a]}))}return d}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,n=e.barYPosition,a=e.goalX,s=e.goalY,i=e.barWidth,l=e.barHeight,c=new Ye(this.barCtx.ctx),d=c.group({className:"apexcharts-bar-goals-groups"});d.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:d.node}),d.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var u=null;return this.barCtx.isHorizontal?Array.isArray(a)&&a.forEach(function(h){if(h.x>=-1&&h.x<=c.w.globals.gridWidth+1){var f=h.attrs.strokeHeight!==void 0?h.attrs.strokeHeight:l/2,p=n+f+l/2;u=c.drawLine(h.x,p-2*f,h.x,p,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeWidth?h.attrs.strokeWidth:2,h.attrs.strokeLineCap),d.add(u)}}):Array.isArray(s)&&s.forEach(function(h){if(h.y>=-1&&h.y<=c.w.globals.gridHeight+1){var f=h.attrs.strokeWidth!==void 0?h.attrs.strokeWidth:i/2,p=t+f+i/2;u=c.drawLine(p-2*f,h.y,p,h.y,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeHeight?h.attrs.strokeHeight:2,h.attrs.strokeLineCap),d.add(u)}}),d}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,n=e.currPaths,a=e.color,s=this.w,i=t.x,l=t.x1,c=t.barYPosition,d=n.x,u=n.x1,h=n.barYPosition,f=c+n.barHeight,p=new Ye(this.barCtx.ctx),m=new xe,g=p.move(l,f)+p.line(i,f)+p.line(d,h)+p.line(u,h)+p.line(l,f)+(s.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return p.drawPath({d:g,fill:m.shadeColor(.5,xe.rgb2hex(a)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var t,n=e.i,a=e.j,s=this.w,i=0,l=0;return(s.config.plotOptions.bar.horizontal?s.globals.series.map(function(c,d){return d}):((t=s.globals.columnSeries)===null||t===void 0?void 0:t.i.map(function(c){return c}))||[]).forEach(function(c){var d=s.globals.seriesPercent[c][a];d&&i++,c<n&&d===0&&l++}),{nonZeroColumns:i,zeroEncounters:l}}},{key:"getGroupIndex",value:function(e){var t=this.w,n=t.globals.seriesGroups.findIndex(function(i){return i.indexOf(t.globals.seriesNames[e])>-1}),a=this.barCtx.columnGroupIndices,s=a.indexOf(n);return s<0&&(a.push(n),s=a.length-1),{groupIndex:n,columnGroupIndex:s}}}]),r}(),Zu=function(){function r(e,t){bt(this,r),this.ctx=e,this.w=e.w;var n=this.w;this.barOptions=n.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=n.config.stroke.width,this.isNullValue=!1,this.isRangeBar=n.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!n.globals.isBarHorizontal&&n.globals.seriesRange.length&&n.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=t,this.xyRatios!==null&&(this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var a=new Zs(this.ctx);this.lastActiveBarSerieIndex=a.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var s=a.getBarSeriesIndices(),i=new hn(this.ctx);this.stackedSeriesTotals=i.getStackedSeriesTotals(this.w.config.series.map(function(l,c){return s.indexOf(c)===-1?c:-1}).filter(function(l){return l!==-1})),this.barHelpers=new ZV(this)}return yt(r,[{key:"draw",value:function(e,t){var n=this.w,a=new Ye(this.ctx),s=new hn(this.ctx,n);e=s.getLogSeries(e),this.series=e,this.yRatio=s.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var i=a.group({class:"apexcharts-bar-series apexcharts-plot-series"});n.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var l=0,c=0;l<e.length;l++,c++){var d,u,h,f,p=void 0,m=void 0,g=[],v=[],x=n.globals.comboCharts?t[l]:l,b=this.barHelpers.getGroupIndex(x).columnGroupIndex,y=a.group({class:"apexcharts-series",rel:l+1,seriesName:xe.escapeString(n.globals.seriesNames[x]),"data:realIndex":x});this.ctx.series.addCollapsedClassToSeries(y,x),e[l].length>0&&(this.visibleI=this.visibleI+1);var C=0,S=0;this.yRatio.length>1&&(this.yaxisIndex=n.globals.seriesYAxisReverseMap[x],this.translationsIndex=x);var _=this.translationsIndex;this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed;var E=this.barHelpers.initialPositions(x);m=E.y,C=E.barHeight,u=E.yDivision,f=E.zeroW,p=E.x,S=E.barWidth,d=E.xDivision,h=E.zeroH,this.isHorizontal||v.push(p+S/2);var A=a.group({class:"apexcharts-datalabels","data:realIndex":x});n.globals.delayedElements.push({el:A.node}),A.node.classList.add("apexcharts-element-hidden");var T=a.group({class:"apexcharts-bar-goals-markers"}),F=a.group({class:"apexcharts-bar-shadows"});n.globals.delayedElements.push({el:F.node}),F.node.classList.add("apexcharts-element-hidden");for(var L=0;L<e[l].length;L++){var D=this.barHelpers.getStrokeWidth(l,L,x),O=null,I={indexes:{i:l,j:L,realIndex:x,translationsIndex:_,bc:c},x:p,y:m,strokeWidth:D,elSeries:y};this.isHorizontal?(O=this.drawBarPaths(ct(ct({},I),{},{barHeight:C,zeroW:f,yDivision:u})),S=this.series[l][L]/this.invertedYRatio):(O=this.drawColumnPaths(ct(ct({},I),{},{xDivision:d,barWidth:S,zeroH:h})),C=this.series[l][L]/this.yRatio[_]);var B=this.barHelpers.getPathFillColor(e,l,L,x);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&L>0){var z,V=this.barHelpers.drawBarShadow({color:typeof B.color=="string"&&((z=B.color)===null||z===void 0?void 0:z.indexOf("url"))===-1?B.color:xe.hexToRgba(n.globals.colors[l]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:O});F.add(V),n.config.chart.dropShadow.enabled&&new sa(this.ctx).dropShadow(V,n.config.chart.dropShadow,x)}this.pathArr.push(O);var W=this.barHelpers.drawGoalLine({barXPosition:O.barXPosition,barYPosition:O.barYPosition,goalX:O.goalX,goalY:O.goalY,barHeight:C,barWidth:S});W&&T.add(W),m=O.y,p=O.x,L>0&&v.push(p+S/2),g.push(m),this.renderSeries(ct(ct({realIndex:x,pathFill:B.color},B.useRangeColor?{lineFill:B.color}:{}),{},{j:L,i:l,columnGroupIndex:b,pathFrom:O.pathFrom,pathTo:O.pathTo,strokeWidth:D,elSeries:y,x:p,y:m,series:e,barHeight:Math.abs(O.barHeight?O.barHeight:C),barWidth:Math.abs(O.barWidth?O.barWidth:S),elDataLabelsWrap:A,elGoalsMarkers:T,elBarShadows:F,visibleSeries:this.visibleI,type:"bar"}))}n.globals.seriesXvalues[x]=v,n.globals.seriesYvalues[x]=g,i.add(y)}return i}},{key:"renderSeries",value:function(e){var t=e.realIndex,n=e.pathFill,a=e.lineFill,s=e.j,i=e.i,l=e.columnGroupIndex,c=e.pathFrom,d=e.pathTo,u=e.strokeWidth,h=e.elSeries,f=e.x,p=e.y,m=e.y1,g=e.y2,v=e.series,x=e.barHeight,b=e.barWidth,y=e.barXPosition,C=e.barYPosition,S=e.elDataLabelsWrap,_=e.elGoalsMarkers,E=e.elBarShadows,A=e.visibleSeries,T=e.type,F=e.classes,L=this.w,D=new Ye(this.ctx);if(!a){var O=typeof L.globals.stroke.colors[t]=="function"?function(W){var Y,G=L.config.stroke.colors;return Array.isArray(G)&&G.length>0&&((Y=G[W])||(Y=""),typeof Y=="function")?Y({value:L.globals.series[W][s],dataPointIndex:s,w:L}):Y}(t):L.globals.stroke.colors[t];a=this.barOptions.distributed?L.globals.stroke.colors[s]:O}L.config.series[i].data[s]&&L.config.series[i].data[s].strokeColor&&(a=L.config.series[i].data[s].strokeColor),this.isNullValue&&(n="none");var I=s/L.config.chart.animations.animateGradually.delay*(L.config.chart.animations.speed/L.globals.dataPoints)/2.4,B=D.renderPaths({i,j:s,realIndex:t,pathFrom:c,pathTo:d,stroke:a,strokeWidth:u,strokeLineCap:L.config.stroke.lineCap,fill:n,animationDelay:I,initialSpeed:L.config.chart.animations.speed,dataChangeSpeed:L.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(T,"-area ").concat(F),chartType:T});B.attr("clip-path","url(#gridRectBarMask".concat(L.globals.cuid,")"));var z=L.config.forecastDataPoints;z.count>0&&s>=L.globals.dataPoints-z.count&&(B.node.setAttribute("stroke-dasharray",z.dashArray),B.node.setAttribute("stroke-width",z.strokeWidth),B.node.setAttribute("fill-opacity",z.fillOpacity)),m!==void 0&&g!==void 0&&(B.attr("data-range-y1",m),B.attr("data-range-y2",g)),new sa(this.ctx).setSelectionFilter(B,t,s),h.add(B);var V=new XV(this).handleBarDataLabels({x:f,y:p,y1:m,y2:g,i,j:s,series:v,realIndex:t,columnGroupIndex:l,barHeight:x,barWidth:b,barXPosition:y,barYPosition:C,renderedPath:B,visibleSeries:A});return V.dataLabels!==null&&S.add(V.dataLabels),V.totalDataLabels&&S.add(V.totalDataLabels),h.add(S),_&&h.add(_),E&&h.add(E),h}},{key:"drawBarPaths",value:function(e){var t,n=e.indexes,a=e.barHeight,s=e.strokeWidth,i=e.zeroW,l=e.x,c=e.y,d=e.yDivision,u=e.elSeries,h=this.w,f=n.i,p=n.j;if(h.globals.isXNumeric)t=(c=(h.globals.seriesX[f][p]-h.globals.minX)/this.invertedXRatio-a)+a*this.visibleI;else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var m=0,g=0;h.globals.seriesPercent.forEach(function(x,b){x[p]&&m++,b<f&&x[p]===0&&g++}),m>0&&(a=this.seriesLen*a/m),t=c+a*this.visibleI,t-=a*g}else t=c+a*this.visibleI;this.isFunnel&&(i-=(this.barHelpers.getXForValue(this.series[f][p],i)-i)/2),l=this.barHelpers.getXForValue(this.series[f][p],i);var v=this.barHelpers.getBarpaths({barYPosition:t,barHeight:a,x1:i,x2:l,strokeWidth:s,isReversed:this.isReversed,series:this.series,realIndex:n.realIndex,i:f,j:p,w:h});return h.globals.isXNumeric||(c+=d),this.barHelpers.barBackground({j:p,i:f,y1:t-a*this.visibleI,y2:a*this.seriesLen,elSeries:u}),{pathTo:v.pathTo,pathFrom:v.pathFrom,x1:i,x:l,y:c,goalX:this.barHelpers.getGoalValues("x",i,null,f,p),barYPosition:t,barHeight:a}}},{key:"drawColumnPaths",value:function(e){var t,n=e.indexes,a=e.x,s=e.y,i=e.xDivision,l=e.barWidth,c=e.zeroH,d=e.strokeWidth,u=e.elSeries,h=this.w,f=n.realIndex,p=n.translationsIndex,m=n.i,g=n.j,v=n.bc;if(h.globals.isXNumeric){var x=this.getBarXForNumericXAxis({x:a,j:g,realIndex:f,barWidth:l});a=x.x,t=x.barXPosition}else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var b=this.barHelpers.getZeroValueEncounters({i:m,j:g}),y=b.nonZeroColumns,C=b.zeroEncounters;y>0&&(l=this.seriesLen*l/y),t=a+l*this.visibleI,t-=l*C}else t=a+l*this.visibleI;s=this.barHelpers.getYForValue(this.series[m][g],c,p);var S=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:l,y1:c,y2:s,strokeWidth:d,isReversed:this.isReversed,series:this.series,realIndex:f,i:m,j:g,w:h});return h.globals.isXNumeric||(a+=i),this.barHelpers.barBackground({bc:v,j:g,i:m,x1:t-d/2-l*this.visibleI,x2:l*this.seriesLen+d/2,elSeries:u}),{pathTo:S.pathTo,pathFrom:S.pathFrom,x:a,y:s,goalY:this.barHelpers.getGoalValues("y",null,c,m,g,p),barXPosition:t,barWidth:l}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,n=e.barWidth,a=e.realIndex,s=e.j,i=this.w,l=a;return i.globals.seriesX[a].length||(l=i.globals.maxValsInArrayIndex),xe.isNumber(i.globals.seriesX[l][s])&&(t=(i.globals.seriesX[l][s]-i.globals.minX)/this.xRatio-n*this.seriesLen/2),{barXPosition:t+n*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var n,a=this.w,s=0;s<a.globals.previousPaths.length;s++){var i=a.globals.previousPaths[s];i.paths&&i.paths.length>0&&parseInt(i.realIndex,10)===parseInt(e,10)&&a.globals.previousPaths[s].paths[t]!==void 0&&(n=a.globals.previousPaths[s].paths[t].d)}return n}}]),r}(),v6=function(r){zp(t,Zu);var e=Bp(t);function t(){return bt(this,t),e.apply(this,arguments)}return yt(t,[{key:"draw",value:function(n,a){var s=this,i=this.w;this.graphics=new Ye(this.ctx),this.bar=new Zu(this.ctx,this.xyRatios);var l=new hn(this.ctx,i);n=l.getLogSeries(n),this.yRatio=l.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n),i.config.chart.stackType==="100%"&&(n=i.globals.comboCharts?a.map(function(m){return i.globals.seriesPercent[m]}):i.globals.seriesPercent.slice()),this.series=n,this.barHelpers.initializeStackedPrevVars(this);for(var c=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),d=0,u=0,h=function(m,g){var v=void 0,x=void 0,b=void 0,y=void 0,C=i.globals.comboCharts?a[m]:m,S=s.barHelpers.getGroupIndex(C),_=S.groupIndex,E=S.columnGroupIndex;s.groupCtx=s[i.globals.seriesGroups[_]];var A=[],T=[],F=0;s.yRatio.length>1&&(s.yaxisIndex=i.globals.seriesYAxisReverseMap[C][0],F=C),s.isReversed=i.config.yaxis[s.yaxisIndex]&&i.config.yaxis[s.yaxisIndex].reversed;var L=s.graphics.group({class:"apexcharts-series",seriesName:xe.escapeString(i.globals.seriesNames[C]),rel:m+1,"data:realIndex":C});s.ctx.series.addCollapsedClassToSeries(L,C);var D=s.graphics.group({class:"apexcharts-datalabels","data:realIndex":C}),O=s.graphics.group({class:"apexcharts-bar-goals-markers"}),I=0,B=0,z=s.initialPositions(d,u,v,x,b,y,F);u=z.y,I=z.barHeight,x=z.yDivision,y=z.zeroW,d=z.x,B=z.barWidth,v=z.xDivision,b=z.zeroH,i.globals.barHeight=I,i.globals.barWidth=B,s.barHelpers.initializeStackedXYVars(s),s.groupCtx.prevY.length===1&&s.groupCtx.prevY[0].every(function(X){return isNaN(X)})&&(s.groupCtx.prevY[0]=s.groupCtx.prevY[0].map(function(){return b}),s.groupCtx.prevYF[0]=s.groupCtx.prevYF[0].map(function(){return 0}));for(var V=0;V<i.globals.dataPoints;V++){var W=s.barHelpers.getStrokeWidth(m,V,C),Y={indexes:{i:m,j:V,realIndex:C,translationsIndex:F,bc:g},strokeWidth:W,x:d,y:u,elSeries:L,columnGroupIndex:E,seriesGroup:i.globals.seriesGroups[_]},G=null;s.isHorizontal?(G=s.drawStackedBarPaths(ct(ct({},Y),{},{zeroW:y,barHeight:I,yDivision:x})),B=s.series[m][V]/s.invertedYRatio):(G=s.drawStackedColumnPaths(ct(ct({},Y),{},{xDivision:v,barWidth:B,zeroH:b})),I=s.series[m][V]/s.yRatio[F]);var q=s.barHelpers.drawGoalLine({barXPosition:G.barXPosition,barYPosition:G.barYPosition,goalX:G.goalX,goalY:G.goalY,barHeight:I,barWidth:B});q&&O.add(q),u=G.y,d=G.x,A.push(d),T.push(u);var M=s.barHelpers.getPathFillColor(n,m,V,C),U="",$=i.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(s.barHelpers.arrBorderRadius[C][V]==="bottom"&&i.globals.series[C][V]>0||s.barHelpers.arrBorderRadius[C][V]==="top"&&i.globals.series[C][V]<0)&&(U=$),L=s.renderSeries(ct(ct({realIndex:C,pathFill:M.color},M.useRangeColor?{lineFill:M.color}:{}),{},{j:V,i:m,columnGroupIndex:E,pathFrom:G.pathFrom,pathTo:G.pathTo,strokeWidth:W,elSeries:L,x:d,y:u,series:n,barHeight:I,barWidth:B,elDataLabelsWrap:D,elGoalsMarkers:O,type:"bar",visibleSeries:E,classes:U}))}i.globals.seriesXvalues[C]=A,i.globals.seriesYvalues[C]=T,s.groupCtx.prevY.push(s.groupCtx.yArrj),s.groupCtx.prevYF.push(s.groupCtx.yArrjF),s.groupCtx.prevYVal.push(s.groupCtx.yArrjVal),s.groupCtx.prevX.push(s.groupCtx.xArrj),s.groupCtx.prevXF.push(s.groupCtx.xArrjF),s.groupCtx.prevXVal.push(s.groupCtx.xArrjVal),c.add(L)},f=0,p=0;f<n.length;f++,p++)h(f,p);return c}},{key:"initialPositions",value:function(n,a,s,i,l,c,d){var u,h,f=this.w;if(this.isHorizontal){i=f.globals.gridHeight/f.globals.dataPoints;var p=f.config.plotOptions.bar.barHeight;u=String(p).indexOf("%")===-1?parseInt(p,10):i*parseInt(p,10)/100,c=f.globals.padHorizontal+(this.isReversed?f.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),a=(i-u)/2}else{h=s=f.globals.gridWidth/f.globals.dataPoints;var m=f.config.plotOptions.bar.columnWidth;f.globals.isXNumeric&&f.globals.dataPoints>1?h=(s=f.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(m).indexOf("%")===-1?h=parseInt(m,10):h*=parseInt(m,10)/100,l=this.isReversed?this.baseLineY[d]:f.globals.gridHeight-this.baseLineY[d],n=f.globals.padHorizontal+(s-h)/2}var g=f.globals.barGroups.length||1;return{x:n,y:a,yDivision:i,xDivision:s,barHeight:u/g,barWidth:h/g,zeroH:l,zeroW:c}}},{key:"drawStackedBarPaths",value:function(n){for(var a,s=n.indexes,i=n.barHeight,l=n.strokeWidth,c=n.zeroW,d=n.x,u=n.y,h=n.columnGroupIndex,f=n.seriesGroup,p=n.yDivision,m=n.elSeries,g=this.w,v=u+h*i,x=s.i,b=s.j,y=s.realIndex,C=s.translationsIndex,S=0,_=0;_<this.groupCtx.prevXF.length;_++)S+=this.groupCtx.prevXF[_][b];var E;if((E=f.indexOf(g.config.series[y].name))>0){var A=c;this.groupCtx.prevXVal[E-1][b]<0?A=this.series[x][b]>=0?this.groupCtx.prevX[E-1][b]+S-2*(this.isReversed?S:0):this.groupCtx.prevX[E-1][b]:this.groupCtx.prevXVal[E-1][b]>=0&&(A=this.series[x][b]>=0?this.groupCtx.prevX[E-1][b]:this.groupCtx.prevX[E-1][b]-S+2*(this.isReversed?S:0)),a=A}else a=c;d=this.series[x][b]===null?a:a+this.series[x][b]/this.invertedYRatio-2*(this.isReversed?this.series[x][b]/this.invertedYRatio:0);var T=this.barHelpers.getBarpaths({barYPosition:v,barHeight:i,x1:a,x2:d,strokeWidth:l,isReversed:this.isReversed,series:this.series,realIndex:s.realIndex,seriesGroup:f,i:x,j:b,w:g});return this.barHelpers.barBackground({j:b,i:x,y1:v,y2:i,elSeries:m}),u+=p,{pathTo:T.pathTo,pathFrom:T.pathFrom,goalX:this.barHelpers.getGoalValues("x",c,null,x,b,C),barXPosition:a,barYPosition:v,x:d,y:u}}},{key:"drawStackedColumnPaths",value:function(n){var a=n.indexes,s=n.x,i=n.y,l=n.xDivision,c=n.barWidth,d=n.zeroH,u=n.columnGroupIndex,h=n.seriesGroup,f=n.elSeries,p=this.w,m=a.i,g=a.j,v=a.bc,x=a.realIndex,b=a.translationsIndex;if(p.globals.isXNumeric){var y=p.globals.seriesX[x][g];y||(y=0),s=(y-p.globals.minX)/this.xRatio-c/2*p.globals.barGroups.length}for(var C,S=s+u*c,_=0,E=0;E<this.groupCtx.prevYF.length;E++)_+=isNaN(this.groupCtx.prevYF[E][g])?0:this.groupCtx.prevYF[E][g];var A=m;if(h&&(A=h.indexOf(p.globals.seriesNames[x])),A>0&&!p.globals.isXNumeric||A>0&&p.globals.isXNumeric&&p.globals.seriesX[x-1][g]===p.globals.seriesX[x][g]){var T,F,L,D=Math.min(this.yRatio.length+1,x+1);if(this.groupCtx.prevY[A-1]!==void 0&&this.groupCtx.prevY[A-1].length)for(var O=1;O<D;O++){var I;if(!isNaN((I=this.groupCtx.prevY[A-O])===null||I===void 0?void 0:I[g])){L=this.groupCtx.prevY[A-O][g];break}}for(var B=1;B<D;B++){var z,V;if(((z=this.groupCtx.prevYVal[A-B])===null||z===void 0?void 0:z[g])<0){F=this.series[m][g]>=0?L-_+2*(this.isReversed?_:0):L;break}if(((V=this.groupCtx.prevYVal[A-B])===null||V===void 0?void 0:V[g])>=0){F=this.series[m][g]>=0?L:L+_-2*(this.isReversed?_:0);break}}F===void 0&&(F=p.globals.gridHeight),C=(T=this.groupCtx.prevYF[0])!==null&&T!==void 0&&T.every(function(Y){return Y===0})&&this.groupCtx.prevYF.slice(1,A).every(function(Y){return Y.every(function(G){return isNaN(G)})})?d:F}else C=d;i=this.series[m][g]?C-this.series[m][g]/this.yRatio[b]+2*(this.isReversed?this.series[m][g]/this.yRatio[b]:0):C;var W=this.barHelpers.getColumnPaths({barXPosition:S,barWidth:c,y1:C,y2:i,yRatio:this.yRatio[b],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:h,realIndex:a.realIndex,i:m,j:g,w:p});return this.barHelpers.barBackground({bc:v,j:g,i:m,x1:S,x2:c,elSeries:f}),{pathTo:W.pathTo,pathFrom:W.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,d,m,g),barXPosition:S,x:p.globals.isXNumeric?s:s+l,y:i}}}]),t}(),ub=function(r){zp(t,Zu);var e=Bp(t);function t(){return bt(this,t),e.apply(this,arguments)}return yt(t,[{key:"draw",value:function(n,a,s){var i=this,l=this.w,c=new Ye(this.ctx),d=l.globals.comboCharts?a:l.config.chart.type,u=new ji(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=l.config.plotOptions.bar.horizontal;var h=new hn(this.ctx,l);n=h.getLogSeries(n),this.series=n,this.yRatio=h.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n);for(var f=c.group({class:"apexcharts-".concat(d,"-series apexcharts-plot-series")}),p=function(g){i.isBoxPlot=l.config.chart.type==="boxPlot"||l.config.series[g].type==="boxPlot";var v,x,b,y,C=void 0,S=void 0,_=[],E=[],A=l.globals.comboCharts?s[g]:g,T=i.barHelpers.getGroupIndex(A).columnGroupIndex,F=c.group({class:"apexcharts-series",seriesName:xe.escapeString(l.globals.seriesNames[A]),rel:g+1,"data:realIndex":A});i.ctx.series.addCollapsedClassToSeries(F,A),n[g].length>0&&(i.visibleI=i.visibleI+1);var L,D,O=0;i.yRatio.length>1&&(i.yaxisIndex=l.globals.seriesYAxisReverseMap[A][0],O=A);var I=i.barHelpers.initialPositions(A);S=I.y,L=I.barHeight,x=I.yDivision,y=I.zeroW,C=I.x,D=I.barWidth,v=I.xDivision,b=I.zeroH,E.push(C+D/2);for(var B=c.group({class:"apexcharts-datalabels","data:realIndex":A}),z=c.group({class:"apexcharts-bar-goals-markers"}),V=function(Y){var G=i.barHelpers.getStrokeWidth(g,Y,A),q=null,M={indexes:{i:g,j:Y,realIndex:A,translationsIndex:O},x:C,y:S,strokeWidth:G,elSeries:F};q=i.isHorizontal?i.drawHorizontalBoxPaths(ct(ct({},M),{},{yDivision:x,barHeight:L,zeroW:y})):i.drawVerticalBoxPaths(ct(ct({},M),{},{xDivision:v,barWidth:D,zeroH:b})),S=q.y,C=q.x;var U=i.barHelpers.drawGoalLine({barXPosition:q.barXPosition,barYPosition:q.barYPosition,goalX:q.goalX,goalY:q.goalY,barHeight:L,barWidth:D});U&&z.add(U),Y>0&&E.push(C+D/2),_.push(S),q.pathTo.forEach(function($,X){var Q=!i.isBoxPlot&&i.candlestickOptions.wick.useFillColor?q.color[X]:l.globals.stroke.colors[g],se=u.fillPath({seriesNumber:A,dataPointIndex:Y,color:q.color[X],value:n[g][Y]});i.renderSeries({realIndex:A,pathFill:se,lineFill:Q,j:Y,i:g,pathFrom:q.pathFrom,pathTo:$,strokeWidth:G,elSeries:F,x:C,y:S,series:n,columnGroupIndex:T,barHeight:L,barWidth:D,elDataLabelsWrap:B,elGoalsMarkers:z,visibleSeries:i.visibleI,type:l.config.chart.type})})},W=0;W<l.globals.dataPoints;W++)V(W);l.globals.seriesXvalues[A]=E,l.globals.seriesYvalues[A]=_,f.add(F)},m=0;m<n.length;m++)p(m);return f}},{key:"drawVerticalBoxPaths",value:function(n){var a=n.indexes,s=n.x;n.y;var i=n.xDivision,l=n.barWidth,c=n.zeroH,d=n.strokeWidth,u=this.w,h=new Ye(this.ctx),f=a.i,p=a.j,m=u.config.plotOptions.candlestick.colors,g=this.boxOptions.colors,v=a.realIndex,x=function(B){return Array.isArray(B)?B[v]:B},b=x(m.upward),y=x(m.downward),C=this.yRatio[a.translationsIndex],S=this.getOHLCValue(v,p),_=c,E=c,A=S.o<S.c?[b]:[y];this.isBoxPlot&&(A=[x(g.lower),x(g.upper)]);var T=Math.min(S.o,S.c),F=Math.max(S.o,S.c),L=S.m;u.globals.isXNumeric&&(s=(u.globals.seriesX[v][p]-u.globals.minX)/this.xRatio-l/2);var D=s+l*this.visibleI;this.series[f][p]===void 0||this.series[f][p]===null?(T=c,F=c):(T=c-T/C,F=c-F/C,_=c-S.h/C,E=c-S.l/C,L=c-S.m/C);var O=h.move(D,c),I=h.move(D+l/2,T);return u.globals.previousPaths.length>0&&(I=this.getPreviousPath(v,p,!0)),O=this.isBoxPlot?[h.move(D,T)+h.line(D+l/2,T)+h.line(D+l/2,_)+h.line(D+l/4,_)+h.line(D+l-l/4,_)+h.line(D+l/2,_)+h.line(D+l/2,T)+h.line(D+l,T)+h.line(D+l,L)+h.line(D,L)+h.line(D,T+d/2),h.move(D,L)+h.line(D+l,L)+h.line(D+l,F)+h.line(D+l/2,F)+h.line(D+l/2,E)+h.line(D+l-l/4,E)+h.line(D+l/4,E)+h.line(D+l/2,E)+h.line(D+l/2,F)+h.line(D,F)+h.line(D,L)+"z"]:[h.move(D,F)+h.line(D+l/2,F)+h.line(D+l/2,_)+h.line(D+l/2,F)+h.line(D+l,F)+h.line(D+l,T)+h.line(D+l/2,T)+h.line(D+l/2,E)+h.line(D+l/2,T)+h.line(D,T)+h.line(D,F-d/2)],I+=h.move(D,T),u.globals.isXNumeric||(s+=i),{pathTo:O,pathFrom:I,x:s,y:F,goalY:this.barHelpers.getGoalValues("y",null,c,f,p,a.translationsIndex),barXPosition:D,color:A}}},{key:"drawHorizontalBoxPaths",value:function(n){var a=n.indexes;n.x;var s=n.y,i=n.yDivision,l=n.barHeight,c=n.zeroW,d=n.strokeWidth,u=this.w,h=new Ye(this.ctx),f=a.i,p=a.j,m=this.boxOptions.colors.lower;this.isBoxPlot&&(m=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var g=this.invertedYRatio,v=a.realIndex,x=this.getOHLCValue(v,p),b=c,y=c,C=Math.min(x.o,x.c),S=Math.max(x.o,x.c),_=x.m;u.globals.isXNumeric&&(s=(u.globals.seriesX[v][p]-u.globals.minX)/this.invertedXRatio-l/2);var E=s+l*this.visibleI;this.series[f][p]===void 0||this.series[f][p]===null?(C=c,S=c):(C=c+C/g,S=c+S/g,b=c+x.h/g,y=c+x.l/g,_=c+x.m/g);var A=h.move(c,E),T=h.move(C,E+l/2);return u.globals.previousPaths.length>0&&(T=this.getPreviousPath(v,p,!0)),A=[h.move(C,E)+h.line(C,E+l/2)+h.line(b,E+l/2)+h.line(b,E+l/2-l/4)+h.line(b,E+l/2+l/4)+h.line(b,E+l/2)+h.line(C,E+l/2)+h.line(C,E+l)+h.line(_,E+l)+h.line(_,E)+h.line(C+d/2,E),h.move(_,E)+h.line(_,E+l)+h.line(S,E+l)+h.line(S,E+l/2)+h.line(y,E+l/2)+h.line(y,E+l-l/4)+h.line(y,E+l/4)+h.line(y,E+l/2)+h.line(S,E+l/2)+h.line(S,E)+h.line(_,E)+"z"],T+=h.move(C,E),u.globals.isXNumeric||(s+=i),{pathTo:A,pathFrom:T,x:S,y:s,goalX:this.barHelpers.getGoalValues("x",c,null,f,p),barYPosition:E,color:m}}},{key:"getOHLCValue",value:function(n,a){var s=this.w,i=new hn(this.ctx,s),l=i.getLogValAtSeriesIndex(s.globals.seriesCandleH[n][a],n),c=i.getLogValAtSeriesIndex(s.globals.seriesCandleO[n][a],n),d=i.getLogValAtSeriesIndex(s.globals.seriesCandleM[n][a],n),u=i.getLogValAtSeriesIndex(s.globals.seriesCandleC[n][a],n),h=i.getLogValAtSeriesIndex(s.globals.seriesCandleL[n][a],n);return{o:this.isBoxPlot?l:c,h:this.isBoxPlot?c:l,m:d,l:this.isBoxPlot?u:h,c:this.isBoxPlot?h:u}}}]),t}(),wE=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w}return yt(r,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,n=e.config.plotOptions[e.config.chart.type];return n.colorScale.ranges.length>0&&n.colorScale.ranges.map(function(a,s){a.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(e,t,n,a){var s=this.w,i=1,l=s.config.plotOptions[e].shadeIntensity,c=this.determineColor(e,t,n);s.globals.hasNegs||a?i=s.config.plotOptions[e].reverseNegativeShade?c.percent<0?c.percent/100*(1.25*l):(1-c.percent/100)*(1.25*l):c.percent<=0?1-(1+c.percent/100)*l:(1-c.percent/100)*l:(i=1-c.percent/100,e==="treemap"&&(i=(1-c.percent/100)*(1.25*l)));var d=c.color,u=new xe;if(s.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var h=u.shadeColor(-1*i,c.color);d=xe.hexToRgba(xe.isColorHex(h)?h:xe.rgb2hex(h),s.config.fill.opacity)}else{var f=u.shadeColor(i,c.color);d=xe.hexToRgba(xe.isColorHex(f)?f:xe.rgb2hex(f),s.config.fill.opacity)}return{color:d,colorProps:c}}},{key:"determineColor",value:function(e,t,n){var a=this.w,s=a.globals.series[t][n],i=a.config.plotOptions[e],l=i.colorScale.inverse?n:t;i.distributed&&a.config.chart.type==="treemap"&&(l=n);var c=a.globals.colors[l],d=null,u=Math.min.apply(Math,zn(a.globals.series[t])),h=Math.max.apply(Math,zn(a.globals.series[t]));i.distributed||e!=="heatmap"||(u=a.globals.minY,h=a.globals.maxY),i.colorScale.min!==void 0&&(u=i.colorScale.min<a.globals.minY?i.colorScale.min:a.globals.minY,h=i.colorScale.max>a.globals.maxY?i.colorScale.max:a.globals.maxY);var f=Math.abs(h)+Math.abs(u),p=100*s/(f===0?f-1e-6:f);return i.colorScale.ranges.length>0&&i.colorScale.ranges.map(function(m,g){if(s>=m.from&&s<=m.to){c=m.color,d=m.foreColor?m.foreColor:null,u=m.from,h=m.to;var v=Math.abs(h)+Math.abs(u);p=100*s/(v===0?v-1e-6:v)}}),{color:c,foreColor:d,percent:p}}},{key:"calculateDataLabels",value:function(e){var t=e.text,n=e.x,a=e.y,s=e.i,i=e.j,l=e.colorProps,c=e.fontSize,d=this.w.config.dataLabels,u=new Ye(this.ctx),h=new Xu(this.ctx),f=null;if(d.enabled){f=u.group({class:"apexcharts-data-labels"});var p=d.offsetX,m=d.offsetY,g=n+p,v=a+parseFloat(d.style.fontSize)/3+m;h.plotDataLabelsText({x:g,y:v,text:t,i:s,j:i,color:l.foreColor,parent:f,fontSize:c,dataLabelsConfig:d})}return f}},{key:"addListeners",value:function(e){var t=new Ye(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),r}(),JV=function(){function r(e,t){bt(this,r),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new wE(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return yt(r,[{key:"draw",value:function(e){var t=this.w,n=new Ye(this.ctx),a=n.group({class:"apexcharts-heatmap"});a.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var s=t.globals.gridWidth/t.globals.dataPoints,i=t.globals.gridHeight/t.globals.series.length,l=0,c=!1;this.negRange=this.helpers.checkColorRange();var d=e.slice();t.config.yaxis[0].reversed&&(c=!0,d.reverse());for(var u=c?0:d.length-1;c?u<d.length:u>=0;c?u++:u--){var h=n.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:xe.escapeString(t.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});if(this.ctx.series.addCollapsedClassToSeries(h,u),t.config.chart.dropShadow.enabled){var f=t.config.chart.dropShadow;new sa(this.ctx).dropShadow(h,f,u)}for(var p=0,m=t.config.plotOptions.heatmap.shadeIntensity,g=0,v=0;v<t.globals.dataPoints;v++)if(t.globals.seriesX.length&&!t.globals.allSeriesHasEqualX&&t.globals.minX+t.globals.minXDiff*v<t.globals.seriesX[u][g])p+=s;else{if(g>=d[u].length)break;var x=this.helpers.getShadeColor(t.config.chart.type,u,g,this.negRange),b=x.color,y=x.colorProps;t.config.fill.type==="image"&&(b=new ji(this.ctx).fillPath({seriesNumber:u,dataPointIndex:g,opacity:t.globals.hasNegs?y.percent<0?1-(1+y.percent/100):m+y.percent/100:y.percent/100,patternID:xe.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:s,height:t.config.fill.image.height?t.config.fill.image.height:i}));var C=this.rectRadius,S=n.drawRect(p,l,s,i,C);if(S.attr({cx:p,cy:l}),S.node.classList.add("apexcharts-heatmap-rect"),h.add(S),S.attr({fill:b,i:u,index:u,j:g,val:e[u][g],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?b:t.globals.stroke.colors[0],color:b}),this.helpers.addListeners(S),t.config.chart.animations.enabled&&!t.globals.dataChanged){var _=1;t.globals.resized||(_=t.config.chart.animations.speed),this.animateHeatMap(S,p,l,s,i,_)}if(t.globals.dataChanged){var E=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){E=this.dynamicAnim.speed;var A=t.globals.previousPaths[u]&&t.globals.previousPaths[u][g]&&t.globals.previousPaths[u][g].color;A||(A="rgba(255, 255, 255, 0)"),this.animateHeatColor(S,xe.isColorHex(A)?A:xe.rgb2hex(A),xe.isColorHex(b)?b:xe.rgb2hex(b),E)}}var T=(0,t.config.dataLabels.formatter)(t.globals.series[u][g],{value:t.globals.series[u][g],seriesIndex:u,dataPointIndex:g,w:t}),F=this.helpers.calculateDataLabels({text:T,x:p+s/2,y:l+i/2,i:u,j:g,colorProps:y,series:d});F!==null&&h.add(F),p+=s,g++}l+=i,a.add(h)}var L=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?L.unshift(""):L.push(""),t.globals.yAxisScale[0].result=L,a}},{key:"animateHeatMap",value:function(e,t,n,a,s,i){var l=new ph(this.ctx);l.animateRect(e,{x:t+a/2,y:n+s/2,width:0,height:0},{x:t,y:n,width:a,height:s},i,function(){l.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,t,n,a){e.attr({fill:t}).animate(a).attr({fill:n})}}]),r}(),kE=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w}return yt(r,[{key:"drawYAxisTexts",value:function(e,t,n,a){var s=this.w,i=s.config.yaxis[0],l=s.globals.yLabelFormatters[0];return new Ye(this.ctx).drawText({x:e+i.labels.offsetX,y:t+i.labels.offsetY,text:l(a,n),textAnchor:"middle",fontSize:i.labels.style.fontSize,fontFamily:i.labels.style.fontFamily,foreColor:Array.isArray(i.labels.style.colors)?i.labels.style.colors[n]:i.labels.style.colors})}}]),r}(),CE=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,t.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100;var n=t.config.plotOptions.pie.customScale,a=t.globals.gridWidth/2,s=t.globals.gridHeight/2;this.translateX=a-a*n,this.translateY=s-s*n,this.dataLabelsGroup=new Ye(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return yt(r,[{key:"draw",value:function(e){var t=this,n=this.w,a=new Ye(this.ctx),s=a.group({class:"apexcharts-pie"});if(n.globals.noData)return s;for(var i=0,l=0;l<e.length;l++)i+=xe.negToZero(e[l]);var c=[],d=a.group();i===0&&(i=1e-5),e.forEach(function(y){t.maxY=Math.max(t.maxY,y)}),n.config.yaxis[0].max&&(this.maxY=n.config.yaxis[0].max),n.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(s);for(var u=0;u<e.length;u++){var h=this.fullAngle*xe.negToZero(e[u])/i;c.push(h),this.chartType==="polarArea"?(c[u]=this.fullAngle/e.length,this.sliceSizes.push(n.globals.radialSize*e[u]/this.maxY)):this.sliceSizes.push(n.globals.radialSize)}if(n.globals.dataChanged){for(var f,p=0,m=0;m<n.globals.previousPaths.length;m++)p+=xe.negToZero(n.globals.previousPaths[m]);for(var g=0;g<n.globals.previousPaths.length;g++)f=this.fullAngle*xe.negToZero(n.globals.previousPaths[g])/p,this.prevSectorAngleArr.push(f)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var v=a.drawCircle(this.donutSize);v.attr({cx:this.centerX,cy:this.centerY,fill:n.config.plotOptions.pie.donut.background?n.config.plotOptions.pie.donut.background:"transparent"}),d.add(v)}var x=this.drawArcs(c,e);if(this.sliceLabels.forEach(function(y){x.add(y)}),d.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n.config.plotOptions.pie.customScale,")")}),d.add(x),s.add(d),this.donutDataLabels.show){var b=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});s.add(b)}return n.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(s),s}},{key:"drawArcs",value:function(e,t){var n=this.w,a=new sa(this.ctx),s=new Ye(this.ctx),i=new ji(this.ctx),l=s.group({class:"apexcharts-slices"}),c=this.initialAngle,d=this.initialAngle,u=this.initialAngle,h=this.initialAngle;this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0;for(var f=0;f<e.length;f++){var p=s.group({class:"apexcharts-series apexcharts-pie-series",seriesName:xe.escapeString(n.globals.seriesNames[f]),rel:f+1,"data:realIndex":f});l.add(p),d=h,u=(c=u)+e[f],h=d+this.prevSectorAngleArr[f];var m=u<c?this.fullAngle+u-c:u-c,g=i.fillPath({seriesNumber:f,size:this.sliceSizes[f],value:t[f]}),v=this.getChangedPath(d,h),x=s.drawPath({d:v,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[f]:this.lineColorArr,strokeWidth:0,fill:g,fillOpacity:n.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(f)});if(x.attr({index:0,j:f}),a.setSelectionFilter(x,0,f),n.config.chart.dropShadow.enabled){var b=n.config.chart.dropShadow;a.dropShadow(x,b,f)}this.addListeners(x,this.donutDataLabels),Ye.setAttrs(x.node,{"data:angle":m,"data:startAngle":c,"data:strokeWidth":this.strokeWidth,"data:value":t[f]});var y={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?y=xe.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize/1.25+n.config.plotOptions.pie.dataLabels.offset,(c+m/2)%this.fullAngle):this.chartType==="donut"&&(y=xe.polarToCartesian(this.centerX,this.centerY,(n.globals.radialSize+this.donutSize)/2+n.config.plotOptions.pie.dataLabels.offset,(c+m/2)%this.fullAngle)),p.add(x);var C=0;if(!this.initialAnim||n.globals.resized||n.globals.dataChanged?this.animBeginArr.push(0):((C=m/this.fullAngle*n.config.chart.animations.speed)===0&&(C=1),this.animDur=C+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&n.globals.dataChanged?this.animatePaths(x,{size:this.sliceSizes[f],endAngle:u,startAngle:c,prevStartAngle:d,prevEndAngle:h,animateStartingPos:!0,i:f,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:n.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(x,{size:this.sliceSizes[f],endAngle:u,startAngle:c,i:f,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:C}),n.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&x.node.addEventListener("mouseup",this.pieClicked.bind(this,f)),n.globals.selectedDataPoints[0]!==void 0&&n.globals.selectedDataPoints[0].indexOf(f)>-1&&this.pieClicked(f),n.config.dataLabels.enabled){var S=y.x,_=y.y,E=100*m/this.fullAngle+"%";if(m!==0&&n.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[f]){var A=n.config.dataLabels.formatter;A!==void 0&&(E=A(n.globals.seriesPercent[f][0],{seriesIndex:f,w:n}));var T=n.globals.dataLabels.style.colors[f],F=s.group({class:"apexcharts-datalabels"}),L=s.drawText({x:S,y:_,text:E,textAnchor:"middle",fontSize:n.config.dataLabels.style.fontSize,fontFamily:n.config.dataLabels.style.fontFamily,fontWeight:n.config.dataLabels.style.fontWeight,foreColor:T});if(F.add(L),n.config.dataLabels.dropShadow.enabled){var D=n.config.dataLabels.dropShadow;a.dropShadow(L,D)}L.node.classList.add("apexcharts-pie-label"),n.config.chart.animations.animate&&n.globals.resized===!1&&(L.node.classList.add("apexcharts-pie-label-delay"),L.node.style.animationDelay=n.config.chart.animations.speed/940+"s"),this.sliceLabels.push(F)}}}return l}},{key:"addListeners",value:function(e,t){var n=new Ye(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var n=this.w,a=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,s=a,i=t.startAngle,l=t.startAngle;t.prevStartAngle!==void 0&&t.prevEndAngle!==void 0&&(i=t.prevEndAngle,s=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===n.config.series.length-1&&(a+l>this.fullAngle?t.endAngle=t.endAngle-(a+l):a+l<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(a+l)))),a===this.fullAngle&&(a=this.fullAngle-.01),this.animateArc(e,i,l,a,s,t)}},{key:"animateArc",value:function(e,t,n,a,s,i){var l,c=this,d=this.w,u=new ph(this.ctx),h=i.size;(isNaN(t)||isNaN(s))&&(t=n,s=a,i.dur=0);var f=a,p=n,m=t<n?this.fullAngle+t-n:t-n;d.globals.dataChanged&&i.shouldSetPrevPaths&&i.prevEndAngle&&(l=c.getPiePath({me:c,startAngle:i.prevStartAngle,angle:i.prevEndAngle<i.prevStartAngle?this.fullAngle+i.prevEndAngle-i.prevStartAngle:i.prevEndAngle-i.prevStartAngle,size:h}),e.attr({d:l})),i.dur!==0?e.animate(i.dur,i.animBeginArr[i.i]).after(function(){c.chartType!=="pie"&&c.chartType!=="donut"&&c.chartType!=="polarArea"||this.animate(d.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":c.strokeWidth}),i.i===d.config.series.length-1&&u.animationCompleted(e)}).during(function(g){f=m+(a-m)*g,i.animateStartingPos&&(f=s+(a-s)*g,p=t-s+(n-(t-s))*g),l=c.getPiePath({me:c,startAngle:p,angle:f,size:h}),e.node.setAttribute("data:pathOrig",l),e.attr({d:l})}):(l=c.getPiePath({me:c,startAngle:p,angle:a,size:h}),i.isTrack||(d.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",l),e.attr({d:l,"stroke-width":c.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,n=this.w,a=this,s=a.sliceSizes[e]+(n.config.plotOptions.pie.expandOnClick?4:0),i=n.globals.dom.Paper.findOne(".apexcharts-".concat(a.chartType.toLowerCase(),"-slice-").concat(e));if(i.attr("data:pieClicked")!=="true"){var l=n.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(l,function(h){h.setAttribute("data:pieClicked","false");var f=h.getAttribute("data:pathOrig");f&&h.setAttribute("d",f)}),n.globals.capturedDataPointIndex=e,i.attr("data:pieClicked","true");var c=parseInt(i.attr("data:startAngle"),10),d=parseInt(i.attr("data:angle"),10);t=a.getPiePath({me:a,startAngle:c,angle:d,size:s}),d!==360&&i.plot(t)}else{i.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(i.node,this.donutDataLabels);var u=i.attr("data:pathOrig");i.attr({d:u})}}},{key:"getChangedPath",value:function(e,t){var n="";return this.dynamicAnim&&this.w.globals.dataChanged&&(n=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),n}},{key:"getPiePath",value:function(e){var t,n=e.me,a=e.startAngle,s=e.angle,i=e.size,l=new Ye(this.ctx),c=a,d=Math.PI*(c-90)/180,u=s+a;Math.ceil(u)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(u=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(u)>this.fullAngle&&(u-=this.fullAngle);var h=Math.PI*(u-90)/180,f=n.centerX+i*Math.cos(d),p=n.centerY+i*Math.sin(d),m=n.centerX+i*Math.cos(h),g=n.centerY+i*Math.sin(h),v=xe.polarToCartesian(n.centerX,n.centerY,n.donutSize,u),x=xe.polarToCartesian(n.centerX,n.centerY,n.donutSize,c),b=s>180?1:0,y=["M",f,p,"A",i,i,0,b,1,m,g];return t=n.chartType==="donut"?[].concat(y,["L",v.x,v.y,"A",n.donutSize,n.donutSize,0,b,0,x.x,x.y,"L",f,p,"z"]).join(" "):n.chartType==="pie"||n.chartType==="polarArea"?[].concat(y,["L",n.centerX,n.centerY,"L",f,p]).join(" "):[].concat(y).join(" "),l.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,n=new mE(this.ctx),a=new Ye(this.ctx),s=new kE(this.ctx),i=a.group(),l=a.group(),c=n.niceScale(0,Math.ceil(this.maxY),0),d=c.result.reverse(),u=c.result.length;this.maxY=c.niceMax;for(var h=t.globals.radialSize,f=h/(u-1),p=0;p<u-1;p++){var m=a.drawCircle(h);if(m.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var g=s.drawYAxisTexts(this.centerX,this.centerY-h+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,p,d[p]);l.add(g)}i.add(m),h-=f}this.drawSpokes(e),e.add(i),e.add(l)}},{key:"renderInnerDataLabels",value:function(e,t,n){var a=this.w,s=new Ye(this.ctx),i=t.total.show;e.node.innerHTML="",e.node.style.opacity=n.opacity;var l,c,d=n.centerX,u=this.donutDataLabels.total.label?n.centerY:n.centerY-n.centerY/6;l=t.name.color===void 0?a.globals.colors[0]:t.name.color;var h=t.name.fontSize,f=t.name.fontFamily,p=t.name.fontWeight;c=t.value.color===void 0?a.config.chart.foreColor:t.value.color;var m=t.value.formatter,g="",v="";if(i?(l=t.total.color,h=t.total.fontSize,f=t.total.fontFamily,p=t.total.fontWeight,v=this.donutDataLabels.total.label?t.total.label:"",g=t.total.formatter(a)):a.globals.series.length===1&&(g=m(a.globals.series[0],a),v=a.globals.seriesNames[0]),v&&(v=t.name.formatter(v,t.total.show,a)),t.name.show){var x=s.drawText({x:d,y:u+parseFloat(t.name.offsetY),text:v,textAnchor:"middle",foreColor:l,fontSize:h,fontWeight:p,fontFamily:f});x.node.classList.add("apexcharts-datalabel-label"),e.add(x)}if(t.value.show){var b=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,y=s.drawText({x:d,y:u+b,text:g,textAnchor:"middle",foreColor:c,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});y.node.classList.add("apexcharts-datalabel-value"),e.add(y)}return e}},{key:"printInnerLabels",value:function(e,t,n,a){var s,i=this.w;a?s=e.name.color===void 0?i.globals.colors[parseInt(a.parentNode.getAttribute("rel"),10)-1]:e.name.color:i.globals.series.length>1&&e.total.show&&(s=e.total.color);var l=i.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),c=i.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");n=(0,e.value.formatter)(n,i),a||typeof e.total.formatter!="function"||(n=e.total.formatter(i));var d=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,d,i):"",l!==null&&(l.textContent=t),c!==null&&(c.textContent=n),l!==null&&(l.style.fill=s)}},{key:"printDataLabelsInner",value:function(e,t){var n=this.w,a=e.getAttribute("data:value"),s=n.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];n.globals.series.length>1&&this.printInnerLabels(t,s,a,e);var i=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");i!==null&&(i.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,n=this.w,a=new Ye(this.ctx),s=n.config.plotOptions.polarArea.spokes;if(s.strokeWidth!==0){for(var i=[],l=360/n.globals.series.length,c=0;c<n.globals.series.length;c++)i.push(xe.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize,n.config.plotOptions.pie.startAngle+l*c));i.forEach(function(d,u){var h=a.drawLine(d.x,d.y,t.centerX,t.centerY,Array.isArray(s.connectorColors)?s.connectorColors[u]:s.connectorColors);e.add(h)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),n=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(n)}}}]),r}(),KV=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new Ye(this.ctx),this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.logBase=t.config.yaxis[0].logBase,this.coreUtils=new hn(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),t.config.plotOptions.radar.size!==void 0&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return yt(r,[{key:"draw",value:function(e){var t=this,n=this.w,a=new ji(this.ctx),s=[],i=new Xu(this.ctx);e.length&&(this.dataPointsLen=e[n.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var l=n.globals.gridWidth/2,c=n.globals.gridHeight/2,d=l+n.config.plotOptions.radar.offsetX,u=c+n.config.plotOptions.radar.offsetY,h=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(d||0,", ").concat(u||0,")")}),f=[],p=null,m=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(v,x){var b=v.length===n.globals.dataPoints,y=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":b,seriesName:xe.escapeString(n.globals.seriesNames[x]),rel:x+1,"data:realIndex":x});t.dataRadiusOfPercent[x]=[],t.dataRadius[x]=[],t.angleArr[x]=[],v.forEach(function(O,I){var B=Math.abs(t.maxValue-t.minValue);O-=t.minValue,t.isLog&&(O=t.coreUtils.getLogVal(t.logBase,O,0)),t.dataRadiusOfPercent[x][I]=O/B,t.dataRadius[x][I]=t.dataRadiusOfPercent[x][I]*t.size,t.angleArr[x][I]=I*t.disAngle}),f=t.getDataPointsPos(t.dataRadius[x],t.angleArr[x]);var C=t.createPaths(f,{x:0,y:0});p=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),m=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":x}),n.globals.delayedElements.push({el:p.node,index:x});var S={i:x,realIndex:x,animationDelay:x,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:n.globals.stroke.colors[x],strokeLineCap:n.config.stroke.lineCap},_=null;n.globals.previousPaths.length>0&&(_=t.getPreviousPath(x));for(var E=0;E<C.linePathsTo.length;E++){var A=t.graphics.renderPaths(ct(ct({},S),{},{pathFrom:_===null?C.linePathsFrom[E]:_,pathTo:C.linePathsTo[E],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[x]:t.strokeWidth,fill:"none",drawShadow:!1}));y.add(A);var T=a.fillPath({seriesNumber:x}),F=t.graphics.renderPaths(ct(ct({},S),{},{pathFrom:_===null?C.areaPathsFrom[E]:_,pathTo:C.areaPathsTo[E],strokeWidth:0,fill:T,drawShadow:!1}));if(n.config.chart.dropShadow.enabled){var L=new sa(t.ctx),D=n.config.chart.dropShadow;L.dropShadow(F,Object.assign({},D,{noUserSpaceOnUse:!0}),x)}y.add(F)}v.forEach(function(O,I){var B=new vh(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:x,dataPointIndex:I}),z=t.graphics.drawMarker(f[I].x,f[I].y,B);z.attr("rel",I),z.attr("j",I),z.attr("index",x),z.node.setAttribute("default-marker-size",B.pSize);var V=t.graphics.group({class:"apexcharts-series-markers"});V&&V.add(z),p.add(V),y.add(p);var W=n.config.dataLabels;if(W.enabled){var Y=W.formatter(n.globals.series[x][I],{seriesIndex:x,dataPointIndex:I,w:n});i.plotDataLabelsText({x:f[I].x,y:f[I].y,text:Y,textAnchor:"middle",i:x,j:x,parent:m,offsetCorrection:!1,dataLabelsConfig:ct({},W)})}y.add(m)}),s.push(y)}),this.drawPolygons({parent:h}),n.config.xaxis.labels.show){var g=this.drawXAxisTexts();h.add(g)}return s.forEach(function(v){h.add(v)}),h.add(this.yaxisLabels),h}},{key:"drawPolygons",value:function(e){for(var t=this,n=this.w,a=e.parent,s=new kE(this.ctx),i=n.globals.yAxisScale[0].result.reverse(),l=i.length,c=[],d=this.size/(l-1),u=0;u<l;u++)c[u]=d*u;c.reverse();var h=[],f=[];c.forEach(function(p,m){var g=xe.getPolygonPos(p,t.dataPointsLen),v="";g.forEach(function(x,b){if(m===0){var y=t.graphics.drawLine(x.x,x.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[b]:t.polygons.connectorColors);f.push(y)}b===0&&t.yaxisLabelsTextsPos.push({x:x.x,y:x.y}),v+=x.x+","+x.y+" "}),h.push(v)}),h.forEach(function(p,m){var g=t.polygons.strokeColors,v=t.polygons.strokeWidth,x=t.graphics.drawPolygon(p,Array.isArray(g)?g[m]:g,Array.isArray(v)?v[m]:v,n.globals.radarPolygons.fill.colors[m]);a.add(x)}),f.forEach(function(p){a.add(p)}),n.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(p,m){var g=s.drawYAxisTexts(p.x,p.y,m,i[m]);t.yaxisLabels.add(g)})}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,n=t.config.xaxis.labels,a=this.graphics.group({class:"apexcharts-xaxis"}),s=xe.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(i,l){var c=t.config.xaxis.labels.formatter,d=new Xu(e.ctx);if(s[l]){var u=e.getTextPos(s[l],e.size),h=c(i,{seriesIndex:-1,dataPointIndex:l,w:t});d.plotDataLabelsText({x:u.newX,y:u.newY,text:h,textAnchor:u.textAnchor,i:l,j:l,parent:a,className:"apexcharts-xaxis-label",color:Array.isArray(n.style.colors)&&n.style.colors[l]?n.style.colors[l]:"#a8a8a8",dataLabelsConfig:ct({textAnchor:u.textAnchor,dropShadow:{enabled:!1}},n),offsetCorrection:!1}).on("click",function(f){if(typeof t.config.chart.events.xAxisLabelClick=="function"){var p=Object.assign({},t,{labelIndex:l});t.config.chart.events.xAxisLabelClick(f,e.ctx,p)}})}}),a}},{key:"createPaths",value:function(e,t){var n=this,a=[],s=[],i=[],l=[];if(e.length){s=[this.graphics.move(t.x,t.y)],l=[this.graphics.move(t.x,t.y)];var c=this.graphics.move(e[0].x,e[0].y),d=this.graphics.move(e[0].x,e[0].y);e.forEach(function(u,h){c+=n.graphics.line(u.x,u.y),d+=n.graphics.line(u.x,u.y),h===e.length-1&&(c+="Z",d+="Z")}),a.push(c),i.push(d)}return{linePathsFrom:s,linePathsTo:a,areaPathsFrom:l,areaPathsTo:i}}},{key:"getTextPos",value:function(e,t){var n="middle",a=e.x,s=e.y;return Math.abs(e.x)>=10?e.x>0?(n="start",a+=10):e.x<0&&(n="end",a-=10):n="middle",Math.abs(e.y)>=t-10&&(e.y<0?s-=10:e.y>0&&(s+=10)),{textAnchor:n,newX:a,newY:s}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,n=null,a=0;a<t.globals.previousPaths.length;a++){var s=t.globals.previousPaths[a];s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(e,10)&&t.globals.previousPaths[a].paths[0]!==void 0&&(n=t.globals.previousPaths[a].paths[0].d)}return n}},{key:"getDataPointsPos",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var a=[],s=0;s<n;s++){var i={};i.x=e[s]*Math.sin(t[s]),i.y=-e[s]*Math.cos(t[s]),a.push(i)}return a}}]),r}(),QV=function(r){zp(t,CE);var e=Bp(t);function t(n){var a;bt(this,t),(a=e.call(this,n)).ctx=n,a.w=n.w,a.animBeginArr=[0],a.animDur=0;var s=a.w;return a.startAngle=s.config.plotOptions.radialBar.startAngle,a.endAngle=s.config.plotOptions.radialBar.endAngle,a.totalAngle=Math.abs(s.config.plotOptions.radialBar.endAngle-s.config.plotOptions.radialBar.startAngle),a.trackStartAngle=s.config.plotOptions.radialBar.track.startAngle,a.trackEndAngle=s.config.plotOptions.radialBar.track.endAngle,a.barLabels=a.w.config.plotOptions.radialBar.barLabels,a.donutDataLabels=a.w.config.plotOptions.radialBar.dataLabels,a.radialDataLabels=a.donutDataLabels,a.trackStartAngle||(a.trackStartAngle=a.startAngle),a.trackEndAngle||(a.trackEndAngle=a.endAngle),a.endAngle===360&&(a.endAngle=359.99),a.margin=parseInt(s.config.plotOptions.radialBar.track.margin,10),a.onBarLabelClick=a.onBarLabelClick.bind(TN(a)),a}return yt(t,[{key:"draw",value:function(n){var a=this.w,s=new Ye(this.ctx),i=s.group({class:"apexcharts-radialbar"});if(a.globals.noData)return i;var l=s.group(),c=this.defaultSize/2,d=a.globals.gridWidth/2,u=this.defaultSize/2.05;a.config.chart.sparkline.enabled||(u=u-a.config.stroke.width-a.config.chart.dropShadow.blur);var h=a.globals.fill.colors;if(a.config.plotOptions.radialBar.track.show){var f=this.drawTracks({size:u,centerX:d,centerY:c,colorArr:h,series:n});l.add(f)}var p=this.drawArcs({size:u,centerX:d,centerY:c,colorArr:h,series:n}),m=360;a.config.plotOptions.radialBar.startAngle<0&&(m=this.totalAngle);var g=(360-m)/360;if(a.globals.radialSize=u-u*g,this.radialDataLabels.value.show){var v=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);a.globals.radialSize+=v*g}return l.add(p.g),a.config.plotOptions.radialBar.hollow.position==="front"&&(p.g.add(p.elHollow),p.dataLabels&&p.g.add(p.dataLabels)),i.add(l),i}},{key:"drawTracks",value:function(n){var a=this.w,s=new Ye(this.ctx),i=s.group({class:"apexcharts-tracks"}),l=new sa(this.ctx),c=new ji(this.ctx),d=this.getStrokeWidth(n);n.size=n.size-d/2;for(var u=0;u<n.series.length;u++){var h=s.group({class:"apexcharts-radialbar-track apexcharts-track"});i.add(h),h.attr({rel:u+1}),n.size=n.size-d-this.margin;var f=a.config.plotOptions.radialBar.track,p=c.fillPath({seriesNumber:0,size:n.size,fillColors:Array.isArray(f.background)?f.background[u]:f.background,solid:!0}),m=this.trackStartAngle,g=this.trackEndAngle;Math.abs(g)+Math.abs(m)>=360&&(g=360-Math.abs(this.startAngle)-.1);var v=s.drawPath({d:"",stroke:p,strokeWidth:d*parseInt(f.strokeWidth,10)/100,fill:"none",strokeOpacity:f.opacity,classes:"apexcharts-radialbar-area"});if(f.dropShadow.enabled){var x=f.dropShadow;l.dropShadow(v,x)}h.add(v),v.attr("id","apexcharts-radialbarTrack-"+u),this.animatePaths(v,{centerX:n.centerX,centerY:n.centerY,endAngle:g,startAngle:m,size:n.size,i:u,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return i}},{key:"drawArcs",value:function(n){var a=this.w,s=new Ye(this.ctx),i=new ji(this.ctx),l=new sa(this.ctx),c=s.group(),d=this.getStrokeWidth(n);n.size=n.size-d/2;var u=a.config.plotOptions.radialBar.hollow.background,h=n.size-d*n.series.length-this.margin*n.series.length-d*parseInt(a.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,f=h-a.config.plotOptions.radialBar.hollow.margin;a.config.plotOptions.radialBar.hollow.image!==void 0&&(u=this.drawHollowImage(n,c,h,u));var p=this.drawHollow({size:f,centerX:n.centerX,centerY:n.centerY,fill:u||"transparent"});if(a.config.plotOptions.radialBar.hollow.dropShadow.enabled){var m=a.config.plotOptions.radialBar.hollow.dropShadow;l.dropShadow(p,m)}var g=1;!this.radialDataLabels.total.show&&a.globals.series.length>1&&(g=0);var v=null;if(this.radialDataLabels.show){var x=a.globals.dom.Paper.findOne(".apexcharts-datalabels-group");v=this.renderInnerDataLabels(x,this.radialDataLabels,{hollowSize:h,centerX:n.centerX,centerY:n.centerY,opacity:g})}a.config.plotOptions.radialBar.hollow.position==="back"&&(c.add(p),v&&c.add(v));var b=!1;a.config.plotOptions.radialBar.inverseOrder&&(b=!0);for(var y=b?n.series.length-1:0;b?y>=0:y<n.series.length;b?y--:y++){var C=s.group({class:"apexcharts-series apexcharts-radial-series",seriesName:xe.escapeString(a.globals.seriesNames[y])});c.add(C),C.attr({rel:y+1,"data:realIndex":y}),this.ctx.series.addCollapsedClassToSeries(C,y),n.size=n.size-d-this.margin;var S=i.fillPath({seriesNumber:y,size:n.size,value:n.series[y]}),_=this.startAngle,E=void 0,A=xe.negToZero(n.series[y]>100?100:n.series[y])/100,T=Math.round(this.totalAngle*A)+this.startAngle,F=void 0;a.globals.dataChanged&&(E=this.startAngle,F=Math.round(this.totalAngle*xe.negToZero(a.globals.previousPaths[y])/100)+E),Math.abs(T)+Math.abs(_)>360&&(T-=.01),Math.abs(F)+Math.abs(E)>360&&(F-=.01);var L=T-_,D=Array.isArray(a.config.stroke.dashArray)?a.config.stroke.dashArray[y]:a.config.stroke.dashArray,O=s.drawPath({d:"",stroke:S,strokeWidth:d,fill:"none",fillOpacity:a.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+y,strokeDashArray:D});if(Ye.setAttrs(O.node,{"data:angle":L,"data:value":n.series[y]}),a.config.chart.dropShadow.enabled){var I=a.config.chart.dropShadow;l.dropShadow(O,I,y)}if(l.setSelectionFilter(O,0,y),this.addListeners(O,this.radialDataLabels),C.add(O),O.attr({index:0,j:y}),this.barLabels.enabled){var B=xe.polarToCartesian(n.centerX,n.centerY,n.size,_),z=this.barLabels.formatter(a.globals.seriesNames[y],{seriesIndex:y,w:a}),V=["apexcharts-radialbar-label"];this.barLabels.onClick||V.push("apexcharts-no-click");var W=this.barLabels.useSeriesColors?a.globals.colors[y]:a.config.chart.foreColor;W||(W=a.config.chart.foreColor);var Y=B.x+this.barLabels.offsetX,G=B.y+this.barLabels.offsetY,q=s.drawText({x:Y,y:G,text:z,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:W,cssClass:V.join(" ")});q.on("click",this.onBarLabelClick),q.attr({rel:y+1}),_!==0&&q.attr({"transform-origin":"".concat(Y," ").concat(G),transform:"rotate(".concat(_," 0 0)")}),C.add(q)}var M=0;!this.initialAnim||a.globals.resized||a.globals.dataChanged||(M=a.config.chart.animations.speed),a.globals.dataChanged&&(M=a.config.chart.animations.dynamicAnimation.speed),this.animDur=M/(1.2*n.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(O,{centerX:n.centerX,centerY:n.centerY,endAngle:T,startAngle:_,prevEndAngle:F,prevStartAngle:E,size:n.size,i:y,totalItems:2,animBeginArr:this.animBeginArr,dur:M,shouldSetPrevPaths:!0})}return{g:c,elHollow:p,dataLabels:v}}},{key:"drawHollow",value:function(n){var a=new Ye(this.ctx).drawCircle(2*n.size);return a.attr({class:"apexcharts-radialbar-hollow",cx:n.centerX,cy:n.centerY,r:n.size,fill:n.fill}),a}},{key:"drawHollowImage",value:function(n,a,s,i){var l=this.w,c=new ji(this.ctx),d=xe.randomId(),u=l.config.plotOptions.radialBar.hollow.image;if(l.config.plotOptions.radialBar.hollow.imageClipped)c.clippedImgArea({width:s,height:s,image:u,patternID:"pattern".concat(l.globals.cuid).concat(d)}),i="url(#pattern".concat(l.globals.cuid).concat(d,")");else{var h=l.config.plotOptions.radialBar.hollow.imageWidth,f=l.config.plotOptions.radialBar.hollow.imageHeight;if(h===void 0&&f===void 0){var p=l.globals.dom.Paper.image(u,function(g){this.move(n.centerX-g.width/2+l.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-g.height/2+l.config.plotOptions.radialBar.hollow.imageOffsetY)});a.add(p)}else{var m=l.globals.dom.Paper.image(u,function(g){this.move(n.centerX-h/2+l.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-f/2+l.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(h,f)});a.add(m)}}return i}},{key:"getStrokeWidth",value:function(n){var a=this.w;return n.size*(100-parseInt(a.config.plotOptions.radialBar.hollow.size,10))/100/(n.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(n){var a=parseInt(n.target.getAttribute("rel"),10)-1,s=this.barLabels.onClick,i=this.w;s&&s(i.globals.seriesNames[a],{w:i,seriesIndex:a})}}]),t}(),e$=function(r){zp(t,Zu);var e=Bp(t);function t(){return bt(this,t),e.apply(this,arguments)}return yt(t,[{key:"draw",value:function(n,a){var s=this.w,i=new Ye(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=n,this.seriesRangeStart=s.globals.seriesRangeStart,this.seriesRangeEnd=s.globals.seriesRangeEnd,this.barHelpers.initVariables(n);for(var l=i.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),c=0;c<n.length;c++){var d,u,h,f,p=void 0,m=void 0,g=s.globals.comboCharts?a[c]:c,v=this.barHelpers.getGroupIndex(g).columnGroupIndex,x=i.group({class:"apexcharts-series",seriesName:xe.escapeString(s.globals.seriesNames[g]),rel:c+1,"data:realIndex":g});this.ctx.series.addCollapsedClassToSeries(x,g),n[c].length>0&&(this.visibleI=this.visibleI+1);var b=0,y=0,C=0;this.yRatio.length>1&&(this.yaxisIndex=s.globals.seriesYAxisReverseMap[g][0],C=g);var S=this.barHelpers.initialPositions(g);m=S.y,f=S.zeroW,p=S.x,y=S.barWidth,b=S.barHeight,d=S.xDivision,u=S.yDivision,h=S.zeroH;for(var _=i.group({class:"apexcharts-datalabels","data:realIndex":g}),E=i.group({class:"apexcharts-rangebar-goals-markers"}),A=0;A<s.globals.dataPoints;A++){var T=this.barHelpers.getStrokeWidth(c,A,g),F=this.seriesRangeStart[c][A],L=this.seriesRangeEnd[c][A],D=null,O=null,I=null,B={x:p,y:m,strokeWidth:T,elSeries:x},z=this.seriesLen;if(s.config.plotOptions.bar.rangeBarGroupRows&&(z=1),s.config.series[c].data[A]===void 0)break;if(this.isHorizontal){I=m+b*this.visibleI;var V=(u-b*z)/2;if(s.config.series[c].data[A].x){var W=this.detectOverlappingBars({i:c,j:A,barYPosition:I,srty:V,barHeight:b,yDivision:u,initPositions:S});b=W.barHeight,I=W.barYPosition}y=(D=this.drawRangeBarPaths(ct({indexes:{i:c,j:A,realIndex:g},barHeight:b,barYPosition:I,zeroW:f,yDivision:u,y1:F,y2:L},B))).barWidth}else{s.globals.isXNumeric&&(p=(s.globals.seriesX[c][A]-s.globals.minX)/this.xRatio-y/2),O=p+y*this.visibleI;var Y=(d-y*z)/2;if(s.config.series[c].data[A].x){var G=this.detectOverlappingBars({i:c,j:A,barXPosition:O,srtx:Y,barWidth:y,xDivision:d,initPositions:S});y=G.barWidth,O=G.barXPosition}b=(D=this.drawRangeColumnPaths(ct({indexes:{i:c,j:A,realIndex:g,translationsIndex:C},barWidth:y,barXPosition:O,zeroH:h,xDivision:d},B))).barHeight}var q=this.barHelpers.drawGoalLine({barXPosition:D.barXPosition,barYPosition:I,goalX:D.goalX,goalY:D.goalY,barHeight:b,barWidth:y});q&&E.add(q),m=D.y,p=D.x;var M=this.barHelpers.getPathFillColor(n,c,A,g);this.renderSeries({realIndex:g,pathFill:M.color,lineFill:M.useRangeColor?M.color:s.globals.stroke.colors[g],j:A,i:c,x:p,y:m,y1:F,y2:L,pathFrom:D.pathFrom,pathTo:D.pathTo,strokeWidth:T,elSeries:x,series:n,barHeight:b,barWidth:y,barXPosition:O,barYPosition:I,columnGroupIndex:v,elDataLabelsWrap:_,elGoalsMarkers:E,visibleSeries:this.visibleI,type:"rangebar"})}l.add(x)}return l}},{key:"detectOverlappingBars",value:function(n){var a=n.i,s=n.j,i=n.barYPosition,l=n.barXPosition,c=n.srty,d=n.srtx,u=n.barHeight,h=n.barWidth,f=n.yDivision,p=n.xDivision,m=n.initPositions,g=this.w,v=[],x=g.config.series[a].data[s].rangeName,b=g.config.series[a].data[s].x,y=Array.isArray(b)?b.join(" "):b,C=g.globals.labels.map(function(_){return Array.isArray(_)?_.join(" "):_}).indexOf(y),S=g.globals.seriesRange[a].findIndex(function(_){return _.x===y&&_.overlaps.length>0});return this.isHorizontal?(i=g.config.plotOptions.bar.rangeBarGroupRows?c+f*C:c+u*this.visibleI+f*C,S>-1&&!g.config.plotOptions.bar.rangeBarOverlap&&(v=g.globals.seriesRange[a][S].overlaps).indexOf(x)>-1&&(i=(u=m.barHeight/v.length)*this.visibleI+f*(100-parseInt(this.barOptions.barHeight,10))/100/2+u*(this.visibleI+v.indexOf(x))+f*C)):(C>-1&&!g.globals.timescaleLabels.length&&(l=g.config.plotOptions.bar.rangeBarGroupRows?d+p*C:d+h*this.visibleI+p*C),S>-1&&!g.config.plotOptions.bar.rangeBarOverlap&&(v=g.globals.seriesRange[a][S].overlaps).indexOf(x)>-1&&(l=(h=m.barWidth/v.length)*this.visibleI+p*(100-parseInt(this.barOptions.barWidth,10))/100/2+h*(this.visibleI+v.indexOf(x))+p*C)),{barYPosition:i,barXPosition:l,barHeight:u,barWidth:h}}},{key:"drawRangeColumnPaths",value:function(n){var a=n.indexes,s=n.x,i=n.xDivision,l=n.barWidth,c=n.barXPosition,d=n.zeroH,u=this.w,h=a.i,f=a.j,p=a.realIndex,m=a.translationsIndex,g=this.yRatio[m],v=this.getRangeValue(p,f),x=Math.min(v.start,v.end),b=Math.max(v.start,v.end);this.series[h][f]===void 0||this.series[h][f]===null?x=d:(x=d-x/g,b=d-b/g);var y=Math.abs(b-x),C=this.barHelpers.getColumnPaths({barXPosition:c,barWidth:l,y1:x,y2:b,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:p,i:p,j:f,w:u});if(u.globals.isXNumeric){var S=this.getBarXForNumericXAxis({x:s,j:f,realIndex:p,barWidth:l});s=S.x,c=S.barXPosition}else s+=i;return{pathTo:C.pathTo,pathFrom:C.pathFrom,barHeight:y,x:s,y:v.start<0&&v.end<0?x:b,goalY:this.barHelpers.getGoalValues("y",null,d,h,f,m),barXPosition:c}}},{key:"preventBarOverflow",value:function(n){var a=this.w;return n<0&&(n=0),n>a.globals.gridWidth&&(n=a.globals.gridWidth),n}},{key:"drawRangeBarPaths",value:function(n){var a=n.indexes,s=n.y,i=n.y1,l=n.y2,c=n.yDivision,d=n.barHeight,u=n.barYPosition,h=n.zeroW,f=this.w,p=a.realIndex,m=a.j,g=this.preventBarOverflow(h+i/this.invertedYRatio),v=this.preventBarOverflow(h+l/this.invertedYRatio),x=this.getRangeValue(p,m),b=Math.abs(v-g),y=this.barHelpers.getBarpaths({barYPosition:u,barHeight:d,x1:g,x2:v,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:p,realIndex:p,j:m,w:f});return f.globals.isXNumeric||(s+=c),{pathTo:y.pathTo,pathFrom:y.pathFrom,barWidth:b,x:x.start<0&&x.end<0?g:v,goalX:this.barHelpers.getGoalValues("x",h,null,p,m),y:s}}},{key:"getRangeValue",value:function(n,a){var s=this.w;return{start:s.globals.seriesRangeStart[n][a],end:s.globals.seriesRangeEnd[n][a]}}}]),t}(),t$=function(){function r(e){bt(this,r),this.w=e.w,this.lineCtx=e}return yt(r,[{key:"sameValueSeriesFix",value:function(e,t){var n=this.w;if((n.config.fill.type==="gradient"||n.config.fill.type[e]==="gradient")&&new hn(this.lineCtx.ctx,n).seriesHaveSameValues(e)){var a=t[e].slice();a[a.length-1]=a[a.length-1]+1e-6,t[e]=a}return t}},{key:"calculatePoints",value:function(e){var t=e.series,n=e.realIndex,a=e.x,s=e.y,i=e.i,l=e.j,c=e.prevY,d=this.w,u=[],h=[],f=this.lineCtx.categoryAxisCorrection+d.config.markers.offsetX;return d.globals.isXNumeric&&(f=(d.globals.seriesX[n][0]-d.globals.minX)/this.lineCtx.xRatio+d.config.markers.offsetX),l===0&&(u.push(f),h.push(xe.isNumber(t[i][0])?c+d.config.markers.offsetY:null)),u.push(a+d.config.markers.offsetX),h.push(xe.isNumber(t[i][l+1])?s+d.config.markers.offsetY:null),{x:u,y:h}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,n=e.pathFromArea,a=e.realIndex,s=this.w,i=0;i<s.globals.previousPaths.length;i++){var l=s.globals.previousPaths[i];(l.type==="line"||l.type==="area")&&l.paths.length>0&&parseInt(l.realIndex,10)===parseInt(a,10)&&(l.type==="line"?(this.lineCtx.appendPathFrom=!1,t=s.globals.previousPaths[i].paths[0].d):l.type==="area"&&(this.lineCtx.appendPathFrom=!1,n=s.globals.previousPaths[i].paths[0].d,s.config.stroke.show&&s.globals.previousPaths[i].paths[1]&&(t=s.globals.previousPaths[i].paths[1].d)))}return{pathFromLine:t,pathFromArea:n}}},{key:"determineFirstPrevY",value:function(e){var t,n,a,s=e.i,i=e.realIndex,l=e.series,c=e.prevY,d=e.lineYPosition,u=e.translationsIndex,h=this.w,f=h.config.chart.stacked&&!h.globals.comboCharts||h.config.chart.stacked&&h.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[i])===null||t===void 0?void 0:t.type)==="bar"||((n=this.w.config.series[i])===null||n===void 0?void 0:n.type)==="column");if(((a=l[s])===null||a===void 0?void 0:a[0])!==void 0)c=(d=f&&s>0?this.lineCtx.prevSeriesY[s-1][0]:this.lineCtx.zeroY)-l[s][0]/this.lineCtx.yRatio[u]+2*(this.lineCtx.isReversed?l[s][0]/this.lineCtx.yRatio[u]:0);else if(f&&s>0&&l[s][0]===void 0){for(var p=s-1;p>=0;p--)if(l[p][0]!==null&&l[p][0]!==void 0){c=d=this.lineCtx.prevSeriesY[p][0];break}}return{prevY:c,lineYPosition:d}}}]),r}(),r$=function(r){for(var e,t,n,a,s=function(u){for(var h=[],f=u[0],p=u[1],m=h[0]=hb(f,p),g=1,v=u.length-1;g<v;g++)f=p,p=u[g+1],h[g]=.5*(m+(m=hb(f,p)));return h[g]=m,h}(r),i=r.length-1,l=[],c=0;c<i;c++)n=hb(r[c],r[c+1]),Math.abs(n)<1e-6?s[c]=s[c+1]=0:(a=(e=s[c]/n)*e+(t=s[c+1]/n)*t)>9&&(a=3*n/Math.sqrt(a),s[c]=a*e,s[c+1]=a*t);for(var d=0;d<=i;d++)a=(r[Math.min(i,d+1)][0]-r[Math.max(0,d-1)][0])/(6*(1+s[d]*s[d])),l.push([a||0,s[d]*a||0]);return l},n$=function(r){var e=r$(r),t=r[1],n=r[0],a=[],s=e[1],i=e[0];a.push(n,[n[0]+i[0],n[1]+i[1],t[0]-s[0],t[1]-s[1],t[0],t[1]]);for(var l=2,c=e.length;l<c;l++){var d=r[l],u=e[l];a.push([d[0]-u[0],d[1]-u[1],d[0],d[1]])}return a},a$=function(r,e,t){var n=r.slice(e,t);if(e){if(t-e>1&&n[1].length<6){var a=n[0].length;n[1]=[2*n[0][a-2]-n[0][a-4],2*n[0][a-1]-n[0][a-3]].concat(n[1])}n[0]=n[0].slice(-2)}return n};function hb(r,e){return(e[1]-r[1])/(e[0]-r[0])}var fb=function(){function r(e,t,n){bt(this,r),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||n,this.scatter=new pE(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new t$(this),this.markers=new vh(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return yt(r,[{key:"draw",value:function(e,t,n,a){var s,i=this.w,l=new Ye(this.ctx),c=i.globals.comboCharts?t:i.config.chart.type,d=l.group({class:"apexcharts-".concat(c,"-series apexcharts-plot-series")}),u=new hn(this.ctx,i);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=u.getLogSeries(e),this.yRatio=u.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var h=[],f=0;f<e.length;f++){e=this.lineHelpers.sameValueSeriesFix(f,e);var p=i.globals.comboCharts?n[f]:f,m=this.yRatio.length>1?p:0;this._initSerieVariables(e,f,p);var g=[],v=[],x=[],b=i.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,p),i.globals.isXNumeric&&i.globals.seriesX.length>0&&(b=(i.globals.seriesX[p][0]-i.globals.minX)/this.xRatio),x.push(b);var y,C=b,S=void 0,_=C,E=this.zeroY,A=this.zeroY;E=this.lineHelpers.determineFirstPrevY({i:f,realIndex:p,series:e,prevY:E,lineYPosition:0,translationsIndex:m}).prevY,i.config.stroke.curve==="monotoneCubic"&&e[f][0]===null?g.push(null):g.push(E),y=E,c==="rangeArea"&&(S=A=this.lineHelpers.determineFirstPrevY({i:f,realIndex:p,series:a,prevY:A,lineYPosition:0,translationsIndex:m}).prevY,v.push(g[0]!==null?A:null));var T=this._calculatePathsFrom({type:c,series:e,i:f,realIndex:p,translationsIndex:m,prevX:_,prevY:E,prevY2:A}),F=[g[0]],L=[v[0]],D={type:c,series:e,realIndex:p,translationsIndex:m,i:f,x:b,y:1,pX:C,pY:y,pathsFrom:T,linePaths:[],areaPaths:[],seriesIndex:n,lineYPosition:0,xArrj:x,yArrj:g,y2Arrj:v,seriesRangeEnd:a},O=this._iterateOverDataPoints(ct(ct({},D),{},{iterations:c==="rangeArea"?e[f].length-1:void 0,isRangeStart:!0}));if(c==="rangeArea"){for(var I=this._calculatePathsFrom({series:a,i:f,realIndex:p,prevX:_,prevY:A}),B=this._iterateOverDataPoints(ct(ct({},D),{},{series:a,xArrj:[b],yArrj:F,y2Arrj:L,pY:S,areaPaths:O.areaPaths,pathsFrom:I,iterations:a[f].length-1,isRangeStart:!1})),z=O.linePaths.length/2,V=0;V<z;V++)O.linePaths[V]=B.linePaths[V+z]+O.linePaths[V];O.linePaths.splice(z),O.pathFromLine=B.pathFromLine+O.pathFromLine}else O.pathFromArea+="z";this._handlePaths({type:c,realIndex:p,i:f,paths:O}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),h.push(this.elSeries)}if(((s=i.config.series[0])===null||s===void 0?void 0:s.zIndex)!==void 0&&h.sort(function(G,q){return Number(G.node.getAttribute("zIndex"))-Number(q.node.getAttribute("zIndex"))}),i.config.chart.stacked)for(var W=h.length-1;W>=0;W--)d.add(h[W]);else for(var Y=0;Y<h.length;Y++)d.add(h[Y]);return d}},{key:"_initSerieVariables",value:function(e,t,n){var a=this.w,s=new Ye(this.ctx);this.xDivision=a.globals.gridWidth/(a.globals.dataPoints-(a.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(a.config.stroke.width)?a.config.stroke.width[n]:a.config.stroke.width;var i=0;if(this.yRatio.length>1&&(this.yaxisIndex=a.globals.seriesYAxisReverseMap[n],i=n),this.isReversed=a.config.yaxis[this.yaxisIndex]&&a.config.yaxis[this.yaxisIndex].reversed,this.zeroY=a.globals.gridHeight-this.baseLineY[i]-(this.isReversed?a.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[i]:0),this.areaBottomY=this.zeroY,(this.zeroY>a.globals.gridHeight||a.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=a.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=s.group({class:"apexcharts-series",zIndex:a.config.series[n].zIndex!==void 0?a.config.series[n].zIndex:n,seriesName:xe.escapeString(a.globals.seriesNames[n])}),this.elPointsMain=s.group({class:"apexcharts-series-markers-wrap","data:realIndex":n}),a.globals.hasNullValues){var l=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[a.globals.gridHeight+a.globals.markers.largestSize]},seriesIndex:t,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});l!==null&&this.elPointsMain.add(l)}this.elDataLabelsWrap=s.group({class:"apexcharts-datalabels","data:realIndex":n});var c=e[t].length===a.globals.dataPoints;this.elSeries.attr({"data:longestSeries":c,rel:t+1,"data:realIndex":n}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,n,a,s,i=e.type,l=e.series,c=e.i,d=e.realIndex,u=e.translationsIndex,h=e.prevX,f=e.prevY,p=e.prevY2,m=this.w,g=new Ye(this.ctx);if(l[c][0]===null){for(var v=0;v<l[c].length;v++)if(l[c][v]!==null){h=this.xDivision*v,f=this.zeroY-l[c][v]/this.yRatio[u],t=g.move(h,f),n=g.move(h,this.areaBottomY);break}}else t=g.move(h,f),i==="rangeArea"&&(t=g.move(h,p)+g.line(h,f)),n=g.move(h,this.areaBottomY)+g.line(h,f);if(a=g.move(0,this.areaBottomY)+g.line(0,this.areaBottomY),s=g.move(0,this.areaBottomY)+g.line(0,this.areaBottomY),m.globals.previousPaths.length>0){var x=this.lineHelpers.checkPreviousPaths({pathFromLine:a,pathFromArea:s,realIndex:d});a=x.pathFromLine,s=x.pathFromArea}return{prevX:h,prevY:f,linePath:t,areaPath:n,pathFromLine:a,pathFromArea:s}}},{key:"_handlePaths",value:function(e){var t=e.type,n=e.realIndex,a=e.i,s=e.paths,i=this.w,l=new Ye(this.ctx),c=new ji(this.ctx);this.prevSeriesY.push(s.yArrj),i.globals.seriesXvalues[n]=s.xArrj,i.globals.seriesYvalues[n]=s.yArrj;var d=i.config.forecastDataPoints;if(d.count>0&&t!=="rangeArea"){var u=i.globals.seriesXvalues[n][i.globals.seriesXvalues[n].length-d.count-1],h=l.drawRect(u,0,i.globals.gridWidth,i.globals.gridHeight,0);i.globals.dom.elForecastMask.appendChild(h.node);var f=l.drawRect(0,0,u,i.globals.gridHeight,0);i.globals.dom.elNonForecastMask.appendChild(f.node)}this.pointsChart||i.globals.delayedElements.push({el:this.elPointsMain.node,index:n});var p={i:a,realIndex:n,animationDelay:a,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if(t==="area")for(var m=c.fillPath({seriesNumber:n}),g=0;g<s.areaPaths.length;g++){var v=l.renderPaths(ct(ct({},p),{},{pathFrom:s.pathFromArea,pathTo:s.areaPaths[g],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:m}));this.elSeries.add(v)}if(i.config.stroke.show&&!this.pointsChart){var x=null;if(t==="line")x=c.fillPath({seriesNumber:n,i:a});else if(i.config.stroke.fill.type==="solid")x=i.globals.stroke.colors[n];else{var b=i.config.fill;i.config.fill=i.config.stroke.fill,x=c.fillPath({seriesNumber:n,i:a}),i.config.fill=b}for(var y=0;y<s.linePaths.length;y++){var C=x;t==="rangeArea"&&(C=c.fillPath({seriesNumber:n}));var S=ct(ct({},p),{},{pathFrom:s.pathFromLine,pathTo:s.linePaths[y],stroke:x,strokeWidth:this.strokeWidth,strokeLineCap:i.config.stroke.lineCap,fill:t==="rangeArea"?C:"none"}),_=l.renderPaths(S);if(this.elSeries.add(_),_.attr("fill-rule","evenodd"),d.count>0&&t!=="rangeArea"){var E=l.renderPaths(S);E.node.setAttribute("stroke-dasharray",d.dashArray),d.strokeWidth&&E.node.setAttribute("stroke-width",d.strokeWidth),this.elSeries.add(E),E.attr("clip-path","url(#forecastMask".concat(i.globals.cuid,")")),_.attr("clip-path","url(#nonForecastMask".concat(i.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,n,a=this,s=e.type,i=e.series,l=e.iterations,c=e.realIndex,d=e.translationsIndex,u=e.i,h=e.x,f=e.y,p=e.pX,m=e.pY,g=e.pathsFrom,v=e.linePaths,x=e.areaPaths,b=e.seriesIndex,y=e.lineYPosition,C=e.xArrj,S=e.yArrj,_=e.y2Arrj,E=e.isRangeStart,A=e.seriesRangeEnd,T=this.w,F=new Ye(this.ctx),L=this.yRatio,D=g.prevY,O=g.linePath,I=g.areaPath,B=g.pathFromLine,z=g.pathFromArea,V=xe.isNumber(T.globals.minYArr[c])?T.globals.minYArr[c]:T.globals.minY;l||(l=T.globals.dataPoints>1?T.globals.dataPoints-1:T.globals.dataPoints);var W=function(ue,ye){return ye-ue/L[d]+2*(a.isReversed?ue/L[d]:0)},Y=f,G=T.config.chart.stacked&&!T.globals.comboCharts||T.config.chart.stacked&&T.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[c])===null||t===void 0?void 0:t.type)==="bar"||((n=this.w.config.series[c])===null||n===void 0?void 0:n.type)==="column"),q=T.config.stroke.curve;Array.isArray(q)&&(q=Array.isArray(b)?q[b[u]]:q[u]);for(var M,U=0,$=0;$<l&&i[u].length!==0;$++){var X=i[u][$+1]===void 0||i[u][$+1]===null;if(T.globals.isXNumeric){var Q=T.globals.seriesX[c][$+1];T.globals.seriesX[c][$+1]===void 0&&(Q=T.globals.seriesX[c][l-1]),h=(Q-T.globals.minX)/this.xRatio}else h+=this.xDivision;G?u>0&&T.globals.collapsedSeries.length<T.config.series.length-1?y=this.prevSeriesY[function(ue){for(var ye=ue;ye>0;ye--){if(!(T.globals.collapsedSeriesIndices.indexOf((b==null?void 0:b[ye])||ye)>-1))return ye;ye--}return 0}(u-1)][$+1]:y=this.zeroY:y=this.zeroY,X?f=W(V,y):(f=W(i[u][$+1],y),s==="rangeArea"&&(Y=W(A[u][$+1],y))),C.push(i[u][$+1]===null?null:h),!X||T.config.stroke.curve!=="smooth"&&T.config.stroke.curve!=="monotoneCubic"?(S.push(f),_.push(Y)):(S.push(null),_.push(null));var se=this.lineHelpers.calculatePoints({series:i,x:h,y:f,realIndex:c,i:u,j:$,prevY:D}),le=this._createPaths({type:s,series:i,i:u,realIndex:c,j:$,x:h,y:f,y2:Y,xArrj:C,yArrj:S,y2Arrj:_,pX:p,pY:m,pathState:U,segmentStartX:M,linePath:O,areaPath:I,linePaths:v,areaPaths:x,curve:q,isRangeStart:E});x=le.areaPaths,v=le.linePaths,p=le.pX,m=le.pY,U=le.pathState,M=le.segmentStartX,I=le.areaPath,O=le.linePath,!this.appendPathFrom||T.globals.hasNullValues||q==="monotoneCubic"&&s==="rangeArea"||(B+=F.line(h,this.areaBottomY),z+=F.line(h,this.areaBottomY)),this.handleNullDataPoints(i,se,u,$,c),this._handleMarkersAndLabels({type:s,pointsPos:se,i:u,j:$,realIndex:c,isRangeStart:E})}return{yArrj:S,xArrj:C,pathFromArea:z,areaPaths:x,pathFromLine:B,linePaths:v,linePath:O,areaPath:I}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,n=e.pointsPos,a=e.isRangeStart,s=e.i,i=e.j,l=e.realIndex,c=this.w,d=new Xu(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,i,{realIndex:l,pointsPos:n,zRatio:this.zRatio,elParent:this.elPointsMain});else{c.globals.series[s].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var u=this.markers.plotChartMarkers({pointsPos:n,seriesIndex:l,j:i+1});u!==null&&this.elPointsMain.add(u)}var h=d.drawDataLabel({type:t,isRangeStart:a,pos:n,i:l,j:i+1});h!==null&&this.elDataLabelsWrap.add(h)}},{key:"_createPaths",value:function(e){var t=e.type,n=e.series,a=e.i;e.realIndex;var s,i=e.j,l=e.x,c=e.y,d=e.xArrj,u=e.yArrj,h=e.y2,f=e.y2Arrj,p=e.pX,m=e.pY,g=e.pathState,v=e.segmentStartX,x=e.linePath,b=e.areaPath,y=e.linePaths,C=e.areaPaths,S=e.curve,_=e.isRangeStart,E=new Ye(this.ctx),A=this.areaBottomY,T=t==="rangeArea",F=t==="rangeArea"&&_;switch(S){case"monotoneCubic":var L=_?u:f;switch(g){case 0:if(L[i+1]===null)break;g=1;case 1:if(!(T?d.length===n[a].length:i===n[a].length-2))break;case 2:var D=_?d:d.slice().reverse(),O=_?L:L.slice().reverse(),I=(s=O,D.map(function(Q,se){return[Q,s[se]]}).filter(function(Q){return Q[1]!==null})),B=I.length>1?n$(I):I,z=[];T&&(F?C=I:z=C.reverse());var V=0,W=0;if(function(Q,se){for(var le=function(Le){var Ie=[],et=0;return Le.forEach(function(Ee){Ee!==null?et++:et>0&&(Ie.push(et),et=0)}),et>0&&Ie.push(et),Ie}(Q),ue=[],ye=0,Ne=0;ye<le.length;Ne+=le[ye++])ue[ye]=a$(se,Ne,Ne+le[ye]);return ue}(O,B).forEach(function(Q){V++;var se=function(ye){for(var Ne="",Le=0;Le<ye.length;Le++){var Ie=ye[Le],et=Ie.length;et>4?(Ne+="C".concat(Ie[0],", ").concat(Ie[1]),Ne+=", ".concat(Ie[2],", ").concat(Ie[3]),Ne+=", ".concat(Ie[4],", ").concat(Ie[5])):et>2&&(Ne+="S".concat(Ie[0],", ").concat(Ie[1]),Ne+=", ".concat(Ie[2],", ").concat(Ie[3]))}return Ne}(Q),le=W,ue=(W+=Q.length)-1;F?x=E.move(I[le][0],I[le][1])+se:T?x=E.move(z[le][0],z[le][1])+E.line(I[le][0],I[le][1])+se+E.line(z[ue][0],z[ue][1]):(x=E.move(I[le][0],I[le][1])+se,b=x+E.line(I[ue][0],A)+E.line(I[le][0],A)+"z",C.push(b)),y.push(x)}),T&&V>1&&!F){var Y=y.slice(V).reverse();y.splice(V),Y.forEach(function(Q){return y.push(Q)})}g=0}break;case"smooth":var G=.35*(l-p);if(n[a][i]===null)g=0;else switch(g){case 0:if(v=p,x=F?E.move(p,f[i])+E.line(p,m):E.move(p,m),b=E.move(p,m),n[a][i+1]===null||n[a][i+1]===void 0){y.push(x),C.push(b);break}if(g=1,i<n[a].length-2){var q=E.curve(p+G,m,l-G,c,l,c);x+=q,b+=q;break}case 1:if(n[a][i+1]===null)x+=F?E.line(p,h):E.move(p,m),b+=E.line(p,A)+E.line(v,A)+"z",y.push(x),C.push(b),g=-1;else{var M=E.curve(p+G,m,l-G,c,l,c);x+=M,b+=M,i>=n[a].length-2&&(F&&(x+=E.curve(l,c,l,c,l,h)+E.move(l,h)),b+=E.curve(l,c,l,c,l,A)+E.line(v,A)+"z",y.push(x),C.push(b),g=-1)}}p=l,m=c;break;default:var U=function(Q,se,le){var ue=[];switch(Q){case"stepline":ue=E.line(se,null,"H")+E.line(null,le,"V");break;case"linestep":ue=E.line(null,le,"V")+E.line(se,null,"H");break;case"straight":ue=E.line(se,le)}return ue};if(n[a][i]===null)g=0;else switch(g){case 0:if(v=p,x=F?E.move(p,f[i])+E.line(p,m):E.move(p,m),b=E.move(p,m),n[a][i+1]===null||n[a][i+1]===void 0){y.push(x),C.push(b);break}if(g=1,i<n[a].length-2){var $=U(S,l,c);x+=$,b+=$;break}case 1:if(n[a][i+1]===null)x+=F?E.line(p,h):E.move(p,m),b+=E.line(p,A)+E.line(v,A)+"z",y.push(x),C.push(b),g=-1;else{var X=U(S,l,c);x+=X,b+=X,i>=n[a].length-2&&(F&&(x+=E.line(l,h)),b+=E.line(l,A)+E.line(v,A)+"z",y.push(x),C.push(b),g=-1)}}p=l,m=c}return{linePaths:y,areaPaths:C,pX:p,pY:m,pathState:g,segmentStartX:v,linePath:x,areaPath:b}}},{key:"handleNullDataPoints",value:function(e,t,n,a,s){var i=this.w;if(e[n][a]===null&&i.config.markers.showNullDataPoints||e[n].length===1){var l=this.strokeWidth-i.config.markers.strokeWidth/2;l>0||(l=0);var c=this.markers.plotChartMarkers({pointsPos:t,seriesIndex:s,j:a+1,pSize:l,alwaysDrawMarker:!0});c!==null&&this.elPointsMain.add(c)}}}]),r}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function r(l,c,d,u){this.xoffset=l,this.yoffset=c,this.height=u,this.width=d,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(h){var f,p=[],m=this.xoffset,g=this.yoffset,v=s(h)/this.height,x=s(h)/this.width;if(this.width>=this.height)for(f=0;f<h.length;f++)p.push([m,g,m+v,g+h[f]/v]),g+=h[f]/v;else for(f=0;f<h.length;f++)p.push([m,g,m+h[f]/x,g+x]),m+=h[f]/x;return p},this.cutArea=function(h){var f;if(this.width>=this.height){var p=h/this.height,m=this.width-p;f=new r(this.xoffset+p,this.yoffset,m,this.height)}else{var g=h/this.width,v=this.height-g;f=new r(this.xoffset,this.yoffset+g,this.width,v)}return f}}function e(l,c,d,u,h){u=u===void 0?0:u,h=h===void 0?0:h;var f=t(function(p,m){var g,v=[],x=m/s(p);for(g=0;g<p.length;g++)v[g]=p[g]*x;return v}(l,c*d),[],new r(u,h,c,d),[]);return function(p){var m,g,v=[];for(m=0;m<p.length;m++)for(g=0;g<p[m].length;g++)v.push(p[m][g]);return v}(f)}function t(l,c,d,u){var h,f,p;if(l.length!==0)return h=d.shortestEdge(),function(m,g,v){var x;if(m.length===0)return!0;(x=m.slice()).push(g);var b=n(m,v),y=n(x,v);return b>=y}(c,f=l[0],h)?(c.push(f),t(l.slice(1),c,d,u)):(p=d.cutArea(s(c),u),u.push(d.getCoordinates(c)),t(l,[],p,u)),u;u.push(d.getCoordinates(c))}function n(l,c){var d=Math.min.apply(Math,l),u=Math.max.apply(Math,l),h=s(l);return Math.max(Math.pow(c,2)*u/Math.pow(h,2),Math.pow(h,2)/(Math.pow(c,2)*d))}function a(l){return l&&l.constructor===Array}function s(l){var c,d=0;for(c=0;c<l.length;c++)d+=l[c];return d}function i(l){var c,d=0;if(a(l[0]))for(c=0;c<l.length;c++)d+=i(l[c]);else d=s(l);return d}return function l(c,d,u,h,f){h=h===void 0?0:h,f=f===void 0?0:f;var p,m,g=[],v=[];if(a(c[0])){for(m=0;m<c.length;m++)g[m]=i(c[m]);for(p=e(g,d,u,h,f),m=0;m<c.length;m++)v.push(l(c[m],p[m][2]-p[m][0],p[m][3]-p[m][1],p[m][0],p[m][1]))}else v=e(c,d,u,h,f);return v}}();var s$=function(){function r(e,t){bt(this,r),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new wE(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return yt(r,[{key:"draw",value:function(e){var t=this,n=this.w,a=new Ye(this.ctx),s=new ji(this.ctx),i=a.group({class:"apexcharts-treemap"});if(n.globals.noData)return i;var l=[];return e.forEach(function(c){var d=c.map(function(u){return Math.abs(u)});l.push(d)}),this.negRange=this.helpers.checkColorRange(),n.config.series.forEach(function(c,d){c.data.forEach(function(u){Array.isArray(t.labels[d])||(t.labels[d]=[]),t.labels[d].push(u.x)})}),window.TreemapSquared.generate(l,n.globals.gridWidth,n.globals.gridHeight).forEach(function(c,d){var u=a.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:xe.escapeString(n.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});if(n.config.chart.dropShadow.enabled){var h=n.config.chart.dropShadow;new sa(t.ctx).dropShadow(i,h,d)}var f=a.group({class:"apexcharts-data-labels"}),p={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};c.forEach(function(B,z){var V=B[0],W=B[1],Y=B[2],G=B[3];p.xMin=Math.min(p.xMin,V),p.yMin=Math.min(p.yMin,W),p.xMax=Math.max(p.xMax,Y),p.yMax=Math.max(p.yMax,G);var q=t.helpers.getShadeColor(n.config.chart.type,d,z,t.negRange),M=q.color,U=s.fillPath({color:M,seriesNumber:d,dataPointIndex:z}),$=a.drawRect(V,W,Y-V,G-W,n.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,n.config.plotOptions.treemap.useFillColorAsStroke?M:n.globals.stroke.colors[d]);$.attr({cx:V,cy:W,index:d,i:d,j:z,width:Y-V,height:G-W,fill:U}),$.node.classList.add("apexcharts-treemap-rect"),t.helpers.addListeners($);var X={x:V+(Y-V)/2,y:W+(G-W)/2,width:0,height:0},Q={x:V,y:W,width:Y-V,height:G-W};if(n.config.chart.animations.enabled&&!n.globals.dataChanged){var se=1;n.globals.resized||(se=n.config.chart.animations.speed),t.animateTreemap($,X,Q,se)}if(n.globals.dataChanged){var le=1;t.dynamicAnim.enabled&&n.globals.shouldAnimate&&(le=t.dynamicAnim.speed,n.globals.previousPaths[d]&&n.globals.previousPaths[d][z]&&n.globals.previousPaths[d][z].rect&&(X=n.globals.previousPaths[d][z].rect),t.animateTreemap($,X,Q,le))}var ue=t.getFontSize(B),ye=n.config.dataLabels.formatter(t.labels[d][z],{value:n.globals.series[d][z],seriesIndex:d,dataPointIndex:z,w:n});n.config.plotOptions.treemap.dataLabels.format==="truncate"&&(ue=parseInt(n.config.dataLabels.style.fontSize,10),ye=t.truncateLabels(ye,ue,V,W,Y,G));var Ne=null;n.globals.series[d][z]&&(Ne=t.helpers.calculateDataLabels({text:ye,x:(V+Y)/2,y:(W+G)/2+t.strokeWidth/2+ue/3,i:d,j:z,colorProps:q,fontSize:ue,series:e})),n.config.dataLabels.enabled&&Ne&&t.rotateToFitLabel(Ne,ue,ye,V,W,Y,G),u.add($),Ne!==null&&u.add(Ne)});var m=n.config.plotOptions.treemap.seriesTitle;if(n.config.series.length>1&&m&&m.show){var g=n.config.series[d].name||"";if(g&&p.xMin<1/0&&p.yMin<1/0){var v=m.offsetX,x=m.offsetY,b=m.borderColor,y=m.borderWidth,C=m.borderRadius,S=m.style,_=S.color||n.config.chart.foreColor,E={left:S.padding.left,right:S.padding.right,top:S.padding.top,bottom:S.padding.bottom},A=a.getTextRects(g,S.fontSize,S.fontFamily),T=A.width+E.left+E.right,F=A.height+E.top+E.bottom,L=p.xMin+(v||0),D=p.yMin+(x||0),O=a.drawRect(L,D,T,F,C,S.background,1,y,b),I=a.drawText({x:L+E.left,y:D+E.top+.75*A.height,text:g,fontSize:S.fontSize,fontFamily:S.fontFamily,fontWeight:S.fontWeight,foreColor:_,cssClass:S.cssClass||""});u.add(O),u.add(I)}}u.add(f),i.add(u)}),i}},{key:"getFontSize",value:function(e){var t=this.w,n=function a(s){var i,l=0;if(Array.isArray(s[0]))for(i=0;i<s.length;i++)l+=a(s[i]);else for(i=0;i<s.length;i++)l+=s[i].length;return l}(this.labels)/function a(s){var i,l=0;if(Array.isArray(s[0]))for(i=0;i<s.length;i++)l+=a(s[i]);else for(i=0;i<s.length;i++)l+=1;return l}(this.labels);return function(a,s){var i=a*s,l=Math.pow(i,.5);return Math.min(l/n,parseInt(t.config.dataLabels.style.fontSize,10))}(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,t,n,a,s,i,l){var c=new Ye(this.ctx),d=c.getTextRects(n,t);if(d.width+this.w.config.stroke.width+5>i-a&&d.width<=l-s){var u=c.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(u.x," ").concat(u.y,") translate(").concat(d.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,n,a,s,i){var l=new Ye(this.ctx),c=l.getTextRects(e,t).width+this.w.config.stroke.width+5>s-n&&i-a>s-n?i-a:s-n,d=l.getTextBasedOnMaxWidth({text:e,maxWidth:c,fontSize:t});return e.length!==d.length&&c/t<5?"":d}},{key:"animateTreemap",value:function(e,t,n,a){var s=new ph(this.ctx);s.animateRect(e,t,n,a,function(){s.animationCompleted(e)})}}]),r}(),SE=86400,i$=10/SE,o$=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return yt(r,[{key:"calculateTimeScaleTicks",value:function(e,t){var n=this,a=this.w;if(a.globals.allSeriesCollapsed)return a.globals.labels=[],a.globals.timescaleLabels=[],[];var s=new aa(this.ctx),i=(t-e)/864e5;this.determineInterval(i),a.globals.disableZoomIn=!1,a.globals.disableZoomOut=!1,i<i$?a.globals.disableZoomIn=!0:i>5e4&&(a.globals.disableZoomOut=!0);var l=s.getTimeUnitsfromTimestamp(e,t,this.utc),c=a.globals.gridWidth/i,d=c/24,u=d/60,h=u/60,f=Math.floor(24*i),p=Math.floor(1440*i),m=Math.floor(i*SE),g=Math.floor(i),v=Math.floor(i/30),x=Math.floor(i/365),b={minMillisecond:l.minMillisecond,minSecond:l.minSecond,minMinute:l.minMinute,minHour:l.minHour,minDate:l.minDate,minMonth:l.minMonth,minYear:l.minYear},y={firstVal:b,currentMillisecond:b.minMillisecond,currentSecond:b.minSecond,currentMinute:b.minMinute,currentHour:b.minHour,currentMonthDate:b.minDate,currentDate:b.minDate,currentMonth:b.minMonth,currentYear:b.minYear,daysWidthOnXAxis:c,hoursWidthOnXAxis:d,minutesWidthOnXAxis:u,secondsWidthOnXAxis:h,numberOfSeconds:m,numberOfMinutes:p,numberOfHours:f,numberOfDays:g,numberOfMonths:v,numberOfYears:x};switch(this.tickInterval){case"years":this.generateYearScale(y);break;case"months":case"half_year":this.generateMonthScale(y);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(y);break;case"hours":this.generateHourScale(y);break;case"minutes_fives":case"minutes":this.generateMinuteScale(y);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(y)}var C=this.timeScaleArray.map(function(S){var _={position:S.position,unit:S.unit,year:S.year,day:S.day?S.day:1,hour:S.hour?S.hour:0,month:S.month+1};return S.unit==="month"?ct(ct({},_),{},{day:1,value:S.value+1}):S.unit==="day"||S.unit==="hour"?ct(ct({},_),{},{value:S.value}):S.unit==="minute"?ct(ct({},_),{},{value:S.value,minute:S.value}):S.unit==="second"?ct(ct({},_),{},{value:S.value,minute:S.minute,second:S.second}):S});return C.filter(function(S){var _=1,E=Math.ceil(a.globals.gridWidth/120),A=S.value;a.config.xaxis.tickAmount!==void 0&&(E=a.config.xaxis.tickAmount),C.length>E&&(_=Math.floor(C.length/E));var T=!1,F=!1;switch(n.tickInterval){case"years":S.unit==="year"&&(T=!0);break;case"half_year":_=7,S.unit==="year"&&(T=!0);break;case"months":_=1,S.unit==="year"&&(T=!0);break;case"months_fortnight":_=15,S.unit!=="year"&&S.unit!=="month"||(T=!0),A===30&&(F=!0);break;case"months_days":_=10,S.unit==="month"&&(T=!0),A===30&&(F=!0);break;case"week_days":_=8,S.unit==="month"&&(T=!0);break;case"days":_=1,S.unit==="month"&&(T=!0);break;case"hours":S.unit==="day"&&(T=!0);break;case"minutes_fives":case"seconds_fives":A%5!=0&&(F=!0);break;case"seconds_tens":A%10!=0&&(F=!0)}if(n.tickInterval==="hours"||n.tickInterval==="minutes_fives"||n.tickInterval==="seconds_tens"||n.tickInterval==="seconds_fives"){if(!F)return!0}else if((A%_==0||T)&&!F)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var n=this.w,a=this.formatDates(e),s=this.removeOverlappingTS(a);n.globals.timescaleLabels=s.slice(),new ex(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,n=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case n>15:this.tickInterval="minutes_fives";break;case n>5:this.tickInterval="minutes";break;case n>1:this.tickInterval="seconds_tens";break;case 60*n>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,n=e.currentMonth,a=e.currentYear,s=e.daysWidthOnXAxis,i=e.numberOfYears,l=t.minYear,c=0,d=new aa(this.ctx),u="year";if(t.minDate>1||t.minMonth>0){var h=d.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);c=(d.determineDaysOfYear(t.minYear)-h+1)*s,l=t.minYear+1,this.timeScaleArray.push({position:c,value:l,unit:u,year:l,month:xe.monthMod(n+1)})}else t.minDate===1&&t.minMonth===0&&this.timeScaleArray.push({position:c,value:l,unit:u,year:a,month:xe.monthMod(n+1)});for(var f=l,p=c,m=0;m<i;m++)f++,p=d.determineDaysOfYear(f-1)*s+p,this.timeScaleArray.push({position:p,value:f,unit:u,year:f,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,n=e.currentMonthDate,a=e.currentMonth,s=e.currentYear,i=e.daysWidthOnXAxis,l=e.numberOfMonths,c=a,d=0,u=new aa(this.ctx),h="month",f=0;if(t.minDate>1){d=(u.determineDaysOfMonths(a+1,t.minYear)-n+1)*i,c=xe.monthMod(a+1);var p=s+f,m=xe.monthMod(c),g=c;c===0&&(h="year",g=p,m=1,p+=f+=1),this.timeScaleArray.push({position:d,value:g,unit:h,year:p,month:m})}else this.timeScaleArray.push({position:d,value:c,unit:h,year:s,month:xe.monthMod(a)});for(var v=c+1,x=d,b=0,y=1;b<l;b++,y++){(v=xe.monthMod(v))===0?(h="year",f+=1):h="month";var C=this._getYear(s,v,f);x=u.determineDaysOfMonths(v,C)*i+x;var S=v===0?C:v;this.timeScaleArray.push({position:x,value:S,unit:h,year:C,month:v===0?1:v}),v++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,n=e.currentMonth,a=e.currentYear,s=e.hoursWidthOnXAxis,i=e.numberOfDays,l=new aa(this.ctx),c="day",d=t.minDate+1,u=d,h=function(y,C,S){return y>l.determineDaysOfMonths(C+1,S)&&(u=1,c="month",p=C+=1),C},f=(24-t.minHour)*s,p=d,m=h(u,n,a);t.minHour===0&&t.minDate===1?(f=0,p=xe.monthMod(t.minMonth),c="month",u=t.minDate):t.minDate!==1&&t.minHour===0&&t.minMinute===0&&(f=0,d=t.minDate,p=d,m=h(u=d,n,a),p!==1&&(c="day")),this.timeScaleArray.push({position:f,value:p,unit:c,year:this._getYear(a,m,0),month:xe.monthMod(m),day:u});for(var g=f,v=0;v<i;v++){c="day",m=h(u+=1,m,this._getYear(a,m,0));var x=this._getYear(a,m,0);g=24*s+g;var b=u===1?xe.monthMod(m):u;this.timeScaleArray.push({position:g,value:b,unit:c,year:x,month:xe.monthMod(m),day:b})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,n=e.currentDate,a=e.currentMonth,s=e.currentYear,i=e.minutesWidthOnXAxis,l=e.numberOfHours,c=new aa(this.ctx),d="hour",u=function(_,E){return _>c.determineDaysOfMonths(E+1,s)&&(v=1,E+=1),{month:E,date:v}},h=function(_,E){return _>c.determineDaysOfMonths(E+1,s)?E+=1:E},f=60-(t.minMinute+t.minSecond/60),p=f*i,m=t.minHour+1,g=m;f===60&&(p=0,g=m=t.minHour);var v=n;g>=24&&(g=0,d="day",m=v+=1);var x=u(v,a).month;x=h(v,x),m>31&&(m=v=1),this.timeScaleArray.push({position:p,value:m,unit:d,day:v,hour:g,year:s,month:xe.monthMod(x)}),g++;for(var b=p,y=0;y<l;y++){d="hour",g>=24&&(g=0,d="day",x=u(v+=1,x).month,x=h(v,x));var C=this._getYear(s,x,0);b=60*i+b;var S=g===0?v:g;this.timeScaleArray.push({position:b,value:S,unit:d,hour:g,day:v,year:C,month:xe.monthMod(x)}),g++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,a=e.currentMinute,s=e.currentHour,i=e.currentDate,l=e.currentMonth,c=e.currentYear,d=e.minutesWidthOnXAxis,u=e.secondsWidthOnXAxis,h=e.numberOfMinutes,f=a+1,p=i,m=l,g=c,v=s,x=(60-n-t/1e3)*u,b=0;b<h;b++)f>=60&&(f=0,(v+=1)===24&&(v=0)),this.timeScaleArray.push({position:x,value:f,unit:"minute",hour:v,minute:f,day:p,year:this._getYear(g,m,0),month:xe.monthMod(m)}),x+=d,f++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,a=e.currentMinute,s=e.currentHour,i=e.currentDate,l=e.currentMonth,c=e.currentYear,d=e.secondsWidthOnXAxis,u=e.numberOfSeconds,h=n+1,f=a,p=i,m=l,g=c,v=s,x=(1e3-t)/1e3*d,b=0;b<u;b++)h>=60&&(h=0,++f>=60&&(f=0,++v===24&&(v=0))),this.timeScaleArray.push({position:x,value:h,unit:"second",hour:v,minute:f,second:h,day:p,year:this._getYear(g,m,0),month:xe.monthMod(m)}),x+=d,h++}},{key:"createRawDateString",value:function(e,t){var n=e.year;return e.month===0&&(e.month=1),n+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?n+=e.unit==="day"?"-"+("0"+t).slice(-2):"-01":n+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?n+=e.unit==="hour"?"T"+("0"+t).slice(-2):"T00":n+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?n+=":"+("0"+t).slice(-2):n+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?n+=":"+("0"+t).slice(-2):n+=":00",this.utc&&(n+=".000Z"),n}},{key:"formatDates",value:function(e){var t=this,n=this.w;return e.map(function(a){var s=a.value.toString(),i=new aa(t.ctx),l=t.createRawDateString(a,s),c=i.getDate(i.parseDate(l));if(t.utc||(c=i.getDate(i.parseDateWithTimezone(l))),n.config.xaxis.labels.format===void 0){var d="dd MMM",u=n.config.xaxis.labels.datetimeFormatter;a.unit==="year"&&(d=u.year),a.unit==="month"&&(d=u.month),a.unit==="day"&&(d=u.day),a.unit==="hour"&&(d=u.hour),a.unit==="minute"&&(d=u.minute),a.unit==="second"&&(d=u.second),s=i.formatDate(c,d)}else s=i.formatDate(c,n.config.xaxis.labels.format);return{dateString:l,position:a.position,value:s,unit:a.unit,year:a.year,month:a.month}})}},{key:"removeOverlappingTS",value:function(e){var t,n=this,a=new Ye(this.ctx),s=!1;e.length>0&&e[0].value&&e.every(function(c){return c.value.length===e[0].value.length})&&(s=!0,t=a.getTextRects(e[0].value).width);var i=0,l=e.map(function(c,d){if(d>0&&n.w.config.xaxis.labels.hideOverlappingLabels){var u=s?t:a.getTextRects(e[i].value).width,h=e[i].position;return c.position>h+u+10?(i=d,c):null}return c});return l=l.filter(function(c){return c!==null})}},{key:"_getYear",value:function(e,t,n){return e+Math.floor(t/12)+n}}]),r}(),l$=function(){function r(e,t){bt(this,r),this.ctx=t,this.w=t.w,this.el=e}return yt(r,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,n=e.config,a=n.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(a),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(a),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(a)&&n.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),Ye.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=window.SVG().addTo(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(n.chart.offsetX,", ").concat(n.chart.offsetY,")")}),t.dom.Paper.node.style.background=n.theme.mode!=="dark"||n.chart.background?n.theme.mode!=="light"||n.chart.background?n.chart.background:"#fff":"#424242",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),Ye.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),t.dom.elLegendForeign.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var n=this.w,a=this.ctx,s=n.config,i=n.globals,l={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},column:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},c=s.chart.type||"line",d=null,u=0;i.series.forEach(function(_,E){var A=e[E].type||c;l[A]?(A==="rangeArea"?(l[A].series.push(i.seriesRangeStart[E]),l[A].seriesRangeEnd.push(i.seriesRangeEnd[E])):l[A].series.push(_),l[A].i.push(E),A!=="column"&&A!=="bar"||(n.globals.columnSeries=l.column)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(A)?d=A:A==="bar"?(l.column.series.push(_),l.column.i.push(E)):console.warn("You have specified an unrecognized series type (".concat(A,").")),c!==A&&A!=="scatter"&&u++}),u>0&&(d&&console.warn("Chart or series type ".concat(d," cannot appear with other chart or series types.")),l.column.series.length>0&&s.plotOptions.bar.horizontal&&(u-=l.column.series.length,l.column={series:[],i:[]},n.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),i.comboCharts||(i.comboCharts=u>0);var h=new fb(a,t),f=new ub(a,t);a.pie=new CE(a);var p=new QV(a);a.rangeBar=new e$(a,t);var m=new KV(a),g=[];if(i.comboCharts){var v,x,b=new hn(a);if(l.area.series.length>0&&(v=g).push.apply(v,zn(b.drawSeriesByGroup(l.area,i.areaGroups,"area",h))),l.column.series.length>0)if(s.chart.stacked){var y=new v6(a,t);g.push(y.draw(l.column.series,l.column.i))}else a.bar=new Zu(a,t),g.push(a.bar.draw(l.column.series,l.column.i));if(l.rangeArea.series.length>0&&g.push(h.draw(l.rangeArea.series,"rangeArea",l.rangeArea.i,l.rangeArea.seriesRangeEnd)),l.line.series.length>0&&(x=g).push.apply(x,zn(b.drawSeriesByGroup(l.line,i.lineGroups,"line",h))),l.candlestick.series.length>0&&g.push(f.draw(l.candlestick.series,"candlestick",l.candlestick.i)),l.boxPlot.series.length>0&&g.push(f.draw(l.boxPlot.series,"boxPlot",l.boxPlot.i)),l.rangeBar.series.length>0&&g.push(a.rangeBar.draw(l.rangeBar.series,l.rangeBar.i)),l.scatter.series.length>0){var C=new fb(a,t,!0);g.push(C.draw(l.scatter.series,"scatter",l.scatter.i))}if(l.bubble.series.length>0){var S=new fb(a,t,!0);g.push(S.draw(l.bubble.series,"bubble",l.bubble.i))}}else switch(s.chart.type){case"line":g=h.draw(i.series,"line");break;case"area":g=h.draw(i.series,"area");break;case"bar":s.chart.stacked?g=new v6(a,t).draw(i.series):(a.bar=new Zu(a,t),g=a.bar.draw(i.series));break;case"candlestick":g=new ub(a,t).draw(i.series,"candlestick");break;case"boxPlot":g=new ub(a,t).draw(i.series,s.chart.type);break;case"rangeBar":g=a.rangeBar.draw(i.series);break;case"rangeArea":g=h.draw(i.seriesRangeStart,"rangeArea",void 0,i.seriesRangeEnd);break;case"heatmap":g=new JV(a,t).draw(i.series);break;case"treemap":g=new s$(a,t).draw(i.series);break;case"pie":case"donut":case"polarArea":g=a.pie.draw(i.series);break;case"radialBar":g=p.draw(i.series);break;case"radar":g=m.draw(i.series);break;default:g=h.draw(i.series)}return g}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,n=e.config;n.chart.width=n.chart.width||"100%",n.chart.height=n.chart.height||"auto",t.svgWidth=n.chart.width,t.svgHeight=n.chart.height;var a=xe.getDimensions(this.el),s=n.chart.width.toString().split(/[0-9]+/g).pop();s==="%"?xe.isNumber(a[0])&&(a[0].width===0&&(a=xe.getDimensions(this.el.parentNode)),t.svgWidth=a[0]*parseInt(n.chart.width,10)/100):s!=="px"&&s!==""||(t.svgWidth=parseInt(n.chart.width,10));var i=String(n.chart.height).toString().split(/[0-9]+/g).pop();if(t.svgHeight!=="auto"&&t.svgHeight!=="")if(i==="%"){var l=xe.getDimensions(this.el.parentNode);t.svgHeight=l[1]*parseInt(n.chart.height,10)/100}else t.svgHeight=parseInt(n.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),Ye.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),i!=="%"){var c=n.chart.sparkline.enabled?0:t.axisCharts?n.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+c,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,n=e.translateX;Ye.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(n,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=0,a=e.config.chart.sparkline.enabled?1:15;a+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(n=new xE(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var s=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),i=2.05*e.globals.radialSize;if(s&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var l=xe.getBoundingClientRect(s);i=l.bottom;var c=l.bottom-l.top;i=Math.max(2.05*e.globals.radialSize,c)}var d=Math.ceil(i+t.translateY+n+a);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",d),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(d,"px"),Ye.setAttrs(t.dom.Paper.node,{height:d}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(d,"px"))}},{key:"coreCalculations",value:function(){new U2(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map(function(){return[]})},n=new fE,a=this.w.globals;n.initGlobalVars(a),a.seriesXvalues=t(),a.seriesYvalues=t()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new V2(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new V2(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new o$(this.ctx);var n=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(n)}t=new hn(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.ctx,n=this.w;if(n.config.chart.brush.enabled&&typeof n.config.chart.events.selection!="function"){var a=Array.isArray(n.config.chart.brush.targets)?n.config.chart.brush.targets:[n.config.chart.brush.target];a.forEach(function(s){var i=t.constructor.getChartByID(s);i.w.globals.brushSource=e.ctx,typeof i.w.config.chart.events.zoomed!="function"&&(i.w.config.chart.events.zoomed=function(){return e.updateSourceChart(i)}),typeof i.w.config.chart.events.scrolled!="function"&&(i.w.config.chart.events.scrolled=function(){return e.updateSourceChart(i)})}),n.config.chart.events.selection=function(s,i){a.forEach(function(l){t.constructor.getChartByID(l).ctx.updateHelpers._updateOptions({xaxis:{min:i.xaxis.min,max:i.xaxis.max}},!1,!1,!1,!1)})}}}}]),r}(),c$=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w}return yt(r,[{key:"_updateOptions",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],i=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(l){var c=[t.ctx];s&&(c=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(c=[t.ctx],t.ctx.w.globals.isExecCalled=!1),c.forEach(function(d,u){var h=d.w;if(h.globals.shouldAnimate=a,n||(h.globals.resized=!0,h.globals.dataChanged=!0,a&&d.series.getPreviousPaths()),e&&Yu(e)==="object"&&(d.config=new mp(e),e=hn.extendArrayProps(d.config,e,h),d.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,h.config=xe.extend(h.config,e),i&&(h.globals.lastXAxis=e.xaxis?xe.clone(e.xaxis):[],h.globals.lastYAxis=e.yaxis?xe.clone(e.yaxis):[],h.globals.initialConfig=xe.extend({},h.config),h.globals.initialSeries=xe.clone(h.config.series),e.series))){for(var f=0;f<h.globals.collapsedSeriesIndices.length;f++){var p=h.config.series[h.globals.collapsedSeriesIndices[f]];h.globals.collapsedSeries[f].data=h.globals.axisCharts?p.data.slice():p}for(var m=0;m<h.globals.ancillaryCollapsedSeriesIndices.length;m++){var g=h.config.series[h.globals.ancillaryCollapsedSeriesIndices[m]];h.globals.ancillaryCollapsedSeries[m].data=h.globals.axisCharts?g.data.slice():g}d.series.emptyCollapsedSeries(h.config.series)}return d.update(e).then(function(){u===c.length-1&&l(d)})})})}},{key:"_updateSeries",value:function(e,t){var n=this,a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(s){var i,l=n.w;return l.globals.shouldAnimate=t,l.globals.dataChanged=!0,t&&n.ctx.series.getPreviousPaths(),l.globals.axisCharts?((i=e.map(function(c,d){return n._extendSeries(c,d)})).length===0&&(i=[{data:[]}]),l.config.series=i):l.config.series=e.slice(),a&&(l.globals.initialConfig.series=xe.clone(l.config.series),l.globals.initialSeries=xe.clone(l.config.series)),n.ctx.update().then(function(){s(n.ctx)})})}},{key:"_extendSeries",value:function(e,t){var n=this.w,a=n.config.series[t];return ct(ct({},n.config.series[t]),{},{name:e.name?e.name:a==null?void 0:a.name,color:e.color?e.color:a==null?void 0:a.color,type:e.type?e.type:a==null?void 0:a.type,group:e.group?e.group:a==null?void 0:a.group,hidden:e.hidden!==void 0?e.hidden:a==null?void 0:a.hidden,data:e.data?e.data:a==null?void 0:a.data,zIndex:e.zIndex!==void 0?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var n=this.w,a=null,s=".apexcharts-series[data\\:realIndex='".concat(e,"']");return n.globals.axisCharts?a=n.globals.dom.Paper.findOne("".concat(s," path[j='").concat(t,"'], ").concat(s," circle[j='").concat(t,"'], ").concat(s," rect[j='").concat(t,"']")):t===void 0&&(a=n.globals.dom.Paper.findOne("".concat(s," path[j='").concat(e,"']")),n.config.chart.type!=="pie"&&n.config.chart.type!=="polarArea"&&n.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),a?(new Ye(this.ctx).pathMouseDown(a,null),a.node?a.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach(function(a){e.xaxis[a]!==void 0&&(t.config.xaxis[a]=e.xaxis[a],t.globals.lastXAxis[a]=e.xaxis[a])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var n=new gp(e);e=n.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(t,n){e.yaxis[n].min=0,e.yaxis[n].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,n=this.w,a=n.globals.lastXAxis,s=n.globals.lastYAxis;e&&e.xaxis&&(a=e.xaxis),e&&e.yaxis&&(s=e.yaxis),n.config.xaxis.min=a.min,n.config.xaxis.max=a.max;var i=function(l){s[l]!==void 0&&(n.config.yaxis[l].min=s[l].min,n.config.yaxis[l].max=s[l].max)};n.config.yaxis.map(function(l,c){n.globals.zoomed||s[c]!==void 0?i(c):t.ctx.opts.yaxis[c]!==void 0&&(l.min=t.ctx.opts.yaxis[c].min,l.max=t.ctx.opts.yaxis[c].max)})}}]),r}();(function(){function r(){for(var s=arguments.length>0&&arguments[0]!==h?arguments[0]:[],i=arguments.length>1?arguments[1]:h,l=arguments.length>2?arguments[2]:h,c=arguments.length>3?arguments[3]:h,d=arguments.length>4?arguments[4]:h,u=arguments.length>5?arguments[5]:h,h=arguments.length>6?arguments[6]:h,f=s.slice(i,l||h),p=c.slice(d,u||h),m=0,g={pos:[0,0],start:[0,0]},v={pos:[0,0],start:[0,0]};f[m]=e.call(g,f[m]),p[m]=e.call(v,p[m]),f[m][0]!=p[m][0]||f[m][0]=="M"||f[m][0]=="A"&&(f[m][4]!=p[m][4]||f[m][5]!=p[m][5])?(Array.prototype.splice.apply(f,[m,1].concat(n.call(g,f[m]))),Array.prototype.splice.apply(p,[m,1].concat(n.call(v,p[m])))):(f[m]=t.call(g,f[m]),p[m]=t.call(v,p[m])),!(++m==f.length&&m==p.length);)m==f.length&&f.push(["C",g.pos[0],g.pos[1],g.pos[0],g.pos[1],g.pos[0],g.pos[1]]),m==p.length&&p.push(["C",v.pos[0],v.pos[1],v.pos[0],v.pos[1],v.pos[0],v.pos[1]]);return{start:f,dest:p}}function e(s){switch(s[0]){case"z":case"Z":s[0]="L",s[1]=this.start[0],s[2]=this.start[1];break;case"H":s[0]="L",s[2]=this.pos[1];break;case"V":s[0]="L",s[2]=s[1],s[1]=this.pos[0];break;case"T":s[0]="Q",s[3]=s[1],s[4]=s[2],s[1]=this.reflection[1],s[2]=this.reflection[0];break;case"S":s[0]="C",s[6]=s[4],s[5]=s[3],s[4]=s[2],s[3]=s[1],s[2]=this.reflection[1],s[1]=this.reflection[0]}return s}function t(s){var i=s.length;return this.pos=[s[i-2],s[i-1]],"SCQT".indexOf(s[0])!=-1&&(this.reflection=[2*this.pos[0]-s[i-4],2*this.pos[1]-s[i-3]]),s}function n(s){var i=[s];switch(s[0]){case"M":return this.pos=this.start=[s[1],s[2]],i;case"L":s[5]=s[3]=s[1],s[6]=s[4]=s[2],s[1]=this.pos[0],s[2]=this.pos[1];break;case"Q":s[6]=s[4],s[5]=s[3],s[4]=1*s[4]/3+2*s[2]/3,s[3]=1*s[3]/3+2*s[1]/3,s[2]=1*this.pos[1]/3+2*s[2]/3,s[1]=1*this.pos[0]/3+2*s[1]/3;break;case"A":i=function(l,c){var d,u,h,f,p,m,g,v,x,b,y,C,S,_,E,A,T,F,L,D,O,I,B,z,V,W,Y=Math.abs(c[1]),G=Math.abs(c[2]),q=c[3]%360,M=c[4],U=c[5],$=c[6],X=c[7],Q=new _r(l),se=new _r($,X),le=[];if(Y===0||G===0||Q.x===se.x&&Q.y===se.y)return[["C",Q.x,Q.y,se.x,se.y,se.x,se.y]];for(d=new _r((Q.x-se.x)/2,(Q.y-se.y)/2).transform(new Kt().rotate(q)),u=d.x*d.x/(Y*Y)+d.y*d.y/(G*G),u>1&&(Y*=u=Math.sqrt(u),G*=u),h=new Kt().rotate(q).scale(1/Y,1/G).rotate(-q),Q=Q.transform(h),se=se.transform(h),f=[se.x-Q.x,se.y-Q.y],m=f[0]*f[0]+f[1]*f[1],p=Math.sqrt(m),f[0]/=p,f[1]/=p,g=m<4?Math.sqrt(1-m/4):0,M===U&&(g*=-1),v=new _r((se.x+Q.x)/2+g*-f[1],(se.y+Q.y)/2+g*f[0]),x=new _r(Q.x-v.x,Q.y-v.y),b=new _r(se.x-v.x,se.y-v.y),y=Math.acos(x.x/Math.sqrt(x.x*x.x+x.y*x.y)),x.y<0&&(y*=-1),C=Math.acos(b.x/Math.sqrt(b.x*b.x+b.y*b.y)),b.y<0&&(C*=-1),U&&y>C&&(C+=2*Math.PI),!U&&y<C&&(C-=2*Math.PI),_=Math.ceil(2*Math.abs(y-C)/Math.PI),A=[],T=y,S=(C-y)/_,E=4*Math.tan(S/4)/3,O=0;O<=_;O++)L=Math.cos(T),F=Math.sin(T),D=new _r(v.x+L,v.y+F),A[O]=[new _r(D.x+E*F,D.y-E*L),D,new _r(D.x-E*F,D.y+E*L)],T+=S;for(A[0][0]=A[0][1].clone(),A[A.length-1][2]=A[A.length-1][1].clone(),h=new Kt().rotate(q).scale(Y,G).rotate(-q),O=0,I=A.length;O<I;O++)A[O][0]=A[O][0].transform(h),A[O][1]=A[O][1].transform(h),A[O][2]=A[O][2].transform(h);for(O=1,I=A.length;O<I;O++)B=(D=A[O-1][2]).x,z=D.y,V=(D=A[O][0]).x,W=D.y,$=(D=A[O][1]).x,X=D.y,le.push(["C",B,z,V,W,$,X]);return le}(this.pos,s),s=i[0]}return s[0]="C",this.pos=[s[5],s[6]],this.reflection=[2*s[5]-s[3],2*s[6]-s[4]],i}function a(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0;if(i===!1)return!1;for(var l=i,c=s.length;l<c;++l)if(s[l][0]=="M")return l;return!1}Rt(bi,{morph:function(s,i,l,c,d){for(var u=this.parse(s),h=this.parse(i),f=0,p=0,m=!1,g=!1;f!==!1||p!==!1;){var v;m=a(u,f!==!1&&f+1),g=a(h,p!==!1&&p+1),f===!1&&(f=(v=new bi(x.start).bbox()).height==0||v.width==0?u.push(u[0])-1:u.push(["M",v.x+v.width/2,v.y+v.height/2])-1),p===!1&&(p=(v=new bi(x.dest).bbox()).height==0||v.width==0?h.push(h[0])-1:h.push(["M",v.x+v.width/2,v.y+v.height/2])-1);var x=r(u,f,m,h,p,g);u=u.slice(0,f).concat(x.start,m===!1?[]:u.slice(m)),h=h.slice(0,p).concat(x.dest,g===!1?[]:h.slice(g)),f=m!==!1&&f+x.start.length,p=g!==!1&&p+x.dest.length}this._array=u,this.destination=new bi,this.destination._array=h;var b=this.fromArray(u.map(function(y,C){var S=h[C].map(function(_,E){return E===0?_:c.step(y[E],h[C][E],l,d[C],d)});return S}));return b}})})();const b6=r=>(r.changedTouches&&(r=r.changedTouches[0]),{x:r.clientX,y:r.clientY});class d${constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(b6(e));const n=(t?"mouseup":"touchend")+".drag";So(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),So(window,n,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:n}=this,a=this.el.point(b6(e)),s=a.x-n.x,i=a.y-n.y;if(!s&&!i)return t;const l=t.x+s,c=t.y+i;this.box=new Zn(l,c,t.w,t.h),this.lastClick=a,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(l,c)}move(e,t){this.el.type==="svg"?Il.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),Gs(window,"mousemove.drag"),Gs(window,"touchmove.drag"),Gs(window,"mouseup.drag"),Gs(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function $2(r,e,t,n=null){return function(a){a.preventDefault(),a.stopPropagation();var s=a.pageX||a.touches[0].pageX,i=a.pageY||a.touches[0].pageY;e.fire(r,{x:s,y:i,event:a,index:n,points:t})}}function W2([r,e],{a:t,b:n,c:a,d:s,e:i,f:l}){return[r*t+e*a+i,r*n+e*s+l]}Rt(la,{draggable(r=!0){return(this.remember("_draggable")||new d$(this)).init(r),this}});let jE=class{constructor(r){this.el=r,r.remember("_selectHandler",this),this.selection=new Il,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Hp();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.createRot=r.createRot||this.createRotFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.updateRot=r.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((r,e,t)=>{const n=this.order[e];this.createHandle.call(this,this.selection,r,e,t,n),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+n).on("mousedown.selection touchstart.selection",$2(n,this.el,this.handlePoints,e))})}createHandleFn(r){r.polyline()}updateHandleFn(r,e,t,n){const a=n.at(t-1),s=n[(t+1)%n.length],i=e,l=[i[0]-a[0],i[1]-a[1]],c=[i[0]-s[0],i[1]-s[1]],d=Math.sqrt(l[0]*l[0]+l[1]*l[1]),u=Math.sqrt(c[0]*c[0]+c[1]*c[1]),h=[l[0]/d,l[1]/d],f=[c[0]/u,c[1]/u],p=[i[0]-10*h[0],i[1]-10*h[1]],m=[i[0]-10*f[0],i[1]-10*f[1]];r.plot([p,i,m])}updateResizeHandles(){this.handlePoints.forEach((r,e,t)=>{const n=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),r,e,t,n)})}createRotFn(r){r.line(),r.circle(5)}getPoint(r){return this.handlePoints[this.order.indexOf(r)]}getPointHandle(r){return this.selection.get(this.order.indexOf(r)+1)}updateRotFn(r,e){const t=this.getPoint("t");r.get(0).plot(t[0],t[1],e[0],e[1]),r.get(1).center(e[0],e[1])}createRotationHandle(){const r=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",$2("rot",this.el,this.handlePoints));this.createRot.call(this,r)}updateRotationHandle(){const r=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(r,this.rotationPoint,this.handlePoints)}updatePoints(){const r=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(r).map(t=>W2(t,e)),this.rotationPoint=W2(this.getRotationPoint(r),e)}getHandlePoints({x:r,x2:e,y:t,y2:n,cx:a,cy:s}=this.el.bbox()){return[[r,t],[a,t],[e,t],[e,s],[e,n],[a,n],[r,n],[r,s]]}getRotationPoint({y:r,cx:e}=this.el.bbox()){return[e,r-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const y6=r=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let n=this.remember("_"+r.name);return n||(e.prototype instanceof jE?(n=new e(this),e=!0):n=new r(this),this.remember("_"+r.name,n)),n.active(e,t),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function q2(r,e,t,n=null){return function(a){a.preventDefault(),a.stopPropagation();var s=a.pageX||a.touches[0].pageX,i=a.pageY||a.touches[0].pageY;e.fire(r,{x:s,y:i,event:a,index:n,points:t})}}function Y2([r,e],{a:t,b:n,c:a,d:s,e:i,f:l}){return[r*t+e*a+i,r*n+e*s+l]}Rt(la,{select:y6(jE)}),Rt([Rc,Mc,Tc],{pointSelect:y6(class{constructor(r){this.el=r,r.remember("_pointSelectHandler",this),this.selection=new Il,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Hp();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((r,e,t)=>{this.createHandle.call(this,this.selection,r,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",$2("point",this.el,this.points,e))})}createHandleFn(r){r.circle(5)}updateHandleFn(r,e){r.center(e[0],e[1])}updatePointHandles(){this.points.forEach((r,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),r,e,t)})}updatePoints(){const r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>W2(e,r))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class _E{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new Il,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=Hp();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,t,n)=>{const a=this.order[t];this.createHandle.call(this,this.selection,e,t,n,a),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+a).on("mousedown.selection touchstart.selection",q2(a,this.el,this.handlePoints,t))})}createHandleFn(e){e.polyline()}updateHandleFn(e,t,n,a){const s=a.at(n-1),i=a[(n+1)%a.length],l=t,c=[l[0]-s[0],l[1]-s[1]],d=[l[0]-i[0],l[1]-i[1]],u=Math.sqrt(c[0]*c[0]+c[1]*c[1]),h=Math.sqrt(d[0]*d[0]+d[1]*d[1]),f=[c[0]/u,c[1]/u],p=[d[0]/h,d[1]/h],m=[l[0]-10*f[0],l[1]-10*f[1]],g=[l[0]-10*p[0],l[1]-10*p[1]];e.plot([m,l,g])}updateResizeHandles(){this.handlePoints.forEach((e,t,n)=>{const a=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,n,a)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const n=this.getPoint("t");e.get(0).plot(n[0],n[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",q2("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(n=>Y2(n,t)),this.rotationPoint=Y2(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:n,y2:a,cx:s,cy:i}=this.el.bbox()){return[[e,n],[s,n],[t,n],[t,i],[t,a],[s,a],[e,a],[e,i]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const w6=r=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let n=this.remember("_"+r.name);return n||(e.prototype instanceof _E?(n=new e(this),e=!0):n=new r(this),this.remember("_"+r.name,n)),n.active(e,t),this};Rt(la,{select:w6(_E)}),Rt([Rc,Mc,Tc],{pointSelect:w6(class{constructor(r){this.el=r,r.remember("_pointSelectHandler",this),this.selection=new Il,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Hp();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((r,e,t)=>{this.createHandle.call(this,this.selection,r,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",q2("point",this.el,this.points,e))})}createHandleFn(r){r.circle(5)}updateHandleFn(r,e){r.center(e[0],e[1])}updatePointHandles(){this.points.forEach((r,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),r,e,t)})}updatePoints(){const r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>Y2(e,r))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const dm=r=>(r.changedTouches&&(r=r.changedTouches[0]),{x:r.clientX,y:r.clientY}),k6=r=>{let e=1/0,t=1/0,n=-1/0,a=-1/0;for(let s=0;s<r.length;s++){const i=r[s];e=Math.min(e,i[0]),t=Math.min(t,i[1]),n=Math.max(n,i[0]),a=Math.max(a,i[1])}return new Zn(e,t,n-e,a-t)};class C6{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,t){this.preserveAspectRatio=t.preserveAspectRatio??!1,this.aroundCenter=t.aroundCenter??!1,this.grid=t.grid??0,this.degree=t.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:t,index:n,points:a}=e.detail,s=!t.type.indexOf("mouse");if(s&&(t.which||t.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(dm(t)),this.index=n,this.points=a.slice();const i=(s?"mousemove":"touchmove")+".resize",l=(s?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?So(window,i,this.movePoint):e.type==="rot"?So(window,i,this.rotate):So(window,i,this.resize),So(window,l,this.endResize)}resize(e){this.lastEvent=e;const t=this.snapToGrid(this.el.point(dm(e)));let n=t.x-this.startPoint.x,a=t.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(n*=2,a*=2);const s=this.box.x+n,i=this.box.y+a,l=this.box.x2+n,c=this.box.y2+a;let d=new Zn(this.box);if(this.eventType.includes("l")&&(d.x=Math.min(s,this.box.x2),d.x2=Math.max(s,this.box.x2)),this.eventType.includes("r")&&(d.x=Math.min(l,this.box.x),d.x2=Math.max(l,this.box.x)),this.eventType.includes("t")&&(d.y=Math.min(i,this.box.y2),d.y2=Math.max(i,this.box.y2)),this.eventType.includes("b")&&(d.y=Math.min(c,this.box.y),d.y2=Math.max(c,this.box.y)),d.width=d.x2-d.x,d.height=d.y2-d.y,this.preserveAspectRatio){const u=d.width/this.box.width,h=d.height/this.box.height,f=["lt","t","rt","r","rb","b","lb","l"],p=(f.indexOf(this.eventType)+4)%f.length,m=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[p];let g=this.eventType.includes("t")||this.eventType.includes("b")?h:u;g=this.eventType.length===2?Math.max(u,h):g,d=function(v,x,b){const y=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]].map(([C,S])=>{const _=C-x[0],E=(S-x[1])*b;return[_*b+x[0],E+x[1]]});return k6(y)}(this.box,m,g)}this.el.dispatch("resize",{box:new Zn(d),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(d.width,d.height).move(d.x,d.y)}movePoint(e){this.lastEvent=e;const{x:t,y:n}=this.snapToGrid(this.el.point(dm(e))),a=this.el.array().slice();a[this.index]=[t,n],this.el.dispatch("resize",{box:k6(a),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(a)}rotate(e){this.lastEvent=e;const t=this.startPoint,n=this.el.point(dm(e)),{cx:a,cy:s}=this.box,i=t.x-a,l=t.y-s,c=n.x-a,d=n.y-s,u=Math.sqrt(i*i+l*l)*Math.sqrt(c*c+d*d);if(u===0)return;let h=Math.acos((i*c+l*d)/u)/Math.PI*180;if(!h)return;n.x<t.x&&(h=-h);const f=new Kt(this.el),{x:p,y:m}=new _r(a,s).transformO(f),{rotate:g}=f.decompose(),v=this.snapToAngle(g+h)-g;this.el.dispatch("resize",{box:this.box,angle:v,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(f.rotateO(v,p,m))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",Gs(window,"mousemove.resize touchmove.resize"),Gs(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}Rt(la,{resize:function(r=!0,e={}){typeof r=="object"&&(e=r,r=!0);let t=this.remember("_ResizeHandler");return t||(r.prototype instanceof C6?(t=new r(this),r=!0):t=new C6(this),this.remember("_resizeHandler",t)),t.active(r,e),this}}),window.SVG===void 0&&(window.SVG=jV),window.Apex===void 0&&(window.Apex={});var S6=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w}return yt(r,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new ph(this.ctx),this.ctx.axes=new MV(this.ctx),this.ctx.core=new l$(this.ctx.el,this.ctx),this.ctx.config=new mp({}),this.ctx.data=new P4(this.ctx),this.ctx.grid=new gE(this.ctx),this.ctx.graphics=new Ye(this.ctx),this.ctx.coreUtils=new hn(this.ctx),this.ctx.crosshairs=new V2(this.ctx),this.ctx.events=new TV(this.ctx),this.ctx.exports=new Q0(this.ctx),this.ctx.fill=new ji(this.ctx),this.ctx.localization=new RV(this.ctx),this.ctx.options=new jc,this.ctx.responsive=new IV(this.ctx),this.ctx.series=new Zs(this.ctx),this.ctx.theme=new OV(this.ctx),this.ctx.formatters=new $p(this.ctx),this.ctx.titleSubtitle=new FV(this.ctx),this.ctx.legend=new xE(this.ctx),this.ctx.toolbar=new vE(this.ctx),this.ctx.tooltip=new x6(this.ctx),this.ctx.dimensions=new ex(this.ctx),this.ctx.updateHelpers=new c$(this.ctx),this.ctx.zoomPanSelection=new $V(this.ctx),this.ctx.w.globals.tooltip=new x6(this.ctx)}}]),r}(),j6=function(){function r(e){bt(this,r),this.ctx=e,this.w=e.w}return yt(r,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,n=e.isUpdating,a=this.w.globals.dom.Paper.node;a.parentNode&&a.parentNode.parentNode&&!n&&(a.parentNode.parentNode.style.minHeight="unset");var s=this.w.globals.dom.baseEl;s&&this.ctx.eventList.forEach(function(l){s.removeEventListener(l,t.ctx.events.documentEvent)});var i=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(i.Paper),i.Paper.remove(),i.elWrap=null,i.elGraphical=null,i.elLegendWrap=null,i.elLegendForeign=null,i.baseEl=null,i.elGridRect=null,i.elGridRectMask=null,i.elGridRectBarMask=null,i.elGridRectMarkerMask=null,i.elForecastMask=null,i.elNonForecastMask=null,i.elDefs=null}}]),r}(),pb=new WeakMap,u$=function(){function r(e,t){bt(this,r),this.opts=t,this.ctx=this,this.w=new DV(t).init(),this.el=e,this.w.globals.cuid=xe.randomId(),this.w.globals.chartID=this.w.config.chart.id?xe.escapeString(this.w.config.chart.id):this.w.globals.cuid,new S6(this).initModules(),this.create=xe.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return yt(r,[{key:"render",value:function(){var e=this;return new Promise(function(t,n){if(xe.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var a=e.w.config.chart.events.beforeMount;typeof a=="function"&&a(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(f,p){var m=!1;if(f.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var g=f.getBoundingClientRect();f.style.display!=="none"&&g.width!==0||(m=!0)}var v=new ResizeObserver(function(x){m&&p.call(f,x),m=!0});f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(f.children).forEach(function(x){return v.observe(x)}):v.observe(f),pb.set(p,v)}(e.el.parentNode,e.parentResizeHandler);var s=e.el.getRootNode&&e.el.getRootNode(),i=xe.is("ShadowRoot",s),l=e.el.ownerDocument,c=i?s.getElementById("apexcharts-css"):l.getElementById("apexcharts-css");if(!c){var d;(c=document.createElement("style")).id="apexcharts-css",c.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}`;var u=((d=e.opts.chart)===null||d===void 0?void 0:d.nonce)||e.w.config.chart.nonce;u&&c.setAttribute("nonce",u),i?s.prepend(c):l.head.appendChild(c)}var h=e.create(e.w.config.series,{});if(!h)return t(e);e.mount(h).then(function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(h)}).catch(function(f){n(f)})}else n(new Error("Element not found"))})}},{key:"create",value:function(e,t){var n=this,a=this.w;new S6(this).initModules();var s=this.w.globals;if(s.noData=!1,s.animationEnded=!1,!xe.elementExists(this.el))return s.animationEnded=!0,this.destroy(),null;if(this.responsive.checkResponsiveConfig(t),a.config.xaxis.convertedCatToNumeric&&new gp(a.config).convertCatToNumericXaxis(a.config,this.ctx),this.core.setupElements(),a.config.chart.type==="treemap"&&(a.config.grid.show=!1,a.config.yaxis[0].show=!1),s.svgWidth===0)return s.animationEnded=!0,null;var i=e;e.forEach(function(f,p){f.hidden&&(i=n.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:p}))});var l=hn.checkComboSeries(i,a.config.chart.type);s.comboCharts=l.comboCharts,s.comboBarCount=l.comboBarCount;var c=i.every(function(f){return f.data&&f.data.length===0});(i.length===0||c&&s.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(i),this.theme.init(),new vh(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),s.noData&&s.collapsedSeries.length!==s.series.length&&!a.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),s.axisCharts&&(this.core.coreCalculations(),a.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=a.globals.minX,this.ctx.toolbar.maxX=a.globals.maxX),this.formatters.heatmapLabelFormatters(),new hn(this).getLargestMarkerSize(),this.dimensions.plotCoords();var d=this.core.xySettings();this.grid.createGridMask();var u=this.core.plotChartType(i,d),h=new Xu(this);return h.bringForward(),a.config.dataLabels.background.enabled&&h.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:u,xyRatios:d,dimensions:{plot:{left:a.globals.translateX,top:a.globals.translateY,width:a.globals.gridWidth,height:a.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=this,a=n.w;return new Promise(function(s,i){if(n.el===null)return i(new Error("Not enough data to display or target element not found"));(t===null||a.globals.allSeriesCollapsed)&&n.series.handleNoData(),n.grid=new gE(n);var l,c,d=n.grid.drawGrid();if(n.annotations=new LV(n),n.annotations.drawImageAnnos(),n.annotations.drawTextAnnos(),a.config.grid.position==="back"&&(d&&a.globals.dom.elGraphical.add(d.el),d!=null&&(l=d.elGridBorders)!==null&&l!==void 0&&l.node&&a.globals.dom.elGraphical.add(d.elGridBorders)),Array.isArray(t.elGraph))for(var u=0;u<t.elGraph.length;u++)a.globals.dom.elGraphical.add(t.elGraph[u]);else a.globals.dom.elGraphical.add(t.elGraph);a.config.grid.position==="front"&&(d&&a.globals.dom.elGraphical.add(d.el),d!=null&&(c=d.elGridBorders)!==null&&c!==void 0&&c.node&&a.globals.dom.elGraphical.add(d.elGridBorders)),a.config.xaxis.crosshairs.position==="front"&&n.crosshairs.drawXCrosshairs(),a.config.yaxis[0].crosshairs.position==="front"&&n.crosshairs.drawYCrosshairs(),a.config.chart.type!=="treemap"&&n.axes.drawAxis(a.config.chart.type,d);var h=new xp(e.ctx,d),f=new L4(e.ctx,d);if(d!==null&&(h.xAxisLabelCorrections(d.xAxisTickWidth),f.setYAxisTextAlignments(),a.config.yaxis.map(function(m,g){a.globals.ignoreYAxisIndexes.indexOf(g)===-1&&f.yAxisTitleRotate(g,m.opposite)})),n.annotations.drawAxesAnnotations(),!a.globals.noData){if(a.config.tooltip.enabled&&!a.globals.noData&&n.w.globals.tooltip.drawTooltip(t.xyRatios),a.globals.axisCharts&&(a.globals.isXNumeric||a.config.xaxis.convertedCatToNumeric||a.globals.isRangeBar))(a.config.chart.zoom.enabled||a.config.chart.selection&&a.config.chart.selection.enabled||a.config.chart.pan&&a.config.chart.pan.enabled)&&n.zoomPanSelection.init({xyRatios:t.xyRatios});else{var p=a.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(m){p[m]=!1})}a.config.chart.toolbar.show&&!a.globals.allSeriesCollapsed&&n.toolbar.createToolbar()}a.globals.memory.methodsToExec.length>0&&a.globals.memory.methodsToExec.forEach(function(m){m.method(m.params,!1,m.context)}),a.globals.axisCharts||a.globals.noData||n.core.resizeNonAxisCharts(),s(n)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(t,n){var a=pb.get(n);a&&(a.disconnect(),pb.delete(n))}(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach(function(t,n){t.id===xe.escapeString(e)&&Apex._chartInstances.splice(n,1)}),new j6(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],l=this.w;return l.globals.selection=void 0,e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(c,d){return t.updateHelpers._extendSeries(c,d)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),l.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,n,a,s,i)}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,n)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=this.w.config.series.slice();return a.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,t,n)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=this;n.w.globals.dataChanged=!0,n.series.getPreviousPaths();for(var a=n.w.config.series.slice(),s=0;s<a.length;s++)if(e[s]!==null&&e[s]!==void 0)for(var i=0;i<e[s].data.length;i++)a[s].data.push(e[s].data[i]);return n.w.config.series=a,t&&(n.w.globals.initialSeries=xe.clone(n.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise(function(n,a){new j6(t.ctx).clear({isUpdating:!0});var s=t.create(t.w.config.series,e);if(!s)return n(t);t.mount(s).then(function(){typeof t.w.config.chart.events.updated=="function"&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,n(t)}).catch(function(i){a(i)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach(function(n){t.push(n)})),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(t){if(t.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;n&&(a=n),a.annotations.addXaxisAnnotationExternal(e,t,a)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;n&&(a=n),a.annotations.addYaxisAnnotationExternal(e,t,a)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;n&&(a=n),a.annotations.addPointAnnotationExternal(e,t,a)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=this;t&&(n=t),n.annotations.removeAnnotation(n,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new U2(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new U2(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new Q0(this.ctx).dataURI(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Q0(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=xe.escapeString(e);if(Apex._chartInstances){var n=Apex._chartInstances.filter(function(a){return a.id===t})[0];return n&&n.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new r(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var n=this.getChartByID(e);if(n){n.w.globals.isExecCalled=!0;var a=null;if(n.publicMethods.indexOf(t)!==-1){for(var s=arguments.length,i=new Array(s>2?s-2:0),l=2;l<s;l++)i[l-2]=arguments[l];a=n[t].apply(n,i)}return a}}},{key:"merge",value:function(e,t){return xe.extend(e,t)}}]),r}();const h$=Object.freeze(Object.defineProperty({__proto__:null,default:u$},Symbol.toStringTag,{value:"Module"})),f$=Z5(h$);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=y;var e=l(w),t=s(f$),n=s(i4),a=["type","width","height","series","options"];function s(C){return C&&C.__esModule?C:{default:C}}function i(C){var S,_;return typeof WeakMap!="function"?null:(S=new WeakMap,_=new WeakMap,(i=function(E){return E?_:S})(C))}function l(C,S){if(!S&&C&&C.__esModule)return C;if(C===null||h(C)!="object"&&typeof C!="function")return{default:C};if(S=i(S),S&&S.has(C))return S.get(C);var _,E,A={__proto__:null},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in C)_!=="default"&&{}.hasOwnProperty.call(C,_)&&((E=T?Object.getOwnPropertyDescriptor(C,_):null)&&(E.get||E.set)?Object.defineProperty(A,_,E):A[_]=C[_]);return A.default=C,S&&S.set(C,A),A}function c(){return(c=Object.assign?Object.assign.bind():function(C){for(var S=1;S<arguments.length;S++){var _,E=arguments[S];for(_ in E)!{}.hasOwnProperty.call(E,_)||(C[_]=E[_])}return C}).apply(null,arguments)}function d(C,S){if(C==null)return{};var _,E=u(C,S);if(Object.getOwnPropertySymbols)for(var A=Object.getOwnPropertySymbols(C),T=0;T<A.length;T++)_=A[T],S.includes(_)||{}.propertyIsEnumerable.call(C,_)&&(E[_]=C[_]);return E}function u(C,S){if(C==null)return{};var _,E={};for(_ in C)if({}.hasOwnProperty.call(C,_)){if(S.includes(_))continue;E[_]=C[_]}return E}function h(C){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(C)}function f(C,S){var _,E=Object.keys(C);return Object.getOwnPropertySymbols&&(_=Object.getOwnPropertySymbols(C),S&&(_=_.filter(function(A){return Object.getOwnPropertyDescriptor(C,A).enumerable})),E.push.apply(E,_)),E}function p(C){for(var S=1;S<arguments.length;S++){var _=arguments[S]!=null?arguments[S]:{};S%2?f(Object(_),!0).forEach(function(E){m(C,E,_[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(_)):f(Object(_)).forEach(function(E){Object.defineProperty(C,E,Object.getOwnPropertyDescriptor(_,E))})}return C}function m(C,S,_){return(S=g(S))in C?Object.defineProperty(C,S,{value:_,enumerable:!0,configurable:!0,writable:!0}):C[S]=_,C}function g(C){return C=v(C,"string"),h(C)=="symbol"?C:C+""}function v(C,S){if(h(C)!="object"||!C)return C;var _=C[Symbol.toPrimitive];if(_===void 0)return(S==="string"?String:Number)(C);if(_=_.call(C,S),h(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}function x(C,S){var _=p({},C);return S.forEach(function(E){delete _[E]}),_}function b(C,S){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(C!==S){if(h(C)!=="object"||C===null||h(S)!=="object"||S===null)return!1;if(!_.has(C)&&!_.has(S)){_.add(C),_.add(S);var E=Object.keys(C),A=Object.keys(S);if(E.length!==A.length)return!1;for(var T=0,F=E;T<F.length;T++){var L=F[T];if(!A.includes(L)||!b(C[L],S[L],_))return!1}}}return!0}function y(V){function S(W){return W&&h(W)==="object"&&!Array.isArray(W)}var L=V.type,_=L===void 0?"line":L,L=V.width,E=L===void 0?"100%":L,L=V.height,A=L===void 0?"auto":L,T=V.series,F=V.options,L=d(V,a),D=(0,e.useRef)(null),O=(0,e.useRef)(null),I=(0,e.useRef)(),B=((0,e.useEffect)(function(){I.current=F;var W=D.current;return O.current=new t.default(W,B()),O.current.render(),function(){O.current&&typeof O.current.destroy=="function"&&O.current.destroy()}},[]),(0,e.useEffect)(function(){var W=!b(O.current.w.config.series,T),Y=!b(I.current,F)||A!==O.current.opts.chart.height||E!==O.current.opts.chart.width;(W||Y)&&(!W||Y?O.current.updateOptions(B()):O.current.updateSeries(T)),I.current=F},[F,T,A,E]),function(){return z(F,{chart:{type:_,height:A,width:E},series:T})}),z=function(W,Y){var G=p({},W);return S(W)&&S(Y)&&Object.keys(Y).forEach(function(q){S(Y[q])&&q in W?G[q]=z(W[q],Y[q]):Object.assign(G,m({},q,Y[q]))}),G},V=x(L,Object.keys(y.propTypes));return e.default.createElement("div",c({ref:D},V))}y.propTypes={type:n.default.string.isRequired,series:n.default.array.isRequired,options:n.default.object.isRequired,width:n.default.oneOfType([n.default.string,n.default.number]),height:n.default.oneOfType([n.default.string,n.default.number])}})(DN);const D4=Fo(DN);function p$(){const r={legend:{show:!1,position:"top",horizontalAlign:"left"},colors:["#465FFF","#9CB9FF"],chart:{fontFamily:"Outfit, sans-serif",height:310,type:"line",toolbar:{show:!1}},stroke:{curve:"straight",width:[2,2]},fill:{type:"gradient",gradient:{opacityFrom:.55,opacityTo:0}},markers:{size:0,strokeColors:"#fff",strokeWidth:2,hover:{size:6}},grid:{xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},tooltip:{enabled:!0,x:{format:"dd MMM yyyy"}},xaxis:{type:"category",categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisBorder:{show:!1},axisTicks:{show:!1},tooltip:{enabled:!1}},yaxis:{labels:{style:{fontSize:"12px",colors:["#6B7280"]}},title:{text:"",style:{fontSize:"0px"}}}},e=[{name:"Sales",data:[180,190,170,160,175,165,170,205,230,210,240,235]},{name:"Revenue",data:[40,30,50,40,55,40,70,100,110,120,150,140]}];return o.jsx("div",{className:"max-w-full overflow-x-auto custom-scrollbar",children:o.jsx("div",{id:"chartEight",className:"min-w-[1000px]",children:o.jsx(D4,{options:r,series:e,type:"area",height:310})})})}function g$(){return o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"React.js Chart Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Chart Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),o.jsx(kr,{pageTitle:"Line Chart"}),o.jsx("div",{className:"space-y-6",children:o.jsx(ar,{title:"Line Chart 1",children:o.jsx(p$,{})})})]})}function m$(){const r={colors:["#465fff"],chart:{fontFamily:"Outfit, sans-serif",type:"bar",height:180,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"39%",borderRadius:5,borderRadiusApplication:"end"}},dataLabels:{enabled:!1},stroke:{show:!0,width:4,colors:["transparent"]},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisBorder:{show:!1},axisTicks:{show:!1}},legend:{show:!0,position:"top",horizontalAlign:"left",fontFamily:"Outfit"},yaxis:{title:{text:void 0}},grid:{yaxis:{lines:{show:!0}}},fill:{opacity:1},tooltip:{x:{show:!1},y:{formatter:t=>`${t}`}}},e=[{name:"Sales",data:[168,385,201,298,187,195,291,110,215,390,280,112]}];return o.jsx("div",{className:"max-w-full overflow-x-auto custom-scrollbar",children:o.jsx("div",{id:"chartOne",className:"min-w-[1000px]",children:o.jsx(D4,{options:r,series:e,type:"bar",height:180})})})}function x$(){return o.jsxs("div",{children:[o.jsx(Yt,{title:"React.js Chart Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Chart Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),o.jsx(kr,{pageTitle:"Bar Chart"}),o.jsx("div",{className:"space-y-6",children:o.jsx(ar,{title:"Bar Chart 1",children:o.jsx(m$,{})})})]})}var c1,Mt,NE,EE,Ju,_c,_6,AE,PE,tx={},LE=[],v$=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Cl(r,e){for(var t in e)r[t]=e[t];return r}function DE(r){var e=r.parentNode;e&&e.removeChild(r)}function he(r,e,t){var n,a,s,i={};for(s in e)s=="key"?n=e[s]:s=="ref"?a=e[s]:i[s]=e[s];if(arguments.length>2&&(i.children=arguments.length>3?c1.call(arguments,2):t),typeof r=="function"&&r.defaultProps!=null)for(s in r.defaultProps)i[s]===void 0&&(i[s]=r.defaultProps[s]);return t0(r,i,n,a,null)}function t0(r,e,t,n,a){var s={type:r,props:e,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a??++NE};return a==null&&Mt.vnode!=null&&Mt.vnode(s),s}function Ra(){return{current:null}}function qr(r){return r.children}function b$(r,e,t,n,a){var s;for(s in t)s==="children"||s==="key"||s in e||rx(r,s,null,t[s],n);for(s in e)a&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||t[s]===e[s]||rx(r,s,e[s],t[s],n)}function N6(r,e,t){e[0]==="-"?r.setProperty(e,t??""):r[e]=t==null?"":typeof t!="number"||v$.test(e)?t:t+"px"}function rx(r,e,t,n,a){var s;e:if(e==="style")if(typeof t=="string")r.style.cssText=t;else{if(typeof n=="string"&&(r.style.cssText=n=""),n)for(e in n)t&&e in t||N6(r.style,e,"");if(t)for(e in t)n&&t[e]===n[e]||N6(r.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in r?e.toLowerCase().slice(2):e.slice(2),r.l||(r.l={}),r.l[e+s]=t,t?n||r.addEventListener(e,s?A6:E6,s):r.removeEventListener(e,s?A6:E6,s);else if(e!=="dangerouslySetInnerHTML"){if(a)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in r)try{r[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?r.removeAttribute(e):r.setAttribute(e,t))}}function E6(r){Ju=!0;try{return this.l[r.type+!1](Mt.event?Mt.event(r):r)}finally{Ju=!1}}function A6(r){Ju=!0;try{return this.l[r.type+!0](Mt.event?Mt.event(r):r)}finally{Ju=!1}}function ys(r,e){this.props=r,this.context=e}function vp(r,e){if(e==null)return r.__?vp(r.__,r.__.__k.indexOf(r)+1):null;for(var t;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null)return t.__e;return typeof r.type=="function"?vp(r):null}function TE(r){var e,t;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,e=0;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null){r.__e=r.__c.base=t.__e;break}return TE(r)}}function y$(r){Ju?setTimeout(r):AE(r)}function G2(r){(!r.__d&&(r.__d=!0)&&_c.push(r)&&!nx.__r++||_6!==Mt.debounceRendering)&&((_6=Mt.debounceRendering)||y$)(nx)}function nx(){var r,e,t,n,a,s,i,l;for(_c.sort(function(c,d){return c.__v.__b-d.__v.__b});r=_c.shift();)r.__d&&(e=_c.length,n=void 0,a=void 0,i=(s=(t=r).__v).__e,(l=t.__P)&&(n=[],(a=Cl({},s)).__v=s.__v+1,T4(l,s,a,t.__n,l.ownerSVGElement!==void 0,s.__h!=null?[i]:null,n,i??vp(s),s.__h),FE(n,s),s.__e!=i&&TE(s)),_c.length>e&&_c.sort(function(c,d){return c.__v.__b-d.__v.__b}));nx.__r=0}function RE(r,e,t,n,a,s,i,l,c,d){var u,h,f,p,m,g,v,x=n&&n.__k||LE,b=x.length;for(t.__k=[],u=0;u<e.length;u++)if((p=t.__k[u]=(p=e[u])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?t0(null,p,null,null,p):Array.isArray(p)?t0(qr,{children:p},null,null,null):p.__b>0?t0(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=t,p.__b=t.__b+1,(f=x[u])===null||f&&p.key==f.key&&p.type===f.type)x[u]=void 0;else for(h=0;h<b;h++){if((f=x[h])&&p.key==f.key&&p.type===f.type){x[h]=void 0;break}f=null}T4(r,p,f=f||tx,a,s,i,l,c,d),m=p.__e,(h=p.ref)&&f.ref!=h&&(v||(v=[]),f.ref&&v.push(f.ref,null,p),v.push(h,p.__c||m,p)),m!=null?(g==null&&(g=m),typeof p.type=="function"&&p.__k===f.__k?p.__d=c=ME(p,c,r):c=IE(r,p,f,x,m,c),typeof t.type=="function"&&(t.__d=c)):c&&f.__e==c&&c.parentNode!=r&&(c=vp(f))}for(t.__e=g,u=b;u--;)x[u]!=null&&(typeof t.type=="function"&&x[u].__e!=null&&x[u].__e==t.__d&&(t.__d=OE(n).nextSibling),zE(x[u],x[u]));if(v)for(u=0;u<v.length;u++)BE(v[u],v[++u],v[++u])}function ME(r,e,t){for(var n,a=r.__k,s=0;a&&s<a.length;s++)(n=a[s])&&(n.__=r,e=typeof n.type=="function"?ME(n,e,t):IE(t,n,n,a,n.__e,e));return e}function ax(r,e){return e=e||[],r==null||typeof r=="boolean"||(Array.isArray(r)?r.some(function(t){ax(t,e)}):e.push(r)),e}function IE(r,e,t,n,a,s){var i,l,c;if(e.__d!==void 0)i=e.__d,e.__d=void 0;else if(t==null||a!=s||a.parentNode==null)e:if(s==null||s.parentNode!==r)r.appendChild(a),i=null;else{for(l=s,c=0;(l=l.nextSibling)&&c<n.length;c+=1)if(l==a)break e;r.insertBefore(a,s),i=s}return i!==void 0?i:a.nextSibling}function OE(r){var e,t,n;if(r.type==null||typeof r.type=="string")return r.__e;if(r.__k){for(e=r.__k.length-1;e>=0;e--)if((t=r.__k[e])&&(n=OE(t)))return n}return null}function T4(r,e,t,n,a,s,i,l,c){var d,u,h,f,p,m,g,v,x,b,y,C,S,_,E,A=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(c=t.__h,l=e.__e=t.__e,e.__h=null,s=[l]),(d=Mt.__b)&&d(e);try{e:if(typeof A=="function"){if(v=e.props,x=(d=A.contextType)&&n[d.__c],b=d?x?x.props.value:d.__:n,t.__c?g=(u=e.__c=t.__c).__=u.__E:("prototype"in A&&A.prototype.render?e.__c=u=new A(v,b):(e.__c=u=new ys(v,b),u.constructor=A,u.render=k$),x&&x.sub(u),u.props=v,u.state||(u.state={}),u.context=b,u.__n=n,h=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),A.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Cl({},u.__s)),Cl(u.__s,A.getDerivedStateFromProps(v,u.__s))),f=u.props,p=u.state,u.__v=e,h)A.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(A.getDerivedStateFromProps==null&&v!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(v,b),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(v,u.__s,b)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(u.props=v,u.state=u.__s,u.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(T){T&&(T.__=e)}),y=0;y<u._sb.length;y++)u.__h.push(u._sb[y]);u._sb=[],u.__h.length&&i.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(v,u.__s,b),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,p,m)})}if(u.context=b,u.props=v,u.__P=r,C=Mt.__r,S=0,"prototype"in A&&A.prototype.render){for(u.state=u.__s,u.__d=!1,C&&C(e),d=u.render(u.props,u.state,u.context),_=0;_<u._sb.length;_++)u.__h.push(u._sb[_]);u._sb=[]}else do u.__d=!1,C&&C(e),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++S<25);u.state=u.__s,u.getChildContext!=null&&(n=Cl(Cl({},n),u.getChildContext())),h||u.getSnapshotBeforeUpdate==null||(m=u.getSnapshotBeforeUpdate(f,p)),E=d!=null&&d.type===qr&&d.key==null?d.props.children:d,RE(r,Array.isArray(E)?E:[E],e,t,n,a,s,i,l,c),u.base=e.__e,e.__h=null,u.__h.length&&i.push(u),g&&(u.__E=u.__=null),u.__e=!1}else s==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=w$(t.__e,e,t,n,a,s,i,c);(d=Mt.diffed)&&d(e)}catch(T){e.__v=null,(c||s!=null)&&(e.__e=l,e.__h=!!c,s[s.indexOf(l)]=null),Mt.__e(T,e,t)}}function FE(r,e){Mt.__c&&Mt.__c(e,r),r.some(function(t){try{r=t.__h,t.__h=[],r.some(function(n){n.call(t)})}catch(n){Mt.__e(n,t.__v)}})}function w$(r,e,t,n,a,s,i,l){var c,d,u,h=t.props,f=e.props,p=e.type,m=0;if(p==="svg"&&(a=!0),s!=null){for(;m<s.length;m++)if((c=s[m])&&"setAttribute"in c==!!p&&(p?c.localName===p:c.nodeType===3)){r=c,s[m]=null;break}}if(r==null){if(p===null)return document.createTextNode(f);r=a?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,f.is&&f),s=null,l=!1}if(p===null)h===f||l&&r.data===f||(r.data=f);else{if(s=s&&c1.call(r.childNodes),d=(h=t.props||tx).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!l){if(s!=null)for(h={},m=0;m<r.attributes.length;m++)h[r.attributes[m].name]=r.attributes[m].value;(u||d)&&(u&&(d&&u.__html==d.__html||u.__html===r.innerHTML)||(r.innerHTML=u&&u.__html||""))}if(b$(r,f,h,a,l),u)e.__k=[];else if(m=e.props.children,RE(r,Array.isArray(m)?m:[m],e,t,n,a&&p!=="foreignObject",s,i,s?s[0]:t.__k&&vp(t,0),l),s!=null)for(m=s.length;m--;)s[m]!=null&&DE(s[m]);l||("value"in f&&(m=f.value)!==void 0&&(m!==r.value||p==="progress"&&!m||p==="option"&&m!==h.value)&&rx(r,"value",m,h.value,!1),"checked"in f&&(m=f.checked)!==void 0&&m!==r.checked&&rx(r,"checked",m,h.checked,!1))}return r}function BE(r,e,t){try{typeof r=="function"?r(e):r.current=e}catch(n){Mt.__e(n,t)}}function zE(r,e,t){var n,a;if(Mt.unmount&&Mt.unmount(r),(n=r.ref)&&(n.current&&n.current!==r.__e||BE(n,null,e)),(n=r.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){Mt.__e(s,e)}n.base=n.__P=null,r.__c=void 0}if(n=r.__k)for(a=0;a<n.length;a++)n[a]&&zE(n[a],e,t||typeof r.type!="function");t||r.__e==null||DE(r.__e),r.__=r.__e=r.__d=void 0}function k$(r,e,t){return this.constructor(r,t)}function bp(r,e,t){var n,a,s;Mt.__&&Mt.__(r,e),a=(n=!1)?null:e.__k,s=[],T4(e,r=e.__k=he(qr,null,[r]),a||tx,tx,e.ownerSVGElement!==void 0,a?null:e.firstChild?c1.call(e.childNodes):null,s,a?a.__e:e.firstChild,n),FE(s,r)}function C$(r,e){var t={__c:e="__cC"+PE++,__:r,Consumer:function(n,a){return n.children(a)},Provider:function(n){var a,s;return this.getChildContext||(a=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(i){this.props.value!==i.value&&a.some(function(l){l.__e=!0,G2(l)})},this.sub=function(i){a.push(i);var l=i.componentWillUnmount;i.componentWillUnmount=function(){a.splice(a.indexOf(i),1),l&&l.call(i)}}),n.children}};return t.Provider.__=t.Consumer.contextType=t}c1=LE.slice,Mt={__e:function(r,e,t,n){for(var a,s,i;e=e.__;)if((a=e.__c)&&!a.__)try{if((s=a.constructor)&&s.getDerivedStateFromError!=null&&(a.setState(s.getDerivedStateFromError(r)),i=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(r,n||{}),i=a.__d),i)return a.__E=a}catch(l){r=l}throw r}},NE=0,EE=function(r){return r!=null&&r.constructor===void 0},Ju=!1,ys.prototype.setState=function(r,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Cl({},this.state),typeof r=="function"&&(r=r(Cl({},t),this.props)),r&&Cl(t,r),r!=null&&this.__v&&(e&&this._sb.push(e),G2(this))},ys.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),G2(this))},ys.prototype.render=qr,_c=[],AE=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,nx.__r=0,PE=0;var Wi,gb,P6,HE=[],mb=[],L6=Mt.__b,D6=Mt.__r,T6=Mt.diffed,R6=Mt.__c,M6=Mt.unmount;function S$(){for(var r;r=HE.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(r0),r.__H.__h.forEach(X2),r.__H.__h=[]}catch(e){r.__H.__h=[],Mt.__e(e,r.__v)}}Mt.__b=function(r){Wi=null,L6&&L6(r)},Mt.__r=function(r){D6&&D6(r);var e=(Wi=r.__c).__H;e&&(gb===Wi?(e.__h=[],Wi.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=mb,t.__N=t.i=void 0})):(e.__h.forEach(r0),e.__h.forEach(X2),e.__h=[])),gb=Wi},Mt.diffed=function(r){T6&&T6(r);var e=r.__c;e&&e.__H&&(e.__H.__h.length&&(HE.push(e)!==1&&P6===Mt.requestAnimationFrame||((P6=Mt.requestAnimationFrame)||j$)(S$)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==mb&&(t.__=t.__V),t.i=void 0,t.__V=mb})),gb=Wi=null},Mt.__c=function(r,e){e.some(function(t){try{t.__h.forEach(r0),t.__h=t.__h.filter(function(n){return!n.__||X2(n)})}catch(n){e.some(function(a){a.__h&&(a.__h=[])}),e=[],Mt.__e(n,t.__v)}}),R6&&R6(r,e)},Mt.unmount=function(r){M6&&M6(r);var e,t=r.__c;t&&t.__H&&(t.__H.__.forEach(function(n){try{r0(n)}catch(a){e=a}}),t.__H=void 0,e&&Mt.__e(e,t.__v))};var I6=typeof requestAnimationFrame=="function";function j$(r){var e,t=function(){clearTimeout(n),I6&&cancelAnimationFrame(e),setTimeout(r)},n=setTimeout(t,100);I6&&(e=requestAnimationFrame(t))}function r0(r){var e=Wi,t=r.__c;typeof t=="function"&&(r.__c=void 0,t()),Wi=e}function X2(r){var e=Wi;r.__c=r.__(),Wi=e}function _$(r,e){for(var t in e)r[t]=e[t];return r}function O6(r,e){for(var t in r)if(t!=="__source"&&!(t in e))return!0;for(var n in e)if(n!=="__source"&&r[n]!==e[n])return!0;return!1}function F6(r){this.props=r}(F6.prototype=new ys).isPureReactComponent=!0,F6.prototype.shouldComponentUpdate=function(r,e){return O6(this.props,r)||O6(this.state,e)};var B6=Mt.__b;Mt.__b=function(r){r.type&&r.type.__f&&r.ref&&(r.props.ref=r.ref,r.ref=null),B6&&B6(r)};var N$=Mt.__e;Mt.__e=function(r,e,t,n){if(r.then){for(var a,s=e;s=s.__;)if((a=s.__c)&&a.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),a.__c(r,e)}N$(r,e,t,n)};var z6=Mt.unmount;function UE(r,e,t){return r&&(r.__c&&r.__c.__H&&(r.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),r.__c.__H=null),(r=_$({},r)).__c!=null&&(r.__c.__P===t&&(r.__c.__P=e),r.__c=null),r.__k=r.__k&&r.__k.map(function(n){return UE(n,e,t)})),r}function VE(r,e,t){return r&&(r.__v=null,r.__k=r.__k&&r.__k.map(function(n){return VE(n,e,t)}),r.__c&&r.__c.__P===e&&(r.__e&&t.insertBefore(r.__e,r.__d),r.__c.__e=!0,r.__c.__P=t)),r}function xb(){this.__u=0,this.t=null,this.__b=null}function $E(r){var e=r.__.__c;return e&&e.__a&&e.__a(r)}function um(){this.u=null,this.o=null}Mt.unmount=function(r){var e=r.__c;e&&e.__R&&e.__R(),e&&r.__h===!0&&(r.type=null),z6&&z6(r)},(xb.prototype=new ys).__c=function(r,e){var t=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(t);var a=$E(n.__v),s=!1,i=function(){s||(s=!0,t.__R=null,a?a(l):l())};t.__R=i;var l=function(){if(!--n.__u){if(n.state.__a){var d=n.state.__a;n.__v.__k[0]=VE(d,d.__c.__P,d.__c.__O)}var u;for(n.setState({__a:n.__b=null});u=n.t.pop();)u.forceUpdate()}},c=e.__h===!0;n.__u++||c||n.setState({__a:n.__b=n.__v.__k[0]}),r.then(i,i)},xb.prototype.componentWillUnmount=function(){this.t=[]},xb.prototype.render=function(r,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=UE(this.__b,t,n.__O=n.__P)}this.__b=null}var a=e.__a&&he(qr,null,r.fallback);return a&&(a.__h=null),[he(qr,null,e.__a?null:r.children),a]};var H6=function(r,e,t){if(++t[1]===t[0]&&r.o.delete(e),r.props.revealOrder&&(r.props.revealOrder[0]!=="t"||!r.o.size))for(t=r.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;r.u=t=t[2]}};function E$(r){return this.getChildContext=function(){return r.context},r.children}function A$(r){var e=this,t=r.i;e.componentWillUnmount=function(){bp(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),r.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,a){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),bp(he(E$,{context:e.context},r.__v),e.l)):e.l&&e.componentWillUnmount()}function P$(r,e){var t=he(A$,{__v:r,i:e});return t.containerInfo=e,t}(um.prototype=new ys).__a=function(r){var e=this,t=$E(e.__v),n=e.o.get(r);return n[0]++,function(a){var s=function(){e.props.revealOrder?(n.push(a),H6(e,r,n)):a()};t?t(s):s()}},um.prototype.render=function(r){this.u=null,this.o=new Map;var e=ax(r.children);r.revealOrder&&r.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return r.children},um.prototype.componentDidUpdate=um.prototype.componentDidMount=function(){var r=this;this.o.forEach(function(e,t){H6(r,t,e)})};var L$=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,D$=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,T$=typeof document<"u",R$=function(r){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(r)};ys.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(r){Object.defineProperty(ys.prototype,r,{configurable:!0,get:function(){return this["UNSAFE_"+r]},set:function(e){Object.defineProperty(this,r,{configurable:!0,writable:!0,value:e})}})});var U6=Mt.event;function M$(){}function I$(){return this.cancelBubble}function O$(){return this.defaultPrevented}Mt.event=function(r){return U6&&(r=U6(r)),r.persist=M$,r.isPropagationStopped=I$,r.isDefaultPrevented=O$,r.nativeEvent=r};var V6={configurable:!0,get:function(){return this.class}},$6=Mt.vnode;Mt.vnode=function(r){var e=r.type,t=r.props,n=t;if(typeof e=="string"){var a=e.indexOf("-")===-1;for(var s in n={},t){var i=t[s];T$&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in t&&i==null||(s==="defaultValue"&&"value"in t&&t.value==null?s="value":s==="download"&&i===!0?i="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!R$(t.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():a&&D$.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():i===null&&(i=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),n[s]&&(s="oninputCapture")),n[s]=i)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=ax(t.children).forEach(function(l){l.props.selected=n.value.indexOf(l.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=ax(t.children).forEach(function(l){l.props.selected=n.multiple?n.defaultValue.indexOf(l.props.value)!=-1:n.defaultValue==l.props.value})),r.props=n,t.class!=t.className&&(V6.enumerable="className"in t,t.className!=null&&(n.class=t.className),Object.defineProperty(n,"className",V6))}r.$$typeof=L$,$6&&$6(r)};var W6=Mt.__r;Mt.__r=function(r){W6&&W6(r),r.__c};const WE=[],Z2=new Map;function R4(r){WE.push(r),Z2.forEach(e=>{YE(e,r)})}function F$(r){r.isConnected&&r.getRootNode&&qE(r.getRootNode())}function qE(r){let e=Z2.get(r);if(!e||!e.isConnected){if(e=r.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=z$();t&&(e.nonce=t);const n=r===document?document.head:r,a=r===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(e,a)}Z2.set(r,e),B$(e)}}function B$(r){for(const e of WE)YE(r,e)}function YE(r,e){const{sheet:t}=r,n=t.cssRules.length;e.split("}").forEach((a,s)=>{a=a.trim(),a&&t.insertRule(a+"}",n+s)})}let vb;function z$(){return vb===void 0&&(vb=H$()),vb}function H$(){const r=document.querySelector('meta[name="csp-nonce"]');if(r&&r.hasAttribute("content"))return r.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&qE(document);var U$=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';R4(U$);class M4{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:n}=this;e in n&&(t?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function I4(r){r.parentNode&&r.parentNode.removeChild(r)}function ya(r,e){if(r.closest)return r.closest(e);if(!document.documentElement.contains(r))return null;do{if(V$(r,e))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null}function V$(r,e){return(r.matches||r.matchesSelector||r.msMatchesSelector).call(r,e)}function $$(r,e){let t=r instanceof HTMLElement?[r]:r,n=[];for(let a=0;a<t.length;a+=1){let s=t[a].querySelectorAll(e);for(let i=0;i<s.length;i+=1)n.push(s[i])}return n}const W$=/(top|left|right|bottom|width|height)$/i;function Bf(r,e){for(let t in e)GE(r,t,e[t])}function GE(r,e,t){t==null?r.style[e]="":typeof t=="number"&&W$.test(e)?r.style[e]=`${t}px`:r.style[e]=t}function XE(r){var e,t;return(t=(e=r.composedPath)===null||e===void 0?void 0:e.call(r)[0])!==null&&t!==void 0?t:r.target}let q6=0;function d1(){return q6+=1,"fc-dom-"+q6}function u1(r){r.preventDefault()}function q$(r,e){return t=>{let n=ya(t.target,r);n&&e.call(n,t,n)}}function ZE(r,e,t,n){let a=q$(t,n);return r.addEventListener(e,a),()=>{r.removeEventListener(e,a)}}function Y$(r,e,t,n){let a;return ZE(r,"mouseover",e,(s,i)=>{if(i!==a){a=i,t(s,i);let l=c=>{a=null,n(c,i),i.removeEventListener("mouseleave",l)};i.addEventListener("mouseleave",l)}})}const Y6=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function G$(r,e){let t=n=>{e(n),Y6.forEach(a=>{r.removeEventListener(a,t)})};Y6.forEach(n=>{r.addEventListener(n,t)})}function JE(r){return Object.assign({onClick:r},KE(r))}function KE(r){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(r(e),e.preventDefault())}}}let G6=0;function cd(){return G6+=1,String(G6)}function O4(){document.body.classList.add("fc-not-allowed")}function F4(){document.body.classList.remove("fc-not-allowed")}function X$(r){r.style.userSelect="none",r.style.webkitUserSelect="none",r.addEventListener("selectstart",u1)}function Z$(r){r.style.userSelect="",r.style.webkitUserSelect="",r.removeEventListener("selectstart",u1)}function J$(r){r.addEventListener("contextmenu",u1)}function K$(r){r.removeEventListener("contextmenu",u1)}function Q$(r){let e=[],t=[],n,a;for(typeof r=="string"?t=r.split(/\s*,\s*/):typeof r=="function"?t=[r]:Array.isArray(r)&&(t=r),n=0;n<t.length;n+=1)a=t[n],typeof a=="string"?e.push(a.charAt(0)==="-"?{field:a.substring(1),order:-1}:{field:a,order:1}):typeof a=="function"&&e.push({func:a});return e}function eW(r,e,t){let n,a;for(n=0;n<t.length;n+=1)if(a=tW(r,e,t[n]),a)return a;return 0}function tW(r,e,t){return t.func?t.func(r,e):rW(r[t.field],e[t.field])*(t.order||1)}function rW(r,e){return!r&&!e?0:e==null?-1:r==null?1:typeof r=="string"||typeof e=="string"?String(r).localeCompare(String(e)):r-e}function Eu(r,e){let t=String(r);return"000".substr(0,e-t.length)+t}function zf(r,e,t){return typeof r=="function"?r(...e):typeof r=="string"?e.reduce((n,a,s)=>n.replace("$"+s,a||""),r):t}function nW(r,e){return r-e}function n0(r){return r%1===0}function aW(r){let e=r.querySelector(".fc-scrollgrid-shrink-frame"),t=r.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return r.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const X6=["years","months","days","milliseconds"],sW=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function or(r,e){return typeof r=="string"?iW(r):typeof r=="object"&&r?Z6(r):typeof r=="number"?Z6({[e||"milliseconds"]:r}):null}function iW(r){let e=sW.exec(r);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function Z6(r){let e={years:r.years||r.year||0,months:r.months||r.month||0,days:r.days||r.day||0,milliseconds:(r.hours||r.hour||0)*60*60*1e3+(r.minutes||r.minute||0)*60*1e3+(r.seconds||r.second||0)*1e3+(r.milliseconds||r.millisecond||r.ms||0)},t=r.weeks||r.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function oW(r,e){return r.years===e.years&&r.months===e.months&&r.days===e.days&&r.milliseconds===e.milliseconds}function J2(r,e){return{years:r.years+e.years,months:r.months+e.months,days:r.days+e.days,milliseconds:r.milliseconds+e.milliseconds}}function lW(r,e){return{years:r.years-e.years,months:r.months-e.months,days:r.days-e.days,milliseconds:r.milliseconds-e.milliseconds}}function cW(r,e){return{years:r.years*e,months:r.months*e,days:r.days*e,milliseconds:r.milliseconds*e}}function dW(r){return Au(r)/365}function uW(r){return Au(r)/30}function Au(r){return wi(r)/864e5}function wi(r){return r.years*(365*864e5)+r.months*(30*864e5)+r.days*864e5+r.milliseconds}function B4(r,e){let t=null;for(let n=0;n<X6.length;n+=1){let a=X6[n];if(e[a]){let s=r[a]/e[a];if(!n0(s)||t!==null&&t!==s)return null;t=s}else if(r[a])return null}return t}function K2(r){let e=r.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return r.days?r.specifiedWeeks&&r.days%7===0?{unit:"week",value:r.days/7}:{unit:"day",value:r.days}:r.months?{unit:"month",value:r.months}:r.years?{unit:"year",value:r.years}:{unit:"millisecond",value:0}}function $l(r,e,t){if(r===e)return!0;let n=r.length,a;if(n!==e.length)return!1;for(a=0;a<n;a+=1)if(!(t?t(r[a],e[a]):r[a]===e[a]))return!1;return!0}const hW=["sun","mon","tue","wed","thu","fri","sat"];function J6(r,e){let t=Sl(r);return t[2]+=e*7,Ja(t)}function ka(r,e){let t=Sl(r);return t[2]+=e,Ja(t)}function Wl(r,e){let t=Sl(r);return t[6]+=e,Ja(t)}function fW(r,e){return dd(r,e)/7}function dd(r,e){return(e.valueOf()-r.valueOf())/(1e3*60*60*24)}function pW(r,e){return(e.valueOf()-r.valueOf())/(1e3*60*60)}function gW(r,e){return(e.valueOf()-r.valueOf())/(1e3*60)}function mW(r,e){return(e.valueOf()-r.valueOf())/1e3}function xW(r,e){let t=Vr(r),n=Vr(e);return{years:0,months:0,days:Math.round(dd(t,n)),milliseconds:e.valueOf()-n.valueOf()-(r.valueOf()-t.valueOf())}}function vW(r,e){let t=sx(r,e);return t!==null&&t%7===0?t/7:null}function sx(r,e){return jl(r)===jl(e)?Math.round(dd(r,e)):null}function Vr(r){return Ja([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()])}function bW(r){return Ja([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours()])}function yW(r){return Ja([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes()])}function wW(r){return Ja([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds()])}function kW(r,e,t){let n=r.getUTCFullYear(),a=bb(r,n,e,t);if(a<1)return bb(r,n-1,e,t);let s=bb(r,n+1,e,t);return s>=1?Math.min(a,s):a}function bb(r,e,t,n){let a=Ja([e,0,1+CW(e,t,n)]),s=Vr(r),i=Math.round(dd(a,s));return Math.floor(i/7)+1}function CW(r,e,t){let n=7+e-t;return-((7+Ja([r,0,n]).getUTCDay()-e)%7)+n-1}function K6(r){return[r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()]}function Q6(r){return new Date(r[0],r[1]||0,r[2]==null?1:r[2],r[3]||0,r[4]||0,r[5]||0)}function Sl(r){return[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()]}function Ja(r){return r.length===1&&(r=r.concat([0])),new Date(Date.UTC(...r))}function QE(r){return!isNaN(r.valueOf())}function jl(r){return r.getUTCHours()*1e3*60*60+r.getUTCMinutes()*1e3*60+r.getUTCSeconds()*1e3+r.getUTCMilliseconds()}function eA(r,e,t=!1){let n=r.toISOString();return n=n.replace(".000",""),t&&(n=n.replace("T00:00:00Z","")),n.length>10&&(e==null?n=n.replace("Z",""):e!==0&&(n=n.replace("Z",H4(e,!0)))),n}function z4(r){return r.toISOString().replace(/T.*$/,"")}function SW(r){return r.toISOString().match(/^\d{4}-\d{2}/)[0]}function jW(r){return Eu(r.getUTCHours(),2)+":"+Eu(r.getUTCMinutes(),2)+":"+Eu(r.getUTCSeconds(),2)}function H4(r,e=!1){let t=r<0?"-":"+",n=Math.abs(r),a=Math.floor(n/60),s=Math.round(n%60);return e?`${t+Eu(a,2)}:${Eu(s,2)}`:`GMT${t}${a}${s?`:${Eu(s,2)}`:""}`}function Bt(r,e,t){let n,a;return function(...s){if(!n)a=r.apply(this,s);else if(!$l(n,s)){let i=r.apply(this,s);(!e||!e(i,a))&&(a=i)}return n=s,a}}function a0(r,e,t){let n,a;return s=>(n?eo(n,s)||(a=r.call(this,s)):a=r.call(this,s),n=s,a)}const eS={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},ix={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},hm=/\s*([ap])\.?m\.?/i,_W=/,/g,NW=/\s+/g,EW=/\u200e/g,AW=/UTC|GMT/;class PW{constructor(e){let t={},n={},a=0;for(let s in e)s in eS?(n[s]=e[s],a=Math.max(eS[s],a)):(t[s]=e[s],s in ix&&(a=Math.max(ix[s],a)));this.standardDateProps=t,this.extendedSettings=n,this.severity=a,this.buildFormattingFunc=Bt(tS)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,n,a){let{standardDateProps:s,extendedSettings:i}=this,l=IW(e.marker,t.marker,n.calendarSystem);if(!l)return this.format(e,n);let c=l;c>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(c=1);let d=this.format(e,n),u=this.format(t,n);if(d===u)return d;let h=OW(s,c),f=tS(h,i,n),p=f(e),m=f(t),g=FW(d,p,u,m),v=i.separator||a||n.defaultSeparator||"";return g?g.before+p+v+m+g.after:d+v+u}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function tS(r,e,t){let n=Object.keys(r).length;return n===1&&r.timeZoneName==="short"?a=>H4(a.timeZoneOffset):n===0&&e.week?a=>MW(t.computeWeekNumber(a.marker),t.weekText,t.weekTextLong,t.locale,e.week):LW(r,e,t)}function LW(r,e,t){r=Object.assign({},r),e=Object.assign({},e),DW(r,e),r.timeZone="UTC";let n=new Intl.DateTimeFormat(t.locale.codes,r),a;if(e.omitZeroMinute){let s=Object.assign({},r);delete s.minute,a=new Intl.DateTimeFormat(t.locale.codes,s)}return s=>{let{marker:i}=s,l;a&&!i.getUTCMinutes()?l=a:l=n;let c=l.format(i);return TW(c,s,r,e,t)}}function DW(r,e){r.timeZoneName&&(r.hour||(r.hour="2-digit"),r.minute||(r.minute="2-digit")),r.timeZoneName==="long"&&(r.timeZoneName="short"),e.omitZeroMinute&&(r.second||r.millisecond)&&delete e.omitZeroMinute}function TW(r,e,t,n,a){return r=r.replace(EW,""),t.timeZoneName==="short"&&(r=RW(r,a.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":H4(e.timeZoneOffset))),n.omitCommas&&(r=r.replace(_W,"").trim()),n.omitZeroMinute&&(r=r.replace(":00","")),n.meridiem===!1?r=r.replace(hm,"").trim():n.meridiem==="narrow"?r=r.replace(hm,(s,i)=>i.toLocaleLowerCase()):n.meridiem==="short"?r=r.replace(hm,(s,i)=>`${i.toLocaleLowerCase()}m`):n.meridiem==="lowercase"&&(r=r.replace(hm,s=>s.toLocaleLowerCase())),r=r.replace(NW," "),r=r.trim(),r}function RW(r,e){let t=!1;return r=r.replace(AW,()=>(t=!0,e)),t||(r+=` ${e}`),r}function MW(r,e,t,n,a){let s=[];return a==="long"?s.push(t):(a==="short"||a==="narrow")&&s.push(e),(a==="long"||a==="short")&&s.push(" "),s.push(n.simpleNumberFormat.format(r)),n.options.direction==="rtl"&&s.reverse(),s.join("")}function IW(r,e,t){return t.getMarkerYear(r)!==t.getMarkerYear(e)?5:t.getMarkerMonth(r)!==t.getMarkerMonth(e)?4:t.getMarkerDay(r)!==t.getMarkerDay(e)?2:jl(r)!==jl(e)?1:0}function OW(r,e){let t={};for(let n in r)(!(n in ix)||ix[n]<=e)&&(t[n]=r[n]);return t}function FW(r,e,t,n){let a=0;for(;a<r.length;){let s=r.indexOf(e,a);if(s===-1)break;let i=r.substr(0,s);a=s+e.length;let l=r.substr(a),c=0;for(;c<t.length;){let d=t.indexOf(n,c);if(d===-1)break;let u=t.substr(0,d);c=d+n.length;let h=t.substr(c);if(i===u&&l===h)return{before:i,after:l}}}return null}function rS(r,e){let t=e.markerToArray(r.marker);return{marker:r.marker,timeZoneOffset:r.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function ox(r,e,t,n){let a=rS(r,t.calendarSystem),s=e?rS(e,t.calendarSystem):null;return{date:a,start:a,end:s,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:n||t.defaultSeparator}}class BW{constructor(e){this.cmdStr=e}format(e,t,n){return t.cmdFormatter(this.cmdStr,ox(e,null,t,n))}formatRange(e,t,n,a){return n.cmdFormatter(this.cmdStr,ox(e,t,n,a))}}class zW{constructor(e){this.func=e}format(e,t,n){return this.func(ox(e,null,t,n))}formatRange(e,t,n,a){return this.func(ox(e,t,n,a))}}function nn(r){return typeof r=="object"&&r?new PW(r):typeof r=="string"?new BW(r):typeof r=="function"?new zW(r):null}const nS={navLinkDayClick:Re,navLinkWeekClick:Re,duration:or,bootstrapFontAwesome:Re,buttonIcons:Re,customButtons:Re,defaultAllDayEventDuration:or,defaultTimedEventDuration:or,nextDayThreshold:or,scrollTime:or,scrollTimeReset:Boolean,slotMinTime:or,slotMaxTime:or,dayPopoverFormat:nn,slotDuration:or,snapDuration:or,headerToolbar:Re,footerToolbar:Re,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:nn,dayHeaderClassNames:Re,dayHeaderContent:Re,dayHeaderDidMount:Re,dayHeaderWillUnmount:Re,dayCellClassNames:Re,dayCellContent:Re,dayCellDidMount:Re,dayCellWillUnmount:Re,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Re,weekNumbers:Boolean,weekNumberClassNames:Re,weekNumberContent:Re,weekNumberDidMount:Re,weekNumberWillUnmount:Re,editable:Boolean,viewClassNames:Re,viewDidMount:Re,viewWillUnmount:Re,nowIndicator:Boolean,nowIndicatorClassNames:Re,nowIndicatorContent:Re,nowIndicatorDidMount:Re,nowIndicatorWillUnmount:Re,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Re,locale:Re,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Re,eventOrder:Q$,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Re,contentHeight:Re,direction:String,weekNumberFormat:nn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Re,initialDate:Re,now:Re,eventDataTransform:Re,stickyHeaderDates:Re,stickyFooterScrollbar:Re,viewHeight:Re,defaultAllDay:Boolean,eventSourceFailure:Re,eventSourceSuccess:Re,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Re,eventConstraint:Re,eventAllow:Re,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Re,eventContent:Re,eventDidMount:Re,eventWillUnmount:Re,selectConstraint:Re,selectOverlap:Re,selectAllow:Re,droppable:Boolean,unselectCancel:String,slotLabelFormat:Re,slotLaneClassNames:Re,slotLaneContent:Re,slotLaneDidMount:Re,slotLaneWillUnmount:Re,slotLabelClassNames:Re,slotLabelContent:Re,slotLabelDidMount:Re,slotLabelWillUnmount:Re,dayMaxEvents:Re,dayMaxEventRows:Re,dayMinWidth:Number,slotLabelInterval:or,allDayText:String,allDayClassNames:Re,allDayContent:Re,allDayDidMount:Re,allDayWillUnmount:Re,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:nn,rerenderDelay:Number,moreLinkText:Re,moreLinkHint:Re,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Re,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:or,hiddenDays:Re,fixedWeekCount:Boolean,validRange:Re,visibleRange:Re,titleFormat:Re,eventInteractive:Boolean,noEventsText:String,viewHint:Re,navLinkHint:Re,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Re,moreLinkClassNames:Re,moreLinkContent:Re,moreLinkDidMount:Re,moreLinkWillUnmount:Re,monthStartFormat:nn,handleCustomRendering:Re,customRenderingMetaMap:Re,customRenderingReplaces:Boolean},Hf={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},aS={datesSet:Re,eventsSet:Re,eventAdd:Re,eventChange:Re,eventRemove:Re,windowResize:Re,eventClick:Re,eventMouseEnter:Re,eventMouseLeave:Re,select:Re,unselect:Re,loading:Re,_unmount:Re,_beforeprint:Re,_afterprint:Re,_noEventDrop:Re,_noEventResize:Re,_resize:Re,_scrollRequest:Re},sS={buttonText:Re,buttonHints:Re,views:Re,plugins:Re,initialEvents:Re,events:Re,eventSources:Re},wc={headerToolbar:kc,footerToolbar:kc,buttonText:kc,buttonHints:kc,buttonIcons:kc,dateIncrement:kc,plugins:fm,events:fm,eventSources:fm,resources:fm};function kc(r,e){return typeof r=="object"&&typeof e=="object"&&r&&e?eo(r,e):r===e}function fm(r,e){return Array.isArray(r)&&Array.isArray(e)?$l(r,e):r===e}const HW={type:String,component:Re,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Re,usesMinMaxTime:Boolean,classNames:Re,content:Re,didMount:Re,willUnmount:Re};function yb(r){return V4(r,wc)}function U4(r,e){let t={},n={};for(let a in e)a in r&&(t[a]=e[a](r[a]));for(let a in r)a in e||(n[a]=r[a]);return{refined:t,extra:n}}function Re(r){return r}const{hasOwnProperty:lx}=Object.prototype;function V4(r,e){let t={};if(e){for(let n in e)if(e[n]===kc){let a=[];for(let s=r.length-1;s>=0;s-=1){let i=r[s][n];if(typeof i=="object"&&i)a.unshift(i);else if(i!==void 0){t[n]=i;break}}a.length&&(t[n]=V4(a))}}for(let n=r.length-1;n>=0;n-=1){let a=r[n];for(let s in a)s in t||(t[s]=a[s])}return t}function td(r,e){let t={};for(let n in r)e(r[n],n)&&(t[n]=r[n]);return t}function Io(r,e){let t={};for(let n in r)t[n]=e(r[n],n);return t}function tA(r){let e={};for(let t of r)e[t]=!0;return e}function $4(r){let e=[];for(let t in r)e.push(r[t]);return e}function eo(r,e){if(r===e)return!0;for(let t in r)if(lx.call(r,t)&&!(t in e))return!1;for(let t in e)if(lx.call(e,t)&&r[t]!==e[t])return!1;return!0}const UW=/^on[A-Z]/;function VW(r,e){const t=Q2(r,e);for(let n of t)if(!UW.test(n))return!1;return!0}function Q2(r,e){let t=[];for(let n in r)lx.call(r,n)&&(n in e||t.push(n));for(let n in e)lx.call(e,n)&&r[n]!==e[n]&&t.push(n);return t}function wb(r,e,t={}){if(r===e)return!0;for(let n in e)if(!(n in r&&$W(r[n],e[n],t[n])))return!1;for(let n in r)if(!(n in e))return!1;return!0}function $W(r,e,t){return r===e||t===!0?!0:t?t(r,e):!1}function WW(r,e=0,t,n=1){let a=[];t==null&&(t=Object.keys(r).length);for(let s=e;s<t;s+=n){let i=r[s];i!==void 0&&a.push(i)}return a}let rA={};function qW(r,e){rA[r]=e}function YW(r){return new rA[r]}class GW{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Ja(e)}markerToArray(e){return Sl(e)}}qW("gregory",GW);const XW=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function ZW(r){let e=XW.exec(r);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(QE(t)){let n=null;return e[13]&&(n=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:n}}}return null}class JW{constructor(e){let t=this.timeZone=e.timeZone,n=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=YW(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Ja(K6(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Ja(e)),t===null||!QE(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=ZW(e);if(t===null)return null;let{marker:n}=t,a=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-t.timeZoneOffset*60*1e3):a=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:a}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)}addMonths(e,t){let n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,t){let{calendarSystem:n}=this;return jl(e)===jl(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:n}=this;return jl(e)===jl(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+(n.getMarkerYear(t)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let n=this.diffWholeYears(e,t);return n!==null?{unit:"year",value:n}:(n=this.diffWholeMonths(e,t),n!==null?{unit:"month",value:n}:(n=vW(e,t),n!==null?{unit:"week",value:n}:(n=sx(e,t),n!==null?{unit:"day",value:n}:(n=pW(e,t),n0(n)?{unit:"hour",value:n}:(n=gW(e,t),n0(n)?{unit:"minute",value:n}:(n=mW(e,t),n0(n)?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,n){let a;return n.years&&(a=this.diffWholeYears(e,t),a!==null)?a/dW(n):n.months&&(a=this.diffWholeMonths(e,t),a!==null)?a/uW(n):n.days&&(a=sx(e,t),a!==null)?a/Au(n):(t.valueOf()-e.valueOf())/wi(n)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?Vr(e):t==="hour"?bW(e):t==="minute"?yW(e):t==="second"?wW(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):kW(e,this.weekDow,this.weekDoy)}format(e,t,n={}){return t.format({marker:e,timeZoneOffset:n.forcedTzo!=null?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,n,a={}){return a.isEndExclusive&&(t=Wl(t,-1)),n.formatRange({marker:e,timeZoneOffset:a.forcedStartTzo!=null?a.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:a.forcedEndTzo!=null?a.forcedEndTzo:this.offsetForMarker(t)},this,a.defaultSeparator)}formatIso(e,t={}){let n=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?n=t.forcedTzo:n=this.offsetForMarker(e)),eA(e,n,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Ja(K6(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Ja(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-Q6(Sl(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Sl(e)):null}toDate(e,t){return this.timeZone==="local"?Q6(Sl(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Sl(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class Wp{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,n;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(n in e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let n;return t&&this.rtlIconClasses?n=this.rtlIconClasses[e]||this.iconClasses[e]:n=this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}Wp.prototype.classes={};Wp.prototype.iconClasses={};Wp.prototype.baseIconClass="";Wp.prototype.iconOverridePrefix="";function cx(r){r();let e=Mt.debounceRendering,t=[];function n(a){t.push(a)}for(Mt.debounceRendering=n,bp(he(KW,{}),document.createElement("div"));t.length;)t.shift()();Mt.debounceRendering=e}class KW extends ys{render(){return he("div",{})}componentDidMount(){this.setState({})}}function nA(r){let e=C$(r),t=e.Provider;return e.Provider=function(){let n=!this.getChildContext,a=t.apply(this,arguments);if(n){let s=[];this.shouldComponentUpdate=i=>{this.props.value!==i.value&&s.forEach(l=>{l.context=i.value,l.forceUpdate()})},this.sub=i=>{s.push(i);let l=i.componentWillUnmount;i.componentWillUnmount=()=>{s.splice(s.indexOf(i),1),l&&l.call(i)}}}return a},e}class QW{constructor(e,t,n,a){this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=a,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Uo=nA({});function eq(r,e,t,n,a,s,i,l,c,d,u,h,f){return{dateEnv:a,options:t,pluginHooks:i,emitter:d,dispatch:l,getCurrentData:c,calendarApi:u,viewSpec:r,viewApi:e,dateProfileGenerator:n,theme:s,isRtl:t.direction==="rtl",addResizeHandler(p){d.on("_resize",p)},removeResizeHandler(p){d.off("_resize",p)},createScrollResponder(p){return new QW(p,d,or(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:f}}class ud extends ys{shouldComponentUpdate(e,t){return this.debug&&console.log(Q2(e,this.props),Q2(t,this.state)),!wb(this.props,e,this.propEquality)||!wb(this.state,t,this.stateEquality)}safeSetState(e){wb(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}ud.addPropsEquality=tq;ud.addStateEquality=rq;ud.contextType=Uo;ud.prototype.propEquality={};ud.prototype.stateEquality={};class Cr extends ud{}Cr.contextType=Uo;function tq(r){let e=Object.create(this.prototype.propEquality);Object.assign(e,r),this.prototype.propEquality=e}function rq(r){let e=Object.create(this.prototype.stateEquality);Object.assign(e,r),this.prototype.stateEquality=e}function Oo(r,e){typeof r=="function"?r(e):r&&(r.current=e)}class W4 extends Cr{constructor(){super(...arguments),this.id=cd(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:n}=this.props;(!t.customRenderingReplaces||!e5(n,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Oo(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:n}=t,{customGenerator:a,defaultGenerator:s,renderProps:i}=e,l=aA(e,[],this.handleEl);let c=!1,d,u=[],h;if(a!=null){const f=typeof a=="function"?a(i,he):a;if(f===!0)c=!0;else{const p=f&&typeof f=="object";p&&"html"in f?l.dangerouslySetInnerHTML={__html:f.html}:p&&"domNodes"in f?u=Array.prototype.slice.call(f.domNodes):(p?EE(f):typeof f!="function")?d=f:h=f}}else c=!e5(e.generatorName,n);return c&&s&&(d=s(i)),this.queuedDomNodes=u,this.currentGeneratorMeta=h,he(e.elTag,l,d)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:n,context:a}=this,{handleCustomRendering:s,customRenderingMetaMap:i}=a.options;if(s){const l=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:i==null?void 0:i[n.generatorName];l&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:l},n),{elClasses:(n.elClasses||[]).filter(nq)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,n=this.base;if(!$l(e,t)){t.forEach(I4);for(let a of e)n.appendChild(a);this.currentDomNodes=e}}}W4.addPropsEquality({elClasses:$l,elStyle:eo,elAttrs:VW,renderProps:eo});function e5(r,e){var t;return!!(e.handleCustomRendering&&r&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[r]))}function aA(r,e,t){const n=Object.assign(Object.assign({},r.elAttrs),{ref:t});return(r.elClasses||e)&&(n.className=(r.elClasses||[]).concat(e||[]).concat(n.className||[]).filter(Boolean).join(" ")),r.elStyle&&(n.style=r.elStyle),n}function nq(r){return!!r}const sA=nA(0);class Ns extends ys{constructor(){super(...arguments),this.InnerContent=aq.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Oo(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=sq(e.classNameGenerator,e.renderProps);if(e.children){const n=aA(e,t,this.handleEl),a=e.children(this.InnerContent,e.renderProps,n);return e.elTag?he(e.elTag,n,a):a}else return he(W4,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Ns.contextType=sA;function aq(r,e){const t=r.props;return he(W4,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:r.context},e))}function sq(r,e){const t=typeof r=="function"?r(e):r||[];return typeof t=="string"?[t]:t}class dx extends Cr{render(){let{props:e,context:t}=this,{options:n}=t,a={view:t.viewApi};return he(Ns,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...iA(e.viewSpec),...e.elClasses||[]],renderProps:a,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount}),()=>e.children)}}function iA(r){return[`fc-${r.type}-view`,"fc-view"]}function iq(r,e){let t=null,n=null;return r.start&&(t=e.createMarker(r.start)),r.end&&(n=e.createMarker(r.end)),!t&&!n||t&&n&&n<t?null:{start:t,end:n}}function iS(r,e){let t=[],{start:n}=e,a,s;for(r.sort(oq),a=0;a<r.length;a+=1)s=r[a],s.start>n&&t.push({start:n,end:s.start}),s.end>n&&(n=s.end);return n<e.end&&t.push({start:n,end:e.end}),t}function oq(r,e){return r.start.valueOf()-e.start.valueOf()}function rd(r,e){let{start:t,end:n}=r,a=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(n===null?n=e.end:n=new Date(Math.min(n.valueOf(),e.end.valueOf()))),(t===null||n===null||t<n)&&(a={start:t,end:n}),a}function lq(r,e){return(r.start===null?null:r.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(r.end===null?null:r.end.valueOf())===(e.end===null?null:e.end.valueOf())}function q4(r,e){return(r.end===null||e.start===null||r.end>e.start)&&(r.start===null||e.end===null||r.start<e.end)}function h1(r,e){return(r.start===null||e.start!==null&&e.start>=r.start)&&(r.end===null||e.end!==null&&e.end<=r.end)}function Eo(r,e){return(r.start===null||e>=r.start)&&(r.end===null||e<r.end)}function cq(r,e){return e.start!=null&&r<e.start?e.start:e.end!=null&&r>=e.end?new Date(e.end.valueOf()-1):r}function oA(r){let e=Math.floor(dd(r.start,r.end))||1,t=Vr(r.start),n=ka(t,e);return{start:t,end:n}}function lA(r,e=or(0)){let t=null,n=null;if(r.end){n=Vr(r.end);let a=r.end.valueOf()-n.valueOf();a&&a>=wi(e)&&(n=ka(n,1))}return r.start&&(t=Vr(r.start),n&&n<=t&&(n=ka(t,1))),{start:t,end:n}}function pu(r,e,t,n){return n==="year"?or(t.diffWholeYears(r,e),"year"):n==="month"?or(t.diffWholeMonths(r,e),"month"):xW(r,e)}function dq(r,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return r}}function uq(r,e){let t=r.initialDate;return t!=null?e.createMarker(t):qp(r.now,e)}function qp(r,e){return typeof r=="function"&&(r=r()),r==null?e.createNowMarker():e.createMarker(r)}class cA{constructor(e){this.props=e,this.nowDate=qp(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,n){let{dateEnv:a}=this.props,s=a.subtract(a.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,n)}buildNext(e,t,n){let{dateEnv:a}=this.props,s=a.add(a.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,n)}build(e,t,n=!0){let{props:a}=this,s,i,l,c,d,u;return s=this.buildValidRange(),s=this.trimHiddenDays(s),n&&(e=cq(e,s)),i=this.buildCurrentRangeInfo(e,t),l=/^(year|month|week|day)$/.test(i.unit),c=this.buildRenderRange(this.trimHiddenDays(i.range),i.unit,l),c=this.trimHiddenDays(c),d=c,a.showNonCurrentDates||(d=rd(d,i.range)),d=this.adjustActiveRange(d),d=rd(d,s),u=q4(i.range,s),Eo(c,e)||(e=c.start),{currentDate:e,validRange:s,currentRange:i.range,currentRangeUnit:i.unit,isRangeAllDay:l,activeRange:d,renderRange:c,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(i.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:n}=this,a=null,s=null,i=null,l;return n.duration?(a=n.duration,s=n.durationUnit,i=this.buildRangeFromDuration(e,t,a,s)):(l=this.props.dayCount)?(s="day",i=this.buildRangeFromDayCount(e,t,l)):(i=this.buildCustomVisibleRange(e))?s=n.dateEnv.greatestWholeUnit(i.start,i.end).unit:(a=this.getFallbackDuration(),s=K2(a).unit,i=this.buildRangeFromDuration(e,t,a,s)),{duration:a,unit:s,range:i}}getFallbackDuration(){return or({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:n,slotMinTime:a,slotMaxTime:s}=this.props,{start:i,end:l}=e;return n&&(Au(a)<0&&(i=Vr(i),i=t.add(i,a)),Au(s)>1&&(l=Vr(l),l=ka(l,-1),l=t.add(l,s))),{start:i,end:l}}buildRangeFromDuration(e,t,n,a){let{dateEnv:s,dateAlignment:i}=this.props,l,c,d;if(!i){let{dateIncrement:h}=this.props;h&&wi(h)<wi(n)?i=K2(h).unit:i=a}Au(n)<=1&&this.isHiddenDay(l)&&(l=this.skipHiddenDays(l,t),l=Vr(l));function u(){l=s.startOf(e,i),c=s.add(l,n),d={start:l,end:c}}return u(),this.trimHiddenDays(d)||(e=this.skipHiddenDays(e,t),u()),d}buildRangeFromDayCount(e,t,n){let{dateEnv:a,dateAlignment:s}=this.props,i=0,l=e,c;s&&(l=a.startOf(l,s)),l=Vr(l),l=this.skipHiddenDays(l,t),c=l;do c=ka(c,1),this.isHiddenDay(c)||(i+=1);while(i<n);return{start:l,end:c}}buildCustomVisibleRange(e){let{props:t}=this,n=t.visibleRangeInput,a=typeof n=="function"?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,s=this.refineRange(a);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,t,n){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,n;return t||((n=this.props.dateAlignment)?or(1,n):e||or({days:1}))}refineRange(e){if(e){let t=iq(e,this.props.dateEnv);return t&&(t=lA(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],n=0,a;for(this.props.weekends===!1&&e.push(0,6),a=0;a<7;a+=1)(t[a]=e.indexOf(a)!==-1)||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:n}=e;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),t==null||n==null||t<n?{start:t,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=ka(e,t);return e}}function Y4(r,e,t,n){return{instanceId:cd(),defId:r,range:e,forcedStartTzo:t??null,forcedEndTzo:n??null}}function hq(r,e,t,n){for(let a=0;a<n.length;a+=1){let s=n[a].parse(r,t);if(s){let{allDay:i}=r;return i==null&&(i=e,i==null&&(i=s.allDayGuess,i==null&&(i=!1))),{allDay:i,duration:s.duration,typeData:s.typeData,typeId:a}}}return null}function nd(r,e,t){let{dateEnv:n,pluginHooks:a,options:s}=t,{defs:i,instances:l}=r;l=td(l,c=>!i[c.defId].recurringDef);for(let c in i){let d=i[c];if(d.recurringDef){let{duration:u}=d.recurringDef;u||(u=d.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let h=fq(d,u,e,n,a.recurringTypes);for(let f of h){let p=Y4(c,{start:f,end:n.add(f,u)});l[p.instanceId]=p}}}return{defs:i,instances:l}}function fq(r,e,t,n,a){let i=a[r.recurringDef.typeId].expand(r.recurringDef.typeData,{start:n.subtract(t.start,e),end:t.end},n);return r.allDay&&(i=i.map(Vr)),i}const s0={id:String,groupId:String,title:String,url:String,interactive:Boolean},dA={start:Re,end:Re,date:Re,allDay:Boolean},pq=Object.assign(Object.assign(Object.assign({},s0),dA),{extendedProps:Re});function uA(r,e,t,n,a=G4(t),s,i){let{refined:l,extra:c}=hA(r,t,a),d=mq(e,t),u=hq(l,d,t.dateEnv,t.pluginHooks.recurringTypes);if(u){let f=t5(l,c,e?e.sourceId:"",u.allDay,!!u.duration,t,s);return f.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:f,instance:null}}let h=gq(l,d,t,n);if(h){let f=t5(l,c,e?e.sourceId:"",h.allDay,h.hasEnd,t,s),p=Y4(f.defId,h.range,h.forcedStartTzo,h.forcedEndTzo);return i&&f.publicId&&i[f.publicId]&&(p.instanceId=i[f.publicId]),{def:f,instance:p}}return null}function hA(r,e,t=G4(e)){return U4(r,t)}function G4(r){return Object.assign(Object.assign(Object.assign({},ux),pq),r.pluginHooks.eventRefiners)}function t5(r,e,t,n,a,s,i){let l={title:r.title||"",groupId:r.groupId||"",publicId:r.id||"",url:r.url||"",recurringDef:null,defId:(i&&r.id?i[r.id]:"")||cd(),sourceId:t,allDay:n,hasEnd:a,interactive:r.interactive,ui:hx(r,s),extendedProps:Object.assign(Object.assign({},r.extendedProps||{}),e)};for(let c of s.pluginHooks.eventDefMemberAdders)Object.assign(l,c(r));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function gq(r,e,t,n){let{allDay:a}=r,s,i=null,l=!1,c,d=null,u=r.start!=null?r.start:r.date;if(s=t.dateEnv.createMarkerMeta(u),s)i=s.marker;else if(!n)return null;return r.end!=null&&(c=t.dateEnv.createMarkerMeta(r.end)),a==null&&(e!=null?a=e:a=(!s||s.isTimeUnspecified)&&(!c||c.isTimeUnspecified)),a&&i&&(i=Vr(i)),c&&(d=c.marker,a&&(d=Vr(d)),i&&d<=i&&(d=null)),d?l=!0:n||(l=t.options.forceEventDuration||!1,d=t.dateEnv.add(i,a?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:a,hasEnd:l,range:{start:i,end:d},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:c?c.forcedTzo:null}}function mq(r,e){let t=null;return r&&(t=r.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function yp(r,e,t,n,a,s){let i=ws(),l=G4(t);for(let c of r){let d=uA(c,e,t,n,l,a,s);d&&r5(d,i)}return i}function r5(r,e=ws()){return e.defs[r.def.defId]=r.def,r.instance&&(e.instances[r.instance.instanceId]=r.instance),e}function X4(r,e){let t=r.instances[e];if(t){let n=r.defs[t.defId],a=f1(r,s=>xq(n,s));return a.defs[n.defId]=n,a.instances[t.instanceId]=t,a}return ws()}function xq(r,e){return!!(r.groupId&&r.groupId===e.groupId)}function ws(){return{defs:{},instances:{}}}function Z4(r,e){return{defs:Object.assign(Object.assign({},r.defs),e.defs),instances:Object.assign(Object.assign({},r.instances),e.instances)}}function f1(r,e){let t=td(r.defs,e),n=td(r.instances,a=>t[a.defId]);return{defs:t,instances:n}}function vq(r,e){let{defs:t,instances:n}=r,a={},s={};for(let i in t)e.defs[i]||(a[i]=t[i]);for(let i in n)!e.instances[i]&&a[n[i].defId]&&(s[i]=n[i]);return{defs:a,instances:s}}function bq(r,e){return Array.isArray(r)?yp(r,null,e,!0):typeof r=="object"&&r?yp([r],null,e,!0):r!=null?String(r):null}function oS(r){return Array.isArray(r)?r:typeof r=="string"?r.split(/\s+/):[]}const ux={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Re,overlap:Re,allow:Re,className:oS,classNames:oS,color:String,backgroundColor:String,borderColor:String,textColor:String},yq={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function hx(r,e){let t=bq(r.constraint,e);return{display:r.display||null,startEditable:r.startEditable!=null?r.startEditable:r.editable,durationEditable:r.durationEditable!=null?r.durationEditable:r.editable,constraints:t!=null?[t]:[],overlap:r.overlap!=null?r.overlap:null,allows:r.allow!=null?[r.allow]:[],backgroundColor:r.backgroundColor||r.color||"",borderColor:r.borderColor||r.color||"",textColor:r.textColor||"",classNames:(r.className||[]).concat(r.classNames||[])}}function fA(r){return r.reduce(wq,yq)}function wq(r,e){return{display:e.display!=null?e.display:r.display,startEditable:e.startEditable!=null?e.startEditable:r.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:r.durationEditable,constraints:r.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:r.overlap,allows:r.allows.concat(e.allows),backgroundColor:e.backgroundColor||r.backgroundColor,borderColor:e.borderColor||r.borderColor,textColor:e.textColor||r.textColor,classNames:r.classNames.concat(e.classNames)}}const kq={id:String,defaultAllDay:Boolean,url:String,format:String,events:Re,eventDataTransform:Re,success:Re,failure:Re};function pA(r,e,t=gA(e)){let n;if(typeof r=="string"?n={url:r}:typeof r=="function"||Array.isArray(r)?n={events:r}:typeof r=="object"&&r&&(n=r),n){let{refined:a,extra:s}=U4(n,t),i=Cq(a,e);if(i)return{_raw:r,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:a.defaultAllDay,eventDataTransform:a.eventDataTransform,success:a.success,failure:a.failure,publicId:a.id||"",sourceId:cd(),sourceDefId:i.sourceDefId,meta:i.meta,ui:hx(a,e),extendedProps:s}}return null}function gA(r){return Object.assign(Object.assign(Object.assign({},ux),kq),r.pluginHooks.eventSourceRefiners)}function Cq(r,e){let t=e.pluginHooks.eventSourceDefs;for(let n=t.length-1;n>=0;n-=1){let s=t[n].parseMeta(r);if(s)return{sourceDefId:n,meta:s}}return null}function Sq(r,e,t,n,a){switch(e.type){case"RECEIVE_EVENTS":return jq(r,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,a);case"RESET_RAW_EVENTS":return _q(r,t[e.sourceId],e.rawEvents,n.activeRange,a);case"ADD_EVENTS":return Nq(r,e.eventStore,n?n.activeRange:null,a);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Z4(r,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?nd(r,n.activeRange,a):r;case"REMOVE_EVENTS":return vq(r,e.eventStore);case"REMOVE_EVENT_SOURCE":return xA(r,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return f1(r,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return ws();default:return r}}function jq(r,e,t,n,a,s){if(e&&t===e.latestFetchId){let i=yp(mA(a,e,s),e,s);return n&&(i=nd(i,n,s)),Z4(xA(r,e.sourceId),i)}return r}function _q(r,e,t,n,a){const{defIdMap:s,instanceIdMap:i}=Aq(r);let l=yp(mA(t,e,a),e,a,!1,s,i);return nd(l,n,a)}function mA(r,e,t){let n=t.options.eventDataTransform,a=e?e.eventDataTransform:null;return a&&(r=lS(r,a)),n&&(r=lS(r,n)),r}function lS(r,e){let t;if(!e)t=r;else{t=[];for(let n of r){let a=e(n);a?t.push(a):a==null&&t.push(n)}}return t}function Nq(r,e,t,n){return t&&(e=nd(e,t,n)),Z4(r,e)}function cS(r,e,t){let{defs:n}=r,a=Io(r.instances,s=>n[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:t.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:t.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:s.forcedEndTzo}));return{defs:n,instances:a}}function xA(r,e){return f1(r,t=>t.sourceId!==e)}function Eq(r,e){return{defs:r.defs,instances:td(r.instances,t=>!e[t.instanceId])}}function Aq(r){const{defs:e,instances:t}=r,n={},a={};for(let s in e){const i=e[s],{publicId:l}=i;l&&(n[l]=s)}for(let s in t){const i=t[s],l=e[i.defId],{publicId:c}=l;c&&(a[c]=s)}return{defIdMap:n,instanceIdMap:a}}class p1{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){Pq(this.handlers,e,t)}off(e,t){Lq(this.handlers,e,t)}trigger(e,...t){let n=this.handlers[e]||[],a=this.options&&this.options[e],s=[].concat(a||[],n);for(let i of s)i.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function Pq(r,e,t){(r[e]||(r[e]=[])).push(t)}function Lq(r,e,t){t?r[e]&&(r[e]=r[e].filter(n=>n!==t)):delete r[e]}const Dq={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Tq(r,e){return yp(Rq(r),null,e)}function Rq(r){let e;return r===!0?e=[{}]:Array.isArray(r)?e=r.filter(t=>t.daysOfWeek):typeof r=="object"&&r?e=[r]:e=[],e=e.map(t=>Object.assign(Object.assign({},Dq),t)),e}function vA(r,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},J4(r,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function Mq(r,e){e.emitter.trigger("unselect",{jsEvent:r?r.origEvent:null,view:e.viewApi||e.calendarApi.view})}function J4(r,e){let t={};for(let n of e.pluginHooks.dateSpanTransforms)Object.assign(t,n(r,e));return Object.assign(t,Xq(r,e.dateEnv)),t}function dS(r,e,t){let{dateEnv:n,options:a}=t,s=e;return r?(s=Vr(s),s=n.add(s,a.defaultAllDayEventDuration)):s=n.add(s,a.defaultTimedEventDuration),s}function K4(r,e,t,n){let a=fx(r.defs,e),s=ws();for(let i in r.defs){let l=r.defs[i];s.defs[i]=Iq(l,a[i],t,n)}for(let i in r.instances){let l=r.instances[i],c=s.defs[l.defId];s.instances[i]=Oq(l,c,a[l.defId],t,n)}return s}function Iq(r,e,t,n){let a=t.standardProps||{};a.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(a.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},r),a),{ui:Object.assign(Object.assign({},r.ui),a.ui)});t.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),t.extendedProps));for(let i of n.pluginHooks.eventDefMutationAppliers)i(s,t,n);return!s.hasEnd&&n.options.forceEventDuration&&(s.hasEnd=!0),s}function Oq(r,e,t,n,a){let{dateEnv:s}=a,i=n.standardProps&&n.standardProps.allDay===!0,l=n.standardProps&&n.standardProps.hasEnd===!1,c=Object.assign({},r);return i&&(c.range=oA(c.range)),n.datesDelta&&t.startEditable&&(c.range={start:s.add(c.range.start,n.datesDelta),end:s.add(c.range.end,n.datesDelta)}),n.startDelta&&t.durationEditable&&(c.range={start:s.add(c.range.start,n.startDelta),end:c.range.end}),n.endDelta&&t.durationEditable&&(c.range={start:c.range.start,end:s.add(c.range.end,n.endDelta)}),l&&(c.range={start:c.range.start,end:dS(e.allDay,c.range.start,a)}),e.allDay&&(c.range={start:Vr(c.range.start),end:Vr(c.range.end)}),c.range.end<c.range.start&&(c.range.end=dS(e.allDay,c.range.start,a)),c}class Jd{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Jr{constructor(e,t,n){this._context=e,this._def=t,this._instance=n||null}setProp(e,t){if(e in dA)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=s0[e](t),this.mutate({standardProps:{publicId:t}});else if(e in s0)t=s0[e](t),this.mutate({standardProps:{[e]:t}});else if(e in ux){let n=ux[e](t);e==="color"?n={backgroundColor:t,borderColor:t}:e==="editable"?n={startEditable:t,durationEditable:t}:n={[e]:t},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:n}=this._context,a=n.createMarker(e);if(a&&this._instance){let s=this._instance.range,i=pu(s.start,a,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:i}):this.mutate({startDelta:i})}}setEnd(e,t={}){let{dateEnv:n}=this._context,a;if(!(e!=null&&(a=n.createMarker(e),!a))&&this._instance)if(a){let s=pu(this._instance.range.end,a,n,t.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,n={}){let{dateEnv:a}=this._context,s={allDay:n.allDay},i=a.createMarker(e),l;if(i&&!(t!=null&&(l=a.createMarker(t),!l))&&this._instance){let c=this._instance.range;n.allDay===!0&&(c=oA(c));let d=pu(c.start,i,a,n.granularity);if(l){let u=pu(c.end,l,a,n.granularity);oW(d,u)?this.mutate({datesDelta:d,standardProps:s}):this.mutate({startDelta:d,endDelta:u,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:d,standardProps:s})}}moveStart(e){let t=or(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=or(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=or(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let n={allDay:e},{maintainDuration:a}=t;a==null&&(a=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=a),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:t}=this._context,n=this._instance,a=nn(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,a,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,a,{forcedTzo:n.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let n=this._def,a=this._context,{eventStore:s}=a.getCurrentData(),i=X4(s,t.instanceId);i=K4(i,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,a);let c=new Jr(a,n,t);this._def=i.defs[n.defId],this._instance=i.instances[t.instanceId],a.dispatch({type:"MERGE_EVENTS",eventStore:i}),a.emitter.trigger("eventChange",{oldEvent:c,event:this,relatedEvents:Uc(i,a,t),revert(){a.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,t=bA(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new Jd(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:n}=t,{startStr:a,endStr:s}=this,i={allDay:t.allDay};return t.title&&(i.title=t.title),a&&(i.start=a),s&&(i.end=s),t.publicId&&(i.id=t.publicId),t.groupId&&(i.groupId=t.groupId),t.url&&(i.url=t.url),n.display&&n.display!=="auto"&&(i.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?i.color=n.backgroundColor:(n.backgroundColor&&(i.backgroundColor=n.backgroundColor),n.borderColor&&(i.borderColor=n.borderColor)),n.textColor&&(i.textColor=n.textColor),n.classNames.length&&(i.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(i,t.extendedProps):i.extendedProps=t.extendedProps),i}toJSON(){return this.toPlainObject()}}function bA(r){let e=r._def,t=r._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function Uc(r,e,t){let{defs:n,instances:a}=r,s=[],i=t?t.instanceId:"";for(let l in a){let c=a[l],d=n[c.defId];c.instanceId!==i&&s.push(new Jr(e,d,c))}return s}function uS(r,e,t,n){let a={},s={},i={},l=[],c=[],d=fx(r.defs,e);for(let u in r.defs){let h=r.defs[u];d[h.defId].display==="inverse-background"&&(h.groupId?(a[h.groupId]=[],i[h.groupId]||(i[h.groupId]=h)):s[u]=[])}for(let u in r.instances){let h=r.instances[u],f=r.defs[h.defId],p=d[f.defId],m=h.range,g=!f.allDay&&n?lA(m,n):m,v=rd(g,t);v&&(p.display==="inverse-background"?f.groupId?a[f.groupId].push(v):s[h.defId].push(v):p.display!=="none"&&(p.display==="background"?l:c).push({def:f,ui:p,instance:h,range:v,isStart:g.start&&g.start.valueOf()===v.start.valueOf(),isEnd:g.end&&g.end.valueOf()===v.end.valueOf()}))}for(let u in a){let h=a[u],f=iS(h,t);for(let p of f){let m=i[u],g=d[m.defId];l.push({def:m,ui:g,instance:null,range:p,isStart:!1,isEnd:!1})}}for(let u in s){let h=s[u],f=iS(h,t);for(let p of f)l.push({def:r.defs[u],ui:d[u],instance:null,range:p,isStart:!1,isEnd:!1})}return{bg:l,fg:c}}function Fq(r){return r.ui.display==="background"||r.ui.display==="inverse-background"}function hS(r,e){r.fcSeg=e}function Ku(r){return r.fcSeg||r.parentNode.fcSeg||null}function fx(r,e){return Io(r,t=>yA(t,e))}function yA(r,e){let t=[];return e[""]&&t.push(e[""]),e[r.defId]&&t.push(e[r.defId]),t.push(r.ui),fA(t)}function wA(r,e){let t=r.map(Bq);return t.sort((n,a)=>eW(n,a,e)),t.map(n=>n._seg)}function Bq(r){let{eventRange:e}=r,t=e.def,n=e.instance?e.instance.range:e.range,a=n.start?n.start.valueOf():0,s=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:a,end:s,duration:s-a,allDay:Number(t.allDay),_seg:r})}function zq(r,e){let{pluginHooks:t}=e,n=t.isDraggableTransformers,{def:a,ui:s}=r.eventRange,i=s.startEditable;for(let l of n)i=l(i,a,s,e);return i}function Hq(r,e){return r.isStart&&r.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function Uq(r,e){return r.isEnd&&r.eventRange.ui.durationEditable}function kA(r,e,t,n,a,s,i){let{dateEnv:l,options:c}=t,{displayEventTime:d,displayEventEnd:u}=c,h=r.eventRange.def,f=r.eventRange.instance;d==null&&(d=n!==!1),u==null&&(u=a!==!1);let p=f.range.start,m=f.range.end,g=r.start||r.eventRange.range.start,v=r.end||r.eventRange.range.end,x=Vr(p).valueOf()===Vr(g).valueOf(),b=Vr(Wl(m,-1)).valueOf()===Vr(Wl(v,-1)).valueOf();return d&&!h.allDay&&(x||b)?(g=x?p:g,v=b?m:v,u&&h.hasEnd?l.formatRange(g,v,e,{forcedStartTzo:f.forcedStartTzo,forcedEndTzo:f.forcedEndTzo}):l.format(g,e,{forcedTzo:f.forcedStartTzo})):""}function Ol(r,e,t){let n=r.eventRange.range;return{isPast:n.end<=(t||e.start),isFuture:n.start>=(t||e.end),isToday:e&&Eo(e,n.start)}}function Vq(r){let e=["fc-event"];return r.isMirror&&e.push("fc-event-mirror"),r.isDraggable&&e.push("fc-event-draggable"),(r.isStartResizable||r.isEndResizable)&&e.push("fc-event-resizable"),r.isDragging&&e.push("fc-event-dragging"),r.isResizing&&e.push("fc-event-resizing"),r.isSelected&&e.push("fc-event-selected"),r.isStart&&e.push("fc-event-start"),r.isEnd&&e.push("fc-event-end"),r.isPast&&e.push("fc-event-past"),r.isToday&&e.push("fc-event-today"),r.isFuture&&e.push("fc-event-future"),e}function CA(r){return r.instance?r.instance.instanceId:`${r.def.defId}:${r.range.start.toISOString()}`}function SA(r,e){let{def:t,instance:n}=r.eventRange,{url:a}=t;if(a)return{href:a};let{emitter:s,options:i}=e,{eventInteractive:l}=i;return l==null&&(l=t.interactive,l==null&&(l=!!s.hasHandlers("eventClick"))),l?KE(c=>{s.trigger("eventClick",{el:c.target,event:new Jr(e,t,n),jsEvent:c,view:e.viewApi})}):{}}const $q={start:Re,end:Re,allDay:Boolean};function Wq(r,e,t){let n=qq(r,e),{range:a}=n;if(!a.start)return null;if(!a.end){if(t==null)return null;a.end=e.add(a.start,t)}return n}function qq(r,e){let{refined:t,extra:n}=U4(r,$q),a=t.start?e.createMarkerMeta(t.start):null,s=t.end?e.createMarkerMeta(t.end):null,{allDay:i}=t;return i==null&&(i=a&&a.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:a?a.marker:null,end:s?s.marker:null},allDay:i},n)}function Yq(r,e){return lq(r.range,e.range)&&r.allDay===e.allDay&&Gq(r,e)}function Gq(r,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&r[t]!==e[t])return!1;for(let t in r)if(!(t in e))return!1;return!0}function Xq(r,e){return Object.assign(Object.assign({},_A(r.range,e,r.allDay)),{allDay:r.allDay})}function jA(r,e,t){return Object.assign(Object.assign({},_A(r,e,t)),{timeZone:e.timeZone})}function _A(r,e,t){return{start:e.toDate(r.start),end:e.toDate(r.end),startStr:e.formatIso(r.start,{omitTime:t}),endStr:e.formatIso(r.end,{omitTime:t})}}function Zq(r,e,t){let n=hA({editable:!1},t),a=t5(n.refined,n.extra,"",r.allDay,!0,t);return{def:a,ui:yA(a,e),instance:Y4(a.defId,r.range),range:r.range,isStart:!0,isEnd:!0}}function Jq(r,e,t){let n=!1,a=function(l){n||(n=!0,e(l))},s=function(l){n||(n=!0,t(l))},i=r(a,s);i&&typeof i.then=="function"&&i.then(a,s)}class fS extends Error{constructor(e,t){super(e),this.response=t}}function Kq(r,e,t){r=r.toUpperCase();const n={method:r};return r==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(n.body=new URLSearchParams(t),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,n).then(a=>{if(a.ok)return a.json().then(s=>[s,a],()=>{throw new fS("Failure parsing JSON",a)});throw new fS("Request failed",a)})}let kb;function NA(){return kb==null&&(kb=Qq()),kb}function Qq(){if(typeof document>"u")return!0;let r=document.createElement("div");r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.innerHTML="<table><tr><td><div></div></td></tr></table>",r.querySelector("table").style.height="100px",r.querySelector("div").style.height="100%",document.body.appendChild(r);let t=r.querySelector("div").offsetHeight>0;return document.body.removeChild(r),t}class eY extends Cr{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{cx(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{cx(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:n}=this.state,a=n||t.height==="auto"||t.contentHeight==="auto",s=!a&&t.height!=null?t.height:"",i=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return NA()||i.push("fc-liquid-hack"),e.children(i,s,a,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class bh{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function tY(r,e){return{component:r,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Q4(r){return{[r.component.uid]:r}}const n5={};class rY{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let n=this.getCurrentData(),a;t=t||"day",a=n.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),a?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:a.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:n}=this.getCurrentData(),a=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),s,i;for(let l in t)a.push(l);for(s=0;s<a.length;s+=1)if(i=t[a[s]],i&&i.singleUnit===e)return i;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:qp(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),n=or(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),nn(t))}formatRange(e,t,n){let{dateEnv:a}=this.getCurrentData();return a.formatRange(a.createMarker(e),a.createMarker(t),nn(n),n)}formatIso(e,t){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:t})}select(e,t){let n;t==null?e.start!=null?n=e:n={start:e,end:null}:n={start:e,end:t};let a=this.getCurrentData(),s=Wq(n,a.dateEnv,or({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),vA(s,null,a))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),Mq(e,t))}addEvent(e,t){if(e instanceof Jr){let i=e._def,l=e._instance;return this.getCurrentData().eventStore.defs[i.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:r5({def:i,instance:l})}),this.triggerEventAdd(e)),e}let n=this.getCurrentData(),a;if(t instanceof Jd)a=t.internalEventSource;else if(typeof t=="boolean")t&&([a]=$4(n.eventSources));else if(t!=null){let i=this.getEventSourceById(t);if(!i)return console.warn(`Could not find an event source with ID "${t}"`),null;a=i.internalEventSource}let s=uA(e,a,n,!1);if(s){let i=new Jr(n,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:r5(s)}),this.triggerEventAdd(i),i}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:bA(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:n,instances:a}=t.eventStore;e=String(e);for(let s in n){let i=n[s];if(i.publicId===e){if(i.recurringDef)return new Jr(t,i,null);for(let l in a){let c=a[l];if(c.defId===i.defId)return new Jr(t,i,c)}}}return null}getEvents(){let e=this.getCurrentData();return Uc(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,n=[];for(let a in t)n.push(new Jd(e,t[a]));return n}getEventSourceById(e){let t=this.getCurrentData(),n=t.eventSources;e=String(e);for(let a in n)if(n[a].publicId===e)return new Jd(t,n[a]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof Jd)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=pA(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new Jd(t,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=or(e);t&&this.trigger("_scrollRequest",{time:t})}}function nY(r,e){return r.left>=e.left&&r.left<e.right&&r.top>=e.top&&r.top<e.bottom}function EA(r,e){let t={left:Math.max(r.left,e.left),right:Math.min(r.right,e.right),top:Math.max(r.top,e.top),bottom:Math.min(r.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function aY(r,e){return{left:Math.min(Math.max(r.left,e.left),e.right),top:Math.min(Math.max(r.top,e.top),e.bottom)}}function sY(r){return{left:(r.left+r.right)/2,top:(r.top+r.bottom)/2}}function iY(r,e){return{left:r.left-e.left,top:r.top-e.top}}const Cb=ws();class oY{constructor(){this.getKeysForEventDefs=Bt(this._getKeysForEventDefs),this.splitDateSelection=Bt(this._splitDateSpan),this.splitEventStore=Bt(this._splitEventStore),this.splitIndividualUi=Bt(this._splitIndividualUi),this.splitEventDrag=Bt(this._splitInteraction),this.splitEventResize=Bt(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),a=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,n),i=this.splitEventStore(e.eventStore,n),l=this.splitEventDrag(e.eventDrag),c=this.splitEventResize(e.eventResize),d={};this.eventUiBuilders=Io(t,(u,h)=>this.eventUiBuilders[h]||Bt(lY));for(let u in t){let h=t[u],f=i[u]||Cb,p=this.eventUiBuilders[u];d[u]={businessHours:h.businessHours||e.businessHours,dateSelection:a[u]||null,eventStore:f,eventUiBases:p(e.eventUiBases[""],h.ui,s[u]),eventSelection:f.instances[e.eventSelection]?e.eventSelection:"",eventDrag:l[u]||null,eventResize:c[u]||null}}return d}_splitDateSpan(e){let t={};if(e){let n=this.getKeysForDateSpan(e);for(let a of n)t[a]=e}return t}_getKeysForEventDefs(e){return Io(e.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(e,t){let{defs:n,instances:a}=e,s={};for(let i in n)for(let l of t[i])s[l]||(s[l]=ws()),s[l].defs[i]=n[i];for(let i in a){let l=a[i];for(let c of t[l.defId])s[c]&&(s[c].instances[i]=l)}return s}_splitIndividualUi(e,t){let n={};for(let a in e)if(a)for(let s of t[a])n[s]||(n[s]={}),n[s][a]=e[a];return n}_splitInteraction(e){let t={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),a=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,a),i=l=>{t[l]||(t[l]={affectedEvents:n[l]||Cb,mutatedEvents:s[l]||Cb,isEvent:e.isEvent})};for(let l in n)i(l);for(let l in s)i(l)}return t}}function lY(r,e,t){let n=[];r&&n.push(r),e&&n.push(e);let a={"":fA(n)};return t&&Object.assign(a,t),a}function AA(r,e,t,n){return{dow:r.getUTCDay(),isDisabled:!!(n&&!Eo(n.activeRange,r)),isOther:!!(n&&!Eo(n.currentRange,r)),isToday:!!(e&&Eo(e,r)),isPast:!!(e&&r<e.start),isFuture:!!(e&&r>=e.end)}}function e3(r,e){let t=["fc-day",`fc-day-${hW[r.dow]}`];return r.isDisabled?t.push("fc-day-disabled"):(r.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),r.isPast&&t.push("fc-day-past"),r.isFuture&&t.push("fc-day-future"),r.isOther&&t.push("fc-day-other")),t}const cY=nn({year:"numeric",month:"long",day:"numeric"}),dY=nn({week:"long"});function px(r,e,t="day",n=!0){const{dateEnv:a,options:s,calendarApi:i}=r;let l=a.format(e,t==="week"?dY:cY);if(s.navLinks){let c=a.toDate(e);const d=u=>{let h=t==="day"?s.navLinkDayClick:t==="week"?s.navLinkWeekClick:null;typeof h=="function"?h.call(i,a.toDate(e),u):(typeof h=="string"&&(t=h),i.zoomTo(e,t))};return Object.assign({title:zf(s.navLinkHint,[l,c],l),"data-navlink":""},n?JE(d):{onClick:d})}return{"aria-label":l}}let Sb=null;function uY(){return Sb===null&&(Sb=hY()),Sb}function hY(){let r=document.createElement("div");Bf(r,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),r.innerHTML="<div></div>",document.body.appendChild(r);let t=r.firstChild.getBoundingClientRect().left>r.getBoundingClientRect().left;return I4(r),t}let jb;function fY(){return jb||(jb=pY()),jb}function pY(){let r=document.createElement("div");r.style.overflow="scroll",r.style.position="absolute",r.style.top="-9999px",r.style.left="-9999px",document.body.appendChild(r);let e=PA(r);return document.body.removeChild(r),e}function PA(r){return{x:r.offsetHeight-r.clientHeight,y:r.offsetWidth-r.clientWidth}}function gY(r,e=!1){let t=window.getComputedStyle(r),n=parseInt(t.borderLeftWidth,10)||0,a=parseInt(t.borderRightWidth,10)||0,s=parseInt(t.borderTopWidth,10)||0,i=parseInt(t.borderBottomWidth,10)||0,l=PA(r),c=l.y-n-a,d=l.x-s-i,u={borderLeft:n,borderRight:a,borderTop:s,borderBottom:i,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return uY()&&t.direction==="rtl"?u.scrollbarLeft=c:u.scrollbarRight=c,e&&(u.paddingLeft=parseInt(t.paddingLeft,10)||0,u.paddingRight=parseInt(t.paddingRight,10)||0,u.paddingTop=parseInt(t.paddingTop,10)||0,u.paddingBottom=parseInt(t.paddingBottom,10)||0),u}function mY(r,e=!1,t){let n=t3(r),a=gY(r,e),s={left:n.left+a.borderLeft+a.scrollbarLeft,right:n.right-a.borderRight-a.scrollbarRight,top:n.top+a.borderTop,bottom:n.bottom-a.borderBottom-a.scrollbarBottom};return e&&(s.left+=a.paddingLeft,s.right-=a.paddingRight,s.top+=a.paddingTop,s.bottom-=a.paddingBottom),s}function t3(r){let e=r.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function xY(r){let e=LA(r),t=r.getBoundingClientRect();for(let n of e){let a=EA(t,n.getBoundingClientRect());if(a)t=a;else return null}return t}function LA(r){let e=[];for(;r instanceof HTMLElement;){let t=window.getComputedStyle(r);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(r),r=r.parentNode}return e}class Qu{constructor(e,t,n,a){this.els=t;let s=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(s.left),a&&this.buildElVerticals(s.top)}buildElHorizontals(e){let t=[],n=[];for(let a of this.els){let s=a.getBoundingClientRect();t.push(s.left-e),n.push(s.right-e)}this.lefts=t,this.rights=n}buildElVerticals(e){let t=[],n=[];for(let a of this.els){let s=a.getBoundingClientRect();t.push(s.top-e),n.push(s.bottom-e)}this.tops=t,this.bottoms=n}leftToIndex(e){let{lefts:t,rights:n}=this,a=t.length,s;for(s=0;s<a;s+=1)if(e>=t[s]&&e<n[s])return s}topToIndex(e){let{tops:t,bottoms:n}=this,a=t.length,s;for(s=0;s<a;s+=1)if(e>=t[s]&&e<n[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return pm(this.tops||[],e.tops||[])&&pm(this.bottoms||[],e.bottoms||[])&&pm(this.lefts||[],e.lefts||[])&&pm(this.rights||[],e.rights||[])}}function pm(r,e){const t=r.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(Math.round(r[n])!==Math.round(e[n]))return!1;return!0}class r3{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class vY extends r3{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class bY extends r3{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class ro extends Cr{constructor(){super(...arguments),this.uid=cd()}prepareHits(){}queryHit(e,t,n,a){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!ya(e,".fc-event-mirror")}isValidDateDownEl(e){return!ya(e,".fc-event:not(.fc-bg-event)")&&!ya(e,".fc-more-link")&&!ya(e,"a[data-navlink]")&&!ya(e,".fc-popover")}}class DA{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let n of e)this.insertEntry(n,t);return t}insertEntry(e,t){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,n){if(this.allowReslicing&&e.touchingEntry){const a=Object.assign(Object.assign({},t),{span:n3(t.span,e.touchingEntry.span)});n.push(a),this.splitEntry(t,e.touchingEntry,n)}else n.push(t)}splitEntry(e,t,n){let a=e.span,s=t.span;a.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.start,end:s.start}},n),a.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:a.end}},n)}insertEntryAt(e,t){let{entriesByLevel:n,levelCoords:a}=this;t.lateral===-1?(_b(a,t.level,t.levelCoord),_b(n,t.level,[e])):_b(n[t.level],t.lateral,e),this.stackCnts[Vc(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:n,strictOrder:a,stackCnts:s}=this,i=t.length,l=0,c=-1,d=-1,u=null,h=0;for(let m=0;m<i;m+=1){const g=t[m];if(!a&&g>=l+this.getEntryThickness(e))break;let v=n[m],x,b=s5(v,e.span.start,a5),y=b[0]+b[1];for(;(x=v[y])&&x.span.start<e.span.end;){let C=g+this.getEntryThickness(x);C>l&&(l=C,u=x,c=m,d=y),C===l&&(h=Math.max(h,s[Vc(x)]+1)),y+=1}}let f=0;if(u)for(f=c+1;f<i&&t[f]<l;)f+=1;let p=-1;return f<i&&t[f]===l&&(p=s5(n[f],e.span.end,a5)[0]),{touchingLevel:c,touchingLateral:d,touchingEntry:u,stackCnt:h,levelCoord:l,level:f,lateral:p}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,n=e.length,a=[];for(let s=0;s<n;s+=1){let i=e[s],l=t[s];for(let c of i)a.push(Object.assign(Object.assign({},c),{thickness:this.getEntryThickness(c),levelCoord:l}))}return a}}function a5(r){return r.span.end}function Vc(r){return r.index+":"+r.span.start}function yY(r){let e=[];for(let t of r){let n=[],a={span:t.span,entries:[t]};for(let s of e)n3(s.span,a.span)?a={entries:s.entries.concat(a.entries),span:wY(s.span,a.span)}:n.push(s);n.push(a),e=n}return e}function wY(r,e){return{start:Math.min(r.start,e.start),end:Math.max(r.end,e.end)}}function n3(r,e){let t=Math.max(r.start,e.start),n=Math.min(r.end,e.end);return t<n?{start:t,end:n}:null}function _b(r,e,t){r.splice(e,0,t)}function s5(r,e,t){let n=0,a=r.length;if(!a||e<t(r[n]))return[0,0];if(e>t(r[a-1]))return[a,0];for(;n<a;){let s=Math.floor(n+(a-n)/2),i=t(r[s]);if(e<i)a=s;else if(e>i)n=s+1;else return[s,1]}return[n,0]}class kY{constructor(e,t){this.emitter=new p1}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const a3={};function CY(r,e){return!r||e>10?nn({weekday:"short"}):e>1?nn({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):nn({weekday:"long"})}const TA="fc-col-header-cell";function RA(r){return r.text}class SY extends Cr{render(){let{dateEnv:e,options:t,theme:n,viewApi:a}=this.context,{props:s}=this,{date:i,dateProfile:l}=s,c=AA(i,s.todayRange,null,l),d=[TA].concat(e3(c,n)),u=e.format(i,s.dayHeaderFormat),h=!c.isDisabled&&s.colCnt>1?px(this.context,i):{},f=Object.assign(Object.assign(Object.assign({date:e.toDate(i),view:a},s.extraRenderProps),{text:u}),c);return he(Ns,{elTag:"th",elClasses:d,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":c.isDisabled?void 0:z4(i)},s.extraDataAttrs),renderProps:f,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:RA,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},p=>he("div",{className:"fc-scrollgrid-sync-inner"},!c.isDisabled&&he(p,{elTag:"a",elAttrs:h,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const jY=nn({weekday:"long"});class _Y extends Cr{render(){let{props:e}=this,{dateEnv:t,theme:n,viewApi:a,options:s}=this.context,i=ka(new Date(2592e5),e.dow),l={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},c=t.format(i,e.dayHeaderFormat),d=Object.assign(Object.assign(Object.assign(Object.assign({date:i},l),{view:a}),e.extraRenderProps),{text:c});return he(Ns,{elTag:"th",elClasses:[TA,...e3(l,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:RA,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},u=>he("div",{className:"fc-scrollgrid-sync-inner"},he(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(i,jY)}})))}}class Yp extends ys{constructor(e,t){super(e,t),this.initialNowDate=qp(t.options.now,t.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:t}=this,n=Wl(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),a=t.dateEnv.startOf(n,e.unit),s=t.dateEnv.add(a,or(1,e.unit)),i=s.valueOf()-n.valueOf();return i=Math.min(1e3*60*60*24,i),{currentState:{nowDate:a,todayRange:pS(a)},nextState:{nowDate:s,todayRange:pS(s)},waitMs:i}}setTimeout(){let{nextState:e,waitMs:t}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Yp.contextType=Uo;function pS(r){let e=Vr(r),t=ka(e,1);return{start:e,end:t}}class MA extends Cr{constructor(){super(...arguments),this.createDayHeaderFormatter=Bt(NY)}render(){let{context:e}=this,{dates:t,dateProfile:n,datesRepDistinctDays:a,renderIntro:s}=this.props,i=this.createDayHeaderFormatter(e.options.dayHeaderFormat,a,t.length);return he(Yp,{unit:"day"},(l,c)=>he("tr",{role:"row"},s&&s("day"),t.map(d=>a?he(SY,{key:d.toISOString(),date:d,dateProfile:n,todayRange:c,colCnt:t.length,dayHeaderFormat:i}):he(_Y,{key:d.getUTCDay(),dow:d.getUTCDay(),dayHeaderFormat:i}))))}}function NY(r,e,t){return r||CY(e,t)}class IA{constructor(e,t){let n=e.start,{end:a}=e,s=[],i=[],l=-1;for(;n<a;)t.isHiddenDay(n)?s.push(l+.5):(l+=1,s.push(l),i.push(n)),n=ka(n,1);this.dates=i,this.indices=s,this.cnt=i.length}sliceRange(e){let t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(ka(e.end,-1)),a=Math.max(0,t),s=Math.min(this.cnt-1,n);return a=Math.ceil(a),s=Math.floor(s),a<=s?{firstIndex:a,lastIndex:s,isStart:t===a,isEnd:n===s}:null}getDateDayIndex(e){let{indices:t}=this,n=Math.floor(dd(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]}}class OA{constructor(e,t){let{dates:n}=e,a,s,i;if(t){for(s=n[0].getUTCDay(),a=1;a<n.length&&n[a].getUTCDay()!==s;a+=1);i=Math.ceil(n.length/a)}else i=1,a=n.length;this.rowCnt=i,this.colCnt=a,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let n=[];for(let a=0;a<this.colCnt;a+=1)n.push(this.buildCell(t,a));e.push(n)}return e}buildCell(e,t){let n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,n=this.daySeries.sliceRange(e),a=[];if(n){let{firstIndex:s,lastIndex:i}=n,l=s;for(;l<=i;){let c=Math.floor(l/t),d=Math.min((c+1)*t,i+1);a.push({row:c,firstCol:l%t,lastCol:(d-1)%t,isStart:n.isStart&&l===s,isEnd:n.isEnd&&d-1===i}),l=d}}return a}}class FA{constructor(){this.sliceBusinessHours=Bt(this._sliceBusinessHours),this.sliceDateSelection=Bt(this._sliceDateSpan),this.sliceEventStore=Bt(this._sliceEventStore),this.sliceEventDrag=Bt(this._sliceInteraction),this.sliceEventResize=Bt(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,n,a,...s){let{eventUiBases:i}=e,l=this.sliceEventStore(e.eventStore,i,t,n,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,n,i,a,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,n,a,...s),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag(e.eventDrag,i,t,n,...s),eventResize:this.sliceEventResize(e.eventResize,i,t,n,...s),eventSelection:e.eventSelection}}sliceNowDate(e,t,n,a,...s){return this._sliceDateSpan({range:{start:e,end:Wl(e,1)},allDay:!1},t,n,{},a,...s)}_sliceBusinessHours(e,t,n,a,...s){return e?this._sliceEventStore(nd(e,gm(t,!!n),a),{},t,n,...s).bg:[]}_sliceEventStore(e,t,n,a,...s){if(e){let i=uS(e,t,gm(n,!!a),a);return{bg:this.sliceEventRanges(i.bg,s),fg:this.sliceEventRanges(i.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,n,a,...s){if(!e)return null;let i=uS(e.mutatedEvents,t,gm(n,!!a),a);return{segs:this.sliceEventRanges(i.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,n,a,s,...i){if(!e)return[];let l=gm(t,!!n),c=rd(e.range,l);if(c){e=Object.assign(Object.assign({},e),{range:c});let d=Zq(e,a,s),u=this.sliceRange(e.range,...i);for(let h of u)h.eventRange=d;return u}return[]}sliceEventRanges(e,t){let n=[];for(let a of e)n.push(...this.sliceEventRange(a,t));return n}sliceEventRange(e,t){let n=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(n={start:n.start,end:ka(n.start,1)});let a=this.sliceRange(n,...t);for(let s of a)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return a}}function gm(r,e){let t=r.activeRange;return e?t:{start:Wl(t.start,r.slotMinTime.milliseconds),end:Wl(t.end,r.slotMaxTime.milliseconds-864e5)}}function BA(r,e,t){let{instances:n}=r.mutatedEvents;for(let a in n)if(!h1(e.validRange,n[a].range))return!1;return zA({eventDrag:r},t)}function EY(r,e,t){return h1(e.validRange,r.range)?zA({dateSelection:r},t):!1}function zA(r,e){let t=e.getCurrentData(),n=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},r);return(e.pluginHooks.isPropsValid||AY)(n,e)}function AY(r,e,t={},n){return!(r.eventDrag&&!PY(r,e,t,n)||r.dateSelection&&!LY(r,e,t,n))}function PY(r,e,t,n){let a=e.getCurrentData(),s=r.eventDrag,i=s.mutatedEvents,l=i.defs,c=i.instances,d=fx(l,s.isEvent?r.eventUiBases:{"":a.selectionConfig});n&&(d=Io(d,n));let u=Eq(r.eventStore,s.affectedEvents.instances),h=u.defs,f=u.instances,p=fx(h,r.eventUiBases);for(let m in c){let g=c[m],v=g.range,x=d[g.defId],b=l[g.defId];if(!HA(x.constraints,v,u,r.businessHours,e))return!1;let{eventOverlap:y}=e.options,C=typeof y=="function"?y:null;for(let _ in f){let E=f[_];if(q4(v,E.range)&&(p[E.defId].overlap===!1&&s.isEvent||x.overlap===!1||C&&!C(new Jr(e,h[E.defId],E),new Jr(e,b,g))))return!1}let S=a.eventStore;for(let _ of x.allows){let E=Object.assign(Object.assign({},t),{range:g.range,allDay:b.allDay}),A=S.defs[b.defId],T=S.instances[m],F;if(A?F=new Jr(e,A,T):F=new Jr(e,b),!_(J4(E,e),F))return!1}}return!0}function LY(r,e,t,n){let a=r.eventStore,s=a.defs,i=a.instances,l=r.dateSelection,c=l.range,{selectionConfig:d}=e.getCurrentData();if(n&&(d=n(d)),!HA(d.constraints,c,a,r.businessHours,e))return!1;let{selectOverlap:u}=e.options,h=typeof u=="function"?u:null;for(let f in i){let p=i[f];if(q4(c,p.range)&&(d.overlap===!1||h&&!h(new Jr(e,s[p.defId],p),null)))return!1}for(let f of d.allows){let p=Object.assign(Object.assign({},t),l);if(!f(J4(p,e),null))return!1}return!0}function HA(r,e,t,n,a){for(let s of r)if(!TY(DY(s,e,t,n,a),e))return!1;return!0}function DY(r,e,t,n,a){return r==="businessHours"?Nb(nd(n,e,a)):typeof r=="string"?Nb(f1(t,s=>s.groupId===r)):typeof r=="object"&&r?Nb(nd(r,e,a)):[]}function Nb(r){let{instances:e}=r,t=[];for(let n in e)t.push(e[n].range);return t}function TY(r,e){for(let t of r)if(h1(t,e))return!0;return!1}const mm=/^(visible|hidden)$/;class RY extends Cr{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Oo(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:n}=e,a=t&&n,s=["fc-scroller"];return t&&(n?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),he("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:a&&-(e.overcomeLeft||0)||"",right:a&&-(e.overcomeRight||0)||"",bottom:a&&-(e.overcomeBottom||0)||"",marginLeft:!a&&-(e.overcomeLeft||0)||"",marginRight:!a&&-(e.overcomeRight||0)||"",marginBottom:!a&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(mm.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let a=0;a<n.length;a+=1)if(n[a].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(mm.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let a=0;a<n.length;a+=1)if(n[a].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return mm.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return mm.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class jo{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,n)=>{let{depths:a,currentMap:s}=this,i=!1,l=!1;t!==null?(i=n in s,s[n]=t,a[n]=(a[n]||0)+1,l=!0):(a[n]-=1,a[n]||(delete s[n],delete this.callbackMap[n],i=!0)),this.masterCallback&&(i&&this.masterCallback(null,String(n)),l&&this.masterCallback(t,String(n)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=n=>{this.handleValue(n,String(e))}),t}collect(e,t,n){return WW(this.currentMap,e,t,n)}getAll(){return $4(this.currentMap)}}function MY(r){let e=$$(r,".fc-scrollgrid-shrink"),t=0;for(let n of e)t=Math.max(t,aW(n));return Math.ceil(t)}function UA(r,e){return r.liquid&&e.liquid}function IY(r,e){return e.maxHeight!=null||UA(r,e)}function OY(r,e,t,n){let{expandRows:a}=t;return typeof e.content=="function"?e.content(t):he("table",{role:"presentation",className:[e.tableClassName,r.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:a?t.clientHeight:""}},t.tableColGroupNode,he(n?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function FY(r,e){return $l(r,e,eo)}function BY(r,e){let t=[];for(let n of r){let a=n.span||1;for(let s=0;s<a;s+=1)t.push(he("col",{style:{width:n.width==="shrink"?zY(e):n.width||"",minWidth:n.minWidth||""}}))}return he("colgroup",{},...t)}function zY(r){return r??4}function HY(r){for(let e of r)if(e.width==="shrink")return!0;return!1}function UY(r,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return r&&t.push("fc-scrollgrid-liquid"),t}function VY(r,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${r.type}`,r.className];return e&&r.liquid&&r.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),r.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function i5(r){return he("div",{className:"fc-scrollgrid-sticky-shim",style:{width:r.clientWidth,minWidth:r.tableMinWidth}})}function gx(r){let{stickyHeaderDates:e}=r;return(e==null||e==="auto")&&(e=r.height==="auto"||r.viewHeight==="auto"),e}function VA(r){let{stickyFooterScrollbar:e}=r;return(e==null||e==="auto")&&(e=r.height==="auto"||r.viewHeight==="auto"),e}class s3 extends Cr{constructor(){super(...arguments),this.processCols=Bt(e=>e,FY),this.renderMicroColGroup=Bt(BY),this.scrollerRefs=new jo,this.scrollerElRefs=new jo(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:n}=this,a=e.sections||[],s=this.processCols(e.cols),i=this.renderMicroColGroup(s,t.shrinkWidth),l=UY(e.liquid,n);e.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");let c=a.length,d=0,u,h=[],f=[],p=[];for(;d<c&&(u=a[d]).type==="header";)h.push(this.renderSection(u,i,!0)),d+=1;for(;d<c&&(u=a[d]).type==="body";)f.push(this.renderSection(u,i,!1)),d+=1;for(;d<c&&(u=a[d]).type==="footer";)p.push(this.renderSection(u,i,!0)),d+=1;let m=!NA();const g={role:"rowgroup"};return he("table",{role:"grid",className:l.join(" "),style:{height:e.height}},!!(!m&&h.length)&&he("thead",g,...h),!!(!m&&f.length)&&he("tbody",g,...f),!!(!m&&p.length)&&he("tfoot",g,...p),m&&he("tbody",g,...h,...f,...p))}renderSection(e,t,n){return"outerContent"in e?he(qr,{key:e.key},e.outerContent):he("tr",{key:e.key,role:"presentation",className:VY(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,n))}renderChunkTd(e,t,n,a){if("outerContent"in n)return n.outerContent;let{props:s}=this,{forceYScrollbars:i,scrollerClientWidths:l,scrollerClientHeights:c}=this.state,d=IY(s,e),u=UA(s,e),h=s.liquid?i?"scroll":d?"auto":"hidden":"visible",f=e.key,p=OY(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&l[f]!==void 0?l[f]:null,clientHeight:c[f]!==void 0?c[f]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},a);return he(a?"th":"td",{ref:n.elRef,role:"presentation"},he("div",{className:`fc-scroller-harness${u?" fc-scroller-harness-liquid":""}`},he(RY,{ref:this.scrollerRefs.createRef(f),elRef:this.scrollerElRefs.createRef(f),overflowY:h,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},p)))}_handleScrollerEl(e,t){let n=$Y(this.props.sections,t);n&&Oo(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return HY(this.props.cols)?MY(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=fY(),{scrollerRefs:t,scrollerElRefs:n}=this,a=!1,s={},i={};for(let l in t.currentMap){let c=t.currentMap[l];if(c&&c.needsYScrolling()){a=!0;break}}for(let l of this.props.sections){let c=l.key,d=n.currentMap[c];if(d){let u=d.parentNode;s[c]=Math.floor(u.getBoundingClientRect().width-(a?e.y:0)),i[c]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:s,scrollerClientHeights:i}}}s3.addStateEquality({scrollerClientWidths:eo,scrollerClientHeights:eo});function $Y(r,e){for(let t of r)if(t.key===e)return t;return null}class i3 extends Cr{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&hS(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:n}=t,{seg:a}=e,{eventRange:s}=a,{ui:i}=s,l={event:new Jr(t,s.def,s.instance),view:t.viewApi,timeText:e.timeText,textColor:i.textColor,backgroundColor:i.backgroundColor,borderColor:i.borderColor,isDraggable:!e.disableDragging&&zq(a,t),isStartResizable:!e.disableResizing&&Hq(a,t),isEndResizable:!e.disableResizing&&Uq(a),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!a.isStart,isEnd:!!a.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return he(Ns,Object.assign({},e,{elRef:this.handleEl,elClasses:[...Vq(l),...a.eventRange.ui.classNames,...e.elClasses||[]],renderProps:l,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&hS(this.el,this.props.seg)}}class $A extends Cr{render(){let{props:e,context:t}=this,{options:n}=t,{seg:a}=e,{ui:s}=a.eventRange,i=n.eventTimeFormat||e.defaultTimeFormat,l=kA(a,i,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return he(i3,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:SA(a,t),defaultGenerator:WY,timeText:l}),(c,d)=>he(qr,null,he(c,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:d.textColor}}),!!d.isStartResizable&&he("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!d.isEndResizable&&he("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function WY(r){return he("div",{className:"fc-event-main-frame"},r.timeText&&he("div",{className:"fc-event-time"},r.timeText),he("div",{className:"fc-event-title-container"},he("div",{className:"fc-event-title fc-sticky"},r.event.title||he(qr,null,""))))}const o3=r=>he(Uo.Consumer,null,e=>{let{options:t}=e,n={isAxis:r.isAxis,date:e.dateEnv.toDate(r.date),view:e.viewApi};return he(Ns,Object.assign({},r,{elTag:r.elTag||"div",renderProps:n,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount}))}),qY=nn({day:"numeric"});class l3 extends Cr{constructor(){super(...arguments),this.refineRenderProps=a0(YY)}render(){let{props:e,context:t}=this,{options:n}=t,a=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:n.monthStartFormat});return he(Ns,Object.assign({},e,{elClasses:[...e3(a,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),a.isDisabled?{}:{"data-date":z4(e.date)}),renderProps:a,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:a.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount}))}}function c3(r){return!!(r.dayCellContent||e5("dayCellContent",r))}function YY(r){let{date:e,dateEnv:t,dateProfile:n,isMonthStart:a}=r,s=AA(e,r.todayRange,null,n),i=r.showDayNumber?t.format(e,a?r.monthStartFormat:qY):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:r.viewApi},s),{isMonthStart:a,dayNumberText:i}),r.extraRenderProps)}class WA extends Cr{render(){let{props:e}=this,{seg:t}=e;return he(i3,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:GY,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function GY(r){let{title:e}=r.event;return e&&he("div",{className:"fc-event-title"},r.event.title)}function qA(r){return he("div",{className:`fc-${r}`})}const YA=r=>he(Uo.Consumer,null,e=>{let{dateEnv:t,options:n}=e,{date:a}=r,s=n.weekNumberFormat||r.defaultFormat,i=t.computeWeekNumber(a),l=t.format(a,s);return he(Ns,Object.assign({},r,{renderProps:{num:i,text:l,date:a},generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:XY,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount}))});function XY(r){return r.text}const Eb=10;class ZY extends Cr{constructor(){super(...arguments),this.state={titleId:d1()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Oo(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=XE(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:n,state:a}=this,s=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return P$(he("div",Object.assign({},n.extraAttrs,{id:n.id,className:s.join(" "),"aria-labelledby":a.titleId,ref:this.handleRootEl}),he("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},he("span",{className:"fc-popover-title",id:a.titleId},n.title),he("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),he("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:n}=this.props,{rootEl:a}=this,s=xY(t);if(s){let i=a.getBoundingClientRect(),l=n?ya(t,".fc-scrollgrid").getBoundingClientRect().top:s.top,c=e?s.right-i.width:s.left;l=Math.max(l,Eb),c=Math.min(c,document.documentElement.clientWidth-Eb-i.width),c=Math.max(c,Eb);let d=a.offsetParent.getBoundingClientRect();Bf(a,{top:l-d.top,left:c-d.left})}}}class JY extends ro{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:n}=this,{startDate:a,todayRange:s,dateProfile:i}=n,l=t.format(a,e.dayPopoverFormat);return he(l3,{elRef:this.handleRootEl,date:a,dateProfile:i,todayRange:s},(c,d,u)=>he(ZY,{elRef:u.ref,id:n.id,title:l,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},c3(e)&&he(c,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,t,n,a){let{rootEl:s,props:i}=this;return e>=0&&e<n&&t>=0&&t<a?{dateProfile:i.dateProfile,dateSpan:Object.assign({allDay:!i.forceTimed,range:{start:i.startDate,end:i.endDate}},i.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:n,bottom:a},layer:1}:null}}class GA extends Cr{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:d1()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Oo(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:n}=this,{moreLinkClick:a}=n.options,s=gS(t).start;function i(l){let{def:c,instance:d,range:u}=l.eventRange;return{event:new Jr(n,c,d),start:n.dateEnv.toDate(u.start),end:n.dateEnv.toDate(u.end),isStart:l.isStart,isEnd:l.isEnd}}typeof a=="function"&&(a=a({date:s,allDay:!!t.allDayDate,allSegs:t.allSegs.map(i),hiddenSegs:t.hiddenSegs.map(i),jsEvent:e,view:n.viewApi})),!a||a==="popover"?this.setState({isPopoverOpen:!0}):typeof a=="string"&&n.calendarApi.zoomTo(s,a)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return he(Uo.Consumer,null,n=>{let{viewApi:a,options:s,calendarApi:i}=n,{moreLinkText:l}=s,{moreCnt:c}=e,d=gS(e),u=typeof l=="function"?l.call(i,c):`+${c} ${l}`,h=zf(s.moreLinkHint,[c],u),f={num:c,shortText:`+${c}`,text:u,view:a};return he(qr,null,!!e.moreCnt&&he(Ns,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),JE(this.handleClick)),{title:h,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:f,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||KY,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),t.isPopoverOpen&&he(JY,{id:t.popoverId,startDate:d.start,endDate:d.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=ya(this.linkEl,".fc-view-harness"))}}function KY(r){return r.text}function gS(r){if(r.allDayDate)return{start:r.allDayDate,end:ka(r.allDayDate,1)};let{hiddenSegs:e}=r;return{start:XA(e),end:eG(e)}}function XA(r){return r.reduce(QY).eventRange.range.start}function QY(r,e){return r.eventRange.range.start<e.eventRange.range.start?r:e}function eG(r){return r.reduce(tG).eventRange.range.end}function tG(r,e){return r.eventRange.range.end>e.eventRange.range.end?r:e}class rG{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class nG extends rG{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let n=!1;e.isActive?(t.set(e.id,e),n=!0):t.has(e.id)&&(t.delete(e.id),n=!0),n&&this.set(t)}}const aG=[],ZA={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},JA=Object.assign(Object.assign({},ZA),{buttonHints:{prev:"Previous $0",next:"Next $0",today(r,e){return e==="day"?"Today":`This ${r}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(r){return`Show ${r} more event${r===1?"":"s"}`}});function sG(r){let e=r.length>0?r[0].code:"en",t=aG.concat(r),n={en:JA};for(let a of t)n[a.code]=a;return{map:n,defaultCode:e}}function KA(r,e){return typeof r=="object"&&!Array.isArray(r)?QA(r.code,[r.code],r):iG(r,e)}function iG(r,e){let t=[].concat(r||[]),n=oG(t,e)||JA;return QA(r,t,n)}function oG(r,e){for(let t=0;t<r.length;t+=1){let n=r[t].toLocaleLowerCase().split("-");for(let a=n.length;a>0;a-=1){let s=n.slice(0,a).join("-");if(e[s])return e[s]}}return null}function QA(r,e,t){let n=V4([ZA,t],["buttonText"]);delete n.code;let{week:a}=n;return delete n.week,{codeArg:r,codes:e,week:a,simpleNumberFormat:new Intl.NumberFormat(r),options:n}}function Vo(r){return{id:cd(),name:r.name,premiumReleaseDate:r.premiumReleaseDate?new Date(r.premiumReleaseDate):void 0,deps:r.deps||[],reducers:r.reducers||[],isLoadingFuncs:r.isLoadingFuncs||[],contextInit:[].concat(r.contextInit||[]),eventRefiners:r.eventRefiners||{},eventDefMemberAdders:r.eventDefMemberAdders||[],eventSourceRefiners:r.eventSourceRefiners||{},isDraggableTransformers:r.isDraggableTransformers||[],eventDragMutationMassagers:r.eventDragMutationMassagers||[],eventDefMutationAppliers:r.eventDefMutationAppliers||[],dateSelectionTransformers:r.dateSelectionTransformers||[],datePointTransforms:r.datePointTransforms||[],dateSpanTransforms:r.dateSpanTransforms||[],views:r.views||{},viewPropsTransformers:r.viewPropsTransformers||[],isPropsValid:r.isPropsValid||null,externalDefTransforms:r.externalDefTransforms||[],viewContainerAppends:r.viewContainerAppends||[],eventDropTransformers:r.eventDropTransformers||[],componentInteractions:r.componentInteractions||[],calendarInteractions:r.calendarInteractions||[],themeClasses:r.themeClasses||{},eventSourceDefs:r.eventSourceDefs||[],cmdFormatter:r.cmdFormatter,recurringTypes:r.recurringTypes||[],namedTimeZonedImpl:r.namedTimeZonedImpl,initialView:r.initialView||"",elementDraggingImpl:r.elementDraggingImpl,optionChangeHandlers:r.optionChangeHandlers||{},scrollGridImpl:r.scrollGridImpl||null,listenerRefiners:r.listenerRefiners||{},optionRefiners:r.optionRefiners||{},propSetHandlers:r.propSetHandlers||{}}}function lG(r,e){let t={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function a(s){for(let i of s){const l=i.name,c=t[l];c===void 0?(t[l]=i.id,a(i.deps),n=dG(n,i)):c!==i.id&&console.warn(`Duplicate plugin '${l}'`)}}return r&&a(r),a(e),n}function cG(){let r=[],e=[],t;return(n,a)=>((!t||!$l(n,r)||!$l(a,e))&&(t=lG(n,a)),r=n,e=a,t)}function dG(r,e){return{premiumReleaseDate:uG(r.premiumReleaseDate,e.premiumReleaseDate),reducers:r.reducers.concat(e.reducers),isLoadingFuncs:r.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:r.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},r.eventRefiners),e.eventRefiners),eventDefMemberAdders:r.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},r.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:r.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:r.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:r.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:r.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:r.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:r.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},r.views),e.views),viewPropsTransformers:r.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||r.isPropsValid,externalDefTransforms:r.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:r.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:r.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:r.calendarInteractions.concat(e.calendarInteractions),componentInteractions:r.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},r.themeClasses),e.themeClasses),eventSourceDefs:r.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||r.cmdFormatter,recurringTypes:r.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||r.namedTimeZonedImpl,initialView:r.initialView||e.initialView,elementDraggingImpl:r.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},r.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||r.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},r.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},r.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},r.propSetHandlers),e.propSetHandlers)}}function uG(r,e){return r===void 0?e:e===void 0?r:new Date(Math.max(r.valueOf(),e.valueOf()))}class Kl extends Wp{}Kl.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Kl.prototype.baseIconClass="fc-icon";Kl.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Kl.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Kl.prototype.iconOverrideOption="buttonIcons";Kl.prototype.iconOverrideCustomButtonOption="icon";Kl.prototype.iconOverridePrefix="fc-icon-";function hG(r,e){let t={},n;for(n in r)o5(n,t,r,e);for(n in e)o5(n,t,r,e);return t}function o5(r,e,t,n){if(e[r])return e[r];let a=fG(r,e,t,n);return a&&(e[r]=a),a}function fG(r,e,t,n){let a=t[r],s=n[r],i=u=>a&&a[u]!==null?a[u]:s&&s[u]!==null?s[u]:null,l=i("component"),c=i("superType"),d=null;if(c){if(c===r)throw new Error("Can't have a custom view type that references itself");d=o5(c,e,t,n)}return!l&&d&&(l=d.component),l?{type:r,component:l,defaults:Object.assign(Object.assign({},d?d.defaults:{}),a?a.rawOptions:{}),overrides:Object.assign(Object.assign({},d?d.overrides:{}),s?s.rawOptions:{})}:null}function mS(r){return Io(r,pG)}function pG(r){let e=typeof r=="function"?{component:r}:r,{component:t}=e;return e.content?t=xS(e):t&&!(t.prototype instanceof Cr)&&(t=xS(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function xS(r){return e=>he(Uo.Consumer,null,t=>he(Ns,{elTag:"div",elClasses:iA(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:r.content,classNameGenerator:r.classNames,didMount:r.didMount,willUnmount:r.willUnmount}))}function gG(r,e,t,n){let a=mS(r),s=mS(e.views),i=hG(a,s);return Io(i,l=>mG(l,s,e,t,n))}function mG(r,e,t,n,a){let s=r.overrides.duration||r.defaults.duration||n.duration||t.duration,i=null,l="",c="",d={};if(s&&(i=xG(s),i)){let f=K2(i);l=f.unit,f.value===1&&(c=l,d=e[l]?e[l].rawOptions:{})}let u=f=>{let p=f.buttonText||{},m=r.defaults.buttonTextKey;return m!=null&&p[m]!=null?p[m]:p[r.type]!=null?p[r.type]:p[c]!=null?p[c]:null},h=f=>{let p=f.buttonHints||{},m=r.defaults.buttonTextKey;return m!=null&&p[m]!=null?p[m]:p[r.type]!=null?p[r.type]:p[c]!=null?p[c]:null};return{type:r.type,component:r.component,duration:i,durationUnit:l,singleUnit:c,optionDefaults:r.defaults,optionOverrides:Object.assign(Object.assign({},d),r.overrides),buttonTextOverride:u(n)||u(t)||r.overrides.buttonText,buttonTextDefault:u(a)||r.defaults.buttonText||u(Hf)||r.type,buttonTitleOverride:h(n)||h(t)||r.overrides.buttonHint,buttonTitleDefault:h(a)||r.defaults.buttonHint||h(Hf)}}let vS={};function xG(r){let e=JSON.stringify(r),t=vS[e];return t===void 0&&(t=or(r),vS[e]=t),t}function vG(r,e){switch(e.type){case"CHANGE_VIEW_TYPE":r=e.viewType}return r}function bG(r,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},r),{[e.optionName]:e.rawOptionValue});default:return r}}function yG(r,e,t,n){let a;switch(e.type){case"CHANGE_VIEW_TYPE":return n.build(e.dateMarker||t);case"CHANGE_DATE":return n.build(e.dateMarker);case"PREV":if(a=n.buildPrev(r,t),a.isValid)return a;break;case"NEXT":if(a=n.buildNext(r,t),a.isValid)return a;break}return r}function wG(r,e,t){let n=e?e.activeRange:null;return tP({},EG(r,t),n,t)}function kG(r,e,t,n){let a=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return tP(r,e.sources,a,n);case"REMOVE_EVENT_SOURCE":return SG(r,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?rP(r,a,n):r;case"FETCH_EVENT_SOURCES":return d3(r,e.sourceIds?tA(e.sourceIds):nP(r,n),a,e.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return NG(r,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return r}}function CG(r,e,t){let n=e?e.activeRange:null;return d3(r,nP(r,t),n,!0,t)}function eP(r){for(let e in r)if(r[e].isFetching)return!0;return!1}function tP(r,e,t,n){let a={};for(let s of e)a[s.sourceId]=s;return t&&(a=rP(a,t,n)),Object.assign(Object.assign({},r),a)}function SG(r,e){return td(r,t=>t.sourceId!==e)}function rP(r,e,t){return d3(r,td(r,n=>jG(n,e,t)),e,!1,t)}function jG(r,e,t){return aP(r,t)?!t.options.lazyFetching||!r.fetchRange||r.isFetching||e.start<r.fetchRange.start||e.end>r.fetchRange.end:!r.latestFetchId}function d3(r,e,t,n,a){let s={};for(let i in r){let l=r[i];e[i]?s[i]=_G(l,t,n,a):s[i]=l}return s}function _G(r,e,t,n){let{options:a,calendarApi:s}=n,i=n.pluginHooks.eventSourceDefs[r.sourceDefId],l=cd();return i.fetch({eventSource:r,range:e,isRefetch:t,context:n},c=>{let{rawEvents:d}=c;a.eventSourceSuccess&&(d=a.eventSourceSuccess.call(s,d,c.response)||d),r.success&&(d=r.success.call(s,d,c.response)||d),n.dispatch({type:"RECEIVE_EVENTS",sourceId:r.sourceId,fetchId:l,fetchRange:e,rawEvents:d})},c=>{let d=!1;a.eventSourceFailure&&(a.eventSourceFailure.call(s,c),d=!0),r.failure&&(r.failure(c),d=!0),d||console.warn(c.message,c),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:r.sourceId,fetchId:l,fetchRange:e,error:c})}),Object.assign(Object.assign({},r),{isFetching:!0,latestFetchId:l})}function NG(r,e,t,n){let a=r[e];return a&&t===a.latestFetchId?Object.assign(Object.assign({},r),{[e]:Object.assign(Object.assign({},a),{isFetching:!1,fetchRange:n})}):r}function nP(r,e){return td(r,t=>aP(t,e))}function EG(r,e){let t=gA(e),n=[].concat(r.eventSources||[]),a=[];r.initialEvents&&n.unshift(r.initialEvents),r.events&&n.unshift(r.events);for(let s of n){let i=pA(s,e,t);i&&a.push(i)}return a}function aP(r,e){return!e.pluginHooks.eventSourceDefs[r.sourceDefId].ignoreRange}function AG(r,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return r}}function PG(r,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return r}}function LG(r,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return r}}function DG(r,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return r}}function TG(r,e,t,n,a){let s=r.headerToolbar?bS(r.headerToolbar,r,e,t,n,a):null,i=r.footerToolbar?bS(r.footerToolbar,r,e,t,n,a):null;return{header:s,footer:i}}function bS(r,e,t,n,a,s){let i={},l=[],c=!1;for(let d in r){let u=r[d],h=RG(u,e,t,n,a,s);i[d]=h.widgets,l.push(...h.viewsWithButtons),c=c||h.hasTitle}return{sectionWidgets:i,viewsWithButtons:l,hasTitle:c}}function RG(r,e,t,n,a,s){let i=e.direction==="rtl",l=e.customButtons||{},c=t.buttonText||{},d=e.buttonText||{},u=t.buttonHints||{},h=e.buttonHints||{},f=r?r.split(" "):[],p=[],m=!1;return{widgets:f.map(v=>v.split(",").map(x=>{if(x==="title")return m=!0,{buttonName:x};let b,y,C,S,_,E;if(b=l[x])C=A=>{b.click&&b.click.call(A.target,A,A.target)},(S=n.getCustomButtonIconClass(b))||(S=n.getIconClass(x,i))||(_=b.text),E=b.hint||b.text;else if(y=a[x]){p.push(x),C=()=>{s.changeView(x)},(_=y.buttonTextOverride)||(S=n.getIconClass(x,i))||(_=y.buttonTextDefault);let A=y.buttonTextOverride||y.buttonTextDefault;E=zf(y.buttonTitleOverride||y.buttonTitleDefault||e.viewHint,[A,x],A)}else if(s[x])if(C=()=>{s[x]()},(_=c[x])||(S=n.getIconClass(x,i))||(_=d[x]),x==="prevYear"||x==="nextYear"){let A=x==="prevYear"?"prev":"next";E=zf(u[A]||h[A],[d.year||"year","year"],d[x])}else E=A=>zf(u[x]||h[x],[d[A]||A,A],d[x]);return{buttonName:x,buttonClick:C,buttonIcon:S,buttonText:_,buttonHint:E}})),viewsWithButtons:p,hasTitle:m}}class MG{constructor(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let IG={ignoreRange:!0,parseMeta(r){return Array.isArray(r.events)?r.events:null},fetch(r,e){e({rawEvents:r.eventSource.meta})}};const OG=Vo({name:"array-event-source",eventSourceDefs:[IG]});let FG={parseMeta(r){return typeof r.events=="function"?r.events:null},fetch(r,e,t){const{dateEnv:n}=r.context,a=r.eventSource.meta;Jq(a.bind(null,jA(r.range,n)),s=>e({rawEvents:s}),t)}};const BG=Vo({name:"func-event-source",eventSourceDefs:[FG]}),zG={method:String,extraParams:Re,startParam:String,endParam:String,timeZoneParam:String};let HG={parseMeta(r){return r.url&&(r.format==="json"||!r.format)?{url:r.url,format:"json",method:(r.method||"GET").toUpperCase(),extraParams:r.extraParams,startParam:r.startParam,endParam:r.endParam,timeZoneParam:r.timeZoneParam}:null},fetch(r,e,t){const{meta:n}=r.eventSource,a=VG(n,r.range,r.context);Kq(n.method,n.url,a).then(([s,i])=>{e({rawEvents:s,response:i})},t)}};const UG=Vo({name:"json-event-source",eventSourceRefiners:zG,eventSourceDefs:[HG]});function VG(r,e,t){let{dateEnv:n,options:a}=t,s,i,l,c,d={};return s=r.startParam,s==null&&(s=a.startParam),i=r.endParam,i==null&&(i=a.endParam),l=r.timeZoneParam,l==null&&(l=a.timeZoneParam),typeof r.extraParams=="function"?c=r.extraParams():c=r.extraParams||{},Object.assign(d,c),d[s]=n.formatIso(e.start),d[i]=n.formatIso(e.end),n.timeZone!=="local"&&(d[l]=n.timeZone),d}const $G={daysOfWeek:Re,startTime:or,endTime:or,duration:or,startRecur:Re,endRecur:Re};let WG={parse(r,e){if(r.daysOfWeek||r.startTime||r.endTime||r.startRecur||r.endRecur){let t={daysOfWeek:r.daysOfWeek||null,startTime:r.startTime||null,endTime:r.endTime||null,startRecur:r.startRecur?e.createMarker(r.startRecur):null,endRecur:r.endRecur?e.createMarker(r.endRecur):null},n;return r.duration&&(n=r.duration),!n&&r.startTime&&r.endTime&&(n=lW(r.endTime,r.startTime)),{allDayGuess:!r.startTime&&!r.endTime,duration:n,typeData:t}}return null},expand(r,e,t){let n=rd(e,{start:r.startRecur,end:r.endRecur});return n?YG(r.daysOfWeek,r.startTime,n,t):[]}};const qG=Vo({name:"simple-recurring-event",recurringTypes:[WG],eventRefiners:$G});function YG(r,e,t,n){let a=r?tA(r):null,s=Vr(t.start),i=t.end,l=[];for(;s<i;){let c;(!a||a[s.getUTCDay()])&&(e?c=n.add(s,e):c=s,l.push(c)),s=ka(s,1)}return l}const GG=Vo({name:"change-handler",optionChangeHandlers:{events(r,e){yS([r],e)},eventSources:yS}});function yS(r,e){let t=$4(e.getCurrentData().eventSources);if(t.length===1&&r.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(r[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:r[0]});return}let n=[];for(let a of r){let s=!1;for(let i=0;i<t.length;i+=1)if(t[i]._raw===a){t.splice(i,1),s=!0;break}s||n.push(a)}for(let a of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:a.sourceId});for(let a of n)e.calendarApi.addEventSource(a)}function XG(r,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},jA(r.activeRange,e.dateEnv)),{view:e.viewApi}))}function ZG(r,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",Uc(r,e))}const JG=[OG,BG,UG,qG,GG,Vo({name:"misc",isLoadingFuncs:[r=>eP(r.eventSources)],propSetHandlers:{dateProfile:XG,eventStore:ZG}})];class KG{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new M4(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],n;for(;n=e.shift();)this.runTask(n),t.push(n);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function QG(r,e,t){let n;return/^(year|month)$/.test(r.currentRangeUnit)?n=r.currentRange:n=r.activeRange,t.formatRange(n.start,n.end,nn(e.titleFormat||eX(r)),{isEndExclusive:r.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function eX(r){let{currentRangeUnit:e}=r;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=sx(r.currentRange.start,r.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class tX{constructor(e){this.computeCurrentViewData=Bt(this._computeCurrentViewData),this.organizeRawLocales=Bt(sG),this.buildLocale=Bt(KA),this.buildPluginHooks=cG(),this.buildDateEnv=Bt(rX),this.buildTheme=Bt(nX),this.parseToolbars=Bt(TG),this.buildViewSpecs=Bt(gG),this.buildDateProfileGenerator=a0(aX),this.buildViewApi=Bt(sX),this.buildViewUiProps=a0(lX),this.buildEventUiBySource=Bt(iX,eo),this.buildEventUiBases=Bt(oX),this.parseContextBusinessHours=a0(cX),this.buildTitle=Bt(QG),this.emitter=new p1,this.actionRunner=new KG(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=f=>{this.actionRunner.request(f)},this.props=e,this.actionRunner.pause();let t={},n=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),a=n.calendarOptions.initialView||n.pluginHooks.initialView,s=this.computeCurrentViewData(a,n,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let i=uq(n.calendarOptions,n.dateEnv),l=s.dateProfileGenerator.build(i);Eo(l.activeRange,i)||(i=l.currentRange.start);let c={dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let f of n.pluginHooks.contextInit)f(c);let d=wG(n.calendarOptions,l,c),u={dynamicOptionOverrides:t,currentViewType:a,currentDate:i,dateProfile:l,businessHours:this.parseContextBusinessHours(c),eventSources:d,eventUiBases:{},eventStore:ws(),renderableEventStore:ws(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(c).selectionConfig},h=Object.assign(Object.assign({},c),u);for(let f of n.pluginHooks.reducers)Object.assign(u,f(null,null,h));Ab(u,c)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:n}=this;t===void 0?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:n,emitter:a}=this,s=bG(n.dynamicOptionOverrides,e),i=this.computeOptionsData(t.optionOverrides,s,t.calendarApi),l=vG(n.currentViewType,e),c=this.computeCurrentViewData(l,i,t.optionOverrides,s);t.calendarApi.currentDataManager=this,a.setThisContext(t.calendarApi),a.setOptions(c.options);let d={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:a,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:h}=n;this.data&&this.data.dateProfileGenerator!==c.dateProfileGenerator&&(h=c.dateProfileGenerator.build(u)),u=dq(u,e),h=yG(h,e,u,c.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Eo(h.currentRange,u))&&(u=h.currentRange.start);let f=kG(n.eventSources,e,h,d),p=Sq(n.eventStore,e,f,h,d),g=eP(f)&&!c.options.progressiveEventRendering&&n.renderableEventStore||p,{eventUiSingleBase:v,selectionConfig:x}=this.buildViewUiProps(d),b=this.buildEventUiBySource(f),y=this.buildEventUiBases(g.defs,v,b),C={dynamicOptionOverrides:s,currentViewType:l,currentDate:u,dateProfile:h,eventSources:f,eventStore:p,renderableEventStore:g,selectionConfig:x,eventUiBases:y,businessHours:this.parseContextBusinessHours(d),dateSelection:AG(n.dateSelection,e),eventSelection:PG(n.eventSelection,e),eventDrag:LG(n.eventDrag,e),eventResize:DG(n.eventResize,e)},S=Object.assign(Object.assign({},d),C);for(let A of i.pluginHooks.reducers)Object.assign(C,A(n,e,S));let _=Ab(n,d),E=Ab(C,d);!_&&E?a.trigger("loading",!0):_&&!E&&a.trigger("loading",!1),this.state=C,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,n=this.data,a=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(t.currentViewType,a,e.optionOverrides,t.dynamicOptionOverrides),i=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,s.options,a.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a),s),t),l=a.pluginHooks.optionChangeHandlers,c=n&&n.calendarOptions,d=a.calendarOptions;if(c&&c!==d){c.timeZone!==d.timeZone&&(t.eventSources=i.eventSources=CG(i.eventSources,t.dateProfile,i),t.eventStore=i.eventStore=cS(i.eventStore,n.dateEnv,i.dateEnv),t.renderableEventStore=i.renderableEventStore=cS(i.renderableEventStore,n.dateEnv,i.dateEnv));for(let u in l)(this.optionsForHandling.indexOf(u)!==-1||c[u]!==d[u])&&l[u](d[u],i)}this.optionsForHandling=[],e.onData&&e.onData(i)}computeOptionsData(e,t,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:a,pluginHooks:s,localeDefaults:i,availableLocaleData:l,extra:c}=this.processRawCalendarOptions(e,t);wS(c);let d=this.buildDateEnv(a.timeZone,a.locale,a.weekNumberCalculation,a.firstDay,a.weekText,s,l,a.defaultRangeSeparator),u=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,i),h=this.buildTheme(a,s),f=this.parseToolbars(a,this.stableOptionOverrides,h,u,n);return this.stableCalendarOptionsData={calendarOptions:a,pluginHooks:s,dateEnv:d,viewSpecs:u,theme:h,toolbarConfig:f,localeDefaults:i,availableRawLocales:l.map}}processRawCalendarOptions(e,t){let{locales:n,locale:a}=yb([Hf,e,t]),s=this.organizeRawLocales(n),i=s.map,l=this.buildLocale(a||s.defaultCode,i).options,c=this.buildPluginHooks(e.plugins||[],JG),d=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},nS),aS),sS),c.listenerRefiners),c.optionRefiners),u={},h=yb([Hf,l,e,t]),f={},p=this.currentCalendarOptionsInput,m=this.currentCalendarOptionsRefined,g=!1;for(let v in h)this.optionsForRefining.indexOf(v)===-1&&(h[v]===p[v]||wc[v]&&v in p&&wc[v](p[v],h[v]))?f[v]=m[v]:d[v]?(f[v]=d[v](h[v]),g=!0):u[v]=p[v];return g&&(this.currentCalendarOptionsInput=h,this.currentCalendarOptionsRefined=f,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:c,availableLocaleData:s,localeDefaults:l,extra:u}}_computeCurrentViewData(e,t,n,a){let s=t.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:i,extra:l}=this.processRawViewOptions(s,t.pluginHooks,t.localeDefaults,n,a);wS(l);let c=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,showNonCurrentDates:i.showNonCurrentDates,dayCount:i.dayCount,dateAlignment:i.dateAlignment,dateIncrement:i.dateIncrement,hiddenDays:i.hiddenDays,weekends:i.weekends,nowInput:i.now,validRangeInput:i.validRange,visibleRangeInput:i.visibleRange,fixedWeekCount:i.fixedWeekCount}),d=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:s,options:i,dateProfileGenerator:c,viewApi:d}}processRawViewOptions(e,t,n,a,s){let i=yb([Hf,e.optionDefaults,n,a,e.optionOverrides,s]),l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},nS),aS),sS),HW),t.listenerRefiners),t.optionRefiners),c={},d=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,h=!1,f={};for(let p in i)i[p]===d[p]||wc[p]&&wc[p](i[p],d[p])?c[p]=u[p]:(i[p]===this.currentCalendarOptionsInput[p]||wc[p]&&wc[p](i[p],this.currentCalendarOptionsInput[p])?p in this.currentCalendarOptionsRefined&&(c[p]=this.currentCalendarOptionsRefined[p]):l[p]?c[p]=l[p](i[p]):f[p]=i[p],h=!0);return h&&(this.currentViewOptionsInput=i,this.currentViewOptionsRefined=c),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:f}}}function rX(r,e,t,n,a,s,i,l){let c=KA(e||i.defaultCode,i.map);return new JW({calendarSystem:"gregory",timeZone:r,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:c,weekNumberCalculation:t,firstDay:n,weekText:a,cmdFormatter:s.cmdFormatter,defaultSeparator:l})}function nX(r,e){let t=e.themeClasses[r.themeSystem]||Kl;return new t(r)}function aX(r){let e=r.dateProfileGeneratorClass||cA;return new e(r)}function sX(r,e,t){return new MG(r,e,t)}function iX(r){return Io(r,e=>e.ui)}function oX(r,e,t){let n={"":e};for(let a in r){let s=r[a];s.sourceId&&t[s.sourceId]&&(n[a]=t[s.sourceId])}return n}function lX(r){let{options:e}=r;return{eventUiSingleBase:hx({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},r),selectionConfig:hx({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},r)}}function Ab(r,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(r))return!0;return!1}function cX(r){return Tq(r.options.businessHours,r)}function wS(r,e){for(let t in r)console.warn(`Unknown option '${t}'`)}class dX extends Cr{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return he("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:n}=this.context,a=[],s=!0;for(let i of e){let{buttonName:l,buttonClick:c,buttonText:d,buttonIcon:u,buttonHint:h}=i;if(l==="title")s=!1,a.push(he("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let f=l===t.activeButton,p=!t.isTodayEnabled&&l==="today"||!t.isPrevEnabled&&l==="prev"||!t.isNextEnabled&&l==="next",m=[`fc-${l}-button`,n.getClass("button")];f&&m.push(n.getClass("buttonActive")),a.push(he("button",{type:"button",title:typeof h=="function"?h(t.navUnit):h,disabled:p,"aria-pressed":f,className:m.join(" "),onClick:c},d||(u?he("span",{className:u,role:"img"}):"")))}}if(a.length>1){let i=s&&n.getClass("buttonGroup")||"";return he("div",{className:i},...a)}return a[0]}}class kS extends Cr{render(){let{model:e,extraClassName:t}=this.props,n=!1,a,s,i=e.sectionWidgets,l=i.center;return i.left?(n=!0,a=i.left):a=i.start,i.right?(n=!0,s=i.right):s=i.end,he("div",{className:[t||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",a||[]),this.renderSection("center",l||[]),this.renderSection("end",s||[]))}renderSection(e,t){let{props:n}=this;return he(dX,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class uX extends Cr{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Oo(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:n}=e,a=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",i="";return n?t.availableWidth!==null?s=t.availableWidth/n:i=`${1/n*100}%`:s=e.height||"",he("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:a.join(" "),style:{height:s,paddingBottom:i}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class hX extends bh{constructor(e){super(e),this.handleSegClick=(t,n)=>{let{component:a}=this,{context:s}=a,i=Ku(n);if(i&&a.isValidSegDownEl(t.target)){let l=ya(t.target,".fc-event-forced-url"),c=l?l.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:n,event:new Jr(a.context,i.eventRange.def,i.eventRange.instance),jsEvent:t,view:s.viewApi}),c&&!t.defaultPrevented&&(window.location.href=c)}},this.destroy=ZE(e.el,"click",".fc-event",this.handleSegClick)}}class fX extends bh{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,n)=>{Ku(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",t,n))},this.handleSegLeave=(t,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,n))},this.removeHoverListeners=Y$(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,n){let{component:a}=this,{context:s}=a,i=Ku(n);(!t||a.isValidSegDownEl(t.target))&&s.emitter.trigger(e,{el:n,event:new Jr(s,i.eventRange.def,i.eventRange.instance),jsEvent:t,view:s.viewApi})}}class pX extends ud{constructor(){super(...arguments),this.buildViewContext=Bt(eq),this.buildViewPropTransformers=Bt(mX),this.buildToolbarProps=Bt(gX),this.headerRef=Ra(),this.footerRef=Ra(),this.interactionsStore={},this.state={viewLabelId:d1()},this.registerInteractiveComponent=(e,t)=>{let n=tY(e,t),i=[hX,fX].concat(this.props.pluginHooks.componentInteractions).map(l=>new l(n));this.interactionsStore[e.uid]=i,n5[e.uid]=n},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let n of t)n.destroy();delete this.interactionsStore[e.uid]}delete n5[e.uid]},this.resizeRunner=new M4(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:n}=e,a=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,qp(e.options.now,e.dateEnv),e.viewTitle),s=!1,i="",l;e.isHeightAuto||e.forPrint?i="":n.height!=null?s=!0:n.contentHeight!=null?i=n.contentHeight:l=Math.max(n.aspectRatio,.5);let c=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),d=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return he(Uo.Provider,{value:c},t.header&&he(kS,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:d},a)),he(uX,{liquid:s,height:i,aspectRatio:l,labeledById:d},this.renderView(e),this.buildAppendContent()),t.footer&&he(kS,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},a)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(n=>new n(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let n in t)t[n](e[n],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:n}=t.pluginHooks;for(let a in n)t[a]!==e[a]&&n[a](t[a],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(n=>n(e));return he(qr,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:n}=e,a={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(t.viewPropsTransformers);for(let l of s)Object.assign(a,l.transform(a,e));let i=n.component;return he(i,Object.assign({},a))}}function gX(r,e,t,n,a,s){let i=t.build(a,void 0,!1),l=t.buildPrev(e,n,!1),c=t.buildNext(e,n,!1);return{title:s,activeButton:r.type,navUnit:r.singleUnit,isTodayEnabled:i.isValid&&!Eo(e.currentRange,a),isPrevEnabled:l.isValid,isNextEnabled:c.isValid}}function mX(r){return r.map(e=>new e)}let xX=class extends rY{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;cx(()=>{bp(he(eY,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(a,s,i,l)=>(this.setClassNames(a),this.setHeight(s),he(sA.Provider,{value:this.customContentRenderId},he(pX,Object.assign({isHeightAuto:i,forPrint:l},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,bp(null,this.el),this.setClassNames([]),this.setHeight(""))},F$(e),this.el=e,this.renderRunner=new M4(this.handleRenderRequest),new tX({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){cx(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!$l(e,this.currentClassNames)){let{classList:t}=this.el;for(let n of this.currentClassNames)t.remove(n);for(let n of e)t.add(n);this.currentClassNames=e}}setHeight(e){GE(this.el,"height",e)}};const vX=parseInt(String(ft.version).split(".")[0]),bX=vX<18;class sP extends w.Component{constructor(){super(...arguments),this.elRef=w.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(ft.createElement(yX,{key:t.id,customRendering:t}));return ft.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new nG;this.handleCustomRendering=e.handle.bind(e),this.calendar=new xX(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{xi.flushSync(()=>{})});let t;e.subscribe(n=>{const a=Date.now(),s=!t;(bX||s||this.isUpdating||this.isUnmounting||a-t<100?iP:xi.flushSync)(()=>{this.setState({customRenderingMap:n},()=>{t=a,s?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}sP.act=iP;class yX extends w.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,n=typeof t=="function"?t(e.renderProps):t;return xi.createPortal(n,e.containerEl)}}function iP(r){r()}class wX extends ro{constructor(){super(...arguments),this.headerElRef=Ra()}renderSimpleLayout(e,t){let{props:n,context:a}=this,s=[],i=gx(a.options);return e&&s.push({type:"header",key:"header",isSticky:i,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),he(dx,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},he(s3,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,t,n,a){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:i,context:l}=this,c=!i.forPrint&&gx(l.options),d=!i.forPrint&&VA(l.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),d&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:i5}]}),he(dx,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},he(s,{liquid:!i.isHeightAuto&&!i.forPrint,forPrint:i.forPrint,collapsibleWidth:i.forPrint,colGroups:[{cols:[{span:n,minWidth:a}]}],sections:u}))}}function xm(r,e){let t=[];for(let n=0;n<e;n+=1)t[n]=[];for(let n of r)t[n.row].push(n);return t}function vm(r,e){let t=[];for(let n=0;n<e;n+=1)t[n]=[];for(let n of r)t[n.firstCol].push(n);return t}function CS(r,e){let t=[];if(r){for(let n=0;n<e;n+=1)t[n]={affectedInstances:r.affectedInstances,isEvent:r.isEvent,segs:[]};for(let n of r.segs)t[n.row].segs.push(n)}else for(let n=0;n<e;n+=1)t[n]=null;return t}const oP=nn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function lP(r){let{display:e}=r.eventRange.ui;return e==="list-item"||e==="auto"&&!r.eventRange.def.allDay&&r.firstCol===r.lastCol&&r.isStart&&r.isEnd}class cP extends Cr{render(){let{props:e}=this;return he($A,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:oP,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class dP extends Cr{render(){let{props:e,context:t}=this,{options:n}=t,{seg:a}=e,s=n.eventTimeFormat||oP,i=kA(a,s,t,!0,e.defaultDisplayEventEnd);return he(i3,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:SA(e.seg,t),defaultGenerator:kX,timeText:i,isResizing:!1,isDateSelecting:!1}))}}function kX(r){return he(qr,null,he("div",{className:"fc-daygrid-event-dot",style:{borderColor:r.borderColor||r.backgroundColor}}),r.timeText&&he("div",{className:"fc-event-time"},r.timeText),he("div",{className:"fc-event-title"},r.event.title||he(qr,null,"")))}class CX extends Cr{constructor(){super(...arguments),this.compileSegs=Bt(SX)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return he(GA,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let a=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return he(qr,null,t.map(s=>{let i=s.eventRange.instance.instanceId;return he("div",{className:"fc-daygrid-event-harness",key:i,style:{visibility:a[i]?"hidden":""}},lP(s)?he(dP,Object.assign({seg:s,isDragging:!1,isSelected:i===e.eventSelection,defaultDisplayEventEnd:!1},Ol(s,e.todayRange))):he(cP,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:i===e.eventSelection,defaultDisplayEventEnd:!1},Ol(s,e.todayRange))))}))}})}}function SX(r){let e=[],t=[];for(let n of r)e.push(n.seg),n.isVisible||t.push(n.seg);return{allSegs:e,invisibleSegs:t}}const jX=nn({week:"narrow"});let _X=class extends ro{constructor(){super(...arguments),this.rootElRef=Ra(),this.state={dayNumberId:d1()},this.handleRootEl=e=>{Oo(this.rootElRef,e),Oo(this.props.elRef,e)}}render(){let{context:e,props:t,state:n,rootElRef:a}=this,{options:s,dateEnv:i}=e,{date:l,dateProfile:c}=t;const d=t.showDayNumber&&EX(l,c.currentRange,i);return he(l3,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:NX,date:l,dateProfile:c,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:d,extraRenderProps:t.extraRenderProps},(u,h)=>he("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&he(YA,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:px(e,l,"week"),date:l,defaultFormat:jX}),!h.isDisabled&&(t.showDayNumber||c3(s)||t.forceDayTop)?he("div",{className:"fc-daygrid-day-top"},he(u,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},px(e,l)),{id:n.dayNumberId})})):t.showDayNumber?he("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},he("a",{className:"fc-daygrid-day-number"},"")):void 0,he("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,he("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},he(CX,{allDayDate:l,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:a,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),he("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}};function NX(r){return r.dayNumberText||he(qr,null,"")}function EX(r,e,t){const{start:n,end:a}=e,s=Wl(a,-1),i=t.getYear(n),l=t.getMonth(n),c=t.getYear(s),d=t.getMonth(s);return!(i===c&&l===d)&&(r.valueOf()===n.valueOf()||t.getDay(r)===1&&r.valueOf()<a.valueOf())}function uP(r){return r.eventRange.instance.instanceId+":"+r.firstCol}function hP(r){return uP(r)+":"+r.lastCol}function AX(r,e,t,n,a,s,i){let l=new DX(x=>{let b=r[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return a[b]||1});l.allowReslicing=!0,l.strictOrder=n,e===!0||t===!0?(l.maxCoord=s,l.hiddenConsumes=!0):typeof e=="number"?l.maxStackCnt=e:typeof t=="number"&&(l.maxStackCnt=t,l.hiddenConsumes=!0);let c=[],d=[];for(let x=0;x<r.length;x+=1){let b=r[x],y=hP(b);a[y]!=null?c.push({index:x,span:{start:b.firstCol,end:b.lastCol+1}}):d.push(b)}let u=l.addSegs(c),h=l.toRects(),{singleColPlacements:f,multiColPlacements:p,leftoverMargins:m}=PX(h,r,i),g=[],v=[];for(let x of d){p[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let b=x.firstCol;b<=x.lastCol;b+=1)f[b].push({seg:Pu(x,b,b+1,i),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<i.length;x+=1)g.push(0);for(let x of u){let b=r[x.index],y=x.span;p[y.start].push({seg:Pu(b,y.start,y.end,i),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let C=y.start;C<y.end;C+=1)g[C]+=1,f[C].push({seg:Pu(b,C,C+1,i),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<i.length;x+=1)v.push(m[x]);return{singleColPlacements:f,multiColPlacements:p,moreCnts:g,moreMarginTops:v}}function PX(r,e,t){let n=LX(r,t.length),a=[],s=[],i=[];for(let l=0;l<t.length;l+=1){let c=n[l],d=[],u=0,h=0;for(let p of c){let m=e[p.index];d.push({seg:Pu(m,l,l+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:p.levelCoord-u}),u=p.levelCoord+p.thickness}let f=[];u=0,h=0;for(let p of c){let m=e[p.index],g=p.span.end-p.span.start>1,v=p.span.start===l;h+=p.levelCoord-u,u=p.levelCoord+p.thickness,g?(h+=p.thickness,v&&f.push({seg:Pu(m,p.span.start,p.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:p.levelCoord,marginTop:0})):v&&(f.push({seg:Pu(m,p.span.start,p.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:h}),h=0)}a.push(d),s.push(f),i.push(h)}return{singleColPlacements:a,multiColPlacements:s,leftoverMargins:i}}function LX(r,e){let t=[];for(let n=0;n<e;n+=1)t.push([]);for(let n of r)for(let a=n.span.start;a<n.span.end;a+=1)t[a].push(n);return t}function Pu(r,e,t,n){if(r.firstCol===e&&r.lastCol===t-1)return r;let a=r.eventRange,s=a.range,i=rd(s,{start:n[e].date,end:ka(n[t-1].date,1)});return Object.assign(Object.assign({},r),{firstCol:e,lastCol:t-1,eventRange:{def:a.def,ui:Object.assign(Object.assign({},a.ui),{durationEditable:!1}),instance:a.instance,range:i},isStart:r.isStart&&i.start.valueOf()===s.start.valueOf(),isEnd:r.isEnd&&i.end.valueOf()===s.end.valueOf()})}class DX extends DA{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:n}=this,a=s=>!this.forceHidden[Vc(s)];for(let s=0;s<n.length;s+=1)n[s]=n[s].filter(a);return t}handleInvalidInsertion(e,t,n){const{entriesByLevel:a,forceHidden:s}=this,{touchingEntry:i,touchingLevel:l,touchingLateral:c}=e;if(this.hiddenConsumes&&i){const d=Vc(i);if(!s[d])if(this.allowReslicing){const u=Object.assign(Object.assign({},i),{span:n3(i.span,t.span)}),h=Vc(u);s[h]=!0,a[l][c]=u,n.push(u),this.splitEntry(i,t,n)}else s[d]=!0,n.push(i)}super.handleInvalidInsertion(e,t,n)}}let fP=class extends ro{constructor(){super(...arguments),this.cellElRefs=new jo,this.frameElRefs=new jo,this.fgElRefs=new jo,this.segHarnessRefs=new jo,this.rootElRef=Ra(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:n}=this,{options:a}=n,s=e.cells.length,i=vm(e.businessHourSegs,s),l=vm(e.bgEventSegs,s),c=vm(this.getHighlightSegs(),s),d=vm(this.getMirrorSegs(),s),{singleColPlacements:u,multiColPlacements:h,moreCnts:f,moreMarginTops:p}=AX(wA(e.fgEventSegs,a.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,a.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),m=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return he("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((g,v)=>{let x=this.renderFgSegs(v,e.forPrint?u[v]:h[v],e.todayRange,m),b=this.renderFgSegs(v,TX(d[v],h),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return he(_X,{key:g.key,elRef:this.cellElRefs.createRef(g.key),innerElRef:this.frameElRefs.createRef(g.key),dateProfile:e.dateProfile,date:g.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&v===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:g.extraRenderProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,moreCnt:f[v],moreMarginTop:p[v],singlePlacements:u[v],fgContentElRef:this.fgElRefs.createRef(g.key),fgContent:he(qr,null,he(qr,null,x),he(qr,null,b)),bgContent:he(qr,null,this.renderFillSegs(c[v],"highlight"),this.renderFillSegs(i[v],"non-business"),this.renderFillSegs(l[v],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let n=this.props;this.updateSizing(!eo(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,n,a,s,i,l){let{context:c}=this,{eventSelection:d}=this.props,{framePositions:u}=this.state,h=this.props.cells.length===1,f=s||i||l,p=[];if(u)for(let m of t){let{seg:g}=m,{instanceId:v}=g.eventRange.instance,x=m.isVisible&&!a[v],b=m.isAbsolute,y="",C="";b&&(c.isRtl?(C=0,y=u.lefts[g.lastCol]-u.lefts[g.firstCol]):(y=0,C=u.rights[g.firstCol]-u.rights[g.lastCol])),p.push(he("div",{className:"fc-daygrid-event-harness"+(b?" fc-daygrid-event-harness-abs":""),key:uP(g),ref:f?null:this.segHarnessRefs.createRef(hP(g)),style:{visibility:x?"":"hidden",marginTop:b?"":m.marginTop,top:b?m.absoluteTop:"",left:y,right:C}},lP(g)?he(dP,Object.assign({seg:g,isDragging:s,isSelected:v===d,defaultDisplayEventEnd:h},Ol(g,n))):he(cP,Object.assign({seg:g,isDragging:s,isResizing:i,isDateSelecting:l,isSelected:v===d,defaultDisplayEventEnd:h},Ol(g,n)))))}return p}renderFillSegs(e,t){let{isRtl:n}=this.context,{todayRange:a}=this.props,{framePositions:s}=this.state,i=[];if(s)for(let l of e){let c=n?{right:0,left:s.lefts[l.lastCol]-s.lefts[l.firstCol]}:{left:0,right:s.rights[l.firstCol]-s.rights[l.lastCol]};i.push(he("div",{key:CA(l.eventRange),className:"fc-daygrid-bg-harness",style:c},t==="bg-event"?he(WA,Object.assign({seg:l},Ol(l,a))):qA(t)))}return he(qr,{},...i)}updateSizing(e){let{props:t,state:n,frameElRefs:a}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let c=t.cells.map(d=>a.currentMap[d.key]);if(c.length){let d=this.rootElRef.current,u=new Qu(d,c,!0,!1);(!n.framePositions||!n.framePositions.similarTo(u))&&this.setState({framePositions:new Qu(d,c,!0,!1)})}}const s=this.state.segHeights,i=this.querySegHeights(),l=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),i),maxContentHeight:l?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let n in e){let a=Math.round(e[n].getBoundingClientRect().height);t[n]=Math.max(t[n]||0,a)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}};fP.addStateEquality({segHeights:eo});function TX(r,e){if(!r.length)return[];let t=RX(e);return r.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:t[n.eventRange.instance.instanceId],marginTop:0}))}function RX(r){let e={};for(let t of r)for(let n of t)e[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return e}class MX extends ro{constructor(){super(...arguments),this.splitBusinessHourSegs=Bt(xm),this.splitBgEventSegs=Bt(xm),this.splitFgEventSegs=Bt(xm),this.splitDateSelectionSegs=Bt(xm),this.splitEventDrag=Bt(CS),this.splitEventResize=Bt(CS),this.rowRefs=new jo}render(){let{props:e,context:t}=this,n=e.cells.length,a=this.splitBusinessHourSegs(e.businessHourSegs,n),s=this.splitBgEventSegs(e.bgEventSegs,n),i=this.splitFgEventSegs(e.fgEventSegs,n),l=this.splitDateSelectionSegs(e.dateSelectionSegs,n),c=this.splitEventDrag(e.eventDrag,n),d=this.splitEventResize(e.eventResize,n),u=n>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return he(Yp,{unit:"day"},(h,f)=>he(qr,null,e.cells.map((p,m)=>he(fP,{ref:this.rowRefs.createRef(m),key:p.length?p[0].date.toISOString():m,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:f,dateProfile:e.dateProfile,cells:p,renderIntro:e.renderRowIntro,businessHourSegs:a[m],eventSelection:e.eventSelection,bgEventSegs:s[m].filter(IX),fgEventSegs:i[m],dateSelectionSegs:l[m],eventDrag:c[m],eventResize:d[m],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Qu(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Qu(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:n,rowPositions:a}=this,s=n.leftToIndex(e),i=a.topToIndex(t);if(i!=null&&s!=null){let l=this.props.cells[i][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(i,s),allDay:!0},l.extraDateSpan),dayEl:this.getCellEl(i,s),rect:{left:n.lefts[s],right:n.rights[s],top:a.tops[i],bottom:a.bottoms[i]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let n=this.props.cells[e][t].date,a=ka(n,1);return{start:n,end:a}}}function IX(r){return r.eventRange.def.allDay}let OX=class extends ro{constructor(){super(...arguments),this.elRef=Ra(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:n,expandRows:a}=e,s=n===!0||t===!0;s&&!a&&(s=!1,t=null,n=null);let i=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",a?"":"fc-daygrid-body-natural"];return he("div",{ref:this.elRef,className:i.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},he("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:a?e.clientHeight:""}},e.colGroupNode,he("tbody",{role:"presentation"},he(MX,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=FX(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),n=t.closest(".fc-scroller"),a=e.getBoundingClientRect().top-t.getBoundingClientRect().top;n.scrollTop=a?a+1:0}this.needsScrollReset=!1}}};function FX(r,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=r.querySelector(`[data-date="${SW(e.currentDate)}-01"]`)),t||(t=r.querySelector(`[data-date="${z4(e.currentDate)}"]`)),t}class BX extends FA{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class pP extends ro{constructor(){super(...arguments),this.slicer=new BX,this.tableRef=Ra()}render(){let{props:e,context:t}=this;return he(OX,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class zX extends wX{constructor(){super(...arguments),this.buildDayTableModel=Bt(HX),this.headerRef=Ra(),this.tableRef=Ra()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:n}=this,a=this.buildDayTableModel(n.dateProfile,t),s=e.dayHeaders&&he(MA,{ref:this.headerRef,dateProfile:n.dateProfile,dates:a.headerDates,datesRepDistinctDays:a.rowCnt===1}),i=l=>he(pP,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:a,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:l.tableColGroupNode,tableMinWidth:l.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:l.clientWidth,clientHeight:l.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,i,a.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,i)}}function HX(r,e){let t=new IA(r.renderRange,e);return new OA(t,/year|month|week/.test(r.currentRangeUnit))}class UX extends cA{buildRenderRange(e,t,n){let a=super.buildRenderRange(e,t,n),{props:s}=this;return VX({currentRange:a,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function VX(r){let{dateEnv:e,currentRange:t}=r,{start:n,end:a}=t,s;if(r.snapToWeek&&(n=e.startOfWeek(n),s=e.startOfWeek(a),s.valueOf()!==a.valueOf()&&(a=J6(s,1))),r.fixedWeekCount){let i=e.startOfWeek(e.startOfMonth(ka(t.end,-1))),l=Math.ceil(fW(i,a));a=J6(a,6-l)}return{start:n,end:a}}var $X=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';R4($X);var WX=Vo({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:zX,dateProfileGeneratorClass:UX},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class qX extends oY{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?Fq(e)?["timed","allDay"]:["allDay"]:["timed"]}}const YX=nn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function gP(r){let e=["fc-timegrid-slot","fc-timegrid-slot-label",r.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return he(Uo.Consumer,null,t=>{if(!r.isLabeled)return he("td",{className:e.join(" "),"data-time":r.isoTimeStr});let{dateEnv:n,options:a,viewApi:s}=t,i=a.slotLabelFormat==null?YX:Array.isArray(a.slotLabelFormat)?nn(a.slotLabelFormat[0]):nn(a.slotLabelFormat),l={level:0,time:r.time,date:n.toDate(r.date),view:s,text:n.format(r.date,i)};return he(Ns,{elTag:"td",elClasses:e,elAttrs:{"data-time":r.isoTimeStr},renderProps:l,generatorName:"slotLabelContent",customGenerator:a.slotLabelContent,defaultGenerator:GX,classNameGenerator:a.slotLabelClassNames,didMount:a.slotLabelDidMount,willUnmount:a.slotLabelWillUnmount},c=>he("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},he(c,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function GX(r){return r.text}class XX extends Cr{render(){return this.props.slatMetas.map(e=>he("tr",{key:e.key},he(gP,Object.assign({},e))))}}const ZX=nn({week:"short"}),JX=5;class KX extends ro{constructor(){super(...arguments),this.allDaySplitter=new qX,this.headerElRef=Ra(),this.rootElRef=Ra(),this.scrollerElRef=Ra(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:n}=this.context,{dateProfile:a}=this.props,s=a.renderRange,l=dd(s.start,s.end)===1?px(this.context,s.start,"week"):{};return n.weekNumbers&&e==="day"?he(YA,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:ZX},c=>he("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},he(c,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:l}))):he("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},he("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:n}=this.context,a={text:t.allDayText,view:n};return he(Ns,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:a,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:QX,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},s=>he("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},he(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,n){let{context:a,props:s}=this,i=[],l=gx(a.options);return e&&i.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(i.push({type:"body",key:"all-day",chunk:{content:t}}),i.push({type:"body",key:"all-day-divider",outerContent:he("tr",{role:"presentation",className:"fc-scrollgrid-section"},he("td",{className:"fc-timegrid-divider "+a.theme.getClass("tableCellShaded")}))})),i.push({type:"body",key:"body",liquid:!0,expandRows:!!a.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),he(dx,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:a.viewSpec},he(s3,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:i}))}renderHScrollLayout(e,t,n,a,s,i,l){let c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");let{context:d,props:u}=this,h=!u.forPrint&&gx(d.options),f=!u.forPrint&&VA(d.options),p=[];e&&p.push({type:"header",key:"header",isSticky:h,syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>he("tr",{role:"presentation"},this.renderHeadAxis("day",g.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(p.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>he("tr",{role:"presentation"},this.renderTableRowAxis(g.rowSyncHeights[0]))},{key:"cols",content:t}]}),p.push({key:"all-day-divider",type:"body",outerContent:he("tr",{role:"presentation",className:"fc-scrollgrid-section"},he("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));let m=d.options.nowIndicator;return p.push({type:"body",key:"body",liquid:!0,expandRows:!!d.options.expandRows,chunks:[{key:"axis",content:g=>he("div",{className:"fc-timegrid-axis-chunk"},he("table",{"aria-hidden":!0,style:{height:g.expandRows?g.clientHeight:""}},g.tableColGroupNode,he("tbody",null,he(XX,{slatMetas:i}))),he("div",{className:"fc-timegrid-now-indicator-container"},he(Yp,{unit:m?"minute":"day"},v=>{let x=m&&l&&l.safeComputeTop(v);return typeof x=="number"?he(o3,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:x},isAxis:!0,date:v}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),f&&p.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:i5},{key:"cols",content:i5}]}),he(dx,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:d.viewSpec},he(c,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:a,minWidth:s}]}],sections:p}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(e===!0||t===!0)&&(e=void 0,t=JX),{dayMaxEvents:e,dayMaxEventRows:t}}}function QX(r){return r.text}class eZ{constructor(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}safeComputeTop(e){let{dateProfile:t}=this;if(Eo(t.currentRange,e)){let n=Vr(e),a=e.valueOf()-n.valueOf();if(a>=wi(t.slotMinTime)&&a<wi(t.slotMaxTime))return this.computeTimeTop(or(a))}return null}computeDateTop(e,t){return t||(t=Vr(e)),this.computeTimeTop(or(e.valueOf()-t.valueOf()))}computeTimeTop(e){let{positions:t,dateProfile:n}=this,a=t.els.length,s=(e.milliseconds-wi(n.slotMinTime))/wi(this.slotDuration),i,l;return s=Math.max(0,s),s=Math.min(a,s),i=Math.floor(s),i=Math.min(i,a-1),l=s-i,t.tops[i]+t.getHeight(i)*l}}class tZ extends Cr{render(){let{props:e,context:t}=this,{options:n}=t,{slatElRefs:a}=e;return he("tbody",null,e.slatMetas.map((s,i)=>{let l={time:s.time,date:t.dateEnv.toDate(s.date),view:t.viewApi};return he("tr",{key:s.key,ref:a.createRef(s.key)},e.axis&&he(gP,Object.assign({},s)),he(Ns,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:l,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}}class rZ extends Cr{constructor(){super(...arguments),this.rootElRef=Ra(),this.slatElRefs=new jo}render(){let{props:e,context:t}=this;return he("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},he("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,he(tZ,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;t.onCoords&&t.clientWidth!==null&&this.rootElRef.current.offsetHeight&&t.onCoords(new eZ(new Qu(this.rootElRef.current,nZ(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function nZ(r,e){return e.map(t=>r[t.key])}function pf(r,e){let t=[],n;for(n=0;n<e;n+=1)t.push([]);if(r)for(n=0;n<r.length;n+=1)t[r[n].col].push(r[n]);return t}function SS(r,e){let t=[];if(r){for(let n=0;n<e;n+=1)t[n]={affectedInstances:r.affectedInstances,isEvent:r.isEvent,segs:[]};for(let n of r.segs)t[n.col].segs.push(n)}else for(let n=0;n<e;n+=1)t[n]=null;return t}class aZ extends Cr{render(){let{props:e}=this;return he(GA,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>xP(e.hiddenSegs,e),defaultGenerator:sZ,forceTimed:!0},t=>he(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function sZ(r){return r.shortText}function iZ(r,e,t){let n=new DA;e!=null&&(n.strictOrder=e),t!=null&&(n.maxStackCnt=t);let a=n.addSegs(r),s=yY(a),i=oZ(n);return i=uZ(i,1),{segRects:hZ(i),hiddenGroups:s}}function oZ(r){const{entriesByLevel:e}=r,t=u3((n,a)=>n+":"+a,(n,a)=>{let s=dZ(r,n,a),i=jS(s,t),l=e[n][a];return[Object.assign(Object.assign({},l),{nextLevelNodes:i[0]}),l.thickness+i[1]]});return jS(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t)[0]}function jS(r,e){if(!r)return[[],0];let{level:t,lateralStart:n,lateralEnd:a}=r,s=n,i=[];for(;s<a;)i.push(e(t,s)),s+=1;return i.sort(lZ),[i.map(cZ),i[0][1]]}function lZ(r,e){return e[1]-r[1]}function cZ(r){return r[0]}function dZ(r,e,t){let{levelCoords:n,entriesByLevel:a}=r,s=a[e][t],i=n[e]+s.thickness,l=n.length,c=e;for(;c<l&&n[c]<i;c+=1);for(;c<l;c+=1){let d=a[c],u,h=s5(d,s.span.start,a5),f=h[0]+h[1],p=f;for(;(u=d[p])&&u.span.start<s.span.end;)p+=1;if(f<p)return{level:c,lateralStart:f,lateralEnd:p}}return null}function uZ(r,e){const t=u3((n,a,s)=>Vc(n),(n,a,s)=>{let{nextLevelNodes:i,thickness:l}=n,c=l+s,d=l/c,u,h=[];if(!i.length)u=e;else for(let p of i)if(u===void 0){let m=t(p,a,c);u=m[0],h.push(m[1])}else{let m=t(p,u,0);h.push(m[1])}let f=(u-a)*d;return[u-f,Object.assign(Object.assign({},n),{thickness:f,nextLevelNodes:h})]});return r.map(n=>t(n,0,0)[1])}function hZ(r){let e=[];const t=u3((a,s,i)=>Vc(a),(a,s,i)=>{let l=Object.assign(Object.assign({},a),{levelCoord:s,stackDepth:i,stackForward:0});return e.push(l),l.stackForward=n(a.nextLevelNodes,s+a.thickness,i+1)+1});function n(a,s,i){let l=0;for(let c of a)l=Math.max(t(c,s,i),l);return l}return n(r,0,0),e}function u3(r,e){const t={};return(...n)=>{let a=r(...n);return a in t?t[a]:t[a]=e(...n)}}function _S(r,e,t=null,n=0){let a=[];if(t)for(let s=0;s<r.length;s+=1){let i=r[s],l=t.computeDateTop(i.start,e),c=Math.max(l+(n||0),t.computeDateTop(i.end,e));a.push({start:Math.round(l),end:Math.round(c)})}return a}function fZ(r,e,t,n){let a=[],s=[];for(let d=0;d<r.length;d+=1){let u=e[d];u?a.push({index:d,thickness:1,span:u}):s.push(r[d])}let{segRects:i,hiddenGroups:l}=iZ(a,t,n),c=[];for(let d of i)c.push({seg:r[d.index],rect:d});for(let d of s)c.push({seg:d,rect:null});return{segPlacements:c,hiddenGroups:l}}const pZ=nn({hour:"numeric",minute:"2-digit",meridiem:!1});class mP extends Cr{render(){return he($A,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:pZ}))}}class gZ extends Cr{constructor(){super(...arguments),this.sortEventSegs=Bt(wA)}render(){let{props:e,context:t}=this,{options:n}=t,a=n.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||a&&e.dateSelectionSegs||[],i=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},l=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return he(l3,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},c=>he("div",{className:"fc-timegrid-col-frame"},he("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),he("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,i,!1,!1,!1)),he("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!a,"mirror")),he("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),c3(n)&&he(c,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,n,a,s,i){let{props:l}=this;return l.forPrint?xP(e,l):this.renderPositionedFgSegs(e,t,n,a,s,i)}renderPositionedFgSegs(e,t,n,a,s,i){let{eventMaxStack:l,eventShortHeight:c,eventOrderStrict:d,eventMinHeight:u}=this.context.options,{date:h,slatCoords:f,eventSelection:p,todayRange:m,nowDate:g}=this.props,v=n||a||s,x=_S(e,h,f,u),{segPlacements:b,hiddenGroups:y}=fZ(e,x,d,l);return he(qr,null,this.renderHiddenGroups(y,e),b.map(C=>{let{seg:S,rect:_}=C,E=S.eventRange.instance.instanceId,A=v||!!(!t[E]&&_),T=Pb(_&&_.span),F=!v&&_?this.computeSegHStyle(_):{left:0,right:0},L=!!_&&_.stackForward>0,D=!!_&&_.span.end-_.span.start<c;return he("div",{className:"fc-timegrid-event-harness"+(L?" fc-timegrid-event-harness-inset":""),key:i||E,style:Object.assign(Object.assign({visibility:A?"":"hidden"},T),F)},he(mP,Object.assign({seg:S,isDragging:n,isResizing:a,isDateSelecting:s,isSelected:E===p,isShort:D},Ol(S,m,g))))}))}renderHiddenGroups(e,t){let{extraDateSpan:n,dateProfile:a,todayRange:s,nowDate:i,eventSelection:l,eventDrag:c,eventResize:d}=this.props;return he(qr,null,e.map(u=>{let h=Pb(u.span),f=mZ(u.entries,t);return he(aZ,{key:eA(XA(f)),hiddenSegs:f,top:h.top,bottom:h.bottom,extraDateSpan:n,dateProfile:a,todayRange:s,nowDate:i,eventSelection:l,eventDrag:c,eventResize:d})}))}renderFillSegs(e,t){let{props:n,context:a}=this,i=_S(e,n.date,n.slatCoords,a.options.eventMinHeight).map((l,c)=>{let d=e[c];return he("div",{key:CA(d.eventRange),className:"fc-timegrid-bg-harness",style:Pb(l)},t==="bg-event"?he(WA,Object.assign({seg:d},Ol(d,n.todayRange,n.nowDate))):qA(t))});return he(qr,null,i)}renderNowIndicator(e){let{slatCoords:t,date:n}=this.props;return t?e.map((a,s)=>he(o3,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(a.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let{isRtl:t,options:n}=this.context,a=n.slotEventOverlap,s=e.levelCoord,i=e.levelCoord+e.thickness,l,c;a&&(i=Math.min(1,s+(i-s)*2)),t?(l=1-i,c=s):(l=s,c=1-i);let d={zIndex:e.stackDepth+1,left:l*100+"%",right:c*100+"%"};return a&&!e.stackForward&&(d[t?"marginLeft":"marginRight"]=10*2),d}}function xP(r,{todayRange:e,nowDate:t,eventSelection:n,eventDrag:a,eventResize:s}){let i=(a?a.affectedInstances:null)||(s?s.affectedInstances:null)||{};return he(qr,null,r.map(l=>{let c=l.eventRange.instance.instanceId;return he("div",{key:c,style:{visibility:i[c]?"hidden":""}},he(mP,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===n,isShort:!1},Ol(l,e,t))))}))}function Pb(r){return r?{top:r.start,bottom:-r.end}:{top:"",bottom:""}}function mZ(r,e){return r.map(t=>e[t.index])}class xZ extends Cr{constructor(){super(...arguments),this.splitFgEventSegs=Bt(pf),this.splitBgEventSegs=Bt(pf),this.splitBusinessHourSegs=Bt(pf),this.splitNowIndicatorSegs=Bt(pf),this.splitDateSelectionSegs=Bt(pf),this.splitEventDrag=Bt(SS),this.splitEventResize=Bt(SS),this.rootElRef=Ra(),this.cellElRefs=new jo}render(){let{props:e,context:t}=this,n=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),a=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,a),i=this.splitBgEventSegs(e.bgEventSegs,a),l=this.splitBusinessHourSegs(e.businessHourSegs,a),c=this.splitNowIndicatorSegs(e.nowIndicatorSegs,a),d=this.splitDateSelectionSegs(e.dateSelectionSegs,a),u=this.splitEventDrag(e.eventDrag,a),h=this.splitEventResize(e.eventResize,a);return he("div",{className:"fc-timegrid-cols",ref:this.rootElRef},he("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,he("tbody",{role:"presentation"},he("tr",{role:"row"},e.axis&&he("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},he("div",{className:"fc-timegrid-col-frame"},he("div",{className:"fc-timegrid-now-indicator-container"},typeof n=="number"&&he(o3,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((f,p)=>he(gZ,{key:f.key,elRef:this.cellElRefs.createRef(f.key),dateProfile:e.dateProfile,date:f.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:f.extraRenderProps,extraDataAttrs:f.extraDataAttrs,extraClassNames:f.extraClassNames,extraDateSpan:f.extraDateSpan,fgEventSegs:s[p],bgEventSegs:i[p],businessHourSegs:l[p],nowIndicatorSegs:c[p],dateSelectionSegs:d[p],eventDrag:u[p],eventResize:h[p],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new Qu(this.rootElRef.current,vZ(this.cellElRefs.currentMap,e.cells),!0,!1))}}function vZ(r,e){return e.map(t=>r[t.key])}class bZ extends ro{constructor(){super(...arguments),this.processSlotOptions=Bt(yZ),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:n}=this.state;if(t&&n){if(e.time){let a=n.computeTimeTop(e.time);a=Math.ceil(a),a&&(a+=1),t(a)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return he("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},he(rZ,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),he(xZ,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:n,options:a}=this.context,{colCoords:s}=this,{dateProfile:i}=this.props,{slatCoords:l}=this.state,{snapDuration:c,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,a.snapDuration),u=s.leftToIndex(e),h=l.positions.topToIndex(t);if(u!=null&&h!=null){let f=this.props.cells[u],p=l.positions.tops[h],m=l.positions.getHeight(h),g=(t-p)/m,v=Math.floor(g*d),x=h*d+v,b=this.props.cells[u].date,y=J2(i.slotMinTime,cW(c,x)),C=n.add(b,y),S=n.add(C,c);return{dateProfile:i,dateSpan:Object.assign({range:{start:C,end:S},allDay:!1},f.extraDateSpan),dayEl:s.els[u],rect:{left:s.lefts[u],right:s.rights[u],top:p,bottom:p+m},layer:0}}return null}}function yZ(r,e){let t=e||r,n=B4(r,t);return n===null&&(t=r,n=1),{snapDuration:t,snapsPerSlot:n}}class wZ extends FA{sliceRange(e,t){let n=[];for(let a=0;a<t.length;a+=1){let s=rd(e,t[a]);s&&n.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:a})}return n}}class kZ extends ro{constructor(){super(...arguments),this.buildDayRanges=Bt(CZ),this.slicer=new wZ,this.timeColsRef=Ra()}render(){let{props:e,context:t}=this,{dateProfile:n,dayTableModel:a}=e,{nowIndicator:s,nextDayThreshold:i}=t.options,l=this.buildDayRanges(a,n,t.dateEnv);return he(Yp,{unit:s?"minute":"day"},(c,d)=>he(bZ,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,t,l),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:a.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:c,nowIndicatorSegs:s&&this.slicer.sliceNowDate(c,n,i,t,l),todayRange:d,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function CZ(r,e,t){let n=[];for(let a of r.headerDates)n.push({start:t.add(a,e.slotMinTime),end:t.add(a,e.slotMaxTime)});return n}const NS=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function SZ(r,e,t,n,a){let s=new Date(0),i=r,l=or(0),c=t||jZ(n),d=[];for(;wi(i)<wi(e);){let u=a.add(s,i),h=B4(l,c)!==null;d.push({date:u,time:i,key:u.toISOString(),isoTimeStr:jW(u),isLabeled:h}),i=J2(i,n),l=J2(l,n)}return d}function jZ(r){let e,t,n;for(e=NS.length-1;e>=0;e-=1)if(t=or(NS[e]),n=B4(t,r),n!==null&&n>1)return t;return r}class _Z extends KX{constructor(){super(...arguments),this.buildTimeColsModel=Bt(NZ),this.buildSlatMetas=Bt(SZ)}render(){let{options:e,dateEnv:t,dateProfileGenerator:n}=this.context,{props:a}=this,{dateProfile:s}=a,i=this.buildTimeColsModel(s,n),l=this.allDaySplitter.splitProps(a),c=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:d}=e,u=!d,h=d,f=e.dayHeaders&&he(MA,{dates:i.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:u?this.renderHeadAxis:null}),p=e.allDaySlot!==!1&&(g=>he(pP,Object.assign({},l.allDay,{dateProfile:s,dayTableModel:i,nextDayThreshold:e.nextDayThreshold,tableMinWidth:g.tableMinWidth,colGroupNode:g.tableColGroupNode,renderRowIntro:u?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:g.clientWidth,clientHeight:g.clientHeight,forPrint:a.forPrint},this.getAllDayMaxEventProps()))),m=g=>he(kZ,Object.assign({},l.timed,{dayTableModel:i,dateProfile:s,axis:u,slotDuration:e.slotDuration,slatMetas:c,forPrint:a.forPrint,tableColGroupNode:g.tableColGroupNode,tableMinWidth:g.tableMinWidth,clientWidth:g.clientWidth,clientHeight:g.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:g.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return h?this.renderHScrollLayout(f,p,m,i.colCnt,d,c,this.state.slatCoords):this.renderSimpleLayout(f,p,m)}}function NZ(r,e){let t=new IA(r.renderRange,e);return new OA(t,!1)}var EZ='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';R4(EZ);const AZ={allDaySlot:Boolean};var PZ=Vo({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:AZ,views:{timeGrid:{component:_Z,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});a3.touchMouseIgnoreWait=500;let l5=0,mx=0,c5=!1;class vP{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&LZ(t)&&this.tryStart(t)){let n=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let n=this.createEventFromMouse(t);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let n=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let a=t.target;this.shouldIgnoreMove||a.addEventListener("touchmove",this.handleTouchMove),a.addEventListener("touchend",this.handleTouchEnd),a.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let n=this.createEventFromTouch(t);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=t=>{if(this.isDragging){let n=t.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,DZ()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let n=window.scrollX-this.prevScrollX+this.prevPageX,a=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:a,deltaX:n-this.origPageX,deltaY:a-this.origPageY})}},this.containerEl=e,this.emitter=new p1,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),TZ()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),RZ()}tryStart(e){let t=this.querySubjectEl(e),n=e.target;return t&&(!this.handleSelector||ya(n,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){c5=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?ya(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return l5||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(c5=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let n=0,a=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,a=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:a}}createEventFromTouch(e,t){let n=e.touches,a,s,i=0,l=0;return n&&n.length?(a=n[0].pageX,s=n[0].pageY):(a=e.pageX,s=e.pageY),t?(this.origPageX=a,this.origPageY=s):(i=a-this.origPageX,l=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:a,pageY:s,deltaX:i,deltaY:l}}}function LZ(r){return r.button===0&&!r.ctrlKey}function DZ(){l5+=1,setTimeout(()=>{l5-=1},a3.touchMouseIgnoreWait)}function TZ(){mx+=1,mx===1&&window.addEventListener("touchmove",bP,{passive:!1})}function RZ(){mx-=1,mx||window.removeEventListener("touchmove",bP,{passive:!1})}function bP(r){c5&&r.preventDefault()}class MZ{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let n=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,t){let n=this.mirrorEl,a=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",Bf(n,{left:a.left,top:a.top}),G$(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&(I4(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Bf(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),Bf(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class yP extends r3{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class wP extends yP{constructor(e,t){super(new vY(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return mY(this.scrollController.el)}}class IZ extends yP{constructor(e){super(new bY,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const ES=typeof performance=="function"?performance.now:Date.now;class OZ{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=ES();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let n=e-window.scrollX,a=t-window.scrollY,s=this.pointerScreenY===null?0:a-this.pointerScreenY,i=this.pointerScreenX===null?0:n-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),i<0?this.everMovedLeft=!0:i>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=a,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(ES()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:n}=e,{edgeThreshold:a}=this,s=a-e.distance,i=s*s/(a*a)*this.maxVelocity*t,l=1;switch(e.name){case"left":l=-1;case"right":n.setScrollLeft(n.getScrollLeft()+i*l);break;case"top":l=-1;case"bottom":n.setScrollTop(n.getScrollTop()+i*l);break}}computeBestEdge(e,t){let{edgeThreshold:n}=this,a=null,s=this.scrollCaches||[];for(let i of s){let l=i.clientRect,c=e-l.left,d=l.right-e,u=t-l.top,h=l.bottom-t;c>=0&&d>=0&&u>=0&&h>=0&&(u<=n&&this.everMovedUp&&i.canScrollUp()&&(!a||a.distance>u)&&(a={scrollCache:i,name:"top",distance:u}),h<=n&&this.everMovedDown&&i.canScrollDown()&&(!a||a.distance>h)&&(a={scrollCache:i,name:"bottom",distance:h}),c<=n&&this.everMovedLeft&&i.canScrollLeft()&&(!a||a.distance>c)&&(a={scrollCache:i,name:"left",distance:c}),d<=n&&this.everMovedRight&&i.canScrollRight()&&(!a||a.distance>d)&&(a={scrollCache:i,name:"right",distance:d}))}return a}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new IZ(!1):new wP(t,!1))}queryScrollEls(e){let t=[];for(let n of this.scrollQuery)typeof n=="object"?t.push(n):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return t}}class Gp extends kY{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=a=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,X$(document.body),J$(document.body),a.isTouch||a.origEvent.preventDefault(),this.emitter.trigger("pointerdown",a),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(a.subjectEl,a.pageX,a.pageY),this.startDelay(a),this.minDistance||this.handleDistanceSurpassed(a)))},this.onPointerMove=a=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",a),!this.isDistanceSurpassed){let s=this.minDistance,i,{deltaX:l,deltaY:c}=a;i=l*l+c*c,i>=s*s&&this.handleDistanceSurpassed(a)}this.isDragging&&(a.origEvent.type!=="scroll"&&(this.mirror.handleMove(a.pageX,a.pageY),this.autoScroller.handleMove(a.pageX,a.pageY)),this.emitter.trigger("dragmove",a))}},this.onPointerUp=a=>{this.isInteracting&&(this.isInteracting=!1,Z$(document.body),K$(document.body),this.emitter.trigger("pointerup",a),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(a)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new vP(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),t&&(n.selector=t),this.mirror=new MZ,this.autoScroller=new OZ}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class FZ{constructor(e){this.el=e,this.origRect=t3(e),this.scrollCaches=LA(e).map(t=>new wP(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let n={left:e,top:t};for(let a of this.scrollCaches)if(!BZ(a.getEventTarget())&&!nY(n,a.clientRect))return!1;return!0}}function BZ(r){let e=r.tagName;return e==="HTML"||e==="BODY"}class g1{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:a}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(a.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):a.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new p1}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},n=t,a=e.subjectEl,s;a instanceof HTMLElement&&(s=t3(a),n=aY(n,s));let i=this.initialHit=this.queryHitForOffset(n.left,n.top);if(i){if(this.useSubjectCenter&&s){let l=EA(s,i.rect);l&&(n=sY(l))}this.coordAdjust=iY(n,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!m1(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=Io(this.droppableStore,e=>(e.component.prepareHits(),new FZ(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:n,offsetTrackers:a}=this,s=null;for(let i in n){let l=n[i].component,c=a[i];if(c&&c.isWithinClipping(e,t)){let d=c.computeLeft(),u=c.computeTop(),h=e-d,f=t-u,{origRect:p}=c,m=p.right-p.left,g=p.bottom-p.top;if(h>=0&&h<m&&f>=0&&f<g){let v=l.queryHit(h,f,m,g);v&&h1(v.dateProfile.activeRange,v.dateSpan.range)&&(this.disablePointCheck||c.el.contains(c.el.getRootNode().elementFromPoint(h+d-window.scrollX,f+u-window.scrollY)))&&(!s||v.layer>s.layer)&&(v.componentId=i,v.context=l.context,v.rect.left+=d,v.rect.right+=d,v.rect.top+=u,v.rect.bottom+=u,s=v)}}}return s}}function m1(r,e){return!r&&!e?!0:!!r!=!!e?!1:Yq(r.dateSpan,e.dateSpan)}function kP(r,e){let t={};for(let n of e.pluginHooks.datePointTransforms)Object.assign(t,n(r,e));return Object.assign(t,zZ(r,e.dateEnv)),t}function zZ(r,e){return{date:e.toDate(r.range.start),dateStr:e.formatIso(r.range.start,{omitTime:r.allDay}),allDay:r.allDay}}class HZ extends bh{constructor(e){super(e),this.handlePointerDown=n=>{let{dragging:a}=this,s=n.origEvent.target;a.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=n=>{let{component:a}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:i,finalHit:l}=this.hitDragging;if(i&&l&&m1(i,l)){let{context:c}=a,d=Object.assign(Object.assign({},kP(i.dateSpan,c)),{dayEl:i.dayEl,jsEvent:n.origEvent,view:c.viewApi||c.calendarApi.view});c.emitter.trigger("dateClick",d)}}},this.dragging=new Gp(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new g1(this.dragging,Q4(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class UZ extends bh{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=i=>{let{component:l,dragging:c}=this,{options:d}=l.context,u=d.selectable&&l.isValidDateDownEl(i.origEvent.target);c.setIgnoreMove(!u),c.delay=i.isTouch?VZ(l):null},this.handleDragStart=i=>{this.component.context.calendarApi.unselect(i)},this.handleHitUpdate=(i,l)=>{let{context:c}=this.component,d=null,u=!1;if(i){let h=this.hitDragging.initialHit;i.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,i)||(d=$Z(h,i,c.pluginHooks.dateSelectionTransformers)),(!d||!EY(d,i.dateProfile,c))&&(u=!0,d=null)}d?c.dispatch({type:"SELECT_DATES",selection:d}):l||c.dispatch({type:"UNSELECT_DATES"}),u?O4():F4(),l||(this.dragSelection=d)},this.handlePointerUp=i=>{this.dragSelection&&(vA(this.dragSelection,i,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:n}=t.context,a=this.dragging=new Gp(e.el);a.touchScrollAllowed=!1,a.minDistance=n.selectMinDistance||0,a.autoScroller.isEnabled=n.dragScroll;let s=this.hitDragging=new g1(this.dragging,Q4(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function VZ(r){let{options:e}=r.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function $Z(r,e,t){let n=r.dateSpan,a=e.dateSpan,s=[n.range.start,n.range.end,a.range.start,a.range.end];s.sort(nW);let i={};for(let l of t){let c=l(r,e);if(c===!1)return null;c&&Object.assign(i,c)}return i.range={start:s[0],end:s[3]},i.allDay=n.allDay,i}class Xp extends bh{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=i=>{let l=i.origEvent.target,{component:c,dragging:d}=this,{mirror:u}=d,{options:h}=c.context,f=c.context;this.subjectEl=i.subjectEl;let p=this.subjectSeg=Ku(i.subjectEl),g=(this.eventRange=p.eventRange).instance.instanceId;this.relevantEvents=X4(f.getCurrentData().eventStore,g),d.minDistance=i.isTouch?0:h.eventDragMinDistance,d.delay=i.isTouch&&g!==c.props.eventSelection?qZ(c):null,h.fixedMirrorParent?u.parentNode=h.fixedMirrorParent:u.parentNode=ya(l,".fc"),u.revertDuration=h.dragRevertDuration;let v=c.isValidSegDownEl(l)&&!ya(l,".fc-event-resizer");d.setIgnoreMove(!v),this.isDragging=v&&i.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=i=>{let l=this.component.context,c=this.eventRange,d=c.instance.instanceId;i.isTouch?d!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(i),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Jr(l,c.def,c.instance),jsEvent:i.origEvent,view:l.viewApi}))},this.handleHitUpdate=(i,l)=>{if(!this.isDragging)return;let c=this.relevantEvents,d=this.hitDragging.initialHit,u=this.component.context,h=null,f=null,p=null,m=!1,g={affectedEvents:c,mutatedEvents:ws(),isEvent:!0};if(i){h=i.context;let v=h.options;u===h||v.editable&&v.droppable?(f=WZ(d,i,this.eventRange.instance.range.start,h.getCurrentData().pluginHooks.eventDragMutationMassagers),f&&(p=K4(c,h.getCurrentData().eventUiBases,f,h),g.mutatedEvents=p,BA(g,i.dateProfile,h)||(m=!0,f=null,p=null,g.mutatedEvents=ws()))):h=null}this.displayDrag(h,g),m?O4():F4(),l||(u===h&&m1(d,i)&&(f=null),this.dragging.setMirrorNeedsRevert(!f),this.dragging.setMirrorIsVisible(!i||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=h,this.validMutation=f,this.mutatedRelevantEvents=p)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=i=>{if(this.isDragging){let l=this.component.context,c=l.viewApi,{receivingContext:d,validMutation:u}=this,h=this.eventRange.def,f=this.eventRange.instance,p=new Jr(l,h,f),m=this.relevantEvents,g=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:p,jsEvent:i.origEvent,view:c}),u){if(d===l){let x=new Jr(l,g.defs[h.defId],f?g.instances[f.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:g});let b={oldEvent:p,event:x,relatedEvents:Uc(g,l,f),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:m})}},y={};for(let C of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(y,C(u,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},b),y),{el:i.subjectEl,delta:u.datesDelta,jsEvent:i.origEvent,view:c})),l.emitter.trigger("eventChange",b)}else if(d){let x={event:p,relatedEvents:Uc(m,l,f),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:m})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},x),{draggedEl:i.subjectEl,view:c})),l.dispatch({type:"REMOVE_EVENTS",eventStore:m}),l.emitter.trigger("eventRemove",x);let b=g.defs[h.defId],y=g.instances[f.instanceId],C=new Jr(d,b,y);d.dispatch({type:"MERGE_EVENTS",eventStore:g});let S={event:C,relatedEvents:Uc(g,d,y),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:g})}};d.emitter.trigger("eventAdd",S),i.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:f.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},kP(v.dateSpan,d)),{draggedEl:i.subjectEl,jsEvent:i.origEvent,view:v.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},S),{draggedEl:i.subjectEl,view:v.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:n}=t.context,a=this.dragging=new Gp(e.el);a.pointer.selector=Xp.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=n.dragScroll;let s=this.hitDragging=new g1(this.dragging,n5);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let n=this.component.context,a=this.receivingContext;a&&a!==e&&(a===n?a.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:ws(),isEvent:!0}}):a.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Xp.SELECTOR=".fc-event-draggable, .fc-event-resizable";function WZ(r,e,t,n){let a=r.dateSpan,s=e.dateSpan,i=a.range.start,l=s.range.start,c={};a.allDay!==s.allDay&&(c.allDay=s.allDay,c.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?i=Vr(t):i=t);let d=pu(i,l,r.context.dateEnv,r.componentId===e.componentId?r.largeUnit:null);d.milliseconds&&(c.allDay=!1);let u={datesDelta:d,standardProps:c};for(let h of n)h(u,r,e);return u}function qZ(r){let{options:e}=r.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class YZ extends bh{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:i}=this,l=this.querySegEl(s),c=Ku(l),d=this.eventRange=c.eventRange;this.dragging.minDistance=i.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=s=>{let{context:i}=this.component,l=this.eventRange;this.relevantEvents=X4(i.getCurrentData().eventStore,this.eventRange.instance.instanceId);let c=this.querySegEl(s);this.draggingSegEl=c,this.draggingSeg=Ku(c),i.calendarApi.unselect(),i.emitter.trigger("eventResizeStart",{el:c,event:new Jr(i,l.def,l.instance),jsEvent:s.origEvent,view:i.viewApi})},this.handleHitUpdate=(s,i,l)=>{let{context:c}=this.component,d=this.relevantEvents,u=this.hitDragging.initialHit,h=this.eventRange.instance,f=null,p=null,m=!1,g={affectedEvents:d,mutatedEvents:ws(),isEvent:!0};s&&(s.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,s)||(f=GZ(u,s,l.subjectEl.classList.contains("fc-event-resizer-start"),h.range))),f&&(p=K4(d,c.getCurrentData().eventUiBases,f,c),g.mutatedEvents=p,BA(g,s.dateProfile,c)||(m=!0,f=null,p=null,g.mutatedEvents=null)),p?c.dispatch({type:"SET_EVENT_RESIZE",state:g}):c.dispatch({type:"UNSET_EVENT_RESIZE"}),m?O4():F4(),i||(f&&m1(u,s)&&(f=null),this.validMutation=f,this.mutatedRelevantEvents=p)},this.handleDragEnd=s=>{let{context:i}=this.component,l=this.eventRange.def,c=this.eventRange.instance,d=new Jr(i,l,c),u=this.relevantEvents,h=this.mutatedRelevantEvents;if(i.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:s.origEvent,view:i.viewApi}),this.validMutation){let f=new Jr(i,h.defs[l.defId],c?h.instances[c.instanceId]:null);i.dispatch({type:"MERGE_EVENTS",eventStore:h});let p={oldEvent:d,event:f,relatedEvents:Uc(h,i,c),revert(){i.dispatch({type:"MERGE_EVENTS",eventStore:u})}};i.emitter.trigger("eventResize",Object.assign(Object.assign({},p),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||or(0),endDelta:this.validMutation.endDelta||or(0),jsEvent:s.origEvent,view:i.viewApi})),i.emitter.trigger("eventChange",p)}else i.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,n=this.dragging=new Gp(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=t.context.options.dragScroll;let a=this.hitDragging=new g1(this.dragging,Q4(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return ya(e.subjectEl,".fc-event")}}function GZ(r,e,t,n){let a=r.context.dateEnv,s=r.dateSpan.range.start,i=e.dateSpan.range.start,l=pu(s,i,a,r.largeUnit);if(t){if(a.add(n.start,l)<n.end)return{startDelta:l}}else if(a.add(n.end,l)>n.start)return{endDelta:l};return null}class XZ{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let a=this.context.options.unselectCancel,s=XE(n.origEvent);this.matchesCancel=!!ya(s,a),this.matchesEvent=!!ya(s,Xp.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:a}=this,{documentPointer:s}=this,i=a.getCurrentData();if(!s.wasTouchScroll){if(i.dateSelection&&!this.isRecentPointerDateSelect){let l=a.options.unselectAuto;l&&(!l||!this.matchesCancel)&&a.calendarApi.unselect(n)}i.eventSelection&&!this.matchesEvent&&a.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new vP(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const ZZ={fixedMirrorParent:Re},JZ={dateClick:Re,eventDragStart:Re,eventDragStop:Re,eventDrop:Re,eventResizeStart:Re,eventResizeStop:Re,eventResize:Re,drop:Re,eventReceive:Re,eventLeave:Re};a3.dataAttrPrefix="";var KZ=Vo({name:"@fullcalendar/interaction",componentInteractions:[HZ,UZ,Xp,YZ],calendarInteractions:[XZ],elementDraggingImpl:Gp,optionRefiners:ZZ,listenerRefiners:JZ});const QZ=()=>{const[r,e]=w.useState(null),[t,n]=w.useState(""),[a,s]=w.useState(""),[i,l]=w.useState(""),[c,d]=w.useState(""),[u,h]=w.useState([]),f=w.useRef(null),{isOpen:p,openModal:m,closeModal:g}=mN(),v={Danger:"danger",Success:"success",Primary:"primary",Warning:"warning"};w.useEffect(()=>{h([{id:"1",title:"Event Conf.",start:new Date().toISOString().split("T")[0],extendedProps:{calendar:"Danger"}},{id:"2",title:"Meeting",start:new Date(Date.now()+864e5).toISOString().split("T")[0],extendedProps:{calendar:"Success"}},{id:"3",title:"Workshop",start:new Date(Date.now()+1728e5).toISOString().split("T")[0],end:new Date(Date.now()+2592e5).toISOString().split("T")[0],extendedProps:{calendar:"Primary"}}])},[]);const x=S=>{C(),s(S.startStr),l(S.endStr||S.startStr),m()},b=S=>{var E,A;const _=S.event;e(_),n(_.title),s(((E=_.start)==null?void 0:E.toISOString().split("T")[0])||""),l(((A=_.end)==null?void 0:A.toISOString().split("T")[0])||""),d(_.extendedProps.calendar),m()},y=()=>{if(r)h(S=>S.map(_=>_.id===r.id?{..._,title:t,start:a,end:i,extendedProps:{calendar:c}}:_));else{const S={id:Date.now().toString(),title:t,start:a,end:i,allDay:!0,extendedProps:{calendar:c}};h(_=>[..._,S])}g(),C()},C=()=>{n(""),s(""),l(""),d(""),e(null)};return o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"React.js Calendar Dashboard | TailAdmin - Next.js Admin Dashboard Template",description:"This is React.js Calendar Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),o.jsxs("div",{className:"rounded-2xl border  border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]",children:[o.jsx("div",{className:"custom-calendar",children:o.jsx(sP,{ref:f,plugins:[WX,PZ,KZ],initialView:"dayGridMonth",headerToolbar:{left:"prev,next addEventButton",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},events:u,selectable:!0,select:x,eventClick:b,eventContent:eJ,customButtons:{addEventButton:{text:"Add Event +",click:m}}})}),o.jsx(vs,{isOpen:p,onClose:g,className:"max-w-[700px] p-6 lg:p-10",children:o.jsxs("div",{className:"flex flex-col px-2 overflow-y-auto custom-scrollbar",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"mb-2 font-semibold text-gray-800 modal-title text-theme-xl dark:text-white/90 lg:text-2xl",children:r?"Edit Event":"Add Event"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Plan your next big moment: schedule or edit an event to stay on track"})]}),o.jsxs("div",{className:"mt-8",children:[o.jsx("div",{children:o.jsxs("div",{children:[o.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Event Title"}),o.jsx("input",{id:"event-title",type:"text",value:t,onChange:S=>n(S.target.value),className:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"})]})}),o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:"block mb-4 text-sm font-medium text-gray-700 dark:text-gray-400",children:"Event Color"}),o.jsx("div",{className:"flex flex-wrap items-center gap-4 sm:gap-5",children:Object.entries(v).map(([S,_])=>o.jsx("div",{className:"n-chk",children:o.jsx("div",{className:`form-check form-check-${_} form-check-inline`,children:o.jsxs("label",{className:"flex items-center text-sm text-gray-700 form-check-label dark:text-gray-400",htmlFor:`modal${S}`,children:[o.jsxs("span",{className:"relative",children:[o.jsx("input",{className:"sr-only form-check-input",type:"radio",name:"event-level",value:S,id:`modal${S}`,checked:c===S,onChange:()=>d(S)}),o.jsx("span",{className:"flex items-center justify-center w-5 h-5 mr-2 border border-gray-300 rounded-full box dark:border-gray-700",children:o.jsx("span",{className:`h-2 w-2 rounded-full bg-white ${c===S?"block":"hidden"}`})})]}),S]})})},S))})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Enter Start Date"}),o.jsx("div",{className:"relative",children:o.jsx("input",{id:"event-start-date",type:"date",value:a,onChange:S=>s(S.target.value),className:"dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pl-4 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"})})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Enter End Date"}),o.jsx("div",{className:"relative",children:o.jsx("input",{id:"event-end-date",type:"date",value:i,onChange:S=>l(S.target.value),className:"dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pl-4 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"})})]})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-6 modal-footer sm:justify-end",children:[o.jsx("button",{onClick:g,type:"button",className:"flex w-full justify-center rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] sm:w-auto",children:"Close"}),o.jsx("button",{onClick:y,type:"button",className:"btn btn-success btn-update-event flex w-full justify-center rounded-lg bg-brand-500 px-4 py-2.5 text-sm font-medium text-white hover:bg-brand-600 sm:w-auto",children:r?"Update Changes":"Add Event"})]})]})})]})]})},eJ=r=>{const e=`fc-bg-${r.event.extendedProps.calendar.toLowerCase()}`;return o.jsxs("div",{className:`event-fc-color flex fc-event-main ${e} p-1 rounded-sm`,children:[o.jsx("div",{className:"fc-daygrid-event-dot"}),o.jsx("div",{className:"fc-event-time",children:r.timeText}),o.jsx("div",{className:"fc-event-title",children:r.event.title})]})},no=({children:r,className:e})=>o.jsx("table",{className:`min-w-full  ${e}`,children:r}),ao=({children:r,className:e})=>o.jsx("thead",{className:e,children:r}),so=({children:r,className:e})=>o.jsx("tbody",{className:e,children:r}),Tr=({children:r,className:e})=>o.jsx("tr",{className:e,children:r}),rt=({children:r,isHeader:e=!1,className:t})=>{const n=e?"th":"td";return o.jsx(n,{className:` ${t}`,children:r})},tJ=[{id:1,user:{image:"/images/user/user-01.jpg",name:"Lindsey Curtis",role:"Web Designer"},projectName:"Agency Website",team:{images:["/images/user/user-01.jpg","/images/user/user-01.jpg","/images/user/user-01.jpg"]},budget:"3.9K",status:"Active"},{id:2,user:{image:"/images/user/user-01.jpg",name:"Kaiya George",role:"Project Manager"},projectName:"Technology",team:{images:["/images/user/user-01.jpg","/images/user/user-01.jpg"]},budget:"24.9K",status:"Pending"},{id:3,user:{image:"/images/user/user-01.jpg",name:"Zain Geidt",role:"Content Writing"},projectName:"Blog Writing",team:{images:["/images/user/user-01.jpg"]},budget:"12.7K",status:"Active"},{id:4,user:{image:"/images/user/user-01.jpg",name:"Abram Schleifer",role:"Digital Marketer"},projectName:"Social Media",team:{images:["/images/user/user-01.jpg","/images/user/user-01.jpg","/images/user/user-01.jpg"]},budget:"2.8K",status:"Cancel"},{id:5,user:{image:"/images/user/user-01.jpg",name:"Carla George",role:"Front-end Developer"},projectName:"Website",team:{images:["/images/user/user-01.jpg","/images/user/user-01.jpg","/images/user/user-01.jpg"]},budget:"4.5K",status:"Active"}];function rJ(){return o.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:o.jsx("div",{className:"max-w-full overflow-x-auto",children:o.jsx("div",{className:"min-w-[1102px]",children:o.jsxs(no,{children:[o.jsx(ao,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:o.jsxs(Tr,{children:[o.jsx(rt,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"User"}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Project Name"}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Team"}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Status"}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Budget"})]})}),o.jsx(so,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:tJ.map(r=>o.jsxs(Tr,{children:[o.jsx(rt,{className:"px-5 py-4 sm:px-6 text-start",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 overflow-hidden rounded-full",children:o.jsx("img",{width:40,height:40,src:r.user.image,alt:r.user.name})}),o.jsxs("div",{children:[o.jsx("span",{className:"block font-medium text-gray-800 text-theme-sm dark:text-white/90",children:r.user.name}),o.jsx("span",{className:"block text-gray-500 text-theme-xs dark:text-gray-400",children:r.user.role})]})]})}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:r.projectName}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:o.jsx("div",{className:"flex -space-x-2",children:r.team.images.map((e,t)=>o.jsx("div",{className:"w-6 h-6 overflow-hidden border-2 border-white rounded-full dark:border-gray-900",children:o.jsx("img",{width:24,height:24,src:e,alt:`Team member ${t+1}`,className:"w-full size-6"})},t))})}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:o.jsx(At,{size:"sm",color:r.status==="Active"?"success":r.status==="Pending"?"warning":"error",children:r.status})}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:r.budget})]},r.id))})]})})})})}function nJ(){return o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"React.js Basic Tables Dashboard | TailAdmin - Next.js Admin Dashboard Template",description:"This is React.js Basic Tables Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),o.jsx(kr,{pageTitle:"Basic Tables"}),o.jsx("div",{className:"space-y-6",children:o.jsx(ar,{title:"Basic Table 1",children:o.jsx(rJ,{})})})]})}var CP={},Lb=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Lu={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(r){return typeof console<"u"&&console.warn(r)},getWeek:function(r){var e=new Date(r.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},wp={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(r){var e=r%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Ya=function(r,e){return e===void 0&&(e=2),("000"+r).slice(e*-1)},zs=function(r){return r===!0?1:0};function AS(r,e){var t;return function(){var n=this,a=arguments;clearTimeout(t),t=setTimeout(function(){return r.apply(n,a)},e)}}var Db=function(r){return r instanceof Array?r:[r]};function Pa(r,e,t){if(t===!0)return r.classList.add(e);r.classList.remove(e)}function vr(r,e,t){var n=window.document.createElement(r);return e=e||"",t=t||"",n.className=e,t!==void 0&&(n.textContent=t),n}function bm(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function SP(r,e){if(e(r))return r;if(r.parentNode)return SP(r.parentNode,e)}function ym(r,e){var t=vr("div","numInputWrapper"),n=vr("input","numInput "+r),a=vr("span","arrowUp"),s=vr("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),e!==void 0)for(var i in e)n.setAttribute(i,e[i]);return t.appendChild(n),t.appendChild(a),t.appendChild(s),t}function ds(r){try{if(typeof r.composedPath=="function"){var e=r.composedPath();return e[0]}return r.target}catch{return r.target}}var Tb=function(){},xx=function(r,e,t){return t.months[e?"shorthand":"longhand"][r]},aJ={D:Tb,F:function(r,e,t){r.setMonth(t.months.longhand.indexOf(e))},G:function(r,e){r.setHours((r.getHours()>=12?12:0)+parseFloat(e))},H:function(r,e){r.setHours(parseFloat(e))},J:function(r,e){r.setDate(parseFloat(e))},K:function(r,e,t){r.setHours(r.getHours()%12+12*zs(new RegExp(t.amPM[1],"i").test(e)))},M:function(r,e,t){r.setMonth(t.months.shorthand.indexOf(e))},S:function(r,e){r.setSeconds(parseFloat(e))},U:function(r,e){return new Date(parseFloat(e)*1e3)},W:function(r,e,t){var n=parseInt(e),a=new Date(r.getFullYear(),0,2+(n-1)*7,0,0,0,0);return a.setDate(a.getDate()-a.getDay()+t.firstDayOfWeek),a},Y:function(r,e){r.setFullYear(parseFloat(e))},Z:function(r,e){return new Date(e)},d:function(r,e){r.setDate(parseFloat(e))},h:function(r,e){r.setHours((r.getHours()>=12?12:0)+parseFloat(e))},i:function(r,e){r.setMinutes(parseFloat(e))},j:function(r,e){r.setDate(parseFloat(e))},l:Tb,m:function(r,e){r.setMonth(parseFloat(e)-1)},n:function(r,e){r.setMonth(parseFloat(e)-1)},s:function(r,e){r.setSeconds(parseFloat(e))},u:function(r,e){return new Date(parseFloat(e))},w:Tb,y:function(r,e){r.setFullYear(2e3+parseFloat(e))}},Nc={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Uf={Z:function(r){return r.toISOString()},D:function(r,e,t){return e.weekdays.shorthand[Uf.w(r,e,t)]},F:function(r,e,t){return xx(Uf.n(r,e,t)-1,!1,e)},G:function(r,e,t){return Ya(Uf.h(r,e,t))},H:function(r){return Ya(r.getHours())},J:function(r,e){return e.ordinal!==void 0?r.getDate()+e.ordinal(r.getDate()):r.getDate()},K:function(r,e){return e.amPM[zs(r.getHours()>11)]},M:function(r,e){return xx(r.getMonth(),!0,e)},S:function(r){return Ya(r.getSeconds())},U:function(r){return r.getTime()/1e3},W:function(r,e,t){return t.getWeek(r)},Y:function(r){return Ya(r.getFullYear(),4)},d:function(r){return Ya(r.getDate())},h:function(r){return r.getHours()%12?r.getHours()%12:12},i:function(r){return Ya(r.getMinutes())},j:function(r){return r.getDate()},l:function(r,e){return e.weekdays.longhand[r.getDay()]},m:function(r){return Ya(r.getMonth()+1)},n:function(r){return r.getMonth()+1},s:function(r){return r.getSeconds()},u:function(r){return r.getTime()},w:function(r){return r.getDay()},y:function(r){return String(r.getFullYear()).substring(2)}},jP=function(r){var e=r.config,t=e===void 0?Lu:e,n=r.l10n,a=n===void 0?wp:n,s=r.isMobile,i=s===void 0?!1:s;return function(l,c,d){var u=d||a;return t.formatDate!==void 0&&!i?t.formatDate(l,c,u):c.split("").map(function(h,f,p){return Uf[h]&&p[f-1]!=="\\"?Uf[h](l,u,t):h!=="\\"?h:""}).join("")}},d5=function(r){var e=r.config,t=e===void 0?Lu:e,n=r.l10n,a=n===void 0?wp:n;return function(s,i,l,c){if(!(s!==0&&!s)){var d=c||a,u,h=s;if(s instanceof Date)u=new Date(s.getTime());else if(typeof s!="string"&&s.toFixed!==void 0)u=new Date(s);else if(typeof s=="string"){var f=i||(t||Lu).dateFormat,p=String(s).trim();if(p==="today")u=new Date,l=!0;else if(t&&t.parseDate)u=t.parseDate(s,f);else if(/Z$/.test(p)||/GMT$/.test(p))u=new Date(s);else{for(var m=void 0,g=[],v=0,x=0,b="";v<f.length;v++){var y=f[v],C=y==="\\",S=f[v-1]==="\\"||C;if(Nc[y]&&!S){b+=Nc[y];var _=new RegExp(b).exec(s);_&&(m=!0)&&g[y!=="Y"?"push":"unshift"]({fn:aJ[y],val:_[++x]})}else C||(b+=".")}u=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),g.forEach(function(E){var A=E.fn,T=E.val;return u=A(u,T,d)||u}),u=m?u:void 0}}if(!(u instanceof Date&&!isNaN(u.getTime()))){t.errorHandler(new Error("Invalid date provided: "+h));return}return l===!0&&u.setHours(0,0,0,0),u}}};function hs(r,e,t){return t===void 0&&(t=!0),t!==!1?new Date(r.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):r.getTime()-e.getTime()}var sJ=function(r,e,t){return r>Math.min(e,t)&&r<Math.max(e,t)},Rb=function(r,e,t){return r*3600+e*60+t},iJ=function(r){var e=Math.floor(r/3600),t=(r-e*3600)/60;return[e,t,r-e*3600-t*60]},oJ={DAY:864e5};function Mb(r){var e=r.defaultHour,t=r.defaultMinute,n=r.defaultSeconds;if(r.minDate!==void 0){var a=r.minDate.getHours(),s=r.minDate.getMinutes(),i=r.minDate.getSeconds();e<a&&(e=a),e===a&&t<s&&(t=s),e===a&&t===s&&n<i&&(n=r.minDate.getSeconds())}if(r.maxDate!==void 0){var l=r.maxDate.getHours(),c=r.maxDate.getMinutes();e=Math.min(e,l),e===l&&(t=Math.min(c,t)),e===l&&t===c&&(n=r.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:n}}typeof Object.assign!="function"&&(Object.assign=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!r)throw TypeError("Cannot convert undefined or null to object");for(var n=function(l){l&&Object.keys(l).forEach(function(c){return r[c]=l[c]})},a=0,s=e;a<s.length;a++){var i=s[a];n(i)}return r});var va=function(){return va=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},va.apply(this,arguments)},PS=function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),a=0,e=0;e<t;e++)for(var s=arguments[e],i=0,l=s.length;i<l;i++,a++)n[a]=s[i];return n},lJ=300;function cJ(r,e){var t={config:va(va({},Lu),En.defaultConfig),l10n:wp};t.parseDate=d5({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=g,t._setHoursFromDate=f,t._positionCalendar=ke,t.changeMonth=q,t.changeYear=se,t.clear=M,t.close=U,t.onMouseOver=Le,t._createElement=vr,t.createDay=_,t.destroy=$,t.isEnabled=le,t.jumpToDate=b,t.updateValue=Mr,t.open=et,t.redraw=Ge,t.set=it,t.setDate=tt,t.toggle=ut;function n(){t.utils={getDaysInMonth:function(ne,oe){return ne===void 0&&(ne=t.currentMonth),oe===void 0&&(oe=t.currentYear),ne===1&&(oe%4===0&&oe%100!==0||oe%400===0)?29:t.l10n.daysInMonth[ne]}}}function a(){t.element=t.input=r,t.isOpen=!1,ee(),Ue(),Me(),ve(),n(),t.isMobile||S(),x(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&f(t.config.noCalendar?t.latestSelectedDateObj:void 0),Mr(!1)),l();var ne=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&ne&&ke(),Ke("onReady")}function s(){var ne;return((ne=t.calendarContainer)===null||ne===void 0?void 0:ne.getRootNode()).activeElement||document.activeElement}function i(ne){return ne.bind(t)}function l(){var ne=t.config;ne.weekNumbers===!1&&ne.showMonths===1||ne.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var oe=(t.days.offsetWidth+1)*ne.showMonths;t.daysContainer.style.width=oe+"px",t.calendarContainer.style.width=oe+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function c(ne){if(t.selectedDates.length===0){var oe=t.config.minDate===void 0||hs(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),me=Mb(t.config);oe.setHours(me.hours,me.minutes,me.seconds,oe.getMilliseconds()),t.selectedDates=[oe],t.latestSelectedDateObj=oe}ne!==void 0&&ne.type!=="blur"&&Gt(ne);var _e=t._input.value;h(),Mr(),t._input.value!==_e&&t._debouncedChange()}function d(ne,oe){return ne%12+12*zs(oe===t.l10n.amPM[1])}function u(ne){switch(ne%24){case 0:case 12:return 12;default:return ne%12}}function h(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var ne=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,oe=(parseInt(t.minuteElement.value,10)||0)%60,me=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(ne=d(ne,t.amPM.textContent));var _e=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&hs(t.latestSelectedDateObj,t.config.minDate,!0)===0,Xe=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&hs(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var nt=Rb(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),He=Rb(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),ht=Rb(ne,oe,me);if(ht>He&&ht<nt){var Et=iJ(nt);ne=Et[0],oe=Et[1],me=Et[2]}}else{if(Xe){var lt=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;ne=Math.min(ne,lt.getHours()),ne===lt.getHours()&&(oe=Math.min(oe,lt.getMinutes())),oe===lt.getMinutes()&&(me=Math.min(me,lt.getSeconds()))}if(_e){var mt=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;ne=Math.max(ne,mt.getHours()),ne===mt.getHours()&&oe<mt.getMinutes()&&(oe=mt.getMinutes()),oe===mt.getMinutes()&&(me=Math.max(me,mt.getSeconds()))}}p(ne,oe,me)}}function f(ne){var oe=ne||t.latestSelectedDateObj;oe&&oe instanceof Date&&p(oe.getHours(),oe.getMinutes(),oe.getSeconds())}function p(ne,oe,me){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(ne%24,oe,me||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=Ya(t.config.time_24hr?ne:(12+ne)%12+12*zs(ne%12===0)),t.minuteElement.value=Ya(oe),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[zs(ne>=12)]),t.secondElement!==void 0&&(t.secondElement.value=Ya(me)))}function m(ne){var oe=ds(ne),me=parseInt(oe.value)+(ne.delta||0);(me/1e3>1||ne.key==="Enter"&&!/[^\d]/.test(me.toString()))&&se(me)}function g(ne,oe,me,_e){if(oe instanceof Array)return oe.forEach(function(Xe){return g(ne,Xe,me,_e)});if(ne instanceof Array)return ne.forEach(function(Xe){return g(Xe,oe,me,_e)});ne.addEventListener(oe,me,_e),t._handlers.push({remove:function(){return ne.removeEventListener(oe,me,_e)}})}function v(){Ke("onChange")}function x(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(me){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+me+"]"),function(_e){return g(_e,"click",t[me])})}),t.isMobile){pt();return}var ne=AS(Ie,50);if(t._debouncedChange=AS(v,lJ),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&g(t.daysContainer,"mouseover",function(me){t.config.mode==="range"&&Le(ds(me))}),g(t._input,"keydown",Ne),t.calendarContainer!==void 0&&g(t.calendarContainer,"keydown",Ne),!t.config.inline&&!t.config.static&&g(window,"resize",ne),window.ontouchstart!==void 0?g(window.document,"touchstart",Q):g(window.document,"mousedown",Q),g(window.document,"focus",Q,{capture:!0}),t.config.clickOpens===!0&&(g(t._input,"focus",t.open),g(t._input,"click",t.open)),t.daysContainer!==void 0&&(g(t.monthNav,"click",hr),g(t.monthNav,["keyup","increment"],m),g(t.daysContainer,"click",De)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var oe=function(me){return ds(me).select()};g(t.timeContainer,["increment"],c),g(t.timeContainer,"blur",c,{capture:!0}),g(t.timeContainer,"click",y),g([t.hourElement,t.minuteElement],["focus","click"],oe),t.secondElement!==void 0&&g(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&g(t.amPM,"click",function(me){c(me)})}t.config.allowInput&&g(t._input,"blur",ye)}function b(ne,oe){var me=ne!==void 0?t.parseDate(ne):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),_e=t.currentYear,Xe=t.currentMonth;try{me!==void 0&&(t.currentYear=me.getFullYear(),t.currentMonth=me.getMonth())}catch(nt){nt.message="Invalid date supplied: "+me,t.config.errorHandler(nt)}oe&&t.currentYear!==_e&&(Ke("onYearChange"),O()),oe&&(t.currentYear!==_e||t.currentMonth!==Xe)&&Ke("onMonthChange"),t.redraw()}function y(ne){var oe=ds(ne);~oe.className.indexOf("arrow")&&C(ne,oe.classList.contains("arrowUp")?1:-1)}function C(ne,oe,me){var _e=ne&&ds(ne),Xe=me||_e&&_e.parentNode&&_e.parentNode.firstChild,nt=wt("increment");nt.delta=oe,Xe&&Xe.dispatchEvent(nt)}function S(){var ne=window.document.createDocumentFragment();if(t.calendarContainer=vr("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(ne.appendChild(z()),t.innerContainer=vr("div","flatpickr-innerContainer"),t.config.weekNumbers){var oe=G(),me=oe.weekWrapper,_e=oe.weekNumbers;t.innerContainer.appendChild(me),t.weekNumbers=_e,t.weekWrapper=me}t.rContainer=vr("div","flatpickr-rContainer"),t.rContainer.appendChild(W()),t.daysContainer||(t.daysContainer=vr("div","flatpickr-days"),t.daysContainer.tabIndex=-1),D(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),ne.appendChild(t.innerContainer)}t.config.enableTime&&ne.appendChild(V()),Pa(t.calendarContainer,"rangeMode",t.config.mode==="range"),Pa(t.calendarContainer,"animate",t.config.animate===!0),Pa(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(ne);var Xe=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!Xe&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var nt=vr("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(nt,t.element),nt.appendChild(t.element),t.altInput&&nt.appendChild(t.altInput),nt.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function _(ne,oe,me,_e){var Xe=le(oe,!0),nt=vr("span",ne,oe.getDate().toString());return nt.dateObj=oe,nt.$i=_e,nt.setAttribute("aria-label",t.formatDate(oe,t.config.ariaDateFormat)),ne.indexOf("hidden")===-1&&hs(oe,t.now)===0&&(t.todayDateElem=nt,nt.classList.add("today"),nt.setAttribute("aria-current","date")),Xe?(nt.tabIndex=-1,er(oe)&&(nt.classList.add("selected"),t.selectedDateElem=nt,t.config.mode==="range"&&(Pa(nt,"startRange",t.selectedDates[0]&&hs(oe,t.selectedDates[0],!0)===0),Pa(nt,"endRange",t.selectedDates[1]&&hs(oe,t.selectedDates[1],!0)===0),ne==="nextMonthDay"&&nt.classList.add("inRange")))):nt.classList.add("flatpickr-disabled"),t.config.mode==="range"&&It(oe)&&!er(oe)&&nt.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&ne!=="prevMonthDay"&&_e%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(oe)+"</span>"),Ke("onDayCreate",nt),nt}function E(ne){ne.focus(),t.config.mode==="range"&&Le(ne)}function A(ne){for(var oe=ne>0?0:t.config.showMonths-1,me=ne>0?t.config.showMonths:-1,_e=oe;_e!=me;_e+=ne)for(var Xe=t.daysContainer.children[_e],nt=ne>0?0:Xe.children.length-1,He=ne>0?Xe.children.length:-1,ht=nt;ht!=He;ht+=ne){var Et=Xe.children[ht];if(Et.className.indexOf("hidden")===-1&&le(Et.dateObj))return Et}}function T(ne,oe){for(var me=ne.className.indexOf("Month")===-1?ne.dateObj.getMonth():t.currentMonth,_e=oe>0?t.config.showMonths:-1,Xe=oe>0?1:-1,nt=me-t.currentMonth;nt!=_e;nt+=Xe)for(var He=t.daysContainer.children[nt],ht=me-t.currentMonth===nt?ne.$i+oe:oe<0?He.children.length-1:0,Et=He.children.length,lt=ht;lt>=0&&lt<Et&&lt!=(oe>0?Et:-1);lt+=Xe){var mt=He.children[lt];if(mt.className.indexOf("hidden")===-1&&le(mt.dateObj)&&Math.abs(ne.$i-lt)>=Math.abs(oe))return E(mt)}t.changeMonth(Xe),F(A(Xe),0)}function F(ne,oe){var me=s(),_e=ue(me||document.body),Xe=ne!==void 0?ne:_e?me:t.selectedDateElem!==void 0&&ue(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&ue(t.todayDateElem)?t.todayDateElem:A(oe>0?1:-1);Xe===void 0?t._input.focus():_e?T(Xe,oe):E(Xe)}function L(ne,oe){for(var me=(new Date(ne,oe,1).getDay()-t.l10n.firstDayOfWeek+7)%7,_e=t.utils.getDaysInMonth((oe-1+12)%12,ne),Xe=t.utils.getDaysInMonth(oe,ne),nt=window.document.createDocumentFragment(),He=t.config.showMonths>1,ht=He?"prevMonthDay hidden":"prevMonthDay",Et=He?"nextMonthDay hidden":"nextMonthDay",lt=_e+1-me,mt=0;lt<=_e;lt++,mt++)nt.appendChild(_("flatpickr-day "+ht,new Date(ne,oe-1,lt),lt,mt));for(lt=1;lt<=Xe;lt++,mt++)nt.appendChild(_("flatpickr-day",new Date(ne,oe,lt),lt,mt));for(var Pt=Xe+1;Pt<=42-me&&(t.config.showMonths===1||mt%7!==0);Pt++,mt++)nt.appendChild(_("flatpickr-day "+Et,new Date(ne,oe+1,Pt%Xe),Pt,mt));var sr=vr("div","dayContainer");return sr.appendChild(nt),sr}function D(){if(t.daysContainer!==void 0){bm(t.daysContainer),t.weekNumbers&&bm(t.weekNumbers);for(var ne=document.createDocumentFragment(),oe=0;oe<t.config.showMonths;oe++){var me=new Date(t.currentYear,t.currentMonth,1);me.setMonth(t.currentMonth+oe),ne.appendChild(L(me.getFullYear(),me.getMonth()))}t.daysContainer.appendChild(ne),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&Le()}}function O(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var ne=function(_e){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&_e<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&_e>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var oe=0;oe<12;oe++)if(ne(oe)){var me=vr("option","flatpickr-monthDropdown-month");me.value=new Date(t.currentYear,oe).getMonth().toString(),me.textContent=xx(oe,t.config.shorthandCurrentMonth,t.l10n),me.tabIndex=-1,t.currentMonth===oe&&(me.selected=!0),t.monthsDropdownContainer.appendChild(me)}}}function I(){var ne=vr("div","flatpickr-month"),oe=window.document.createDocumentFragment(),me;t.config.showMonths>1||t.config.monthSelectorType==="static"?me=vr("span","cur-month"):(t.monthsDropdownContainer=vr("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),g(t.monthsDropdownContainer,"change",function(He){var ht=ds(He),Et=parseInt(ht.value,10);t.changeMonth(Et-t.currentMonth),Ke("onMonthChange")}),O(),me=t.monthsDropdownContainer);var _e=ym("cur-year",{tabindex:"-1"}),Xe=_e.getElementsByTagName("input")[0];Xe.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&Xe.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(Xe.setAttribute("max",t.config.maxDate.getFullYear().toString()),Xe.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var nt=vr("div","flatpickr-current-month");return nt.appendChild(me),nt.appendChild(_e),oe.appendChild(nt),ne.appendChild(oe),{container:ne,yearElement:Xe,monthElement:me}}function B(){bm(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var ne=t.config.showMonths;ne--;){var oe=I();t.yearElements.push(oe.yearElement),t.monthElements.push(oe.monthElement),t.monthNav.appendChild(oe.container)}t.monthNav.appendChild(t.nextMonthNav)}function z(){return t.monthNav=vr("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=vr("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=vr("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,B(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(ne){t.__hidePrevMonthArrow!==ne&&(Pa(t.prevMonthNav,"flatpickr-disabled",ne),t.__hidePrevMonthArrow=ne)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(ne){t.__hideNextMonthArrow!==ne&&(Pa(t.nextMonthNav,"flatpickr-disabled",ne),t.__hideNextMonthArrow=ne)}}),t.currentYearElement=t.yearElements[0],fn(),t.monthNav}function V(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var ne=Mb(t.config);t.timeContainer=vr("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var oe=vr("span","flatpickr-time-separator",":"),me=ym("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=me.getElementsByTagName("input")[0];var _e=ym("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=_e.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=Ya(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?ne.hours:u(ne.hours)),t.minuteElement.value=Ya(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():ne.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(me),t.timeContainer.appendChild(oe),t.timeContainer.appendChild(_e),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var Xe=ym("flatpickr-second");t.secondElement=Xe.getElementsByTagName("input")[0],t.secondElement.value=Ya(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():ne.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(vr("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(Xe)}return t.config.time_24hr||(t.amPM=vr("span","flatpickr-am-pm",t.l10n.amPM[zs((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function W(){t.weekdayContainer?bm(t.weekdayContainer):t.weekdayContainer=vr("div","flatpickr-weekdays");for(var ne=t.config.showMonths;ne--;){var oe=vr("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(oe)}return Y(),t.weekdayContainer}function Y(){if(t.weekdayContainer){var ne=t.l10n.firstDayOfWeek,oe=PS(t.l10n.weekdays.shorthand);ne>0&&ne<oe.length&&(oe=PS(oe.splice(ne,oe.length),oe.splice(0,ne)));for(var me=t.config.showMonths;me--;)t.weekdayContainer.children[me].innerHTML=`
      <span class='flatpickr-weekday'>
        `+oe.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function G(){t.calendarContainer.classList.add("hasWeeks");var ne=vr("div","flatpickr-weekwrapper");ne.appendChild(vr("span","flatpickr-weekday",t.l10n.weekAbbreviation));var oe=vr("div","flatpickr-weeks");return ne.appendChild(oe),{weekWrapper:ne,weekNumbers:oe}}function q(ne,oe){oe===void 0&&(oe=!0);var me=oe?ne:ne-t.currentMonth;me<0&&t._hidePrevMonthArrow===!0||me>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=me,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,Ke("onYearChange"),O()),D(),Ke("onMonthChange"),fn())}function M(ne,oe){if(ne===void 0&&(ne=!0),oe===void 0&&(oe=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,oe===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var me=Mb(t.config),_e=me.hours,Xe=me.minutes,nt=me.seconds;p(_e,Xe,nt)}t.redraw(),ne&&Ke("onChange")}function U(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),Ke("onClose")}function $(){t.config!==void 0&&Ke("onDestroy");for(var ne=t._handlers.length;ne--;)t._handlers[ne].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var oe=t.calendarContainer.parentNode;if(oe.lastChild&&oe.removeChild(oe.lastChild),oe.parentNode){for(;oe.firstChild;)oe.parentNode.insertBefore(oe.firstChild,oe);oe.parentNode.removeChild(oe)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(me){try{delete t[me]}catch{}})}function X(ne){return t.calendarContainer.contains(ne)}function Q(ne){if(t.isOpen&&!t.config.inline){var oe=ds(ne),me=X(oe),_e=oe===t.input||oe===t.altInput||t.element.contains(oe)||ne.path&&ne.path.indexOf&&(~ne.path.indexOf(t.input)||~ne.path.indexOf(t.altInput)),Xe=!_e&&!me&&!X(ne.relatedTarget),nt=!t.config.ignoredFocusElements.some(function(He){return He.contains(oe)});Xe&&nt&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&c(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function se(ne){if(!(!ne||t.config.minDate&&ne<t.config.minDate.getFullYear()||t.config.maxDate&&ne>t.config.maxDate.getFullYear())){var oe=ne,me=t.currentYear!==oe;t.currentYear=oe||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),me&&(t.redraw(),Ke("onYearChange"),O())}}function le(ne,oe){var me;oe===void 0&&(oe=!0);var _e=t.parseDate(ne,void 0,oe);if(t.config.minDate&&_e&&hs(_e,t.config.minDate,oe!==void 0?oe:!t.minDateHasTime)<0||t.config.maxDate&&_e&&hs(_e,t.config.maxDate,oe!==void 0?oe:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(_e===void 0)return!1;for(var Xe=!!t.config.enable,nt=(me=t.config.enable)!==null&&me!==void 0?me:t.config.disable,He=0,ht=void 0;He<nt.length;He++){if(ht=nt[He],typeof ht=="function"&&ht(_e))return Xe;if(ht instanceof Date&&_e!==void 0&&ht.getTime()===_e.getTime())return Xe;if(typeof ht=="string"){var Et=t.parseDate(ht,void 0,!0);return Et&&Et.getTime()===_e.getTime()?Xe:!Xe}else if(typeof ht=="object"&&_e!==void 0&&ht.from&&ht.to&&_e.getTime()>=ht.from.getTime()&&_e.getTime()<=ht.to.getTime())return Xe}return!Xe}function ue(ne){return t.daysContainer!==void 0?ne.className.indexOf("hidden")===-1&&ne.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(ne):!1}function ye(ne){var oe=ne.target===t._input,me=t._input.value.trimEnd()!==tr();oe&&me&&!(ne.relatedTarget&&X(ne.relatedTarget))&&t.setDate(t._input.value,!0,ne.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function Ne(ne){var oe=ds(ne),me=t.config.wrap?r.contains(oe):oe===t._input,_e=t.config.allowInput,Xe=t.isOpen&&(!_e||!me),nt=t.config.inline&&me&&!_e;if(ne.keyCode===13&&me){if(_e)return t.setDate(t._input.value,!0,oe===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),oe.blur();t.open()}else if(X(oe)||Xe||nt){var He=!!t.timeContainer&&t.timeContainer.contains(oe);switch(ne.keyCode){case 13:He?(ne.preventDefault(),c(),dt()):De(ne);break;case 27:ne.preventDefault(),dt();break;case 8:case 46:me&&!t.config.allowInput&&(ne.preventDefault(),t.clear());break;case 37:case 39:if(!He&&!me){ne.preventDefault();var ht=s();if(t.daysContainer!==void 0&&(_e===!1||ht&&ue(ht))){var Et=ne.keyCode===39?1:-1;ne.ctrlKey?(ne.stopPropagation(),q(Et),F(A(1),0)):F(void 0,Et)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:ne.preventDefault();var lt=ne.keyCode===40?1:-1;t.daysContainer&&oe.$i!==void 0||oe===t.input||oe===t.altInput?ne.ctrlKey?(ne.stopPropagation(),se(t.currentYear-lt),F(A(1),0)):He||F(void 0,lt*7):oe===t.currentYearElement?se(t.currentYear-lt):t.config.enableTime&&(!He&&t.hourElement&&t.hourElement.focus(),c(ne),t._debouncedChange());break;case 9:if(He){var mt=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(Ar){return Ar}),Pt=mt.indexOf(oe);if(Pt!==-1){var sr=mt[Pt+(ne.shiftKey?-1:1)];ne.preventDefault(),(sr||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(oe)&&ne.shiftKey&&(ne.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&oe===t.amPM)switch(ne.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],h(),Mr();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],h(),Mr();break}(me||X(oe))&&Ke("onKeyDown",ne)}function Le(ne,oe){if(oe===void 0&&(oe="flatpickr-day"),!(t.selectedDates.length!==1||ne&&(!ne.classList.contains(oe)||ne.classList.contains("flatpickr-disabled")))){for(var me=ne?ne.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),_e=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),Xe=Math.min(me,t.selectedDates[0].getTime()),nt=Math.max(me,t.selectedDates[0].getTime()),He=!1,ht=0,Et=0,lt=Xe;lt<nt;lt+=oJ.DAY)le(new Date(lt),!0)||(He=He||lt>Xe&&lt<nt,lt<_e&&(!ht||lt>ht)?ht=lt:lt>_e&&(!Et||lt<Et)&&(Et=lt));var mt=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+oe));mt.forEach(function(Pt){var sr=Pt.dateObj,Ar=sr.getTime(),pn=ht>0&&Ar<ht||Et>0&&Ar>Et;if(pn){Pt.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Tn){Pt.classList.remove(Tn)});return}else if(He&&!pn)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Tn){Pt.classList.remove(Tn)}),ne!==void 0&&(ne.classList.add(me<=t.selectedDates[0].getTime()?"startRange":"endRange"),_e<me&&Ar===_e?Pt.classList.add("startRange"):_e>me&&Ar===_e&&Pt.classList.add("endRange"),Ar>=ht&&(Et===0||Ar<=Et)&&sJ(Ar,_e,me)&&Pt.classList.add("inRange"))})}}function Ie(){t.isOpen&&!t.config.static&&!t.config.inline&&ke()}function et(ne,oe){if(oe===void 0&&(oe=t._positionElement),t.isMobile===!0){if(ne){ne.preventDefault();var me=ds(ne);me&&me.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),Ke("onOpen");return}else if(t._input.disabled||t.config.inline)return;var _e=t.isOpen;t.isOpen=!0,_e||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),Ke("onOpen"),ke(oe)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(ne===void 0||!t.timeContainer.contains(ne.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function Ee(ne){return function(oe){var me=t.config["_"+ne+"Date"]=t.parseDate(oe,t.config.dateFormat),_e=t.config["_"+(ne==="min"?"max":"min")+"Date"];me!==void 0&&(t[ne==="min"?"minDateHasTime":"maxDateHasTime"]=me.getHours()>0||me.getMinutes()>0||me.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(Xe){return le(Xe)}),!t.selectedDates.length&&ne==="min"&&f(me),Mr()),t.daysContainer&&(Ge(),me!==void 0?t.currentYearElement[ne]=me.getFullYear().toString():t.currentYearElement.removeAttribute(ne),t.currentYearElement.disabled=!!_e&&me!==void 0&&_e.getFullYear()===me.getFullYear())}}function ee(){var ne=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],oe=va(va({},JSON.parse(JSON.stringify(r.dataset||{}))),e),me={};t.config.parseDate=oe.parseDate,t.config.formatDate=oe.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(mt){t.config._enable=je(mt)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(mt){t.config._disable=je(mt)}});var _e=oe.mode==="time";if(!oe.dateFormat&&(oe.enableTime||_e)){var Xe=En.defaultConfig.dateFormat||Lu.dateFormat;me.dateFormat=oe.noCalendar||_e?"H:i"+(oe.enableSeconds?":S":""):Xe+" H:i"+(oe.enableSeconds?":S":"")}if(oe.altInput&&(oe.enableTime||_e)&&!oe.altFormat){var nt=En.defaultConfig.altFormat||Lu.altFormat;me.altFormat=oe.noCalendar||_e?"h:i"+(oe.enableSeconds?":S K":" K"):nt+(" h:i"+(oe.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:Ee("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:Ee("max")});var He=function(mt){return function(Pt){t.config[mt==="min"?"_minTime":"_maxTime"]=t.parseDate(Pt,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:He("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:He("max")}),oe.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,me,oe);for(var ht=0;ht<ne.length;ht++)t.config[ne[ht]]=t.config[ne[ht]]===!0||t.config[ne[ht]]==="true";Lb.filter(function(mt){return t.config[mt]!==void 0}).forEach(function(mt){t.config[mt]=Db(t.config[mt]||[]).map(i)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var ht=0;ht<t.config.plugins.length;ht++){var Et=t.config.plugins[ht](t)||{};for(var lt in Et)Lb.indexOf(lt)>-1?t.config[lt]=Db(Et[lt]).map(i).concat(t.config[lt]):typeof oe[lt]>"u"&&(t.config[lt]=Et[lt])}oe.altInputClass||(t.config.altInputClass=Ve().className+" "+t.config.altInputClass),Ke("onParseConfig")}function Ve(){return t.config.wrap?r.querySelector("[data-input]"):r}function Ue(){typeof t.config.locale!="object"&&typeof En.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=va(va({},En.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?En.l10ns[t.config.locale]:void 0),Nc.D="("+t.l10n.weekdays.shorthand.join("|")+")",Nc.l="("+t.l10n.weekdays.longhand.join("|")+")",Nc.M="("+t.l10n.months.shorthand.join("|")+")",Nc.F="("+t.l10n.months.longhand.join("|")+")",Nc.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var ne=va(va({},e),JSON.parse(JSON.stringify(r.dataset||{})));ne.time_24hr===void 0&&En.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=jP(t),t.parseDate=d5({config:t.config,l10n:t.l10n})}function ke(ne){if(typeof t.config.position=="function")return void t.config.position(t,ne);if(t.calendarContainer!==void 0){Ke("onPreCalendarPosition");var oe=ne||t._positionElement,me=Array.prototype.reduce.call(t.calendarContainer.children,function(ss,mn){return ss+mn.offsetHeight},0),_e=t.calendarContainer.offsetWidth,Xe=t.config.position.split(" "),nt=Xe[0],He=Xe.length>1?Xe[1]:null,ht=oe.getBoundingClientRect(),Et=window.innerHeight-ht.bottom,lt=nt==="above"||nt!=="below"&&Et<me&&ht.top>me,mt=window.pageYOffset+ht.top+(lt?-me-2:oe.offsetHeight+2);if(Pa(t.calendarContainer,"arrowTop",!lt),Pa(t.calendarContainer,"arrowBottom",lt),!t.config.inline){var Pt=window.pageXOffset+ht.left,sr=!1,Ar=!1;He==="center"?(Pt-=(_e-ht.width)/2,sr=!0):He==="right"&&(Pt-=_e-ht.width,Ar=!0),Pa(t.calendarContainer,"arrowLeft",!sr&&!Ar),Pa(t.calendarContainer,"arrowCenter",sr),Pa(t.calendarContainer,"arrowRight",Ar);var pn=window.document.body.offsetWidth-(window.pageXOffset+ht.right),Tn=Pt+_e>window.document.body.offsetWidth,lr=pn+_e>window.document.body.offsetWidth;if(Pa(t.calendarContainer,"rightMost",Tn),!t.config.static)if(t.calendarContainer.style.top=mt+"px",!Tn)t.calendarContainer.style.left=Pt+"px",t.calendarContainer.style.right="auto";else if(!lr)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=pn+"px";else{var ca=Ce();if(ca===void 0)return;var Sa=window.document.body.offsetWidth,Kn=Math.max(0,Sa/2-_e/2),Qn=".flatpickr-calendar.centerMost:before",Es=".flatpickr-calendar.centerMost:after",As=ca.cssRules.length,gn="{left:"+ht.left+"px;right:auto;}";Pa(t.calendarContainer,"rightMost",!1),Pa(t.calendarContainer,"centerMost",!0),ca.insertRule(Qn+","+Es+gn,As),t.calendarContainer.style.left=Kn+"px",t.calendarContainer.style.right="auto"}}}}function Ce(){for(var ne=null,oe=0;oe<document.styleSheets.length;oe++){var me=document.styleSheets[oe];if(me.cssRules){try{me.cssRules}catch{continue}ne=me;break}}return ne??ze()}function ze(){var ne=document.createElement("style");return document.head.appendChild(ne),ne.sheet}function Ge(){t.config.noCalendar||t.isMobile||(O(),fn(),D())}function dt(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function De(ne){ne.preventDefault(),ne.stopPropagation();var oe=function(mt){return mt.classList&&mt.classList.contains("flatpickr-day")&&!mt.classList.contains("flatpickr-disabled")&&!mt.classList.contains("notAllowed")},me=SP(ds(ne),oe);if(me!==void 0){var _e=me,Xe=t.latestSelectedDateObj=new Date(_e.dateObj.getTime()),nt=(Xe.getMonth()<t.currentMonth||Xe.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=_e,t.config.mode==="single")t.selectedDates=[Xe];else if(t.config.mode==="multiple"){var He=er(Xe);He?t.selectedDates.splice(parseInt(He),1):t.selectedDates.push(Xe)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=Xe,t.selectedDates.push(Xe),hs(Xe,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(mt,Pt){return mt.getTime()-Pt.getTime()}));if(h(),nt){var ht=t.currentYear!==Xe.getFullYear();t.currentYear=Xe.getFullYear(),t.currentMonth=Xe.getMonth(),ht&&(Ke("onYearChange"),O()),Ke("onMonthChange")}if(fn(),D(),Mr(),!nt&&t.config.mode!=="range"&&t.config.showMonths===1?E(_e):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var Et=t.config.mode==="single"&&!t.config.enableTime,lt=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(Et||lt)&&dt()}v()}}var Fe={locale:[Ue,Y],showMonths:[B,l,W],minDate:[b],maxDate:[b],positionElement:[Je],clickOpens:[function(){t.config.clickOpens===!0?(g(t._input,"focus",t.open),g(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function it(ne,oe){if(ne!==null&&typeof ne=="object"){Object.assign(t.config,ne);for(var me in ne)Fe[me]!==void 0&&Fe[me].forEach(function(_e){return _e()})}else t.config[ne]=oe,Fe[ne]!==void 0?Fe[ne].forEach(function(_e){return _e()}):Lb.indexOf(ne)>-1&&(t.config[ne]=Db(oe));t.redraw(),Mr(!0)}function vt(ne,oe){var me=[];if(ne instanceof Array)me=ne.map(function(_e){return t.parseDate(_e,oe)});else if(ne instanceof Date||typeof ne=="number")me=[t.parseDate(ne,oe)];else if(typeof ne=="string")switch(t.config.mode){case"single":case"time":me=[t.parseDate(ne,oe)];break;case"multiple":me=ne.split(t.config.conjunction).map(function(_e){return t.parseDate(_e,oe)});break;case"range":me=ne.split(t.l10n.rangeSeparator).map(function(_e){return t.parseDate(_e,oe)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(ne)));t.selectedDates=t.config.allowInvalidPreload?me:me.filter(function(_e){return _e instanceof Date&&le(_e,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(_e,Xe){return _e.getTime()-Xe.getTime()})}function tt(ne,oe,me){if(oe===void 0&&(oe=!1),me===void 0&&(me=t.config.dateFormat),ne!==0&&!ne||ne instanceof Array&&ne.length===0)return t.clear(oe);vt(ne,me),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),b(void 0,oe),f(),t.selectedDates.length===0&&t.clear(!1),Mr(oe),oe&&Ke("onChange")}function je(ne){return ne.slice().map(function(oe){return typeof oe=="string"||typeof oe=="number"||oe instanceof Date?t.parseDate(oe,void 0,!0):oe&&typeof oe=="object"&&oe.from&&oe.to?{from:t.parseDate(oe.from,void 0),to:t.parseDate(oe.to,void 0)}:oe}).filter(function(oe){return oe})}function ve(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var ne=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);ne&&vt(ne,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function Me(){if(t.input=Ve(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=vr(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),Je()}function Je(){t._positionElement=t.config.positionElement||t._input}function pt(){var ne=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=vr("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=ne,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=ne==="datetime-local"?"Y-m-d\\TH:i:S":ne==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}g(t.mobileInput,"change",function(oe){t.setDate(ds(oe).value,!1,t.mobileFormatStr),Ke("onChange"),Ke("onClose")})}function ut(ne){if(t.isOpen===!0)return t.close();t.open(ne)}function Ke(ne,oe){if(t.config!==void 0){var me=t.config[ne];if(me!==void 0&&me.length>0)for(var _e=0;me[_e]&&_e<me.length;_e++)me[_e](t.selectedDates,t.input.value,t,oe);ne==="onChange"&&(t.input.dispatchEvent(wt("change")),t.input.dispatchEvent(wt("input")))}}function wt(ne){var oe=document.createEvent("Event");return oe.initEvent(ne,!0,!0),oe}function er(ne){for(var oe=0;oe<t.selectedDates.length;oe++){var me=t.selectedDates[oe];if(me instanceof Date&&hs(me,ne)===0)return""+oe}return!1}function It(ne){return t.config.mode!=="range"||t.selectedDates.length<2?!1:hs(ne,t.selectedDates[0])>=0&&hs(ne,t.selectedDates[1])<=0}function fn(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(ne,oe){var me=new Date(t.currentYear,t.currentMonth,1);me.setMonth(t.currentMonth+oe),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[oe].textContent=xx(me.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=me.getMonth().toString(),ne.value=me.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function tr(ne){var oe=ne||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(me){return t.formatDate(me,oe)}).filter(function(me,_e,Xe){return t.config.mode!=="range"||t.config.enableTime||Xe.indexOf(me)===_e}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Mr(ne){ne===void 0&&(ne=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=tr(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=tr(t.config.altFormat)),ne!==!1&&Ke("onValueUpdate")}function hr(ne){var oe=ds(ne),me=t.prevMonthNav.contains(oe),_e=t.nextMonthNav.contains(oe);me||_e?q(me?-1:1):t.yearElements.indexOf(oe)>=0?oe.select():oe.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):oe.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function Gt(ne){ne.preventDefault();var oe=ne.type==="keydown",me=ds(ne),_e=me;t.amPM!==void 0&&me===t.amPM&&(t.amPM.textContent=t.l10n.amPM[zs(t.amPM.textContent===t.l10n.amPM[0])]);var Xe=parseFloat(_e.getAttribute("min")),nt=parseFloat(_e.getAttribute("max")),He=parseFloat(_e.getAttribute("step")),ht=parseInt(_e.value,10),Et=ne.delta||(oe?ne.which===38?1:-1:0),lt=ht+He*Et;if(typeof _e.value<"u"&&_e.value.length===2){var mt=_e===t.hourElement,Pt=_e===t.minuteElement;lt<Xe?(lt=nt+lt+zs(!mt)+(zs(mt)&&zs(!t.amPM)),Pt&&C(void 0,-1,t.hourElement)):lt>nt&&(lt=_e===t.hourElement?lt-nt-zs(!t.amPM):Xe,Pt&&C(void 0,1,t.hourElement)),t.amPM&&mt&&(He===1?lt+ht===23:Math.abs(lt-ht)>He)&&(t.amPM.textContent=t.l10n.amPM[zs(t.amPM.textContent===t.l10n.amPM[0])]),_e.value=Ya(lt)}}return a(),t}function Du(r,e){for(var t=Array.prototype.slice.call(r).filter(function(i){return i instanceof HTMLElement}),n=[],a=0;a<t.length;a++){var s=t[a];try{if(s.getAttribute("data-fp-omit")!==null)continue;s._flatpickr!==void 0&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=cJ(s,e||{}),n.push(s._flatpickr)}catch(i){console.error(i)}}return n.length===1?n[0]:n}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(r){return Du(this,r)},HTMLElement.prototype.flatpickr=function(r){return Du([this],r)});var En=function(r,e){return typeof r=="string"?Du(window.document.querySelectorAll(r),e):r instanceof Node?Du([r],e):Du(r,e)};En.defaultConfig={};En.l10ns={en:va({},wp),default:va({},wp)};En.localize=function(r){En.l10ns.default=va(va({},En.l10ns.default),r)};En.setDefaults=function(r){En.defaultConfig=va(va({},En.defaultConfig),r)};En.parseDate=d5({});En.formatDate=jP({});En.compareDates=hs;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(r){return Du(this,r)});Date.prototype.fp_incr=function(r){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof r=="string"?parseInt(r,10):r))};typeof window<"u"&&(window.flatpickr=En);const dJ=Object.freeze(Object.defineProperty({__proto__:null,default:En},Symbol.toStringTag,{value:"Module"})),uJ=Z5(dJ);(function(r){function e(q){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(U){return typeof U}:e=function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},e(q)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=l(w),n=s(i4),a=s(uJ);function s(q){return q&&q.__esModule?q:{default:q}}function i(){if(typeof WeakMap!="function")return null;var q=new WeakMap;return i=function(){return q},q}function l(q){if(q&&q.__esModule)return q;if(q===null||e(q)!=="object"&&typeof q!="function")return{default:q};var M=i();if(M&&M.has(q))return M.get(q);var U={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var X in q)if(Object.prototype.hasOwnProperty.call(q,X)){var Q=$?Object.getOwnPropertyDescriptor(q,X):null;Q&&(Q.get||Q.set)?Object.defineProperty(U,X,Q):U[X]=q[X]}return U.default=q,M&&M.set(q,U),U}function c(q){return f(q)||h(q)||u(q)||d()}function d(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(q,M){if(q){if(typeof q=="string")return p(q,M);var U=Object.prototype.toString.call(q).slice(8,-1);if(U==="Object"&&q.constructor&&(U=q.constructor.name),U==="Map"||U==="Set")return Array.from(q);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return p(q,M)}}function h(q){if(typeof Symbol<"u"&&Symbol.iterator in Object(q))return Array.from(q)}function f(q){if(Array.isArray(q))return p(q)}function p(q,M){(M==null||M>q.length)&&(M=q.length);for(var U=0,$=new Array(M);U<M;U++)$[U]=q[U];return $}function m(){return m=Object.assign||function(q){for(var M=1;M<arguments.length;M++){var U=arguments[M];for(var $ in U)Object.prototype.hasOwnProperty.call(U,$)&&(q[$]=U[$])}return q},m.apply(this,arguments)}function g(q,M){if(q==null)return{};var U=v(q,M),$,X;if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(q);for(X=0;X<Q.length;X++)$=Q[X],!(M.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(q,$)&&(U[$]=q[$])}return U}function v(q,M){if(q==null)return{};var U={},$=Object.keys(q),X,Q;for(Q=0;Q<$.length;Q++)X=$[Q],!(M.indexOf(X)>=0)&&(U[X]=q[X]);return U}function x(q,M){var U=Object.keys(q);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(q);M&&($=$.filter(function(X){return Object.getOwnPropertyDescriptor(q,X).enumerable})),U.push.apply(U,$)}return U}function b(q){for(var M=1;M<arguments.length;M++){var U=arguments[M]!=null?arguments[M]:{};M%2?x(Object(U),!0).forEach(function($){O(q,$,U[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(U)):x(Object(U)).forEach(function($){Object.defineProperty(q,$,Object.getOwnPropertyDescriptor(U,$))})}return q}function y(q,M){if(!(q instanceof M))throw new TypeError("Cannot call a class as a function")}function C(q,M){for(var U=0;U<M.length;U++){var $=M[U];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(q,$.key,$)}}function S(q,M,U){return M&&C(q.prototype,M),q}function _(q,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(M&&M.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),M&&E(q,M)}function E(q,M){return E=Object.setPrototypeOf||function($,X){return $.__proto__=X,$},E(q,M)}function A(q){var M=L();return function(){var $=D(q),X;if(M){var Q=D(this).constructor;X=Reflect.construct($,arguments,Q)}else X=$.apply(this,arguments);return T(this,X)}}function T(q,M){return M&&(e(M)==="object"||typeof M=="function")?M:F(q)}function F(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function D(q){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(U){return U.__proto__||Object.getPrototypeOf(U)},D(q)}function O(q,M,U){return M in q?Object.defineProperty(q,M,{value:U,enumerable:!0,configurable:!0,writable:!0}):q[M]=U,q}var I=["onChange","onOpen","onClose","onMonthChange","onYearChange","onReady","onValueUpdate","onDayCreate"],B=n.default.oneOfType([n.default.func,n.default.arrayOf(n.default.func)]),z=["onCreate","onDestroy"],V=n.default.func,W=function(q){_(U,q);var M=A(U);function U(){var $;y(this,U);for(var X=arguments.length,Q=new Array(X),se=0;se<X;se++)Q[se]=arguments[se];return $=M.call.apply(M,[this].concat(Q)),O(F($),"createFlatpickrInstance",function(){var le=b({onClose:function(){$.node.blur&&$.node.blur()}},$.props.options);le=Y(le,$.props),$.flatpickr=(0,a.default)($.node,le),$.props.hasOwnProperty("value")&&$.flatpickr.setDate($.props.value,!1);var ue=$.props.onCreate;ue&&ue($.flatpickr)}),O(F($),"destroyFlatpickrInstance",function(){var le=$.props.onDestroy;le&&le($.flatpickr),$.flatpickr.destroy(),$.flatpickr=null}),O(F($),"handleNodeChange",function(le){$.node=le,$.flatpickr&&($.destroyFlatpickrInstance(),$.createFlatpickrInstance())}),$}return S(U,[{key:"componentDidUpdate",value:function(X){var Q=this.props.options,se=X.options;Q=Y(Q,this.props),se=Y(se,X);for(var le=Object.getOwnPropertyNames(Q),ue=le.length-1;ue>=0;ue--){var ye=le[ue],Ne=Q[ye];Ne!==se[ye]&&(I.indexOf(ye)!==-1&&!Array.isArray(Ne)&&(Ne=[Ne]),this.flatpickr.set(ye,Ne))}this.props.hasOwnProperty("value")&&!(this.props.value&&Array.isArray(this.props.value)&&X.value&&Array.isArray(X.value)&&this.props.value.every(function(Le,Ie){X[Ie]}))&&this.props.value!==X.value&&this.flatpickr.setDate(this.props.value,!1)}},{key:"componentDidMount",value:function(){this.createFlatpickrInstance()}},{key:"componentWillUnmount",value:function(){this.destroyFlatpickrInstance()}},{key:"render",value:function(){var X=this.props,Q=X.options,se=X.defaultValue,le=X.value,ue=X.children,ye=X.render,Ne=g(X,["options","defaultValue","value","children","render"]);return I.forEach(function(Le){delete Ne[Le]}),z.forEach(function(Le){delete Ne[Le]}),ye?ye(b(b({},Ne),{},{defaultValue:se,value:le}),this.handleNodeChange):Q.wrap?t.default.createElement("div",m({},Ne,{ref:this.handleNodeChange}),ue):t.default.createElement("input",m({},Ne,{defaultValue:se,ref:this.handleNodeChange}))}}]),U}(t.Component);O(W,"propTypes",{defaultValue:n.default.string,options:n.default.object,onChange:B,onOpen:B,onClose:B,onMonthChange:B,onYearChange:B,onReady:B,onValueUpdate:B,onDayCreate:B,onCreate:V,onDestroy:V,value:n.default.oneOfType([n.default.string,n.default.array,n.default.object,n.default.number]),children:n.default.node,className:n.default.string,render:n.default.func}),O(W,"defaultProps",{options:{}});function Y(q,M){var U=b({},q);return I.forEach(function($){if(M.hasOwnProperty($)){var X;U[$]&&!Array.isArray(U[$])?U[$]=[U[$]]:U[$]||(U[$]=[]);var Q=Array.isArray(M[$])?M[$]:[M[$]];(X=U[$]).push.apply(X,c(Q))}}),U}var G=W;r.default=G})(CP);const hJ=Fo(CP);function fJ(){const[r,e]=w.useState(!1),t=[{value:"marketing",label:"Marketing"},{value:"template",label:"Template"},{value:"development",label:"Development"}],n=l=>{console.log("Selected value:",l)},[a,s]=w.useState(""),i=l=>{s(l[0].toLocaleDateString())};return o.jsx(ar,{title:"Default Inputs",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Te,{htmlFor:"input",children:"Input"}),o.jsx(st,{type:"text",id:"input"})]}),o.jsxs("div",{children:[o.jsx(Te,{htmlFor:"inputTwo",children:"Input with Placeholder"}),o.jsx(st,{type:"text",id:"inputTwo",placeholder:"info@gmail.com"})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Select Input"}),o.jsx(Jt,{options:t,placeholder:"Select an option",onChange:n,className:"dark:bg-dark-900"})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Password Input"}),o.jsxs("div",{className:"relative",children:[o.jsx(st,{type:r?"text":"password",placeholder:"Enter your password"}),o.jsx("button",{onClick:()=>e(!r),className:"absolute z-30 -translate-y-1/2 cursor-pointer right-4 top-1/2",children:r?o.jsx(Mo,{className:"fill-gray-500 dark:fill-gray-400 size-5"}):o.jsx(Hl,{className:"fill-gray-500 dark:fill-gray-400 size-5"})})]})]}),o.jsxs("div",{children:[o.jsx(Te,{htmlFor:"datePicker",children:"Date Picker Input"}),o.jsxs("div",{className:"relative w-full flatpickr-wrapper",children:[o.jsx(hJ,{value:a,onChange:i,options:{dateFormat:"Y-m-d"},placeholder:"Select an option",className:"h-11 w-full rounded-lg border appearance-none px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3  dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30  bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-brand-500/20 dark:border-gray-700  dark:focus:border-brand-800"}),o.jsx("span",{className:"absolute text-gray-500 -translate-y-1/2 pointer-events-none right-3 top-1/2 dark:text-gray-400",children:o.jsx(c4,{className:"size-6"})})]})]}),o.jsxs("div",{children:[o.jsx(Te,{htmlFor:"tm",children:"Time Input"}),o.jsxs("div",{className:"relative",children:[o.jsx(st,{type:"time",id:"tm",name:"tm",onChange:l=>console.log(l.target.value)}),o.jsx("span",{className:"absolute text-gray-500 -translate-y-1/2 pointer-events-none right-3 top-1/2 dark:text-gray-400",children:o.jsx(d4,{className:"size-6"})})]})]}),o.jsxs("div",{children:[o.jsx(Te,{htmlFor:"website",children:"URL do Site"}),o.jsx("div",{className:"relative",children:o.jsx(st,{type:"url",id:"website",name:"website",placeholder:"https://example.com",pattern:"^https?://.+",title:"URL must start with http:// or https://"})}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"A URL deve comear com http:// ou https://"})]}),o.jsxs("div",{children:[o.jsx(Te,{htmlFor:"tm",children:"Input with Payment"}),o.jsxs("div",{className:"relative",children:[o.jsx(st,{type:"text",placeholder:"Card number",className:"pl-[62px]"}),o.jsx("span",{className:"absolute left-0 top-1/2 flex h-11 w-[46px] -translate-y-1/2 items-center justify-center border-r border-gray-200 dark:border-gray-800",children:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"6.25",cy:"10",r:"5.625",fill:"#E80B26"}),o.jsx("circle",{cx:"13.75",cy:"10",r:"5.625",fill:"#F59D31"}),o.jsx("path",{d:"M10 14.1924C11.1508 13.1625 11.875 11.6657 11.875 9.99979C11.875 8.33383 11.1508 6.8371 10 5.80713C8.84918 6.8371 8.125 8.33383 8.125 9.99979C8.125 11.6657 8.84918 13.1625 10 14.1924Z",fill:"#FC6020"})]})})]})]})]})})}function pJ(){const r=[{code:"US",label:"+1"},{code:"GB",label:"+44"},{code:"CA",label:"+1"},{code:"AU",label:"+61"}],e=t=>{console.log("Updated phone number:",t)};return o.jsx(ar,{title:"Input Group",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Te,{children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(st,{placeholder:"info@gmail.com",type:"text",className:"pl-[62px]"}),o.jsx("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 border-r border-gray-200 px-3.5 py-3 text-gray-500 dark:border-gray-800 dark:text-gray-400",children:o.jsx(l4,{className:"size-6"})})]})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Phone"}),o.jsx(Kc,{selectPosition:"start",countries:r,placeholder:"+1 (555) 000-0000",onChange:e})]})," ",o.jsxs("div",{children:[o.jsx(Te,{children:"Phone"}),o.jsx(Kc,{selectPosition:"end",countries:r,placeholder:"+1 (555) 000-0000",onChange:e})]})]})})}function hd(r,e,t,n){function a(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?s(u.value):a(u.value).then(l,c)}d((n=n.apply(r,e||[])).next())})}const gJ=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function eh(r,e,t){const n=mJ(r),{webkitRelativePath:a}=r,s=typeof e=="string"?e:typeof a=="string"&&a.length>0?a:`./${r.name}`;return typeof n.path!="string"&&LS(n,"path",s),LS(n,"relativePath",s),n}function mJ(r){const{name:e}=r;if(e&&e.lastIndexOf(".")!==-1&&!r.type){const n=e.split(".").pop().toLowerCase(),a=gJ.get(n);a&&Object.defineProperty(r,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return r}function LS(r,e,t){Object.defineProperty(r,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const xJ=[".DS_Store","Thumbs.db"];function vJ(r){return hd(this,void 0,void 0,function*(){return vx(r)&&bJ(r.dataTransfer)?CJ(r.dataTransfer,r.type):yJ(r)?wJ(r):Array.isArray(r)&&r.every(e=>"getFile"in e&&typeof e.getFile=="function")?kJ(r):[]})}function bJ(r){return vx(r)}function yJ(r){return vx(r)&&vx(r.target)}function vx(r){return typeof r=="object"&&r!==null}function wJ(r){return u5(r.target.files).map(e=>eh(e))}function kJ(r){return hd(this,void 0,void 0,function*(){return(yield Promise.all(r.map(t=>t.getFile()))).map(t=>eh(t))})}function CJ(r,e){return hd(this,void 0,void 0,function*(){if(r.items){const t=u5(r.items).filter(a=>a.kind==="file");if(e!=="drop")return t;const n=yield Promise.all(t.map(SJ));return DS(_P(n))}return DS(u5(r.files).map(t=>eh(t)))})}function DS(r){return r.filter(e=>xJ.indexOf(e.name)===-1)}function u5(r){if(r===null)return[];const e=[];for(let t=0;t<r.length;t++){const n=r[t];e.push(n)}return e}function SJ(r){if(typeof r.webkitGetAsEntry!="function")return TS(r);const e=r.webkitGetAsEntry();return e&&e.isDirectory?NP(e):TS(r,e)}function _P(r){return r.reduce((e,t)=>[...e,...Array.isArray(t)?_P(t):[t]],[])}function TS(r,e){return hd(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof r.getAsFileSystemHandle=="function"){const s=yield r.getAsFileSystemHandle();if(s===null)throw new Error(`${r} is not a File`);if(s!==void 0){const i=yield s.getFile();return i.handle=s,eh(i)}}const n=r.getAsFile();if(!n)throw new Error(`${r} is not a File`);return eh(n,(t=e==null?void 0:e.fullPath)!==null&&t!==void 0?t:void 0)})}function jJ(r){return hd(this,void 0,void 0,function*(){return r.isDirectory?NP(r):_J(r)})}function NP(r){const e=r.createReader();return new Promise((t,n)=>{const a=[];function s(){e.readEntries(i=>hd(this,void 0,void 0,function*(){if(i.length){const l=Promise.all(i.map(jJ));a.push(l),s()}else try{const l=yield Promise.all(a);t(l)}catch(l){n(l)}}),i=>{n(i)})}s()})}function _J(r){return hd(this,void 0,void 0,function*(){return new Promise((e,t)=>{r.file(n=>{const a=eh(n,r.fullPath);e(a)},n=>{t(n)})})})}var Ib=function(r,e){if(r&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var n=r.name||"",a=(r.type||"").toLowerCase(),s=a.replace(/\/.*$/,"");return t.some(function(i){var l=i.trim().toLowerCase();return l.charAt(0)==="."?n.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):a===l})}return!0};function RS(r){return AJ(r)||EJ(r)||AP(r)||NJ()}function NJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EJ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function AJ(r){if(Array.isArray(r))return h5(r)}function MS(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function IS(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MS(Object(t),!0).forEach(function(n){EP(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):MS(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function EP(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function kp(r,e){return DJ(r)||LJ(r,e)||AP(r,e)||PJ()}function PJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AP(r,e){if(r){if(typeof r=="string")return h5(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h5(r,e)}}function h5(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function LJ(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],a=!0,s=!1,i,l;try{for(t=t.call(r);!(a=(i=t.next()).done)&&(n.push(i.value),!(e&&n.length===e));a=!0);}catch(c){s=!0,l=c}finally{try{!a&&t.return!=null&&t.return()}finally{if(s)throw l}}return n}}function DJ(r){if(Array.isArray(r))return r}var TJ=typeof Ib=="function"?Ib:Ib.default,RJ="file-invalid-type",MJ="file-too-large",IJ="file-too-small",OJ="too-many-files",FJ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),n=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:RJ,message:"File type must be ".concat(n)}},OS=function(e){return{code:MJ,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},FS=function(e){return{code:IJ,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},BJ={code:OJ,message:"Too many files"};function PP(r,e){var t=r.type==="application/x-moz-file"||TJ(r,e);return[t,t?null:FJ(e)]}function LP(r,e,t){if(Ec(r.size))if(Ec(e)&&Ec(t)){if(r.size>t)return[!1,OS(t)];if(r.size<e)return[!1,FS(e)]}else{if(Ec(e)&&r.size<e)return[!1,FS(e)];if(Ec(t)&&r.size>t)return[!1,OS(t)]}return[!0,null]}function Ec(r){return r!=null}function zJ(r){var e=r.files,t=r.accept,n=r.minSize,a=r.maxSize,s=r.multiple,i=r.maxFiles,l=r.validator;return!s&&e.length>1||s&&i>=1&&e.length>i?!1:e.every(function(c){var d=PP(c,t),u=kp(d,1),h=u[0],f=LP(c,n,a),p=kp(f,1),m=p[0],g=l?l(c):null;return h&&m&&!g})}function bx(r){return typeof r.isPropagationStopped=="function"?r.isPropagationStopped():typeof r.cancelBubble<"u"?r.cancelBubble:!1}function wm(r){return r.dataTransfer?Array.prototype.some.call(r.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!r.target&&!!r.target.files}function BS(r){r.preventDefault()}function HJ(r){return r.indexOf("MSIE")!==-1||r.indexOf("Trident/")!==-1}function UJ(r){return r.indexOf("Edge/")!==-1}function VJ(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return HJ(r)||UJ(r)}function Bi(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return e.some(function(l){return!bx(n)&&l&&l.apply(void 0,[n].concat(s)),bx(n)})}}function $J(){return"showOpenFilePicker"in window}function WJ(r){if(Ec(r)){var e=Object.entries(r).filter(function(t){var n=kp(t,2),a=n[0],s=n[1],i=!0;return DP(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(s)||!s.every(TP))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(t,n){var a=kp(n,2),s=a[0],i=a[1];return IS(IS({},t),{},EP({},s,i))},{});return[{description:"Files",accept:e}]}return r}function qJ(r){if(Ec(r))return Object.entries(r).reduce(function(e,t){var n=kp(t,2),a=n[0],s=n[1];return[].concat(RS(e),[a],RS(s))},[]).filter(function(e){return DP(e)||TP(e)}).join(",")}function YJ(r){return r instanceof DOMException&&(r.name==="AbortError"||r.code===r.ABORT_ERR)}function GJ(r){return r instanceof DOMException&&(r.name==="SecurityError"||r.code===r.SECURITY_ERR)}function DP(r){return r==="audio/*"||r==="video/*"||r==="image/*"||r==="text/*"||r==="application/*"||/\w+\/[-+.\w]+/g.test(r)}function TP(r){return/^.*\.[\w]+$/.test(r)}var XJ=["children"],ZJ=["open"],JJ=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],KJ=["refKey","onChange","onClick"];function QJ(r){return rK(r)||tK(r)||RP(r)||eK()}function eK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function rK(r){if(Array.isArray(r))return f5(r)}function Ob(r,e){return sK(r)||aK(r,e)||RP(r,e)||nK()}function nK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RP(r,e){if(r){if(typeof r=="string")return f5(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f5(r,e)}}function f5(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function aK(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],a=!0,s=!1,i,l;try{for(t=t.call(r);!(a=(i=t.next()).done)&&(n.push(i.value),!(e&&n.length===e));a=!0);}catch(c){s=!0,l=c}finally{try{!a&&t.return!=null&&t.return()}finally{if(s)throw l}}return n}}function sK(r){if(Array.isArray(r))return r}function zS(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function tn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zS(Object(t),!0).forEach(function(n){p5(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):zS(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function p5(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function yx(r,e){if(r==null)return{};var t=iK(r,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function iK(r,e){if(r==null)return{};var t={},n=Object.keys(r),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}var h3=w.forwardRef(function(r,e){var t=r.children,n=yx(r,XJ),a=f3(n),s=a.open,i=yx(a,ZJ);return w.useImperativeHandle(e,function(){return{open:s}},[s]),ft.createElement(w.Fragment,null,t(tn(tn({},i),{},{open:s})))});h3.displayName="Dropzone";var MP={disabled:!1,getFilesFromEvent:vJ,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};h3.defaultProps=MP;h3.propTypes={children:Ot.func,accept:Ot.objectOf(Ot.arrayOf(Ot.string)),multiple:Ot.bool,preventDropOnDocument:Ot.bool,noClick:Ot.bool,noKeyboard:Ot.bool,noDrag:Ot.bool,noDragEventsBubbling:Ot.bool,minSize:Ot.number,maxSize:Ot.number,maxFiles:Ot.number,disabled:Ot.bool,getFilesFromEvent:Ot.func,onFileDialogCancel:Ot.func,onFileDialogOpen:Ot.func,useFsAccessApi:Ot.bool,autoFocus:Ot.bool,onDragEnter:Ot.func,onDragLeave:Ot.func,onDragOver:Ot.func,onDrop:Ot.func,onDropAccepted:Ot.func,onDropRejected:Ot.func,onError:Ot.func,validator:Ot.func};var g5={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function f3(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=tn(tn({},MP),r),t=e.accept,n=e.disabled,a=e.getFilesFromEvent,s=e.maxSize,i=e.minSize,l=e.multiple,c=e.maxFiles,d=e.onDragEnter,u=e.onDragLeave,h=e.onDragOver,f=e.onDrop,p=e.onDropAccepted,m=e.onDropRejected,g=e.onFileDialogCancel,v=e.onFileDialogOpen,x=e.useFsAccessApi,b=e.autoFocus,y=e.preventDropOnDocument,C=e.noClick,S=e.noKeyboard,_=e.noDrag,E=e.noDragEventsBubbling,A=e.onError,T=e.validator,F=w.useMemo(function(){return qJ(t)},[t]),L=w.useMemo(function(){return WJ(t)},[t]),D=w.useMemo(function(){return typeof v=="function"?v:HS},[v]),O=w.useMemo(function(){return typeof g=="function"?g:HS},[g]),I=w.useRef(null),B=w.useRef(null),z=w.useReducer(oK,g5),V=Ob(z,2),W=V[0],Y=V[1],G=W.isFocused,q=W.isFileDialogActive,M=w.useRef(typeof window<"u"&&window.isSecureContext&&x&&$J()),U=function(){!M.current&&q&&setTimeout(function(){if(B.current){var Fe=B.current.files;Fe.length||(Y({type:"closeDialog"}),O())}},300)};w.useEffect(function(){return window.addEventListener("focus",U,!1),function(){window.removeEventListener("focus",U,!1)}},[B,q,O,M]);var $=w.useRef([]),X=function(Fe){I.current&&I.current.contains(Fe.target)||(Fe.preventDefault(),$.current=[])};w.useEffect(function(){return y&&(document.addEventListener("dragover",BS,!1),document.addEventListener("drop",X,!1)),function(){y&&(document.removeEventListener("dragover",BS),document.removeEventListener("drop",X))}},[I,y]),w.useEffect(function(){return!n&&b&&I.current&&I.current.focus(),function(){}},[I,b,n]);var Q=w.useCallback(function(De){A?A(De):console.error(De)},[A]),se=w.useCallback(function(De){De.preventDefault(),De.persist(),Ce(De),$.current=[].concat(QJ($.current),[De.target]),wm(De)&&Promise.resolve(a(De)).then(function(Fe){if(!(bx(De)&&!E)){var it=Fe.length,vt=it>0&&zJ({files:Fe,accept:F,minSize:i,maxSize:s,multiple:l,maxFiles:c,validator:T}),tt=it>0&&!vt;Y({isDragAccept:vt,isDragReject:tt,isDragActive:!0,type:"setDraggedFiles"}),d&&d(De)}}).catch(function(Fe){return Q(Fe)})},[a,d,Q,E,F,i,s,l,c,T]),le=w.useCallback(function(De){De.preventDefault(),De.persist(),Ce(De);var Fe=wm(De);if(Fe&&De.dataTransfer)try{De.dataTransfer.dropEffect="copy"}catch{}return Fe&&h&&h(De),!1},[h,E]),ue=w.useCallback(function(De){De.preventDefault(),De.persist(),Ce(De);var Fe=$.current.filter(function(vt){return I.current&&I.current.contains(vt)}),it=Fe.indexOf(De.target);it!==-1&&Fe.splice(it,1),$.current=Fe,!(Fe.length>0)&&(Y({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),wm(De)&&u&&u(De))},[I,u,E]),ye=w.useCallback(function(De,Fe){var it=[],vt=[];De.forEach(function(tt){var je=PP(tt,F),ve=Ob(je,2),Me=ve[0],Je=ve[1],pt=LP(tt,i,s),ut=Ob(pt,2),Ke=ut[0],wt=ut[1],er=T?T(tt):null;if(Me&&Ke&&!er)it.push(tt);else{var It=[Je,wt];er&&(It=It.concat(er)),vt.push({file:tt,errors:It.filter(function(fn){return fn})})}}),(!l&&it.length>1||l&&c>=1&&it.length>c)&&(it.forEach(function(tt){vt.push({file:tt,errors:[BJ]})}),it.splice(0)),Y({acceptedFiles:it,fileRejections:vt,isDragReject:vt.length>0,type:"setFiles"}),f&&f(it,vt,Fe),vt.length>0&&m&&m(vt,Fe),it.length>0&&p&&p(it,Fe)},[Y,l,F,i,s,c,f,p,m,T]),Ne=w.useCallback(function(De){De.preventDefault(),De.persist(),Ce(De),$.current=[],wm(De)&&Promise.resolve(a(De)).then(function(Fe){bx(De)&&!E||ye(Fe,De)}).catch(function(Fe){return Q(Fe)}),Y({type:"reset"})},[a,ye,Q,E]),Le=w.useCallback(function(){if(M.current){Y({type:"openDialog"}),D();var De={multiple:l,types:L};window.showOpenFilePicker(De).then(function(Fe){return a(Fe)}).then(function(Fe){ye(Fe,null),Y({type:"closeDialog"})}).catch(function(Fe){YJ(Fe)?(O(Fe),Y({type:"closeDialog"})):GJ(Fe)?(M.current=!1,B.current?(B.current.value=null,B.current.click()):Q(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Q(Fe)});return}B.current&&(Y({type:"openDialog"}),D(),B.current.value=null,B.current.click())},[Y,D,O,x,ye,Q,L,l]),Ie=w.useCallback(function(De){!I.current||!I.current.isEqualNode(De.target)||(De.key===" "||De.key==="Enter"||De.keyCode===32||De.keyCode===13)&&(De.preventDefault(),Le())},[I,Le]),et=w.useCallback(function(){Y({type:"focus"})},[]),Ee=w.useCallback(function(){Y({type:"blur"})},[]),ee=w.useCallback(function(){C||(VJ()?setTimeout(Le,0):Le())},[C,Le]),Ve=function(Fe){return n?null:Fe},Ue=function(Fe){return S?null:Ve(Fe)},ke=function(Fe){return _?null:Ve(Fe)},Ce=function(Fe){E&&Fe.stopPropagation()},ze=w.useMemo(function(){return function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Fe=De.refKey,it=Fe===void 0?"ref":Fe,vt=De.role,tt=De.onKeyDown,je=De.onFocus,ve=De.onBlur,Me=De.onClick,Je=De.onDragEnter,pt=De.onDragOver,ut=De.onDragLeave,Ke=De.onDrop,wt=yx(De,JJ);return tn(tn(p5({onKeyDown:Ue(Bi(tt,Ie)),onFocus:Ue(Bi(je,et)),onBlur:Ue(Bi(ve,Ee)),onClick:Ve(Bi(Me,ee)),onDragEnter:ke(Bi(Je,se)),onDragOver:ke(Bi(pt,le)),onDragLeave:ke(Bi(ut,ue)),onDrop:ke(Bi(Ke,Ne)),role:typeof vt=="string"&&vt!==""?vt:"presentation"},it,I),!n&&!S?{tabIndex:0}:{}),wt)}},[I,Ie,et,Ee,ee,se,le,ue,Ne,S,_,n]),Ge=w.useCallback(function(De){De.stopPropagation()},[]),dt=w.useMemo(function(){return function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Fe=De.refKey,it=Fe===void 0?"ref":Fe,vt=De.onChange,tt=De.onClick,je=yx(De,KJ),ve=p5({accept:F,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ve(Bi(vt,Ne)),onClick:Ve(Bi(tt,Ge)),tabIndex:-1},it,B);return tn(tn({},ve),je)}},[B,t,l,Ne,n]);return tn(tn({},W),{},{isFocused:G&&!n,getRootProps:ze,getInputProps:dt,rootRef:I,inputRef:B,open:Ve(Le)})}function oK(r,e){switch(e.type){case"focus":return tn(tn({},r),{},{isFocused:!0});case"blur":return tn(tn({},r),{},{isFocused:!1});case"openDialog":return tn(tn({},g5),{},{isFileDialogActive:!0});case"closeDialog":return tn(tn({},r),{},{isFileDialogActive:!1});case"setDraggedFiles":return tn(tn({},r),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return tn(tn({},r),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return tn({},g5);default:return r}}function HS(){}const lK=()=>{const r=a=>{console.log("Files dropped:",a)},{getRootProps:e,getInputProps:t,isDragActive:n}=f3({onDrop:r,accept:{"image/png":[],"image/jpeg":[],"image/webp":[],"image/svg+xml":[]}});return o.jsx(ar,{title:"Dropzone",children:o.jsx("div",{className:"transition border border-gray-300 border-dashed cursor-pointer dark:hover:border-brand-500 dark:border-gray-700 rounded-xl hover:border-brand-500",children:o.jsxs("form",{...e(),className:`dropzone rounded-xl   border-dashed border-gray-300 p-7 lg:p-10
        ${n?"border-brand-500 bg-gray-100 dark:bg-gray-800":"border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-900"}
      `,id:"demo-upload",children:[o.jsx("input",{...t()}),o.jsxs("div",{className:"dz-message flex flex-col items-center m-0!",children:[o.jsx("div",{className:"mb-[22px] flex justify-center",children:o.jsx("div",{className:"flex h-[68px] w-[68px]  items-center justify-center rounded-full bg-gray-200 text-gray-700 dark:bg-gray-800 dark:text-gray-400",children:o.jsx("svg",{className:"fill-current",width:"29",height:"28",viewBox:"0 0 29 28",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5019 3.91699C14.2852 3.91699 14.0899 4.00891 13.953 4.15589L8.57363 9.53186C8.28065 9.82466 8.2805 10.2995 8.5733 10.5925C8.8661 10.8855 9.34097 10.8857 9.63396 10.5929L13.7519 6.47752V18.667C13.7519 19.0812 14.0877 19.417 14.5019 19.417C14.9161 19.417 15.2519 19.0812 15.2519 18.667V6.48234L19.3653 10.5929C19.6583 10.8857 20.1332 10.8855 20.426 10.5925C20.7188 10.2995 20.7186 9.82463 20.4256 9.53184L15.0838 4.19378C14.9463 4.02488 14.7367 3.91699 14.5019 3.91699ZM5.91626 18.667C5.91626 18.2528 5.58047 17.917 5.16626 17.917C4.75205 17.917 4.41626 18.2528 4.41626 18.667V21.8337C4.41626 23.0763 5.42362 24.0837 6.66626 24.0837H22.3339C23.5766 24.0837 24.5839 23.0763 24.5839 21.8337V18.667C24.5839 18.2528 24.2482 17.917 23.8339 17.917C23.4197 17.917 23.0839 18.2528 23.0839 18.667V21.8337C23.0839 22.2479 22.7482 22.5837 22.3339 22.5837H6.66626C6.25205 22.5837 5.91626 22.2479 5.91626 21.8337V18.667Z"})})})}),o.jsx("h4",{className:"mb-3 font-semibold text-gray-800 text-theme-xl dark:text-white/90",children:n?"Drop Files Here":"Drag & Drop Files Here"}),o.jsx("span",{className:" text-center mb-5 block w-full max-w-[290px] text-sm text-gray-700 dark:text-gray-400",children:"Drag and drop your PNG, JPG, WebP, SVG images here or browse"}),o.jsx("span",{className:"font-medium underline text-theme-sm text-brand-500",children:"Browse File"})]})]})})})},$c=({label:r,checked:e,id:t,onChange:n,className:a="",disabled:s=!1})=>o.jsxs("label",{className:`flex items-center space-x-3 group cursor-pointer ${s?"cursor-not-allowed opacity-60":""}`,children:[o.jsxs("div",{className:"relative w-5 h-5",children:[o.jsx("input",{id:t,type:"checkbox",className:`w-5 h-5 appearance-none cursor-pointer dark:border-gray-700 border border-gray-300 checked:border-transparent rounded-md checked:bg-brand-500 disabled:opacity-60 
          ${a}`,checked:e,onChange:i=>n(i.target.checked),disabled:s}),e&&o.jsx("svg",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 pointer-events-none top-1/2 left-1/2",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:o.jsx("path",{d:"M11.6666 3.5L5.24992 9.91667L2.33325 7",stroke:"white",strokeWidth:"1.94437",strokeLinecap:"round",strokeLinejoin:"round"})}),s&&o.jsx("svg",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 pointer-events-none top-1/2 left-1/2",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:o.jsx("path",{d:"M11.6666 3.5L5.24992 9.91667L2.33325 7",stroke:"#E4E7EC",strokeWidth:"2.33333",strokeLinecap:"round",strokeLinejoin:"round"})})]}),r&&o.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:r})]});function cK(){const[r,e]=w.useState(!1),[t,n]=w.useState(!0),[a,s]=w.useState(!1);return o.jsx(ar,{title:"Checkbox",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx($c,{checked:r,onChange:e}),o.jsx("span",{className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Default"})]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsx($c,{checked:t,onChange:n,label:"Checked"})}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsx($c,{checked:a,onChange:s,disabled:!0,label:"Disabled"})})]})})}const i0=({id:r,name:e,value:t,checked:n,label:a,onChange:s,className:i="",disabled:l=!1})=>o.jsxs("label",{htmlFor:r,className:`relative flex cursor-pointer  select-none items-center gap-3 text-sm font-medium ${l?"text-gray-300 dark:text-gray-600 cursor-not-allowed":"text-gray-700 dark:text-gray-400"} ${i}`,children:[o.jsx("input",{id:r,name:e,type:"radio",value:t,checked:n,onChange:()=>!l&&s(t),className:"sr-only",disabled:l}),o.jsx("span",{className:`flex h-5 w-5 items-center justify-center rounded-full border-[1.25px] ${n?"border-brand-500 bg-brand-500":"bg-transparent border-gray-300 dark:border-gray-700"} ${l?"bg-gray-100 dark:bg-gray-700 border-gray-200 dark:border-gray-700":""}`,children:o.jsx("span",{className:`h-2 w-2 rounded-full bg-white ${n?"block":"hidden"}`})}),a]});function dK(){const[r,e]=w.useState("option2"),t=n=>{e(n)};return o.jsx(ar,{title:"Radio Buttons",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-8",children:[o.jsx(i0,{id:"radio1",name:"group1",value:"option1",checked:r==="option1",onChange:t,label:"Default"}),o.jsx(i0,{id:"radio2",name:"group1",value:"option2",checked:r==="option2",onChange:t,label:"Selected"}),o.jsx(i0,{id:"radio3",name:"group1",value:"option3",checked:r==="option3",onChange:t,label:"Disabled",disabled:!0})]})})}function uK(){const r=e=>{console.log("Switch is now:",e?"ON":"OFF")};return o.jsxs(ar,{title:"Toggle switch input",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx(Lr,{label:"Default",defaultChecked:!0,onChange:r}),o.jsx(Lr,{label:"Checked",defaultChecked:!0,onChange:r}),o.jsx(Lr,{label:"Disabled",disabled:!0})]})," ",o.jsxs("div",{className:"flex gap-4",children:[o.jsx(Lr,{label:"Default",defaultChecked:!0,onChange:r,color:"gray"}),o.jsx(Lr,{label:"Checked",defaultChecked:!0,onChange:r,color:"gray"}),o.jsx(Lr,{label:"Disabled",disabled:!0,color:"gray"})]})]})}const IP=({className:r,onChange:e})=>o.jsx("input",{type:"file",className:`focus:border-ring-brand-300 h-11 w-full overflow-hidden rounded-lg border border-gray-300 bg-transparent text-sm text-gray-500 shadow-theme-xs transition-colors file:mr-5 file:border-collapse file:cursor-pointer file:rounded-l-lg file:border-0 file:border-r file:border-solid file:border-gray-200 file:bg-gray-50 file:py-3 file:pl-3.5 file:pr-3 file:text-sm file:text-gray-700 placeholder:text-gray-400 hover:file:bg-gray-100 focus:outline-hidden focus:file:ring-brand-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-400 dark:text-white/90 dark:file:border-gray-800 dark:file:bg-white/[0.03] dark:file:text-gray-400 dark:placeholder:text-gray-400 ${r}`,onChange:e});function hK(){const r=e=>{var n;const t=(n=e.target.files)==null?void 0:n[0];t&&console.log("Selected file:",t.name)};return o.jsx(ar,{title:"File Input",children:o.jsxs("div",{children:[o.jsx(Te,{children:"Upload file"}),o.jsx(IP,{onChange:r,className:"custom-class"})]})})}const OP=({label:r,options:e,defaultSelected:t=[],onChange:n,disabled:a=!1,maxSelections:s})=>{const[i,l]=w.useState(t),[c,d]=w.useState(!1),[u,h]=w.useState(""),f=w.useRef(null);w.useEffect(()=>{const b=y=>{f.current&&!f.current.contains(y.target)&&d(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const p=()=>{a||d(b=>!b)},m=b=>{const y=i.includes(b)?i.filter(C=>C!==b):s&&i.length>=s?i:[...i,b];l(y),n==null||n(y)},g=(b,y)=>{y.stopPropagation();const C=i.filter(S=>S!==b);l(C),n==null||n(C)},v=e.filter(b=>b.text.toLowerCase().includes(u.toLowerCase())),x=i.map(b=>{var y;return((y=e.find(C=>C.value===b))==null?void 0:y.text)||""});return o.jsxs("div",{className:"w-full",ref:f,children:[r&&o.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",children:r}),o.jsx("div",{className:"relative z-20 inline-block w-full",children:o.jsxs("div",{className:"relative flex flex-col items-center",children:[o.jsx("div",{onClick:p,className:"w-full",children:o.jsxs("div",{className:"mb-2 flex h-11 rounded-lg border border-gray-300 py-1.5 pl-3 pr-3 shadow-theme-xs outline-hidden transition focus:border-brand-300 focus:shadow-focus-ring dark:border-gray-700 dark:bg-gray-900 dark:focus:border-brand-300",children:[o.jsx("div",{className:"flex flex-wrap flex-auto gap-2",children:x.length>0?x.map((b,y)=>o.jsxs("div",{className:"group flex items-center justify-center rounded-full border-[0.7px] border-transparent bg-gray-100 py-1 pl-2.5 pr-2 text-sm text-gray-800 hover:border-gray-200 dark:bg-gray-800 dark:text-white/90 dark:hover:border-gray-800",children:[o.jsx("span",{className:"flex-initial max-w-full",children:b}),o.jsx("div",{className:"flex flex-row-reverse flex-auto",children:o.jsx("div",{onClick:C=>g(i[y],C),className:"pl-2 text-gray-500 cursor-pointer group-hover:text-gray-400 dark:text-gray-400",children:o.jsx("svg",{className:"fill-current",role:"button",width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.40717 4.46881C3.11428 4.17591 3.11428 3.70104 3.40717 3.40815C3.70006 3.11525 4.17494 3.11525 4.46783 3.40815L6.99943 5.93975L9.53095 3.40822C9.82385 3.11533 10.2987 3.11533 10.5916 3.40822C10.8845 3.70112 10.8845 4.17599 10.5916 4.46888L8.06009 7.00041L10.5916 9.53193C10.8845 9.82482 10.8845 10.2997 10.5916 10.5926C10.2987 10.8855 9.82385 10.8855 9.53095 10.5926L6.99943 8.06107L4.46783 10.5927C4.17494 10.8856 3.70006 10.8856 3.40717 10.5927C3.11428 10.2998 3.11428 9.8249 3.40717 9.53201L5.93877 7.00041L3.40717 4.46881Z"})})})})]},y)):o.jsx("input",{placeholder:"Select option",className:"w-full h-full p-1 pr-2 text-sm bg-transparent border-0 outline-hidden appearance-none placeholder:text-gray-800 focus:border-0 focus:outline-hidden focus:ring-0 dark:placeholder:text-white/90",readOnly:!0,value:"Select option"})}),o.jsx("div",{className:"flex items-center py-1 pl-1 pr-1 w-7",children:o.jsx("button",{type:"button",onClick:p,className:"w-5 h-5 text-gray-700 outline-hidden cursor-pointer focus:outline-hidden dark:text-gray-400",children:o.jsx("svg",{className:`stroke-current ${c?"rotate-180":""}`,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.79175 7.39551L10.0001 12.6038L15.2084 7.39551",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})})]})}),c&&o.jsxs("div",{className:"absolute left-0 z-40 w-full overflow-y-auto bg-white rounded-lg shadow-sm top-full max-h-60 dark:bg-gray-900",children:[o.jsx("div",{className:"p-2",children:o.jsx("input",{type:"text",value:u,onChange:b=>h(b.target.value),placeholder:"Search...",className:"w-full p-2 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg"})}),o.jsxs("div",{className:"flex flex-col text-sm",children:[v.map((b,y)=>o.jsx("div",{className:"hover:bg-primary/5 w-full cursor-pointer rounded-t border-b border-gray-200 dark:border-gray-800",onClick:()=>m(b.value),children:o.jsxs("div",{className:`relative flex w-full items-center p-2 pl-2 ${i.includes(b.value)?"bg-primary/10":""}`,children:[o.jsx("div",{className:"mx-2 leading-6 text-gray-800 dark:text-white/90",children:b.text}),s&&!i.includes(b.value)&&i.length>=s&&o.jsx("div",{className:"ml-auto text-xs text-gray-500 dark:text-gray-400",children:"(Limite atingido)"})]})},y)),v.length===0&&o.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400 text-center",children:"No options found"})]})]})]})}),s&&o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:i.length===s?o.jsxs("span",{className:"text-warning-500",children:["Mximo de ",s," selees atingido"]}):`Voc pode selecionar at ${s} ${s===1?"opo":"opes"}`})]})};function fK(){const r=[{value:"marketing",label:"Marketing"},{value:"template",label:"Template"},{value:"development",label:"Development"}],e=s=>{console.log("Selected value:",s)},[t,n]=w.useState([]),a=[{value:"1",text:"Option 1",selected:!1},{value:"2",text:"Option 2",selected:!1},{value:"3",text:"Option 3",selected:!1},{value:"4",text:"Option 4",selected:!1},{value:"5",text:"Option 5",selected:!1}];return o.jsx(ar,{title:"Select Inputs",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Te,{children:"Select Input"}),o.jsx(Jt,{options:r,placeholder:"Select Option",onChange:e,className:"dark:bg-dark-900"})]}),o.jsxs("div",{children:[o.jsx(OP,{label:"Multiple Select Options",options:a,defaultSelected:["1","3"],onChange:s=>n(s)}),o.jsxs("p",{className:"sr-only",children:["Selected Values: ",t.join(", ")]})]})]})})}const Zi=({placeholder:r="Enter your message",rows:e=3,value:t="",onChange:n,className:a="",disabled:s=!1,error:i=!1,hint:l="",required:c=!1,name:d})=>{const u=f=>{n&&n(f.target.value)};let h=`w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs focus:outline-hidden ${a} `;return s?h+=" bg-gray-100 opacity-50 text-gray-500 border-gray-300 cursor-not-allowed opacity40 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700":i?h+=" bg-transparent  border-gray-300 focus:border-error-300 focus:ring-3 focus:ring-error-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-error-800":h+=" bg-transparent text-gray-900 dark:text-gray-300 text-gray-900 border-gray-300 focus:border-brand-300 focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800",o.jsxs("div",{className:"relative",children:[o.jsx("textarea",{placeholder:r,rows:e,value:t,onChange:u,disabled:s,className:h,required:c,name:d}),l&&o.jsx("p",{className:`mt-2 text-sm ${i?"text-error-500":"text-gray-500 dark:text-gray-400"}`,children:l})]})};function pK(){const[r,e]=w.useState(""),[t,n]=w.useState("");return o.jsx(ar,{title:"Textarea input field",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Te,{children:"Description"}),o.jsx(Zi,{value:r,onChange:a=>e(a),rows:6})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Description"}),o.jsx(Zi,{rows:6,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Description"}),o.jsx(Zi,{rows:6,value:t,error:!0,onChange:a=>n(a),hint:"Please enter a valid message."})]})]})})}function gK(){const[r,e]=w.useState(""),[t,n]=w.useState(""),[a,s]=w.useState(!1),i=d=>{const u=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(d);return s(!u),u},l=d=>{const u=d.target.value;e(u),i(u)},c=d=>{const u=d.target.value;n(u),i(u)};return o.jsx(ar,{title:"Input States",desc:"Validation styles for error, success and disabled states on form controls.",children:o.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[o.jsxs("div",{children:[o.jsx(Te,{children:"Email"}),o.jsx(st,{type:"email",value:r,error:a,onChange:l,placeholder:"Enter your email",hint:a?"This is an invalid email address.":""})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Email"}),o.jsx(st,{type:"email",value:t,success:!a,onChange:c,placeholder:"Enter your email",hint:a?"":"This is an success message."})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Email"}),o.jsx(st,{type:"text",value:"disabled@example.com",disabled:!0,placeholder:"Disabled email"})]})]})})}function mK(){return o.jsxs("div",{children:[o.jsx(Yt,{title:"React.js Form Elements Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Form Elements  Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),o.jsx(kr,{pageTitle:"From Elements"}),o.jsxs("div",{className:"grid grid-cols-1 gap-6 xl:grid-cols-2",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx(fJ,{}),o.jsx(fK,{}),o.jsx(pK,{}),o.jsx(gK,{})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(pJ,{}),o.jsx(hK,{}),o.jsx(cK,{}),o.jsx(dK,{}),o.jsx(uK,{}),o.jsx(lK,{})]})]})]})}function xK(){return o.jsxs("div",{children:[o.jsx(Yt,{title:"React.js Blank Dashboard | TailAdmin - Next.js Admin Dashboard Template",description:"This is React.js Blank Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),o.jsx(kr,{pageTitle:"Blank Page"}),o.jsx("div",{className:"min-h-screen rounded-2xl border border-gray-200 bg-white px-5 py-7 dark:border-gray-800 dark:bg-white/[0.03] xl:px-10 xl:py-12",children:o.jsxs("div",{className:"mx-auto w-full max-w-[630px] text-center",children:[o.jsx("h3",{className:"mb-4 font-semibold text-gray-800 text-theme-xl dark:text-white/90 sm:text-2xl",children:"Card Title Here"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 sm:text-base",children:"Start putting content on grids or panels, you can also use different combinations of grids.Please check out the dashboard and other pages"})]})})]})}const FP=w.createContext(void 0),p3=()=>{const r=w.useContext(FP);if(!r)throw new Error("useSidebar must be used within a SidebarProvider");return r},vK=({children:r})=>{const[e,t]=w.useState(!0),[n,a]=w.useState(!1),[s,i]=w.useState(!1);w.useEffect(()=>{const d=()=>{window.innerWidth>=1280&&a(!1)};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const l=()=>{t(d=>!d)},c=()=>{a(d=>!d)};return o.jsx(FP.Provider,{value:{isExpanded:e,isMobileOpen:n,isHovered:s,toggleSidebar:l,toggleMobileSidebar:c,setIsHovered:i},children:r})},US={light:"/images/logo/logo.svg",dark:"/images/logo/logo-dark.svg",icon:"/images/logo/logo-icon.svg"};function g3(){const[r,e]=w.useState(US),[t,n]=w.useState(!0);w.useEffect(()=>{a();const s=K.channel("settings_changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"settings"},()=>{a()}).subscribe();return()=>{K.removeChannel(s)}},[]);async function a(){try{const{data:s}=await K.from("settings").select("light_logo, dark_logo, platform_icon").single();if(s){const i={...US};if(s.light_logo){const{data:l}=K.storage.from("logos").getPublicUrl(s.light_logo);l&&(i.light=l.publicUrl)}if(s.dark_logo){const{data:l}=K.storage.from("logos").getPublicUrl(s.dark_logo);l&&(i.dark=l.publicUrl)}if(s.platform_icon){const{data:l}=K.storage.from("logos").getPublicUrl(s.platform_icon);l&&(i.icon=l.publicUrl)}e(i)}}catch(s){console.error("Erro ao carregar logos:",s)}finally{n(!1)}}return{logos:r,loading:t}}function bK({logos:r,loading:e}){return o.jsx(Sn,{to:"/",className:"lg:hidden",children:e?o.jsx("div",{className:"h-8 w-32 bg-gray-200 animate-pulse rounded dark:bg-gray-800"}):o.jsxs(o.Fragment,{children:[o.jsx("img",{className:"dark:hidden h-8",src:r.light,alt:"Logo"}),o.jsx("img",{className:"hidden dark:block h-8",src:r.dark,alt:"Logo"})]})})}function yK(){const r=w.useRef(null);return w.useEffect(()=>{const e=t=>{var n;(t.metaKey||t.ctrlKey)&&t.key==="k"&&(t.preventDefault(),(n=r.current)==null||n.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),o.jsx("div",{className:"hidden lg:block",children:o.jsx("form",{children:o.jsxs("div",{className:"relative",children:[o.jsx("button",{className:"absolute -translate-y-1/2 pointer-events-none left-4 top-1/2",children:o.jsx("svg",{className:"fill-gray-500 dark:fill-gray-400",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.04175 9.37363C3.04175 5.87693 5.87711 3.04199 9.37508 3.04199C12.8731 3.04199 15.7084 5.87693 15.7084 9.37363C15.7084 12.8703 12.8731 15.7053 9.37508 15.7053C5.87711 15.7053 3.04175 12.8703 3.04175 9.37363ZM9.37508 1.54199C5.04902 1.54199 1.54175 5.04817 1.54175 9.37363C1.54175 13.6991 5.04902 17.2053 9.37508 17.2053C11.2674 17.2053 13.003 16.5344 14.357 15.4176L17.177 18.238C17.4699 18.5309 17.9448 18.5309 18.2377 18.238C18.5306 17.9451 18.5306 17.4703 18.2377 17.1774L15.418 14.3573C16.5365 13.0033 17.2084 11.2669 17.2084 9.37363C17.2084 5.04817 13.7011 1.54199 9.37508 1.54199Z",fill:""})})}),o.jsx("input",{ref:r,type:"text",placeholder:"Pesquisar ou digitar comando...",className:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-200 bg-transparent py-2.5 pl-12 pr-14 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-800 dark:bg-gray-900 dark:bg-white/[0.03] dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 xl:w-[430px]"}),o.jsxs("button",{className:"absolute right-2.5 top-1/2 inline-flex -translate-y-1/2 items-center gap-0.5 rounded-lg border border-gray-200 bg-gray-50 px-[7px] py-[4.5px] text-xs -tracking-[0.2px] text-gray-500 dark:border-gray-800 dark:bg-white/[0.03] dark:text-gray-400",children:[o.jsx("span",{children:"  "}),o.jsx("span",{children:" K "})]})]})})})}const VS=({tag:r="button",to:e,onClick:t,onItemClick:n,baseClassName:a="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",className:s="",children:i})=>{const l=`${a} ${s}`.trim(),c=d=>{r==="button"&&d.preventDefault(),t&&t(),n&&n()};return r==="a"&&e?o.jsx(Sn,{to:e,className:l,onClick:c,children:i}):o.jsx("button",{onClick:c,className:l,children:i})},wK=({isOpen:r,onClose:e,children:t,className:n=""})=>{const a=w.useRef(null);return w.useEffect(()=>{const s=i=>{a.current&&!a.current.contains(i.target)&&!i.target.closest(".dropdown-toggle")&&e()};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[e]),r?o.jsx("div",{ref:a,className:`submenu-header absolute z-40 right-0 mt-2 rounded-xl border border-gray-200 bg-white shadow-theme-lg dark:border-gray-800 dark:bg-gray-dark ${n}`,children:t}):null};function kK(){const[r,e]=w.useState(!1),[t,n]=w.useState(!1),[a,s]=w.useState(null),[i,l]=w.useState(null),c=mr();w.useEffect(()=>{d()},[]);async function d(){try{const{data:{user:v}}=await K.auth.getUser();if(!v)return;const{data:x}=await K.from("admins").select("id, first_name, last_name, email, is_first_admin").eq("id",v.id).maybeSingle();if(x){s(x),l("admin");return}const{data:b,error:y}=await K.from("platform_users").select("id, first_name, last_name, email, role").eq("id",v.id).single();if(y)throw y;s(b),l("platform")}catch(v){console.error("Erro ao carregar perfil:",v)}}function u(){e(!r)}function h(){e(!1)}const f=async()=>{try{n(!0),await s1(),c("/",{replace:!0})}catch(v){console.error("Erro ao sair:",v)}finally{n(!1)}},p=()=>i==="admin"?"/profile":i==="platform"?a.role==="publisher"?"/publisher/profile":"/advertiser/profile":"/",m=()=>i==="admin"?"/settings":i==="platform"?a.role==="publisher"?"/publisher/settings":"/advertiser/settings":"/";if(!a)return null;const g=`${a.first_name} ${a.last_name}`;return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:u,className:"flex items-center text-gray-700 dropdown-toggle dark:text-gray-400",children:[o.jsx("span",{className:"mr-3",children:o.jsx(n4,{userId:a.id,name:g,size:"sm"})}),o.jsx("span",{className:"block mr-1 font-medium text-theme-sm",children:a.first_name}),o.jsx("svg",{className:`stroke-gray-500 dark:stroke-gray-400 transition-transform duration-200 ${r?"rotate-180":""}`,width:"18",height:"20",viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.3125 8.65625L9 13.3437L13.6875 8.65625",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),o.jsxs(wK,{isOpen:r,onClose:h,className:"absolute right-0 mt-[17px] flex w-[260px] flex-col rounded-2xl border border-gray-200 bg-white p-3 shadow-theme-lg dark:border-gray-800 dark:bg-gray-dark",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"block font-medium text-gray-700 text-theme-sm dark:text-gray-400",children:[a.first_name," ",a.last_name]}),o.jsx("span",{className:"mt-0.5 block text-theme-xs text-gray-500 dark:text-gray-400",children:a.email})]}),o.jsxs("ul",{className:"flex flex-col gap-1 pt-3 pb-3 border-t border-b border-gray-200 dark:border-gray-800",children:[o.jsx("li",{children:o.jsxs(VS,{onItemClick:h,tag:"a",to:p(),className:"flex items-center gap-3 px-3 py-2 font-medium text-gray-700 rounded-lg group text-theme-sm hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-white/5 dark:hover:text-gray-300",children:[o.jsx("svg",{className:"fill-gray-500 group-hover:fill-gray-700 dark:fill-gray-400 dark:group-hover:fill-gray-300",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 14.1526 4.3002 16.1184 5.61936 17.616C6.17279 15.3096 8.24852 13.5955 10.7246 13.5955H13.2746C15.7509 13.5955 17.8268 15.31 18.38 17.6167C19.6996 16.119 20.5 14.153 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5ZM17.0246 18.8566V18.8455C17.0246 16.7744 15.3457 15.0955 13.2746 15.0955H10.7246C8.65354 15.0955 6.97461 16.7744 6.97461 18.8455V18.856C8.38223 19.8895 10.1198 20.5 12 20.5C13.8798 20.5 15.6171 19.8898 17.0246 18.8566ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM11.9991 7.25C10.8847 7.25 9.98126 8.15342 9.98126 9.26784C9.98126 10.3823 10.8847 11.2857 11.9991 11.2857C13.1135 11.2857 14.0169 10.3823 14.0169 9.26784C14.0169 8.15342 13.1135 7.25 11.9991 7.25ZM8.48126 9.26784C8.48126 7.32499 10.0563 5.75 11.9991 5.75C13.9419 5.75 15.5169 7.32499 15.5169 9.26784C15.5169 11.2107 13.9419 12.7857 11.9991 12.7857C10.0563 12.7857 8.48126 11.2107 8.48126 9.26784Z"})}),"Minha Conta"]})}),i==="admin"&&o.jsx("li",{children:o.jsxs(VS,{onItemClick:h,tag:"a",to:m(),className:"flex items-center gap-3 px-3 py-2 font-medium text-gray-700 rounded-lg group text-theme-sm hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-white/5 dark:hover:text-gray-300",children:[o.jsx(h4,{className:"w-5 h-5"}),"Configuraes"]})})]}),o.jsxs("button",{onClick:f,disabled:t,className:"flex items-center gap-3 px-3 py-2 mt-3 font-medium text-gray-700 rounded-lg group text-theme-sm hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-white/5 dark:hover:text-gray-300",children:[o.jsx("svg",{className:"fill-gray-500 group-hover:fill-gray-700 dark:group-hover:fill-gray-300",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1007 19.247C14.6865 19.247 14.3507 18.9112 14.3507 18.497L14.3507 14.245H12.8507V18.497C12.8507 19.7396 13.8581 20.747 15.1007 20.747H18.5007C19.7434 20.747 20.7507 19.7396 20.7507 18.497L20.7507 5.49609C20.7507 4.25345 19.7433 3.24609 18.5007 3.24609H15.1007C13.8581 3.24609 12.8507 4.25345 12.8507 5.49609V9.74501L14.3507 9.74501V5.49609C14.3507 5.08188 14.6865 4.74609 15.1007 4.74609L18.5007 4.74609C18.9149 4.74609 19.2507 5.08188 19.2507 5.49609L19.2507 18.497C19.2507 18.9112 18.9149 19.247 18.5007 19.247H15.1007ZM3.25073 11.9984C3.25073 12.2144 3.34204 12.4091 3.48817 12.546L8.09483 17.1556C8.38763 17.4485 8.86251 17.4487 9.15549 17.1559C9.44848 16.8631 9.44863 16.3882 9.15583 16.0952L5.81116 12.7484L16.0007 12.7484C16.4149 12.7484 16.7507 12.4127 16.7507 11.9984C16.7507 11.5842 16.4149 11.2484 16.0007 11.2484L5.81528 11.2484L9.15585 7.90554C9.44864 7.61255 9.44847 7.13767 9.15547 6.84488C8.86248 6.55209 8.3876 6.55226 8.09481 6.84525L3.52309 11.4202C3.35673 11.5577 3.25073 11.7657 3.25073 11.9984Z"})}),t?"Saindo...":"Sair"]})]})]})}async function Ao(r){console.log(" Buscando cart_checkout_resume para usurio:",r);const{data:e,error:t}=await K.from("cart_checkout_resume").select("*").eq("user_id",r).order("created_at",{ascending:!1});return t?(console.error(" Erro ao buscar cart_checkout_resume:",t.message),null):(console.log(" Dados retornados do banco:",e),e)}async function BP(r){const{data:e,error:t}=await K.from("cart_checkout_resume").insert([{...r}]).select().single();return t?(console.error("Erro ao criar cart_checkout_resume:",t.message),null):e}async function _l(r,e){console.log(" Atualizando cart_checkout_resume:",{id:r,updates:e});const t={...e};return t.service_selected&&(Array.isArray(t.service_selected)?t.service_selected=t.service_selected.map(n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return{title:n}}return n}):(console.warn(" service_selected no  um array, convertendo:",t.service_selected),t.service_selected=[t.service_selected])),console.log(" Dados sanitizados para envio:",t),await(async()=>{const{data:n,error:a}=await K.from("cart_checkout_resume").update(t).eq("id",r).select().single();return a?(console.error(" Erro ao atualizar cart_checkout_resume:",a.message),null):(console.log(" Dados atualizados com sucesso:",n),n)})()}async function m5(r){const{error:e}=await K.from("cart_checkout_resume").delete().eq("id",r);return e?(console.error("Erro ao deletar cart_checkout_resume:",e.message),!1):!0}const x5=Object.freeze(Object.defineProperty({__proto__:null,createCartCheckoutResume:BP,deleteCartCheckoutResume:m5,getCartCheckoutResumeByUser:Ao,updateCartCheckoutResume:_l},Symbol.toStringTag,{value:"Module"}));async function zP(r){try{const{data:e,error:t}=await K.from("form_entry_values").select("*").eq("entry_id",r);return t?(console.error("formEntryValueService.ts - Error fetching entry values:",t),[]):(console.log("formEntryValueService.ts - Entry values found:",e),e)}catch(e){return console.error("formEntryValueService.ts - Exception in getFormEntryValuesByEntryId:",e),[]}}async function CK(r){try{console.log(`[getPriceFromEntry] Buscando preo para entry_id: ${r}`);const{data:e,error:t}=await K.from("form_entry_values").select("value, value_json").eq("entry_id",r);if(t||!e||e.length===0)return console.log("[getPriceFromEntry] Erro ou dados no encontrados:",t),null;console.log("[getPriceFromEntry] Dados encontrados:",e);const n=a=>{if(!a||typeof a!="object")return null;if(a.promotional_price!==void 0&&a.promotional_price!==null&&a.promotional_price!==""){let s=a.promotional_price;if(typeof s=="string"){const i=s.replace(/\./g,"").replace(",",".").replace(/[^0-9.]/g,"");s=parseFloat(i)}if(!isNaN(s)&&s>0)return console.log(`[getPriceFromEntry] Usando promotional_price: ${s}`),s}if(a.price!==void 0&&a.price!==null&&a.price!==""){let s=a.price;if(typeof s=="string"){const i=s.replace(/\./g,"").replace(",",".").replace(/[^0-9.]/g,"");s=parseFloat(i)}if(!isNaN(s))return console.log(`[getPriceFromEntry] Usando price normal: ${s}`),s}return null};for(const a of e){if(a.value_json)try{const s=typeof a.value_json=="string"?JSON.parse(a.value_json):a.value_json,i=n(s);if(i!==null)return i}catch(s){console.log("[getPriceFromEntry] Erro ao parsear value_json:",s)}if(a.value)try{const s=typeof a.value=="string"?JSON.parse(a.value):a.value,i=n(s);if(i!==null)return i}catch{const i=Number(a.value);if(!isNaN(i))return console.log(`[getPriceFromEntry] Usando value simples: ${i}`),i}}return console.log("[getPriceFromEntry] Nenhum preo vlido encontrado"),null}catch(e){return console.error("[getPriceFromEntry] Erro ao buscar preo:",e),null}}const $S=new Map,SK=3e4;async function v5(r){const e=Date.now(),t=$S.get(r);if(t&&e-t.timestamp<SK)return console.log(`[getPriceFromEntryWithCache] Usando cache para entry_id: ${r}`),t.price;const n=await CK(r);return $S.set(r,{price:n,timestamp:e}),n}function m3(){console.log(" [ShoppingCartToCheckoutResume] HOOK inicializado");const r=w.useCallback(async s=>{console.log(" [ShoppingCartToCheckoutResume] FUNO ADD executada com item:",s);const l=await v5(s.entry_id)||0;console.log(`[ShoppingCartToCheckoutResume] Preo obtido para entry_id ${s.entry_id}:`,l);const c=await zP(s.entry_id);console.log("allEntryValues:",c);const d=Array.isArray(c)?c.find(x=>typeof x.value=="string"&&x.value.startsWith("https://")):void 0;let u=null;d&&typeof d.value=="string"&&(u=d.value.replace(/^https:\/\//,"")),console.log("ShoppingCartToCheckoutResume.ts - url sem https://:",u);const h=Array.isArray(c)?c.filter(x=>!!x.value_json):[];console.log("ShoppingCartToCheckoutResume.ts - allEntryValues com value_json:",h);const f=h.filter(x=>x.entry_id===s.entry_id&&x.value_json&&(()=>{try{const b=typeof x.value_json=="string"?JSON.parse(x.value_json):x.value_json;return Array.isArray(b)?b.some(y=>y&&typeof y=="object"&&"niche"in y):b&&typeof b=="object"?Object.values(b).some(y=>Array.isArray(y)&&y.some(C=>C&&typeof C=="object"&&"niche"in C)):!1}catch{return!1}})());console.log("ShoppingCartToCheckoutResume.ts - entryValues com value_json contendo array com campo niche:",f);const g=f.map(x=>x.value_json).map(x=>{try{const b=typeof x=="string"?JSON.parse(x):x;return Array.isArray(b)&&b.every(y=>y&&typeof y=="object"&&"niche"in y)?b:b&&typeof b=="object"&&Object.values(b).find(C=>Array.isArray(C)&&C.every(S=>S&&typeof S=="object"&&"niche"in S))||null}catch{return null}}).filter(x=>Array.isArray(x)&&x.length>0)[0]||[];console.log("ShoppingCartToCheckoutResume.ts - nichesArray:",g);const v={user_id:s.user_id,entry_id:s.entry_id,product_url:u,quantity:s.quantity,niche:JSON.stringify(g),price:l,service_content:""};console.log("ShoppingCartToCheckoutResume.ts - price no payload:",l),await BP(v)},[]),e=w.useCallback(async s=>{console.log(" [ShoppingCartToCheckoutResume] FUNO EDIT executada com item:",s);const i=await Ao(s.user_id),l=(i==null?void 0:i.filter(c=>c.entry_id===s.entry_id))||[];for(const c of l)await m5(c.id);s.quantity>0&&await _K(s.user_id,s.entry_id,s.quantity)},[]),t=w.useCallback(async s=>{console.log(" [ShoppingCartToCheckoutResume] FUNO REMOVE executada com item:",s);const i=await Ao(s.user_id),l=i==null?void 0:i.find(c=>c.entry_id===s.entry_id);l?(await m5(l.id),console.log("ShoppingCartToCheckoutResume.ts - remove (delete):",s)):console.warn("Resumo no encontrado para delete",s)},[]),n=w.useCallback(async s=>{console.log(" [ShoppingCartToCheckoutResume] FUNO SYNCPRICEFROMVALUE executada com entry_id:",s);try{const i=await v5(s);if(i===null){console.warn("syncPriceFromValue: Nenhum valor de preo encontrado para entry_id:",s);return}console.log(`[syncPriceFromValue] Preo correto obtido para entry_id ${s}:`,i);const{data:{user:l}}=await K.auth.getUser();if(!l){console.warn("syncPriceFromValue: Usurio no autenticado");return}const c=await Ao(l.id),d=c==null?void 0:c.find(u=>u.entry_id===s);d?(await _l(d.id,{price:i}),console.log(`[syncPriceFromValue] Preo atualizado no resumo para entry_id ${s}: ${i}`)):console.warn("syncPriceFromValue: Item no encontrado no resumo para entry_id:",s)}catch(i){console.error("syncPriceFromValue: Erro:",i)}},[]),a=w.useCallback(s=>{console.log(" [ShoppingCartToCheckoutResume] FUNO GET executada com user_id:",s)},[]);return{add:r,edit:e,remove:t,get:a,syncPriceFromValue:n}}async function jK(r,e){const n=await v5(e)||0,a=await zP(e),s=Array.isArray(a)?a.find(f=>typeof f.value=="string"&&f.value.startsWith("https://")):void 0;let i=null;s&&typeof s.value=="string"&&(i=s.value.replace(/^https:\/\//,""));const h=(Array.isArray(a)?a.filter(f=>!!f.value_json):[]).filter(f=>f.entry_id===e&&f.value_json&&(()=>{try{const p=typeof f.value_json=="string"?JSON.parse(f.value_json):f.value_json;return Array.isArray(p)?p.some(m=>m&&typeof m=="object"&&"niche"in m):p&&typeof p=="object"?Object.values(p).some(m=>Array.isArray(m)&&m.some(g=>g&&typeof g=="object"&&"niche"in g)):!1}catch{return!1}})()).map(f=>f.value_json).map(f=>{try{const p=typeof f=="string"?JSON.parse(f):f;return Array.isArray(p)&&p.every(m=>m&&typeof m=="object"&&"niche"in m)?p:p&&typeof p=="object"&&Object.values(p).find(g=>Array.isArray(g)&&g.every(v=>v&&typeof v=="object"&&"niche"in v))||null}catch{return null}}).filter(f=>Array.isArray(f)&&f.length>0)[0]||[];return{user_id:r,entry_id:e,product_url:i,quantity:1,niche:JSON.stringify(h),price:n,service_content:""}}async function _K(r,e,t){const n=await jK(r,e),a=Array.from({length:t},()=>({...n}));a.forEach(l=>{delete l.id});const{data:s,error:i}=await K.from("cart_checkout_resume").insert(a);if(i)throw console.error("Erro ao inserir duplicidades em cart_checkout_resume:",i.message),i;return s}function Fl(r){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r)}function Fb(r){if(typeof r=="number")return r;if(typeof r=="string"){const e=r.replace(/[^\d,\.]/g,"").replace(",",".");return parseFloat(e)||0}if(typeof r=="object"&&r.price){if(typeof r.price=="string"){const e=r.price.replace(/[^\d,\.]/g,"").replace(",",".");return parseFloat(e)||0}else if(typeof r.price=="number")return r.price}return 0}function NK(r,e){console.log("[cartPriceCalculator] Valores recebidos:",{entryValues:r,productPriceField:e,entryValuesLength:(r==null?void 0:r.length)||0});let t=0;if(!e)return console.log("[cartPriceCalculator] productPriceField no definido"),t;const n=r.find(a=>a.field_id===e.id);if(console.log("[cartPriceCalculator] priceValue encontrado:",{priceValue:n,productPriceFieldId:e.id,found:!!n}),!n)return console.log("[cartPriceCalculator] priceValue no encontrado"),t;try{let a=null;if(n.value_json?(a=typeof n.value_json=="string"?JSON.parse(n.value_json):n.value_json,console.log("[cartPriceCalculator] Dados encontrados em value_json:",a)):n.value&&(a=typeof n.value=="string"?JSON.parse(n.value):n.value,console.log("[cartPriceCalculator] Dados encontrados em value:",a)),a)if(a.promotional_price){const s=Fb(a.promotional_price);s>0?(t=s,console.log("[cartPriceCalculator] Usando promotional_price:",{promotional_price:a.promotional_price,parsed_price:t,reason:"promotional_price > 0"})):(t=Fb(a.price),console.log("[cartPriceCalculator] promotional_price  0, usando price normal:",{promotional_price:a.promotional_price,price:a.price,parsed_price:t}))}else t=Fb(a.price),console.log("[cartPriceCalculator] Usando price normal:",{price:a.price,parsed_price:t,reason:"promotional_price no existe"})}catch(a){console.error("[cartPriceCalculator] Error parsing product price:",a)}return t}const HP=w.createContext(void 0);function fd(){const r=w.useContext(HP);if(r===void 0)throw new Error("useCart must be used within a CartProvider");return r}const EK=3,AK=1e3;async function ul(r,e=EK,t=AK){try{return await r()}catch(n){if(e===0)throw n;return await new Promise(a=>setTimeout(a,t)),ul(r,e-1,t*2)}}function PK({children:r}){const[e,t]=w.useState([]),[n,a]=w.useState(!0),[s,i]=w.useState(null),l=m3();w.useEffect(()=>{c();const{data:v}=K.auth.onAuthStateChange(b=>{b==="SIGNED_IN"?c():b==="SIGNED_OUT"&&t([])}),x=()=>{c()};return window.addEventListener("cart-cleared",x),()=>{v.subscription.unsubscribe(),window.removeEventListener("cart-cleared",x)}},[]);const c=async()=>{try{a(!0),i(null);const{data:{user:v}}=await K.auth.getUser();if(!v){t([]);return}const x=await ul(async()=>{const{data:y,error:C}=await K.from("shopping_cart_items").select("id, entry_id, quantity").eq("user_id",v.id);if(C)throw C;return y});if(!x||x.length===0){t([]);return}const b=await Promise.all(x.map(async y=>{try{const C=await ul(async()=>{const{data:D,error:O}=await K.from("form_entry_values").select("field_id, value, value_json").eq("entry_id",y.entry_id);if(O)throw O;return D}),S=await ul(async()=>{const{data:D}=await K.from("form_entries").select("form_id").eq("id",y.entry_id).single();if(!D)throw new Error("Form entry not found");const{data:O,error:I}=await K.from("form_fields").select(`
                id, 
                field_type,
                form_field_settings (
                  is_product_name,
                  is_site_url
                )
              `).eq("form_id",D.form_id);if(I)throw I;return O}),_=S.find(D=>{var I;const O=D.form_field_settings;return Array.isArray(O)?((I=O[0])==null?void 0:I.is_product_name)===!0:(O==null?void 0:O.is_product_name)===!0}),E=S.find(D=>{var I;const O=D.form_field_settings;return Array.isArray(O)?((I=O[0])==null?void 0:I.is_site_url)===!0:(O==null?void 0:O.is_site_url)===!0}),A=S.find(D=>D.field_type==="product");let T="Unknown Product";if(_){const D=C.find(O=>O.field_id===_.id);if(D)if(_.field_type==="brand")try{const O=typeof D.value_json=="string"?JSON.parse(D.value_json):D.value_json;T=(O==null?void 0:O.name)||"Unknown Product"}catch{T=D.value||"Unknown Product"}else T=D.value||"Unknown Product"}let F="";if(E){const D=C.find(O=>O.field_id===E.id);D&&(F=D.value||"")}const L=NK(C,A);return{id:y.id,entry_id:y.entry_id,quantity:y.quantity,product:{name:T,price:L,url:F}}}catch(C){return console.error(`Error loading details for cart item ${y.id}:`,C),null}}));t(b.filter(y=>y!==null))}catch(v){console.error("Error loading cart items:",v),i("Unable to load your cart. Please check your internet connection and try again.")}finally{a(!1)}},d=async(v,x,b,y=1,C,S)=>{try{a(!0),i(null);const{data:{user:_}}=await K.auth.getUser();if(!_)throw new Error("User not authenticated");console.log("Adding item to cart with details:",{entryId:v,productName:x,price:b,quantity:y,image:C,url:S}),await ul(async()=>{const{data:E}=await K.from("shopping_cart_items").select("id, quantity").eq("user_id",_.id).eq("entry_id",v).maybeSingle();if(E){const A=E.quantity+y;console.log(" [UPDATE] Atualizando quantidade no carrinho:",{existingItem:E,oldQuantity:E.quantity,addingQuantity:y,newQuantity:A,entryId:v,userId:_.id});const{error:T}=await K.from("shopping_cart_items").update({quantity:A}).eq("id",E.id);if(T)throw T;await l.edit({user_id:_.id,entry_id:v,quantity:A})}else{const A={user_id:_.id,entry_id:v,quantity:y};console.log(" [INSERT] Inserindo novo item no carrinho:",{insertData:A,productName:x,price:b,image:C,url:S,note:"productName, price, image, url no so salvos na tabela"});const{error:T}=await K.from("shopping_cart_items").insert(A);if(T)throw T;await l.add(A);const F={id:`temp-${Date.now()}`,entry_id:v,quantity:y,product:{name:x,price:b,image:C,url:S}};t(L=>[...L,F])}}),await c()}catch(_){console.error("Error adding item to cart:",_),i("Unable to add item to cart. Please try again.")}finally{a(!1)}},u=async v=>{try{a(!0),i(null);const{data:{user:x}}=await K.auth.getUser();if(!x)throw new Error("User not authenticated");await ul(async()=>{const y=e.find(S=>S.entry_id===v);console.log(" [DELETE] Removendo item do carrinho:",{entryId:v,userId:x.id,itemToRemove:y?{id:y.id,quantity:y.quantity,productName:y.product.name,productPrice:y.product.price}:"Item no encontrado no cache local"});const{error:C}=await K.from("shopping_cart_items").delete().eq("user_id",x.id).eq("entry_id",v);if(C)throw C}),await l.remove({user_id:x.id,entry_id:v});const b=e.filter(y=>y.entry_id!==v);if(t(b),b.length===0){console.log(" [AUTO CLEAR] Carrinho ficou vazio, limpando order_totals...");try{const{error:y}=await K.from("order_totals").delete().eq("user_id",x.id);y?console.error(" Erro ao limpar order_totals:",y):console.log(" order_totals limpo automaticamente (carrinho vazio)")}catch(y){console.error(" Erro ao limpar order_totals:",y)}}}catch(x){console.error("Error removing item from cart:",x),i("Unable to remove item from cart. Please try again.")}finally{a(!1)}},h=async(v,x)=>{try{if(a(!0),i(null),x<=0){await u(v);return}const{data:{user:b}}=await K.auth.getUser();if(!b)throw new Error("User not authenticated");await ul(async()=>{var C;console.log(" [UPDATE QUANTITY] Atualizando quantidade:",{entryId:v,oldQuantity:((C=e.find(S=>S.entry_id===v))==null?void 0:C.quantity)||"no encontrado",newQuantity:x,userId:b.id});const{error:y}=await K.from("shopping_cart_items").update({quantity:x}).eq("user_id",b.id).eq("entry_id",v);if(y)throw y}),await l.edit({user_id:b.id,entry_id:v,quantity:x}),t(e.map(y=>y.entry_id===v?{...y,quantity:x}:y))}catch(b){console.error("Error updating item quantity:",b),i("Unable to update quantity. Please try again.")}finally{a(!1)}},f=async()=>{try{a(!0),i(null);const{data:{user:v}}=await K.auth.getUser();if(!v)throw new Error("User not authenticated");await ul(async()=>{console.log(" [CLEAR CART] Limpando todo o carrinho:",{userId:v.id,currentItems:e.map(C=>({id:C.id,entry_id:C.entry_id,quantity:C.quantity,productName:C.product.name,productPrice:C.product.price})),totalItems:e.length});const{error:x}=await K.from("shopping_cart_items").delete().eq("user_id",v.id);if(x)throw x;const{error:b}=await K.from("cart_checkout_resume").delete().eq("user_id",v.id);if(b)throw b;const{error:y}=await K.from("order_totals").delete().eq("user_id",v.id);if(y)throw y;console.log(" Cart cleared successfully, including order_totals and cart_checkout_resume")}),t([])}catch(v){console.error("Error clearing cart:",v),i("Unable to clear cart. Please try again.")}finally{a(!1)}},p=e.reduce((v,x)=>v+x.quantity,0),m=e.reduce((v,x)=>v+x.product.price*x.quantity,0),g={items:e,loading:n,error:s,addItem:d,removeItem:u,updateQuantity:h,clearCart:f,totalItems:p,totalPrice:m};return o.jsx(HP.Provider,{value:g,children:r})}function UP(r){return new Date(r).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function yh(r){return r==="ROW"?"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iIzZCN0FCNSIgZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bS0xIDE3LjkzYy0zLjk1LS40OS03LTMuODUtNy03LjkzIDAtLjYyLjA4LTEuMjEuMjEtMS43OUw5IDEzdjFjMCAxLjEuOSAyIDIgMnYzLjkzem02LjktMi41NGMtLjI2LS44MS0xLTEuMzktMS45LTEuMzloLTF2LTNjMC0uNTUtLjQ1LTEtMS0xaC02di0yaDJjLjU1IDAgMS0uNDUgMS0xVjdoMmMxLjEgMCAyLS45IDItMnYtLjQxYzIuOTMgMS4xOSA1IDQuMDYgNSA3LjQxIDAgMi4wOC0uOCAzLjk3LTIuMSA1LjM5eiIvPjwvc3ZnPg==":`https://hatscripts.github.io/circle-flags/flags/${r.toLowerCase()}.svg`}function VP(r){try{let e=r.replace(/^https?:\/\//,"");return e=e.replace(/\/$/,""),e}catch{return r}}function pd(r){return`https://www.google.com/s2/favicons?domain=${VP(r)}&sz=32`}function LK({entryId:r,productName:e,price:t,quantity:n,url:a}){const{updateQuantity:s,removeItem:i}=fd(),[l,c]=w.useState(!1),d=async f=>{if(f<=0){await u();return}try{c(!0),await s(r,f)}catch(p){console.error("Error updating quantity:",p)}finally{c(!1)}},u=async()=>{try{c(!0),await i(r)}catch(f){console.error("Error removing item:",f)}finally{c(!1)}},h=f=>f?f.replace(/^https?:\/\//,"").replace(/\/$/,""):"";return o.jsxs("div",{className:"flex items-center justify-between gap-4 text-sm font-medium text-gray-800 dark:text-white/90 p-1 border border-gray-300 rounded-lg dark:border-gray-800",children:[o.jsx("h3",{className:"flex items-center gap-2 truncate w-[130px] min-w-[130px]",children:a?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:pd(a),alt:"Site icon",width:"20",height:"20",className:"flex-shrink-0",onError:f=>{f.target.style.display="none"}}),o.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"hover:text-brand-500 hover:underline truncate",title:a,children:h(a)})]}):e}),o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-gray-700 rounded",children:[o.jsx("button",{onClick:()=>d(n-1),disabled:l,className:"px-2 py-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:"-"}),o.jsx("span",{className:"px-2 py-1 text-gray-700 dark:text-gray-300",children:n}),o.jsx("button",{onClick:()=>d(n+1),disabled:l,className:"px-2 py-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:"+"})]})}),o.jsxs("p",{className:"whitespace-nowrap font-bold min-w-[80px] text-right",children:["R$ ",t.toFixed(2)]}),o.jsx("button",{type:"button",onClick:u,disabled:l,className:"text-gray-500 hover:text-error-500 dark:text-gray-400 dark:hover:text-error-500",title:"Remover",children:o.jsx(rs,{className:"w-5 h-5"})})]})}function DK(){const[r,e]=w.useState(!1),{items:t,totalItems:n,totalPrice:a,loading:s,error:i}=fd(),l=m3(),c=mr();w.useEffect(()=>{const h=f=>{const p=document.getElementById("shopping-cart-sidebar"),m=document.querySelector(".cart-toggle-button");r&&p&&!p.contains(f.target)&&!(m!=null&&m.contains(f.target))&&e(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[r]),w.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]);function d(){e(!r)}const u=async()=>{try{for(const h of t)await l.syncPriceFromValue(h.entry_id);e(!1),c("/checkout")}catch(h){console.error(" Erro ao sincronizar preos promocionais:",h),e(!1),c("/checkout")}};return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{className:"relative flex items-center justify-center text-gray-500 transition-colors bg-white border border-gray-200 rounded-full cart-toggle-button hover:text-gray-700 h-11 w-11 hover:bg-gray-100 dark:border-gray-800 dark:bg-gray-900 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-white",onClick:d,children:[n>0&&o.jsx("span",{className:"absolute right-0 top-0.5 z-10 h-5 w-5 rounded-full bg-brand-500 text-xs text-white flex items-center justify-center",children:n}),o.jsx(Fp,{className:"text-current",width:"24",height:"24"})]}),o.jsx("div",{id:"shopping-cart-sidebar",className:`fixed top-0 right-0 z-[99999] h-full w-full max-w-md bg-white shadow-xl dark:bg-gray-900 transform transition-transform duration-300 ease-in-out ${r?"translate-x-0":"translate-x-full"}`,children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-800",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Carrinho"}),o.jsx("button",{onClick:d,className:"p-2 text-gray-500 rounded-full hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 z-[99999]",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:s?o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 flex-1",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-gray-200 border-t-brand-500 rounded-full animate-spin mb-4"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})]}):i?o.jsx("div",{className:"flex flex-col items-center justify-center py-8 flex-1",children:o.jsx("p",{className:"text-error-500 dark:text-error-400",children:i})}):t.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 flex-1",children:[o.jsxs("svg",{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M2.83179 4.38657H3.34341C4.20256 4.38657 4.96125 4.94691 5.21392 5.76808L8.27786 15.7259C8.53053 16.547 9.28921 17.1074 10.1484 17.1074H17.1114C17.9373 17.1074 18.6743 16.5889 18.9534 15.8116L20.9925 10.1312C21.679 8.21867 20.2616 6.20383 18.2295 6.20383H10.66",strokeWidth:"1.7",strokeLinecap:"round"}),o.jsx("circle",{cx:"10.1707",cy:"20.5322",r:"1.46779",fill:"currentColor"}),o.jsx("circle",{cx:"17.0204",cy:"20.5322",r:"1.46779",fill:"currentColor"})]}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center",children:"Seu carrinho est vazio"})]}):o.jsx("div",{className:"space-y-4",children:t.map(h=>o.jsx(LK,{entryId:h.entry_id,productName:h.product.name,price:h.product.price,quantity:h.quantity,url:h.product.url},h.id))})}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 p-4",children:[o.jsxs("div",{className:"flex justify-between text-base mb-4",children:[o.jsx("p",{className:"font-bold text-gray-800 dark:text-white/90",children:"Subtotal"}),o.jsxs("p",{className:"font-bold text-gray-800 dark:text-white/90",children:["R$ ",a.toFixed(2)]})]}),o.jsx(at,{onClick:u,className:"w-full",disabled:s,children:"Finalizar Compra"})]})]})}),r&&o.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 z-[99998] transition-opacity duration-300 ease-in-out",onClick:d})]})}const $P=w.createContext(void 0),TK=({children:r})=>{const[e,t]=w.useState("light"),[n,a]=w.useState(!1);w.useEffect(()=>{const l=localStorage.getItem("theme")||"light";t(l),a(!0)},[]),w.useEffect(()=>{n&&(localStorage.setItem("theme",e),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},[e,n]);const s=()=>{t(i=>i==="light"?"dark":"light")};return o.jsx($P.Provider,{value:{theme:e,toggleTheme:s},children:r})},RK=()=>{const r=w.useContext($P);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r},MK=()=>{const{toggleTheme:r}=RK();return o.jsxs("button",{onClick:r,className:"flex items-center justify-center text-gray-500 transition-colors hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:[o.jsx("svg",{className:"hidden dark:block w-6 h-6",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1.5415C12.4142 1.5415 12.75 1.87729 12.75 2.2915V3.5415C12.75 3.95572 12.4142 4.2915 12 4.2915C11.5858 4.2915 11.25 3.95572 11.25 3.5415V2.2915C11.25 1.87729 11.5858 1.5415 12 1.5415ZM12.0009 6.79327C10.2298 6.79327 8.79402 8.22904 8.79402 10.0001C8.79402 11.7712 10.2298 13.207 12.0009 13.207C13.772 13.207 15.2078 11.7712 15.2078 10.0001C15.2078 8.22904 13.772 6.79327 12.0009 6.79327ZM7.29402 10.0001C7.29402 7.40061 9.40135 5.29327 12.0009 5.29327C14.6004 5.29327 16.7078 7.40061 16.7078 10.0001C16.7078 12.5997 14.6004 14.707 12.0009 14.707C9.40135 14.707 7.29402 12.5997 7.29402 10.0001ZM17.9813 5.08035C18.2742 4.78746 18.2742 4.31258 17.9813 4.01969C17.6884 3.7268 17.2135 3.7268 16.9207 4.01969L16.0368 4.90357C15.7439 5.19647 15.7439 5.67134 16.0368 5.96423C16.3297 6.25713 16.8045 6.25713 17.0974 5.96423L17.9813 5.08035ZM20.4577 10.0001C20.4577 10.4143 20.1219 10.7501 19.7077 10.7501H18.4577C18.0435 10.7501 17.7077 10.4143 17.7077 10.0001C17.7077 9.58592 18.0435 9.25013 18.4577 9.25013H19.7077C20.1219 9.25013 20.4577 9.58592 20.4577 10.0001ZM16.9207 15.9806C17.2135 16.2735 17.6884 16.2735 17.9813 15.9806C18.2742 15.6877 18.2742 15.2128 17.9813 14.9199L17.0974 14.036C16.8045 13.7431 16.3297 13.7431 16.0368 14.036C15.7439 14.3289 15.7439 14.8038 16.0368 15.0967L16.9207 15.9806ZM12 15.7088C12.4142 15.7088 12.75 16.0445 12.75 16.4588V17.7088C12.75 18.123 12.4142 18.4588 12 18.4588C11.5858 18.4588 11.25 18.123 11.25 17.7088V16.4588C11.25 16.0445 11.5858 15.7088 12 15.7088ZM7.96356 15.0972C8.25646 14.8043 8.25646 14.3295 7.96356 14.0366C7.67067 13.7437 7.1958 13.7437 6.9029 14.0366L6.01902 14.9204C5.72613 15.2133 5.72613 15.6882 6.01902 15.9811C6.31191 16.274 6.78679 16.274 7.07968 15.9811L7.96356 15.0972ZM6.29224 10.0001C6.29224 10.4143 5.95645 10.7501 5.54224 10.7501H4.29224C3.87802 10.7501 3.54224 10.4143 3.54224 10.0001C3.54224 9.58592 3.87802 9.25013 4.29224 9.25013H5.54224C5.95645 9.25013 6.29224 9.58592 6.29224 10.0001ZM6.9029 5.9637C7.1958 6.25659 7.67067 6.25659 7.96356 5.9637C8.25646 5.6708 8.25646 5.19593 7.96356 4.90303L7.07968 4.01915C6.78679 3.72626 6.31191 3.72626 6.01902 4.01915C5.72613 4.31204 5.72613 4.78692 6.01902 5.07981L6.9029 5.9637Z",fill:"currentColor"})}),o.jsx("svg",{className:"dark:hidden w-6 h-6",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M20.9547 14.364L21.7999 14.5933C21.9018 14.206 21.7318 13.7978 21.3881 13.5919C21.0445 13.3861 20.6062 13.4321 20.3128 13.7048L20.9547 14.364ZM9.63672 3.05508L10.2959 3.66788C10.5686 3.37451 10.6146 2.93618 10.4088 2.59255C10.2029 2.24892 9.79472 2.07871 9.40738 2.18079L9.63672 3.05508ZM15.4985 15.6042C11.5761 15.6042 8.39648 12.4246 8.39648 8.50218H6.39648C6.39648 13.5288 10.4719 17.6042 15.4985 17.6042V15.6042ZM20.3128 13.7048C19.0643 14.8842 17.3665 15.6042 15.4985 15.6042V17.6042C17.8388 17.6042 19.9702 16.6999 21.5966 15.0232L20.3128 13.7048ZM20.0754 14.1347C19.1324 17.7128 15.8732 20.3503 11.9999 20.3503V22.3503C16.7108 22.3503 20.6699 19.1424 21.7999 14.5933L20.0754 14.1347ZM11.9999 20.3503C7.38881 20.3503 3.65039 16.612 3.65039 12.0003H1.65039C1.65039 17.7163 6.28471 22.3503 11.9999 22.3503V20.3503ZM3.65039 12.0003C3.65039 8.12747 6.28786 4.86834 9.86607 3.92937L9.40738 2.18079C5.05838 3.33089 1.65039 7.28983 1.65039 12.0003H3.65039ZM8.39648 8.50218C8.39648 6.63422 9.11652 4.93638 10.2959 3.66788L8.97756 2.44228C7.50085 4.03062 6.39648 6.16204 6.39648 8.50218H8.39648Z",fill:"currentColor"})})]})};function IK({isOpen:r}){return o.jsxs("div",{className:`${r?"flex":"hidden"} items-center justify-between w-full gap-4 px-5 py-4 lg:flex shadow-theme-md lg:justify-end lg:px-0 lg:shadow-none`,children:[o.jsxs("div",{className:"flex items-center gap-2 2xsm:gap-3",children:[o.jsx(MK,{}),o.jsx(DK,{})]}),o.jsx(kK,{})]})}const OK=({onToggle:r})=>{const[e,t]=w.useState(!1),{toggleSidebar:n}=p3(),{logos:a,loading:s}=g3(),i=()=>{t(!e)};return o.jsx("header",{className:"sticky top-0 flex w-full bg-white border-gray-200 z-99999 dark:border-gray-800 dark:bg-gray-900 lg:border-b",children:o.jsxs("div",{className:"flex flex-col items-center justify-between grow lg:flex-row lg:px-6",children:[o.jsxs("div",{className:"flex items-center justify-between w-full gap-2 px-3 py-3 border-b border-gray-200 dark:border-gray-800 sm:gap-4 lg:justify-normal lg:border-b-0 lg:px-0 lg:py-4",children:[o.jsx("button",{onClick:r,className:"flex xl:hidden items-center justify-center w-10 h-10 text-gray-500 border border-gray-200 rounded-lg dark:border-gray-800 dark:text-gray-400","aria-label":"Toggle Mobile Menu",children:o.jsx("svg",{width:"16",height:"12",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.583252 1C0.583252 0.585788 0.919038 0.25 1.33325 0.25H14.6666C15.0808 0.25 15.4166 0.585786 15.4166 1C15.4166 1.41421 15.0808 1.75 14.6666 1.75L1.33325 1.75C0.919038 1.75 0.583252 1.41422 0.583252 1ZM0.583252 11C0.583252 10.5858 0.919038 10.25 1.33325 10.25L14.6666 10.25C15.0808 10.25 15.4166 10.5858 15.4166 11C15.4166 11.4142 15.0808 11.75 14.6666 11.75L1.33325 11.75C0.919038 11.75 0.583252 11.4142 0.583252 11ZM1.33325 5.25C0.919038 5.25 0.583252 5.58579 0.583252 6C0.583252 6.41421 0.919038 6.75 1.33325 6.75L7.99992 6.75C8.41413 6.75 8.74992 6.41421 8.74992 6C8.74992 5.58579 8.41413 5.25 7.99992 5.25L1.33325 5.25Z",fill:"currentColor"})})}),o.jsx("button",{className:"hidden xl:flex items-center justify-center w-10 h-10 text-gray-500 border border-gray-200 rounded-lg dark:border-gray-800 dark:text-gray-400",onClick:n,"aria-label":"Toggle Sidebar",children:o.jsx("svg",{width:"16",height:"12",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.583252 1C0.583252 0.585788 0.919038 0.25 1.33325 0.25H14.6666C15.0808 0.25 15.4166 0.585786 15.4166 1C15.4166 1.41421 15.0808 1.75 14.6666 1.75L1.33325 1.75C0.919038 1.75 0.583252 1.41422 0.583252 1ZM0.583252 11C0.583252 10.5858 0.919038 10.25 1.33325 10.25L14.6666 10.25C15.0808 10.25 15.4166 10.5858 15.4166 11C15.4166 11.4142 15.0808 11.75 14.6666 11.75L1.33325 11.75C0.919038 11.75 0.583252 11.4142 0.583252 11ZM1.33325 5.25C0.919038 5.25 0.583252 5.58579 0.583252 6C0.583252 6.41421 0.919038 6.75 1.33325 6.75L7.99992 6.75C8.41413 6.75 8.74992 6.41421 8.74992 6C8.74992 5.58579 8.41413 5.25 7.99992 5.25L1.33325 5.25Z",fill:"currentColor"})})}),o.jsx(bK,{logos:a,loading:s}),o.jsx("button",{onClick:i,className:"flex items-center justify-center w-10 h-10 text-gray-700 rounded-lg z-99999 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 lg:hidden",children:o.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.99902 10.4951C6.82745 10.4951 7.49902 11.1667 7.49902 11.9951V12.0051C7.49902 12.8335 6.82745 13.5051 5.99902 13.5051C5.1706 13.5051 4.49902 12.8335 4.49902 12.0051V11.9951C4.49902 11.1667 5.1706 10.4951 5.99902 10.4951ZM17.999 10.4951C18.8275 10.4951 19.499 11.1667 19.499 11.9951V12.0051C19.499 12.8335 18.8275 13.5051 17.999 13.5051C17.1706 13.5051 16.499 12.8335 16.499 12.0051V11.9951C16.499 11.1667 17.1706 10.4951 17.999 10.4951ZM13.499 11.9951C13.499 11.1667 12.8275 10.4951 11.999 10.4951C11.1706 10.4951 10.499 11.1667 10.499 11.9951V12.0051C10.499 12.8335 11.1706 13.5051 11.999 13.5051C12.8275 13.5051 13.499 12.8335 13.499 12.0051V11.9951Z",fill:"currentColor"})})}),o.jsx(yK,{})]}),o.jsx(IK,{isOpen:e})]})})};function FK({logos:r,isExpanded:e,isHovered:t,isMobileOpen:n,loading:a}){return a?o.jsx("div",{className:`py-8 flex ${!e&&!t?"lg:justify-center":"justify-start"}`,children:o.jsx("div",{className:"h-8 w-48 bg-gray-200 animate-pulse rounded dark:bg-gray-800"})}):o.jsx("div",{className:`py-8 flex ${!e&&!t?"lg:justify-center":"justify-start"}`,children:e||t||n?o.jsxs(o.Fragment,{children:[o.jsx("img",{className:"dark:hidden h-8",src:r.light,alt:"Logo"}),o.jsx("img",{className:"hidden dark:block h-8",src:r.dark,alt:"Logo"})]}):o.jsx("img",{src:r.icon,alt:"Logo",className:"h-8 w-8"})})}function BK({navItems:r,othersItems:e,isExpanded:t,isHovered:n,isMobileOpen:a,openSubmenu:s,subMenuHeights:i,isActive:l,handleSubmenuToggle:c,showOthersTitle:d=!0,subMenuRefs:u}){const h=(f,p)=>o.jsx("ul",{className:`flex flex-col gap-4 ${p==="main"?"menu-principal":"menu-admin"}`,children:f.map((m,g)=>o.jsx("li",{children:m.subItems?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>c(g,p),className:`menu-item group cursor-pointer ${(s==null?void 0:s.type)===p&&(s==null?void 0:s.index)===g?"menu-item-active":"menu-item-inactive"} ${!t&&!n?"lg:justify-center lg:px-2":"lg:justify-start"}`,children:[o.jsx("span",{className:`menu-item-icon-size ${(s==null?void 0:s.type)===p&&(s==null?void 0:s.index)===g?"menu-item-icon-active":"menu-item-icon-inactive"}`,children:m.icon}),(t||n||a)&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"menu-item-text",children:m.name}),o.jsx(i1,{className:`ml-auto w-5 h-5 transition-transform duration-200 ${(s==null?void 0:s.type)===p&&(s==null?void 0:s.index)===g?"rotate-180 text-brand-500":""}`})]})]}),(t||n||a)&&o.jsx("div",{className:"overflow-hidden transition-all duration-300",style:{height:(s==null?void 0:s.type)===p&&(s==null?void 0:s.index)===g?`${(i[`${p}-${g}`]||0)+10}px`:"0px"},children:o.jsx("ul",{className:"mt-2 space-y-1 ml-9",ref:v=>{u.current[`${p}-${g}`]=v},children:m.subItems.map(v=>o.jsx("li",{children:o.jsxs(Sn,{to:v.path,className:`menu-dropdown-item ${l(v.path)?"menu-dropdown-item-active":"menu-dropdown-item-inactive"}`,children:[v.name,o.jsxs("span",{className:"flex items-center gap-1 ml-auto",children:[v.new&&o.jsx("span",{className:`menu-dropdown-badge ${l(v.path)?"menu-dropdown-badge-active":"menu-dropdown-badge-inactive"}`,children:"new"}),v.pro&&o.jsx("span",{className:`menu-dropdown-badge ${l(v.path)?"menu-dropdown-badge-active":"menu-dropdown-badge-inactive"}`,children:"pro"})]})]})},v.name))})})]}):m.path&&o.jsxs(Sn,{to:m.path,className:`menu-item group ${l(m.path)?"menu-item-active":"menu-item-inactive"} ${!t&&!n?"lg:justify-center lg:px-2":"lg:justify-start"}`,children:[o.jsx("span",{className:`menu-item-icon-size ${l(m.path)?"menu-item-icon-active":"menu-item-icon-inactive"}`,children:m.icon}),(t||n||a)&&o.jsx("span",{className:"menu-item-text",children:m.name})]})},m.name))});return o.jsx("nav",{className:"mb-6 menu-sidebar",children:o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:`mb-4 text-theme-sm uppercase flex leading-[20px] text-gray-400 ${!t&&!n?"lg:justify-center":"justify-start"}`,children:t||n||a?"Menu":o.jsx(Y0,{className:"size-6"})}),h(r,"main")]}),e.length>0&&d&&o.jsxs("div",{className:"menu-admin",children:[d&&o.jsx("h2",{className:`mb-4 text-theme-sm uppercase flex leading-[20px] text-gray-400 ${!t&&!n?"lg:justify-center":"justify-start"}`,children:t||n||a?"Administration":o.jsx(Y0,{className:"size-6"})}),h(e,"others")]})]})})}function zK(){const{isExpanded:r,isMobileOpen:e,isHovered:t,setIsHovered:n}=p3(),a=Pn(),{logos:s,loading:i}=g3(),l=mr(),[c,d]=w.useState(null),[u,h]=w.useState(null),[f,p]=w.useState([]),[m,g]=w.useState(null),[v,x]=w.useState({}),b=w.useRef({});w.useEffect(()=>{y()},[]),w.useEffect(()=>{(c!==null||u!==null)&&C()},[c,u]),w.useEffect(()=>{L()},[a.pathname,f]),w.useEffect(()=>{D()},[f,r,t,e]),w.useEffect(()=>{const B=()=>{D()};return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[f,m]);async function y(){try{const{data:{user:B}}=await K.auth.getUser();if(!B){d(!1),h(null);return}const{data:z}=await K.from("admins").select("id").eq("id",B.id).maybeSingle();if(z){d(!0),h(null);return}const{data:V}=await K.from("platform_users").select("role, status").eq("id",B.id).single();V?(d(!1),h(V.role)):(d(!1),h(null))}catch(B){console.error("Error checking user type:",B),d(!1),h(null)}}async function C(){try{const{data:B,error:z}=await K.from("menu_items").select("*").eq("is_visible",!0).order("position",{ascending:!0});if(z)throw z;const V=S(B||[]);p(V),console.log("User role:",u),console.log("Is admin:",c),console.log("Menu items loaded:",B==null?void 0:B.length)}catch(B){console.error("Error loading menu items:",B)}}const S=B=>{const z=new Map,V=[];return B.forEach(W=>{z.set(W.id,{...W,subItems:[]})}),B.forEach(W=>{const Y=z.get(W.id);if(W.parent_id&&z.has(W.parent_id)){const G=z.get(W.parent_id);G.subItems=G.subItems||[],G.subItems.push(Y)}else V.push(Y)}),V},_=B=>{if(!B)return o.jsx(_u,{});const z=G0[B];return z?o.jsx(z,{}):o.jsx(_u,{})},E=B=>B.filter(z=>!!(c||z.visible_to==="all"||z.visible_to==="publisher"&&u==="publisher"||z.visible_to==="advertiser"&&u==="advertiser")).map(z=>{if(z.subItems&&z.subItems.length>0){const V=z.subItems.filter(W=>!!(c||W.visible_to==="all"||W.visible_to==="publisher"&&u==="publisher"||W.visible_to==="advertiser"&&u==="advertiser"));return{...z,subItems:V}}return z}).filter(z=>!(!z.path&&(!z.subItems||z.subItems.length===0))).filter(z=>z.name!=="Service Packages"),A=[{icon:o.jsx(_u,{}),name:"Dashboard",path:c?"/dashboard":u==="publisher"?"/publisher/dashboard":"/advertiser/dashboard"},{icon:o.jsx(Fp,{}),name:"Pedidos",path:"/orders"},...E(f).filter(B=>B.name!=="Cupons").map(B=>{var z;return{icon:_(B.icon),name:B.name,path:B.path||void 0,subItems:(z=B.subItems)==null?void 0:z.map(V=>({name:V.name,path:V.path||""}))}})],T=c?[{icon:o.jsx(wo,{}),name:"Gerenciador Editorial",path:"/editorial"},{icon:o.jsx(SN,{}),name:"Usurios",path:"/users"},{icon:o.jsx(EN,{}),name:"Pginas",path:"/pages"},{icon:o.jsx(q0,{}),name:"Menu Dash",path:"/menu-dash"},{icon:o.jsx(wo,{}),name:"Formulrios",path:"/forms"},{icon:o.jsx(Vi,{}),name:"Servios",path:"/service-packages"},{icon:o.jsx(LN,{}),name:"Cupons",path:"/tickets"}]:[],F=w.useCallback(B=>a.pathname===B,[a.pathname]),L=()=>{A.forEach((B,z)=>{Array.isArray(B.subItems)&&B.subItems.some(V=>V&&V.path&&F(V.path))&&g({type:"main",index:z})}),T.forEach((B,z)=>{Array.isArray(B.subItems)&&B.subItems.some(V=>V&&V.path&&F(V.path))&&g({type:"others",index:z})})},D=()=>{const B={};A.forEach((z,V)=>{if(z.subItems){const W=`main-${V}`,Y=b.current[W];Y&&(B[W]=Y.scrollHeight)}}),T.forEach((z,V)=>{if(z.subItems){const W=`others-${V}`,Y=b.current[W];Y&&(B[W]=Y.scrollHeight)}}),x(B)},O=(B,z)=>{g(V=>(V==null?void 0:V.type)===z&&(V==null?void 0:V.index)===B?null:{type:z,index:B})},I=()=>{l(c?"/dashboard":u==="publisher"?"/publisher/dashboard":u==="advertiser"?"/advertiser/dashboard":"/")};return o.jsxs("aside",{className:`fixed mt-16 flex flex-col xl:mt-0 top-0 left-0 bg-white dark:bg-gray-900 dark:border-gray-800 text-gray-900 h-screen transition-all duration-300 ease-in-out z-50 border-r border-gray-200 
        ${r||e||t?"w-[240px] px-5":"w-[70px] px-2"}
        ${e?"translate-x-0":"-translate-x-full"}
        xl:translate-x-0`,onMouseEnter:()=>!r&&n(!0),onMouseLeave:()=>n(!1),children:[o.jsx("div",{onClick:I,className:"cursor-pointer",children:o.jsx(FK,{logos:s,isExpanded:r,isHovered:t,isMobileOpen:e,loading:i})}),o.jsx(BK,{navItems:A,othersItems:T,isExpanded:r,isHovered:t,isMobileOpen:e,openSubmenu:m,subMenuHeights:v,isActive:F,handleSubmenuToggle:O,showOthersTitle:c??!1,subMenuRefs:b})]})}function HK(){var t;const r=document.getElementById("tawkto-script");r&&r.remove();const e=(t=document.querySelector("iframe[src*='tawk.to']"))==null?void 0:t.parentElement;e&&e.remove()}const gd=()=>{const r=Pn(),e=r.pathname.startsWith("/service-packages")||r.pathname.startsWith("/tickets");return w.useEffect(()=>{var a;if(e){HK();return}if(document.getElementById("tawkto-script"))return;window.Tawk_API=window.Tawk_API||{},window.Tawk_API.zIndex="9 !important",window.Tawk_API.customStyle={zIndex:"5 !important",visibility:{desktop:{position:"br",xOffset:20,yOffset:30},mobile:{position:"br",xOffset:5,yOffset:5},bubble:{rotate:"0deg",xOffset:5,yOffset:5}}};const t=document.createElement("script");t.id="tawkto-script",t.async=!0,t.src="https://embed.tawk.to/60394afb385de407571a81b8/1evfum410",t.charset="UTF-8",t.setAttribute("crossorigin","*");const n=document.getElementsByTagName("script")[0];(a=n==null?void 0:n.parentNode)==null||a.insertBefore(t,n)},[r.pathname,e]),null},UK=()=>{const{isExpanded:r,isHovered:e,isMobileOpen:t,toggleMobileSidebar:n}=p3();return o.jsxs("div",{className:"w-full min-h-screen xl:flex",children:[o.jsxs("div",{children:[o.jsx(zK,{}),t&&o.jsx("div",{className:"fixed inset-0 z-40 bg-gray-900 bg-opacity-50 lg:hidden",onClick:n})]}),o.jsxs("div",{className:`w-full flex-1 transition-all duration-300 ease-in-out overflow-hidden ${r||e?"xl:ml-[240px]":"xl:ml-[70px]"} ${t?"ml-0":""}`,children:[o.jsx(OK,{onToggle:n}),o.jsx("div",{className:"w-full main-content p-4 mx-auto max-w-(--breakpoint-2xl) md:p-6 overflow-hidden",children:o.jsx(Yj,{})})]})]})},Bb=({hideTawkChat:r=!1})=>{const e=Pn(),t=e.pathname.startsWith("/tickets")||e.pathname.startsWith("/service-packages");return o.jsxs(vK,{children:[o.jsx(UK,{}),!r&&!t&&o.jsx(gd,{})]})};function VK(){const{pathname:r}=Pn();return w.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[r]),null}function WS(r,e,t){if(!Array.isArray(r)||t<=0)return[];const n=(e-1)*t,a=e*t;return r.slice(n,a)}function $K(){return o.jsx("thead",{className:"border-gray-100 border-y dark:border-white/[0.05]",children:o.jsxs("tr",{className:"h-8",children:[o.jsx("th",{className:"font-medium text-gray-500 text-start text-xs dark:text-gray-400 w-3/4",children:o.jsx("div",{className:"flex items-center h-full",style:{paddingLeft:"12px"},children:"Produto"})}),o.jsx("th",{className:"font-medium text-gray-500 text-start text-xs dark:text-gray-400 w-1/4",children:o.jsx("div",{className:"flex items-center h-full",style:{paddingRight:"12px"},children:"Valor"})})]})})}function WK({item:r}){var e;return o.jsxs("tr",{className:"recent-orders-table-row h-8",children:[o.jsx("td",{className:"product-cell font-medium text-gray-800 text-start text-sm dark:text-white/90",children:o.jsxs("div",{className:"product-content flex items-center gap-1.5 h-full",children:[o.jsx("img",{src:pd(r.product_url||""),alt:"favicon",className:"favicon-image w-4 h-4 rounded flex-shrink-0",onError:t=>t.currentTarget.style.display="none"}),o.jsx("span",{className:"product-name truncate text-sm leading-tight",children:r.product_name})]})}),o.jsx("td",{className:"price-cell text-sm text-start text-success-600",children:o.jsx("div",{className:"price-content flex items-center h-full",children:o.jsx("span",{className:"text-sm leading-tight",children:(e=r.total_price)==null?void 0:e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})})})]})}async function b5(r){try{const{data:{user:e}}=await K.auth.getUser();if(!e)throw new Error("User not authenticated");if(r.idempotency_key){const{data:i}=await K.from("orders").select("*").eq("idempotency_key",r.idempotency_key).eq("user_id",e.id).maybeSingle();if(i)return i}const{data:t,error:n}=await K.from("orders").insert([{user_id:e.id,status:"pending",payment_method:r.payment_method,payment_status:"pending",total_amount:r.total_amount,billing_name:r.billing_name,billing_email:r.billing_email,billing_address:r.billing_address,billing_city:r.billing_city,billing_state:r.billing_state,billing_zip_code:r.billing_zip_code,billing_document_number:r.billing_document_number,phone:r.phone,payment_id:r.payment_id,metadata:r.metadata,idempotency_key:r.idempotency_key}]).select().single();if(n)throw n;if(!t)throw new Error("Failed to create order");const a=r.items.map(i=>({order_id:t.id,entry_id:i.entry_id,product_name:i.product_name,product_url:i.product_url,quantity:i.quantity,unit_price:i.unit_price,total_price:i.total_price,niche:i.niche,service_content:i.service_content})),{error:s}=await K.from("order_items").insert(a);if(s)throw s;return t}catch(e){throw console.error("Error creating order:",e),e}}async function WP(r,e,t){try{const n={status:e};t&&(n.payment_status=t);const{error:a}=await K.from("orders").update(n).eq("id",r);if(a)throw a;return!0}catch(n){return console.error("Error updating order status:",n),!1}}async function qP(r){try{console.log(" Simulando confirmao de pagamento de boleto:",r);const{error:e}=await K.from("orders").update({payment_status:"paid",status:"processing"}).eq("id",r);if(e)throw e;return console.log(" Pagamento de boleto confirmado com sucesso"),!0}catch(e){return console.error("Error confirming boleto payment:",e),!1}}async function YP(r){try{console.log(" Deleting order items for order:",r);const{error:e,data:t}=await K.from("order_items").delete().eq("order_id",r);if(e)throw console.error(" Error deleting order items:",e),console.error(" Error details:",{message:e.message,code:e.code,details:e.details,hint:e.hint}),e;return console.log(" Order items deleted successfully:",t),!0}catch(e){return console.error("Error deleting order items:",e),!1}}async function GP(r){try{console.log(" Deleting order:",r);const{error:e,data:t}=await K.from("orders").delete().eq("id",r);if(e)throw console.error(" Error deleting order:",e),console.error(" Error details:",{message:e.message,code:e.code,details:e.details,hint:e.hint}),e;return console.log(" Order deleted successfully:",t),!0}catch(e){return console.error("Error deleting order:",e),!1}}async function XP(r){try{if(console.log(" Starting complete order deletion:",r),!await YP(r))throw new Error("Failed to delete order items");if(!await GP(r))throw new Error("Failed to delete order");return console.log(" Complete order deletion successful"),!0}catch(e){return console.error(" Error in complete order deletion:",e),!1}}async function ZP(){try{const{count:r,error:e}=await K.from("orders").select("*",{count:"exact",head:!0});if(e)throw e;return r||0}catch(r){return console.error("Erro ao contar pedidos:",r),0}}async function x1(){try{const{data:r,error:e}=await K.from("orders").select("*").order("created_at",{ascending:!1});if(e)throw e;return r}catch(r){return console.error("Erro ao buscar todos os pedidos:",r),null}}async function JP(r,e){try{if(e){const{data:t,error:n}=await K.from("order_items").select("*").order("created_at",{ascending:!1});if(n)throw n;return t}else if(r){const{data:t,error:n}=await K.from("orders").select("id").eq("user_id",r);if(n)throw n;const a=(t||[]).map(l=>l.id);if(a.length===0)return[];const{data:s,error:i}=await K.from("order_items").select("*").in("order_id",a).order("created_at",{ascending:!1});if(i)throw i;return s}else return[]}catch(t){return console.error("Erro ao buscar todos os order_items:",t),null}}async function KP(r,e){try{if(e){const{data:t,error:n}=await K.from("order_items").select("*").order("created_at",{ascending:!1}).limit(9);if(n)throw n;return t}else if(r){const{data:t,error:n}=await K.from("orders").select("id").eq("user_id",r);if(n)throw n;const a=(t||[]).map(l=>l.id);if(a.length===0)return[];const{data:s,error:i}=await K.from("order_items").select("*").in("order_id",a).order("created_at",{ascending:!1}).limit(9);if(i)throw i;return s}else return[]}catch(t){return console.error("Erro ao buscar order_items recentes:",t),null}}const qS=Object.freeze(Object.defineProperty({__proto__:null,createOrder:b5,deleteCompleteOrder:XP,deleteOrderById:GP,deleteOrderItems:YP,getAllOrderItems:JP,getAllOrders:x1,getOrdersCount:ZP,getRecentOrderItems:KP,simulateBoletoPaymentConfirmation:qP,updateOrderStatus:WP},Symbol.toStringTag,{value:"Module"}));async function qK(r,e){return await KP(r,e)}async function YK(r,e){return await JP(r,e)}function GK(){const[r,e]=w.useState(!1),[t,n]=w.useState(1),[a]=w.useState(9),[s,i]=w.useState(!1),[l,c]=w.useState(""),[d,u]=w.useState(!1),[h,f]=w.useState([]);return w.useEffect(()=>{n(1),u(!!l.trim())},[r,l]),w.useEffect(()=>{async function g(){let v=[];const{data:{user:x}}=await K.auth.getUser();let b=!1;if(x){const{data:C}=await K.from("admins").select("id").eq("id",x.id).maybeSingle();b=!!C}const y=x==null?void 0:x.id;if(d||r){const C=await YK(y,b);C&&(v=C)}else{const C=await qK(y,b);C&&(v=C)}f(v)}g()},[r,d]),{showAll:r,currentPage:t,ordersPerPage:a,showFilter:s,filterValue:l,isFiltering:d,orderItems:h,setCurrentPage:n,setFilterValue:c,toggleShowAll:()=>{e(g=>!g),c("")},toggleFilter:()=>{i(g=>!g)}}}function XK(r,e){if(!e)return;const t=document.getElementById(`page-btn-${r}`);if(t&&e){const n=t.getBoundingClientRect(),a=e.getBoundingClientRect(),s=n.left-a.left-a.width/2+n.width/2;e.scrollTo({left:e.scrollLeft+s,behavior:"smooth"})}}function wx(){const{showAll:r,currentPage:e,ordersPerPage:t,showFilter:n,filterValue:a,isFiltering:s,orderItems:i,setCurrentPage:l,setFilterValue:c,toggleShowAll:d,toggleFilter:u}=GK(),h=w.useRef(null),f=s&&a.trim()?i.filter(g=>{var v,x,b;return((v=g.product_name)==null?void 0:v.toLowerCase().includes(a.toLowerCase()))||((x=g.order_id)==null?void 0:x.toLowerCase().includes(a.toLowerCase()))||((b=g.publication_status)==null?void 0:b.toLowerCase().includes(a.toLowerCase()))}):i,p=r||s?Math.ceil(f.length/t):1;let m;return m=WS(f,1,t),(r||s)&&(m=WS(f,e,t)),o.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white pt-4 dark:border-gray-800 dark:bg-white/[0.03] h-full",style:{height:"100%"},children:[o.jsxs("div",{className:"flex flex-col gap-4 px-6 mb-4 sm:flex-row sm:items-center sm:justify-between",children:[o.jsx("div",{children:o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:r||s?"Todos os Pedidos":"ltimos Pedidos"})}),o.jsxs("div",{className:"flex items-center gap-3",children:[n?o.jsx("input",{type:"text",className:"px-3 py-2 rounded-lg border border-gray-300 text-sm text-gray-800 dark:bg-gray-900 dark:border-gray-700 dark:text-white/90 focus:border-brand-300 focus:outline-none focus:ring-2 focus:ring-brand-500/10",placeholder:"Filtrar por cliente, email, id, valor ou data",value:a,onChange:g=>c(g.target.value),style:{width:93},autoFocus:!0}):o.jsxs("button",{className:"text-theme-sm shadow-theme-xs inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-3 font-medium text-gray-700 hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",onClick:u,children:[o.jsxs("svg",{className:"stroke-current fill-white dark:fill-gray-800",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M2.29004 5.90393H17.7067",stroke:"",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M17.7075 14.0961H2.29085",stroke:"",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M12.0826 3.33331C13.5024 3.33331 14.6534 4.48431 14.6534 5.90414C14.6534 7.32398 13.5024 8.47498 12.0826 8.47498C10.6627 8.47498 9.51172 7.32398 9.51172 5.90415C9.51172 4.48432 10.6627 3.33331 12.0826 3.33331Z",fill:"",stroke:"",strokeWidth:"1.5"}),o.jsx("path",{d:"M7.91745 11.525C6.49762 11.525 5.34662 12.676 5.34662 14.0959C5.34661 15.5157 6.49762 16.6667 7.91745 16.6667C9.33728 16.6667 10.4883 15.5157 10.4883 14.0959C10.4883 12.676 9.33728 11.525 7.91745 11.525Z",fill:"",stroke:"",strokeWidth:"1.5"})]}),"Filtrar"]}),o.jsx("button",{className:"text-theme-sm shadow-theme-xs inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-3 font-medium text-gray-700 hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",onClick:d,children:r||s?"Recentes":"Todos"})]})]}),o.jsx("div",{className:"max-w-full overflow-x-auto custom-scrollbar",style:{height:"563px"},children:o.jsxs("table",{className:"recent-orders-table min-w-full w-full h-full table-fixed",children:[o.jsx($K,{}),o.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:m.map(g=>o.jsx(WK,{item:g},g.id))})]})}),(r||s)&&p>1&&o.jsx("div",{className:"flex flex-col items-center justify-between px-4 py-3 border-t border-gray-200 dark:border-gray-800 sm:px-6",children:o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("button",{onClick:()=>l(g=>Math.max(g-1,1)),disabled:e===1,className:"relative inline-flex items-center px-3 py-1 text-sm font-medium rounded-md transition-all duration-150 text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700","aria-label":"Pgina anterior",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),o.jsx("div",{ref:h,className:"flex items-center space-x-1 overflow-x-auto max-w-full scrollbar-thin pagination-slide-scroll",children:(()=>{let v=Math.max(1,e-Math.floor(2.5)),x=v+5-1;x>p&&(x=p,v=Math.max(1,x-5+1));const b=[];for(let y=v;y<=x;y++)b.push(o.jsx("button",{id:`page-btn-${y}`,onClick:()=>{l(y),setTimeout(()=>{XK(y,h.current)},10)},className:"relative inline-flex items-center justify-center w-9 h-8 text-sm font-medium rounded-md transition-all duration-150 "+(e===y?"bg-brand-500 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700"),children:y},y));return b})()}),o.jsx("button",{onClick:()=>l(g=>Math.min(g+1,p)),disabled:e===p,className:"relative inline-flex items-center px-3 py-1 text-sm font-medium rounded-md transition-all duration-150 text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700","aria-label":"Prxima pgina",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]})})]})}async function ZK(){try{const r=new Date,e=new Date(r.getFullYear(),r.getMonth(),1),t=new Date(r.getFullYear(),r.getMonth()+1,0,23,59,59,999),n=await x1();return n?n.filter(a=>a.payment_status==="paid"&&a.aprovment_payment&&new Date(a.aprovment_payment)>=e&&new Date(a.aprovment_payment)<=t).reduce((a,s)=>a+(s.total_amount||0),0):0}catch(r){return console.error("Erro ao calcular faturamento do ms:",r),0}}async function JK(){try{const r=new Date,e=new Date(r.getFullYear(),r.getMonth(),1),t=new Date(r.getFullYear(),r.getMonth()+1,0,23,59,59,999),n=new Date(r.getFullYear(),r.getMonth()-1,1),a=new Date(r.getFullYear(),r.getMonth(),0,23,59,59,999),s=await x1();if(!s)return{atual:0,anterior:0,diffPercent:0};const i=(u,h)=>s.filter(f=>f.payment_status==="paid"&&f.aprovment_payment&&new Date(f.aprovment_payment)>=u&&new Date(f.aprovment_payment)<=h).reduce((f,p)=>f+(p.total_amount||0),0),l=i(e,t),c=i(n,a);let d=0;return c>0?d=(l-c)/c*100:l>0&&(d=100),{atual:l,anterior:c,diffPercent:d}}catch(r){return console.error("Erro ao calcular diferena de faturamento:",r),{atual:0,anterior:0,diffPercent:0}}}async function KK(){try{let r=function(u,h,f){if(!u)return!1;const[p,m]=u.split("-");return Number(m)===h&&Number(p)===f};const e=new Date,t=e.getMonth()+1,n=e.getFullYear();let a=t-1,s=n;a===0&&(a=12,s=n-1);const{data:i,error:l}=await K.from("user_stats").select("month_total, name, year, last_date");if(l)throw l;console.log("user_stats data:",i),i&&i.length>0?i.forEach(u=>console.log("Linha:",u,"last_date:",u.last_date)):console.log("user_stats data est vazio!");let c=(i==null?void 0:i.find(u=>u.last_date&&r(u.last_date,t,n)))||null,d=(i==null?void 0:i.find(u=>u.last_date&&r(u.last_date,a,s)))||null;return!c&&i&&i.length>0&&(c=i.reduce((u,h)=>h.last_date>u.last_date?h:u,i[0])),!d&&i&&i.length>1&&(d=[...i].sort((h,f)=>f.last_date.localeCompare(h.last_date))[1]||null),console.log("current:",c,"previous:",d),{currentMonthTotal:(c==null?void 0:c.month_total)??0,previousMonthTotal:(d==null?void 0:d.month_total)??0,currentMonthName:(c==null?void 0:c.name)??"",previousMonthName:(d==null?void 0:d.name)??""}}catch(r){return console.error("Erro ao buscar totais dos meses:",r),{currentMonthTotal:0,previousMonthTotal:0,currentMonthName:"",previousMonthName:""}}}async function QP(){const{data:r,error:e}=await K.from("form_entries").select("*");return e?(console.log("Erro ao buscar form_entries:",e),[]):r}async function x3(){const{data:r,error:e}=await K.from("forms").select("*");return e?(console.error("Erro ao buscar forms:",e),null):r}async function QK(){const r=await x3();if(!r)return[];const e=r.find(a=>{var s;return((s=a.title)==null?void 0:s.toLowerCase())==="cadastro de sites"});if(!e)return[];const t=await QP();return t?t.filter(a=>a.form_id===e.id):[]}function eQ(r){if(r>=1e3){const e=r/1e3;return`R$ ${Number.isInteger(e)?e.toFixed(0):e.toFixed(1)}K`}return r.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}const tQ=()=>{const[r,e]=w.useState(null),[t,n]=w.useState(null),[a,s]=w.useState(null),[i,l]=w.useState(null),[c,d]=w.useState(!0),[u,h]=w.useState(null),[f,p]=w.useState(!0),[m,g]=w.useState(null),[v,x]=w.useState(null),[b,y]=w.useState(null),[C,S]=w.useState(!0);return w.useEffect(()=>{ZK().then(e),JK().then(_=>n(_.diffPercent)),d(!0),KK().then(_=>{s(_.currentMonthTotal),_.previousMonthTotal>0?l((_.currentMonthTotal-_.previousMonthTotal)/_.previousMonthTotal*100):l(null),d(!1)}),p(!0),QK().then(_=>{const E=new Date,A=E.getMonth()+1,T=E.getFullYear(),F=A===1?12:A-1,L=A===1?T-1:T,D=_.filter(I=>{const B=new Date(I.created_at);return B.getMonth()+1===A&&B.getFullYear()===T}).length,O=_.filter(I=>{const B=new Date(I.created_at);return B.getMonth()+1===F&&B.getFullYear()===L}).length;h(D),O>0?g((D-O)/O*100):g(null),p(!1)}),S(!0),x1().then(_=>{if(!_){x(0),y(null),S(!1);return}const E=new Date,A=E.getUTCMonth()+1,T=E.getUTCFullYear(),F=A===1?12:A-1,L=A===1?T-1:T,D=_.filter(I=>{const B=new Date(I.created_at);return B.getUTCMonth()+1===A&&B.getUTCFullYear()===T}).length,O=_.filter(I=>{const B=new Date(I.created_at);return B.getUTCMonth()+1===F&&B.getUTCFullYear()===L}).length;x(D),O>0?y((D-O)/O*100):y(null),S(!1)})},[]),o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:gap-6 xl:grid-cols-4",children:[o.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03]",children:[o.jsx("p",{className:"text-gray-500 text-theme-sm dark:text-gray-400",children:"Faturamento Ms"}),o.jsxs("div",{className:"flex items-end justify-between mt-3",children:[o.jsx("div",{children:o.jsx("h4",{className:"text-2xl font-bold text-gray-800 dark:text-white/90",children:r===null?"...":eQ(r)})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm "+(t!==null&&t<0?"bg-red-200 text-red-700":"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500"),children:o.jsx("span",{className:"text-xs",children:t===null?"...":`${t>0?"+":""}${t.toFixed(1)}%`})}),o.jsx("span",{className:"text-gray-500 text-theme-xs dark:text-gray-400",children:"Vs ms anterior"})]})]})]}),o.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03]",children:[o.jsx("p",{className:"text-gray-500 text-theme-sm dark:text-gray-400",children:"Usurios"}),o.jsxs("div",{className:"flex items-end justify-between mt-3",children:[o.jsx("div",{children:o.jsx("h4",{className:"text-2xl font-bold text-gray-800 dark:text-white/90",children:c?"...":a})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm "+(i!==null&&i<0?"bg-red-200 text-red-700":"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500"),children:o.jsx("span",{className:"text-xs",children:c||i===null?"...":`${i>0?"+":""}${i.toFixed(1)}%`})}),o.jsx("span",{className:"text-gray-500 text-theme-xs dark:text-gray-400",children:"Vs ms anterior"})]})]})]}),o.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03]",children:[o.jsx("p",{className:"text-gray-500 text-theme-sm dark:text-gray-400",children:"Sites Cadastrados"}),o.jsxs("div",{className:"flex items-end justify-between mt-3",children:[o.jsx("div",{children:o.jsx("h4",{className:"text-2xl font-bold text-gray-800 dark:text-white/90",children:f?"...":u!==null?u>=1e3?`${(u/1e3).toFixed(u%1e3===0?0:1)}K`:u:"0"})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm "+(m!==null&&m<0?"bg-red-200 text-red-700":"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500"),children:o.jsx("span",{className:"text-xs",children:f||m===null?"...":`${m>0?"+":""}${m.toFixed(1)}%`})}),o.jsx("span",{className:"text-gray-500 text-theme-xs dark:text-gray-400",children:"Vs ms anterior"})]})]})]}),o.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03]",children:[o.jsx("p",{className:"text-gray-500 text-theme-sm dark:text-gray-400",children:"Vendas do Ms"}),o.jsxs("div",{className:"flex items-end justify-between mt-3",children:[o.jsx("div",{children:o.jsx("h4",{className:"text-2xl font-bold text-gray-800 dark:text-white/90",children:C?"...":v!==null?v>=1e3?`${(v/1e3).toFixed(v%1e3===0?0:1)}K`:v:"0"})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm "+(b!==null&&b<0?"bg-red-200 text-red-700":"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500"),children:o.jsx("span",{className:"text-xs",children:C||b===null?"...":`${b>0?"+":""}${b.toFixed(1)}%`})}),o.jsx("span",{className:"text-gray-500 text-theme-xs dark:text-gray-400",children:"Vs ms anterior"})]})]})]})]})};function rQ(){const r={chart:{type:"bar",height:250,fontFamily:"Outfit, sans-serif",toolbar:{show:!1}},colors:["#465FFF"],plotOptions:{bar:{borderRadius:6,columnWidth:"40%"}},dataLabels:{enabled:!1},legend:{show:!1},grid:{yaxis:{lines:{show:!0}},xaxis:{lines:{show:!1}}},xaxis:{categories:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],labels:{style:{fontSize:"12px",colors:["#6B7280"]}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{style:{fontSize:"12px",colors:["#6B7280"]}}},tooltip:{enabled:!0}},e=[{name:"Sales",data:[168,385,201,298,187,195,291,110,215,390,280,112]}];return o.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white px-5 pt-5 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6 sm:pt-6",children:[o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-5",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"mb-1 text-lg font-semibold text-gray-800 dark:text-white/90",children:"Vendas Mensais"}),o.jsx("span",{className:"block text-gray-500 text-theme-sm dark:text-gray-400",children:"Anlise de visitantes dos ltimos 30 dias"})]}),o.jsxs("div",{className:"flex items-center gap-0.5 rounded-lg bg-gray-100 p-0.5 dark:bg-gray-900",children:[o.jsx("button",{className:"px-3 py-2 font-medium w-full rounded-md text-theme-sm hover:text-gray-900 dark:hover:text-white shadow-theme-xs text-gray-900 dark:text-white bg-white dark:bg-gray-800",children:"Mensal"}),o.jsx("button",{className:"px-3 py-2 font-medium w-full rounded-md text-theme-sm hover:text-gray-900 dark:hover:text-white text-gray-500 dark:text-gray-400",children:"Trimestral"}),o.jsx("button",{className:"px-3 py-2 font-medium w-full rounded-md text-theme-sm hover:text-gray-900 dark:hover:text-white text-gray-500 dark:text-gray-400",children:"Anual"})]})]}),o.jsx("div",{className:"max-w-full overflow-x-auto custom-scrollbar",children:o.jsx("div",{className:"-ml-5 min-w-[1300px] xl:min-w-full pl-2",children:o.jsx("div",{style:{minHeight:265},children:o.jsx(D4,{options:r,series:e,type:"bar",height:250})})})})]})}function nQ(){return o.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Sites Mais Vendidos"}),o.jsx("div",{className:"relative inline-block",children:o.jsx("button",{className:"dropdown-toggle",children:o.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 size-6",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2441 6C10.2441 5.0335 11.0276 4.25 11.9941 4.25H12.0041C12.9706 4.25 13.7541 5.0335 13.7541 6C13.7541 6.9665 12.9706 7.75 12.0041 7.75H11.9941C11.0276 7.75 10.2441 6.9665 10.2441 6ZM10.2441 18C10.2441 17.0335 11.0276 16.25 11.9941 16.25H12.0041C12.9706 16.25 13.7541 17.0335 13.7541 18C13.7541 18.9665 12.9706 19.75 12.0041 19.75H11.9941C11.0276 19.75 10.2441 18.9665 10.2441 18ZM11.9941 10.25C11.0276 10.25 10.2441 11.0335 10.2441 12C10.2441 12.9665 11.0276 13.75 11.9941 13.75H12.0041C12.9706 13.75 13.7541 12.9665 13.7541 12C13.7541 11.0335 12.9706 10.25 12.0041 10.25H11.9941Z",fill:"currentColor"})})})})]}),o.jsxs("div",{className:"my-6",children:[o.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-100 dark:border-gray-800",children:[o.jsx("span",{className:"text-gray-400 text-theme-xs",children:" Site "}),o.jsx("span",{className:"text-right text-gray-400 text-theme-xs",children:" Preo "})]}),o.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800",children:[o.jsx("span",{className:"text-gray-500 text-theme-sm dark:text-gray-400",children:"Google"}),o.jsx("span",{className:"text-right text-gray-500 text-theme-sm dark:text-gray-400",children:"4.7K"})]}),o.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800",children:[o.jsx("span",{className:"text-gray-500 text-theme-sm dark:text-gray-400",children:"Facebook"}),o.jsx("span",{className:"text-right text-gray-500 text-theme-sm dark:text-gray-400",children:"3.4K"})]}),o.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800",children:[o.jsx("span",{className:"text-gray-500 text-theme-sm dark:text-gray-400",children:"Threads"}),o.jsx("span",{className:"text-right text-gray-500 text-theme-sm dark:text-gray-400",children:"2.9K"})]}),o.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800",children:[o.jsx("span",{className:"text-gray-500 text-theme-sm dark:text-gray-400",children:"Google"}),o.jsx("span",{className:"text-right text-gray-500 text-theme-sm dark:text-gray-400",children:"1.5K"})]})]})]})}function aQ(){return o.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Top clientes que compram"}),o.jsx("div",{className:"relative inline-block",children:o.jsx("button",{className:"dropdown-toggle",children:o.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 size-6",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2441 6C10.2441 5.0335 11.0276 4.25 11.9941 4.25H12.0041C12.9706 4.25 13.7541 5.0335 13.7541 6C13.7541 6.9665 12.9706 7.75 12.0041 7.75H11.9941C11.0276 7.75 10.2441 6.9665 10.2441 6ZM10.2441 18C10.2441 17.0335 11.0276 16.25 11.9941 16.25H12.0041C12.9706 16.25 13.7541 17.0335 13.7541 18C13.7541 18.9665 12.9706 19.75 12.0041 19.75H11.9941C11.0276 19.75 10.2441 18.9665 10.2441 18ZM11.9941 10.25C11.0276 10.25 10.2441 11.0335 10.2441 12C10.2441 12.9665 11.0276 13.75 11.9941 13.75H12.0041C12.9706 13.75 13.7541 12.9665 13.7541 12C13.7541 11.0335 12.9706 10.25 12.0041 10.25H11.9941Z",fill:"currentColor"})})})})]}),o.jsxs("div",{className:"my-6",children:[o.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-100 dark:border-gray-800",children:[o.jsx("span",{className:"text-gray-400 text-theme-xs",children:" Fonte "}),o.jsx("span",{className:"text-right text-gray-400 text-theme-xs",children:" Visualizaes da pgina "})]}),o.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800",children:[o.jsx("span",{className:"text-gray-500 text-theme-sm dark:text-gray-400",children:"Google"}),o.jsx("span",{className:"text-right text-gray-500 text-theme-sm dark:text-gray-400",children:"4.7K"})]}),o.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800",children:[o.jsx("span",{className:"text-gray-500 text-theme-sm dark:text-gray-400",children:"Facebook"}),o.jsx("span",{className:"text-right text-gray-500 text-theme-sm dark:text-gray-400",children:"3.4K"})]}),o.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800",children:[o.jsx("span",{className:"text-gray-500 text-theme-sm dark:text-gray-400",children:"Threads"}),o.jsx("span",{className:"text-right text-gray-500 text-theme-sm dark:text-gray-400",children:"2.9K"})]}),o.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800",children:[o.jsx("span",{className:"text-gray-500 text-theme-sm dark:text-gray-400",children:"Google"}),o.jsx("span",{className:"text-right text-gray-500 text-theme-sm dark:text-gray-400",children:"1.5K"})]})]})]})}class y5{static async getAllPromotionSites(){try{const{data:e,error:t}=await K.from("promotion_sites").select("*").order("percent",{ascending:!1});return t?(console.error("Erro ao buscar sites em promoo:",t),null):e}catch(e){return console.error("Erro inesperado ao buscar sites em promoo:",e),null}}static async getPromotionSitesForRanking(){try{const e=await this.getAllPromotionSites();return e?e.map(n=>({id:n.id,url:n.url,percent:n.percent,price:n.price,promotional_price:n.promotional_price})):null}catch(e){return console.error("Erro ao formatar sites em promoo para ranking:",e),null}}static async getTopPromotionSites(e=10){try{const{data:t,error:n}=await K.from("promotion_sites").select("id, url, percent, price, promotional_price").order("percent",{ascending:!1}).limit(e);return n?(console.error("Erro ao buscar top sites em promoo:",n),null):t}catch(t){return console.error("Erro inesperado ao buscar top sites em promoo:",t),null}}static async getPromotionSiteById(e){try{const{data:t,error:n}=await K.from("promotion_sites").select("*").eq("id",e).single();return n?(console.error("Erro ao buscar site em promoo por ID:",n),null):t}catch(t){return console.error("Erro inesperado ao buscar site em promoo por ID:",t),null}}static extractDomain(e){try{return new URL(e.startsWith("http")?e:`https://${e}`).hostname.replace("www.","")}catch{return e}}static formatPercent(e){return`${e.toFixed(1)}%`}}function sQ(r=10){const[e,t]=w.useState([]),[n,a]=w.useState(!0),[s,i]=w.useState(null),l=async()=>{try{a(!0),i(null);const d=await y5.getTopPromotionSites(r);d===null?(i("Erro ao carregar sites em promoo"),t([])):t(d)}catch(d){console.error("Erro no hook usePromotionSites:",d),i("Erro inesperado ao carregar dados"),t([])}finally{a(!1)}};return w.useEffect(()=>{l()},[r]),{sites:e,loading:n,error:s,refetch:async()=>{await l()}}}function iQ({site:r,isLast:e=!1}){const t=y5.extractDomain(r.url),n=y5.formatPercent(r.percent);return o.jsxs("div",{className:`flex items-center justify-between py-3 ${e?"":"border-b border-gray-100 dark:border-gray-800"}`,children:[o.jsx("span",{className:"text-gray-500 text-theme-sm dark:text-gray-400",title:r.url,children:t}),o.jsx("span",{className:"text-right text-gray-500 text-theme-sm dark:text-gray-400",children:n})]})}function oQ(){return o.jsxs("div",{className:"my-6",children:[o.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-100 dark:border-gray-800",children:[o.jsx("span",{className:"text-gray-400 text-theme-xs",children:"Site"}),o.jsx("span",{className:"text-right text-gray-400 text-theme-xs",children:"Desconto"})]}),[...Array(5)].map((r,e)=>o.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800",children:[o.jsx("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 h-4 w-24 rounded"}),o.jsx("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 h-4 w-12 rounded"})]},e))]})}function lQ({message:r,onRetry:e}){return o.jsxs("div",{className:"my-6 text-center",children:[o.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-100 dark:border-gray-800",children:[o.jsx("span",{className:"text-gray-400 text-theme-xs",children:"Site"}),o.jsx("span",{className:"text-right text-gray-400 text-theme-xs",children:"Desconto"})]}),o.jsxs("div",{className:"py-8",children:[o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:r}),e&&o.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-brand-600 hover:text-brand-700 dark:text-brand-400 dark:hover:text-brand-300 border border-brand-300 rounded-md hover:bg-brand-50 dark:hover:bg-brand-900/20 transition-colors",children:"Tentar novamente"})]})]})}function cQ(){return o.jsxs("div",{className:"my-6",children:[o.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-100 dark:border-gray-800",children:[o.jsx("span",{className:"text-gray-400 text-theme-xs",children:"Site"}),o.jsx("span",{className:"text-right text-gray-400 text-theme-xs",children:"Desconto"})]}),o.jsx("div",{className:"py-8 text-center",children:o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Nenhum site em promoo encontrado"})})]})}function v3(){const{sites:r,loading:e,error:t,refetch:n}=sQ(5),a=()=>e?o.jsx(oQ,{}):t?o.jsx(lQ,{message:t,onRetry:n}):r.length===0?o.jsx(cQ,{}):o.jsxs("div",{className:"my-6",children:[o.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-100 dark:border-gray-800",children:[o.jsx("span",{className:"text-gray-400 text-theme-xs",children:"Site"}),o.jsx("span",{className:"text-right text-gray-400 text-theme-xs",children:"Desconto"})]}),r.map((s,i)=>o.jsx(iQ,{site:s,isLast:i===r.length-1},s.id))]});return o.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03] md:p-6 h-full",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Top sites em promoo"}),o.jsx("div",{className:"relative inline-block",children:o.jsx("button",{className:"dropdown-toggle",children:o.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 size-6",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2441 6C10.2441 5.0335 11.0276 4.25 11.9941 4.25H12.0041C12.9706 4.25 13.7541 5.0335 13.7541 6C13.7541 6.9665 12.9706 7.75 12.0041 7.75H11.9941C11.0276 7.75 10.2441 6.9665 10.2441 6ZM10.2441 18C10.2441 17.0335 11.0276 16.25 11.9941 16.25H12.0041C12.9706 16.25 13.7541 17.0335 13.7541 18C13.7541 18.9665 12.9706 19.75 12.0041 19.75H11.9941C11.0276 19.75 10.2441 18.9665 10.2441 18ZM11.9941 10.25C11.0276 10.25 10.2441 11.0335 10.2441 12C10.2441 12.9665 11.0276 13.75 11.9941 13.75H12.0041C12.9706 13.75 13.7541 12.9665 13.7541 12C13.7541 11.0335 12.9706 10.25 12.0041 10.25H11.9941Z",fill:"currentColor"})})})})]}),a()]})}const dQ=[{id:0,question:"Como comprar um link em portais?",answer:"Para comprar um link, basta acessar nossa pgina de marketplace, selecionar o portal desejado e clicar em 'comprar'. Defina se o contedo ser produzido por voc ou por nossa equipe e, em seguida, realize o pagamento. O processo  simples, rpido e seguro."},{id:1,question:"Como enviar o contedo para publicao?",answer:"Aps realizar o pedido, basta seguir o padro indicado no link de exemplo fornecido e fazer o upload do contedo diretamente na pgina do pedido, no campo referente ao site escolhido para publicao."},{id:2,question:"Como enviar minhas pautas para produo de contedo?",answer:"Aps a confirmao do pedido, aguarde at 24 horas para que nossa equipe entre em contato solicitando as pautas para a produo do seu artigo. Caso ainda no tenha as pautas definidas, no se preocupe  podemos sugerir algumas opes com base no tema do portal escolhido."},{id:3,question:"Em quanto tempo meu contedo ser publicado?",answer:"O prazo mdio para publicao varia de acordo com o portal escolhido, mas geralmente ocorre entre 3 a 7 dias teis aps a aprovao do contedo. Caso haja urgncia, consulte nossa equipe sobre prazos expressos."},{id:4,question:"O contedo publicado ficar no ar por quanto tempo?",answer:"A maioria dos portais mantm os contedos publicados por tempo indeterminado. No entanto, recomendamos verificar essa informao na descrio de cada portal antes da compra."},{id:5,question:"Posso editar ou substituir o contedo aps a publicao?",answer:"No. Aps o envio do contedo e o incio do processo de publicao, no  possvel realizar alteraes ou substituies. Recomendamos revisar atentamente o material antes de envi-lo, pois ele ser publicado conforme foi submetido."},{id:6,question:"A publicao garante posicionamento no Google?",answer:"Embora publicaes em portais relevantes contribuam para o SEO do seu site, no garantimos posies especficas nos resultados de busca, pois isso depende de diversos fatores externos e do algoritmo do Google."},{id:7,question:"Como recebo o link da publicao?",answer:"Assim que o contedo for publicado, voc ser notificado por e-mail com o link de acesso. Voc tambm pode acompanhar o status do pedido diretamente na sua rea do cliente."},{id:8,question:"Posso cancelar minha compra?",answer:"Sim. Voc pode cancelar seu pedido dentro do prazo de 7 dias, desde que o contedo ainda no tenha iniciado o processo de produo e publicao por nossa equipe. Para solicitar o cancelamento, entre em contato pelo e-mail cancelamento@suaimprensa.com.br."}];function Cp(){const[r,e]=w.useState(0),t=n=>{e(r===n?null:n)};return o.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] h-full",children:[o.jsxs("div",{className:"px-5 py-4 sm:px-6 sm:py-5",children:[o.jsx("h3",{className:"text-base font-medium text-gray-800 dark:text-white/90",children:o.jsx("strong",{children:"Precisa de ajuda? Comece por aqui "})}),o.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:"Reunimos as dvidas mais comuns para te ajudar a aproveitar ao mximo nosso marketplace"})]}),o.jsx("div",{className:"border-t border-gray-100 p-4 dark:border-gray-800 sm:p-6",children:o.jsx("div",{className:"space-y-4",children:dQ.map(n=>o.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]",children:[o.jsxs("div",{onClick:()=>t(n.id),className:`flex items-center justify-between py-3 pl-6 pr-3 cursor-pointer ${r===n.id?"bg-gray-50 dark:bg-white/[0.03]":""}`,children:[o.jsx("h4",{className:"text-lg font-medium text-gray-800 dark:text-white/90",children:n.question}),o.jsx("button",{className:`flex h-12 w-full max-w-12 items-center justify-center rounded-full bg-gray-100 duration-200 ease-linear dark:bg-white/[0.03] ${r===n.id?"text-gray-800 dark:text-white/90 rotate-180":"text-gray-500 dark:text-gray-400"}`,children:o.jsx("svg",{className:"stroke-current",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M5.75 8.875L12 15.125L18.25 8.875",stroke:"",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),r===n.id&&o.jsx("div",{className:"px-6 py-7",children:o.jsx("p",{className:"text-base text-gray-500 dark:text-gray-400",children:n.answer})})]},n.id))})})]})}const uQ=[{category:"Melhoria do Produto",category_id:1},{category:"Experincia do Usurio",category_id:2},{category:"Performance",category_id:3},{category:"Nova Funcionalidade",category_id:4},{category:"Relatrio de Bug",category_id:5},{category:"Atendimento ao Cliente",category_id:6},{category:"Outros",category_id:7}],hQ=[{code:"BR",label:"+55"},{code:"US",label:"+1"},{code:"GB",label:"+44"},{code:"PT",label:"+351"},{code:"ES",label:"+34"},{code:"FR",label:"+33"},{code:"DE",label:"+49"},{code:"IT",label:"+39"},{code:"JP",label:"+81"},{code:"CN",label:"+86"},{code:"AU",label:"+61"},{code:"CA",label:"+1"},{code:"MX",label:"+52"},{code:"AR",label:"+54"},{code:"CL",label:"+56"},{code:"CO",label:"+57"},{code:"PE",label:"+51"},{code:"UY",label:"+598"},{code:"PY",label:"+595"},{code:"BO",label:"+591"}],fQ={countries:hQ};async function pQ(r){try{const{data:e,error:t}=await K.from("admins").select("*").eq("id",r).maybeSingle();if(t)throw t;return e}catch(e){return console.error("Erro ao buscar perfil admin:",e),null}}async function gQ(r){try{const{data:e,error:t}=await K.from("platform_users").select("*").eq("id",r).maybeSingle();if(t)throw t;return e}catch(e){return console.error("Erro ao buscar perfil do usurio da plataforma:",e),null}}async function mQ(){try{const{data:{user:r}}=await K.auth.getUser();if(!r)return{isAdmin:!1,profile:null};const e=await pQ(r.id);return e?{isAdmin:!0,profile:e}:{isAdmin:!1,profile:await gQ(r.id)}}catch(r){return console.error("Erro ao buscar perfil do usurio atual:",r),{isAdmin:!1,profile:null}}}function xQ(){const[r,e]=w.useState(null),[t,n]=w.useState(!0),[a,s]=w.useState(!1),[i,l]=w.useState(null);w.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0),l(null);const{isAdmin:d,profile:u}=await mQ();if(u){const h={id:u.id,email:u.email,first_name:u.first_name,last_name:u.last_name,phone:u.phone||"",role:d?"admin":u.role,is_first_admin:u.is_first_admin,status:u.status,created_at:u.created_at,updated_at:u.updated_at};e(h),s(d)}else e(null),s(!1)}catch(d){console.error("Erro ao carregar dados do usurio:",d),l("Erro ao carregar dados do usurio")}finally{n(!1)}};return{profile:r,isLoading:t,isAdmin:a,error:i}}function vQ(){const{profile:r,isLoading:e,error:t}=xQ(),[n,a]=w.useState({name:"",email:"",phone:"",category:0,subject:"",message:""});return w.useEffect(()=>{if(r){const l=`${r.first_name} ${r.last_name}`.trim();a(c=>({...c,name:l,email:r.email,phone:r.phone||""}))}},[r]),{formData:n,updateFormData:(l,c)=>{a(d=>({...d,[l]:c}))},resetForm:()=>{if(r){const l=`${r.first_name} ${r.last_name}`.trim();a({name:l,email:r.email,phone:r.phone||"",category:0,subject:"",message:""})}else a({name:"",email:"",phone:"",category:0,subject:"",message:""})},isLoadingUser:e,userError:t,profile:r}}function Sp(){const{formData:r,updateFormData:e,resetForm:t,isLoadingUser:n}=vQ(),[a,s]=w.useState(!1),[i,l]=w.useState(!1),[c,d]=w.useState(null),u=uQ,h=p=>{const{name:m,value:g}=p.target,v=m==="category"?Number(g):g;if(m==="category"&&Number(g)>0){const x=u.find(b=>b.category_id===Number(g));console.log(" Categoria selecionada:",{id:Number(g),name:x==null?void 0:x.category,allCategories:u})}e(m,v)},f=async p=>{var m,g,v;p.preventDefault(),s(!0),d(null),console.log(" Formulrio sendo enviado:",{formData:r,categoryName:(m=u.find(x=>x.category_id===r.category))==null?void 0:m.category});try{const{data:x}=await K.auth.getSession(),b=(g=x.session)==null?void 0:g.access_token,y=((v=u.find(S=>S.category_id===r.category))==null?void 0:v.category)||"";if(!(await fetch("https://uxbeaslwirkepnowydfu.supabase.co/functions/v1/feedback-email",{method:"POST",headers:{"Content-Type":"application/json",...b?{Authorization:`Bearer ${b}`}:{}},body:JSON.stringify({feedback:{...r,category:y}})})).ok)throw new Error("Erro ao enviar feedback por e-mail");l(!0),t()}catch(x){console.error(" Erro ao enviar feedback:",x),d(x instanceof Error?x.message:"Failed to submit feedback")}finally{s(!1)}};return n?o.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]",children:o.jsx("div",{className:"flex justify-center items-center h-32",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-brand-500 border-t-transparent"})})}):i?o.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/20",children:o.jsx("svg",{className:"h-8 w-8 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90 mb-2",children:"Obrigado pelo seu feedback!"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Sua sugesto foi enviada com sucesso. Iremos analis-la e retornaremos em breve."}),o.jsx("button",{onClick:()=>l(!1),className:"text-brand-500 hover:text-brand-600 font-medium",children:"Enviar outra sugesto"})]})}):o.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(NN,{className:"h-6 w-6 text-brand-500"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Compartilhe Suas Ideias de Melhoria"})]}),o.jsx("p",{className:"text-gray-500 text-sm dark:text-gray-400",children:"Ajude-nos a melhorar compartilhando suas sugestes e feedback"})]}),c&&o.jsx("div",{className:"mb-4 rounded-lg bg-red-50 border border-red-200 p-3 dark:bg-red-900/20 dark:border-red-800",children:o.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:c})}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome *"}),o.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:h,required:!0,className:"w-full h-11 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white",placeholder:"Seu nome completo"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),o.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:h,required:!0,className:"w-full h-11 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white",placeholder:"seu.email@exemplo.com"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Categoria *"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{id:"category",name:"category",value:r.category,onChange:h,required:!0,className:"w-full h-11 px-3 py-2 pr-11 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white appearance-none bg-white dark:bg-gray-800",children:[o.jsx("option",{value:0,children:"Selecione uma categoria"}),u.map(p=>o.jsx("option",{value:p.category_id,children:p.category},p.category_id))]}),o.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:o.jsx("svg",{className:"stroke-gray-500 dark:stroke-gray-400",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telefone"}),o.jsx(Kc,{countries:fQ.countries,value:r.phone,onChange:p=>e("phone",p),placeholder:"(99) 99999-9999"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Assunto *"}),o.jsx("input",{type:"text",id:"subject",name:"subject",value:r.subject,onChange:h,required:!0,className:"w-full h-11 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white",placeholder:"Breve descrio da sua sugesto"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mensagem Detalhada *"}),o.jsx("textarea",{id:"message",name:"message",value:r.message,onChange:h,required:!0,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white resize-none",placeholder:"Por favor, fornea informaes detalhadas sobre sua sugesto ou ideia de melhoria..."})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"submit",disabled:a,className:"inline-flex items-center gap-2 px-6 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Enviando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(CN,{className:"h-4 w-4"}),"Enviar Feedback"]})})})]})]})}function b3({className:r=""}){const[e,t]=w.useState(""),[n,a]=w.useState(!0),s=mr();w.useEffect(()=>{i()},[]);async function i(){var c,d,u;try{console.log("WelcomeMessage: Carregando dados do usurio...");const{data:{user:h}}=await K.auth.getUser();if(!h){console.log("WelcomeMessage: Usurio no encontrado"),a(!1);return}console.log("WelcomeMessage: Usurio autenticado:",h.id);const{data:f,error:p}=await K.from("platform_users").select("first_name, last_name").eq("id",h.id).maybeSingle();if(console.log("WelcomeMessage: Platform query result:",{platformProfile:f,platformError:p}),f!=null&&f.first_name){console.log("WelcomeMessage: Nome encontrado nos platform_users:",f.first_name),t(f.first_name),a(!1);return}const{data:m,error:g}=await K.from("admins").select("first_name, last_name").eq("id",h.id).maybeSingle();if(console.log("WelcomeMessage: Admin query result:",{adminProfile:m,adminError:g}),m!=null&&m.first_name){console.log("WelcomeMessage: Nome encontrado nos admins:",m.first_name),t(m.first_name),a(!1);return}const v=((c=h.user_metadata)==null?void 0:c.full_name)||((d=h.user_metadata)==null?void 0:d.name)||((u=h.email)==null?void 0:u.split("@")[0])||"Usurio";console.log("WelcomeMessage: Usando fallback para nome:",v),t(v),a(!1)}catch(h){console.error("WelcomeMessage: Erro ao carregar dados do usurio:",h),t("Usurio"),a(!1)}}const l=()=>{s("/pages/sites-e-portais")};return n?o.jsx("div",{className:`rounded-xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] sm:p-6 ${r}`,children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-7 bg-gray-200 dark:bg-gray-700 rounded mb-3 w-48"}),o.jsx("div",{className:"h-5 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-64"}),o.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-80"}),o.jsx("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded mt-4 w-56"})]})}):o.jsx("div",{className:`rounded-xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] sm:p-6 ${r}`,children:o.jsxs("div",{children:[o.jsxs("h1",{className:"mt-2 text-3xl sm:text-4xl font-bold text-gray-800 dark:text-white/90",children:["Ol, ",e," ",o.jsx("span",{"aria-label":"emoji",children:""})]}),o.jsx("h2",{className:"text-lg font-normal text-gray-700 dark:text-white/80 mb-2",children:"Seja bem-vindo  sua plataforma de backlinks!"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Descubra oportunidades em portais de alta relevncia e aumente a autoridade do seu site com estratgias de SEO eficazes."}),o.jsx("button",{onClick:l,className:"mt-4 inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-3 text-sm font-medium text-white shadow-theme-xs hover:bg-brand-600",children:"Ver oportunidades de backlinks"})]})})}function bQ(){const[r,e]=w.useState(!1),[t,n]=w.useState(!0);w.useEffect(()=>{a()},[]);async function a(){try{const{data:{user:s}}=await K.auth.getUser();if(!s){console.log("Dashboard: Nenhum usurio autenticado"),n(!1);return}console.log("Dashboard: Verificando admin para usurio:",s.id);const{data:i,error:l}=await K.from("admins").select("role").eq("id",s.id).maybeSingle();console.log("Dashboard: Resultado da consulta admin:",{adminData:i,adminError:l}),(i==null?void 0:i.role)==="admin"?(console.log("Dashboard: Usurio  admin!"),e(!0)):console.log("Dashboard: Usurio no  admin")}catch(s){console.error("Erro ao verificar role de admin:",s)}finally{n(!1)}}return t?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"React.js Ecommerce Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Ecommerce Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),!r&&o.jsx(b3,{className:"mb-8"}),r?o.jsxs("div",{className:"grid grid-cols-12 gap-4 md:gap-6",children:[o.jsxs("div",{className:"col-span-12 space-y-6 w-full",children:[o.jsx(tQ,{}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"flex flex-col gap-6 xl:col-span-2",children:[o.jsx(rQ,{}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[o.jsx(nQ,{}),o.jsx(aQ,{})]}),o.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:o.jsx(v3,{})})]}),o.jsx("div",{className:"xl:col-span-1",children:o.jsx(wx,{})})]})]}),o.jsx("div",{className:"col-span-12 xl:col-span-8",children:o.jsx(Cp,{})}),o.jsx("div",{className:"col-span-12 xl:col-span-4",children:o.jsx(Sp,{})})]}):o.jsxs("div",{className:"grid grid-cols-12 gap-4 md:gap-6",children:[o.jsx("div",{className:"col-span-12 xl:col-span-7",children:o.jsx(Cp,{})}),o.jsx("div",{className:"col-span-12 xl:col-span-5",children:o.jsx(Sp,{})})]})]})}function yQ(){const[r,e]=w.useState(null),[t,n]=w.useState(null),[a,s]=w.useState(null),[i,l]=w.useState(!1),[c,d]=w.useState(null),[u,h]=w.useState(null),[f,p]=w.useState({light:"/images/logo/logo.svg",dark:"/images/logo/logo-dark.svg",icon:"/images/logo/logo-icon.svg"});w.useEffect(()=>{m()},[]);async function m(){try{const{data:y,error:C}=await K.from("settings").select("*").single();if(C)if(C.code==="PGRST116"){const{data:S,error:_}=await K.from("settings").insert([{}]).select().single();if(_)throw _;d(S)}else throw C;else{if(d(y),y.light_logo){const{data:S}=K.storage.from("logos").getPublicUrl(y.light_logo);S&&p(_=>({..._,light:S.publicUrl}))}if(y.dark_logo){const{data:S}=K.storage.from("logos").getPublicUrl(y.dark_logo);S&&p(_=>({..._,dark:S.publicUrl}))}if(y.platform_icon){const{data:S}=K.storage.from("logos").getPublicUrl(y.platform_icon);S&&p(_=>({..._,icon:S.publicUrl}))}}}catch(y){console.error("Erro ao carregar configuraes:",y),h("Erro ao carregar configuraes")}}const g=y=>{var S;const C=(S=y.target.files)==null?void 0:S[0];C&&e(C)},v=y=>{var S;const C=(S=y.target.files)==null?void 0:S[0];C&&n(C)},x=y=>{var S;const C=(S=y.target.files)==null?void 0:S[0];C&&s(C)},b=async y=>{if(y.preventDefault(),!!(c!=null&&c.id)){l(!0),h(null);try{const C={};if(r){const S=`light-logo-${Date.now()}${r.name.substring(r.name.lastIndexOf("."))}`,{error:_}=await K.storage.from("logos").upload(S,r);if(_)throw _;C.light_logo=S}if(t){const S=`dark-logo-${Date.now()}${t.name.substring(t.name.lastIndexOf("."))}`,{error:_}=await K.storage.from("logos").upload(S,t);if(_)throw _;C.dark_logo=S}if(a){const S=`platform-icon-${Date.now()}${a.name.substring(a.name.lastIndexOf("."))}`,{error:_}=await K.storage.from("logos").upload(S,a);if(_)throw _;C.platform_icon=S}if(Object.keys(C).length>0){const{error:S}=await K.from("settings").update(C).eq("id",c.id);if(S)throw S;await m()}}catch(C){console.error("Erro ao salvar logos:",C),h(C.message||"Erro ao salvar logos")}finally{l(!1)}}};return o.jsxs("form",{onSubmit:b,className:"max-w-xl",children:[u&&o.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:u}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Te,{children:"Logo (Tema Claro)"}),o.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[o.jsx("div",{className:"h-12 w-48 flex items-center justify-center bg-white rounded-lg border border-gray-200",children:o.jsx("img",{src:f.light,alt:"Logo tema claro",className:"h-8 w-auto dark:hidden"})}),o.jsx("input",{type:"file",onChange:g,accept:"image/svg+xml,image/png",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-brand-50 file:text-brand-700 hover:file:bg-brand-100 dark:text-gray-400"})]}),o.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Recomendado: SVG ou PNG em cores escuras para melhor visibilidade no tema claro"})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Logo (Tema Escuro)"}),o.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[o.jsx("div",{className:"h-12 w-48 flex items-center justify-center bg-gray-900 rounded-lg border border-gray-700",children:o.jsx("img",{src:f.dark,alt:"Logo tema escuro",className:"h-8 w-auto"})}),o.jsx("input",{type:"file",onChange:v,accept:"image/svg+xml,image/png",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-brand-50 file:text-brand-700 hover:file:bg-brand-100 dark:text-gray-400"})]}),o.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Recomendado: SVG ou PNG em cores claras para melhor visibilidade no tema escuro"})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"cone da Plataforma (512x512)"}),o.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[o.jsx("div",{className:"h-16 w-16 flex items-center justify-center bg-white rounded-lg border border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:o.jsx("img",{src:f.icon,alt:"cone da plataforma",className:"h-12 w-12"})}),o.jsx("input",{type:"file",onChange:x,accept:"image/png",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-brand-50 file:text-brand-700 hover:file:bg-brand-100 dark:text-gray-400"})]}),o.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Recomendado: PNG 512x512px para melhor qualidade em todos os dispositivos"})]}),o.jsx("div",{className:"flex justify-end pt-6",children:o.jsx(at,{disabled:i,children:i?"Salvando...":"Salvar Alteraes"})})]})]})}function wQ(){const[r,e]=w.useState(!1),[t,n]=w.useState(null),[a,s]=w.useState(!1),[i,l]=w.useState({}),[c,d]=w.useState({smtp_host:"smtp.resend.com",smtp_port:"465",smtp_user:"resend",smtp_pass:"",smtp_from_email:"",smtp_from_name:""});w.useEffect(()=>{u()},[]);async function u(){try{e(!0),n(null);const{data:m,error:g}=await K.from("settings").select("*").single();if(g)if(g.code==="PGRST116"){const{data:v,error:x}=await K.from("settings").insert([{smtp_host:"smtp.resend.com",smtp_port:"465",smtp_user:"resend"}]).select().single();if(x)throw x;d(v||{})}else throw g;else d({...m,smtp_host:"smtp.resend.com",smtp_port:"465",smtp_user:"resend"})}catch(m){console.error("Erro ao carregar configuraes SMTP:",m),n("Erro ao carregar configuraes SMTP")}finally{e(!1)}}const h=()=>{var v,x,b;const m={};let g=!0;return(v=c.smtp_pass)!=null&&v.trim()?c.smtp_pass.startsWith("re_")||(m.smtp_pass="API Key do Resend deve comear com 're_'",g=!1):(m.smtp_pass="API Key do Resend  obrigatria",g=!1),(x=c.smtp_from_email)!=null&&x.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.smtp_from_email.trim())||(m.smtp_from_email="Email de envio invlido",g=!1):(m.smtp_from_email="Email de envio  obrigatrio",g=!1),(b=c.smtp_from_name)!=null&&b.trim()||(m.smtp_from_name="Nome de exibio  obrigatrio",g=!1),l(m),g},f=m=>{const{name:g,value:v}=m.target;d(x=>({...x,[g]:v})),i[g]&&l(x=>({...x,[g]:void 0}))},p=async m=>{var g,v,x;if(m.preventDefault(),!!h()){e(!0),n(null),s(!1);try{const{data:b,error:y}=await K.from("settings").select("id").single();if(y)throw y;if(!(b!=null&&b.id))throw new Error("ID das configuraes no encontrado");const{error:C}=await K.from("settings").update({smtp_host:c.smtp_host,smtp_port:c.smtp_port,smtp_user:c.smtp_user,smtp_pass:(g=c.smtp_pass)==null?void 0:g.trim(),smtp_from_email:(v=c.smtp_from_email)==null?void 0:v.trim(),smtp_from_name:(x=c.smtp_from_name)==null?void 0:x.trim()}).eq("id",b.id);if(C)throw C;s(!0)}catch(b){console.error("Erro ao salvar configuraes SMTP:",b),n(b.message||"Erro ao salvar configuraes SMTP")}finally{e(!1)}}};return o.jsxs("form",{onSubmit:p,className:"max-w-xl",children:[t&&o.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:t}),a&&o.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:"Configuraes SMTP salvas com sucesso!"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Te,{children:"API Key do Resend"}),o.jsx(st,{type:"password",name:"smtp_pass",value:c.smtp_pass||"",onChange:f,placeholder:"re_...",error:!!i.smtp_pass,hint:i.smtp_pass}),o.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Use a API Key gerada no painel do Resend"})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Email de Envio"}),o.jsx(st,{type:"email",name:"smtp_from_email",value:c.smtp_from_email||"",onChange:f,placeholder:"noreply@seudominio.com",error:!!i.smtp_from_email,hint:i.smtp_from_email}),o.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Email que aparecer como remetente (deve ser verificado no Resend)"})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Nome de Exibio"}),o.jsx(st,{type:"text",name:"smtp_from_name",value:c.smtp_from_name||"",onChange:f,placeholder:"Nome da Empresa",error:!!i.smtp_from_name,hint:i.smtp_from_name}),o.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Nome que aparecer como remetente"})]}),o.jsxs("div",{className:"flex justify-end pt-6",children:[o.jsx(at,{variant:"outline",onClick:()=>{},children:"Cancelar"}),o.jsx(at,{disabled:r,children:r?"Salvando...":"Salvar"})]})]})]})}function kQ(){const[r,e]=w.useState(!1),[t,n]=w.useState(null),[a,s]=w.useState(!1),[i,l]=w.useState({}),[c,d]=w.useState(!1),[u,h]=w.useState({antifraude_min_amount:10,pagarme_test_mode:!0,antifraude_enabled:!0,pagarme_webhook_secret:"",payment_methods:["credit_card"],currency:"BRL"});w.useEffect(()=>{f(),p()},[]);async function f(){try{e(!0),n(null);const{data:C,error:S}=await K.from("pagarme_settings").select("*").order("created_at",{ascending:!0}).limit(1).single();if(S&&S.code!=="PGRST116")throw S;h(C?{...C,payment_methods:Array.isArray(C.payment_methods)?C.payment_methods:typeof C.payment_methods=="string"&&C.payment_methods.startsWith("{")?JSON.parse(C.payment_methods.replace(/^{|}$/g,"[").replace(/,/g,",").replace(/"/g,"")):[C.payment_methods],id:C.id}:{antifraude_min_amount:10,pagarme_test_mode:!0,antifraude_enabled:!0,pagarme_webhook_secret:"",payment_methods:["credit_card"],currency:"BRL"})}catch(C){console.error("Erro ao carregar configuraes do Pagar.me:",C),n("Erro ao carregar configuraes do Pagar.me")}finally{e(!1)}}async function p(){try{const{data:{session:C}}=await K.auth.getSession();if(!C){d(!1);return}const _=await(await fetch("https://uxbeaslwirkepnowydfu.supabase.co/functions/v1/pagarme-payment",{method:"POST",headers:{Authorization:`Bearer ${C.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"check_keys"})})).json();d(!_.error||!_.error.includes("no configurada"))}catch(C){console.log("Erro ao verificar chaves:",C),d(!1)}}const m=()=>{const C={};let S=!0;return u.antifraude_min_amount<1&&(C.antifraude_min_amount="Valor mnimo deve ser maior que R$ 1,00",S=!1),l(C),S},g=C=>{const{name:S,value:_}=C.target;h(E=>({...E,[S]:S==="antifraude_min_amount"?parseFloat(_)||0:_})),i[S]&&l(E=>({...E,[S]:void 0}))},v=(C,S)=>{h(_=>({..._,[C]:S}))},x=(C,S)=>{C==="credit_card"&&!S||h(_=>{const E=_.payment_methods||["credit_card"];return S?{..._,payment_methods:[...E,C]}:{..._,payment_methods:E.filter(A=>A!==C)}})},b=async C=>{if(C.preventDefault(),!!m())try{e(!0),n(null);const S={antifraude_min_amount:u.antifraude_min_amount,pagarme_test_mode:u.pagarme_test_mode,antifraude_enabled:u.antifraude_enabled,pagarme_webhook_secret:u.pagarme_webhook_secret,payment_methods:u.payment_methods,currency:u.currency,updated_at:new Date().toISOString()};if(u.id){const{error:_}=await K.from("pagarme_settings").update(S).eq("id",u.id);if(_)throw _}else{const{data:_}=await K.from("pagarme_settings").select("id").order("created_at",{ascending:!0}).limit(1).single();if(_&&_.id){const{error:E}=await K.from("pagarme_settings").update(S).eq("id",_.id);if(E)throw E}else{const{error:E}=await K.from("pagarme_settings").insert([S]);if(E)throw E}}s(!0),setTimeout(()=>s(!1),3e3)}catch(S){console.error("Erro ao salvar configuraes do Pagar.me:",S),n(S.message||"Erro ao salvar configuraes do Pagar.me")}finally{e(!1)}},y=[{value:"credit_card",text:"Carto de crdito"},{value:"debit_card",text:"Carto de dbito"},{value:"boleto",text:"Boleto"},{value:"pix",text:"PIX"}];return o.jsxs("form",{onSubmit:b,className:"max-w-xl",children:[t&&o.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:t}),a&&o.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:"Configuraes do Pagar.me salvas com sucesso!"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90 mb-4",children:"Integrao com Pagar.me"}),o.jsxs("div",{className:"p-4 mb-6 text-sm text-gray-600 bg-gray-50 rounded-lg dark:bg-gray-800 dark:text-gray-400",children:[o.jsx("p",{children:"O Pagar.me  uma plataforma de pagamentos brasileira que permite processar pagamentos de forma segura com PIX, cartes e boleto."}),o.jsx("a",{href:"https://dashboard.pagar.me/login",target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-2 text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Acessar Dashboard do Pagar.me "})]}),o.jsx("div",{className:`p-4 mb-6 rounded-lg text-sm ${c?"bg-green-50 text-green-800 border border-green-200 dark:bg-green-500/15 dark:text-green-400 dark:border-green-500/30":"bg-yellow-50 text-yellow-800 border border-yellow-200 dark:bg-yellow-500/15 dark:text-yellow-400 dark:border-yellow-500/30"}`,children:c?o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:" Chaves de API Configuradas"}),o.jsx("p",{children:"Configurao hbrida - Teste + Produo:"}),o.jsxs("ul",{className:"mt-2 space-y-1 text-xs",children:[o.jsxs("li",{children:[" ",o.jsx("code",{children:"PAGARME"})," - Secret key produo (sk_live_...)"]}),o.jsxs("li",{children:[" ",o.jsx("code",{children:"PAGARME_PUBLIC_KEY"})," - Public key produo (pk_live_...)"]}),o.jsxs("li",{children:[" ",o.jsx("code",{children:"PAGARME_TEST_SECRET"})," - Secret key teste (sk_test_...)"]}),o.jsxs("li",{children:[" ",o.jsx("code",{children:"PAGARME_TEST_PUBLIC"})," - Public key teste (pk_test_...)"]})]}),o.jsx("p",{className:"mt-2 text-xs font-medium",children:'O sistema alterna automaticamente baseado no "Modo de Teste" abaixo.'})]}):o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:" Configure as Chaves nos Supabase Edge Function Secrets:"}),o.jsxs("div",{className:"mt-2 space-y-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-xs",children:"Chaves de Produo (mantm as atuais):"}),o.jsxs("ul",{className:"mt-1 space-y-1 text-xs",children:[o.jsxs("li",{children:[" ",o.jsx("code",{children:"PAGARME"})," - Secret key (sk_live_...)"]}),o.jsxs("li",{children:[" ",o.jsx("code",{children:"PAGARME_PUBLIC_KEY"})," - Public key (pk_live_...)"]})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-xs",children:"Chaves de Teste (adicionar):"}),o.jsxs("ul",{className:"mt-1 space-y-1 text-xs",children:[o.jsxs("li",{children:[" ",o.jsx("code",{children:"PAGARME_TEST_SECRET"})," - Secret key (sk_test_...)"]}),o.jsxs("li",{children:[" ",o.jsx("code",{children:"PAGARME_TEST_PUBLIC"})," - Public key (pk_test_...)"]})]})]})]})]})})]}),o.jsxs("div",{children:[o.jsx(Lr,{label:"Modo de Teste",checked:u.pagarme_test_mode,onChange:C=>v("pagarme_test_mode",C)}),o.jsx("div",{className:`mt-2 p-3 rounded-lg text-sm ${u.pagarme_test_mode?"bg-yellow-50 text-yellow-800 border border-yellow-200 dark:bg-yellow-500/15 dark:text-yellow-400 dark:border-yellow-500/30":"bg-red-50 text-red-800 border border-red-200 dark:bg-red-500/15 dark:text-red-400 dark:border-red-500/30"}`,children:u.pagarme_test_mode?o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:" Modo de Teste Ativo"}),o.jsx("p",{children:" Use cartes de teste do Pagar.me (ex: 4111111111111111)"}),o.jsx("p",{children:" Transaes no sero reais"}),o.jsx("p",{children:" Valores acima de R$ 10,00 so recomendados para evitar bloqueio do antifraude"}),o.jsx("p",{children:" Sistema detecta automaticamente pelo prefixo da chave (sk_test_...)"})]}):o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:" Modo de Produo Ativo"}),o.jsx("p",{children:" Use cartes reais"}),o.jsx("p",{children:"  Transaes sero cobradas de verdade"}),o.jsx("p",{children:" Sistema detecta automaticamente pelo prefixo da chave (sk_live_...)"})]})})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Chave de Webhook do Pagar.me (Opcional)"}),o.jsx(st,{type:"text",name:"pagarme_webhook_secret",value:u.pagarme_webhook_secret||"",onChange:g,placeholder:"Chave do webhook..."}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Configure um webhook no Pagar.me para receber notificaes de eventos."})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx(Te,{children:"Configurao do Antifraude"}),o.jsx(Lr,{label:"Ativar Antifraude",checked:u.antifraude_enabled,onChange:C=>v("antifraude_enabled",C)})]}),u.antifraude_enabled&&o.jsxs("div",{children:[o.jsx(Te,{children:"Valor Mnimo para Transaes (R$)"}),o.jsx(st,{type:"number",name:"antifraude_min_amount",value:u.antifraude_min_amount,onChange:g,placeholder:"10.00",min:"1",error:!!i.antifraude_min_amount,hint:i.antifraude_min_amount||"Valores muito baixos (ex: R$ 1,00) podem ser bloqueados pelo antifraude"})]})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Moeda"}),o.jsx(Jt,{options:[{value:"BRL",label:"Real Brasileiro (BRL)"}],value:u.currency,onChange:C=>h({...u,currency:C})})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Mtodos de Pagamento"}),o.jsx("div",{className:"mt-2 space-y-2",children:y.map(C=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`method-${C.value}`,checked:(u.payment_methods||["credit_card"]).includes(C.value),onChange:S=>x(C.value,S.target.checked),disabled:C.value==="credit_card",className:"w-4 h-4 text-brand-500 border-gray-300 rounded focus:ring-brand-500 dark:border-gray-700 dark:bg-gray-900"}),o.jsxs("label",{htmlFor:`method-${C.value}`,className:`ml-2 text-sm font-medium ${C.value==="credit_card"?"text-gray-400 dark:text-gray-600":"text-gray-700 dark:text-gray-400"}`,children:[C.text,C.value==="credit_card"&&" (obrigatrio)"]})]},C.value))}),o.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Selecione os mtodos de pagamento que deseja aceitar. Carto de crdito  obrigatrio."})]}),o.jsx("div",{className:"flex justify-end pt-6",children:o.jsx(at,{disabled:r,children:r?"Salvando...":"Salvar Configuraes"})})]})]})}function CQ(){const[r,e]=w.useState("logo");return o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"Configuraes | Admin Panel",description:"Configuraes do sistema"}),o.jsx(kr,{pageTitle:"Configuraes"}),o.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]",children:[o.jsx("div",{className:"border-b border-gray-200 dark:border-gray-800",children:o.jsxs("div",{className:"flex gap-2 px-5 lg:px-6",children:[o.jsx("button",{onClick:()=>e("logo"),className:`inline-flex items-center gap-2 border-b-2 px-4 py-4 text-sm font-medium hover:text-gray-700 dark:hover:text-gray-300 ${r==="logo"?"border-brand-500 text-brand-500 dark:text-brand-400":"border-transparent text-gray-500 dark:text-gray-400"}`,children:"Logo"}),o.jsx("button",{onClick:()=>e("smtp"),className:`inline-flex items-center gap-2 border-b-2 px-4 py-4 text-sm font-medium hover:text-gray-700 dark:hover:text-gray-300 ${r==="smtp"?"border-brand-500 text-brand-500 dark:text-brand-400":"border-transparent text-gray-500 dark:text-gray-400"}`,children:"SMTP"}),o.jsx("button",{onClick:()=>e("pagarme"),className:`inline-flex items-center gap-2 border-b-2 px-4 py-4 text-sm font-medium hover:text-gray-700 dark:hover:text-gray-300 ${r==="pagarme"?"border-brand-500 text-brand-500 dark:text-brand-400":"border-transparent text-gray-500 dark:text-gray-400"}`,children:"Pagamento Marketplace"})]})}),o.jsxs("div",{className:"p-5 lg:p-6",children:[r==="logo"&&o.jsx(yQ,{}),r==="smtp"&&o.jsx(wQ,{}),r==="pagarme"&&o.jsx(kQ,{})]})]})]})}function Zp({children:r}){const{logos:e,loading:t}=g3(),a=Pn().pathname!=="/verify-email";return o.jsx("div",{className:"relative p-6 bg-white z-1 dark:bg-gray-900 sm:p-0",children:o.jsxs("div",{className:"relative flex flex-col justify-center w-full h-screen lg:flex-row dark:bg-gray-900 sm:p-0",children:[r,a&&o.jsx("div",{className:"items-center hidden w-full h-full lg:w-1/2 bg-brand-950 dark:bg-white/5 lg:grid",children:o.jsxs("div",{className:"relative flex items-center justify-center z-1",children:[o.jsx(F_,{}),o.jsxs("div",{className:"flex flex-col items-center max-w-xs",children:[o.jsx(Sn,{to:"/",className:"block mb-4",children:t?o.jsx("div",{className:"h-12 w-48 bg-gray-800 animate-pulse rounded"}):o.jsx("img",{className:"h-12",src:e.dark,alt:"Logo"})}),o.jsx("p",{className:"text-center text-gray-400 dark:text-white/60",children:"Sistema de Gesto Administrativa"})]})]})})]})})}function YS(){const[r,e]=w.useState(!1),[t,n]=w.useState(!1),[a,s]=w.useState(""),[i,l]=w.useState(""),[c,d]=w.useState(""),[u,h]=w.useState(!1),f=mr(),p=Pn(),m=p.pathname==="/adm";w.useEffect(()=>{new URLSearchParams(p.search).get("session_expired")&&d("Sua sesso expirou. Por favor, faa login novamente.")},[p]);const g=async v=>{v.preventDefault(),d(""),h(!0);try{if(m)await PB(a,i),f("/dashboard",{replace:!0});else{const{platformUser:x}=await LB(a,i);if(x.role==="publisher")f("/publisher/dashboard",{replace:!0});else if(x.role==="advertiser")f("/advertiser/dashboard",{replace:!0});else throw new Error("Tipo de usurio invlido")}}catch(x){d(x.message||"Email ou senha invlidos")}finally{h(!1)}};return o.jsxs(o.Fragment,{children:[o.jsx(gd,{}),o.jsx(Yt,{title:m?"Login Administrativo | Admin Panel":"Login | Platform",description:m?"Acesse o painel administrativo":"Acesse sua conta na plataforma"}),o.jsx(Zp,{children:o.jsx("div",{className:"flex flex-col flex-1",children:o.jsx("div",{className:"flex flex-col justify-center flex-1 w-full max-w-md mx-auto",children:o.jsxs("div",{children:[o.jsxs("div",{className:"mb-5 sm:mb-8",children:[o.jsx("h1",{className:"mb-2 font-semibold text-gray-800 text-title-sm dark:text-white/90 sm:text-title-md",children:m?"Login Administrativo":"Login"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:m?"Digite seu email e senha para acessar o painel administrativo":"Digite seu email e senha para acessar sua conta"})]}),c&&o.jsx("div",{className:"p-3 mb-6 text-sm text-white bg-error-500 rounded-lg",children:c}),o.jsx("form",{onSubmit:g,children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs(Te,{children:["Email ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"email",value:a,onChange:v=>s(v.target.value),placeholder:"Digite seu email",required:!0})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Senha ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(st,{type:r?"text":"password",value:i,onChange:v=>l(v.target.value),placeholder:"Digite sua senha",required:!0}),o.jsx("button",{type:"button",onClick:()=>e(!r),className:"absolute z-30 -translate-y-1/2 cursor-pointer right-4 top-1/2",children:r?o.jsx(Mo,{className:"fill-gray-500 dark:fill-gray-400 size-5"}):o.jsx(Hl,{className:"fill-gray-500 dark:fill-gray-400 size-5"})})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx($c,{checked:t,onChange:n}),o.jsx("span",{className:"block font-normal text-gray-700 text-theme-sm dark:text-gray-400",children:"Manter conectado"})]}),o.jsx(Sn,{to:m?"/adm/reset-password":"/reset-password",className:"text-sm text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Esqueceu a senha?"})]}),o.jsx(at,{className:"w-full",disabled:u,children:u?"Entrando...":"Entrar"}),!m&&o.jsxs("p",{className:"text-sm font-normal text-center text-gray-700 dark:text-gray-400",children:["No tem uma conta?"," ",o.jsx(Sn,{to:"/register",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Criar Conta"})]})]})})]})})})})]})}const SQ=[{value:"advertiser",label:"Anunciante",description:"Crie e gerencie campanhas publicitrias"}],jQ=[{code:"BR",label:"+55"},{code:"US",label:"+1"},{code:"GB",label:"+44"},{code:"PT",label:"+351"},{code:"ES",label:"+34"},{code:"FR",label:"+33"},{code:"DE",label:"+49"},{code:"IT",label:"+39"},{code:"JP",label:"+81"},{code:"CN",label:"+86"},{code:"AU",label:"+61"},{code:"CA",label:"+1"},{code:"MX",label:"+52"},{code:"AR",label:"+54"},{code:"CL",label:"+56"},{code:"CO",label:"+57"},{code:"PE",label:"+51"},{code:"UY",label:"+598"},{code:"PY",label:"+595"},{code:"BO",label:"+591"}];function _Q(){const r=mr(),[e,t]=w.useState(!1),[n,a]=w.useState(""),[s,i]=w.useState(""),[l,c]=w.useState(""),[d,u]=w.useState(""),[h,f]=w.useState(""),[p,m]=w.useState(""),[g,v]=w.useState(!1),[x,b]=w.useState(!1),[y,C]=w.useState(""),[S,_]=w.useState(""),[E,A]=w.useState(!1),[T,F]=w.useState({}),L=I=>{const B=/[A-Z]/.test(I),z=/[a-z]/.test(I),V=/\d/.test(I),W=/[!@#$%^&*(),.?":{}|<>]/.test(I),Y=I.length>=8;return B&&z&&V&&W&&Y},D=()=>{const I={};let B=!0;return s.trim()||(I.firstName="Nome  obrigatrio",B=!1),l.trim()||(I.lastName="Sobrenome  obrigatrio",B=!1),d.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.trim())||(I.email="Email invlido",B=!1):(I.email="Email  obrigatrio",B=!1),h?L(h)||(I.password="A senha deve ter pelo menos 8 caracteres, incluindo maisculas, minsculas, nmeros e caracteres especiais",B=!1):(I.password="Senha  obrigatria",B=!1),p?h!==p&&(I.confirmPassword="As senhas no coincidem",B=!1):(I.confirmPassword="Confirmao de senha  obrigatria",B=!1),y.trim()||(I.phone="Telefone  obrigatrio",B=!1),S||(I.accountType="Tipo de conta  obrigatrio",B=!1),E||(I.terms="Voc precisa aceitar os termos de uso",B=!1),F(I),B},O=async I=>{I.preventDefault();try{if(!D())return;t(!0),a("");const{data:{user:B},error:z}=await K.auth.signUp({email:d.trim(),password:h.trim(),options:{data:{first_name:s.trim(),last_name:l.trim()}}});if(z)throw z;if(!B)throw new Error("Erro ao criar usurio");const{error:V}=await K.from("platform_users").insert([{id:B.id,email:d.trim(),first_name:s.trim(),last_name:l.trim(),phone:y.trim(),role:S,terms_accepted:!0,terms_accepted_at:new Date().toISOString()}]);if(V)throw V;r("/verify-email")}catch(B){console.error("Erro ao criar conta:",B),a(B.message||"Erro ao criar conta")}finally{t(!1)}};return o.jsxs(o.Fragment,{children:[o.jsx(gd,{}),o.jsx(Yt,{title:"Criar Conta | Platform",description:"Crie sua conta na plataforma"}),o.jsx(Zp,{children:o.jsx("div",{className:"flex flex-col flex-1",children:o.jsx("div",{className:"flex flex-col justify-center flex-1 w-full max-w-md mx-auto",children:o.jsxs("div",{children:[o.jsxs("div",{className:"mb-5 sm:mb-8",children:[o.jsx("h1",{className:"mb-2 font-semibold text-gray-800 text-title-sm dark:text-white/90 sm:text-title-md",children:"Criar Conta"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Preencha os dados abaixo para criar sua conta"})]}),n&&o.jsx("div",{className:"p-3 mb-6 text-sm text-white bg-error-500 rounded-lg",children:n}),o.jsx("form",{onSubmit:O,children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[o.jsxs("div",{children:[o.jsxs(Te,{children:["Nome ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"text",value:s,onChange:I=>i(I.target.value),error:!!T.firstName,hint:T.firstName,required:!0})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Sobrenome ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"text",value:l,onChange:I=>c(I.target.value),error:!!T.lastName,hint:T.lastName,required:!0})]})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Email ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"email",value:d,onChange:I=>u(I.target.value),error:!!T.email,hint:T.email,required:!0})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Senha ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(st,{type:g?"text":"password",value:h,onChange:I=>f(I.target.value),error:!!T.password,hint:T.password,required:!0}),o.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute z-30 -translate-y-1/2 cursor-pointer right-4 top-1/2",children:g?o.jsx(Mo,{className:"fill-gray-500 dark:fill-gray-400 size-5"}):o.jsx(Hl,{className:"fill-gray-500 dark:fill-gray-400 size-5"})})]})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Confirmar Senha ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(st,{type:x?"text":"password",value:p,onChange:I=>m(I.target.value),error:!!T.confirmPassword,hint:T.confirmPassword,required:!0}),o.jsx("button",{type:"button",onClick:()=>b(!x),className:"absolute z-30 -translate-y-1/2 cursor-pointer right-4 top-1/2",children:x?o.jsx(Mo,{className:"fill-gray-500 dark:fill-gray-400 size-5"}):o.jsx(Hl,{className:"fill-gray-500 dark:fill-gray-400 size-5"})})]})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Telefone ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(Kc,{countries:jQ,value:y,onChange:I=>C(I),placeholder:"(99) 99999-9999"}),T.phone&&o.jsx("p",{className:"mt-1 text-sm text-error-500",children:T.phone})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Tipo de Conta ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:SQ.map(I=>o.jsxs("div",{className:`relative flex flex-col p-4 cursor-pointer rounded-lg border transition-colors ${S===I.value?"border-brand-500 bg-brand-50 dark:border-brand-400 dark:bg-brand-500/10":"border-gray-200 hover:border-brand-500 dark:border-gray-700 dark:hover:border-brand-400"}`,onClick:()=>_(I.value),children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("div",{className:`w-4 h-4 rounded-full border-2 mr-2 ${S===I.value?"border-brand-500 bg-brand-500 dark:border-brand-400 dark:bg-brand-400":"border-gray-300 dark:border-gray-600"}`,children:S===I.value&&o.jsx("div",{className:"w-2 h-2 m-0.5 rounded-full bg-white"})}),o.jsx("span",{className:"font-medium text-gray-800 dark:text-white/90",children:I.label})]}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:I.description})]},I.value))}),T.accountType&&o.jsx("p",{className:"mt-1 text-sm text-error-500",children:T.accountType})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx($c,{checked:E,onChange:A}),o.jsxs("span",{className:"block text-sm text-gray-500 dark:text-gray-400",children:["Li e aceito os"," ",o.jsx(Sn,{to:"/terms",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Termos de Uso"})," ","e a"," ",o.jsx(Sn,{to:"/privacy",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Poltica de Privacidade"})]})]}),T.terms&&o.jsx("p",{className:"text-sm text-error-500",children:T.terms}),o.jsx(at,{className:"w-full",disabled:e,children:e?"Criando conta...":"Criar Conta"}),o.jsxs("p",{className:"text-sm font-normal text-center text-gray-700 dark:text-gray-400",children:["J tem uma conta?"," ",o.jsx(Sn,{to:"/",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Fazer Login"})]})]})})]})})})})]})}function NQ(){return o.jsxs(o.Fragment,{children:[o.jsx(gd,{}),o.jsx(Yt,{title:"Verifique seu Email | Platform",description:"Verifique seu email para continuar"}),o.jsx(Zp,{children:o.jsx("div",{className:"flex flex-col flex-1",children:o.jsx("div",{className:"flex flex-col justify-center flex-1 w-full max-w-md mx-auto",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-2xl font-semibold text-gray-800 dark:text-white/90",children:"Verifique seu Email"}),o.jsxs("div",{className:"mb-8",children:[o.jsx("img",{src:"/images/error/success.svg",alt:"Email enviado",className:"w-32 h-32 mx-auto mb-6 dark:hidden"}),o.jsx("img",{src:"/images/error/success-dark.svg",alt:"Email enviado",className:"hidden w-32 h-32 mx-auto mb-6 dark:block"})]}),o.jsx("p",{className:"mb-6 text-gray-500 dark:text-gray-400",children:"Enviamos um email com um link de confirmao para o seu endereo de email. Por favor, verifique sua caixa de entrada e clique no link para ativar sua conta."}),o.jsx("div",{className:"p-4 mb-6 text-sm text-gray-500 bg-gray-100 rounded-lg dark:bg-gray-800 dark:text-gray-400",children:o.jsxs("p",{children:["No recebeu o email? Verifique sua pasta de spam ou"," ",o.jsx(Sn,{to:"/resend-verification",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"solicite um novo email"})]})}),o.jsx(Sn,{to:"/",className:"text-sm text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Voltar para o login"})]})})})})]})}const eL=r=>r.trim().toLowerCase(),EQ=r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.trim()),AQ=r=>r!=null&&r.trim()?EQ(r)?{isValid:!0}:{isValid:!1,error:"Email invlido"}:{isValid:!1,error:"Email  obrigatrio"},PQ=async r=>{const e=eL(r),{data:t}=await K.from("platform_users").select("id, email").ilike("email",e).maybeSingle(),{data:n}=await K.from("admins").select("id, email").ilike("email",e).maybeSingle();return!!(t||n)},LQ=async r=>{try{const e=eL(r);if(!await PQ(e))throw new Error("Email no encontrado");const n=`${window.location.origin}/password-recovery`,{error:a}=await K.auth.resetPasswordForEmail(e,{redirectTo:n});if(a)throw a;return{success:!0}}catch(e){return console.error("Error sending password reset email:",e),{success:!1,error:e.message||"Erro ao enviar email de recuperao. Tente novamente."}}},DQ=()=>{const[r,e]=w.useState(""),[t,n]=w.useState(!1),[a,s]=w.useState(""),[i,l]=w.useState(!1),[c,d]=w.useState(null),u=()=>{s(""),d(null)};return{email:r,loading:t,error:a,success:i,rateLimitRemaining:c,setEmail:e,handleSubmit:async f=>{var p,m,g;f.preventDefault(),u(),n(!0);try{const v=AQ(r);if(!v.isValid)throw new Error(v.error);const x=await LQ(r);if(!x.success)throw new Error(x.error);l(!0)}catch(v){if(console.error("Erro ao enviar email de recuperao:",v),((p=v==null?void 0:v.context)==null?void 0:p.status)===429){const x=(g=(m=v==null?void 0:v.context)==null?void 0:m.headers)==null?void 0:g.get("Retry-After"),b=x?Math.ceil(parseInt(x)/60):60;s(`Muitas tentativas. Por favor, aguarde ${b} minutos antes de tentar novamente.`),d(b)}else s(v.message||"Erro ao enviar email de recuperao. Tente novamente.")}finally{n(!1)}},clearError:u}},TQ=({isAdminPanel:r})=>o.jsxs("div",{className:"p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:[o.jsx("p",{children:"Email de recuperao enviado com sucesso!"}),o.jsx("p",{className:"mt-2",children:"Verifique sua caixa de entrada e siga as instrues para redefinir sua senha."}),o.jsx(Sn,{to:r?"/adm":"/",className:"inline-block mt-4 text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Voltar para o login"})]}),RQ=({error:r,rateLimitRemaining:e})=>o.jsxs("div",{className:"p-3 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:[r,e&&o.jsxs("div",{className:"mt-2 text-xs",children:["Tempo restante: ",e," minutos"]})]});function MQ(){const e=Pn().pathname.startsWith("/adm"),{email:t,loading:n,error:a,success:s,rateLimitRemaining:i,setEmail:l,handleSubmit:c}=DQ();return o.jsx("div",{className:"flex flex-col flex-1",children:o.jsx("div",{className:"flex flex-col justify-center flex-1 w-full max-w-md mx-auto",children:o.jsxs("div",{children:[o.jsxs("div",{className:"mb-5 sm:mb-8",children:[o.jsx("h1",{className:"mb-2 font-semibold text-gray-800 text-title-sm dark:text-white/90 sm:text-title-md",children:"Recuperar Senha"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Digite seu email para receber instrues de recuperao"})]}),s?o.jsx(TQ,{isAdminPanel:e}):o.jsx("form",{onSubmit:c,children:o.jsxs("div",{className:"space-y-6",children:[a&&o.jsx(RQ,{error:a,rateLimitRemaining:i}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Email ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"email",value:t,onChange:d=>l(d.target.value),placeholder:"Digite seu email",required:!0,disabled:n||!!i})]}),o.jsx("div",{children:o.jsx(at,{className:"w-full",size:"sm",disabled:n||!!i,children:n?"Enviando...":"Enviar Email de Recuperao"})}),o.jsx("div",{className:"text-center",children:o.jsx(Sn,{to:e?"/adm":"/",className:"text-sm text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Voltar para o login"})})]})})]})})})}function GS(){return o.jsxs(o.Fragment,{children:[o.jsx(gd,{}),o.jsx(Yt,{title:"Recuperar Senha | Admin Panel",description:"Recupere sua senha de acesso ao sistema"}),o.jsx(Zp,{children:o.jsx(MQ,{})})]})}const IQ=async({password:r,accessToken:e,refreshToken:t})=>{var n,a;try{console.log(" [PasswordRecoveryService] Iniciando updatePassword..."),console.log(" [PasswordRecoveryService] Tokens recebidos:",{accessTokenLength:e.length,refreshTokenLength:t.length,passwordLength:r.length}),console.log(" [PasswordRecoveryService] Definindo sesso...");const{error:s}=await K.auth.setSession({access_token:e,refresh_token:t});if(s)throw console.error(" [PasswordRecoveryService] Erro na sesso:",s),new Error("Sesso invlida ou expirada. Solicite um novo link de recuperao.");console.log(" [PasswordRecoveryService] Sesso definida com sucesso"),console.log(" [PasswordRecoveryService] Atualizando senha...");const{error:i}=await K.auth.updateUser({password:r});if(i)throw console.error(" [PasswordRecoveryService] Erro ao atualizar senha:",i),i;return console.log(" [PasswordRecoveryService] Senha atualizada com sucesso"),console.log(" [PasswordRecoveryService] Fazendo logout..."),await K.auth.signOut(),console.log(" [PasswordRecoveryService] Processo completado com sucesso"),{success:!0}}catch(s){console.error(" [PasswordRecoveryService] Erro geral:",s);let i="Erro ao definir nova senha. Tente novamente.";return(n=s.message)!=null&&n.includes("session")?i="Sesso expirada. Solicite um novo link de recuperao.":(a=s.message)!=null&&a.includes("password")&&(i=s.message),{success:!1,error:i}}},OQ=r=>{const e=/[A-Z]/.test(r),t=/[a-z]/.test(r),n=/\d/.test(r),a=/[!@#$%^&*(),.?":{}|<>]/.test(r),s=r.length>=8;return e&&t&&n&&a&&s},FQ=r=>r!=null&&r.trim()?OQ(r)?{isValid:!0}:{isValid:!1,error:"A senha deve ter pelo menos 8 caracteres, incluindo maisculas, minsculas, nmeros e caracteres especiais"}:{isValid:!1,error:"Senha  obrigatria"},BQ=()=>{const r=mr(),[e,t]=w.useState(""),[n,a]=w.useState(""),[s,i]=w.useState(!1),[l,c]=w.useState(!1),[d,u]=w.useState(!1),[h,f]=w.useState(""),[p,m]=w.useState(!1),[g,v]=w.useState({}),[x,b]=w.useState(""),[y,C]=w.useState("");w.useEffect(()=>{console.log(" [PasswordRecovery] URL atual:",window.location.href),console.log(" [PasswordRecovery] Hash completo:",window.location.hash);const A=window.location.hash.substring(1);if(console.log(" [PasswordRecovery] Hash sem #:",A),A){console.log(" [PasswordRecovery] Hash length:",A.length),console.log(" [PasswordRecovery] Hash primeiros 100 chars:",A.substring(0,100));const T=new URLSearchParams(A);console.log(" [PasswordRecovery] Hash params:",Object.fromEntries(T)),console.log(" [PasswordRecovery] Hash params size:",T.size);const F=A.match(/access_token=([^&]+)/),L=A.match(/refresh_token=([^&]+)/);console.log(" [PasswordRecovery] Manual access token match:",!!F),console.log(" [PasswordRecovery] Manual refresh token match:",!!L),F&&console.log(" [PasswordRecovery] Access token manual:",F[1].substring(0,20)+"..."),L&&console.log(" [PasswordRecovery] Refresh token manual:",L[1].substring(0,20)+"...");const D=T.get("error"),O=T.get("error_code");if(console.log(" [PasswordRecovery] Error:",D),console.log(" [PasswordRecovery] Error code:",O),D){console.log(" [PasswordRecovery] Erro detectado na URL"),f(O==="otp_expired"?"O link de recuperao expirou. Solicite um novo link.":D==="access_denied"?"Link de recuperao invlido ou j utilizado. Solicite um novo link.":"Erro no link de recuperao. Solicite um novo link.");return}const I=T.get("access_token"),B=T.get("refresh_token");console.log(" [PasswordRecovery] Access token presente:",!!I),console.log(" [PasswordRecovery] Refresh token presente:",!!B);let z=I,V=B;!z&&F&&(console.log(" [PasswordRecovery] Usando extrao manual para access_token"),z=F[1]),!V&&L&&(console.log(" [PasswordRecovery] Usando extrao manual para refresh_token"),V=L[1]),z&&(console.log(" [PasswordRecovery] Access token start:",z.substring(0,20)+"..."),b(z)),V&&(console.log(" [PasswordRecovery] Refresh token start:",V.substring(0,20)+"..."),C(V)),console.log(" [PasswordRecovery] Tokens armazenados no estado:",{accessToken:z?"SALVO":"NO_ENCONTRADO",refreshToken:V?"SALVO":"NO_ENCONTRADO"})}else console.log(" [PasswordRecovery] Nenhum hash encontrado na URL")},[]);const S=()=>{f(""),v({})},_=()=>{const A={};let T=!0;const F=FQ(e);return F.isValid||(A.password=F.error,T=!1),n?e!==n&&(A.confirmPassword="As senhas no coincidem",T=!1):(A.confirmPassword="Confirmao de senha  obrigatria",T=!1),v(A),T};return{password:e,confirmPassword:n,showPassword:s,showConfirmPassword:l,loading:d,error:h,success:p,validationErrors:g,setPassword:t,setConfirmPassword:a,setShowPassword:i,setShowConfirmPassword:c,handleSubmit:async A=>{if(A.preventDefault(),console.log(" [PasswordRecovery] Iniciando submit..."),S(),!_()){console.log(" [PasswordRecovery] Validao falhou");return}console.log(" [PasswordRecovery] Validao passou"),u(!0);try{if(console.log(" [PasswordRecovery] Usando tokens do estado..."),console.log(" [PasswordRecovery] Tokens do estado:",{accessToken:x?"PRESENTE":"AUSENTE",refreshToken:y?"PRESENTE":"AUSENTE"}),x&&console.log(" [PasswordRecovery] Access token (primeiros 20 chars):",x.substring(0,20)+"..."),y&&console.log(" [PasswordRecovery] Refresh token (primeiros 20 chars):",y.substring(0,20)+"..."),!x||!y)throw console.log(" [PasswordRecovery] Tokens no encontrados no estado"),new Error("Link de recuperao invlido ou expirado.");console.log(" [PasswordRecovery] Chamando updatePassword...");const T=await IQ({password:e.trim(),accessToken:x,refreshToken:y});if(console.log(" [PasswordRecovery] Resultado do updatePassword:",T),!T.success)throw new Error(T.error);console.log(" [PasswordRecovery] Senha atualizada com sucesso!"),m(!0),setTimeout(()=>{console.log(" [PasswordRecovery] Redirecionando para login..."),r("/",{replace:!0})},3e3)}catch(T){console.error(" [PasswordRecovery] Erro ao definir nova senha:",T),f(T.message||"Erro ao definir nova senha. Tente novamente.")}finally{u(!1)}},clearError:S}},zQ=({isAdminPanel:r})=>o.jsxs("div",{className:"p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:[o.jsx("p",{className:"font-medium",children:"Nova senha definida com sucesso!"}),o.jsx("p",{className:"mt-2",children:"Sua senha foi atualizada. Voc ser redirecionado para o login em alguns segundos."}),o.jsx(Sn,{to:r?"/adm":"/",className:"inline-block mt-4 text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Ir para o login agora"})]}),HQ=({error:r})=>o.jsx("div",{className:"p-3 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:r});function UQ(){const e=Pn().pathname.startsWith("/adm"),{password:t,confirmPassword:n,showPassword:a,showConfirmPassword:s,loading:i,error:l,success:c,validationErrors:d,setPassword:u,setConfirmPassword:h,setShowPassword:f,setShowConfirmPassword:p,handleSubmit:m}=BQ();return o.jsx("div",{className:"flex flex-col flex-1",children:o.jsx("div",{className:"flex flex-col justify-center flex-1 w-full max-w-md mx-auto",children:o.jsxs("div",{children:[o.jsxs("div",{className:"mb-5 sm:mb-8",children:[o.jsx("h1",{className:"mb-2 font-semibold text-gray-800 text-title-sm dark:text-white/90 sm:text-title-md",children:"Definir Nova Senha"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Digite sua nova senha para completar a recuperao"})]}),c?o.jsx(zQ,{isAdminPanel:e}):o.jsx("form",{onSubmit:m,children:o.jsxs("div",{className:"space-y-6",children:[l&&o.jsx(HQ,{error:l}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Nova Senha ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(st,{type:a?"text":"password",value:t,onChange:g=>u(g.target.value),error:!!d.password,hint:d.password,placeholder:"Digite sua nova senha",required:!0,disabled:i}),o.jsx("button",{type:"button",onClick:()=>f(!a),className:"absolute z-30 -translate-y-1/2 cursor-pointer right-4 top-1/2",children:a?o.jsx(Mo,{className:"fill-gray-500 dark:fill-gray-400 size-5"}):o.jsx(Hl,{className:"fill-gray-500 dark:fill-gray-400 size-5"})})]})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Confirmar Nova Senha ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(st,{type:s?"text":"password",value:n,onChange:g=>h(g.target.value),error:!!d.confirmPassword,hint:d.confirmPassword,placeholder:"Confirme sua nova senha",required:!0,disabled:i}),o.jsx("button",{type:"button",onClick:()=>p(!s),className:"absolute z-30 -translate-y-1/2 cursor-pointer right-4 top-1/2",children:s?o.jsx(Mo,{className:"fill-gray-500 dark:fill-gray-400 size-5"}):o.jsx(Hl,{className:"fill-gray-500 dark:fill-gray-400 size-5"})})]})]}),o.jsx("div",{children:o.jsx(at,{className:"w-full",size:"sm",disabled:i,children:i?"Salvando...":"Definir Nova Senha"})}),o.jsx("div",{className:"text-center",children:o.jsx(Sn,{to:e?"/adm":"/",className:"text-sm text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Voltar para o login"})})]})})]})})})}function XS(){return o.jsxs(o.Fragment,{children:[o.jsx(gd,{}),o.jsx(Yt,{title:"Definir Nova Senha | Platform",description:"Defina sua nova senha de acesso"}),o.jsx(Zp,{children:o.jsx(UQ,{})})]})}const zb=new Map;async function VQ(r){if(zb.has(r))return zb.get(r);try{const{data:e}=await K.from("admins").select("role_id").eq("id",r).maybeSingle(),{data:t}=await K.from("platform_users").select("role_id").eq("id",r).maybeSingle(),n=(e==null?void 0:e.role_id)||(t==null?void 0:t.role_id);if(!n)throw new Error("User role not found");const{data:a}=await K.from("permissions").select(`
        code,
        role_permissions!inner(
          role_id
        )
      `).eq("role_permissions.role_id",n),s=new Set((a==null?void 0:a.map(i=>i.code))||[]);return zb.set(r,s),s}catch(e){return console.error("Error getting user permissions:",e),new Set}}async function $Q(r,e){try{return(await VQ(r)).has(e)}catch(t){return console.error("Error checking permission:",t),!1}}function md({permission:r,children:e,fallback:t=null}){const[n,a]=w.useState(!1),[s,i]=w.useState(!0);w.useEffect(()=>{l()},[r]);async function l(){try{const{data:{user:c}}=await K.auth.getUser();if(!c){a(!1);return}const d=await $Q(c.id,r);a(d)}catch(c){console.error("Error checking permission:",c),a(!1)}finally{i(!1)}}return s?null:n?o.jsx(o.Fragment,{children:e}):o.jsx(o.Fragment,{children:t})}function WQ({children:r,fallback:e=null}){const[t,n]=w.useState(!1),[a,s]=w.useState(!0);w.useEffect(()=>{i()},[]);async function i(){try{const{data:{user:l}}=await K.auth.getUser();if(!l){n(!1),s(!1);return}const{data:c}=await K.from("roles").select("id").eq("name","admin").maybeSingle();if(!(c!=null&&c.id)){n(!1),s(!1);return}const{data:d}=await K.from("admins").select("role, role_id").eq("id",l.id).maybeSingle();if(d&&d.role==="admin"&&d.role_id===c.id){n(!0),s(!1);return}const{data:u}=await K.from("platform_users").select("role, role_id").eq("id",l.id).maybeSingle();if(u&&u.role==="admin"&&u.role_id===c.id){n(!0),s(!1);return}n(!1),s(!1)}catch{n(!1),s(!1)}}return a?null:t?o.jsx(o.Fragment,{children:r}):o.jsx(o.Fragment,{children:e})}function qQ(){const[r,e]=w.useState([]),[t,n]=w.useState(!0),[a,s]=w.useState(""),[i,l]=w.useState(""),[c,d]=w.useState(!1),[u,h]=w.useState(null),[f,p]=w.useState({email:"",first_name:"",last_name:"",status:""}),[m,g]=w.useState(""),[v,x]=w.useState(10),[b,y]=w.useState(1),[C,S]=w.useState("created_at"),[_,E]=w.useState("desc"),A=mr();w.useEffect(()=>{T()},[]),w.useEffect(()=>{u&&p({email:u.email,first_name:u.first_name,last_name:u.last_name,status:u.status})},[u]);async function T(){try{n(!0),s("");const{data:G,error:q}=await K.from("platform_users").select("*").order("created_at",{ascending:!1});if(q)throw q;const{data:M,error:U}=await K.from("admins").select("id, email, first_name, last_name, created_at").order("created_at",{ascending:!1});if(U)throw U;const $=(M||[]).map(X=>({id:X.id,email:X.email,first_name:X.first_name,last_name:X.last_name,phone:"-",role:"admin",status:"active",created_at:X.created_at,isAdmin:!0}));e([...G||[],...$])}catch(G){console.error("Erro ao carregar usurios:",G),s("Erro ao carregar lista de usurios")}finally{n(!1)}}const F=G=>{h(G),d(!0)},L=async G=>{if(confirm("Tem certeza que deseja excluir este usurio? Esta ao no pode ser desfeita."))try{n(!0),s(""),l(""),await aN(G),l("Usurio excludo com sucesso"),await T()}catch(q){console.error("Erro ao excluir usurio:",q),s("Erro ao excluir usurio")}finally{n(!1)}},D=async()=>{if(u)try{if(n(!0),s(""),l(""),f.email!==u.email){const{error:q}=await K.auth.admin.updateUserById(u.id,{email:f.email});if(q)throw q}const{error:G}=await K.from("platform_users").update({email:f.email,first_name:f.first_name,last_name:f.last_name,status:f.status}).eq("id",u.id);if(G)throw G;l("Usurio atualizado com sucesso"),await T(),d(!1)}catch(G){console.error("Erro ao atualizar usurio:",G),s("Erro ao atualizar usurio")}finally{n(!1)}},O=G=>new Date(G).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),I=G=>{G!=="acoes"&&(C===G?E(q=>q==="asc"?"desc":"asc"):(S(G),E("asc")))},z=[...r].sort((G,q)=>{let M=G[C],U=q[C];return C==="full_name"&&(M=`${G.first_name} ${G.last_name}`,U=`${q.first_name} ${q.last_name}`),typeof M=="string"&&typeof U=="string"?(M=M.toLowerCase(),U=U.toLowerCase(),M<U?_==="asc"?-1:1:M>U?_==="asc"?1:-1:0):typeof M=="number"&&typeof U=="number"?_==="asc"?M-U:U-M:M==null?1:U==null?-1:0}).filter(G=>{if(!m.trim())return!0;const q=m.toLowerCase();return`${G.first_name} ${G.last_name}`.toLowerCase().includes(q)||G.email.toLowerCase().includes(q)||G.phone&&G.phone.toLowerCase().includes(q)||G.role&&(G.role==="publisher"?"publisher":G.role==="advertiser"?"anunciante":"admin").toLowerCase().includes(q)||G.status&&G.status.toLowerCase().includes(q)}),V=Math.ceil(z.length/v)||1,W=z.slice((b-1)*v,b*v);b>V&&y(V);const Y=({show:G})=>G?o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"w-2 h-1.5 fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"w-2 h-1.5 fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]}):null;return t?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):o.jsxs(md,{permission:"user.view",fallback:o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-error-500",children:"Acesso no autorizado"})}),children:[o.jsx(Yt,{title:"Usurios da Plataforma | Admin Panel",description:"Gerenciamento de usurios da plataforma"}),o.jsx(kr,{pageTitle:"Usurios"}),o.jsx("div",{className:"flex justify-end mb-6",children:o.jsx(at,{variant:"primary",size:"md",onClick:()=>A("/users/register/admin-register"),children:"Cadastrar novo administrador"})}),a&&o.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:a}),i&&o.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:i}),o.jsxs("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:[o.jsxs("div",{className:"flex flex-col gap-2 px-4 py-4 border-b border-gray-100 dark:border-white/[0.05] rounded-t-xl sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Mostrar"}),o.jsxs("div",{className:"relative z-20 bg-transparent",children:[o.jsxs("select",{className:"w-full py-2 pl-3 pr-8 text-sm text-gray-800 bg-transparent border border-gray-300 rounded-lg appearance-none dark:bg-dark-900 h-9 bg-none shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",value:v,onChange:G=>{x(Number(G.target.value)),y(1)},children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:25,children:"25"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]}),o.jsx("span",{className:"absolute z-30 text-gray-500 -translate-y-1/2 right-2 top-1/2 dark:text-gray-400",children:o.jsx("svg",{className:"stroke-current",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M3.8335 5.9165L8.00016 10.0832L12.1668 5.9165",stroke:"",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"registros"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{className:"absolute text-gray-500 -translate-y-1/2 left-4 top-1/2 dark:text-gray-400",children:o.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.04199 9.37363C3.04199 5.87693 5.87735 3.04199 9.37533 3.04199C12.8733 3.04199 15.7087 5.87693 15.7087 9.37363C15.7087 12.8703 12.8733 15.7053 9.37533 15.7053C5.87735 15.7053 3.04199 12.8703 3.04199 9.37363ZM9.37533 1.54199C5.04926 1.54199 1.54199 5.04817 1.54199 9.37363C1.54199 13.6991 5.04926 17.2053 9.37533 17.2053C11.2676 17.2053 13.0032 16.5344 14.3572 15.4176L17.1773 18.238C17.4702 18.5309 17.945 18.5309 18.2379 18.238C18.5308 17.9451 18.5309 17.4703 18.238 17.1773L15.4182 14.3573C16.5367 13.0033 17.2087 11.2669 17.2087 9.37363C17.2087 5.04817 13.7014 1.54199 9.37533 1.54199Z",fill:""})})}),o.jsx("input",{placeholder:"Pesquisar...",className:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent py-2.5 pl-12 pr-4 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 xl:w-[300px]",type:"text",value:m,onChange:G=>{g(G.target.value),y(1)}})]})]}),o.jsx("div",{className:"max-w-full overflow-x-auto",children:o.jsx("div",{className:"min-w-[1102px]",children:o.jsxs(no,{children:[o.jsx(ao,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:o.jsxs(Tr,{children:[o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-white/10 transition",onClick:()=>I("full_name"),children:o.jsxs("span",{className:"flex items-center",children:["Usurio",o.jsx(Y,{show:C==="full_name"})]})})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-white/10 transition",onClick:()=>I("email"),children:o.jsxs("span",{className:"flex items-center",children:["E-mail",o.jsx(Y,{show:C==="email"})]})})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-white/10 transition",onClick:()=>I("role"),children:o.jsxs("span",{className:"flex items-center",children:["Tipo de Conta",o.jsx(Y,{show:C==="role"})]})})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-white/10 transition",onClick:()=>I("status"),children:o.jsxs("span",{className:"flex items-center",children:["Status",o.jsx(Y,{show:C==="status"})]})})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-white/10 transition",onClick:()=>I("created_at"),children:o.jsxs("span",{className:"flex items-center",children:["Criado em",o.jsx(Y,{show:C==="created_at"})]})})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 select-none px-5 py-3",children:o.jsx("span",{children:"Aes"})})})]})}),o.jsx(so,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:W.map(G=>o.jsxs(Tr,{children:[o.jsx(rt,{className:"px-5 py-4 sm:px-6 text-start",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 overflow-hidden rounded-full",children:o.jsx(n4,{userId:G.id,name:`${G.first_name} ${G.last_name}`,size:"sm"})}),o.jsxs("div",{children:[o.jsxs("span",{className:"block font-medium text-gray-800 text-theme-sm dark:text-white/90",children:[G.first_name," ",G.last_name]}),o.jsx("span",{className:" text-gray-500 text-theme-xs dark:text-gray-400",children:G.phone})]})]})}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:G.email}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:o.jsx(At,{color:G.role==="publisher"?"primary":G.role==="advertiser"?"warning":"info",variant:"light",children:G.role==="publisher"?"Publisher":G.role==="advertiser"?"Anunciante":"Admin"})}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:o.jsx(At,{color:G.status==="active"?"success":G.status==="suspended"?"error":"warning",children:G.status==="active"?"Ativo":G.status==="suspended"?"Suspenso":"Pendente"})}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:O(G.created_at)}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>F(G),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Editar",children:o.jsx(Pi,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>L(G.id),className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",title:"Excluir",children:o.jsx(rs,{className:"w-5 h-5"})})]})})]},G.id))})]})})}),V>1&&o.jsxs("div",{className:"flex justify-end items-center gap-2 px-4 py-2",children:[o.jsx("button",{className:"px-2 py-1 text-sm text-gray-500 disabled:opacity-50",onClick:()=>y(G=>Math.max(1,G-1)),disabled:b===1,children:"Anterior"}),o.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Pgina ",b," de ",V]}),o.jsx("button",{className:"px-2 py-1 text-sm text-gray-500 disabled:opacity-50",onClick:()=>y(G=>Math.min(V,G+1)),disabled:b===V,children:"Prxima"})]})]}),o.jsx(vs,{isOpen:c,onClose:()=>d(!1),className:"max-w-[700px] m-4",children:o.jsxs("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-11",children:[o.jsxs("div",{className:"px-2 pr-14",children:[o.jsx("h4",{className:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90",children:"Editar Usurio"}),o.jsx("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7",children:"Atualize as informaes do usurio"})]}),o.jsxs("form",{className:"flex flex-col",children:[o.jsx("div",{className:"px-2 overflow-y-auto custom-scrollbar",children:o.jsxs("div",{className:"grid grid-cols-1 gap-x-6 gap-y-5",children:[o.jsxs("div",{children:[o.jsx(Te,{children:"Email"}),o.jsx(st,{type:"email",value:f.email,onChange:G=>p({...f,email:G.target.value})})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Nome"}),o.jsx(st,{type:"text",value:f.first_name,onChange:G=>p({...f,first_name:G.target.value})})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Sobrenome"}),o.jsx(st,{type:"text",value:f.last_name,onChange:G=>p({...f,last_name:G.target.value})})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Status"}),o.jsxs("select",{value:f.status,onChange:G=>p({...f,status:G.target.value}),className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",children:[o.jsx("option",{value:"pending",children:"Pendente"}),o.jsx("option",{value:"active",children:"Ativo"}),o.jsx("option",{value:"suspended",children:"Suspenso"})]})]})]})}),o.jsxs("div",{className:"flex items-center gap-3 px-2 mt-6 lg:justify-end",children:[o.jsx(at,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),o.jsx(at,{onClick:D,disabled:t,children:t?"Salvando...":"Salvar"})]})]})]})})]})}async function YQ(){const r=new Date,e=new Date(r.getFullYear(),r.getMonth(),1),t=new Date(r.getFullYear(),r.getMonth()+1,1),n=new Date(r.getFullYear(),r.getMonth()-1,1),a=new Date(e),{count:s,error:i}=await K.from("orders").select("*",{count:"exact",head:!0}).gte("created_at",e.toISOString()).lt("created_at",t.toISOString()),{count:l,error:c}=await K.from("orders").select("*",{count:"exact",head:!0}).gte("created_at",n.toISOString()).lt("created_at",a.toISOString());if(i||c)throw i||c;let d=0;return l&&l>0?d=(s-l)/l*100:s&&s>0&&(d=100),{percent:d,current:s||0,previous:l||0}}function y3({content:r,children:e,className:t=""}){const[n,a]=w.useState(!1),[s,i]=w.useState({x:0,y:0}),l=w.useRef(null);function c(d){i({x:d.clientX+12,y:d.clientY+12})}return o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"relative inline-block "+t,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onMouseMove:c,style:{cursor:"pointer"},children:e}),n&&typeof window<"u"&&xi.createPortal(o.jsx("div",{ref:l,className:"fixed z-[9999999] px-3 py-2 rounded-lg normal-case text-xs text-white bg-gray-900 dark:bg-gray-800 dark:text-white shadow-theme-sm transition-opacity duration-150 pointer-events-auto",style:{left:Math.min(s.x,window.innerWidth-260),top:Math.min(s.y,window.innerHeight-40),minWidth:180,maxWidth:260,opacity:n?1:0,whiteSpace:"normal",position:"fixed",pointerEvents:"auto",zIndex:9999999},children:r}),document.body)]})}async function GQ(){try{const{count:r,error:e}=await K.from("platform_users").select("*",{count:"exact",head:!0});if(e)throw e;return r||0}catch(r){return console.error("Erro ao contar usurios da plataforma:",r),0}}async function XQ(){const r=new Date,e=new Date(r.getFullYear(),r.getMonth(),1),t=new Date(r.getFullYear(),r.getMonth()+1,1),n=new Date(r.getFullYear(),r.getMonth()-1,1),a=new Date(e),{count:s,error:i}=await K.from("platform_users").select("*",{count:"exact",head:!0}).gte("created_at",e.toISOString()).lt("created_at",t.toISOString()),{count:l,error:c}=await K.from("platform_users").select("*",{count:"exact",head:!0}).gte("created_at",n.toISOString()).lt("created_at",a.toISOString());if(i||c)throw i||c;let d=0;return l&&l>0?d=(s-l)/l*100:s&&s>0&&(d=100),{percent:d,current:s||0,previous:l||0}}function ZQ(){const[r,e]=w.useState(null),[t,n]=w.useState(null),[a,s]=w.useState(null),[i,l]=w.useState(null);return w.useEffect(()=>{async function c(){const d=await ZP();e(d);const u=await YQ();n(u);const h=await GQ();s(h);const f=await XQ();l(f)}c()},[]),o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:gap-6",children:[o.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gray-100 rounded-xl dark:bg-gray-800",children:o.jsx(wN,{className:"text-gray-800 size-6 dark:text-white/90"})}),o.jsxs("div",{className:"flex items-end justify-between mt-5",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Clientes"}),o.jsx("h4",{className:"mt-2 font-bold text-gray-800 text-title-sm dark:text-white/90",children:a!==null?a.toLocaleString("pt-BR"):"..."})]}),o.jsx(At,{color:i&&i.percent>=0?"success":"error",children:i?o.jsxs(o.Fragment,{children:[i.percent>=0?o.jsx(N2,{}):o.jsx(E2,{}),Math.abs(i.percent).toFixed(2),"%"]}):"..."})]})]}),o.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gray-100 rounded-xl dark:bg-gray-800",children:o.jsx(kN,{className:"text-gray-800 size-6 dark:text-white/90"})}),o.jsxs("div",{className:"flex items-end justify-between mt-5",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-1",children:["Pedidos",o.jsx(y3,{content:"Quantidade total de pedidos realizados neste ms. A variao indica o crescimento ou queda em relao ao ms anterior.",children:o.jsx("span",{className:"ml-1 text-gray-400",children:""})})]}),o.jsx("h4",{className:"mt-2 font-bold text-gray-800 text-title-sm dark:text-white/90",children:r!==null?r.toLocaleString("pt-BR"):"..."})]}),o.jsx(At,{color:t&&t.percent>=0?"success":"error",children:t?o.jsxs(o.Fragment,{children:[t.percent>=0?o.jsx(N2,{}):o.jsx(E2,{}),Math.abs(t.percent).toFixed(2),"%"]}):"..."})]})]})]})}function JQ(){const[r,e]=w.useState(!1),[t,n]=w.useState(!0);w.useEffect(()=>{a()},[]);async function a(){try{const{data:{user:s}}=await K.auth.getUser();if(!s){console.log("Dashboard: Nenhum usurio autenticado"),n(!1);return}console.log("Dashboard: Verificando admin para usurio:",s.id);const{data:i,error:l}=await K.from("admins").select("role").eq("id",s.id).maybeSingle();console.log("Dashboard: Resultado da consulta admin:",{adminData:i,adminError:l}),(i==null?void 0:i.role)==="admin"?(console.log("Dashboard: Usurio  admin!"),e(!0)):console.log("Dashboard: Usurio no  admin")}catch(s){console.error("Erro ao verificar role de admin:",s)}finally{n(!1)}}return t?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"Dashboard do Publisher | Platform",description:"Painel de controle para publishers"}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-8 mb-8 items-stretch",children:[o.jsxs("div",{className:"flex flex-col flex-[1.3] gap-4",children:[o.jsx(b3,{className:"mb-4"}),o.jsx("div",{className:"w-full h-full",children:o.jsx("div",{className:"w-full h-full",children:o.jsx(v3,{})})})]}),o.jsx("div",{className:"flex-1 min-w-[320px]",children:o.jsx(wx,{})})]}),r?o.jsxs("div",{className:"grid grid-cols-12 gap-4 md:gap-6",children:[o.jsxs("div",{className:"col-span-12 space-y-6 w-full",children:[o.jsx(ZQ,{}),o.jsx(wx,{})]}),o.jsx("div",{className:"col-span-12 xl:col-span-5",children:o.jsx(Sp,{})}),o.jsx("div",{className:"col-span-12 xl:col-span-7",children:o.jsx(Cp,{})})]}):o.jsxs("div",{className:"grid grid-cols-12 gap-4 md:gap-6",children:[o.jsx("div",{className:"col-span-12 xl:col-span-5",children:o.jsx(Sp,{})}),o.jsx("div",{className:"col-span-12 xl:col-span-7",children:o.jsx(Cp,{})})]})]})}function KQ(){const[r,e]=w.useState(!1),[t,n]=w.useState(!0);w.useEffect(()=>{a()},[]);async function a(){try{const{data:{user:s}}=await K.auth.getUser();if(!s){console.log("Dashboard: Nenhum usurio autenticado"),n(!1);return}console.log("Dashboard: Verificando admin para usurio:",s.id);const{data:i,error:l}=await K.from("admins").select("role").eq("id",s.id).maybeSingle();console.log("Dashboard: Resultado da consulta admin:",{adminData:i,adminError:l}),(i==null?void 0:i.role)==="admin"?(console.log("Dashboard: Usurio  admin!"),e(!0)):console.log("Dashboard: Usurio no  admin")}catch(s){console.error("Erro ao verificar role de admin:",s)}finally{n(!1)}}return t?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"Dashboard do Anunciante | Platform",description:"Painel de controle para anunciantes"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8 items-start",children:[o.jsxs("div",{className:"flex flex-col gap-4 h-full",children:[o.jsx(b3,{className:"mb-4"}),o.jsx("div",{className:"w-full h-full",children:o.jsx("div",{className:"h-full",children:o.jsx(v3,{})})})]}),o.jsx("div",{children:o.jsx(wx,{})}),o.jsx("div",{className:"h-full",children:o.jsx(Cp,{})}),o.jsx("div",{children:o.jsx(Sp,{})})]})]})}const QQ=[{code:"BR",label:"+55"},{code:"US",label:"+1"},{code:"GB",label:"+44"},{code:"PT",label:"+351"},{code:"ES",label:"+34"},{code:"FR",label:"+33"},{code:"DE",label:"+49"},{code:"IT",label:"+39"},{code:"JP",label:"+81"},{code:"CN",label:"+86"},{code:"AU",label:"+61"},{code:"CA",label:"+1"},{code:"MX",label:"+52"},{code:"AR",label:"+54"},{code:"CL",label:"+56"},{code:"CO",label:"+57"},{code:"PE",label:"+51"},{code:"UY",label:"+598"},{code:"PY",label:"+595"},{code:"BO",label:"+591"}];function eee({profile:r,onUpdate:e,onClose:t}){const[n,a]=w.useState((r==null?void 0:r.first_name)||""),[s,i]=w.useState((r==null?void 0:r.last_name)||""),[l,c]=w.useState((r==null?void 0:r.phone)||""),[d,u]=w.useState(!1),[h,f]=w.useState(""),[p,m]=w.useState(!1);if(w.useEffect(()=>{r&&(a(r.first_name),i(r.last_name),c(r.phone||""))},[r]),!r)return null;const g=async v=>{v.preventDefault();try{if(u(!0),f(""),m(!1),!n.trim()||!s.trim()){f("Nome e sobrenome so obrigatrios");return}const{error:x}=await K.from("platform_users").update({first_name:n.trim(),last_name:s.trim(),phone:l.trim()}).eq("id",r.id);if(x)throw x;m(!0),e(),setTimeout(()=>{m(!1)},3e3)}catch(x){console.error("Erro ao atualizar perfil:",x),f("Erro ao atualizar perfil")}finally{u(!1)}};return o.jsx("div",{className:"p-5 border border-gray-200 rounded-2xl dark:border-gray-800 lg:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Informaes Pessoais"}),h&&o.jsx("div",{className:"p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:h}),p&&o.jsx("div",{className:"p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:"Informaes atualizadas com sucesso!"}),o.jsxs("form",{onSubmit:g,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[o.jsxs("div",{children:[o.jsxs(Te,{children:["Nome ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"text",value:n,onChange:v=>a(v.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Sobrenome ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"text",value:s,onChange:v=>i(v.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Email"}),o.jsx(st,{type:"email",value:r.email,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Telefone"}),o.jsx(Kc,{countries:QQ,value:l,onChange:v=>c(v),placeholder:"(99) 99999-9999"})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Tipo de Conta"}),o.jsx(st,{type:"text",value:r.role==="publisher"?"Publisher":"Anunciante",disabled:!0})]})]}),o.jsxs("div",{className:"flex justify-end",children:[t&&o.jsx(at,{variant:"outline",onClick:t,children:"Cancelar"}),o.jsx(at,{disabled:d,children:d?"Salvando...":"Salvar"})]})]})]})})}function ZS({userType:r}){const[e,t]=w.useState(null),[n,a]=w.useState(!0),[s,i]=w.useState(""),[l,c]=w.useState("profile");w.useEffect(()=>{d()},[]);async function d(){try{const{data:{user:f}}=await K.auth.getUser();if(!f){i("Usurio no encontrado");return}const{data:p,error:m}=await K.from("platform_users").select("*").eq("id",f.id).single();if(m)throw m;t(p)}catch(f){console.error("Erro ao carregar perfil:",f),i("Erro ao carregar dados do perfil")}finally{a(!1)}}if(n)return o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})});if(s)return o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-error-500",children:s})});const u=[{id:"profile",name:"Perfil"},{id:"company",name:"Dados da Empresa"}],h=r==="publisher"?"Publisher":"Anunciante";return o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:`Minha Conta | ${h}`,description:"Gerencie suas informaes de conta"}),o.jsx(kr,{pageTitle:"Minha Conta"}),o.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]",children:[o.jsx("div",{className:"border-b border-gray-200 dark:border-gray-800",children:o.jsx("div",{className:"flex gap-2 px-5 lg:px-6",children:u.map(f=>o.jsx("button",{onClick:()=>c(f.id),className:`inline-flex items-center gap-2 border-b-2 px-4 py-4 text-sm font-medium hover:text-gray-700 dark:hover:text-gray-300 ${l===f.id?"border-brand-500 text-brand-500 dark:text-brand-400":"border-transparent text-gray-500 dark:text-gray-400"}`,children:f.name},f.id))})}),o.jsxs("div",{className:"p-5 lg:p-6",children:[l==="profile"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(Y_,{profile:e}),o.jsx(eee,{profile:e,onUpdate:d}),o.jsx(sN,{profile:e,onUpdate:d})]}),l==="company"&&o.jsx(gN,{profile:e,onUpdate:d}),l==="account"&&o.jsx(xN,{profile:e,onUpdate:d}),l==="localization"&&o.jsx(vN,{profile:e})]})]})]})}function tee(){const r=mr(),[e,t]=w.useState([]),[n,a]=w.useState(!0),[s,i]=w.useState(""),[l,c]=w.useState("");w.useEffect(()=>{d()},[]);async function d(){try{a(!0),i("");const{data:m,error:g}=await K.from("pages").select("*").order("created_at",{ascending:!1});if(g)throw g;t(m||[])}catch(m){console.error("Error loading pages:",m),i("Erro ao carregar lista de pginas")}finally{a(!1)}}const u=()=>{r("/pages/new")},h=m=>{r(`/pages/edit/${m.id}`)},f=async m=>{if(confirm("Are you sure you want to delete this page? This action cannot be undone."))try{a(!0),i(""),c("");const{error:g}=await K.from("pages").delete().eq("id",m);if(g)throw g;c("Page deleted successfully"),await d()}catch(g){console.error("Error deleting page:",g),i("Error deleting page")}finally{a(!1)}},p=m=>new Date(m).toLocaleString("en-US",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return n&&!e.length?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):o.jsxs(md,{permission:"pages.view",fallback:o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-error-500",children:"Access not authorized"})}),children:[o.jsx(Yt,{title:"Pages | Admin Panel",description:"Manage system pages"}),o.jsx(kr,{pageTitle:"Pages"}),s&&o.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:s}),l&&o.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:l}),o.jsx("div",{className:"mb-6",children:o.jsx(at,{onClick:u,children:"Nova Pgina"})}),o.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:o.jsx("div",{className:"max-w-full overflow-x-auto",children:o.jsx("div",{className:"min-w-[1102px]",children:o.jsxs(no,{children:[o.jsx(ao,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:o.jsxs(Tr,{children:[o.jsx("th",{className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Title"}),o.jsx("th",{className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Slug"}),o.jsx("th",{className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Status"}),o.jsx("th",{className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Visibility"}),o.jsx("th",{className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"ltima Atualizao"}),o.jsx("th",{className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Aes"})]})}),o.jsxs(so,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:[e.map(m=>o.jsxs(Tr,{children:[o.jsx("td",{className:"px-5 py-4 sm:px-6 text-start",children:o.jsx("span",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:m.title})}),o.jsx("td",{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:m.slug}),o.jsx("td",{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:o.jsx(At,{color:m.status==="published"?"success":m.status==="archived"?"error":"warning",children:m.status==="published"?"Published":m.status==="archived"?"Archived":"Draft"})}),o.jsx("td",{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:o.jsx(At,{color:m.visible_to==="all"?"primary":m.visible_to==="publisher"?"success":"warning",children:m.visible_to==="all"?"All Users":m.visible_to==="publisher"?"Publishers":"Advertisers"})}),o.jsx("td",{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:p(m.updated_at)}),o.jsx("td",{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>h(m),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Edit",children:o.jsx(Pi,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>f(m.id),className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",title:"Delete",children:o.jsx(rs,{className:"w-5 h-5"})})]})})]},m.id)),e.length===0&&o.jsx(Tr,{children:o.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"Nenhuma pgina encontrada."})})]})]})})})})]})}function JS(){const{id:r}=zo(),e=mr(),[t,n]=w.useState(!1),[a,s]=w.useState(""),[i,l]=w.useState(""),[c,d]=w.useState(!1),[u,h]=w.useState({}),[f,p]=w.useState({title:"",slug:"",content:"",status:"draft",visible_to:"all"});w.useEffect(()=>{r&&g(r)},[r]),w.useEffect(()=>{if(!c&&f.title){const C=m(f.title);p(S=>({...S,slug:C}))}},[f.title,c]);function m(C){return C.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").replace(/-+/g,"-")}async function g(C){try{n(!0),s("");const{data:S,error:_}=await K.from("pages").select("*").eq("id",C).single();if(_)throw _;S&&(p({title:S.title,slug:S.slug,content:S.content,status:S.status,visible_to:S.visible_to}),d(!0))}catch(S){console.error("Error loading page:",S),s("Error loading page"),e("/pages")}finally{n(!1)}}const v=()=>{const C={};let S=!0;return f.title.trim()||(C.title="Title is required",S=!1),f.slug.trim()?/^[a-z0-9]+(?:-[a-z0-9]+)*$/.test(f.slug.trim())||(C.slug="Slug must contain only lowercase letters, numbers, and hyphens",S=!1):(C.slug="Slug is required",S=!1),f.content.trim()||(C.content="Content is required",S=!1),h(C),S},x=async C=>{C.preventDefault();try{if(!v())return;n(!0),s(""),l("");const{data:S,error:_}=await K.from("pages").select("id").eq("slug",f.slug.trim());if(_)throw _;if(S&&S.length>0&&S.some(F=>F.id!==r)){h(F=>({...F,slug:"This slug is already in use"}));return}const{data:{user:E}}=await K.auth.getUser();if(!E)throw new Error("User not authenticated");const A={title:f.title.trim(),slug:f.slug.trim(),content:f.content.trim(),status:f.status,visible_to:f.visible_to,updated_by:E.id};if(r){const{error:T}=await K.from("pages").update(A).eq("id",r);if(T)throw T;l("Page updated successfully")}else{const{error:T}=await K.from("pages").insert([{...A,created_by:E.id}]);if(T)throw T;l("Page created successfully")}setTimeout(()=>{e("/pages")},1500)}catch(S){console.error("Error saving page:",S),s("Error saving page")}finally{n(!1)}},b=C=>{const S=C.target.value;p(_=>({..._,title:S}))},y=C=>{d(!0),p(S=>({...S,slug:C.target.value}))};return t&&!f.title?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):o.jsxs(md,{permission:"pages.edit",fallback:o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-error-500",children:"Access not authorized"})}),children:[o.jsx(Yt,{title:`${r?"Edit":"New"} Page | Admin Panel`,description:"Manage system pages"}),o.jsx(kr,{pageTitle:`${r?"Edit":"New"} Page`}),o.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]",children:[a&&o.jsx("div",{className:"p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:a}),i&&o.jsx("div",{className:"p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:i}),o.jsx("form",{onSubmit:x,className:"p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs(Te,{children:["Title ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"text",value:f.title,onChange:b,error:!!u.title,hint:u.title,required:!0})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Slug ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"text",value:f.slug,onChange:y,error:!!u.slug,hint:u.slug,required:!0}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"The URL-friendly version of the title. Will be auto-generated from title if left empty."})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Content ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(Zi,{value:f.content,onChange:C=>p({...f,content:C}),rows:20,error:!!u.content,hint:u.content,required:!0})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Status"}),o.jsx(Jt,{options:[{value:"draft",label:"Draft"},{value:"published",label:"Published"},{value:"archived",label:"Archived"}],value:f.status,onChange:C=>p({...f,status:C})})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Visibility"}),o.jsx(Jt,{options:[{value:"all",label:"All Users"},{value:"publisher",label:"Publishers Only"},{value:"advertiser",label:"Advertisers Only"}],value:f.visible_to,onChange:C=>p({...f,visible_to:C})}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Control which type of users can view this page"})]}),o.jsxs("div",{className:"flex gap-4 pt-6",children:[o.jsx(at,{variant:"outline",onClick:()=>e("/pages"),children:"Cancelar"}),o.jsx(at,{disabled:t,children:t?"Salvando...":"Salvar"})]})]})})]})]})}function ree(){return o.jsxs("div",{className:"animate-pulse space-y-6",children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded-lg w-1/3 dark:bg-gray-800"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 dark:bg-gray-800"}),o.jsx("div",{className:"space-y-4",children:[1,2,3].map(r=>o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 dark:bg-gray-800"}),o.jsx("div",{className:"h-11 bg-gray-200 rounded-lg dark:bg-gray-800"})]},r))}),o.jsx("div",{className:"flex justify-end",children:o.jsx("div",{className:"h-10 bg-gray-200 rounded-lg w-24 dark:bg-gray-800"})})]})}function nee({field:r,settings:e,value:t,onChange:n,error:a,onErrorClear:s}){return e!=null&&e.input_mask_enabled&&e.input_mask_pattern?o.jsx(zc,{mask:e.input_mask_pattern,value:t||"",onChange:i=>{n(i.target.value),a&&s&&s()},placeholder:r.placeholder,className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"}):o.jsx(st,{type:"text",value:t||"",onChange:i=>{n(i.target.value),a&&s&&s()},placeholder:r.placeholder,required:r.is_required,error:!!a,hint:a})}function aee({field:r,value:e,onChange:t,error:n}){return o.jsx(Zi,{value:e||"",onChange:t,placeholder:r.placeholder,required:r.is_required,error:!!n,hint:n})}function see({field:r,value:e,onChange:t}){var i;const n=((i=r.options)==null?void 0:i.map(l=>({value:l.value||l.label,label:l.label})))||[],a=l=>{t(l)},s=r.placeholder||"Select an option";return o.jsx(Jt,{options:n,value:e,onChange:a,placeholder:s})}function iee({field:r,settings:e,value:t=[],onChange:n,error:a,onErrorClear:s}){var v;const[i,l]=w.useState(!1),[c,d]=w.useState(""),u=w.useRef(null),h=e==null?void 0:e.max_selections,f=h&&Array.isArray(t)&&t.length>=h;w.useEffect(()=>{const x=b=>{u.current&&!u.current.contains(b.target)&&l(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=x=>{const b=Array.isArray(t)?[...t]:[];b.includes(x)?n(b.filter(y=>y!==x)):f||n([...b,x]),a&&s&&s()},m=(x,b)=>{b.stopPropagation();const y=Array.isArray(t)?[...t]:[];n(y.filter(C=>C!==x)),a&&s&&s()},g=((v=r.options)==null?void 0:v.filter(x=>x.label.toLowerCase().includes(c.toLowerCase())))||[];return o.jsxs("div",{className:"relative",ref:u,children:[o.jsxs("div",{onClick:()=>l(!i),className:`relative flex flex-col items-center h-auto min-h-[2.75rem] w-full rounded-lg border ${a?"border-error-500 dark:border-error-500":i?"border-brand-500 ring-3 ring-brand-500/10 dark:border-brand-500":"border-gray-300 dark:border-gray-700"} bg-transparent`,children:[o.jsx("div",{className:"flex flex-wrap flex-grow w-full gap-1 p-1",children:Array.isArray(t)&&t.length>0?t.map((x,b)=>{var C;const y=(C=r.options)==null?void 0:C.find(S=>(S.value||S.label)===x);return o.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 m-1 text-sm font-medium text-gray-700 bg-gray-100 rounded-md dark:bg-gray-800 dark:text-gray-300",children:[o.jsx("span",{children:(y==null?void 0:y.label)||x}),o.jsx("button",{onClick:S=>m(x,S),className:"p-0.5 hover:text-gray-900 dark:hover:text-white",children:o.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},b)}):o.jsx("div",{className:"flex-1 p-2 text-sm text-gray-400 dark:text-gray-500",children:r.placeholder||"Select options"})}),o.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:o.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${i?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",children:o.jsx("path",{d:"M7 7l3 3 3-3",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),i&&o.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg",children:[o.jsx("div",{className:"p-2",children:o.jsx("input",{type:"text",className:"w-full p-2 text-sm bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg",placeholder:"Search options...",value:c,onChange:x=>d(x.target.value),onClick:x=>x.stopPropagation()})}),o.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[g.map((x,b)=>{const y=x.value||x.label,C=Array.isArray(t)&&t.includes(y);return o.jsx("div",{onClick:()=>p(y),className:`flex items-center px-4 py-2 text-sm cursor-pointer ${C?"bg-brand-50 text-brand-600 dark:bg-brand-500/10 dark:text-brand-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${f&&!C?"opacity-50 cursor-not-allowed":""}`,children:o.jsxs("div",{className:"flex items-center w-full",children:[o.jsx("div",{className:"relative flex items-center justify-center w-5 h-5 mr-3",children:C&&o.jsx("svg",{className:"w-4 h-4 text-brand-500 dark:text-brand-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),o.jsx("span",{className:"flex-grow",children:x.label})]})},b)}),g.length===0&&o.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400 text-center",children:"No options found"})]})]}),h&&o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:Array.isArray(t)&&t.length===h?o.jsxs("span",{className:"text-warning-500",children:["Mximo de ",h," selees atingido"]}):`Voc pode selecionar at ${h} ${h===1?"opo":"opes"}`}),a&&o.jsx("p",{className:"mt-1 text-sm text-error-500",children:a})]})}function oee({field:r,settings:e,value:t,onChange:n,error:a}){var i,l;const s=(e==null?void 0:e.inline_layout)||((i=r.validation_rules)==null?void 0:i.inline_layout);return o.jsxs("div",{className:`${s?"flex flex-wrap gap-4":"space-y-2"}`,children:[(l=r.options)==null?void 0:l.map((c,d)=>o.jsx(i0,{id:`${r.id}_${d}`,name:r.id,value:c.value||c.label,checked:t===(c.value||c.label),onChange:n,label:c.label},d)),a&&o.jsx("p",{className:"text-sm text-error-500 w-full",children:a})]})}function lee({field:r,settings:e,value:t=[],onChange:n,error:a,onErrorClear:s}){var d,u;const i=Array.isArray(t)?t:[],l=(e==null?void 0:e.max_selections)&&i.length>=e.max_selections,c=(e==null?void 0:e.inline_layout)||((d=r.validation_rules)==null?void 0:d.inline_layout);return o.jsxs("div",{className:`${c?"flex flex-wrap gap-4":"space-y-2"}`,children:[(u=r.options)==null?void 0:u.map((h,f)=>{const p=h.value||h.label,m=i.includes(p);return o.jsx($c,{checked:m,onChange:g=>{let v;g?!l||m?v=[...i,p]:v=[...i]:v=i.filter(x=>x!==p),n(v),a&&s&&s()},label:h.label,disabled:l&&!m},f)}),(e==null?void 0:e.max_selections)&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 w-full",children:i.length===e.max_selections?o.jsxs("span",{className:"text-warning-500",children:["Mximo de ",e.max_selections," selees atingido"]}):`Voc pode selecionar at ${e.max_selections} ${e.max_selections===1?"opo":"opes"}`}),a&&o.jsx("p",{className:"text-sm text-error-500 w-full",children:a})]})}function cee({field:r,value:e,onChange:t,error:n,onErrorClear:a}){const s=i=>i?i.includes("@"):!0;return o.jsx(st,{type:"email",value:e||"",onChange:i=>{const l=i.target.value;t(l),n&&a&&s(l)&&a()},onBlur:i=>{!s(i.target.value)&&!n&&t(i.target.value)},placeholder:r.placeholder,required:r.is_required,error:!!n,hint:n||(r.description?r.description:"")})}function dee({field:r,value:e,onChange:t,error:n,onErrorClear:a}){const s=l=>{if(!l)return!0;const c=l.match(/^https?:\/\//)?l:`https://${l}`;try{return new URL(c),!0}catch{return!1}},i=l=>{const c=l.target.value.trim();c&&!c.match(/^https?:\/\//)&&t(`https://${c}`)};return o.jsx(st,{type:"url",value:e||"",onChange:l=>{const c=l.target.value;t(c),n&&a&&s(c)&&a()},onBlur:i,placeholder:r.placeholder||"https://example.com",required:r.is_required,error:!!n,hint:n||(r.description?r.description:"")})}function uee({field:r,value:e,onChange:t,error:n}){return o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Lr,{label:r.label,checked:e||!1,onChange:t})}),r.description&&o.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:r.description}),n&&o.jsx("p",{className:"mt-1 text-sm text-error-500",children:n})]})}function hee({field:r}){return o.jsxs("div",{className:"w-full",children:[o.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-800 dark:text-white/90",children:r.label}),r.description&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.description})]})}function fee({value:r,onChange:e,error:t,onErrorClear:n,settings:a}){var v;const s=(a==null?void 0:a.max_files)||1,i=(a==null?void 0:a.max_file_size)||5*1024*1024,l=(a==null?void 0:a.multiple_files)||!1,c=((v=a==null?void 0:a.allowed_extensions)==null?void 0:v.split(",").map(x=>x.trim()))||[],d=w.useCallback(x=>{const b=[...r];x.forEach(C=>{var _;const S=(_=C.name.split(".").pop())==null?void 0:_.toLowerCase();if(c.length>0&&S&&!c.includes(S)){console.error(`File type .${S} not allowed`);return}if(C.size>i){console.error("File too large");return}b.push(C)});const y=b.slice(0,s);e(y),t&&n&&n()},[r,s,i,c,t,n]),{getRootProps:u,getInputProps:h,isDragActive:f}=f3({onDrop:d,multiple:l,maxFiles:s,maxSize:i,accept:c.length>0?c.reduce((x,b)=>{const y=pee(b);return y&&(x[y]||(x[y]=[]),x[y].push(`.${b}`)),x},{}):void 0}),p=x=>{const b=r.filter((y,C)=>C!==x);e(b)},m=x=>{var y;if(!x)return o.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})});const b=(y=x.split(".").pop())==null?void 0:y.toLowerCase();return["mp3","wav","ogg","m4a"].includes(b||"")?o.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}):["mp4","webm","ogg","mov","avi"].includes(b||"")?o.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}):["doc","docx"].includes(b||"")?o.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}):["pdf"].includes(b||"")?o.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}):["jpg","jpeg","png","gif","webp"].includes(b||"")?o.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}):o.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})},g=()=>!c||c.length===0?"All files":c.map(x=>`.${x}`).join(", ");return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{...u(),className:`transition border-2 border-dashed cursor-pointer dark:hover:border-brand-500 dark:border-gray-700 rounded-xl hover:border-brand-500 ${f?"border-brand-500 bg-gray-100 dark:bg-gray-800":"border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-900"}`,children:[o.jsx("input",{...h()}),o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("div",{className:"mb-4",children:o.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),o.jsx("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:f?"Drop files here...":"Drag & drop files here, or click to select files"}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Allowed types: ",g()]}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Max size: ",KS(i)]}),l&&o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Max files: ",s]})]})]}),r&&r.length>0&&o.jsx("div",{className:"space-y-2",children:r.map((x,b)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[m(x.name),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:x.name}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:KS(x.size)})]})]}),o.jsx("button",{type:"button",onClick:()=>p(b),className:"p-1 text-gray-400 hover:text-error-500 dark:hover:text-error-400",children:o.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},b))}),t&&o.jsx("p",{className:"text-sm text-error-500",children:t})]})}function KS(r,e=2){if(r===0)return"0 Bytes";const t=1024,n=e<0?0:e,a=["Bytes","KB","MB","GB","TB"],s=Math.floor(Math.log(r)/Math.log(t));return`${parseFloat((r/Math.pow(t,s)).toFixed(n))} ${a[s]}`}function pee(r){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",txt:"text/plain",csv:"text/csv",mp3:"audio/mpeg",wav:"audio/wav",ogg:"audio/ogg",m4a:"audio/mp4",mp4:"video/mp4",webm:"video/webm",mov:"video/quicktime",avi:"video/x-msvideo"}[r.toLowerCase()]||null}const QS=(r,e)=>{if(!r)return"";const t=r.replace(/\D/g,"");let n=parseInt(t);return!isNaN(n)&&e!==void 0&&(n=Math.min(n,e)),n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},gee=r=>r>=80?{letter:"A",bgColor:"#9EF2C9",textColor:"#007C65",hoverBgColor:"#00C192",hoverTextColor:"#fff"}:r>=60?{letter:"B",bgColor:"#C4E5FE",textColor:"#006DCA",hoverBgColor:"#2BB3FF",hoverTextColor:"#fff"}:r>=40?{letter:"C",bgColor:"#EDD9FF",textColor:"#8649E1",hoverBgColor:"#AB6CFE",hoverTextColor:"#fff"}:r>=20?{letter:"D",bgColor:"#FCE081",textColor:"#A75800",hoverBgColor:"#EF9800",hoverTextColor:"#fff"}:{letter:"F",bgColor:"#f9b4b4",textColor:"#b84f53",hoverBgColor:"#ff4953",hoverTextColor:"#fff"};function mee({field:r,value:e,onChange:t,error:n,onErrorClear:a}){const s=["moz_da","semrush_as","ahrefs_dr"].includes(r.field_type),[i,l]=w.useState(!1),[c,d]=w.useState(null);return w.useEffect(()=>{if(s&&e){const u=parseInt(e.replace(/,/g,""));!isNaN(u)&&u>=0&&u<=100?(d(gee(u)),l(!0)):l(!1)}else l(!1)},[e,s]),o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(st,{type:"text",value:e?QS(e,s?100:void 0):"",onChange:u=>{const h=QS(u.target.value,s?100:void 0);t(h),n&&a&&a()},placeholder:"0",error:!!n,hint:n,className:"flex-1"}),i&&c&&o.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded-sm text-xs font-bold transition-colors hover:scale-110",style:{backgroundColor:c.bgColor,color:c.textColor,cursor:"pointer"},onMouseOver:u=>{u.currentTarget.style.backgroundColor=c.hoverBgColor,u.currentTarget.style.color=c.hoverTextColor},onMouseOut:u=>{u.currentTarget.style.backgroundColor=c.bgColor,u.currentTarget.style.color=c.textColor},title:`Score ${c.letter}`,children:c.letter})]})})}function xee({field:r}){return o.jsx("div",{className:"prose max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:r.description||""}})}function vee({value:r,onChange:e,error:t,onErrorClear:n}){const a="dd/mm/yyyy",s=l=>{if(!l)return"";try{const c=new Date(l);if(isNaN(c.getTime()))return"";const d=c.getDate().toString().padStart(2,"0"),u=(c.getMonth()+1).toString().padStart(2,"0"),h=c.getFullYear();switch(a){case"dd/mm/yyyy":return`${d}/${u}/${h}`;default:return l}}catch{return""}},i=l=>{if(!l)return"";try{let c,d,u;switch(a){case"dd/mm/yyyy":[c,d,u]=l.split("/");break;default:return l}return new Date(parseInt(u),parseInt(d)-1,parseInt(c)).toISOString().split("T")[0]}catch{return""}};return o.jsx(st,{type:"date",value:i(r),onChange:l=>{const c=s(l.target.value);e(c),t&&n&&n()},placeholder:a.toUpperCase(),error:!!t,hint:t})}function bee({value:r,onChange:e,error:t,onErrorClear:n}){const a="HH:mm",s=l=>{if(!l)return"";try{const[c,d]=l.split(":"),u=parseInt(c),h=parseInt(d);return isNaN(u)||isNaN(h)?"":`${c.padStart(2,"0")}:${d.padStart(2,"0")}`}catch{return""}},i=l=>{if(!l)return"";try{return l}catch{return""}};return o.jsx(st,{type:"time",value:i(r),onChange:l=>{const c=s(l.target.value);e(c),t&&n&&n()},placeholder:a,error:!!t,hint:t})}function yee({value:r={},onChange:e,error:t,onErrorClear:n,settings:a}){var u;let s={};try{s=typeof r=="string"?JSON.parse(r||"{}"):r||{}}catch{console.log("Failed to parse JSON in CountryField, using empty object:",r),s={}}const i=Object.keys(s).length,l=a==null?void 0:a.max_selections,c=l&&i>=l,d=h=>{const f={...s};h in f?delete f[h]:f[h]=!0,e(f),t&&n&&n()};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(u=a==null?void 0:a.countries)==null?void 0:u.map(h=>{const f=h,p=f in s;return o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("div",{className:"flex items-center gap-2 min-w-[140px]",children:[o.jsx("input",{type:"checkbox",checked:p,onChange:()=>d(f),disabled:c&&!p,className:`w-4 h-4 rounded border-gray-300 text-brand-500 focus:ring-brand-500/20 dark:border-gray-700 dark:bg-gray-900 ${c&&!p?"opacity-50 cursor-not-allowed":""}`}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("img",{src:yh(h),width:"20",height:"20",alt:e8(h),className:`rounded-full ${h==="ROW"?"dark:invert":""}`}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e8(h)})]})]})},h)})}),l&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:i===l?o.jsxs("span",{className:"text-warning-500",children:["Mximo de ",l," pases selecionados"]}):`Voc pode selecionar at ${l} ${l===1?"pas":"pases"}`}),t&&o.jsx("p",{className:"text-sm text-error-500",children:t})]})}function e8(r){return{BR:"Brasil",US:"Estados Unidos",GB:"Reino Unido",PT:"Portugal",ES:"Espanha",FR:"Frana",DE:"Alemanha",IT:"Itlia",CA:"Canad",AU:"Austrlia",JP:"Japo",CN:"China",IN:"ndia",RU:"Rssia",MX:"Mxico",AR:"Argentina",CL:"Chile",CO:"Colmbia",PE:"Peru",VE:"Venezuela",ROW:"Rest of World"}[r]||r}function wee({value:r,onChange:e,error:t,onErrorClear:n,settings:a}){var x;const[s,i]=w.useState([]),[l,c]=w.useState([]),[d,u]=w.useState(!1);let h={};try{h=typeof r=="string"?JSON.parse(r||"{}"):r||{}}catch{console.log("Failed to parse JSON in BrazilianStatesField, using empty object:",r),h={}}const f=(a==null?void 0:a.max_selections)!==1;w.useEffect(()=>{p()},[]),w.useEffect(()=>{h.state&&m(h.state)},[h.state]);async function p(){try{u(!0);const b=await fetch("https://brasilapi.com.br/api/ibge/uf/v1");if(!b.ok)throw new Error(`Failed to fetch states: ${b.status}`);const y=await b.json();i(y.sort((C,S)=>C.nome.localeCompare(S.nome)))}catch(b){console.error("Error loading states:",b)}finally{u(!1)}}async function m(b){if(b)try{u(!0);const y=await fetch(`https://brasilapi.com.br/api/ibge/municipios/v1/${b}`);if(!y.ok)throw new Error(`Failed to fetch cities: ${y.status}`);const C=await y.json();c(C.sort((S,_)=>S.nome.localeCompare(_.nome)))}catch(y){console.error("Error loading cities:",y)}finally{u(!1)}}const g=b=>{const y=s.find(S=>S.sigla===b),C={...h,state:b,state_name:(y==null?void 0:y.nome)||"",cities:[],city_names:[]};e(C),t&&n&&n()},v=b=>{const y={...h,cities:b,city_names:b};e(y),t&&n&&n()};return d&&s.length===0?o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando estados..."}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx(Jt,{options:s.map(b=>({value:b.sigla,label:`${b.nome} (${b.sigla})`})),value:h.state||"",onChange:g,placeholder:"Selecione o estado"})}),h.state&&o.jsx("div",{children:d&&l.length===0?o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando cidades..."}):f?o.jsx(OP,{options:l.map(b=>({value:b.nome,text:b.nome})),defaultSelected:h.cities||[],onChange:v,maxSelections:a==null?void 0:a.max_selections}):o.jsx(Jt,{options:l.map(b=>({value:b.nome,label:b.nome})),value:((x=h.cities)==null?void 0:x[0])||"",onChange:b=>v([b]),placeholder:"Selecione a cidade"})}),t&&o.jsx("p",{className:"text-sm text-error-500",children:t})]})}const kee=[{code:"BR",label:"+55"},{code:"US",label:"+1"},{code:"GB",label:"+44"},{code:"PT",label:"+351"},{code:"ES",label:"+34"},{code:"FR",label:"+33"},{code:"DE",label:"+49"},{code:"IT",label:"+39"},{code:"JP",label:"+81"},{code:"CN",label:"+86"},{code:"AU",label:"+61"},{code:"CA",label:"+1"},{code:"MX",label:"+52"},{code:"AR",label:"+54"},{code:"CL",label:"+56"},{code:"CO",label:"+57"},{code:"PE",label:"+51"},{code:"UY",label:"+598"},{code:"PY",label:"+595"},{code:"BO",label:"+591"}];function Cee({value:r,onChange:e,error:t,onErrorClear:n}){return o.jsx(Kc,{countries:kee,value:r||"",onChange:a=>{e(a),t&&n&&n()},placeholder:"(99) 99999-9999"})}function Hb(r){const e=typeof r=="string"?parseFloat(r):r;return isNaN(e)?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function See(r){if(!r)return 0;const e=r.replace(/[^\d,]/g,"").replace(",","."),t=parseFloat(e);return isNaN(t)?0:t}function t8(r){const e=r.replace(/\D/g,"");return e?(parseInt(e,10)/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):""}function r8(r){if(!r)return"";const e=typeof r=="string"?See(r):r;return isNaN(e)||e===0?"":e.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}function jee({value:r,onChange:e,error:t,onErrorClear:n,settings:a}){const s=Pn(),[i,l]=w.useState(""),[c,d]=w.useState(""),[u,h]=w.useState("");w.useEffect(()=>{let _={};try{typeof r=="string"?_=JSON.parse(r||"{}"):typeof r=="object"&&r!==null?_=r:r?_={promotional_price:String(r)}:_={}}catch{r?_={promotional_price:String(r)}:_={}}const E=_.old_price||_.price||"",A=_.old_promotional_price||_.promotional_price||"";d(r8(E)),h(r8(A))},[r]);let f={};try{typeof r=="string"?f=JSON.parse(r||"{}"):typeof r=="object"&&r!==null?f=r:r?f={promotional_price:String(r)}:f={}}catch{r?f={promotional_price:String(r)}:f={}}const p=_=>{if(!_)return 0;let A=_.toString().replace(/[^\d,.]/g,"");A.includes(",")&&(A=A.replace(/\./g,"").replace(",","."));const T=parseFloat(A);return isNaN(T)?0:T},m=_=>{const E=_.target.value,A=t8(E);d(A);const T={...f,price:A,old_price:A};if(l(""),f.old_promotional_price&&A){const F=p(f.old_promotional_price),L=p(A);L>0&&F>=L&&l("Preo promocional deve ser menor que o preo normal")}e(JSON.stringify(T)),t&&n&&n()},g=()=>{},v=_=>{const E=_.target.value,A=t8(E);if(A&&f.old_price){const F=p(A),L=p(f.old_price);if(L>0&&F>=L){l("Preo promocional deve ser menor que o preo normal");return}}h(A);const T={...f,promotional_price:A,old_promotional_price:A};l(""),e(JSON.stringify(T)),t&&n&&n()},x=()=>{},y=(()=>{if(a!=null&&a.product_description){if(typeof a.product_description=="string")try{const _=JSON.parse(a.product_description);return{price_description:_.price_description||"",promotional_price_description:_.promotional_price_description||""}}catch{return{price_description:a.product_description,promotional_price_description:""}}if(typeof a.product_description=="object"){const _=a.product_description;return{price_description:_.price_description||"",promotional_price_description:_.promotional_price_description||""}}}return{price_description:"",promotional_price_description:""}})(),C=!s.pathname.includes("pages/cadastro-de-sitewebsite"),S=()=>f.old_promotional_price&&f.old_promotional_price!==""?f.old_promotional_price:f.old_price&&f.old_price!==""?f.old_price:f.promotional_price&&f.promotional_price!==""?f.promotional_price:f.price||"";return o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-400",children:"Preo"}),o.jsx(st,{type:"text",name:"price",value:c,onChange:m,onBlur:g,placeholder:"0,00",error:!!t,hint:t||y.price_description})]}),C&&o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-400",children:"Preo Promocional"}),o.jsx(st,{type:"text",name:"promotional_price",value:u,onChange:v,onBlur:x,placeholder:"0,00",error:!!i,hint:i||y.promotional_price_description})]}),o.jsx("input",{type:"hidden",name:"main_price",value:S()})]})}function w5({commission:r,productData:e,layout:t="inline",showMarginBelow:n=!0,className:a="",showOriginalPrice:s=!1}){const i=s?tL(e):w3(e),l=r||0,c=u=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u);let d=null;if(i&&l>=0){const u=i.price,h=i.promotional_price;let f,p,m;s?(f=h||u,p=f,m=0):(f=h||u,m=f*l/100,p=f+m);let g=null;if(s&&e){if(typeof e=="object"){const y=e.old_price?parseFloat(e.old_price):null;g=y&&y>u?y:null}else if(typeof e=="string")try{const y=JSON.parse(e),C=y.old_price?parseFloat(y.old_price):null;g=C&&C>u?C:null}catch{}}let v=null,x=0,b=!1;if(s)h?(v=u,b=!0,x=Math.round((u-h)/u*100)):g&&(v=g,b=!0,x=Math.round((g-u)/g*100));else if(h){const y=u*l/100,C=u+y;v=C,b=!0,x=Math.round((C-p)/C*100)}d={originalPrice:v,promotionalPrice:b?f:void 0,finalPrice:f,marginValue:m,priceWithCommission:p,discountPercentage:x}}return d?t==="inline"?o.jsxs("div",{className:a,children:[" ",o.jsxs("div",{className:"flex flex-col items-start",children:[(s||d.promotionalPrice)&&d.originalPrice&&o.jsx("div",{className:"text-xs text-gray-500 mb-1",children:c(d.originalPrice)})," ",o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:c(d.priceWithCommission)}),(s||d.promotionalPrice)&&d.discountPercentage>0&&o.jsxs("span",{className:"text-success-600 text-xs font-medium dark:text-success-500",children:[d.discountPercentage,"%"," ","OFF"]})]})]}),n&&o.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Margem: ",c(d.marginValue)]})]}):o.jsxs("div",{className:`p-3 bg-gray-50 dark:bg-gray-800 rounded-lg ${a}`,children:[o.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Simulao de Preo com Comisso"}),o.jsxs("div",{className:"space-y-2",children:[" ",(d.promotionalPrice||s)&&d.originalPrice&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:s?"Preo anterior:":"Preo original (c/ comisso):"}),o.jsx("span",{className:"text-sm text-gray-500 line-through",children:c(d.originalPrice)}),d.discountPercentage>0&&o.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-xs rounded-full font-medium dark:bg-red-900/20 dark:text-red-400",children:[d.discountPercentage,"% OFF"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Preo do artigo:"}),o.jsx("span",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:c(d.finalPrice)})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Margem (",l,"%):"]}),o.jsxs("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:["+ ",c(d.marginValue)]})]}),o.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-2"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Preo final:"}),o.jsx("span",{className:"text-base font-bold text-brand-600 dark:text-brand-400",children:c(d.priceWithCommission)})]})]})]}):null}function tL(r){if(!r)return null;if(typeof r=="string")try{const e=JSON.parse(r);return tL(e)}catch{return null}if(typeof r=="object"){const e=r.price?Ic(r.price):0,t=r.promotional_price?Ic(r.promotional_price):void 0,n=r.old_price?Ic(r.old_price):void 0,a=r.old_promotional_price?Ic(r.old_promotional_price):void 0,s=n&&n>e?n:void 0,i=a&&t&&a>t?a:void 0;return{price:e,promotional_price:t&&!isNaN(t)?t:void 0,old_price:s&&!isNaN(s)?s:void 0,old_promotional_price:i&&!isNaN(i)?i:void 0}}return null}function Ic(r){if(!r)return 0;let e=String(r);if(e=e.replace(/[R$\s"\\]/g,""),e.includes(",")&&e.includes("."))e=e.replace(/\./g,"").replace(",",".");else if(e.includes(","))e=e.replace(",",".");else if(e.includes(".")){const n=e.split(".");n.length===2&&n[1].length<=2||(e=e.replace(/\./g,""))}const t=parseFloat(e);return isNaN(t)?0:t}function w3(r){if(!r)return null;if(typeof r=="string")try{const e=JSON.parse(r);return w3(e)}catch{const e=Ic(r);return!isNaN(e)&&e>0?{price:e,promotional_price:void 0}:null}if(typeof r=="object"){const e=r.old_price||r.price,t=r.old_promotional_price||r.promotional_price,n=Ic(e),a=t?Ic(t):void 0;return isNaN(n)?null:{price:n,promotional_price:a&&!isNaN(a)?a:void 0}}return null}function _ee(r,e,t=!1){const n=w3(e);if(!n||!r||r<=0)return null;const a=n.price,s=n.promotional_price,i=s||a,l=i*r/100,c=i+l,d=a*r/100,u=a+d,h=t||!!s,f=t?a:u,p=h?Math.round((f-(t?i:c))/f*100):0;return{originalPrice:f,promotionalPrice:h?t?i:s:void 0,finalPrice:i,marginValue:l,priceWithCommission:c,discountPercentage:p,hasDiscount:h,formatCurrency:m=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m)}}function Nee({value:r,onChange:e,error:t,onErrorClear:n,productData:a}){const s=c=>{const d=Math.min(1e3,Math.max(0,parseFloat(c.target.value)||0));e(d.toString()),t&&n&&n()},i=parseFloat(r)||0,l=_ee(i,a);return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(st,{type:"number",value:r||"",onChange:s,min:"0",max:"1000",step:.01,placeholder:"0.00",error:!!t,hint:t}),o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"%"})]}),l&&o.jsxs("div",{className:"flex flex-col ml-[205px]",children:[l.promotionalPrice&&o.jsx("div",{className:"text-xs text-gray-500 line-through mb-1",children:l.formatCurrency(l.originalPrice)}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:l.formatCurrency(l.priceWithCommission)}),l.promotionalPrice&&o.jsxs("span",{className:"text-green-600 text-xs font-medium dark:text-green-400",children:[l.discountPercentage,"% OFF"]})]})]})]}),l&&o.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Margem: ",l.formatCurrency(l.marginValue)]})]})}function Eee({value:r,onChange:e,error:t,onErrorClear:n}){const[a,s]=w.useState(""),[i,l]=w.useState(""),[c,d]=w.useState(null),[u,h]=w.useState(!1),[f,p]=w.useState(""),[m,g]=w.useState("");w.useEffect(()=>{try{let S={};try{S=typeof r=="string"?JSON.parse(r||"{}"):r||{}}catch{console.log("Failed to parse JSON in BrandField, using empty object:",r),S={}}s(S.name||""),l(S.logo||""),S.logo&&v(S.logo)}catch(S){console.error("Error parsing brand value:",S),s(""),l("")}},[r]);const v=async S=>{if(S)try{const{data:_}=K.storage.from("brand_logos").getPublicUrl(S);_!=null&&_.publicUrl&&g(_.publicUrl)}catch(_){console.error("Error generating preview URL:",_)}},x=S=>{const _=S.target.value;s(_),C(_,i),t&&n&&n()},b=S=>{var T;const _=(T=S.target.files)==null?void 0:T[0];if(!_)return;if(!_.type.startsWith("image/png")&&!_.type.startsWith("image/jpeg")){p("O arquivo deve ser uma imagem PNG ou JPG");return}if(_.size>2*1024*1024){p("A imagem deve ter menos de 2MB");return}const E=new Image,A=URL.createObjectURL(_);E.onload=()=>{if(E.width!==E.height){p("A imagem deve ser quadrada (mesma largura e altura)"),URL.revokeObjectURL(A);return}if(E.width>512||E.height>512){p("A imagem deve ter no mximo 512x512 pixels"),URL.revokeObjectURL(A);return}d(_),g(A),p(""),t&&n&&n()},E.onerror=()=>{p("Erro ao carregar a imagem"),URL.revokeObjectURL(A)},E.src=A},y=async()=>{if(c)try{h(!0),p("");const S=c.name.split(".").pop(),E=`${`${Date.now()}-${Math.random().toString(36).substring(2,15)}.${S}`}`,{error:A}=await K.storage.from("brand_logos").upload(E,c);if(A)throw A;l(E),C(a,E)}catch(S){console.error("Error uploading logo:",S),p(S.message||"Erro ao fazer upload do logo")}finally{h(!1)}},C=(S,_)=>{e(JSON.stringify({name:S,logo:_}))};return o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("input",{type:"file",accept:"image/png,image/jpeg",onChange:b,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-brand-50 file:text-brand-700 hover:file:bg-brand-100 dark:text-gray-400"}),o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG ou JPG, mximo 512x512px, 2MB"}),c&&o.jsx(at,{onClick:y,disabled:u,size:"sm",children:u?"Enviando...":"Enviar Logo"})]}),m&&o.jsx("div",{className:"flex items-center justify-center p-2 bg-gray-50 dark:bg-gray-800 rounded-lg",children:o.jsx("img",{src:m,alt:"Logo Preview",className:"max-w-[80px] max-h-[80px] object-contain"})}),f&&o.jsx("p",{className:"text-sm text-error-500",children:f})]}),o.jsx("div",{children:o.jsx(st,{type:"text",value:a,onChange:x,placeholder:"Digite o nome da marca"})}),t&&o.jsx("div",{className:"col-span-2",children:o.jsx("p",{className:"text-sm text-error-500",children:t})})]})}function Aee({field:r,settings:e,error:t}){const n=e!=null&&e.custom_button_text&&(e!=null&&e.button_text)?e.button_text:r.label||"Comprar",s=((e==null?void 0:e.button_style)||"primary")==="primary"?"inline-flex items-center gap-2 px-4 py-3 text-sm font-medium text-white transition rounded-lg bg-brand-500 shadow-theme-xs hover:bg-brand-600":"inline-flex items-center gap-2 rounded-lg bg-white px-4 py-3 text-sm font-medium text-gray-700 shadow-theme-xs ring-1 ring-gray-300 transition hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-white/[0.03]";return o.jsxs("div",{children:[o.jsxs("button",{type:"button",className:s,children:[o.jsx(Fp,{className:"w-5 h-5"}),n]}),t&&o.jsx("p",{className:"mt-1.5 text-xs text-error-500",children:t})]})}function Ji(r){if(console.log("[parseNicheData] Input data:",r),console.log("[parseNicheData] Input data stringified:",JSON.stringify(r)),!Array.isArray(r))return console.log("[parseNicheData] Data is not array, returning empty"),[];const e=r.map((t,n)=>{if(console.log(`[parseNicheData] Processing item ${n}:`,t),console.log(`[parseNicheData] Item ${n} type:`,typeof t),console.log(`[parseNicheData] Item ${n} stringified:`,JSON.stringify(t)),typeof t=="string"){console.log(`[parseNicheData] Item ${n} is string, trying to parse`);try{const a=JSON.parse(t);return console.log(`[parseNicheData] Item ${n} parsed:`,a),Ji([a])[0]}catch{return console.log(`[parseNicheData] Item ${n} parse failed, treating as text`),{text:t,icon:void 0}}}if(t&&typeof t=="object"){if(console.log(`[parseNicheData] Item ${n} is object, extracting text and icon`),console.log(`[parseNicheData] Item ${n} keys:`,Object.keys(t)),console.log(`[parseNicheData] Item ${n} text:`,t.text),console.log(`[parseNicheData] Item ${n} icon:`,t.icon),console.log(`[parseNicheData] Item ${n} niche:`,t.niche),console.log(`[parseNicheData] Item ${n} price:`,t.price),t.niche&&typeof t.niche=="string")if(console.log(`[parseNicheData] Item ${n} has niche property as string`),t.niche.startsWith("{")&&t.niche.includes("text"))try{const l=JSON.parse(t.niche);console.log(`[parseNicheData] Item ${n} parsed niche:`,l);const c={text:l.text||"",icon:l.icon};return console.log(`[parseNicheData] Item ${n} final result from parsed niche:`,c),c}catch{console.log(`[parseNicheData] Item ${n} failed to parse niche JSON, treating as text`);const c={text:t.niche,icon:void 0};return console.log(`[parseNicheData] Item ${n} final result as text:`,c),c}else{const l={text:t.niche,icon:void 0};return console.log(`[parseNicheData] Item ${n} final result from simple niche:`,l),l}if(typeof t.text=="string"&&t.text.startsWith("{")){console.log(`[parseNicheData] Item ${n} text looks like JSON, parsing recursively`);try{const l=JSON.parse(t.text);return console.log(`[parseNicheData] Item ${n} parsed text:`,l),Ji([l])[0]}catch{return console.log(`[parseNicheData] Item ${n} recursive parse failed`),{text:t.text||"",icon:t.icon}}}const a=t.text||t.niche||"",s=t.icon,i={text:a,icon:s};return console.log(`[parseNicheData] Item ${n} final result:`,i),i}return console.log(`[parseNicheData] Item ${n} is not string or object, returning empty`),{text:"",icon:void 0}});return console.log("[parseNicheData] Final result:",e),e}function Pee(r){return Ji(r).filter(t=>t.text&&t.text.trim()!=="")}async function rL(r){const{data:e,error:t}=await K.from("form_field_niche").select("*").eq("form_field_id",r).maybeSingle();return t?(console.error("Erro ao buscar form_field_niche por form_field_id:",t),null):e}async function Lee(r){console.log("[createFormFieldNiche] Creating with input:",r),console.log("[createFormFieldNiche] Options detail:",r.options),Array.isArray(r.options)&&r.options.forEach((n,a)=>{console.log(`[createFormFieldNiche] Option ${a}:`,n),typeof n=="object"&&n.icon&&console.log(`[createFormFieldNiche] Icon found in option ${a}:`,n.icon)});const{data:e,error:t}=await K.from("form_field_niche").insert([r]).select().single();return t?(console.error("Erro ao criar form_field_niche:",t),null):(console.log("[createFormFieldNiche] Created successfully:",e),e)}async function Dee(r,e){try{const{data:t,error:n}=await K.from("form_field_niche").select("id, options").eq("form_field_id",r).limit(1);if(console.log("[updateFormFieldNiche] Encontrado:",t),n)throw console.error("Erro ao buscar form_field_niche:",n),n;if(t&&t.length>0){console.log("[updateFormFieldNiche] Fazendo update para id:",t[0].id,"com",e),console.log("[updateFormFieldNiche] Updates options detail:",e.options),Array.isArray(e.options)&&e.options.forEach((a,s)=>{console.log(`[updateFormFieldNiche] Update option ${s}:`,a),typeof a=="object"&&a.icon&&console.log(`[updateFormFieldNiche] Icon found in update option ${s}:`,a.icon)});try{const{data:a,error:s}=await K.from("form_field_niche").update(e).eq("id",t[0].id).select().single();if(s)throw console.error("Erro ao atualizar form_field_niche:",s),s;return console.log("[updateFormFieldNiche] Update result:",a),a}catch(a){throw console.error("[updateFormFieldNiche] CATCH update:",a),a}}return console.log("[updateFormFieldNiche] Nenhum registro encontrado para update, retornando null"),null}catch(t){throw console.error("Erro inesperado no updateFormFieldNiche:",t),t}}function Tee({value:r,field:e,error:t,onChange:n}){const[a,s]=w.useState([]),[i,l]=w.useState([]);w.useEffect(()=>{async function f(){if(!(e!=null&&e.id))return;console.log("[NicheField] Fetching options for field:",e.id);const p=await rL(e.id);if(p&&p.options){console.log("[NicheField] Raw options from DB:",p.options);const m=Ji(p.options);console.log("[NicheField] Parsed options:",m),s(m)}else console.log("[NicheField] No options found"),s([])}f()},[e==null?void 0:e.id]),w.useEffect(()=>{if(a.length===0)return;console.log("[NicheField] Checking for orphaned selected niches"),console.log("[NicheField] Available options:",a.map(m=>m.text)),console.log("[NicheField] Current selected niches:",i.map(m=>m.niche));const f=a.map(m=>m.text),p=i.filter(m=>f.includes(m.niche));p.length!==i.length&&(console.log("[NicheField] Found orphaned niches, cleaning up"),console.log("[NicheField] Removed niches:",i.filter(m=>!f.includes(m.niche)).map(m=>m.niche)),console.log("[NicheField] New selected niches:",p),l(p),n(p))},[a,i,n]);const c=(f,p)=>{console.log(`[NicheField] handleNicheSelect - niche: ${f}, checked: ${p}`),console.log("[NicheField] handleNicheSelect - current selectedNiches:",i);let m=[...i];p?m.find(g=>g.niche===f)||(m.push({niche:f,price:""}),console.log(`[NicheField] handleNicheSelect - Added niche: ${f}`)):(m=m.filter(g=>g.niche!==f),console.log(`[NicheField] handleNicheSelect - Removed niche: ${f}`)),console.log("[NicheField] handleNicheSelect - new selectedNiches:",m),l(m),n(m),console.log("[NicheField] handleNicheSelect - Called onChange with:",m)},d=(f,p)=>{console.log(`[NicheField] handlePriceChange - niche: ${f}, price: ${p}`),console.log("[NicheField] handlePriceChange - current selectedNiches:",i);const m=i.map(g=>g.niche===f?{...g,price:p}:g);console.log("[NicheField] handlePriceChange - new selectedNiches:",m),l(m),n(m),console.log("[NicheField] handlePriceChange - Called onChange with:",m)};let u=r;if(console.log("[NicheField] Initial value received:",r),console.log("[NicheField] Value type:",typeof r),typeof u=="string")try{u=JSON.parse(u),console.log("[NicheField] Parsed string to:",u)}catch{console.log("[NicheField] Failed to parse string, treating as array"),u=[]}let h=[];return Array.isArray(u)?(console.log("[NicheField] Processing array value:",u),h=u.map(f=>{if(console.log("[NicheField] Processing item:",f),typeof f=="string")return{niche:f,price:""};if(typeof f=="object"&&f!==null){if(f.niche&&typeof f.niche=="string")if(f.niche.startsWith("{")&&f.niche.includes("text"))try{const p=JSON.parse(f.niche);return console.log("[NicheField] Parsed niche JSON:",p),{niche:p.text||f.niche,price:f.price||""}}catch{return console.log("[NicheField] Failed to parse niche JSON"),{niche:f.niche,price:f.price||""}}else return{niche:f.niche,price:f.price||""};return f.text?{niche:f.text,price:f.price||""}:"price"in f?f:{...f,price:""}}return{niche:"",price:""}}).filter(f=>f.niche&&f.niche.trim()!=="")):typeof u=="object"&&u!==null&&(console.log("[NicheField] Processing single object:",u),(u.niche||u.text)&&(h=[{niche:u.text||u.niche||"",price:u.price||""}])),console.log("[NicheField] Final safe initial value:",h),w.useEffect(()=>{console.log("[NicheField] useEffect - safeInitialValue:",h),console.log("[NicheField] useEffect - current selectedNiches:",i),Array.isArray(h)&&h.length>0?(l(h),console.log("[NicheField] useEffect - Set selectedNiches to:",h)):(l([]),console.log("[NicheField] useEffect - Reset selectedNiches to empty array"))},[r]),o.jsxs("div",{children:[o.jsx("div",{className:"flex gap-4",children:o.jsx("div",{className:"flex-1",children:o.jsxs("table",{className:"w-full border-separate border-spacing-y-2",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left text-sm font-semibold text-gray-700 dark:text-gray-400 pb-1",children:"Nichos"}),o.jsx("th",{className:"text-left text-sm font-semibold text-gray-700 dark:text-gray-400 pb-1",children:"Preo"})]})}),o.jsx("tbody",{children:a.length>0?a.map(f=>{var g;const p=i.some(v=>v.niche===f.text),m=((g=i.find(v=>v.niche===f.text))==null?void 0:g.price)||"";return o.jsxs("tr",{children:[o.jsx("td",{className:"align-middle",children:o.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-primary-500 border-gray-300 dark:border-gray-600 focus:ring-primary-500",value:f.text,checked:p,onChange:v=>c(f.text,v.target.checked)}),o.jsx("span",{children:f.text})]})}),o.jsx("td",{className:"align-middle",children:o.jsx("div",{className:"relative",children:o.jsx("input",{type:"text",className:`w-full min-w-[120px] max-w-[180px] border rounded px-3 py-2 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors ${p?"":"opacity-50 cursor-not-allowed"}`,inputMode:"decimal",placeholder:"R$ 0,00",value:m,disabled:!p,onChange:v=>{if(!p)return;let x=v.target.value.replace(/\D/g,"");x||(x="0");const b=(Number(x)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});d(f.text,b)}})})})]},f.text)}):o.jsx("tr",{children:o.jsx("td",{colSpan:2,className:"text-gray-400",children:"Nenhum nicho cadastrado"})})})]})})}),t&&o.jsx("p",{className:"mt-1.5 text-xs text-error-500 dark:text-error-400",children:t})]})}function Ree(){return{mapCsvData:(e,t)=>{const n={url:[],da:[],preco:[]};return Object.entries(t).forEach(([a,s])=>{if(!s)return;const i=e.headers.indexOf(s);if(i===-1)return;const l=e.rows.map(c=>c[i]||"");a in n&&(n[a]=l)}),n}}}class Mee{static async createFormEntry(e,t){try{console.log(" [FormEntryService] Criando form_entry para formId:",e);const{data:n,error:a}=await K.from("form_entries").insert([{form_id:e,ip_address:null,user_agent:navigator.userAgent,created_by:t||null,status:"em_analise"}]).select().single();if(a)throw console.error(" [FormEntryService] Erro ao criar form_entry:",a),new Error("Erro ao criar entrada do formulrio. Tente novamente.");if(!n)throw new Error("Falha ao criar entrada. Tente novamente.");return console.log(" [FormEntryService] Form_entry criado com sucesso:",n.id),n}catch(n){throw console.error(" [FormEntryService] Erro no createFormEntry:",n),n}}}class Iee{static async insertEntryValues(e){try{console.log(" [FormEntryValueService] Inserindo",e.length,"valores"),console.log(" [FormEntryValueService] Primeiros 3 valores:",e.slice(0,3));const{error:t}=await K.from("form_entry_values").insert(e);if(t)throw console.error(" [FormEntryValueService] Erro ao inserir valores:",t),new Error("Erro ao salvar dados do formulrio. Tente novamente.");console.log(" [FormEntryValueService] Valores inseridos com sucesso!")}catch(t){throw console.error(" [FormEntryValueService] Erro no insertEntryValues:",t),t}}}const ra=[];for(let r=0;r<256;++r)ra.push((r+256).toString(16).slice(1));function Oee(r,e=0){return(ra[r[e+0]]+ra[r[e+1]]+ra[r[e+2]]+ra[r[e+3]]+"-"+ra[r[e+4]]+ra[r[e+5]]+"-"+ra[r[e+6]]+ra[r[e+7]]+"-"+ra[r[e+8]]+ra[r[e+9]]+"-"+ra[r[e+10]]+ra[r[e+11]]+ra[r[e+12]]+ra[r[e+13]]+ra[r[e+14]]+ra[r[e+15]]).toLowerCase()}let Ub;const Fee=new Uint8Array(16);function Bee(){if(!Ub){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ub=crypto.getRandomValues.bind(crypto)}return Ub(Fee)}const zee=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),n8={randomUUID:zee};function th(r,e,t){var a;if(n8.randomUUID&&!r)return n8.randomUUID();r=r||{};const n=r.random??((a=r.rng)==null?void 0:a.call(r))??Bee();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Oee(n)}class Hee{static formatUrl(e){if(!e||typeof e!="string")return e;let t=e.trim();return t?(/^https?:\/\//i.test(t)||(t=`https://${t}`),/^https?:\/\/www\./i.test(t)||(t=t.replace(/^(https?:\/\/)/i,"$1www.")),console.log(` [UrlValidationService] URL formatada: ${e}  ${t}`),t):e}static isValidUrl(e){try{return new URL(e),!0}catch{return!1}}static formatUrlList(e){return e.map(t=>this.formatUrl(t))}}class Uee{static async processCSVData(e,t){var h,f,p,m,g,v;console.log(" [CsvDataProcessor] Processando dados CSV com campos completos");const{data:n,error:a}=await K.from("form_fields").select("*").eq("form_id",t).order("position");if(a||!n)throw new Error(`Erro ao buscar campos do formulrio: ${a==null?void 0:a.message}`);console.log(" [CsvDataProcessor] Campos do formulrio encontrados:",n.length);const s=n.find(x=>{var b,y;return x.field_type==="url"||((b=x.label)==null?void 0:b.toLowerCase().includes("url"))||((y=x.label)==null?void 0:y.toLowerCase().includes("site"))}),i=n.find(x=>{var b,y,C;return((b=x.label)==null?void 0:b.toLowerCase().includes("da"))||((y=x.label)==null?void 0:y.toLowerCase().includes("domain authority"))||x.field_type==="number"&&((C=x.label)==null?void 0:C.toLowerCase().includes("da"))}),l=n.find(x=>{var b,y,C;return x.field_type==="product"||((b=x.label)==null?void 0:b.toLowerCase().includes("preo"))||((y=x.label)==null?void 0:y.toLowerCase().includes("preco"))||((C=x.label)==null?void 0:C.toLowerCase().includes("price"))});console.log(" [CsvDataProcessor] Campos mapeados:",{url:s==null?void 0:s.label,da:i==null?void 0:i.label,preco:l==null?void 0:l.label});const c=Math.max(((h=e.url)==null?void 0:h.length)||0,((f=e.da)==null?void 0:f.length)||0,((p=e.preco)==null?void 0:p.length)||0);if(console.log(" [CsvDataProcessor] Quantidade de registros:",c),c===0)throw new Error("Nenhum dado para importar");const d=[],u=[];for(let x=0;x<c;x++){const b=th();u.push(b),console.log(` [CsvDataProcessor] Processando registro ${x+1}/${c} - entryId: ${b}`);for(const y of n){let C=null,S=null;if(y.id===(s==null?void 0:s.id)&&((m=e.url)!=null&&m[x]))C=Hee.formatUrl(e.url[x]),console.log(` [CsvDataProcessor] URL formatada: ${e.url[x]}  ${C}`);else if(y.id===(i==null?void 0:i.id)&&((g=e.da)!=null&&g[x]))C=e.da[x],console.log(` [CsvDataProcessor] DA: ${C}`);else if(y.id===(l==null?void 0:l.id)&&((v=e.preco)!=null&&v[x])){const _=e.preco[x];S={price:_,old_price:_,promotional_price:"0",old_promotional_price:"0"},console.log(` [CsvDataProcessor] Preo: ${_}, Preo promocional: 0`)}else C=null,S=null;d.push({entry_id:b,field_id:y.id,value:C,value_json:S})}}return console.log(" [CsvDataProcessor] Resumo:"),console.log(`   - Registros processados: ${c}`),console.log(`   - Campos por registro: ${n.length}`),console.log(`   - Total FormEntryValue: ${d.length}`),console.log("   - Campos preenchidos apenas com dados do CSV (URL, DA, Preo)"),console.log("   - Demais campos ficam vazios/null para preenchimento posterior"),{entryValues:d,entryIds:u}}}class Vee{static async importCsvData(e){var t,n,a;try{if(console.log(" [CsvImportOrchestrator] Iniciando importao CSV"),console.log(" [CsvImportOrchestrator] csvData:",e.csvData),console.log(" [CsvImportOrchestrator] formFields:",e.formFields),Math.max(((t=e.csvData.url)==null?void 0:t.length)||0,((n=e.csvData.da)==null?void 0:n.length)||0,((a=e.csvData.preco)==null?void 0:a.length)||0)===0)return{success:!1,error:"Nenhum dado para importar"};const{entryValues:i,entryIds:l}=await Uee.processCSVData(e.csvData,e.formId);console.log(" [CsvImportOrchestrator] Criando form_entries...");const c=[];for(const d of l)try{const u=await Mee.createFormEntry(e.formId,e.userId);c.push(u.id),i.forEach(h=>{h.entry_id===d&&(h.entry_id=u.id)})}catch(u){throw console.error(` [CsvImportOrchestrator] Erro ao criar entry ${d}:`,u),u}return console.log(" [CsvImportOrchestrator] Inserindo form_entry_values..."),await Iee.insertEntryValues(i),console.log(" [CsvImportOrchestrator] Importao concluda com sucesso!"),{success:!0,entries:c}}catch(s){return console.error(" [CsvImportOrchestrator] Erro na importao:",s),{success:!1,error:s.message}}}}function $ee(){const[r,e]=w.useState(!1),[t,n]=w.useState(null);return{importCsvData:async s=>{e(!0),n(null);try{console.log(" [useCsvImport] Iniciando importao com request:",s);const i=await Vee.importCsvData(s);return i.success?(console.log(" [useCsvImport] Importao bem-sucedida!"),i.entries||[]):(n(i.error||"Erro desconhecido"),null)}catch(i){return console.error(" [useCsvImport] Erro no hook:",i),n(i.message),null}finally{e(!1)}},loading:r,error:t,clearError:()=>n(null)}}function ki(r,e="success"){if(typeof window<"u"&&window.document){const t=document.getElementById("global-toast");t&&t.remove();const n=document.createElement("div");n.id="global-toast",n.innerHTML=`
      <div class="flex items-center justify-between gap-3 w-full sm:max-w-[340px] rounded-md border-b-4 p-3 shadow-theme-sm bg-white dark:bg-gray-900 ${e==="success"?"border-success-500":"border-error-500"}">
        <div class="flex items-center gap-4">
          <div class="flex items-center justify-center w-10 h-10 rounded-lg ${e==="success"?"bg-success-50 text-success-500 dark:bg-success-500/20 dark:text-success-400":"bg-error-50 text-error-500 dark:bg-error-500/20 dark:text-error-400"}">
            ${e==="success"?`
              <svg class="size-5" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 22 22" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M2.70186 11.0001C2.70186 6.41711 6.41711 2.70186 11.0001 2.70186C15.5831 2.70186 19.2984 6.41711 19.2984 11.0001C19.2984 15.5831 15.5831 19.2984 11.0001 19.2984C6.41711 19.2984 2.70186 15.5831 2.70186 11.0001ZM11.0001 0.901855C5.423 0.901855 0.901855 5.423 0.901855 11.0001C0.901855 16.5772 5.423 21.0984 11.0001 21.0984C16.5772 21.0984 21.0984 16.5772 21.0984 11.0001C21.0984 5.423 16.5772 0.901855 11.0001 0.901855ZM14.6197 9.73951C14.9712 9.38804 14.9712 8.81819 14.6197 8.46672C14.2683 8.11525 13.6984 8.11525 13.347 8.46672L10.1894 11.6243L8.6533 10.0883C8.30183 9.7368 7.73198 9.7368 7.38051 10.0883C7.02904 10.4397 7.02904 11.0096 7.38051 11.3611L9.55295 13.5335C9.72174 13.7023 9.95065 13.7971 10.1894 13.7971C10.428 13.7971 10.657 13.7023 10.8257 13.5335L14.6197 9.73951Z" fill="currentColor"></path>
              </svg>
            `:`
              <svg class="size-5" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 22 22" fill="none">
                <circle cx="11" cy="11" r="10" fill="currentColor" fill-opacity="0.2" stroke="currentColor" stroke-width="1.5"/>
                <path d="M7.75 7.75L14.25 14.25M14.25 7.75L7.75 14.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
            `}
          </div>
          <div>
            <h4 class="text-sm text-gray-800 sm:text-base dark:text-white/90">${e==="success"?"Sucesso!":"Erro!"}</h4>
            <div class="text-xs text-gray-700 dark:text-gray-300 mt-1">${r}</div>
          </div>
        </div>
        <button class="text-gray-400 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white/90" id="global-toast-close-btn">
          <svg class="size-6" width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M6.04289 16.5418C5.65237 16.9323 5.65237 17.5655 6.04289 17.956C6.43342 18.3465 7.06658 18.3465 7.45711 17.956L11.9987 13.4144L16.5408 17.9565C16.9313 18.347 17.5645 18.347 17.955 17.9565C18.3455 17.566 18.3455 16.9328 17.955 16.5423L13.4129 12.0002L17.955 7.45808C18.3455 7.06756 18.3455 6.43439 17.955 6.04387C17.5645 5.65335 16.9313 5.65335 16.5408 6.04387L11.9987 10.586L7.45711 6.04439C7.06658 5.65386 6.43342 5.65386 6.04289 6.04439C5.65237 6.43491 5.65237 7.06808 6.04289 7.4586L10.5845 12.0002L6.04289 16.5418Z" fill="currentColor"></path>
          </svg>
        </button>
      </div>
    `,n.style.position="fixed",n.style.bottom="32px",n.style.left="32px",n.style.zIndex="99999",n.style.maxWidth="340px",n.style.width="100%",n.style.opacity="1",n.style.transition="opacity 0.3s",n.style.pointerEvents="auto",n.style.backgroundColor="transparent",document.body.appendChild(n);const a=n.querySelector("div");a&&(a.style.boxShadow="0 8px 32px 0 rgba(31, 38, 135, 0.18), 0 1.5px 6px 0 rgba(60,60,60,0.10)",a.style.borderRadius="12px");const s=n.querySelector("#global-toast-close-btn");s&&s.addEventListener("click",()=>{n.style.opacity="0",setTimeout(()=>n.remove(),400)}),setTimeout(()=>{n.style.opacity="0",setTimeout(()=>n.remove(),400)},2500)}}const Wee=[{key:"url",label:"URL do Site"},{key:"da",label:"DA"},{key:"preco",label:"Preo"}],qee=({csvData:r,mapping:e,onMappingChange:t,formFields:n=[],formId:a,userId:s,onSuccess:i,onSubmit:l})=>{const{mapCsvData:c}=Ree(),{importCsvData:d,loading:u,error:h}=$ee(),f=(g,v)=>{t({...e,[g]:v})},p=async()=>{try{const g=c(r,e);if(console.log(" Dados mapeados do CSV:",g),console.log(" FormFields recebidos:",n),n.length>0&&a){console.log(" Iniciando importao para o banco...");const x=await d({csvData:g,formFields:n,formId:a,userId:s});if(x){console.log(" Sites importados com sucesso! Entry IDs:",x),ki("CSV importado com sucesso!","success"),i&&i();return}else{console.log(" Falha na importao para o banco"),ki("Erro ao importar CSV. Tente novamente.","error");return}}else console.log(" Nenhum formField ou formId fornecido, usando callback fallback"),ki("CSV importado com sucesso!","success"),i&&i();l&&l(g)}catch(g){console.error(" Erro inesperado no CSV Import:",g),ki("Erro inesperado ao processar CSV. Tente novamente.","error")}},m=[{value:"",label:"Selecione a coluna..."},...r.headers.map(g=>({value:g,label:g}))];return o.jsxs("div",{className:"space-y-3",children:[Wee.map(g=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:g.label}),o.jsx(Jt,{options:m,value:e[g.key]||"",onChange:v=>f(g.key,v),placeholder:"Selecione a coluna..."})]},g.key)),h&&o.jsx("div",{className:"text-red-600 text-sm mt-2",children:h}),o.jsx("button",{type:"button",onClick:p,disabled:u,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:u?"Importando...":"Salvar"})]})},nL=({open:r,onClose:e,onCsvUpload:t,csvData:n,mapping:a,onMappingChange:s,formFields:i,formId:l,userId:c,onSuccess:d})=>{if(!r)return null;const u=h=>{var p;const f=(p=h.target.files)==null?void 0:p[0];f&&t(f)};return o.jsx("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center bg-gray-400/50 backdrop-blur-[--background-blur] dark:text-white",onMouseDown:e,children:o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg p-6 w-full max-w-lg",onMouseDown:h=>h.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Importar e Mapear CSV"}),o.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:""})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block mb-2 font-medium text-gray-700 dark:text-gray-300",children:"Upload do arquivo CSV"}),o.jsx(IP,{onChange:u})]}),o.jsx(qee,{csvData:n,mapping:a,onMappingChange:s,formFields:i,formId:l,userId:c,onSuccess:d,onSubmit:h=>{console.log("Dados mapeados do CSV:",h),d==null||d()}})]})})};function aL(){const[r,e]=w.useState({headers:[],rows:[]}),[t,n]=w.useState(null);return{csvData:r,error:t,parseCsvColumns:s=>{n(null);const i=new FileReader;i.onload=l=>{var p;const d=((p=l.target)==null?void 0:p.result).split(/\r?\n/).filter(m=>m.trim());if(d.length===0){n("Arquivo CSV vazio.");return}const u=m=>{const g=[];let v="",x=!1,b=0;for(;b<m.length;){const y=m[b];y==='"'&&(b===0||m[b-1]===","||m[b-1]===";")?x=!0:y==='"'&&x&&(b===m.length-1||m[b+1]===","||m[b+1]===";")?x=!1:(y===","||y===";")&&!x?(g.push(v.trim()),v=""):v+=y,b++}return g.push(v.trim()),g.filter(Boolean)},h=u(d[0]);if(h.length===0){n("No foi possvel detectar colunas no CSV.");return}const f=d.slice(1).map(m=>u(m));console.log(" [useCsvColumns] Headers:",h),console.log(" [useCsvColumns] First row parsed:",f[0]),e({headers:h,rows:f})},i.onerror=()=>{n("Erro ao ler o arquivo CSV.")},i.readAsText(s)}}}const a8={url:"",da:"",preco:""};function Yee({onChange:r,error:e,formFields:t,formId:n,userId:a,onSuccess:s}){const[i,l]=w.useState(!1),[c,d]=w.useState(a8),{csvData:u,error:h,parseCsvColumns:f}=aL(),p=g=>{f(g),r(g),d(a8)},m=g=>{d(g)};return o.jsxs("div",{children:[o.jsx("button",{type:"button",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>l(!0),children:"Importar CSV"}),o.jsx(nL,{open:i,onClose:()=>l(!1),onCsvUpload:p,csvData:u,mapping:c,onMappingChange:m,formFields:t,formId:n,userId:a,onSuccess:()=>{l(!1),console.log("CSV importado com sucesso!"),s&&s()}}),h&&o.jsx("div",{className:"text-red-500 text-sm mt-2",children:h}),e&&o.jsx("div",{className:"text-red-500 text-sm mt-2",children:e})]})}const v1=Object.freeze(Object.defineProperty({__proto__:null,ApiField:mee,BrandField:Eee,BrazilianStatesField:wee,ButtonBuyField:Aee,CheckboxField:lee,CommissionField:Nee,CountryField:yee,DateField:vee,EmailField:cee,FileField:fee,HtmlField:xee,ImportCsvField:Yee,MultiSelectField:iee,NicheField:Tee,PhoneField:Cee,ProductField:jee,RadioField:oee,SectionField:hee,SelectField:see,TextAreaField:aee,TextField:nee,TimeField:bee,ToggleField:uee,UrlField:dee},Symbol.toStringTag,{value:"Module"})),Gee=v1;function sL({formId:r}){const e=mr(),[t,n]=w.useState(!0),[a,s]=w.useState(""),[i,l]=w.useState(!1),[c,d]=w.useState(null),[u,h]=w.useState([]),[f,p]=w.useState({}),[m,g]=w.useState(!1),[v,x]=w.useState({}),[b,y]=w.useState({}),[C,S]=w.useState(null),[_,E]=w.useState(!1);w.useEffect(()=>{F(),A(),T()},[r]);async function A(){try{const{data:{user:B}}=await K.auth.getUser();B&&(S(B),console.log(C))}catch(B){console.error("Error getting current user:",B)}}async function T(){try{const{data:{user:B}}=await K.auth.getUser();if(!B)return;const{data:z}=await K.from("admins").select("id").eq("id",B.id).maybeSingle();E(!!z)}catch(B){console.error("Error checking user role:",B)}}async function F(){try{n(!0),s("");const{data:B,error:z}=await K.from("forms").select("*").eq("id",r).single();if(z)throw z;if(!B){g(!0);return}d(B);const{data:V,error:W}=await K.from("form_fields").select(`
          *,
          form_field_settings (*)
        `).eq("form_id",r).order("position",{ascending:!0});if(W)throw W;const Y={};V.forEach(G=>{G.form_field_settings&&(Y[G.id]=G.form_field_settings)}),y(Y),h(V||[])}catch(B){console.error("Error loading form:",B),s("Error loading form")}finally{n(!1)}}const L=(B,z)=>{var W,Y,G,q;const V=b[B.id];if(B.is_required&&(z==null||z===""))return"This field is required";if(!z)return null;switch(B.field_type){case"email":if(!z.includes("@"))return"Please enter a valid email address with @";break;case"url":try{new URL(z);const Q=(W=B.validation_rules)==null?void 0:W.type,se=(Y=B.validation_rules)==null?void 0:Y.pattern;if(Q==="url"&&se&&!new RegExp(se).test(z))return"URL must start with http:// or https://"}catch{return"Please enter a valid URL"}break;case"multiselect":case"checkbox":if(V!=null&&V.max_selections&&Array.isArray(z)&&z.length>V.max_selections)return`You can select up to ${V.max_selections} options`;break;case"file":if(!Array.isArray(z))return null;const M=(V==null?void 0:V.max_files)||1,U=((V==null?void 0:V.max_file_size)||5)*1024*1024,$=((G=V==null?void 0:V.allowed_extensions)==null?void 0:G.split(",").map(Q=>Q.trim().toLowerCase()))||[];if(z.length>M)return`You can upload up to ${M} file${M>1?"s":""}`;for(const Q of z){if(Q.size>U)return`File size must be less than ${V==null?void 0:V.max_file_size}MB`;if($.length>0){const se=(q=Q.name.split(".").pop())==null?void 0:q.toLowerCase();if(se&&!$.includes(se))return`Only ${$.join(", ")} files are allowed`}}break;case"commission":const X=parseFloat(z);if(isNaN(X)||X<0||X>1e3)return"Commission must be between 0 and 1000";break}return null},D=async B=>{B.preventDefault();try{x({});const z={};if(u.forEach(M=>{const U=L(M,f[M.id]);U&&(z[M.id]=U)}),Object.keys(z).length>0){x(z);return}n(!0),s(""),l(!1);const{data:{user:V}}=await K.auth.getUser(),{data:W,error:Y}=await K.from("form_entries").insert([{form_id:r,ip_address:null,user_agent:navigator.userAgent,created_by:(V==null?void 0:V.id)||null,status:"em_analise"}]).select().single();if(Y)throw console.error("Entry creation error:",Y),new Error("Error creating form entry. Please try again.");if(!W)throw new Error("Failed to create entry. Please try again.");const G=[];console.log(" [FormRenderer] Preparando para salvar formData:",f);for(const[M,U]of Object.entries(f)){const $=u.find(X=>X.id===M);if($)if(console.log(` [FormRenderer] Processando campo ${$.label} (${$.field_type}):`,U),$.field_type==="product"){let X=U;if(typeof U=="string")try{X=JSON.parse(U),console.log(` [FormRenderer] Campo produto (${$.label}) - JSON parseado:`,X)}catch{console.log(` [FormRenderer] Campo produto (${$.label}) - Erro no parse, mantendo string:`,U)}typeof X=="object"&&X!==null?(console.log(` [FormRenderer] Campo produto (${$.label}) - Salvando como value_json:`,X),G.push({entry_id:W.id,field_id:M,value:null,value_json:X})):(console.log(` [FormRenderer] Campo produto (${$.label}) - Salvando como value:`,X),G.push({entry_id:W.id,field_id:M,value:String(X),value_json:null}))}else if($.field_type==="niche")console.log(` [FormRenderer] Campo nicho (${$.label}) - Valor recebido:`,U,`Tipo: ${typeof U}`),Array.isArray(U)||typeof U=="object"&&U!==null?(console.log(` [FormRenderer] Campo nicho (${$.label}) - Salvando como value_json:`,U),G.push({entry_id:W.id,field_id:M,value:null,value_json:U})):(console.log(` [FormRenderer] Campo nicho (${$.label}) - Salvando como value:`,U),G.push({entry_id:W.id,field_id:M,value:String(U),value_json:null}));else{const X=typeof U!="string";console.log(` [FormRenderer] Campo ${$.label} - isJsonValue: ${X}, value:`,U),G.push({entry_id:W.id,field_id:M,value:X?null:U,value_json:X?U:null})}}const{error:q}=await K.from("form_entry_values").insert(G);if(q)throw console.error("Values insertion error:",q),new Error("Error saving form data. Please try again.");l(!0),c.redirect_page?e(`/pages/${c.redirect_page}`):p({})}catch(z){console.error("Error submitting form:",z),s(z.message||"Error submitting form")}finally{n(!1)}},O=B=>{const z=b[B.id];if((z==null?void 0:z.visibility)==="marketplace"||(z==null?void 0:z.visibility)==="hidden"||(z==null?void 0:z.visibility)==="admin"&&!_)return null;const V=`${B.width==="half"?"md:col-span-6":B.width==="third"?"md:col-span-4":B.width==="quarter"?"md:col-span-3":"col-span-12"}`,W=I(B.field_type),Y=W==="niche",G=W==="importCsv";let q={field:B,settings:Y?z||{value:{niche:"",price:""},options:[],multiple:!1}:z,value:f[B.id],onChange:$=>{p({...f,[B.id]:$}),v[B.id]&&x(X=>{const Q={...X};return delete Q[B.id],Q})},error:v[B.id],onErrorClear:()=>{v[B.id]&&x($=>{const X={...$};return delete X[B.id],X})}};if(G){const $=u.map(X=>{var Q;return{id:X.id,key:X.field_key||((Q=X.label)==null?void 0:Q.toLowerCase().replace(/\s+/g,"_")),field_key:X.field_key,type:X.field_type,field_type:X.field_type,label:X.label}});console.log(" [FormRenderer] Campo import_csv detectado! FormFields gerados:",$),q={...q,formFields:$,formId:r,userId:C==null?void 0:C.id}}const M=()=>B.field_type==="section"||B.field_type==="html"||(z==null?void 0:z.label_visibility)==="hidden"?null:o.jsxs(o.Fragment,{children:[o.jsxs("label",{className:"mb-2 block text-sm font-semibold text-gray-700 dark:text-gray-400",children:[B.label,B.is_required&&o.jsx("span",{className:"text-error-500 ml-1",children:"*"})]}),B.description&&B.field_type!=="toggle"&&o.jsx("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:B.description})]}),U=Gee[`${W.charAt(0).toUpperCase()+W.slice(1)}Field`];return U?o.jsxs("div",{className:V,children:[M(),o.jsx(U,{...q})]},B.id):(console.error(`No component found for field type: ${B.field_type} (mapped to ${W})`),null)},I=B=>["moz_da","semrush_as","ahrefs_dr","ahrefs_traffic","similarweb_traffic","google_traffic"].includes(B)?"api":B==="commission"?"commission":B==="brazilian_states"?"brazilianStates":B==="brand"?"brand":B==="button_buy"?"buttonBuy":B==="multiselect"?"multiSelect":B==="niche"?"niche":B==="import_csv"?"importCsv":B;return t?o.jsx(ree,{}):m?o.jsx("div",{className:"p-4 text-center",children:o.jsx("div",{className:"inline-block p-4 bg-gray-100 dark:bg-gray-800 rounded-lg",children:o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Este formulrio foi excludo"})})}):a?o.jsx("div",{className:"p-4 text-center text-error-500",children:a}):c?o.jsx("div",{className:"w-full",children:i?o.jsxs("div",{className:"p-6 text-center bg-success-50 dark:bg-success-500/15 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-medium text-success-600 dark:text-success-500 mb-2",children:c.success_message||"Form submitted successfully!"}),!c.redirect_page&&o.jsx("button",{onClick:()=>{l(!1),F()},className:"mt-4 px-4 py-2 text-sm font-medium text-white bg-success-600 rounded-lg hover:bg-success-700 focus:outline-none focus:ring-2 focus:ring-success-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900",children:"Submit Another Response"})]}):o.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a&&o.jsx("div",{className:"p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:a}),o.jsx("div",{className:"grid grid-cols-12 gap-6",children:u.map(B=>O(B))}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"submit",disabled:t,className:"px-4 py-2 text-sm font-medium text-white bg-brand-500 rounded-lg hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Submitting...":c.submit_button_text||"Enviar"})})]})}):o.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"Form not found"})}function Xee(r){if(!r||r===""||r===null||r===void 0||r.toString().trim()==="")return!1;const e=parseFloat(r.toString().replace(/\./g,"").replace(",","."));return!(!isNaN(e)&&e===0)}function Zee(r){let e;return r.price===r.price&&r.promotional_price!==void 0?(console.log("Product Data:",r.promotional_price),Xee(r.promotional_price)?e=r.promotional_price:e=r.price):e=r.price,e}function Jee(r){const e=parseFloat(r.toString());return isNaN(e)?r.toString():new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function Kee(r){var e;try{const t=Zee(r);return Jee(t)}catch(t){return console.error("Error formatting price:",t),((e=r.price)==null?void 0:e.toString())||"-"}}function Qee(r){try{const e=typeof r=="string"?JSON.parse(r):r;return Kee(e)}catch(e){return console.error("Error processing product value:",e),(r==null?void 0:r.toString())||"-"}}function iL({entries:r,fields:e,urlFields:t=[],onEdit:n,onDelete:a,show:s=!0}){if(!s)return null;const[i,l]=w.useState("created_at"),[c,d]=w.useState("desc"),[u,h]=w.useState(10),[f,p]=w.useState(1),m=D=>{i===D?d(O=>O==="asc"?"desc":"asc"):(l(D),d("asc"))},g=(D,O,I)=>{var V,W,Y,G;let B,z;return I==="created_at"?(B=D.created_at,z=O.created_at):I==="publisher"?(B=((V=D.publisher)==null?void 0:V.first_name)+" "+((W=D.publisher)==null?void 0:W.last_name),z=((Y=O.publisher)==null?void 0:Y.first_name)+" "+((G=O.publisher)==null?void 0:G.last_name)):I==="status"?(B=D.status,z=O.status):(B=D.values[I],z=O.values[I]),B==null&&(B=""),z==null&&(z=""),typeof B=="string"&&typeof z=="string"?B.localeCompare(z,"pt",{sensitivity:"base"}):typeof B=="number"&&typeof z=="number"?B-z:String(B).localeCompare(String(z),"pt",{sensitivity:"base"})},v=[...r].sort((D,O)=>{const I=g(D,O,i);return c==="asc"?I:-I}),x=Math.ceil(v.length/u)||1,b=v.slice((f-1)*u,f*u);f>x&&p(x);const y=D=>new Date(D).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),C=(D,O,I)=>{if(!D)return"-";if(O==="url"||t.includes(I))return S(D);if(O==="brand")return _(D);if(O==="country"&&typeof D=="object")return T(D,I);switch(O){case"file":return Array.isArray(D)?`${D.length} arquivo(s)`:"1 arquivo";case"checkbox":case"multiselect":return Array.isArray(D)?D.join(", "):D;case"toggle":return D?"Sim":"No";case"product":return Qee(D);case"commission":const B=parseFloat(D);return isNaN(B)?D:`${B}%`;case"brazilian_states":if(typeof D=="object"){const{state_name:z,city_names:V,state:W,cities:Y}=D;return Array.isArray(V)&&V.length>0?o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-theme-sm",children:[z," - ",V.join(", ")]}):Array.isArray(Y)&&Y.length>0?o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-theme-sm",children:[z," - ",Y.join(", ")]}):o.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-theme-sm",children:z||W||"-"})}return D.toString();default:return D.toString()}},S=D=>{if(!D)return"-";let O=D;return O=O.replace(/^https?:\/\//,""),O=O.replace(/\/$/,""),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("img",{src:pd(D),alt:"Site icon",width:"20",height:"20",className:"flex-shrink-0",onError:I=>{I.target.style.display="none"}}),o.jsx("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-gray-800 text-theme-sm dark:text-white/90 hover:underline whitespace-nowrap",children:O})]})},_=D=>{try{const O=typeof D=="string"?JSON.parse(D):D;if(!O||!O.name)return"-";if(!O.logo)return O.name;const I=E(O.logo);return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("img",{src:I,alt:`${O.name} logo`,className:"w-8 h-8 object-contain",onError:B=>{B.target.style.display="none"}}),o.jsx("span",{className:"text-gray-800 dark:text-white/90 font-medium",children:O.name})]})}catch(O){return console.error("Error rendering brand:",O),(D==null?void 0:D.toString())||"-"}},E=D=>{if(!D)return"";try{const{data:O}=K.storage.from("brand_logos").getPublicUrl(D);return(O==null?void 0:O.publicUrl)||""}catch(O){return console.error("Error getting brand logo URL:",O),""}},A=D=>{const O=e.find(I=>I.id===D);return O?O.form_field_settings:null},T=(D,O)=>{if(!D||Object.keys(D).length===0)return"-";const I=A(O),B=(I==null?void 0:I.show_percentage)===!0;return o.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(D).map(([z,V])=>o.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 dark:bg-gray-800 rounded px-2 py-1",children:[o.jsx("img",{src:yh(z),alt:z,width:"20",height:"20",className:`rounded-full ${z==="ROW"?"dark:invert":""}`,onError:W=>{W.target.style.display="none"}}),B?o.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-xs font-medium",children:z}):V?o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:["(",V,"%)"]}):null]},z))})},F=e.filter(D=>{const O=D.form_field_settings;return!O||O.visibility!=="admin"}),L=({show:D})=>D?o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"w-2 h-1.5 fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"w-2 h-1.5 fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]}):null;return o.jsxs("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:[o.jsxs("div",{className:"flex items-center gap-3 px-4 py-4 border-b border-gray-100 dark:border-white/[0.05] rounded-t-xl",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Mostrar"}),o.jsxs("div",{className:"relative z-20 bg-transparent",children:[o.jsxs("select",{className:"w-full py-2 pl-3 pr-8 text-sm text-gray-800 bg-transparent border border-gray-300 rounded-lg appearance-none dark:bg-dark-900 h-9 bg-none shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",value:u,onChange:D=>{h(Number(D.target.value)),p(1)},children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:25,children:"25"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]}),o.jsx("span",{className:"absolute z-30 text-gray-500 -translate-y-1/2 right-2 top-1/2 dark:text-gray-400",children:o.jsx("svg",{className:"stroke-current",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M3.8335 5.9165L8.00016 10.0832L12.1668 5.9165",stroke:"",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"registros"})]}),o.jsx("div",{className:"max-w-full overflow-x-auto",children:o.jsx("div",{className:"min-w-[1102px]",children:o.jsxs(no,{children:[o.jsx(ao,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:o.jsxs(Tr,{children:[o.jsx("th",{className:"h-12 relative px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-white/10 transition",onClick:()=>m("created_at"),children:o.jsxs("span",{className:"flex items-center",children:["Data",o.jsx(L,{show:i==="created_at"})]})})}),F.map(D=>o.jsx("th",{className:"h-12 relative px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-white/10 transition",onClick:()=>m(D.id),children:o.jsxs("span",{className:"flex items-center",children:[D.label,o.jsx(L,{show:i===D.id})]})})},D.id)),o.jsx("th",{className:"h-12 relative px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-white/10 transition",onClick:()=>m("publisher"),children:o.jsxs("span",{className:"flex items-center",children:["Publisher",o.jsx(L,{show:i==="publisher"})]})})}),o.jsx("th",{className:"h-12 relative px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-white/10 transition",onClick:()=>m("status"),children:o.jsxs("span",{className:"flex items-center",children:["Status",o.jsx(L,{show:i==="status"})]})})}),o.jsx("th",{className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Aes"})]})}),o.jsxs(so,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:[b.map(D=>o.jsxs(Tr,{className:"hover:bg-gray-50 dark:hover:bg-white/10 transition",children:[o.jsx("td",{className:"px-5 py-4 sm:px-6 text-start whitespace-nowrap",children:o.jsx("span",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:y(D.created_at)})}),F.map(O=>o.jsx("td",{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400 whitespace-nowrap",children:C(D.values[O.id],O.field_type,O.id)},O.id)),o.jsx("td",{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400 whitespace-nowrap",children:D.publisher?o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium",children:[D.publisher.first_name," "," ",D.publisher.last_name]}),o.jsx("div",{className:"text-xs",children:D.publisher.email})]}):"-"}),o.jsx("td",{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400 whitespace-nowrap",children:o.jsx(At,{color:D.status==="verificado"?"success":D.status==="reprovado"?"error":"warning",children:D.status==="verificado"?"Verificado":D.status==="reprovado"?"Reprovado":"Em Anlise"})}),o.jsx("td",{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400 whitespace-nowrap",children:o.jsxs("div",{className:"flex gap-2",children:[n&&o.jsx("button",{onClick:()=>n(D),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Editar",children:o.jsx(Pi,{className:"w-5 h-5"})}),a&&o.jsx("button",{onClick:()=>{confirm("Tem certeza que deseja excluir este registro?")&&a(D.id)},className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",title:"Excluir",children:o.jsx(rs,{className:"w-5 h-5"})})]})})]},D.id)),b.length===0&&o.jsx(Tr,{children:o.jsx("td",{colSpan:F.length+4,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"Nenhum registro encontrado"})})]})]})})}),x>1&&o.jsxs("div",{className:"flex justify-end items-center gap-2 px-4 py-2",children:[o.jsx("button",{className:"px-2 py-1 text-sm text-gray-500 disabled:opacity-50",onClick:()=>p(D=>Math.max(1,D-1)),disabled:f===1,children:"Anterior"}),o.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Pgina ",f," de ",x]}),o.jsx("button",{className:"px-2 py-1 text-sm text-gray-500 disabled:opacity-50",onClick:()=>p(D=>Math.min(x,D+1)),disabled:f===x,children:"Prxima"})]})]})}function oL(){return o.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"border-b border-gray-100 dark:border-white/[0.05] p-4",children:o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 dark:bg-gray-800"})}),o.jsx("div",{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:[1,2,3].map(r=>o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"space-y-2 flex-1",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 dark:bg-gray-800"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 dark:bg-gray-800"})]}),o.jsx("div",{className:"h-8 bg-gray-200 rounded w-20 dark:bg-gray-800"})]})},r))})]})})}class s8{static async analyzeEntry(e,t){try{console.log(" [EntryCompatibilityAnalyzer] Analisando compatibilidade do entry:",e);const{data:n,error:a}=await K.from("form_entries").select(`
          id,
          form_id,
          status,
          created_by,
          created_at,
          form_entry_values!inner(
            field_id,
            value,
            value_json
          )
        `).eq("id",e).single();if(a||!n)throw new Error(`Entry ${e} no encontrado`);const{data:s,error:i}=await K.from("form_fields").select("*").eq("form_id",t).order("position");if(i||!s)throw new Error("Erro ao buscar campos do formulrio");const l=n.form_entry_values||[],c=l.map(g=>g.field_id),u=s.map(g=>g.id).filter(g=>!c.includes(g)),h=[],f=[];l.forEach(g=>{const v=s.find(x=>x.id===g.field_id);if(v){if(v.is_required&&(g.value===null||g.value===void 0||g.value==="")&&(g.value_json===null||g.value_json===void 0)&&(h.push(`Campo obrigatrio ${v.label} est vazio`),f.push(`Preencher valor para o campo obrigatrio ${v.label}`)),v.field_type==="product"&&g.value_json){const x=g.value_json;(!x.price||!x.old_price)&&(h.push(`Campo ${v.label} tem estrutura JSON incompleta`),f.push(`Completar estrutura JSON do campo ${v.label}`))}v.field_type==="url"&&g.value&&(g.value.startsWith("http")||(h.push(`URL ${v.label} sem protocolo HTTP`),f.push(`Adicionar https:// ao campo ${v.label}`))),v.field_type==="email"&&g.value&&!g.value.includes("@")&&(h.push(`Email ${v.label} tem formato invlido`),f.push(`Corrigir formato do email ${v.label}`))}});const p=u.filter(g=>{const v=s.find(x=>x.id===g);return v&&v.is_required});p.length>0&&p.forEach(g=>{const v=s.find(x=>x.id===g);v&&(h.push(`Campo obrigatrio ${v.label} est faltando`),f.push(`Adicionar campo obrigatrio ${v.label}`))}),u.length>0&&f.push(`Adicionar ${u.length} campos faltantes`);const m=u.length===0&&h.length===0;return console.log(` [EntryCompatibilityAnalyzer] Entry ${e} - Compatvel: ${m}`),{isComplete:m,missingFields:u.map(g=>{const v=s.find(x=>x.id===g);return(v==null?void 0:v.label)||g}),incompatibleValues:h,recommendations:f}}catch(n){throw console.error(" [EntryCompatibilityAnalyzer] Erro na anlise:",n),n}}static async analyzeBatch(e,t){const n=[];for(const a of e)try{const s=await this.analyzeEntry(a,t);n.push(s)}catch(s){console.error(`Erro ao analisar entry ${a}:`,s),n.push({isComplete:!1,missingFields:[],incompatibleValues:[`Erro ao analisar entry ${a}`],recommendations:[`Verificar manualmente o entry ${a}`]})}return n}}class i8{static async fixEntry(e,t){try{console.log(" [EntryCompatibilityFixer] Iniciando correo do entry:",e);const{data:n,error:a}=await K.from("form_fields").select("*").eq("form_id",t).order("position");if(a||!n)throw new Error("Erro ao buscar campos do formulrio");const{data:s,error:i}=await K.from("form_entry_values").select("*").eq("entry_id",e);if(i)throw new Error("Erro ao buscar valores existentes");const l=(s||[]).map(h=>h.field_id),d=n.filter(h=>!l.includes(h.id)).map(h=>({entry_id:e,field_id:h.id,value:this.getDefaultValueForField(h),value_json:this.getDefaultJsonValueForField(h)})).filter(h=>h.value!==null||h.value_json!==null);if(d.length>0){const{error:h}=await K.from("form_entry_values").insert(d);if(h)throw console.error(" [EntryCompatibilityFixer] Erro ao inserir valores padro:",h),h;console.log(` [EntryCompatibilityFixer] Adicionados ${d.length} campos faltantes`)}const u=[];for(const h of s||[]){const f=n.find(m=>m.id===h.field_id);if(!f)continue;const p=this.correctValueForField(h,f);p&&(p.value!==h.value||JSON.stringify(p.value_json)!==JSON.stringify(h.value_json))&&u.push({id:h.id,...p})}for(const h of u){const{error:f}=await K.from("form_entry_values").update({value:h.value,value_json:h.value_json}).eq("id",h.id);f&&console.error(" [EntryCompatibilityFixer] Erro ao atualizar valor:",f)}return console.log(` [EntryCompatibilityFixer] Entry ${e} corrigido com sucesso`),!0}catch(n){return console.error(" [EntryCompatibilityFixer] Erro na correo:",n),!1}}static getDefaultValueForField(e){var n;const t=e.is_required;switch(e.field_type){case"text":case"textarea":return t?"No informado":"";case"email":return t?"email@example.com":"";case"url":return"https://www.example.com";case"number":case"commission":return"0";case"select":const a=(n=e.form_field_settings)==null?void 0:n.options;return a&&a.length>0?a[0].value||"":t?"default":"";case"da":return t?"0":"";default:return t?"No informado":null}}static getDefaultJsonValueForField(e){switch(e.field_type){case"product":return{price:"0",old_price:"0",promotional_price:"0",old_promotional_price:"0"};case"multiselect":case"checkbox":return[];default:return null}}static correctValueForField(e,t){switch(t.field_type){case"url":if(e.value&&!e.value.startsWith("http"))return{value:`https://${e.value}`,value_json:e.value_json};break;case"product":if(e.value_json){const n=e.value_json,a={price:n.price||"0",old_price:n.old_price||n.price||"0",promotional_price:n.promotional_price||n.price||"0",old_promotional_price:n.old_promotional_price||n.price||"0"};if(JSON.stringify(a)!==JSON.stringify(n))return{value:e.value,value_json:a}}break}return null}static async fixBatch(e,t){let n=0,a=0;for(const s of e)await this.fixEntry(s,t)?n++:a++;return console.log(` [EntryCompatibilityFixer] Batch concludo: ${n} sucessos, ${a} falhas`),{success:n,failed:a}}}function ete(){const[r,e]=w.useState(!1),[t,n]=w.useState(null),[a,s]=w.useState([]);return{loading:r,error:t,analysisResults:a,analyzeEntry:async(f,p)=>{e(!0),n(null);try{const m=await s8.analyzeEntry(f,p);return s([m]),m}catch(m){return n(m.message),null}finally{e(!1)}},analyzeBatch:async(f,p)=>{e(!0),n(null);try{const m=await s8.analyzeBatch(f,p);return s(m),m}catch(m){return n(m.message),[]}finally{e(!1)}},fixEntry:async(f,p)=>{e(!0),n(null);try{return await i8.fixEntry(f,p)}catch(m){return n(m.message),!1}finally{e(!1)}},fixBatch:async(f,p)=>{e(!0),n(null);try{return await i8.fixBatch(f,p)}catch(m){return n(m.message),{success:0,failed:f.length}}finally{e(!1)}},clearError:()=>n(null),clearResults:()=>s([])}}function tte({entryIds:r,formId:e,onCompatibilityFixed:t}){const{loading:n,error:a,analysisResults:s,analyzeBatch:i,fixBatch:l,clearError:c}=ete(),[d,u]=w.useState(!1),[h,f]=w.useState(!1);w.useEffect(()=>{r.length>0&&e&&i(r,e)},[r,e]);const p=async()=>{f(!0);try{const x=s.map((b,y)=>({result:b,entryId:r[y]})).filter(({result:b})=>!b.isComplete).map(({entryId:b})=>b);if(x.length>0){const b=await l(x,e);console.log(` Correo concluda: ${b.success} sucessos, ${b.failed} falhas`),t&&t(),await i(r,e)}}catch(x){console.error("Erro ao corrigir entradas:",x)}finally{f(!1)}},m=s.filter(x=>!x.isComplete).length,g=s.filter(x=>x.isComplete).length;if(n)return o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),o.jsx("span",{className:"text-blue-800",children:"Analisando compatibilidade dos registros..."})]})});if(a)return o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-red-800",children:["Erro na anlise: ",a]}),o.jsx("button",{onClick:c,className:"text-red-600 hover:text-red-800",children:""})]})});if(s.length===0)return null;const v=m===0;return o.jsxs("div",{className:`border rounded-lg p-4 ${v?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:`font-medium ${v?"text-green-800":"text-yellow-800"}`,children:v?" Todos os registros so compatveis":" Problemas de compatibilidade detectados"}),!v&&o.jsx("button",{onClick:p,disabled:h,className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 disabled:opacity-50",children:h?"Corrigindo...":"Corrigir Todos"})]}),o.jsxs("div",{className:`text-sm ${v?"text-green-700":"text-yellow-700"}`,children:[o.jsxs("span",{children:[" ",g," compatveis"]}),m>0&&o.jsxs("span",{className:"ml-4",children:[" ",m," precisam de correo"]})]}),!v&&o.jsxs("div",{className:"mt-2",children:[o.jsx("button",{onClick:()=>u(!d),className:"text-blue-600 hover:text-blue-800 text-sm underline",children:d?"Ocultar detalhes":"Ver detalhes"}),d&&o.jsx("div",{className:"mt-3 space-y-2",children:s.map((x,b)=>!x.isComplete&&o.jsxs("div",{className:"bg-white border border-yellow-300 rounded p-3 text-sm",children:[o.jsxs("div",{className:"font-medium text-gray-800 mb-1",children:["Registro ",b+1]}),x.missingFields.length>0&&o.jsxs("div",{className:"text-orange-700 mb-1",children:[o.jsx("span",{className:"font-medium",children:"Campos faltantes:"})," ",x.missingFields.join(", ")]}),x.incompatibleValues.length>0&&o.jsxs("div",{className:"text-red-700 mb-1",children:[o.jsx("span",{className:"font-medium",children:"Valores incompatveis:"}),o.jsx("ul",{className:"list-disc list-inside ml-2",children:x.incompatibleValues.map((y,C)=>o.jsx("li",{children:y},C))})]}),x.recommendations.length>0&&o.jsxs("div",{className:"text-blue-700",children:[o.jsx("span",{className:"font-medium",children:"Recomendaes:"}),o.jsx("ul",{className:"list-disc list-inside ml-2",children:x.recommendations.map((y,C)=>o.jsx("li",{children:y},C))})]})]},b))})]})]})}function rte({formId:r}){const[e,t]=w.useState(!0),[n,a]=w.useState(""),[s,i]=w.useState([]),[l,c]=w.useState([]),[d,u]=w.useState(!1),[h,f]=w.useState(null),[p,m]=w.useState(!1),[g,v]=w.useState("No entries found"),[x,b]=w.useState([]),[y,C]=w.useState({}),[S,_]=w.useState("em_analise"),[E,A]=w.useState(""),[T,F]=w.useState({}),[L,D]=w.useState({});w.useEffect(()=>{I(),O()},[]),w.useEffect(()=>{B()},[r]),w.useEffect(()=>{h&&(_(h.status||"em_analise"),C(h.values||{}))},[h]);async function O(){try{const{data:{user:M}}=await K.auth.getUser()}catch(M){console.error("Error getting current user:",M)}}async function I(){try{const{data:{user:M}}=await K.auth.getUser();if(!M){u(!1);return}const{data:U}=await K.from("admins").select("id").eq("id",M.id).maybeSingle();u(!!U)}catch(M){console.error("Error checking user type:",M),a("Error checking permissions")}}async function B(){try{t(!0),a("");const{data:M,error:U}=await K.from("forms").select("no_data_message").eq("id",r).single();if(U)throw U;M!=null&&M.no_data_message&&v(M.no_data_message);const{data:$,error:X}=await K.from("form_fields").select(`
          *,
          form_field_settings (*)
        `).eq("form_id",r).order("position",{ascending:!0});if(X)throw X;const Q={};$.forEach(Le=>{Le.form_field_settings&&(Q[Le.id]=Le.form_field_settings)}),F(Q);const se=($||[]).filter(Le=>{const Ie=Le.form_field_settings;return Ie?!(Ie.visibility==="hidden"||Ie.visibility==="admin"&&!d||Ie.visibility==="marketplace"&&!d||Le.field_type==="button_buy"):!0});c(se);const le=$.filter(Le=>Le.field_type==="url").map(Le=>Le.id);b(le);const{data:ue,error:ye}=await K.from("form_entries").select(`
          id,
          created_at,
          status,
          created_by,
          form_entry_values (
            field_id,
            value,
            value_json
          )
        `).eq("form_id",r).order("created_at",{ascending:!1});if(ye)throw ye;const Ne=await Promise.all((ue||[]).map(async Le=>{const Ie={};Le.form_entry_values.forEach(ee=>{if(ee.value_json!==null)Ie[ee.field_id]=ee.value_json;else try{const Ve=JSON.parse(ee.value);if(Ve&&typeof Ve=="object"&&Ve.promotional_price){const Ue=$.find(ke=>ke.id===ee.field_id);Ue&&Ue.field_type==="product"?Ie[ee.field_id]=Ve:Ie[ee.field_id]=Ve.promotional_price}else Ie[ee.field_id]=ee.value}catch{Ie[ee.field_id]=ee.value}});const et=$.find(ee=>ee.field_type==="niche");et&&!(et.id in Ie)&&(Ie[et.id]=[]);let Ee=null;if(Le.created_by){const{data:ee,error:Ve}=await K.from("platform_users").select("first_name, last_name, email").eq("id",Le.created_by).maybeSingle();if(!Ve&&ee)Ee=ee;else{const{data:Ue,error:ke}=await K.from("admins").select("first_name, last_name, email").eq("id",Le.created_by).maybeSingle();!ke&&Ue&&(Ee=Ue)}}return{id:Le.id,created_at:Le.created_at,status:Le.status,created_by:Le.created_by,publisher:Ee,values:Ie}}));i(Ne)}catch(M){console.error("Error loading form data:",M),a("Error loading form data")}finally{t(!1)}}const z=M=>{f(M),C({...M.values}),D({}),m(!0)},V=async M=>{try{t(!0),a("");const{error:U}=await K.from("form_entries").delete().eq("id",M);if(U)throw U;await B()}catch(U){console.error("Error deleting entry:",U),a("Error deleting entry")}finally{t(!1)}},W=(M,U)=>{if(M.is_required&&(U==null||U===""))return"This field is required";if(!U)return null;switch(M.field_type){case"email":if(!U.includes("@"))return"Please enter a valid email address with @";break;case"url":try{new URL(U)}catch{return"Please enter a valid URL"}break;case"multiselect":case"checkbox":const $=T[M.id];if($!=null&&$.max_selections&&Array.isArray(U)&&U.length>$.max_selections)return`You can select up to ${$.max_selections} options`;break;case"commission":const X=parseFloat(U);if(isNaN(X)||X<0||X>1e3)return"Commission must be between 0 and 1000";break}return null},Y=async()=>{if(h)try{t(!0),a(""),D({});const M={};if(l.forEach(se=>{const le=W(se,y[se.id]);le&&(M[se.id]=le)}),Object.keys(M).length>0){D(M),t(!1);return}const{error:U}=await K.from("form_entries").update({status:S}).eq("id",h.id);if(U)throw U;const $=[];for(const[se,le]of Object.entries(y)){const ue=l.find(Le=>Le.id===se);if(!ue)continue;const ye=ue.field_type==="niche",Ne=typeof le!="string";$.push({entry_id:h.id,field_id:se,value:!ye&&!Ne?le:null,value_json:!ye&&Ne?le:null,niches:ye?le:null})}const{error:X}=await K.from("form_entry_values").delete().eq("entry_id",h.id);if(X)throw X;const{error:Q}=await K.from("form_entry_values").insert($);if(Q)throw Q;if(E.trim()){const{data:{user:se}}=await K.auth.getUser(),{error:le}=await K.from("form_entry_notes").insert([{entry_id:h.id,note:E.trim(),created_by:se==null?void 0:se.id}]);if(le)throw le}await B(),m(!1),A("")}catch(M){console.error("Error updating entry:",M),a("Error updating entry")}finally{t(!1)}},G=M=>{const U=T[M.id]||{},$=y[M.id],X=L[M.id];if(U.visibility==="hidden"&&!d||U.visibility==="admin"&&!d||U.visibility==="marketplace"&&!d||M.field_type==="button_buy")return null;const le={field:M,settings:U,value:$,onChange:Ne=>{C(Le=>({...Le,[M.id]:Ne})),X&&D(Le=>{const Ie={...Le};return delete Ie[M.id],Ie})},error:X,onErrorClear:()=>{X&&D(Ne=>{const Le={...Ne};return delete Le[M.id],Le})}};console.log("[FormEntriesRenderer] field:",M.label,"type:",M.field_type,"value:",$);const ue=q(M.field_type),ye=v1[`${ue.charAt(0).toUpperCase()+ue.slice(1)}Field`];return ye?o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-400",children:[M.label,M.is_required&&o.jsx("span",{className:"text-error-500 ml-1",children:"*"}),U.visibility==="admin"&&o.jsx("span",{className:"ml-2 text-xs text-brand-500 dark:text-brand-400",children:"(Admin Only)"}),U.visibility==="marketplace"&&o.jsx("span",{className:"ml-2 text-xs text-warning-500 dark:text-warning-400",children:"(Marketplace Only)"})]}),o.jsx(ye,{...le})]}):o.jsxs("div",{className:"text-error-500",children:["Unknown field type: ",M.field_type]})},q=M=>["moz_da","semrush_as","ahrefs_dr","ahrefs_traffic","similarweb_traffic","google_traffic"].includes(M)?"api":M==="commission"?"commission":M==="brazilian_states"?"brazilianStates":M==="brand"?"brand":M==="button_buy"?"buttonBuy":M;return e?o.jsx(oL,{}):n?o.jsx("div",{className:"p-4 text-center text-error-500",children:n}):s.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:g}):o.jsxs("div",{className:"w-full",children:[d&&s.length>0&&o.jsx("div",{className:"mb-4",children:o.jsx(tte,{entryIds:s.map(M=>M.id),formId:r,onCompatibilityFixed:B})}),o.jsx(iL,{entries:s,fields:l,urlFields:x,onEdit:d?z:void 0,onDelete:d?V:void 0}),o.jsx(vs,{isOpen:p,onClose:()=>m(!1),className:"max-w-[800px] m-4",children:o.jsxs("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-8",children:[o.jsx("div",{className:"mb-6",children:o.jsx("h4",{className:"text-xl font-semibold text-gray-800 dark:text-white/90",children:"Editar Entrada"})}),h&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6",children:[o.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Dados do Formulrio"}),o.jsx("div",{className:"grid grid-cols-1 gap-6",children:l.map(M=>G(M))})]}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6",children:[o.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Status"}),o.jsx(Jt,{options:[{value:"em_analise",label:"Anlise"},{value:"verificado",label:"Verificado"},{value:"reprovado",label:"Reprovado"}],value:S,onChange:M=>_(M)})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Adicionar Nota"}),o.jsx(Zi,{value:E,onChange:A,rows:4,placeholder:"Adicione uma nota sobre esta entrada..."})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[o.jsx(at,{variant:"outline",onClick:()=>m(!1),children:"Cancelar"}),o.jsx(at,{onClick:Y,disabled:e,children:e?"Salvando...":"Salvar Alteraes"})]})]})]})})]})}async function lL(){const{data:r,error:e}=await K.from("form_fields").select("*").or("field_type.eq.commission,label.ilike.%comisso%,label.ilike.%commission%").limit(1);return e?null:r==null?void 0:r[0]}function o8(r){let e=String(r);if(e=e.replace(/R\$|\$|R/g,"").trim(),e.includes(",")&&e.includes("."))e=e.replace(/\./g,"").replace(",",".");else if(e.includes(","))e=e.replace(",",".");else if(e.includes(".")){const n=e.split(".");n.length===2&&n[1].length<=2||(e=e.replace(/\./g,""))}const t=parseFloat(e);return isNaN(t)?0:t}function cL(r,e){if(console.log(" [DEBUG] applyCommissionToFormValues - INCIO"),console.log(" [DEBUG] formValues recebidos:",r),console.log(" [DEBUG] commissionFieldId:",e),!r||typeof r!="object")return console.log(" [DEBUG] formValues invlido, retornando objeto vazio"),{};const t={...r};let n=0;return e&&r[e]?(console.log(" [DEBUG] Valor bruto da comisso:",r[e]),n=parseFloat(r[e].toString().replace(/\./g,"").replace(",","."))||0,console.log(" [DEBUG] Comisso parseada (%):",n)):console.log(" [DEBUG] No foi encontrado commissionFieldId ou valor est vazio"),n===0?(console.log(" [DEBUG] Comisso  0, retornando valores originais sem processamento"),t):(console.log(" [DEBUG] Aplicando comisso de",n,"% aos valores"),Object.entries(t).forEach(([a,s])=>{if(console.log(` [DEBUG] Processando campo ${a}:`,s),s==null){console.log(` [DEBUG] ${a} - Valor nulo/indefinido, pulando`);return}let i=s;if(typeof s=="string")try{i=JSON.parse(s),console.log(` [DEBUG] ${a} - JSON parseado:`,i)}catch{console.log(` [DEBUG] ${a} - No  JSON, mantendo como string`),i=s}if(i&&typeof i=="object"&&(i.price||i.promotional_price)){if(console.log(` [DEBUG] ${a} - Encontrou objeto com preos:`,i),i.old_price||i.price){const l=i.old_price||i.price;console.log(` [DEBUG] ${a} - Processando price usando old_price:`,l);const c=o8(l);if(console.log(` [DEBUG] ${a} - basePrice original:`,l),console.log(` [DEBUG] ${a} - Price parseado:`,c),isNaN(c))console.log(` [DEBUG] ${a} - Price no  um nmero vlido:`,c);else{const d=c+c*n/100;console.log(` [DEBUG] ${a} - CLCULO DETALHADO:`),console.log(` [DEBUG] ${a} - price:`,c),console.log(` [DEBUG] ${a} - commissionPercent:`,n),console.log(` [DEBUG] ${a} - (price * commissionPercent) / 100:`,c*n/100),console.log(` [DEBUG] ${a} - result (price + margem):`,d);const u=d.toFixed(2).replace(".",",");console.log(` [DEBUG] ${a} - formattedResult:`,u),console.log(` [DEBUG] ${a} - Price original (old_price):`,c),console.log(` [DEBUG] ${a} - Price com comisso:`,d),console.log(` [DEBUG] ${a} - Price formatado final:`,u),i.old_price||(i.old_price=String(c).replace(".",",")),i.price=u}}if(i.old_promotional_price||i.promotional_price){const l=i.old_promotional_price||i.promotional_price;console.log(` [DEBUG] ${a} - Processando promotional_price usando old_promotional_price:`,l);const c=o8(l);if(console.log(` [DEBUG] ${a} - Promotional_price parseado:`,c),!isNaN(c)&&c!==0){const d=c+c*n/100,u=d.toFixed(2).replace(".",",");console.log(` [DEBUG] ${a} - Promotional_price original (old_promotional_price):`,c),console.log(` [DEBUG] ${a} - Promotional_price com comisso:`,d),console.log(` [DEBUG] ${a} - Promotional_price formatado final:`,u),i.old_promotional_price||(i.old_promotional_price=String(c).replace(".",",")),i.promotional_price=u}else console.log(` [DEBUG] ${a} - Promotional_price no vlido (NaN ou 0):`,c)}console.log(` [DEBUG] ${a} - Objeto final aps processamento:`,i),t[a]=i}else console.log(` [DEBUG] ${a} - No  um objeto com preos, pulando`)}),console.log(" [DEBUG] applyCommissionToFormValues - FINALIZADO"),console.log(" [DEBUG] Valores finais retornados:",t),t)}function nte(r){return r.filter(e=>e.field_type==="url")}function ate(r,e){return r.filter(t=>{const n=t.form_field_settings;return n?!(n.visibility==="hidden"||n.visibility==="admin"&&!e||n.visibility==="marketplace"&&!e):!0})}function ste(r){return r.filter(e=>e.field_type==="url").map(e=>e.id)}function ite(r){const e={};return r.forEach(t=>{t.form_field_settings&&(e[t.id]=t.form_field_settings)}),e}function l8(r,e){const t=r.form_field_settings;return t?!(t.visibility==="admin"&&!e||t.visibility==="marketplace"&&!e):!0}const ote=v1;function lte({formId:r,show:e=!0}){const[t,n]=w.useState(!0),[a,s]=w.useState(""),[i,l]=w.useState([]),[c,d]=w.useState([]),[u,h]=w.useState([]),[f,p]=w.useState(null),[m,g]=w.useState(null),[v,x]=w.useState(!1),[b,y]=w.useState("Voc ainda no enviou nenhuma entrada para este formulrio"),[C,S]=w.useState([]),[_,E]=w.useState({}),[A,T]=w.useState(""),[F,L]=w.useState({}),[D,O]=w.useState({}),[I,B]=w.useState(""),[z,V]=w.useState(!1);w.useEffect(()=>{W()},[]),w.useEffect(()=>{f?(G(),Y()):n(!1)},[r,f]),w.useEffect(()=>{m&&E(m.values||{})},[m]);async function W(){try{const{data:{user:se}}=await K.auth.getUser();se?p(se):(s(""),n(!1))}catch(se){console.error("Error getting current user:",se),s("Erro ao verificar usurio"),n(!1)}}async function Y(){try{if(!f)return;const{data:se}=await K.from("admins").select("id").eq("id",f.id).maybeSingle();V(!!se)}catch(se){console.error("Error checking user role:",se)}}async function G(){if(!(!f||!r))try{n(!0),s("");const{data:se,error:le}=await K.from("forms").select("no_data_message, title").eq("id",r).single();if(le)throw le;se!=null&&se.no_data_message&&y(se.no_data_message),se!=null&&se.title&&B(se.title);const{data:ue,error:ye}=await K.from("form_fields").select(`
          *,
          form_field_settings (*)
        `).eq("form_id",r).order("position",{ascending:!0});if(ye)throw ye;const Ne=ite(ue);L(Ne);const Le=ate(ue||[],z),Ie=nte(Le),et=ue||[];d(Ie),h(et);const Ee=ste(ue||[]);S(Ee);const{data:ee,error:Ve}=await K.from("form_entries").select(`
          id,
          created_at,
          status,
          created_by,
          form_entry_values (
            field_id,
            value,
            value_json
          ),
          notes:form_entry_notes(
            id,
            note,
            created_at,
            created_by,
            type
          )
        `).eq("form_id",r).eq("created_by",f.id).order("created_at",{ascending:!1});if(Ve)throw Ve;const Ue=await Promise.all((ee||[]).map(async ke=>{const Ce={};ke.form_entry_values.forEach(Fe=>{let it;if(Fe.value_json!==null)it=Fe.value_json;else try{const tt=JSON.parse(Fe.value);if(tt&&typeof tt=="object"&&tt.promotional_price){const je=ue.find(ve=>ve.id===Fe.field_id);je&&je.field_type==="product"?it=tt:it=tt.promotional_price}else it=Fe.value}catch{it=Fe.value}const vt=ue.find(tt=>tt.id===Fe.field_id);vt&&vt.field_type==="niche"&&(Array.isArray(it)?it=it.map(tt=>typeof tt=="string"?{niche:tt,price:""}:typeof tt=="object"&&tt!==null&&!("price"in tt)?{...tt,price:""}:tt):it=[]),Ce[Fe.field_id]=it});const ze=ue.find(Fe=>Fe.field_type==="niche");ze&&!(ze.id in Ce)&&(Ce[ze.id]=[]);let Ge=null;const{data:dt,error:De}=await K.from("platform_users").select("first_name, last_name, email").eq("id",f.id).maybeSingle();if(!De&&dt)Ge=dt;else{const{data:Fe,error:it}=await K.from("admins").select("first_name, last_name, email").eq("id",f.id).maybeSingle();!it&&Fe&&(Ge=Fe)}return{id:ke.id,created_at:ke.created_at,status:ke.status,created_by:ke.created_by,publisher:Ge,values:Ce,notes:ke.notes||[]}}));l(Ue)}catch(se){console.error("Error loading form data:",se),s("Erro ao carregar dados do formulrio")}finally{n(!1)}}const q=se=>{g(se),E({...se.values}),O({}),x(!0)},M=async se=>{if(confirm("Tem certeza que deseja excluir esta entrada? Esta ao no pode ser desfeita."))try{n(!0),s("");const{error:le}=await K.from("form_entries").delete().eq("id",se).eq("created_by",f.id);if(le)throw le;await G()}catch(le){console.error("Error deleting entry:",le),s("Error deleting entry")}finally{n(!1)}},U=(se,le)=>{if(se.is_required&&(le==null||le===""))return"Este campo  obrigatrio";if(!le)return null;switch(se.field_type){case"email":if(!le.includes("@"))return"Por favor, insira um endereo de email vlido com @";break;case"url":try{new URL(le)}catch{return"Por favor, insira uma URL vlida"}break;case"commission":const ue=parseFloat(le);if(isNaN(ue)||ue<0||ue>1e3)return"Commission must be between 0 and 1000";break}return null},$=async()=>{if(!(!m||!f))try{n(!0),s(""),O({});const se=await lL(),le=se==null?void 0:se.id;console.log(" [DEBUG] Commission Field:",se),console.log(" [DEBUG] Commission Field ID:",le);const ue={};if(c.forEach(Ce=>{const ze=U(Ce,_[Ce.id]);ze&&(ue[Ce.id]=ze)}),Object.keys(ue).length>0){O(ue),n(!1);return}const{data:ye,error:Ne}=await K.from("form_entries").select("created_by").eq("id",m.id).single();if(Ne)throw Ne;if(ye.created_by!==f.id)throw new Error("Voc s pode editar suas prprias entradas");const{data:Le,error:Ie}=await K.from("form_entry_values").select("field_id, value, value_json").eq("entry_id",m.id);if(Ie)throw Ie;const et={};Le.forEach(Ce=>{let ze;Ce.value_json!==null?ze=Ce.value_json:ze=Ce.value,et[Ce.field_id]=ze}),console.log(" [DEBUG] All original values:",et),console.log(" [DEBUG] Editable form values:",_);const Ee={...et,..._};console.log(" [DEBUG] Complete form values before commission:",Ee),le&&Ee[le]?console.log(" [DEBUG] Commission value found:",Ee[le]):console.log(" [DEBUG] Commission value NOT found or commissionFieldId is null");const ee=cL(Ee,le||null);console.log(" [DEBUG] Form values WITH commission:",ee);const Ve=[];for(const[Ce,ze]of Object.entries(ee)){if(!u.find(De=>De.id===Ce))continue;const dt=typeof ze!="string";Ve.push({entry_id:m.id,field_id:Ce,value:dt?null:ze,value_json:dt?ze:null})}const{error:Ue}=await K.from("form_entry_values").delete().eq("entry_id",m.id);if(Ue)throw Ue;const{error:ke}=await K.from("form_entry_values").insert(Ve);if(ke)throw ke;if(A.trim()){const{error:Ce}=await K.from("form_entry_notes").insert([{entry_id:m.id,note:A.trim(),created_by:f.id}]);if(Ce)throw Ce}await G(),x(!1),T("")}catch(se){console.error("Error updating entry:",se),s(se.message||"Erro ao atualizar entrada")}finally{n(!1)}},X=se=>{const le=F[se.id]||{},ue=_[se.id],ye=D[se.id];if(le.visibility==="marketplace"||!l8(se,z))return null;const Ie={field:se,settings:le,value:ue,onChange:ee=>{E(Ve=>({...Ve,[se.id]:ee})),ye&&O(Ve=>{const Ue={...Ve};return delete Ue[se.id],Ue})},error:ye,onErrorClear:()=>{ye&&O(ee=>{const Ve={...ee};return delete Ve[se.id],Ve})}},et=Q(se.field_type);et==="niche"&&console.log("[UserFormEntriesRenderer] Valor enviado para NicheField:",ue),console.log("[UserFormEntriesRenderer] fieldProps.value:",ue);const Ee=ote[`${et.charAt(0).toUpperCase()+et.slice(1)}Field`];return Ee?o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-400",children:[se.label,se.is_required&&o.jsx("span",{className:"text-error-500 ml-1",children:"*"}),le.visibility==="admin"&&o.jsx("span",{className:"ml-2 text-xs text-brand-500 dark:text-brand-400",children:"(Admin Only)"}),le.visibility==="marketplace"&&o.jsx("span",{className:"ml-2 text-xs text-warning-500 dark:text-warning-400",children:"(Marketplace Only)"})]}),o.jsx(Ee,{...Ie})]}):o.jsxs("div",{className:"text-error-500",children:["Tipo de campo desconhecido: ",se.field_type]})},Q=se=>["moz_da","semrush_as","ahrefs_dr","ahrefs_traffic","similarweb_traffic","google_traffic"].includes(se)?"api":se==="commission"?"commission":se==="brazilian_states"?"brazilianStates":se==="brand"?"brand":se==="button_buy"?"buttonBuy":se==="multiselect"?"multiSelect":se;return t?o.jsx(oL,{}):a?o.jsx("div",{className:"p-4 text-center text-error-500",children:a}):f?i.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:b}):o.jsxs("div",{className:"w-full",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90 mb-4",children:["Suas entradas para: ",I]}),o.jsx(iL,{entries:i,fields:c,urlFields:C,onEdit:q,onDelete:M,show:e}),o.jsx(vs,{isOpen:v,onClose:()=>x(!1),className:"max-w-[800px] m-4",children:o.jsxs("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-xl font-semibold text-gray-800 dark:text-white/90",children:"Editar Entradas"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:I})]}),a&&o.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:a}),m&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6",children:[o.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Dados do Formulrio"})," ",o.jsx("div",{className:"grid grid-cols-1 gap-6",children:u.filter(se=>l8(se,z)).map(se=>X(se))})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Adicionar Nota"}),o.jsx(Zi,{value:A,onChange:T,rows:4,placeholder:"Adicione uma nota sobre esta entrada..."})]}),m.notes&&m.notes.length>0&&o.jsxs("div",{children:[o.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Notas"}),o.jsx("div",{className:"space-y-3",children:m.notes.map(se=>o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:se.note}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:new Date(se.created_at).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]},se.id))})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[o.jsx(at,{variant:"outline",onClick:()=>x(!1),children:"Cancelar"}),o.jsx(at,{onClick:$,disabled:t,children:t?"Salvando...":"Salvar Alteraes"})]})]})]})})]}):o.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"Voc precisa estar logado para ver suas entradas"})}function cte(r){return!["button_buy","actions","modal","checkbox"].includes(r.field_type)}function c8({entryId:r,productName:e,price:t,buttonStyle:n="primary",buttonText:a="Comprar",image:s,url:i,isInCart:l=!1}){const{addItem:c,items:d}=fd(),[u,h]=w.useState(!1),[f,p]=w.useState(l);w.useEffect(()=>{const x=d.some(b=>b.entry_id===r);p(x)},[d,r]);const m=async()=>{if(!f)try{h(!0),console.log("Adding to cart with price:",t),console.log("Dados enviados para addItem:",{entryId:r,productName:e,price:t,quantity:1,image:s,url:i}),await c(r,e,t,1,s,i),ki("Item adicionado ao carrinho!","success"),setTimeout(()=>{},2e3)}catch(x){console.error("Error adding item to cart:",x),ki("Erro ao adicionar item ao carrinho","error")}finally{h(!1)}},g=n==="primary"?"inline-flex items-center justify-center w-full gap-1 px-2 text-[14px] font-medium text-white transition rounded-lg bg-brand-500 shadow-theme-xs hover:bg-brand-600":"inline-flex items-center justify-center w-full gap-1 rounded-lg bg-white px-2 text-[14px] font-medium text-gray-700 shadow-theme-xs ring-1 ring-gray-300 transition hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-white/[0.03]",v={height:"38px",minWidth:"80.58px"};return o.jsx("button",{type:"button",className:g,style:v,onClick:x=>{x.stopPropagation(),m()},disabled:u||f,children:u?o.jsx("span",{className:"animate-spin stroke-brand-500 text-gray-200 dark:text-gray-800",children:o.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"10",cy:"10",r:"8.75",stroke:"currentColor",strokeWidth:"2.5"}),o.jsx("mask",{id:"path-2-inside-1_3755_26477",fill:"white",children:o.jsx("path",{d:"M18.2372 12.9506C18.8873 13.1835 19.6113 12.846 19.7613 12.1719C20.0138 11.0369 20.0672 9.86319 19.9156 8.70384C19.7099 7.12996 19.1325 5.62766 18.2311 4.32117C17.3297 3.01467 16.1303 1.94151 14.7319 1.19042C13.7019 0.637155 12.5858 0.270357 11.435 0.103491C10.7516 0.00440265 10.179 0.561473 10.1659 1.25187C10.1528 1.94226 10.7059 2.50202 11.3845 2.6295C12.1384 2.77112 12.8686 3.02803 13.5487 3.39333C14.5973 3.95661 15.4968 4.76141 16.1728 5.74121C16.8488 6.721 17.2819 7.84764 17.4361 9.02796C17.5362 9.79345 17.5172 10.5673 17.3819 11.3223C17.2602 12.002 17.5871 12.7178 18.2372 12.9506Z"})}),o.jsx("path",{d:"M18.2372 12.9506C18.8873 13.1835 19.6113 12.846 19.7613 12.1719C20.0138 11.0369 20.0672 9.86319 19.9156 8.70384C19.7099 7.12996 19.1325 5.62766 18.2311 4.32117C17.3297 3.01467 16.1303 1.94151 14.7319 1.19042C13.7019 0.637155 12.5858 0.270357 11.435 0.103491C10.7516 0.00440265 10.179 0.561473 10.1659 1.25187C10.1528 1.94226 10.7059 2.50202 11.3845 2.6295C12.1384 2.77112 12.8686 3.02803 13.5487 3.39333C14.5973 3.95661 15.4968 4.76141 16.1728 5.74121C16.8488 6.721 17.2819 7.84764 17.4361 9.02796C17.5362 9.79345 17.5172 10.5673 17.3819 11.3223C17.2602 12.002 17.5871 12.7178 18.2372 12.9506Z",stroke:"currentColor",strokeWidth:"4",mask:"url(#path-2-inside-1_3755_26477)"})]})}):f?o.jsx("svg",{className:"w-[20px] h-[20px] text-green-500",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.70186 12.0001C3.70186 7.41711 7.41711 3.70186 12.0001 3.70186C16.5831 3.70186 20.2984 7.41711 20.2984 12.0001C20.2984 16.5831 16.5831 20.2984 12.0001 20.2984C7.41711 20.2984 3.70186 16.5831 3.70186 12.0001ZM12.0001 1.90186C6.423 1.90186 1.90186 6.423 1.90186 12.0001C1.90186 17.5772 6.423 22.0984 12.0001 22.0984C17.5772 22.0984 22.0984 17.5772 22.0984 12.0001C22.0984 6.423 17.5772 1.90186 12.0001 1.90186ZM15.6197 10.7395C15.9712 10.388 15.9712 9.81819 15.6197 9.46672C15.2683 9.11525 14.6984 9.11525 14.347 9.46672L11.1894 12.6243L9.6533 11.0883C9.30183 10.7368 8.73198 10.7368 8.38051 11.0883C8.02904 11.4397 8.02904 12.0096 8.38051 12.3611L10.553 14.5335C10.7217 14.7023 10.9507 14.7971 11.1894 14.7971C11.428 14.7971 11.657 14.7023 11.8257 14.5335L15.6197 10.7395Z",fill:"currentColor"})}):o.jsxs(o.Fragment,{children:[o.jsx(Fp,{className:"w-[18px] h-[18px]"}),a]})})}function dte(){return o.jsxs("div",{className:"animate-pulse",children:[o.jsxs("div",{className:"flex justify-between p-4 mb-4 rounded-lg dark:bg-gray-800",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-16 h-8 bg-gray-200 rounded dark:bg-gray-800"}),o.jsx("div",{className:"w-16 h-8 bg-gray-200 rounded dark:bg-gray-800"})]}),o.jsx("div",{className:"w-48 h-8 bg-gray-200 rounded dark:bg-gray-800"})]}),o.jsx("div",{className:"h-12 bg-gray-200 rounded-t-lg w-full dark:bg-gray-800"}),o.jsx("div",{className:"space-y-1",children:[1,2,3,4,5].map(r=>o.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-800"},r))}),o.jsxs("div",{className:"flex justify-between p-4 mt-4 rounded-lg dark:bg-gray-800",children:[o.jsx("div",{className:"w-48 h-6 bg-gray-200 rounded dark:bg-gray-800"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"w-24 h-10 bg-gray-200 rounded dark:bg-gray-800"}),o.jsx("div",{className:"w-32 h-10 bg-gray-200 rounded dark:bg-gray-800"}),o.jsx("div",{className:"w-24 h-10 bg-gray-200 rounded dark:bg-gray-800"})]})]})]})}function ute({message:r}){return o.jsxs("div",{className:"overflow-hidden bg-white dark:bg-white/[0.03]",children:[o.jsxs("div",{className:"flex flex-col gap-2 px-4 py-4 border-b border-gray-100 dark:border-white/[0.05] rounded-t-xl sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Show"}),o.jsxs("div",{className:"relative z-20 bg-transparent",children:[o.jsxs("select",{className:"w-full py-2 pl-3 pr-8 text-sm text-gray-800 bg-transparent border border-gray-300 rounded-lg appearance-none dark:bg-dark-900 h-9 bg-none shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",children:[o.jsx("option",{value:"10",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"10"}),o.jsx("option",{value:"25",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"25"}),o.jsx("option",{value:"50",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"50"}),o.jsx("option",{value:"100",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"100"})]}),o.jsx("span",{className:"absolute z-30 text-gray-500 -translate-y-1/2 right-2 top-1/2 dark:text-gray-400",children:o.jsx("svg",{className:"stroke-current",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M3.8335 5.9165L8.00016 10.0832L12.1668 5.9165",stroke:"",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"entries"})]}),o.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("button",{className:"absolute text-gray-500 -translate-y-1/2 left-4 top-1/2 dark:text-gray-400",children:o.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.04199 9.37363C3.04199 5.87693 5.87735 3.04199 9.37533 3.04199C12.8733 3.04199 15.7087 5.87693 15.7087 9.37363C15.7087 12.8703 12.8733 15.7053 9.37533 15.7053C5.87735 15.7053 3.04199 12.8703 3.04199 9.37363ZM9.37533 1.54199C5.04926 1.54199 1.54199 5.04817 1.54199 9.37363C1.54199 13.6991 5.04926 17.2053 9.37533 17.2053C11.2676 17.2053 13.0032 16.5344 14.3572 15.4176L17.1773 18.238C17.4702 18.5309 17.945 18.5309 18.2379 18.238C18.5308 17.9451 18.5309 17.4703 18.238 17.1773L15.4182 14.3573C16.5367 13.0033 17.2087 11.2669 17.2087 9.37363C17.2087 5.04817 13.7014 1.54199 9.37533 1.54199Z",fill:""})})}),o.jsx("input",{placeholder:"Pesquisar...",className:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent py-2.5 pl-11 pr-4 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 xl:w-[300px]",type:"text"})]})})]}),o.jsx("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400 border-t-0 border-gray-100 dark:border-white/[0.05] rounded-b-xl",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("svg",{className:"w-16 h-16 mb-4 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),o.jsx("p",{className:"text-lg font-medium",children:r})]})})]})}function hte(r){let e=r.parentElement;for(;e;){const t=getComputedStyle(e).overflowY;if(t==="auto"||t==="scroll")return e;e=e.parentElement}return window}function fte(r){if(r instanceof Window)return{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth};const e=r.getBoundingClientRect();return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}function pte(r,e){const t=r.getBoundingClientRect(),n=e.getBoundingClientRect(),a=hte(r),s=fte(a),i=s.bottom-t.bottom,l=t.top-s.top,c=n.height,d=i<c+8&&l>c+8?"top":"bottom",u=n.width,h=(t.left+t.right)/2,f=h-u/2,p=h+u/2,m=8;let g="center";return f<s.left+m?g="left":p>s.right-m&&(g="right"),{placement:d,alignX:g}}function gte({onReady:r,dependencies:e=[],delay:t=0}){const n=w.useCallback(()=>{const a=setTimeout(()=>{r()},t);return()=>clearTimeout(a)},[r,t]);w.useEffect(()=>{if(document.readyState==="complete")return n();const a=()=>{n()};return window.addEventListener("load",a),()=>{window.removeEventListener("load",a)}},[n]),w.useEffect(()=>n(),e),w.useEffect(()=>{const a=setTimeout(()=>{r()},300);return()=>clearTimeout(a)},[r])}function mte(){const[r,e]=w.useState("bottom"),[t,n]=w.useState("center"),a=w.useRef(null),s=w.useRef(null),i=w.useCallback(()=>{if(!a.current||!s.current)return;const l=pte(a.current,s.current);e(l.placement),n(l.alignX)},[]);return gte({onReady:i,delay:0}),w.useEffect(()=>{const l=new MutationObserver(()=>{i()});return a.current&&l.observe(a.current,{attributes:!0,attributeFilter:["class"],subtree:!0}),()=>l.disconnect()},[i]),w.useEffect(()=>{var u;const l=()=>{i()};window.addEventListener("resize",l),window.addEventListener("scroll",l,!0);let c=null,d=(u=a.current)==null?void 0:u.parentElement;for(;d;){const h=getComputedStyle(d).overflowY;if(h==="auto"||h==="scroll"){c=d,d.addEventListener("scroll",l);break}d=d.parentElement}return()=>{window.removeEventListener("resize",l),window.removeEventListener("scroll",l,!0),c&&c.removeEventListener("scroll",l)}},[i]),{placement:r,alignX:t,triggerRef:a,tooltipRef:s,updatePosition:i}}function xte(){const[r,e]=w.useState(!1),t=w.useRef(null);return w.useEffect(()=>{const n=t.current;if(!n)return;const a=()=>e(!0),s=()=>e(!1),i=()=>e(!0),l=()=>e(!1);return n.addEventListener("mouseenter",a),n.addEventListener("mouseleave",s),n.addEventListener("focus",i),n.addEventListener("blur",l),()=>{n.removeEventListener("mouseenter",a),n.removeEventListener("mouseleave",s),n.removeEventListener("focus",i),n.removeEventListener("blur",l)}},[]),{isVisible:r,triggerRef:t}}function vte(){const r=mte(),e=xte();return w.useEffect(()=>{if(e.isVisible){const t=setTimeout(()=>{r.updatePosition()},10);return()=>clearTimeout(t)}},[e.isVisible,r.updatePosition]),w.useEffect(()=>{const t=setTimeout(()=>{r.updatePosition()},100);return()=>clearTimeout(t)},[r.updatePosition]),{placement:r.placement,alignX:r.alignX,isVisible:e.isVisible,triggerRef:r.triggerRef,tooltipRef:r.tooltipRef,updatePosition:r.updatePosition}}function bte(){const[r,e]=w.useState("bottom"),[t,n]=w.useState("center"),a=w.useRef(null),s=w.useRef(null);return w.useEffect(()=>{function i(){if(!a.current||!s.current)return;const l=a.current.getBoundingClientRect(),c=s.current.getBoundingClientRect();let d=null,u=a.current.parentElement;for(;u;){if(u.classList.contains("marketplace-table")){d=u;break}u=u.parentElement}let h=window.innerHeight,f=0,p=0,m=window.innerWidth;if(d){const S=d.getBoundingClientRect();h=S.bottom,f=S.top,p=S.left,m=S.right}const g=h-l.bottom,v=l.top-f,x=c.width,b=(l.left+l.right)/2,y=b-x/2,C=b+x/2;g<c.height+8&&v>c.height+8?e("top"):e("bottom"),y<p+8&&C>m-8?n("center"):y<p+8?n("left"):C>m-8?n("right"):n("center")}if(i(),window.addEventListener("resize",i),window.addEventListener("scroll",i,!0),a.current){let l=a.current.parentElement;for(;l;){if(l.classList.contains("marketplace-table")||getComputedStyle(l).overflowX==="auto"||getComputedStyle(l).overflowX==="scroll"){l.addEventListener("scroll",i);break}l=l.parentElement}}return()=>{if(window.removeEventListener("resize",i),window.removeEventListener("scroll",i,!0),a.current){let l=a.current.parentElement;for(;l;){if(l.classList.contains("marketplace-table")||getComputedStyle(l).overflowX==="auto"||getComputedStyle(l).overflowX==="scroll"){l.removeEventListener("scroll",i);break}l=l.parentElement}}}},[]),{placement:r,alignX:t,triggerRef:a,tooltipRef:s}}function yte({text:r,className:e="",children:t}){const{placement:n,alignX:a,triggerRef:s,tooltipRef:i}=bte();let l="";return a==="left"?l="left-0 -translate-x-0":a==="right"?l="right-0 translate-x-0":l="left-1/2 -translate-x-1/2",o.jsxs("div",{className:`group relative ${e}`,ref:s,children:[t||o.jsx("svg",{className:"w-3 h-3 text-gray-400 dark:text-gray-500 cursor-help",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{ref:i,className:`absolute ${l} w-auto px-3 py-2 bg-gray-900 text-white !text-white text-[13px] rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 ${n==="top"?"bottom-full mb-2":"top-full mt-2"}`,style:{color:"#fff",width:"max-content"},children:[o.jsx("span",{className:"block",style:{color:"#fff",fontSize:"inherit",fontWeight:"inherit",lineHeight:"inherit",fontFamily:"inherit",WebkitTextFillColor:"#fff",textShadow:"none",filter:"none",background:"none",boxShadow:"none",border:"none",outline:"none",textDecoration:"none",fontStyle:"inherit",letterSpacing:"inherit",wordBreak:"normal",whiteSpace:"normal",textAlign:"inherit",verticalAlign:"inherit",textTransform:"inherit",textRendering:"inherit",MozOsxFontSmoothing:"inherit",WebkitFontSmoothing:"inherit",fontVariant:"inherit",colorScheme:"light"},children:r}),n==="top"?o.jsx("div",{className:`absolute top-full ${a==="center"?"left-1/2 -translate-x-1/2":a==="left"?"left-4":"right-4"} border-4 border-transparent border-t-gray-900`}):o.jsx("div",{className:`absolute bottom-full ${a==="center"?"left-1/2 -translate-x-1/2":a==="left"?"left-4":"right-4"} border-4 border-transparent border-b-gray-900`})]})]})}let gf=[],d8=!1;async function wte(){if(d8&&gf.length>0)return gf;try{console.log("[loadAllAvailableNiches] Fetching niches from database...");const{data:r,error:e}=await K.from("form_field_niche").select("options");if(e)return console.error("[loadAllAvailableNiches] Error fetching niches:",e),[];const t=new Map;return r==null||r.forEach(n=>{n.options&&Array.isArray(n.options)&&Ji(n.options).forEach(s=>{s.text&&s.text.trim()!==""&&t.set(s.text,s)})}),gf=Array.from(t.values()),d8=!0,console.log("[loadAllAvailableNiches] Loaded niches:",gf),gf}catch(r){return console.error("[loadAllAvailableNiches] Error:",r),[]}}function kte(r){if(!r)return"-";let e=r;return e=e.replace(/^https?:\/\//,""),e=e.replace(/\/$/,""),o.jsxs("div",{className:"url-cell",children:[o.jsx("img",{src:pd(r),alt:"Site icon",width:"20",height:"20",className:"flex-shrink-0",onError:t=>{t.target.style.display="none"}}),o.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-gray-800 text-theme-2xs xl:text-theme-sm dark:text-white/90 hover:underline whitespace-nowrap",children:e})]})}function Cte(r){try{const e=typeof r=="string"?JSON.parse(r):r;if(!e||!e.name)return"-";if(!e.logo)return e.name;const t=Ste(e.logo);return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("img",{src:t,alt:`${e.name} logo`,className:"w-8 h-8 object-contain",onError:n=>{n.target.style.display="none"}}),o.jsx("span",{className:"text-gray-800 dark:text-white/90 font-medium text-theme-2xs xl:text-sm",children:e.name})]})}catch(e){return console.error("Error rendering brand:",e),(r==null?void 0:r.toString())||"-"}}function Ste(r){if(!r)return"";try{const{data:e}=K.storage.from("brand_logos").getPublicUrl(r);return(e==null?void 0:e.publicUrl)||""}catch(e){return console.error("Error getting brand logo URL:",e),""}}function jte(r,e=!1){return!r||Object.keys(r).length===0?"-":o.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(r).map(([t,n])=>o.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 dark:bg-gray-800 rounded px-2 py-1",children:[o.jsx("img",{src:yh(t),alt:t,width:"20",height:"20",className:`rounded-full ${t==="ROW"?"dark:invert":""}`,onError:a=>{a.target.style.display="none"}}),e?o.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-[13px] font-medium",children:t}):n?o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-[13px]",children:["(",n,"%)"]}):null]},t))})}function u8(r){console.log("[renderNicheWithIcon] Raw value received:",r),console.log("[renderNicheWithIcon] Value type:",typeof r),console.log("[renderNicheWithIcon] Value stringified:",JSON.stringify(r));const e=()=>{const[t,n]=ft.useState([]),[a,s]=ft.useState(!0);if(ft.useEffect(()=>{wte().then(i=>{n(i),s(!1)})},[]),a)return o.jsx("div",{className:"flex gap-1",children:[...Array(3)].map((i,l)=>o.jsx("div",{className:"w-8 h-8 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"},l))});try{let i=[];if(r)if(typeof r=="string")if(console.log("[renderNicheWithIcon] Processing string value:",r),r.trim().startsWith("[")||r.trim().startsWith("{"))try{const d=JSON.parse(r);console.log("[renderNicheWithIcon] Parsed JSON:",d),i=Ji(Array.isArray(d)?d:[d])}catch{console.log("[renderNicheWithIcon] Failed to parse JSON, skipping malformed data")}else console.log("[renderNicheWithIcon] Simple string, treating as text"),i=[{text:r,icon:void 0}];else Array.isArray(r)?(console.log("[renderNicheWithIcon] Processing array value:",r),i=Ji(r)):(console.log("[renderNicheWithIcon] Processing object value:",r),i=Ji([r]));else console.log("[renderNicheWithIcon] No value provided, showing all niches without highlight");const l=i.filter(d=>{const u=d.text&&d.text.trim()!=="",h=d.icon&&d.icon.trim()!=="";return u||h});console.log("[renderNicheWithIcon] Valid nicheData:",l),console.log("[renderNicheWithIcon] All available niches:",t);const c=l.map(d=>d.text).filter(d=>d&&d.trim()!=="");return console.log("[renderNicheWithIcon] Site niche texts:",c),o.jsx("div",{style:{display:"flex",gap:8,flexWrap:"nowrap",width:"max-content"},children:t.map((d,u)=>{const h=c.includes(d.text),f=d.icon?VU[d.icon]:null;return f?o.jsx(yte,{text:o.jsx("span",{style:{color:"#fff"},children:h?`Aceita contedos relacionados a ${d.text}`:`No aceita contedos relacionados a ${d.text}`}),children:o.jsx("div",{className:`inline-flex items-center justify-center w-[19px] h-[19px] rounded-full transition-all cursor-help ${h?"bg-brand-100 dark:bg-brand-900/50 text-brand-600 dark:text-brand-400 ring-2 ring-brand-500/30":"bg-gray-100 dark:bg-gray-800 text-gray-300 dark:text-gray-600"}`,children:o.jsx(f,{className:"w-[11px] h-[11px]"})})},`${d.text}-${u}`):null})})}catch(i){return console.error("[renderNicheWithIcon] Error rendering niche:",i),o.jsx("span",{children:"-"})}};return o.jsx(e,{})}function o0(r,e,t=!1){if(r==null)return"-";if(e==="button_buy")return null;if(e==="url")return kte(r);if(e==="brand")return Cte(r);if(e==="niche")return u8(r);if(e==="country"&&typeof r=="object")return jte(r,t);if(e==="niche")return u8(r);switch(e){case"file":return Array.isArray(r)?`${r.length} arquivo(s)`:"1 arquivo";case"checkbox":case"multiselect":return Array.isArray(r)?o.jsx("div",{className:"flex flex-wrap gap-1",children:r.map((a,s)=>o.jsx("span",{className:"inline-flex rounded-full bg-brand-50 px-2 py-0.5 text-theme-2xs xl:text-theme-xs font-medium text-brand-500 dark:bg-brand-500/15 dark:text-brand-400",children:a},s))}):r;case"toggle":return r?"Sim":"No";case"product":try{const a=typeof r=="string"?JSON.parse(r):r;let s=null;if(a.promotional_price){const i=parseFloat(a.promotional_price);!isNaN(i)&&i>0&&(s=i)}if(s===null&&a.price){const i=parseFloat(a.price);isNaN(i)||(s=i)}if(s!==null)return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s)}catch(a){console.error("Error formatting price:",a);const s=parseFloat(r);if(!isNaN(s))return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s)}return r.toString();case"commission":const n=parseFloat(r);return isNaN(n)?r:`${n}%`;case"brazilian_states":if(typeof r=="object"){const{state_name:a,city_names:s,state:i,cities:l}=r;return Array.isArray(s)&&s.length>0?o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-[13px]",children:[a," - ",s.join(", ")]}):Array.isArray(l)&&l.length>0?o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-[13px]",children:[a," - ",l.join(", ")]}):o.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-[13px]",children:a||i||"-"})}return r.toString();default:return r.toString()}}function l0(r){if(typeof r=="number")return r;const e=String(r).replace(/[^\d,\.]/g,"").replace(",",".");return parseFloat(e)||0}function _te(r){if(!r||r===""||r===null||r===void 0)return!1;const e=l0(r);return!isNaN(e)&&e>0}function dL(r){try{if(typeof r=="string")return l0(r);if(typeof r=="object"&&r){if(r.promotional_price&&_te(r.promotional_price))return l0(r.promotional_price);if(r.price)return l0(r.price)}return 0}catch(e){return console.error("Error calculating product price:",e),0}}function uL(r,e){if(!e||!r.values)return 0;try{const t=r.values[e.id];return dL(t)}catch(t){return console.error("Error extracting product price:",t),0}}function Nte({selectedCount:r,onClear:e,selectedEntries:t,productNameField:n,productPriceField:a,productUrlField:s,entries:i}){const{addItem:l}=fd(),[c,d]=w.useState(!1),[u,h]=w.useState(!1),f=async()=>{d(!0);try{const m=i.filter(v=>t.includes(v.id));for(const v of m){const x=n?v.values[n.id]:"Product";let b=s?v.values[s.id]:"";const y=uL(v,a);console.log("[BulkSelectionBar] Dados enviados para addItem:",{entryId:v.id,productName:x,productPrice:y,quantity:1,image:void 0,productUrl:b}),await l(v.id,x,y,1,void 0,b)}const g=m.length===1?"item":"itens";ki(`${m.length} ${g} adicionados ao carrinho!`,"success"),e()}catch(m){console.error("Error adding items to cart:",m),ki("Erro ao adicionar itens ao carrinho","error")}finally{d(!1)}},p=async()=>{h(!0);try{const{data:{user:m}}=await K.auth.getUser();if(!m){alert("Voc precisa estar logado para adicionar aos favoritos");return}const g=t.map(x=>({user_id:m.id,entry_id:x})),{error:v}=await K.from("user_favorites").upsert(g,{onConflict:"user_id,entry_id"});if(v)throw v;e()}catch(m){console.error("Error adding to favorites:",m)}finally{h(!1)}};return o.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-10 w-full max-w-3xl",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-3 flex items-center",children:[o.jsxs("div",{className:"text-gray-700 dark:text-gray-300",children:["Selecionado ",o.jsx("strong",{children:r})," Produtos"]}),o.jsx("button",{type:"button",className:"ml-4 px-3 py-1 text-sm font-medium text-gray-700 dark:text-gray-300 bg-transparent border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onClick:e,children:o.jsx("span",{children:"Limpar"})}),o.jsx("button",{type:"button",className:"ml-2 px-3 py-1 text-sm font-medium text-gray-700 dark:text-gray-300 bg-transparent border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onClick:p,disabled:u,children:o.jsx("span",{children:u?"Adicionando...":"Favorito"})}),o.jsx("div",{className:"flex-1"}),o.jsx(at,{onClick:f,disabled:c,size:"sm",children:c?"Adicionando...":"Adicionar ao Carrinho"})]})})}function Ete({value:r,fieldType:e}){const t=c=>c>=80?{letter:"A",bgColor:"#9EF2C9",textColor:"#007C65"}:c>=60?{letter:"B",bgColor:"#C4E5FE",textColor:"#006DCA"}:c>=40?{letter:"C",bgColor:"#EDD9FF",textColor:"#8649E1"}:c>=20?{letter:"D",bgColor:"#FCE081",textColor:"#A75800"}:{letter:"F",bgColor:"#f9b4b4",textColor:"#b84f53"};if(!["moz_da","semrush_as","ahrefs_dr"].includes(e))return null;const a=parseInt(r.toString().replace(/,/g,""));if(isNaN(a)||a<0||a>100)return null;const{letter:s,bgColor:i,textColor:l}=t(a);return o.jsx("div",{className:"inline-flex items-center justify-center w-5 h-5 rounded-sm font-bold ml-2",style:{backgroundColor:i,color:l,fontSize:"13px"},title:`Score ${s}`,children:s})}function Ate(r={}){const e=vte(),{tableLoaded:t=!0,entriesCount:n=0}=r;return w.useEffect(()=>{if(t&&n>0){const a=setTimeout(()=>{e.updatePosition()},150);return()=>clearTimeout(a)}},[t,n,e.updatePosition]),w.useEffect(()=>{const a=new MutationObserver(i=>{i.some(c=>c.type==="childList"&&c.target instanceof HTMLElement&&(c.target.tagName==="TBODY"||c.target.tagName==="THEAD"||c.target.closest("table.marketplace-table")))&&setTimeout(()=>{e.updatePosition()},50)}),s=document.querySelector("table.marketplace-table");return s&&a.observe(s,{childList:!0,subtree:!0}),()=>a.disconnect()},[e.updatePosition]),e}const h8=({text:r,className:e="",children:t,tableLoaded:n,entriesCount:a})=>{const{placement:s,alignX:i,triggerRef:l,tooltipRef:c}=Ate({tableLoaded:n,entriesCount:a});let d="";return i==="left"?d="left-0 -translate-x-0":i==="right"?d="right-0 translate-x-0":d="left-1/2 -translate-x-1/2",o.jsxs("div",{className:`group relative ${e}`,ref:l,children:[t||o.jsx("svg",{className:"w-3 h-3 text-gray-400 dark:text-gray-500 cursor-help",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{ref:c,className:`absolute ${d} w-auto px-3 py-2 bg-gray-900 text-white !text-white text-[13px] rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 ${s==="top"?"bottom-full mb-2":"top-full mt-2"}`,style:{color:"#fff",width:"max-content"},children:[o.jsx("span",{className:"block",style:{color:"#fff"},children:r}),s==="top"?o.jsx("div",{className:`absolute top-full ${i==="center"?"left-1/2 -translate-x-1/2":i==="left"?"left-4":"right-4"} border-4 border-transparent border-t-gray-900`}):o.jsx("div",{className:`absolute bottom-full ${i==="center"?"left-1/2 -translate-x-1/2":i==="left"?"left-4":"right-4"} border-4 border-transparent border-b-gray-900`})]})]})},Pte=(r={})=>{const{entriesCount:e,checkInterval:t=100}=r,[n,a]=w.useState(!1),[s,i]=w.useState(0);return w.useEffect(()=>{const l=()=>{const u=document.querySelector('[class*="marketplace"]');if(!u)return!1;const f=u.querySelectorAll("tbody tr, .table-row").length;return i(f),e&&e>0?f>=e:f>0},c=setInterval(()=>{l()&&(a(!0),clearInterval(c))},t),d=setTimeout(()=>{clearInterval(c),a(!0)},5e3);return()=>{clearInterval(c),clearTimeout(d)}},[e,t]),{tableLoaded:n,actualEntriesCount:s}};function Lte({isOpen:r,onClose:e,entry:t,fields:n,productNameField:a}){const[s,i]=w.useState(r),[l,c]=w.useState(t),[d,u]=w.useState(r);if(w.useEffect(()=>{if(r&&t)i(!0),c(t),setTimeout(()=>u(!0),10);else if(!r&&s){const g=setTimeout(()=>i(!1),300);return u(!1),()=>clearTimeout(g)}},[r,t]),!s)return null;const h=l;if(!h)return null;const f=["url","site_url","categories","category","product","button_buy"],p=n.filter(g=>!f.includes(g.field_type)),m=a?h.values[a.id]||"Produto":"Detalhes do Produto";return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`fixed inset-0 z-[999999] bg-black transition-opacity duration-300 ${r?"bg-opacity-50 visible":"bg-opacity-0 invisible"}`,onClick:e}),o.jsx("div",{className:`fixed top-0 right-0 h-full w-full sm:w-96 max-w-md bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800 shadow-2xl z-[999999] transform transition-transform duration-300 ease-in-out ${d?"translate-x-0":"translate-x-full"}`,children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white",children:m}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors hover:rotate-90 transition-transform duration-200",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"space-y-4",children:[p.map(g=>{const x=(g.form_field_settings||{}).marketplace_label||g.label,b=h.values[g.id];return b==null||b===""?null:o.jsxs("div",{className:"space-y-1",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:x}),o.jsx("div",{className:"text-gray-800 dark:text-white text-sm",children:o0(b,g.field_type,!0)})]},g.id)}),p.length===0&&o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma informao adicional disponvel"})})]})})]})})]})}function Dte(r,e="desc"){const[t,n]=w.useState({field:null,direction:e}),a=w.useCallback(l=>{n(c=>c.field===l?{field:l,direction:c.direction==="asc"?"desc":"asc"}:{field:l,direction:"desc"})},[]),s=w.useCallback((l,c)=>{n({field:l,direction:c})},[]),i=w.useCallback(()=>{n({field:null,direction:"desc"})},[]);return{sortState:t,handleSort:a,setSorting:s,clearSorting:i}}function f8(r,e){const t=r.values[e.id];if(e.field_type==="product")try{return dL(t)}catch(n){return console.error(`Error extracting price for sorting from field ${e.id}:`,n),0}return t}function Tte(r,e,t){if(r==null&&e==null)return 0;if(r==null)return t==="asc"?-1:1;if(e==null)return t==="asc"?1:-1;const n=Number(r),a=Number(e),s=!isNaN(n)&&isFinite(n),i=!isNaN(a)&&isFinite(a);if(s&&i){const u=n-a;return t==="asc"?u:-u}if(s&&!i)return t==="asc"?-1:1;if(!s&&i)return t==="asc"?1:-1;const l=String(r).toLowerCase(),c=String(e).toLowerCase(),d=l.localeCompare(c,"pt-BR",{numeric:!0,sensitivity:"base"});return t==="asc"?d:-d}function Rte(r,e,t){return[...r].sort((n,a)=>{const s=f8(n,e),i=f8(a,e);return Tte(s,i,t)})}function Mte({formId:r}){var et,Ee;const{items:e}=fd(),[t,n]=w.useState(!0),[a,s]=w.useState(""),[i,l]=w.useState([]),[c,d]=w.useState([]),[u,h]=w.useState([]),[f,p]=w.useState([]),[m,g]=w.useState(""),[v,x]=w.useState(10),[b,y]=w.useState(1),[C,S]=w.useState(!1),[_,E]=w.useState(null),[A,T]=w.useState(!1),{sortState:F,handleSort:L}=Dte(),{tableLoaded:D}=Pte({entriesCount:i.length}),O=Math.ceil(c.length/v);b>O&&O>0&&y(O);const I=ee=>{E(ee),S(!0)},B=()=>{S(!1),E(null)};w.useEffect(()=>{z()},[r]),w.useEffect(()=>{const ee=()=>{T(document.documentElement.classList.contains("dark"))};ee();const Ve=new MutationObserver(ee);return Ve.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>Ve.disconnect()},[]),w.useEffect(()=>{let ee=[...i];if(m){const Ve=m.toLowerCase();ee=ee.filter(Ue=>Object.entries(Ue.values).some(([ke,Ce])=>{const ze=u.find(Ge=>Ge.id===ke);return ze&&["text","textarea","email","url"].includes(ze.field_type)?String(Ce).toLowerCase().includes(Ve):!1}))}if(F.field){const Ve=u.find(Ue=>Ue.id===F.field);Ve&&(ee=Rte(ee,Ve,F.direction))}d(ee)},[i,m,F.field,F.direction,u]);async function z(){try{n(!0),s("");const{data:ee,error:Ve}=await K.from("form_fields").select(`
          *,
          form_field_settings (*)
        `).eq("form_id",r).order("position",{ascending:!0});if(Ve)throw Ve;const Ue=ee.find(dt=>{var De;return((De=dt.form_field_settings)==null?void 0:De.sort_by_field)===!0});Ue&&!F.field&&setTimeout(()=>{L(Ue.id)},0);const ke=ee.filter(dt=>{const De=dt.form_field_settings;return!((De==null?void 0:De.visibility)==="hidden"||(De==null?void 0:De.visibility)==="admin")});h(ke);const{data:Ce,error:ze}=await K.from("form_entries").select(`
          id,
          created_at,
          status,
          form_entry_values (
            field_id,
            value,
            value_json
          )
        `).eq("form_id",r).eq("status","verificado");if(ze)throw ze;const Ge=(Ce||[]).map(dt=>{const De={};return dt.form_entry_values.forEach(Fe=>{if(Fe.value_json!==null)De[Fe.field_id]=Fe.value_json;else try{const it=JSON.parse(Fe.value);it&&typeof it=="object"?(it.price||it.promotional_price,De[Fe.field_id]=it):De[Fe.field_id]=Fe.value}catch{De[Fe.field_id]=Fe.value}}),{id:dt.id,created_at:dt.created_at,status:dt.status,values:De}});l(Ge)}catch(ee){console.error("Error loading marketplace data:",ee),s("Error loading marketplace data")}finally{n(!1)}}const V=(ee,Ve)=>{Ve.stopPropagation(),p(Ue=>Ue.includes(ee)?Ue.filter(ke=>ke!==ee):[...Ue,ee])},W=ee=>{ee.stopPropagation(),f.length===c.length&&c.length>0?p([]):p(c.map(Ve=>Ve.id))},Y=()=>{p([])},G=ee=>{g(ee.target.value)},q=ee=>{x(parseInt(ee.target.value)),y(1)},M=u.find(ee=>{var Ve;return((Ve=ee.form_field_settings)==null?void 0:Ve.is_product_name)===!0}),U=u.find(ee=>{var Ve;return((Ve=ee.form_field_settings)==null?void 0:Ve.is_site_url)===!0}),$=u.find(ee=>ee.field_type==="product"),X=u.find(ee=>ee.field_type==="commission"),Q=u.find(ee=>{var Ve;return ee.field_type==="button_buy"&&((Ve=ee.form_field_settings)==null?void 0:Ve.position_last_column)===!0}),se=Q?u.filter(ee=>ee.id!==Q.id):u,le=se.find(ee=>ee.field_type==="url"||ee.field_type==="site_url"),ue=se.find(ee=>ee.field_type==="categories"||ee.field_type==="category"),ye=se.find(ee=>ee.field_type==="product"),Ne=[le,ue,ye].filter(Boolean);if(t)return o.jsx(dte,{});if(a)return o.jsx("div",{className:"p-4 text-center text-error-500",children:a});if(i.length===0)return o.jsx(ute,{message:"Nenhum produto encontrado"});const Le=c.slice((b-1)*v,b*v),Ie=(ee,Ve)=>{if(ee==null)return"-";const Ue=parseInt(ee.toString().replace(/,/g,""));return o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{children:ee}),!isNaN(Ue)&&["moz_da","semrush_as","ahrefs_dr"].includes(Ve)&&o.jsx(Ete,{value:Ue,fieldType:Ve})]})};return o.jsxs("div",{className:"w-full relative overflow-hidden",children:[f.length>0&&o.jsx(Nte,{selectedCount:f.length,onClear:Y,selectedEntries:f,productNameField:M,productPriceField:$,productUrlField:U,entries:i}),o.jsxs("div",{className:"w-full bg-white dark:bg-white/[0.03] overflow-hidden",children:[o.jsxs("div",{className:"w-full flex flex-col gap-2 px-4 py-4 border-b border-gray-100 dark:border-white/[0.05] rounded-t-xl sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-[13px]",children:"Mostrar"}),o.jsxs("div",{className:"relative z-20 bg-transparent",children:[o.jsxs("select",{className:"w-full py-2 pl-3 pr-8 text-[13px] text-gray-800 bg-transparent border border-gray-300 rounded-lg appearance-none dark:bg-dark-900 h-9 bg-none shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",value:v,onChange:q,children:[o.jsx("option",{value:"10",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"10"}),o.jsx("option",{value:"25",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"25"}),o.jsx("option",{value:"50",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"50"}),o.jsx("option",{value:"100",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"100"})]}),o.jsx("span",{className:"absolute z-30 text-gray-500 -translate-y-1/2 right-2 top-1/2 dark:text-gray-400",children:o.jsx("svg",{className:"stroke-current",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M3.8335 5.9165L8.00016 10.0832L12.1668 5.9165",stroke:"",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),o.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-[13px]",children:"entradas"})]}),o.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("button",{className:"absolute text-gray-500 -translate-y-1/2 left-4 top-1/2 dark:text-gray-400",children:o.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.04199 9.37363C3.04199 5.87693 5.87735 3.04199 9.37533 3.04199C12.8733 3.04199 15.7087 5.87693 15.7087 9.37363C15.7087 12.8703 12.8733 15.7053 9.37533 15.7053C5.87735 15.7053 3.04199 12.8703 3.04199 9.37363ZM9.37533 1.54199C5.04926 1.54199 1.54199 5.04817 1.54199 9.37363C1.54199 13.6991 5.04926 17.2053 9.37533 17.2053C11.2676 17.2053 13.0032 16.5344 14.3572 15.4176L17.1773 18.238C17.4702 18.5309 17.945 18.5309 18.2379 18.238C18.5308 17.9451 18.5309 17.4703 18.238 17.1773L15.4182 14.3573C16.5367 13.0033 17.2087 11.2669 17.2087 9.37363C17.2087 5.04817 13.7014 1.54199 9.37533 1.54199Z",fill:""})})}),o.jsx("input",{placeholder:"Pesquisar...",className:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent py-2.5 pl-12 pr-4 text-[13px] text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 xl:w-[300px]",type:"text",value:m,onChange:G})]})})]}),o.jsxs("div",{className:"w-full overflow-x-auto overflow-y-hidden custom-scrollbar",style:{maxWidth:"100%",overflowY:"hidden"},children:["            ",o.jsxs("table",{className:"marketplace-table w-full divide-y divide-gray-200 dark:divide-gray-800",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"w-10 text-left text-[13px] font-semibold text-gray-900 dark:text-white",children:o.jsx("div",{className:"flex items-center justify-start",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"checkbox",id:"selectAll",className:"sr-only",checked:f.length===c.length&&c.length>0,onChange:W}),o.jsx("label",{htmlFor:"selectAll",className:`flex h-5 w-5 cursor-pointer items-center justify-center rounded-md border-[1.25px] hover:border-brand-500 dark:hover:border-brand-500 ${f.length===c.length&&c.length>0?"border-brand-500 bg-brand-500":"bg-transparent border-gray-300 dark:border-gray-700"}`,children:o.jsx("span",{className:f.length===c.length&&c.length>0?"":"opacity-0",children:o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M11.6666 3.5L5.24992 9.91667L2.33325 7",stroke:"white",strokeWidth:"1.94437",strokeLinecap:"round",strokeLinejoin:"round"})})})})]})})}),o.jsx("div",{className:"xl:hidden contents",children:Ne.map(ee=>{if(!ee)return null;const Ue=(ee.form_field_settings||{}).marketplace_label||ee.label;return o.jsx("th",{scope:"col",className:"text-left text-[13px] font-semibold text-gray-900 dark:text-white cursor-pointer",children:o.jsx("span",{children:Ue})},ee.id)})}),o.jsx("div",{className:"hidden xl:contents",children:se.map(ee=>{const Ve=ee.form_field_settings||{},Ue=Ve.marketplace_label||ee.label,ke=cte(ee);let Ce="",ze=!0;const Ge=Ve.helptext||Ve.help_text||ee.helptext||ee.help_text;if(typeof Ge=="string"&&Ge.trim()!=="")Ce=Ge;else switch(ee.field_type){case"brand":Ce="Artigo Patrocinado: ser em forma de publicidade.";break;case"niche":break;case"country":Ce="Pas: Pas de origem ou audincia.";break;case"moz_da":Ce="DA: Pontuao de autoridade do domnio (Moz).";break;case"ahrefs_traffic":case"similarweb_traffic":case"google_traffic":case"semrush_as":Ce="Trfego: Nmero estimado de visitantes.";break;case"categories":case"category":Ce="Categorias: Tpicos principais do site.";break;case"links":Ce="Quantidade de Links: Nmero de links (internos ou externos).";break;case"product":Ce="Preo do Artigo: Custo para publicar um artigo.";break;case"site_url":case"url":ze=!1;break;case"toggle":Ce="Artigo Patrocinado: ser em forma de publicidade.";break;default:Ue&&Ue.toLowerCase().includes("site")||Ue&&Ue.toLowerCase().includes("comprar")?ze=!1:Ue&&Ue.toLowerCase().includes("categoria")?Ce="Categorias: Tpicos principais do site.":Ue&&Ue.toLowerCase().includes("marca")?Ce="Artigo Patrocinado: ser em forma de publicidade.":Ue&&Ue.toLowerCase().includes("link")&&(Ce="Quantidade de Links: Nmero de links (internos ou externos).");break}if(ze&&(!Ce||Ce.trim()===""))switch(ee.field_type){case"brand":Ce="Artigo Patrocinado: ser em forma de publicidade.";break;case"country":Ce="Pas: Pas de origem ou audincia.";break;case"moz_da":Ce="DA: Pontuao de autoridade do domnio (Moz).";break;case"ahrefs_traffic":case"similarweb_traffic":case"google_traffic":case"semrush_as":Ce="Trfego: Nmero estimado de visitantes.";break;case"categories":case"category":Ce="Categorias: Tpicos principais do site.";break;case"links":Ce="Quantidade de Links: Nmero de links (internos ou externos).";break;case"product":Ce="Preo do Artigo: Custo para publicar um artigo.";break;case"toggle":Ce="Artigo Patrocinado: ser em forma de publicidade.";break}return o.jsx("th",{scope:"col",className:`text-left text-[13px] font-semibold text-gray-900 dark:text-white ${ke?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700":""}`,onClick:ke?()=>L(ee.id):void 0,children:o.jsx("div",{className:"flex items-center justify-start gap-2",children:o.jsxs("div",{className:"flex items-center justify-start",children:[o.jsx("div",{className:"flex items-center gap-1",children:ee.field_type==="niche"?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{children:Ue}),o.jsx(h8,{text:"O Site recusar ofertas para artigos relacionados a nichos diferentes dos itens destacados nesta coluna.",tableLoaded:D,entriesCount:i.length})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:Ue}),ze&&o.jsx(h8,{text:Ce,tableLoaded:D,entriesCount:i.length})]})}),ke&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:`
                                  ${F.field===ee.id&&F.direction==="asc"?"fill-brand-500 dark:fill-brand-400":"fill-gray-300 dark:fill-gray-700"}
                                `,width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:`
                                  ${F.field===ee.id&&F.direction==="desc"?"fill-brand-500 dark:fill-brand-400":"fill-gray-300 dark:fill-gray-700"}
                                `,width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})},ee.id)})}),o.jsx("div",{className:"xl:hidden contents",children:Q&&o.jsx("th",{scope:"col",className:"text-left text-[13px] font-semibold text-gray-900 dark:text-white",children:o.jsx("span",{children:((et=Q.form_field_settings)==null?void 0:et.marketplace_label)||Q.label})})}),o.jsx("div",{className:"hidden xl:contents",children:Q&&o.jsx("th",{scope:"col",className:"sticky right-0 z-10 bg-gray-50 dark:bg-gray-800 text-left text-[13px] font-semibold text-gray-900 dark:text-white",style:{boxShadow:"-4px 0 8px rgba(0, 0, 0, 0.1)"},children:o.jsx("span",{children:((Ee=Q.form_field_settings)==null?void 0:Ee.marketplace_label)||Q.label})})})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-800 dark:bg-gray-900",children:Le.map(ee=>{var Ge,dt,De,Fe,it,vt;const Ve=M?ee.values[M.id]:"Product";let Ue=U?ee.values[U.id]:"";const ke=uL(ee,$),Ce=e.some(tt=>tt.entry_id===ee.id),ze=`checkbox-${ee.id}`;return o.jsxs("tr",{className:`cursor-pointer xl:cursor-auto ${f.includes(ee.id)?"bg-brand-50 dark:bg-brand-900/10":""}`,onClick:tt=>{window.innerWidth<1280&&(tt.target.closest("input, label")||I(ee))},children:[o.jsx("td",{className:"whitespace-nowrap text-[13px]",children:o.jsx("div",{className:"flex items-center justify-start",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"checkbox",id:ze,className:"sr-only",checked:f.includes(ee.id),onChange:tt=>V(ee.id,tt)}),o.jsx("label",{htmlFor:ze,className:`flex h-5 w-5 cursor-pointer items-center justify-center rounded-md border-[1.25px] hover:border-brand-500 dark:hover:border-brand-500 ${f.includes(ee.id)?"border-brand-500 bg-brand-500":"bg-transparent border-gray-300 dark:border-gray-700"}`,children:o.jsx("span",{className:f.includes(ee.id)?"":"opacity-0",children:o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M11.6666 3.5L5.24992 9.91667L2.33325 7",stroke:"white",strokeWidth:"1.94437",strokeLinecap:"round",strokeLinejoin:"round"})})})})]})})}),o.jsx("div",{className:"xl:hidden contents",children:Ne.map(tt=>tt?o.jsx("td",{className:"text-[13px] text-gray-700 dark:text-gray-300 xl:whitespace-nowrap",children:o.jsx("div",{className:"flex items-center justify-start",children:(()=>{const je=ee.values[tt.id];if(tt.field_type==="product"){const ve=X&&parseFloat(ee.values[X.id])||0;return o.jsx(w5,{commission:ve,productData:je,layout:"inline",showMarginBelow:!1,showOriginalPrice:!0})}return o0(je,tt.field_type,!0)})()})},tt.id):null)}),o.jsx("div",{className:"hidden xl:contents",children:se.map(tt=>["moz_da","semrush_as","ahrefs_dr"].includes(tt.field_type)?o.jsx("td",{className:"whitespace-nowrap text-[13px] text-gray-700 dark:text-gray-300",children:o.jsx("div",{className:"flex items-center justify-start",children:Ie(ee.values[tt.id],tt.field_type)})},tt.id):tt.field_type==="niche"?o.jsx("td",{className:"whitespace-nowrap text-[13px] text-gray-700 dark:text-gray-300",children:o.jsx("div",{className:"flex items-center justify-start",children:o0(ee.values[tt.id],tt.field_type,!0)})},tt.id):o.jsx("td",{className:"whitespace-nowrap text-[13px] text-gray-700 dark:text-gray-300",children:o.jsx("div",{className:"flex items-center justify-start",children:(()=>{const je=ee.values[tt.id];if(tt.field_type==="product"){const ve=X&&parseFloat(ee.values[X.id])||0;return o.jsx(w5,{commission:ve,productData:je,layout:"inline",showMarginBelow:!1,showOriginalPrice:!0})}return o0(je,tt.field_type,!0)})()})},tt.id))}),o.jsx("div",{className:"xl:hidden contents",children:Q&&o.jsx("td",{className:"text-[13px] xl:whitespace-nowrap",children:o.jsx("div",{className:"flex items-center justify-start",children:o.jsx(c8,{entryId:ee.id,productName:Ve,price:ke,url:Ue,buttonStyle:((Ge=Q.form_field_settings)==null?void 0:Ge.button_style)||"primary",buttonText:(dt=Q.form_field_settings)!=null&&dt.custom_button_text?(De=Q.form_field_settings)==null?void 0:De.button_text:Q.label,isInCart:Ce})})})}),o.jsx("div",{className:"hidden xl:contents",children:Q&&o.jsx("td",{className:"sticky right-0 z-10 whitespace-nowrap text-[13px]",style:{backgroundColor:A?"rgb(17, 24, 39)":"rgb(252, 252, 253)",boxShadow:"-4px 0 8px rgba(0, 0, 0, 0.1)"},children:o.jsx("div",{className:"flex items-center justify-start",children:o.jsx(c8,{entryId:ee.id,productName:Ve,price:ke,url:Ue,buttonStyle:((Fe=Q.form_field_settings)==null?void 0:Fe.button_style)||"primary",buttonText:(it=Q.form_field_settings)!=null&&it.custom_button_text?(vt=Q.form_field_settings)==null?void 0:vt.button_text:Q.label,isInCart:Ce})})})})]},ee.id)})})]})]}),O>1&&o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-200 dark:border-gray-800 sm:px-6",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("p",{className:"text-[13px] text-gray-700 dark:text-gray-300",children:["Showing"," ",o.jsx("span",{className:"font-medium",children:(b-1)*v+1})," ","to"," ",o.jsx("span",{className:"font-medium",children:Math.min(b*v,c.length)})," ","of ",o.jsx("span",{className:"font-medium",children:c.length})," ","results"]})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>y(ee=>Math.max(ee-1,1)),disabled:b===1,className:"relative inline-flex items-center px-4 py-2 text-theme-2xs xl:text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700",children:"Anterior"}),o.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:O},(ee,Ve)=>Ve+1).map(ee=>o.jsx("button",{onClick:()=>y(ee),className:`relative inline-flex items-center px-4 py-2 text-theme-2xs xl:text-sm font-medium rounded-md ${b===ee?"bg-brand-500 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:ee},ee))}),o.jsx("button",{onClick:()=>y(ee=>Math.min(ee+1,O)),disabled:b===O,className:"relative inline-flex items-center px-4 py-2 text-theme-2xs xl:text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700",children:"Next"})]})]})]}),o.jsx(Lte,{isOpen:C,onClose:B,entry:_,fields:se,productNameField:M})]})}function Ite({formId:r}){const[e,t]=w.useState(!0),[n,a]=w.useState(""),[s,i]=w.useState(!1);w.useEffect(()=>{l()},[r]);async function l(){try{t(!0),a("");const{data:c,error:d}=await K.from("forms").select("id").eq("id",r).eq("status","published").single();if(d)throw d;i(!!c)}catch(c){console.error("Error checking form:",c),a("Error loading marketplace data")}finally{t(!1)}}return e?null:n?o.jsx("div",{className:"p-4 text-center text-error-500",children:n}):s?o.jsx("div",{className:"w-full xl:-mx-6",children:o.jsx("div",{className:"w-full xl:overflow-x-auto xl:px-6",children:o.jsx(Mte,{formId:r})})}):o.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"Formulrio no encontrado ou no est publicado"})}function Ote(){const{slug:r}=zo(),e=mr(),[t,n]=w.useState(null),[a,s]=w.useState(!0),[i,l]=w.useState("");w.useEffect(()=>{c()},[r]);async function c(){try{s(!0),l("");const{data:u,error:h}=await K.from("pages").select("*").eq("slug",r).eq("status","published").single();if(h)throw h;if(!u){e("/404");return}n(u)}catch(u){console.error("Error loading page:",u),l("Error loading page"),e("/404")}finally{s(!1)}}const d=u=>{const h=[];let f=0;const p=/\[(form|form_entries|user_form_entries|marketplace)\s+id="([^"]+)"\]/g;let m;for(;(m=p.exec(u))!==null;){m.index>f&&h.push(o.jsx("div",{dangerouslySetInnerHTML:{__html:u.slice(f,m.index)}},`text-${m.index}`));const[g,v,x]=m;v==="form"?h.push(o.jsx("div",{className:"w-full my-8",children:o.jsx(sL,{formId:x})},`form-${x}`)):v==="form_entries"?h.push(o.jsx("div",{className:"w-full my-8",children:o.jsx(rte,{formId:x})},`entries-${x}`)):v==="user_form_entries"?h.push(o.jsx("div",{className:"w-full my-8",children:o.jsx(lte,{formId:x})},`user-entries-${x}`)):v==="marketplace"&&h.push(o.jsx("div",{className:"w-full my-8",children:o.jsx(Ite,{formId:x})},`marketplace-${x}`)),f=m.index+m[0].length}return f<u.length&&h.push(o.jsx("div",{dangerouslySetInnerHTML:{__html:u.slice(f)}},"text-end")),h};return a?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):i||!t?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-error-500",children:i||"Page not found"})}):o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:t.meta_title||t.title,description:t.meta_description||`View ${t.title} page`}),o.jsxs("div",{className:"w-full rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03] overflow-hidden",children:[o.jsx("h1",{className:"mb-6 text-2xl font-semibold text-gray-800 dark:text-white/90",children:t.title}),o.jsx("div",{className:`w-full prose max-w-none dark:prose-invert \r
                     prose-headings:text-gray-800\r
                     prose-p:text-gray-600\r
                     prose-strong:text-gray-800\r
                     prose-a:text-brand-600\r
                     prose-li:text-gray-600\r
                     prose-blockquote:text-gray-600\r
                     [&>div]:text-gray-600\r
                     [&_p]:text-gray-600\r
                     [&_h1]:text-gray-800\r
                     [&_h2]:text-gray-800\r
                     [&_h3]:text-gray-800\r
                     [&_h4]:text-gray-800\r
                     [&_h5]:text-gray-800\r
                     [&_h6]:text-gray-800\r
                     [&_div_p]:text-gray-600\r
                     [&_*[style*='color']]:text-gray-600\r
                     dynamic-content\r
                     overflow-hidden`,children:d(t.content)})]})]})}function Fte(){const r=mr(),[e,t]=w.useState([]),[n,a]=w.useState(!0),[s,i]=w.useState(""),[l,c]=w.useState("");w.useEffect(()=>{d()},[]);async function d(){try{a(!0),i("");const{data:m,error:g}=await K.from("menu_items").select("*").order("position",{ascending:!0});if(g)throw g;t(m||[])}catch(m){console.error("Error loading menu items:",m),i("Erro ao carregar lista de itens do menu")}finally{a(!1)}}const u=()=>{r("/menu-dash/new")},h=m=>{r(`/menu-dash/edit/${m.id}`)},f=async m=>{if(confirm("Are you sure you want to delete this item? This action cannot be undone."))try{a(!0),i(""),c("");const{error:g}=await K.from("menu_items").delete().eq("id",m);if(g)throw g;c("Item deleted successfully"),await d()}catch(g){console.error("Error deleting item:",g),i("Error deleting item")}finally{a(!1)}},p=m=>new Date(m).toLocaleString("en-US",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return n&&!e.length?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):o.jsxs(md,{permission:"menu.view",fallback:o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-error-500",children:"Access not authorized"})}),children:[o.jsx(Yt,{title:"Menu Dashboard | Admin Panel",description:"Manage dashboard menu"}),o.jsx(kr,{pageTitle:"Menu Dashboard"}),s&&o.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:s}),l&&o.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:l}),o.jsx("div",{className:"mb-6",children:o.jsx(at,{onClick:u,children:"Novo Item"})}),o.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:o.jsx("div",{className:"max-w-full overflow-x-auto",children:o.jsx("div",{className:"min-w-[1102px]",children:o.jsxs(no,{children:[o.jsx(ao,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:o.jsxs(Tr,{children:[o.jsx(rt,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Name"}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Path"}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Position"}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Visible"}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"ltima Atualizao"}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Aes"})]})}),o.jsxs(so,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:[e.map(m=>o.jsxs(Tr,{children:[o.jsxs(rt,{className:"px-5 py-4 sm:px-6 text-start",children:[o.jsx("span",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:m.name}),m.description&&o.jsx("span",{className:"block text-sm text-gray-500 dark:text-gray-400",children:m.description})]}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:m.path||"-"}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:m.position}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:o.jsx(At,{color:m.is_visible?"success":"error",children:m.is_visible?"Yes":"No"})}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:p(m.updated_at)}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>h(m),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Edit",children:o.jsx(Pi,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>f(m.id),className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",title:"Delete",children:o.jsx(rs,{className:"w-5 h-5"})})]})})]},m.id)),e.length===0&&o.jsx(Tr,{children:o.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"Nenhum item encontrado."})})]})]})})})})]})}function p8(){const{id:r}=zo(),e=mr(),[t,n]=w.useState(!1),[a,s]=w.useState(""),[i,l]=w.useState(""),[c,d]=w.useState([]),[u,h]=w.useState([]),[f,p]=w.useState({}),[m,g]=w.useState({name:"",description:"",icon:"",path:"",parent_id:"",position:0,is_visible:!0,visible_to:"all",selectedPage:""}),v=Object.keys(G0).filter(_=>_!=="default").map(_=>({value:_,label:_,icon:ft.createElement(G0[_])}));w.useEffect(()=>{(async()=>{n(!0);try{await Promise.all([x(),b(),r?y(r):Promise.resolve()])}catch(E){console.error("Error initializing data:",E),s("Error loading data")}finally{n(!1)}})()},[r]);async function x(){try{const{data:_,error:E}=await K.from("menu_items").select("*").is("parent_id",null).order("position",{ascending:!0});if(E)throw E;d(_||[])}catch(_){throw console.error("Error loading parent menu items:",_),_}}async function b(){try{const{data:_,error:E}=await K.from("pages").select("id, title, slug").eq("status","published").order("title",{ascending:!0});if(E)throw E;h(_||[])}catch(_){throw console.error("Error loading pages:",_),_}}async function y(_){try{const{data:E,error:A}=await K.from("menu_items").select("*").eq("id",_).single();if(A)throw A;if(E&&(g({name:E.name,description:E.description||"",icon:E.icon||"",path:E.path||"",parent_id:E.parent_id||"",position:E.position,is_visible:E.is_visible,visible_to:E.visible_to||"all",selectedPage:""}),E.path)){const T=E.path.match(/^\/pages\/(.+)$/);if(T){const F=T[1],L=u.find(D=>D.slug===F);L&&g(D=>({...D,selectedPage:L.id}))}}}catch(E){throw console.error("Error loading menu item:",E),E}}const C=()=>{const _={};let E=!0;return m.name.trim()||(_.name="Name is required",E=!1),!m.selectedPage&&m.path&&!m.path.startsWith("/")&&!m.path.startsWith("#")&&(_.path="Path must start with / or #",E=!1),m.position<0&&(_.position="Position must be a positive number",E=!1),p(_),E},S=async _=>{_.preventDefault();try{if(!C())return;n(!0),s(""),l("");let E=m.path;if(m.selectedPage){const F=u.find(L=>L.id===m.selectedPage);F&&(E=`/pages/${F.slug}`)}const{data:{user:A}}=await K.auth.getUser();if(!A)throw new Error("User not authenticated");const T={name:m.name.trim(),description:m.description.trim()||null,icon:m.icon||null,path:E.trim()||null,parent_id:m.parent_id||null,position:m.position,is_visible:m.is_visible,visible_to:m.visible_to,updated_by:A.id};if(r){const{error:F}=await K.from("menu_items").update(T).eq("id",r);if(F)throw F;l("Menu item updated successfully")}else{const{error:F}=await K.from("menu_items").insert([{...T,created_by:A.id}]);if(F)throw F;l("Menu item created successfully")}setTimeout(()=>{e("/menu-dash")},1500)}catch(E){console.error("Error saving menu item:",E),s("Error saving menu item")}finally{n(!1)}};return t?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):o.jsxs(md,{permission:"menu.edit",fallback:o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-error-500",children:"Access not authorized"})}),children:[o.jsx(Yt,{title:`${r?"Edit":"New"} Menu Item | Admin Panel`,description:"Manage dashboard menu items"}),o.jsx(kr,{pageTitle:`${r?"Edit":"New"} Menu Item`}),o.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]",children:[a&&o.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:a}),i&&o.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:i}),o.jsxs("form",{onSubmit:S,className:"max-w-2xl space-y-6",children:[o.jsxs("div",{children:[o.jsxs(Te,{children:["Name ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"text",value:m.name,onChange:_=>g({...m,name:_.target.value}),error:!!f.name,hint:f.name,required:!0})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Description"}),o.jsx(Zi,{value:m.description,onChange:_=>g({...m,description:_}),rows:3})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Icon"}),o.jsx(Jt,{options:[{value:"",label:"None"},...v],value:m.icon,onChange:_=>g({...m,icon:_})})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Link to Page"}),o.jsx(Jt,{options:[{value:"",label:"None (use custom path)"},...u.map(_=>({value:_.id,label:_.title}))],value:m.selectedPage,onChange:_=>g({...m,selectedPage:_,path:_?"":m.path})}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Select an existing page to link to, or leave empty to use a custom path"})]}),!m.selectedPage&&o.jsxs("div",{children:[o.jsx(Te,{children:"Path"}),o.jsx(st,{type:"text",value:m.path,onChange:_=>g({...m,path:_.target.value}),error:!!f.path,hint:f.path,placeholder:"/example/path or #submenu"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Use # to create a submenu group without a direct link"})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Parent Menu Item"}),o.jsx(Jt,{options:[{value:"",label:"None (root item)"},...c.filter(_=>!r||_.id!==r).map(_=>({value:_.id,label:_.name}))],value:m.parent_id,onChange:_=>g({...m,parent_id:_})})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Position ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"number",value:m.position,onChange:_=>g({...m,position:parseInt(_.target.value)}),error:!!f.position,hint:f.position,min:"0",required:!0})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Visibility"}),o.jsx(Jt,{options:[{value:"all",label:"All Users"},{value:"publisher",label:"Publishers Only"},{value:"advertiser",label:"Advertisers Only"}],value:m.visible_to??"",onChange:_=>g({...m,visible_to:_})}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Control which type of users can see this menu item"})]}),o.jsxs("div",{className:"flex gap-4 pt-6",children:[o.jsx(at,{variant:"outline",onClick:()=>e("/menu-dash"),children:"Cancelar"}),o.jsx(at,{disabled:t,children:t?"Salvando...":"Salvar"})]})]})]})]})}function Bte({formId:r}){const[e,t]=w.useState(!1),[n,a]=w.useState(!1),[s,i]=w.useState(!1),[l,c]=w.useState(!1),d=`[form id="${r}"]`,u=`[form_entries id="${r}"]`,h=`[user_form_entries id="${r}"]`,f=`[marketplace id="${r}"]`,p=async(m,g)=>{try{await navigator.clipboard.writeText(m),g==="form"?(t(!0),setTimeout(()=>t(!1),2e3)):g==="entries"?(a(!0),setTimeout(()=>a(!1),2e3)):g==="user_entries"?(i(!0),setTimeout(()=>i(!1),2e3)):g==="marketplace"&&(c(!0),setTimeout(()=>c(!1),2e3))}catch(v){console.error("Failed to copy:",v)}};return o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg font-mono text-sm text-gray-700 dark:text-gray-300",children:d}),o.jsxs(at,{onClick:()=>p(d,"form"),variant:"outline",className:"min-w-[100px]",children:[o.jsx(kl,{className:"w-5 h-5 mr-2"}),e?"Copiado!":"Copiar"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg font-mono text-sm text-gray-700 dark:text-gray-300",children:u}),o.jsxs(at,{onClick:()=>p(u,"entries"),variant:"outline",className:"min-w-[100px]",children:[o.jsx(kl,{className:"w-5 h-5 mr-2"}),n?"Copiado!":"Copiar"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg font-mono text-sm text-gray-700 dark:text-gray-300",children:h}),o.jsxs(at,{onClick:()=>p(h,"user_entries"),variant:"outline",className:"min-w-[100px]",children:[o.jsx(kl,{className:"w-5 h-5 mr-2"}),s?"Copiado!":"Copiar"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg font-mono text-sm text-gray-700 dark:text-gray-300",children:f}),o.jsxs(at,{onClick:()=>p(f,"marketplace"),variant:"outline",className:"min-w-[100px]",children:[o.jsx(kl,{className:"w-5 h-5 mr-2"}),l?"Copiado!":"Copiar"]})]}),o.jsxs("div",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:[o.jsx("p",{children:o.jsx("strong",{children:"Shortcodes:"})}),o.jsxs("ul",{className:"list-disc pl-5 mt-1",children:[o.jsxs("li",{children:[o.jsx("code",{children:'[form id="..."]'})," - Exibe o formulrio para preenchimento"]}),o.jsxs("li",{children:[o.jsx("code",{children:'[form_entries id="..."]'})," - Exibe todas as entradas do formulrio"]}),o.jsxs("li",{children:[o.jsx("code",{children:'[user_form_entries id="..."]'})," - Exibe apenas as entradas enviadas pelo usurio atual"]}),o.jsxs("li",{children:[o.jsx("code",{children:'[marketplace id="..."]'})," - Exibe as entradas verificadas em formato de marketplace"]})]})]})]})}function zte(){const r=mr(),[e,t]=w.useState([]),[n,a]=w.useState(!0),[s,i]=w.useState(""),[l,c]=w.useState(""),[d,u]=w.useState(!1),[h,f]=w.useState({}),[p,m]=w.useState(""),[g,v]=w.useState(null),[x,b]=w.useState(!1);w.useEffect(()=>{y()},[]);async function y(){try{a(!0),i("");const{data:F,error:L}=await K.from("forms").select("*, fields:form_fields(*)").order("created_at",{ascending:!1});if(L)throw L;t(F||[])}catch(F){console.error("Error loading forms:",F),i("Erro ao carregar lista de formulrios")}finally{a(!1)}}const C=()=>{m(""),f({}),u(!0)},S=async F=>{F.preventDefault();try{if(!p.trim()){f({title:"Title is required"});return}a(!0),i(""),c("");const{data:{user:L}}=await K.auth.getUser();if(!L)throw new Error("User not authenticated");const{data:D,error:O}=await K.from("forms").insert([{title:p.trim(),fields:[],validation_rules:{},created_by:L.id}]).select().single();if(O)throw O;if(!D)throw new Error("Formulrio no criado");u(!1),r(`/forms/edit/${D.id}`)}catch(L){console.error("Error creating form:",L),i("Erro ao criar formulrio")}finally{a(!1)}},_=F=>{r(`/forms/edit/${F.id}`)},E=async F=>{if(confirm("Are you sure you want to delete this form? This action cannot be undone."))try{a(!0),i(""),c("");const{error:L}=await K.from("forms").delete().eq("id",F);if(L)throw L;c("Form deleted successfully"),await y()}catch(L){console.error("Error deleting form:",L),i("Error deleting form")}finally{a(!1)}},A=F=>{v(F),b(!0)},T=F=>new Date(F).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return n&&!e.length?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):o.jsxs(md,{permission:"forms.view",fallback:o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-error-500",children:"Access not authorized"})}),children:[o.jsx(Yt,{title:"Forms | Admin Panel",description:"Manage system forms"}),o.jsx(kr,{pageTitle:"Forms"}),s&&o.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:s}),l&&o.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:l}),o.jsx("div",{className:"mb-6",children:o.jsx(at,{onClick:C,children:"Novo Formulrio"})}),o.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:o.jsx("div",{className:"max-w-full overflow-x-auto",children:o.jsx("div",{className:"min-w-[1102px]",children:o.jsxs(no,{children:[o.jsx(ao,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:o.jsxs(Tr,{children:[o.jsx(rt,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Title"}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Fields"}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Status"}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"ltima Atualizao"}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Aes"})]})}),o.jsxs(so,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:[e.map(F=>{var L;return o.jsxs(Tr,{children:[o.jsxs(rt,{className:"px-5 py-4 sm:px-6 text-start",children:[o.jsx("span",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:F.title}),F.description&&o.jsx("span",{className:"block text-sm text-gray-500 dark:text-gray-400",children:F.description}),o.jsx("button",{onClick:()=>A(F),className:"mt-2 text-sm text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Ver Shortcodes"})]}),o.jsxs(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:[((L=F.fields)==null?void 0:L.length)||0," campos"]}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:o.jsx(At,{color:F.status==="published"?"success":F.status==="archived"?"error":"warning",children:F.status==="published"?"Published":F.status==="archived"?"Archived":"Draft"})}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:T(F.updated_at)}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>_(F),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Edit",children:o.jsx(Pi,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>r(`/forms/settings/${F.id}`),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Settings",children:o.jsx(u4,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>E(F.id),className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",title:"Delete",children:o.jsx(rs,{className:"w-5 h-5"})})]})})]},F.id)}),e.length===0&&o.jsx(Tr,{children:o.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"Nenhum registro encontrado."})})]})]})})})}),o.jsx(vs,{isOpen:d,onClose:()=>u(!1),className:"max-w-[500px] m-4",children:o.jsxs("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-xl font-semibold text-gray-800 dark:text-white/90",children:"New Form"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Enter a name for your new form"})]}),o.jsxs("form",{onSubmit:S,children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs(Te,{children:["Form Title ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"text",value:p,onChange:F=>{m(F.target.value),h.title&&f({})},error:!!h.title,hint:h.title,placeholder:"Enter form title",required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(at,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),o.jsx(at,{disabled:n,children:n?"Salvando...":"Salvar"})]})]})]})}),o.jsx(vs,{isOpen:x,onClose:()=>b(!1),className:"max-w-[700px] m-4",children:o.jsxs("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-xl font-semibold text-gray-800 dark:text-white/90",children:"Shortcodes"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Use estes shortcodes para inserir o formulrio ou sua listagem em pginas"})]}),g&&o.jsx(Bte,{formId:g.id}),o.jsx("div",{className:"flex justify-end mt-6",children:o.jsx(at,{variant:"outline",onClick:()=>b(!1),children:"Fechar"})})]})})]})}const hL=w.createContext({dragDropManager:void 0});function Nr(r){"@babel/helpers - typeof";return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(r)}function Bs(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var g8=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),m8=function(){return Math.random().toString(36).substring(7).split("").join(".")},x8={INIT:"@@redux/INIT"+m8(),REPLACE:"@@redux/REPLACE"+m8()};function Hte(r){if(typeof r!="object"||r===null)return!1;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}function fL(r,e,t){var n;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Bs(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Bs(1));return t(fL)(r,e)}if(typeof r!="function")throw new Error(Bs(2));var a=r,s=e,i=[],l=i,c=!1;function d(){l===i&&(l=i.slice())}function u(){if(c)throw new Error(Bs(3));return s}function h(g){if(typeof g!="function")throw new Error(Bs(4));if(c)throw new Error(Bs(5));var v=!0;return d(),l.push(g),function(){if(v){if(c)throw new Error(Bs(6));v=!1,d();var b=l.indexOf(g);l.splice(b,1),i=null}}}function f(g){if(!Hte(g))throw new Error(Bs(7));if(typeof g.type>"u")throw new Error(Bs(8));if(c)throw new Error(Bs(9));try{c=!0,s=a(s,g)}finally{c=!1}for(var v=i=l,x=0;x<v.length;x++){var b=v[x];b()}return g}function p(g){if(typeof g!="function")throw new Error(Bs(10));a=g,f({type:x8.REPLACE})}function m(){var g,v=h;return g={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(Bs(11));function y(){b.next&&b.next(u())}y();var C=v(y);return{unsubscribe:C}}},g[g8]=function(){return this},g}return f({type:x8.INIT}),n={dispatch:f,subscribe:h,getState:u,replaceReducer:p},n[g8]=m,n}function qt(r,e,...t){if(Ute()&&e===void 0)throw new Error("invariant requires an error message argument");if(!r){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;n=new Error(e.replace(/%s/g,function(){return t[a++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function Ute(){return typeof process<"u"&&!0}function Vte(r,e,t){return e.split(".").reduce((n,a)=>n&&n[a]?n[a]:t||null,r)}function $te(r,e){return r.filter(t=>t!==e)}function pL(r){return typeof r=="object"}function Wte(r,e){const t=new Map,n=s=>{t.set(s,t.has(s)?t.get(s)+1:1)};r.forEach(n),e.forEach(n);const a=[];return t.forEach((s,i)=>{s===1&&a.push(i)}),a}function qte(r,e){return r.filter(t=>e.indexOf(t)>-1)}const k3="dnd-core/INIT_COORDS",b1="dnd-core/BEGIN_DRAG",C3="dnd-core/PUBLISH_DRAG_SOURCE",y1="dnd-core/HOVER",w1="dnd-core/DROP",k1="dnd-core/END_DRAG";function v8(r,e){return{type:k3,payload:{sourceClientOffset:e||null,clientOffset:r||null}}}const Yte={type:k3,payload:{clientOffset:null,sourceClientOffset:null}};function Gte(r){return function(t=[],n={publishSource:!0}){const{publishSource:a=!0,clientOffset:s,getSourceClientOffset:i}=n,l=r.getMonitor(),c=r.getRegistry();r.dispatch(v8(s)),Xte(t,l,c);const d=Kte(t,l);if(d==null){r.dispatch(Yte);return}let u=null;if(s){if(!i)throw new Error("getSourceClientOffset must be defined");Zte(i),u=i(d)}r.dispatch(v8(s,u));const f=c.getSource(d).beginDrag(l,d);if(f==null)return;Jte(f),c.pinSource(d);const p=c.getSourceType(d);return{type:b1,payload:{itemType:p,item:f,sourceId:d,clientOffset:s||null,sourceClientOffset:u||null,isSourcePublic:!!a}}}}function Xte(r,e,t){qt(!e.isDragging(),"Cannot call beginDrag while dragging."),r.forEach(function(n){qt(t.getSource(n),"Expected sourceIds to be registered.")})}function Zte(r){qt(typeof r=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Jte(r){qt(pL(r),"Item must be an object.")}function Kte(r,e){let t=null;for(let n=r.length-1;n>=0;n--)if(e.canDragSource(r[n])){t=r[n];break}return t}function Qte(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ere(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.forEach(function(a){Qte(r,a,t[a])})}return r}function tre(r){return function(t={}){const n=r.getMonitor(),a=r.getRegistry();rre(n),sre(n).forEach((i,l)=>{const c=nre(i,l,a,n),d={type:w1,payload:{dropResult:ere({},t,c)}};r.dispatch(d)})}}function rre(r){qt(r.isDragging(),"Cannot call drop while not dragging."),qt(!r.didDrop(),"Cannot call drop twice during one drag operation.")}function nre(r,e,t,n){const a=t.getTarget(r);let s=a?a.drop(n,r):void 0;return are(s),typeof s>"u"&&(s=e===0?{}:n.getDropResult()),s}function are(r){qt(typeof r>"u"||pL(r),"Drop result must either be an object or undefined.")}function sre(r){const e=r.getTargetIds().filter(r.canDropOnTarget,r);return e.reverse(),e}function ire(r){return function(){const t=r.getMonitor(),n=r.getRegistry();ore(t);const a=t.getSourceId();return a!=null&&(n.getSource(a,!0).endDrag(t,a),n.unpinSource()),{type:k1}}}function ore(r){qt(r.isDragging(),"Cannot call endDrag while not dragging.")}function k5(r,e){return e===null?r===null:Array.isArray(r)?r.some(t=>t===e):r===e}function lre(r){return function(t,{clientOffset:n}={}){cre(t);const a=t.slice(0),s=r.getMonitor(),i=r.getRegistry(),l=s.getItemType();return ure(a,i,l),dre(a,s,i),hre(a,s,i),{type:y1,payload:{targetIds:a,clientOffset:n||null}}}}function cre(r){qt(Array.isArray(r),"Expected targetIds to be an array.")}function dre(r,e,t){qt(e.isDragging(),"Cannot call hover while not dragging."),qt(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<r.length;n++){const a=r[n];qt(r.lastIndexOf(a)===n,"Expected targetIds to be unique in the passed array.");const s=t.getTarget(a);qt(s,"Expected targetIds to be registered.")}}function ure(r,e,t){for(let n=r.length-1;n>=0;n--){const a=r[n],s=e.getTargetType(a);k5(s,t)||r.splice(n,1)}}function hre(r,e,t){r.forEach(function(n){t.getTarget(n).hover(e,n)})}function fre(r){return function(){if(r.getMonitor().isDragging())return{type:C3}}}function pre(r){return{beginDrag:Gte(r),publishDragSource:fre(r),hover:lre(r),drop:tre(r),endDrag:ire(r)}}class gre{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;function n(s){return(...i)=>{const l=s.apply(e,i);typeof l<"u"&&t(l)}}const a=pre(this);return Object.keys(a).reduce((s,i)=>{const l=a[i];return s[i]=n(l),s},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function mre(r,e){return{x:r.x+e.x,y:r.y+e.y}}function gL(r,e){return{x:r.x-e.x,y:r.y-e.y}}function xre(r){const{clientOffset:e,initialClientOffset:t,initialSourceClientOffset:n}=r;return!e||!t||!n?null:gL(mre(e,n),t)}function vre(r){const{clientOffset:e,initialClientOffset:t}=r;return!e||!t?null:gL(e,t)}const Vf=[],S3=[];Vf.__IS_NONE__=!0;S3.__IS_ALL__=!0;function bre(r,e){return r===Vf?!1:r===S3||typeof e>"u"?!0:qte(e,r).length>0}class yre{subscribeToStateChange(e,t={}){const{handlerIds:n}=t;qt(typeof e=="function","listener must be a function."),qt(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId;const s=()=>{const i=this.store.getState(),l=i.stateId;try{l===a||l===a+1&&!bre(i.dirtyHandlerIds,n)||e()}finally{a=l}};return this.store.subscribe(s)}subscribeToOffsetChange(e){qt(typeof e=="function","listener must be a function.");let t=this.store.getState().dragOffset;const n=()=>{const a=this.store.getState().dragOffset;a!==t&&(t=a,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return qt(t,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(qt(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),a=this.getItemType();return k5(n,a)&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(qt(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),a=this.getItemType();return n!==a?!1:t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:n}=t;if(!this.isDragging())return!1;const a=this.registry.getTargetType(e),s=this.getItemType();if(s&&!k5(a,s))return!1;const i=this.getTargetIds();if(!i.length)return!1;const l=i.indexOf(e);return n?l===i.length-1:l>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return xre(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return vre(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const b8=typeof global<"u"?global:self,mL=b8.MutationObserver||b8.WebKitMutationObserver;function xL(r){return function(){const t=setTimeout(a,0),n=setInterval(a,50);function a(){clearTimeout(t),clearInterval(n),r()}}}function wre(r){let e=1;const t=new mL(r),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const kre=typeof mL=="function"?wre:xL;class Cre{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let n=0,a=e.length-this.index;n<a;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=kre(this.flush),this.requestErrorThrow=xL(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Sre{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}class jre{create(e){const t=this.freeTasks,n=t.length?t.pop():new Sre(this.onError,a=>t[t.length]=a);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const vL=new Cre,_re=new jre(vL.registerPendingError);function Nre(r){vL.enqueueTask(_re.create(r))}const j3="dnd-core/ADD_SOURCE",_3="dnd-core/ADD_TARGET",N3="dnd-core/REMOVE_SOURCE",C1="dnd-core/REMOVE_TARGET";function Ere(r){return{type:j3,payload:{sourceId:r}}}function Are(r){return{type:_3,payload:{targetId:r}}}function Pre(r){return{type:N3,payload:{sourceId:r}}}function Lre(r){return{type:C1,payload:{targetId:r}}}function Dre(r){qt(typeof r.canDrag=="function","Expected canDrag to be a function."),qt(typeof r.beginDrag=="function","Expected beginDrag to be a function."),qt(typeof r.endDrag=="function","Expected endDrag to be a function.")}function Tre(r){qt(typeof r.canDrop=="function","Expected canDrop to be a function."),qt(typeof r.hover=="function","Expected hover to be a function."),qt(typeof r.drop=="function","Expected beginDrag to be a function.")}function C5(r,e){if(e&&Array.isArray(r)){r.forEach(t=>C5(t,!1));return}qt(typeof r=="string"||typeof r=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var qs;(function(r){r.SOURCE="SOURCE",r.TARGET="TARGET"})(qs||(qs={}));let Rre=0;function Mre(){return Rre++}function Ire(r){const e=Mre().toString();switch(r){case qs.SOURCE:return`S${e}`;case qs.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${r}`)}}function y8(r){switch(r[0]){case"S":return qs.SOURCE;case"T":return qs.TARGET;default:throw new Error(`Cannot parse handler ID: ${r}`)}}function w8(r,e){const t=r.entries();let n=!1;do{const{done:a,value:[,s]}=t.next();if(s===e)return!0;n=!!a}while(!n);return!1}class Ore{addSource(e,t){C5(e),Dre(t);const n=this.addHandler(qs.SOURCE,e,t);return this.store.dispatch(Ere(n)),n}addTarget(e,t){C5(e,!0),Tre(t);const n=this.addHandler(qs.TARGET,e,t);return this.store.dispatch(Are(n)),n}containsHandler(e){return w8(this.dragSources,e)||w8(this.dropTargets,e)}getSource(e,t=!1){return qt(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return qt(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return qt(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return qt(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return y8(e)===qs.SOURCE}isTargetId(e){return y8(e)===qs.TARGET}removeSource(e){qt(this.getSource(e),"Expected an existing source."),this.store.dispatch(Pre(e)),Nre(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){qt(this.getTarget(e),"Expected an existing target."),this.store.dispatch(Lre(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);qt(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){qt(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){const a=Ire(e);return this.types.set(a,t),e===qs.SOURCE?this.dragSources.set(a,n):e===qs.TARGET&&this.dropTargets.set(a,n),a}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const Fre=(r,e)=>r===e;function Bre(r,e){return!r&&!e?!0:!r||!e?!1:r.x===e.x&&r.y===e.y}function zre(r,e,t=Fre){if(r.length!==e.length)return!1;for(let n=0;n<r.length;++n)if(!t(r[n],e[n]))return!1;return!0}function Hre(r=Vf,e){switch(e.type){case y1:break;case j3:case _3:case C1:case N3:return Vf;case b1:case C3:case k1:case w1:default:return S3}const{targetIds:t=[],prevTargetIds:n=[]}=e.payload,a=Wte(t,n);if(!(a.length>0||!zre(t,n)))return Vf;const i=n[n.length-1],l=t[t.length-1];return i!==l&&(i&&a.push(i),l&&a.push(l)),a}function Ure(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Vre(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.forEach(function(a){Ure(r,a,t[a])})}return r}const k8={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function $re(r=k8,e){const{payload:t}=e;switch(e.type){case k3:case b1:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case y1:return Bre(r.clientOffset,t.clientOffset)?r:Vre({},r,{clientOffset:t.clientOffset});case k1:case w1:return k8;default:return r}}function Wre(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Yd(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.forEach(function(a){Wre(r,a,t[a])})}return r}const qre={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Yre(r=qre,e){const{payload:t}=e;switch(e.type){case b1:return Yd({},r,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case C3:return Yd({},r,{isSourcePublic:!0});case y1:return Yd({},r,{targetIds:t.targetIds});case C1:return r.targetIds.indexOf(t.targetId)===-1?r:Yd({},r,{targetIds:$te(r.targetIds,t.targetId)});case w1:return Yd({},r,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case k1:return Yd({},r,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return r}}function Gre(r=0,e){switch(e.type){case j3:case _3:return r+1;case N3:case C1:return r-1;default:return r}}function Xre(r=0){return r+1}function Zre(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Jre(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.forEach(function(a){Zre(r,a,t[a])})}return r}function Kre(r={},e){return{dirtyHandlerIds:Hre(r.dirtyHandlerIds,{type:e.type,payload:Jre({},e.payload,{prevTargetIds:Vte(r,"dragOperation.targetIds",[])})}),dragOffset:$re(r.dragOffset,e),refCount:Gre(r.refCount,e),dragOperation:Yre(r.dragOperation,e),stateId:Xre(r.stateId)}}function Qre(r,e=void 0,t={},n=!1){const a=ene(n),s=new yre(a,new Ore(a)),i=new gre(a,s),l=r(i,e,t);return i.receiveBackend(l),i}function ene(r){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return fL(Kre,r&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function tne(r,e){if(r==null)return{};var t=rne(r,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function rne(r,e){if(r==null)return{};var t={},n=Object.keys(r),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}let C8=0;const c0=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var nne=w.memo(function(e){var{children:t}=e,n=tne(e,["children"]);const[a,s]=ane(n);return w.useEffect(()=>{if(s){const i=bL();return++C8,()=>{--C8===0&&(i[c0]=null)}}},[]),o.jsx(hL.Provider,{value:a,children:t})});function ane(r){if("manager"in r)return[{dragDropManager:r.manager},!1];const e=sne(r.backend,r.context,r.options,r.debugMode),t=!r.context;return[e,t]}function sne(r,e=bL(),t,n){const a=e;return a[c0]||(a[c0]={dragDropManager:Qre(r,e,t,n)}),a[c0]}function bL(){return typeof global<"u"?global:window}var ine=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,a,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(a=n;a--!==0;)if(!r(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[a]))return!1;for(a=n;a--!==0;){var i=s[a];if(!r(e[i],t[i]))return!1}return!0}return e!==e&&t!==t};const one=Fo(ine),ad=typeof window<"u"?w.useLayoutEffect:w.useEffect;function lne(r,e,t){const[n,a]=w.useState(()=>e(r)),s=w.useCallback(()=>{const i=e(r);one(n,i)||(a(i),t&&t())},[n,r,t]);return ad(s),[n,s]}function cne(r,e,t){const[n,a]=lne(r,e,t);return ad(function(){const i=r.getHandlerId();if(i!=null)return r.subscribeToStateChange(a,{handlerIds:[i]})},[r,a]),n}function yL(r,e,t){return cne(e,r||(()=>({})),()=>t.reconnect())}function wL(r,e){const t=[];return typeof r!="function"&&t.push(r),w.useMemo(()=>typeof r=="function"?r():r,t)}function dne(r){return w.useMemo(()=>r.hooks.dragSource(),[r])}function une(r){return w.useMemo(()=>r.hooks.dragPreview(),[r])}let Vb=!1,$b=!1;class hne{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){qt(!Vb,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Vb=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Vb=!1}}isDragging(){if(!this.sourceId)return!1;qt(!$b,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return $b=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{$b=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Wb=!1;class fne{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;qt(!Wb,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Wb=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Wb=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function pne(r,e,t){const n=t.getRegistry(),a=n.addTarget(r,e);return[a,()=>n.removeTarget(a)]}function gne(r,e,t){const n=t.getRegistry(),a=n.addSource(r,e);return[a,()=>n.removeSource(a)]}function S5(r,e,t,n){let a;if(a!==void 0)return!!a;if(r===e)return!0;if(typeof r!="object"||!r||typeof e!="object"||!e)return!1;const s=Object.keys(r),i=Object.keys(e);if(s.length!==i.length)return!1;const l=Object.prototype.hasOwnProperty.bind(e);for(let c=0;c<s.length;c++){const d=s[c];if(!l(d))return!1;const u=r[d],h=e[d];if(a=void 0,a===!1||a===void 0&&u!==h)return!1}return!0}function j5(r){return r!==null&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function mne(r){if(typeof r.type=="string")return;const e=r.type.displayName||r.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function xne(r){return(e=null,t=null)=>{if(!w.isValidElement(e)){const s=e;return r(s,t),s}const n=e;return mne(n),vne(n,t?s=>r(s,t):r)}}function kL(r){const e={};return Object.keys(r).forEach(t=>{const n=r[t];if(t.endsWith("Ref"))e[t]=r[t];else{const a=xne(n);e[t]=()=>a}}),e}function S8(r,e){typeof r=="function"?r(e):r.current=e}function vne(r,e){const t=r.ref;return qt(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?w.cloneElement(r,{ref:n=>{S8(t,n),S8(e,n)}}):w.cloneElement(r,{ref:e})}class bne{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!S5(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!S5(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=kL({dragSource:(t,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,j5(t)?this.dragSourceRef=t:this.dragSourceNode=t,this.reconnectDragSource()},dragPreview:(t,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,j5(t)?this.dragPreviewRef=t:this.dragPreviewNode=t,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class yne{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!S5(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=kL({dropTarget:(t,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,j5(t)?this.dropTargetRef=t:this.dropTargetNode=t,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function wh(){const{dragDropManager:r}=w.useContext(hL);return qt(r!=null,"Expected drag drop context"),r}function wne(r,e){const t=wh(),n=w.useMemo(()=>new bne(t.getBackend()),[t]);return ad(()=>(n.dragSourceOptions=r||null,n.reconnect(),()=>n.disconnectDragSource()),[n,r]),ad(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function kne(){const r=wh();return w.useMemo(()=>new hne(r),[r])}class Cne{beginDrag(){const e=this.spec,t=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(t):n={},n??null}canDrag(){const e=this.spec,t=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(t):!0}isDragging(e,t){const n=this.spec,a=this.monitor,{isDragging:s}=n;return s?s(a):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,n=this.connector,{end:a}=e;a&&a(t.getItem(),t),n.reconnect()}constructor(e,t,n){this.spec=e,this.monitor=t,this.connector=n}}function Sne(r,e,t){const n=w.useMemo(()=>new Cne(r,e,t),[e,t]);return w.useEffect(()=>{n.spec=r},[r]),n}function jne(r){return w.useMemo(()=>{const e=r.type;return qt(e!=null,"spec.type must be defined"),e},[r])}function _ne(r,e,t){const n=wh(),a=Sne(r,e,t),s=jne(r);ad(function(){if(s!=null){const[l,c]=gne(s,a,n);return e.receiveHandlerId(l),t.receiveHandlerId(l),c}},[n,e,t,a,s])}function Nne(r,e){const t=wL(r);qt(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=kne(),a=wne(t.options,t.previewOptions);return _ne(t,n,a),[yL(t.collect,n,a),dne(a),une(a)]}function Ene(r){return w.useMemo(()=>r.hooks.dropTarget(),[r])}function Ane(r){const e=wh(),t=w.useMemo(()=>new yne(e.getBackend()),[e]);return ad(()=>(t.dropTargetOptions=r||null,t.reconnect(),()=>t.disconnectDropTarget()),[r]),t}function Pne(){const r=wh();return w.useMemo(()=>new fne(r),[r])}function Lne(r){const{accept:e}=r;return w.useMemo(()=>(qt(r.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class Dne{canDrop(){const e=this.spec,t=this.monitor;return e.canDrop?e.canDrop(t.getItem(),t):!0}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function Tne(r,e){const t=w.useMemo(()=>new Dne(r,e),[e]);return w.useEffect(()=>{t.spec=r},[r]),t}function Rne(r,e,t){const n=wh(),a=Tne(r,e),s=Lne(r);ad(function(){const[l,c]=pne(s,a,n);return e.receiveHandlerId(l),t.receiveHandlerId(l),c},[n,e,a,t,s.map(i=>i.toString()).join("|")])}function Mne(r,e){const t=wL(r),n=Pne(),a=Ane(t.options);return Rne(t,n,a),[yL(t.collect,n,a),Ene(a)]}function CL(r){let e=null;return()=>(e==null&&(e=r()),e)}function Ine(r,e){return r.filter(t=>t!==e)}function One(r,e){const t=new Set,n=s=>t.add(s);r.forEach(n),e.forEach(n);const a=[];return t.forEach(s=>a.push(s)),a}class Fne{enter(e){const t=this.entered.length,n=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(e));return this.entered=One(this.entered.filter(n),[e]),t===0&&this.entered.length>0}leave(e){const t=this.entered.length;return this.entered=Ine(this.entered.filter(this.isNodeInDocument),e),t>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Bne{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach(n=>{const a=this.config.exposeProperties[n];a!=null&&(t[n]={value:a(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const SL="__NATIVE_FILE__",jL="__NATIVE_URL__",_L="__NATIVE_TEXT__",NL="__NATIVE_HTML__",j8=Object.freeze(Object.defineProperty({__proto__:null,FILE:SL,HTML:NL,TEXT:_L,URL:jL},Symbol.toStringTag,{value:"Module"}));function qb(r,e,t){const n=e.reduce((a,s)=>a||r.getData(s),"");return n??t}const _5={[SL]:{exposeProperties:{files:r=>Array.prototype.slice.call(r.files),items:r=>r.items,dataTransfer:r=>r},matchesTypes:["Files"]},[NL]:{exposeProperties:{html:(r,e)=>qb(r,e,""),dataTransfer:r=>r},matchesTypes:["Html","text/html"]},[jL]:{exposeProperties:{urls:(r,e)=>qb(r,e,"").split(`
`),dataTransfer:r=>r},matchesTypes:["Url","text/uri-list"]},[_L]:{exposeProperties:{text:(r,e)=>qb(r,e,""),dataTransfer:r=>r},matchesTypes:["Text","text/plain"]}};function zne(r,e){const t=_5[r];if(!t)throw new Error(`native type ${r} has no configuration`);const n=new Bne(t);return n.loadDataTransfer(e),n}function Yb(r){if(!r)return null;const e=Array.prototype.slice.call(r.types||[]);return Object.keys(_5).filter(t=>{const n=_5[t];return n!=null&&n.matchesTypes?n.matchesTypes.some(a=>e.indexOf(a)>-1):!1})[0]||null}const Hne=CL(()=>/firefox/i.test(navigator.userAgent)),EL=CL(()=>!!window.safari);class _8{interpolate(e){const{xs:t,ys:n,c1s:a,c2s:s,c3s:i}=this;let l=t.length-1;if(e===t[l])return n[l];let c=0,d=i.length-1,u;for(;c<=d;){u=Math.floor(.5*(c+d));const p=t[u];if(p<e)c=u+1;else if(p>e)d=u-1;else return n[u]}l=Math.max(0,d);const h=e-t[l],f=h*h;return n[l]+a[l]*h+s[l]*f+i[l]*h*f}constructor(e,t){const{length:n}=e,a=[];for(let p=0;p<n;p++)a.push(p);a.sort((p,m)=>e[p]<e[m]?-1:1);const s=[],i=[];let l,c;for(let p=0;p<n-1;p++)l=e[p+1]-e[p],c=t[p+1]-t[p],s.push(l),i.push(c/l);const d=[i[0]];for(let p=0;p<s.length-1;p++){const m=i[p],g=i[p+1];if(m*g<=0)d.push(0);else{l=s[p];const v=s[p+1],x=l+v;d.push(3*x/((x+v)/m+(x+l)/g))}}d.push(i[i.length-1]);const u=[],h=[];let f;for(let p=0;p<d.length-1;p++){f=i[p];const m=d[p],g=1/s[p],v=m+d[p+1]-f-f;u.push((f-m-v)*g),h.push(v*g*g)}this.xs=e,this.ys=t,this.c1s=d,this.c2s=u,this.c3s=h}}const Une=1;function AL(r){const e=r.nodeType===Une?r:r.parentElement;if(!e)return null;const{top:t,left:n}=e.getBoundingClientRect();return{x:n,y:t}}function km(r){return{x:r.clientX,y:r.clientY}}function Vne(r){var e;return r.nodeName==="IMG"&&(Hne()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(r)))}function $ne(r,e,t,n){let a=r?e.width:t,s=r?e.height:n;return EL()&&r&&(s/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:s}}function Wne(r,e,t,n,a){const s=Vne(e),l=AL(s?r:e),c={x:t.x-l.x,y:t.y-l.y},{offsetWidth:d,offsetHeight:u}=r,{anchorX:h,anchorY:f}=n,{dragPreviewWidth:p,dragPreviewHeight:m}=$ne(s,e,d,u),g=()=>{let _=new _8([0,.5,1],[c.y,c.y/u*m,c.y+m-u]).interpolate(f);return EL()&&s&&(_+=(window.devicePixelRatio-1)*m),_},v=()=>new _8([0,.5,1],[c.x,c.x/d*p,c.x+p-d]).interpolate(h),{offsetX:x,offsetY:b}=a,y=x===0||x,C=b===0||b;return{x:y?x:v(),y:C?b:g()}}class qne{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function Yne(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function N8(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.forEach(function(a){Yne(r,a,t[a])})}return r}class Gne{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;(t=this.window)===null||t===void 0||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,n){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);const a=i=>this.handleDragStart(i,e),s=i=>this.handleSelectStart(i);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",a),t.addEventListener("selectstart",s),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",a),t.removeEventListener("selectstart",s),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const n=i=>this.handleDragEnter(i,e),a=i=>this.handleDragOver(i,e),s=i=>this.handleDrop(i,e);return t.addEventListener("dragenter",n),t.addEventListener("dragover",a),t.addEventListener("drop",s),()=>{t.removeEventListener("dragenter",n),t.removeEventListener("dragover",a),t.removeEventListener("drop",s)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return N8({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return N8({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(j8).some(t=>j8[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=zne(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const t=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},t)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{const s=this.sourceNodes.get(a);return s&&AL(s)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{const a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;const{dragStartSourceIds:s}=this;this.dragStartSourceIds=null;const i=km(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:i});const{dataTransfer:l}=a,c=Yb(l);if(this.monitor.isDragging()){if(l&&typeof l.setDragImage=="function"){const u=this.monitor.getSourceId(),h=this.sourceNodes.get(u),f=this.sourcePreviewNodes.get(u)||h;if(f){const{anchorX:p,anchorY:m,offsetX:g,offsetY:v}=this.getCurrentSourcePreviewNodeOptions(),y=Wne(h,f,i,{anchorX:p,anchorY:m},{offsetX:g,offsetY:v});l.setDragImage(f,y.x,y.y)}}try{l==null||l.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);const{captureDraggingState:d}=this.getCurrentSourcePreviewNodeOptions();d?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(l&&!l.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;const{dataTransfer:l}=a,c=Yb(l);c&&this.beginDragNativeItem(c,l)},this.handleTopDragEnter=a=>{const{dragEnterTargetIds:s}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,s.length>0&&this.actions.hover(s,{clientOffset:km(a)}),s.some(l=>this.monitor.canDropOnTarget(l))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{const{dragOverTargetIds:s}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=km(a),this.scheduleHover(s),(s||[]).some(l=>this.monitor.canDropOnTarget(l))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var s;a.preventDefault(),(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(a.dataTransfer)}else Yb(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{const{dropTargetIds:s}=this;this.dropTargetIds=[],this.actions.hover(s,{clientOffset:km(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{const s=a.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(a.preventDefault(),s.dragDrop()))},this.options=new qne(t,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Fne(this.isNodeInDocument)}}const Xne=function(e,t,n){return new Gne(e,t,n)},E8=[{title:"Campos Bsicos",fields:[{type:"text",title:"Texto Simples",description:"Para respostas curtas",icon:"FileIcon"},{type:"textarea",title:"Texto Longo",description:"Para respostas mais longas",icon:"FileIcon"},{type:"number",title:"Nmero",description:"Apenas para nmeros",icon:"FileIcon"},{type:"email",title:"Email",description:"Para endereos de email",icon:"EnvelopeIcon"},{type:"phone",title:"Telefone",description:"Para nmeros de telefone",icon:"FileIcon"}]},{title:"Campos de Escolha",fields:[{type:"select",title:"Lista Suspensa",description:"Escolha nica de uma lista",icon:"ListIcon"},{type:"multiselect",title:"Mltipla Escolha",description:"Vrias escolhas de uma lista",icon:"ListIcon"},{type:"radio",title:"Botes de Opo",description:"Seleo de escolha nica",icon:"CheckCircleIcon"},{type:"checkbox",title:"Caixas de Seleo",description:"Seleo de mltipla escolha",icon:"CheckCircleIcon"},{type:"toggle",title:"Toggle Switch",description:"Alternncia entre sim/no",icon:"CheckCircleIcon"}]},{title:"Campos Avanados",fields:[{type:"date",title:"Data",description:"Seletor de data",icon:"CalenderIcon"},{type:"time",title:"Hora",description:"Seletor de hora",icon:"TimeIcon"},{type:"file",title:"Upload de Arquivo",description:"Campo para envio de arquivos",icon:"FileIcon"},{type:"url",title:"URL do Site",description:"Para endereos de websites",icon:"FileIcon"},{type:"product",title:"Produto",description:"Campo para preo do produto",icon:"BoxIcon"},{type:"commission",title:"Comisso de Venda",description:"Porcentagem de comisso",icon:"DollarLineIcon"},{type:"country",title:"Pas",description:"Seleo de pases",icon:"GridIcon"},{type:"brazilian_states",title:"Estados do Brasil",description:"Seleo de estado e cidade do Brasil",icon:"GridIcon"},{type:"brand",title:"Marca",description:"Nome e logo da marca",icon:"BoxCubeIcon"},{type:"button_buy",title:"Boto de Compra",description:"Boto para comprar produtos",icon:"ShoppingCartIcon"},{type:"niche",title:"Nichos e preos",description:"Adicionar os nichos e preos que o site aceita",icon:"FileIcon"},{type:"import_csv",title:"Importar CSV",description:"importar sites via csv",icon:"UploadIcon"}]},{title:"Campos de Layout",fields:[{type:"section",title:"Seo",description:"Adicionar ttulo de seo com descrio",icon:"ListIcon"},{type:"html",title:"HTML",description:"Adicionar contedo HTML personalizado",icon:"CodeIcon"}]},{title:"Campos de API",fields:[{type:"moz_da",title:"Moz DA",description:"Domain Authority do Moz",icon:"ChartIcon"},{type:"semrush_as",title:"Semrush AS",description:"Authority Score do Semrush",icon:"ChartIcon"},{type:"ahrefs_dr",title:"Ahrefs DR",description:"Domain Rating do Ahrefs",icon:"ChartIcon"},{type:"ahrefs_traffic",title:"Ahrefs Traffic",description:"Trfego orgnico do Ahrefs",icon:"AhrefsTrafficIcon"},{type:"similarweb_traffic",title:"Similarweb Traffic",description:"Trfego total do Similarweb",icon:"SimilarwebTrafficIcon"},{type:"google_traffic",title:"Google Traffic",description:"Trfego estimado do Google",icon:"GoogleTrafficIcon"}]}];function Zne({onAddField:r}){const[e,t]=w.useState(""),[n,a]=w.useState(new Set(E8.map(l=>l.title))),s=l=>{a(c=>{const d=new Set(c);return d.has(l)?d.delete(l):d.add(l),d})},i=E8.map(l=>({...l,fields:l.fields.filter(c=>c.title.toLowerCase().includes(e.toLowerCase())||c.description.toLowerCase().includes(e.toLowerCase()))})).filter(l=>l.fields.length>0);return o.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900",children:[o.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90 mb-4",children:"Adicionar Campos"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Buscar campos...",value:e,onChange:l=>t(l.target.value),className:"w-full h-10 pl-10 pr-4 text-sm bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:border-brand-500 dark:focus:border-brand-500"}),o.jsx(_u,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:i.map(l=>o.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-800 last:border-0",children:[o.jsxs("button",{onClick:()=>s(l.title),className:"w-full flex items-center justify-between px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[l.title,o.jsx(i1,{className:`w-5 h-5 transition-transform ${n.has(l.title)?"rotate-180":""}`})]}),n.has(l.title)&&o.jsx("div",{className:"p-4 grid grid-cols-2 gap-3",children:l.fields.map(c=>{const d=G0[c.icon];return o.jsxs("button",{onClick:()=>r(c.type),className:"flex flex-col items-center justify-center p-3 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white/90 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-brand-500 dark:hover:border-brand-500 transition-colors group",title:c.description,children:[o.jsx(d,{className:"mb-2 w-6 h-6 group-hover:text-brand-500"}),o.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:c.title})]},c.type)})})]},l.title))})]})}const Gb=[{code:"BR",name:"Brasil"},{code:"US",name:"Estados Unidos"},{code:"GB",name:"Reino Unido"},{code:"PT",name:"Portugal"},{code:"ES",name:"Espanha"},{code:"FR",name:"Frana"},{code:"DE",name:"Alemanha"},{code:"IT",name:"Itlia"},{code:"JP",name:"Japo"},{code:"CN",name:"China"},{code:"AU",name:"Austrlia"},{code:"CA",name:"Canad"},{code:"MX",name:"Mxico"},{code:"AR",name:"Argentina"},{code:"CL",name:"Chile"},{code:"CO",name:"Colmbia"},{code:"PE",name:"Peru"},{code:"UY",name:"Uruguai"},{code:"PY",name:"Paraguai"},{code:"BO",name:"Bolvia"},{code:"ROW",name:"Rest of World"}].sort((r,e)=>r.name.localeCompare(e.name));function Jne({settings:r,onChange:e}){const[t,n]=w.useState(r.max_selections!==1),a=()=>{e({...r,countries:Gb.map(c=>c.code)})},s=()=>{e({...r,countries:[]})},i=c=>{n(c),e({...r,max_selections:c?void 0:1})},l=c=>{const d=c?parseInt(c):void 0;e({...r,max_selections:d})};return o.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[o.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Country Settings"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx(Te,{children:"Available Countries"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(at,{variant:"outline",size:"sm",onClick:a,children:"Select All"}),o.jsx(at,{variant:"outline",size:"sm",onClick:s,children:"Unselect All"})]})]}),o.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:Gb.map(c=>{var d;return o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"checkbox",checked:(d=r.countries)==null?void 0:d.includes(c.code),onChange:u=>{const h=u.target.checked?[...r.countries||[],c.code]:(r.countries||[]).filter(f=>f!==c.code);e({...r,countries:h})},className:"w-4 h-4 rounded border-gray-300 text-brand-500 focus:ring-brand-500/20 dark:border-gray-700 dark:bg-gray-900"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("img",{src:yh(c.code),width:"24",height:"24",alt:c.name,className:`rounded-full ${c.code==="ROW"?"dark:invert":""}`}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:c.name})]})]},c.code)})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Lr,{label:"Allow Multiple Selection",checked:t,onChange:i})}),t&&o.jsxs("div",{children:[o.jsx(Te,{children:"Maximum Selections"}),o.jsx(st,{type:"number",value:r.max_selections||"",onChange:c=>l(c.target.value),min:"1",max:Gb.length.toString(),placeholder:"Leave empty for unlimited"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Limit how many countries users can select. Leave empty to allow unlimited selections."})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Lr,{label:"Show Country Codes",checked:r.show_percentage,onChange:c=>e({...r,show_percentage:c})})}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Display country codes (BR, US, etc.) alongside flags in tables and forms"})]})]})]})}function Kne({settings:r,onChange:e}){const[t,n]=w.useState(r.max_selections!==1),a=i=>{n(i),e({...r,max_selections:i?void 0:1})},s=i=>{const l=i?parseInt(i):void 0;e({...r,max_selections:l})};return o.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[o.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Configuraes de Municpios"}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Lr,{label:"Permitir Seleo Mltipla",checked:t,onChange:a})}),t&&o.jsxs("div",{children:[o.jsx(Te,{children:"Limite de Selees"}),o.jsx(st,{type:"number",value:r.max_selections||"",onChange:i=>s(i.target.value),min:"1",placeholder:"Deixe em branco para ilimitado"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Limite quantos municpios os usurios podem selecionar. Deixe em branco para permitir selees ilimitadas."})]})]})})]})}function Qne({settings:r,onChange:e}){const[t,n]=w.useState({product_price:"",promotional_price:""});w.useEffect(()=>{if(r.product_description){let i={price_description:"",promotional_price_description:""};if(typeof r.product_description=="string")try{i=JSON.parse(r.product_description)}catch{i={price_description:r.product_description,promotional_price_description:""}}else typeof r.product_description=="object"&&(i=r.product_description);n({product_price:i.price_description||"",promotional_price:i.promotional_price_description||""})}else n({product_price:"",promotional_price:""})},[r.product_description]);const a=i=>{const l={...t,product_price:i};n(l);const c={price_description:l.product_price,promotional_price_description:l.promotional_price};e({...r,product_description:c})},s=i=>{const l={...t,promotional_price:i};n(l);const c={price_description:l.product_price,promotional_price_description:l.promotional_price};e({...r,product_description:c})};return o.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[o.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Configuraes do Produto"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(Te,{children:"Descrio do Preo"}),o.jsx(st,{type:"text",value:t.product_price,onChange:i=>a(i.target.value),placeholder:"Ex: Artigo com at 2 links"})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Descrio do Preo Promocional"}),o.jsx(st,{type:"text",value:t.promotional_price,onChange:i=>s(i.target.value),placeholder:"Ex: Preo especial Black Friday"})]})]})]})}function eae({settings:r,onChange:e,type:t}){return o.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[o.jsxs("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:[t==="date"?"Date":"Time"," Settings"]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Format"}),o.jsx(Jt,{options:t==="date"?[{value:"dd/mm/yyyy",label:"DD/MM/YYYY"},{value:"mm/dd/yyyy",label:"MM/DD/YYYY"},{value:"yyyy-mm-dd",label:"YYYY-MM-DD"}]:[{value:"HH:mm",label:"24-hour (HH:mm)"},{value:"hh:mm A",label:"12-hour (hh:mm AM/PM)"}],value:t==="date"?r.date_format:r.time_format,onChange:n=>{e(t==="date"?{...r,date_format:n}:{...r,time_format:n})}})]})]})}function tae({settings:r,onChange:e}){const t=[{value:"jpg,jpeg,png",label:"Imagens (JPG, PNG)"},{value:"pdf",label:"PDF"},{value:"doc,docx",label:"Word (DOC, DOCX)"},{value:"mp3,wav",label:"udio (MP3, WAV)"},{value:"mp4,mov",label:"Vdeo (MP4, MOV)"},{value:"jpg,jpeg,png,pdf,doc,docx,mp3,mp4,wav,mov",label:"Todos os tipos suportados"}],n=a=>{e({...r,allowed_extensions:a})};return o.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[o.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"File Upload Settings"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(Te,{children:"Predefined File Types"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-2",children:t.map(a=>o.jsx("button",{type:"button",className:`px-3 py-2 text-sm rounded-lg border ${r.allowed_extensions===a.value?"border-brand-500 bg-brand-50 text-brand-700 dark:border-brand-400 dark:bg-brand-900/20 dark:text-brand-400":"border-gray-200 text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-800"}`,onClick:()=>n(a.value),children:a.label},a.value))})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(Te,{children:"Allowed Extensions"}),o.jsx(st,{type:"text",value:r.allowed_extensions||"",onChange:a=>e({...r,allowed_extensions:a.target.value}),placeholder:"jpg, png, pdf, doc, docx, mp3, mp4, wav, mov"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Separate file extensions with commas (e.g., jpg, png, pdf, doc, docx, mp3, mp4, wav, mov)"})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Maximum File Size (MB)"}),o.jsx(st,{type:"number",value:r.max_file_size||"",onChange:a=>e({...r,max_file_size:a.target.value?parseInt(a.target.value):void 0}),min:"1",placeholder:"5"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Maximum size per file in megabytes"})]}),o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Lr,{label:"Allow Multiple Files",checked:r.multiple_files,onChange:a=>e({...r,multiple_files:a,max_files:a?r.max_files:1})})})}),r.multiple_files&&o.jsxs("div",{children:[o.jsx(Te,{children:"Maximum Files"}),o.jsx(st,{type:"number",value:r.max_files||"",onChange:a=>e({...r,max_files:a.target.value?parseInt(a.target.value):void 0}),min:"1",placeholder:"10"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Maximum number of files that can be uploaded"})]})]})]})}function rae({settings:r,onChange:e}){return o.jsxs("div",{className:"space-y-4 md:col-span-2",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Lr,{label:"Enable Input Mask",checked:r.input_mask_enabled,onChange:t=>e({...r,input_mask_enabled:t})})}),r.input_mask_enabled&&o.jsxs("div",{children:[o.jsx(Te,{children:"Input Mask Pattern"}),o.jsx(st,{type:"text",value:r.input_mask_pattern||"",onChange:t=>e({...r,input_mask_pattern:t.target.value}),placeholder:"999.999.999-99"}),o.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:["Use 9 for numbers, A for letters, * for alphanumeric. Examples:",o.jsx("br",{}),"- CPF: 999.999.999-99",o.jsx("br",{}),"- Phone: (99) 99999-9999",o.jsx("br",{}),"- Date: 99/99/9999"]})]})]})}function nae({settings:r,options:e,onChange:t,onOptionsChange:n,fieldType:a}){const[s,i]=w.useState(!1),[l,c]=w.useState(""),d=()=>{n([...e,{label:"",value:""}])},u=p=>{n(e.filter((m,g)=>g!==p))},h=(p,m,g)=>{const v=[...e];v[p]={...v[p],[m]:g},n(v)},f=()=>{const m=l.split(`
`).filter(g=>g.trim()).map(g=>{const[v,x]=g.split("|").map(b=>b.trim());return{label:v||"",value:x||v||""}});n(m),i(!1),c("")};return o.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90",children:"Field Options"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(at,{variant:"outline",onClick:()=>i(!s),children:"Bulk Add"}),o.jsxs(at,{onClick:d,children:[o.jsx(yr,{className:"w-5 h-5 mr-2"}),"Add Option"]})]})]}),s?o.jsxs("div",{className:"space-y-4",children:[o.jsx(Zi,{value:l,onChange:c,rows:10,placeholder:`Enter one option per line
For custom values use: Label|Value

Example:
First Option
Second Option|second_opt
Third Option|third_opt`}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(at,{variant:"outline",onClick:()=>{i(!1),c("")},children:"Cancel"}),o.jsx(at,{onClick:f,children:"Add Options"})]})]}):o.jsx("div",{className:"space-y-4",children:e.map((p,m)=>o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Te,{children:"Label"}),o.jsx(st,{type:"text",value:p.label,onChange:g=>h(m,"label",g.target.value),placeholder:"Option Label"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Te,{children:"Value"}),o.jsx(st,{type:"text",value:p.value,onChange:g=>h(m,"value",g.target.value),placeholder:"Option Value"})]}),o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",onClick:()=>u(m),className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",children:o.jsx(rs,{className:"w-5 h-5"})})})]},m))}),(a==="multiselect"||a==="checkbox")&&o.jsxs("div",{className:"mt-6",children:[o.jsx(Te,{children:"Maximum Selections"}),o.jsx(st,{type:"number",value:r.max_selections||"",onChange:p=>t({...r,max_selections:p.target.value?parseInt(p.target.value):void 0}),min:"1",max:String(e.length),placeholder:"Leave empty for unlimited"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Limit how many options users can select. Leave empty to allow unlimited selections."})]}),(a==="radio"||a==="checkbox")&&o.jsxs("div",{className:"mt-6",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Lr,{label:"Inline Layout",checked:r.inline_layout,onChange:p=>t({...r,inline_layout:p})})}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Display options in a horizontal line instead of stacked vertically"})]})]})}function aae({settings:r,onChange:e}){const[t,n]=w.useState(r.custom_button_text||!1),a=i=>{n(i),e({...r,custom_button_text:i})},s=i=>{e({...r,button_text:i.target.value})};return o.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[o.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Configuraes do Boto de Compra"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Lr,{label:"Posicionar na ltima coluna",checked:r.position_last_column||!1,onChange:i=>e({...r,position_last_column:i})})}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Quando ativado, o boto ser exibido na ltima coluna da tabela de marketplace"})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Estilo do Boto"}),o.jsx(Jt,{options:[{value:"primary",label:"Modelo 1 - Cor da marca"},{value:"outline",label:"Modelo 2 - Branco"}],value:r.button_style||"primary",onChange:i=>e({...r,button_style:i})}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Escolha o estilo visual do boto de compra"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Lr,{label:"Personalizar texto do boto",checked:t,onChange:a})}),t&&o.jsxs("div",{children:[o.jsx(Te,{children:"Texto do Boto"}),o.jsx(st,{type:"text",value:r.button_text||"",onChange:s,placeholder:"Comprar"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Personalize o texto que aparecer no boto de compra"})]})]})]})]})}function sae({settings:r,onChange:e}){const[t,n]=w.useState(r.show_logo!==!1),[a,s]=w.useState(r.is_product_name||!1),[i,l]=w.useState(r.is_site_url||!1);w.useEffect(()=>{n(r.show_logo!==!1),s(!!r.is_product_name),l(!!r.is_site_url)},[r]);const c=h=>{n(h),e({...r,show_logo:h})},d=h=>{s(h),e({...r,is_product_name:h})},u=h=>{l(h),e({...r,is_site_url:h})};return o.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[o.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Configuraes da Marca"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Lr,{label:"Exibir Logo",checked:t,onChange:c})}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Quando desativado, apenas o nome da marca ser exibido, sem o logo."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Lr,{label:"Nome do Produto na Loja",checked:a,onChange:d})}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Quando ativado, este campo ser usado como o nome principal do produto na loja."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Lr,{label:"URL de Site",checked:i,onChange:u})}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Quando ativado, este campo ser usado como a URL do site do produto."})]})]})]})}function iae({settings:r,onChange:e}){const[t,n]=w.useState(!1);w.useEffect(()=>{console.log("Settings received in ApiFieldSettings:",r),n(!!r.sort_by_field)},[r]);const a=s=>{n(s);const i={...r,sort_by_field:s};e(i),console.log("Sort by field changed to:",s),console.log("Updated settings:",i)};return o.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[o.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"API Field Settings"}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Lr,{label:"Sort by this field in marketplace",checked:t,onChange:a})}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"When enabled, the marketplace table will be sorted by this field in descending order (highest values first)"})]})})]})}function oae({settings:r,onChange:e}){const[t,n]=w.useState(r.is_site_url||!1),[a,s]=w.useState(r.is_product_name||!1);w.useEffect(()=>{n(!!r.is_site_url),s(!!r.is_product_name)},[r]);const i=c=>{n(c),e({...r,is_site_url:c})},l=c=>{s(c),e({...r,is_product_name:c})};return o.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[o.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Configuraes de URL"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Lr,{label:"Nome do Produto na Loja",checked:a,onChange:l})}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Quando ativado, este campo ser usado como o nome principal do produto na loja."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Lr,{label:"URL de Site",checked:t,onChange:i})}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Quando ativado, este campo ser usado como a URL do site do produto."})]})]})]})}const A8=[{name:"FinanceIcon",component:f4},{name:"HeartIcon",component:p4},{name:"CasinoIcon",component:g4},{name:"EntertainmentIcon",component:x4},{name:"TechIcon",component:m4}];function lae({selectedIcon:r,onIconSelect:e,onClear:t,placeholder:n="Selecione um cone"}){var u;const[a,s]=w.useState(!1),i=w.useRef(null),l=r?(u=A8.find(h=>h.name===r))==null?void 0:u.component:null,c=h=>{e(h),s(!1)},d=h=>{h.stopPropagation(),t&&t()};return w.useEffect(()=>{function h(f){i.current&&!i.current.contains(f.target)&&s(!1)}return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]),o.jsxs("div",{className:"relative",ref:i,children:[o.jsxs("div",{onClick:()=>s(!a),className:"w-full flex items-center justify-between px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:border-gray-400 dark:hover:border-gray-500 transition-colors cursor-pointer",children:[o.jsx("div",{className:"flex items-center gap-2",children:l?o.jsxs(o.Fragment,{children:[(()=>{const h=l;return o.jsx(h,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})(),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:r==null?void 0:r.replace("Icon","")})]}):o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:n})}),o.jsxs("div",{className:"flex items-center gap-1",children:[r&&t&&o.jsx("button",{type:"button",onClick:d,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded text-xs",title:"Remover cone",children:""}),o.jsx(i1,{className:`w-4 h-4 text-gray-500 transition-transform ${a?"rotate-180":""}`})]})]}),a&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:o.jsx("div",{className:"grid grid-cols-6 gap-2 p-3",children:A8.map(h=>{const f=h.component;return o.jsx("button",{type:"button",onClick:()=>c(h.name),className:`p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center justify-center ${r===h.name?"bg-brand-100 dark:bg-brand-900 border border-brand-500":"border border-transparent"}`,title:h.name.replace("Icon",""),children:o.jsx(f,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})},h.name)})})})]})}function cae({settings:r,onChange:e}){const[t,n]=w.useState(()=>{const d=Ji(r.options||[]);return d.length>0?d:[{text:"",icon:void 0}]});w.useEffect(()=>{async function d(){if(!r.field_id)return;console.log("[NicheSettings] Fetching options for field_id:",r.field_id);const u=await rL(r.field_id);if(u&&Array.isArray(u.options)&&u.options.length>0){console.log("[NicheSettings] Raw data from DB:",u.options);const h=Ji(u.options);console.log("[NicheSettings] Parsed options:",h),console.log("[NicheSettings] Icons in parsed options:"),h.forEach((f,p)=>{console.log(`[NicheSettings] Option ${p} icon:`,f.icon)}),n(h),e({...r,options:h})}}d()},[r.field_id]);const a=(d,u)=>{const h=t.map((f,p)=>p===d?{...f,text:u}:f);n(h),console.log("[NicheSettings] Text changed - sending to parent:",h),e({...r,options:h})},s=(d,u)=>{var f;console.log(`[NicheSettings] Icon changing for index ${d}: ${u}`);const h=t.map((p,m)=>m===d?{...p,icon:u}:p);n(h),console.log("[NicheSettings] Icon changed - sending to parent:",h),console.log(`[NicheSettings] New icon for index ${d}:`,(f=h[d])==null?void 0:f.icon),e({...r,options:h})},i=d=>{var h;console.log(`[NicheSettings] Icon clearing for index ${d}`);const u=t.map((f,p)=>p===d?{...f,icon:void 0}:f);n(u),console.log("[NicheSettings] Icon cleared - sending to parent:",u),console.log(`[NicheSettings] Cleared icon for index ${d}:`,(h=u[d])==null?void 0:h.icon),e({...r,options:u})},l=()=>{const d=[...t,{text:"",icon:void 0}];n(d),console.log("[NicheSettings] Niche added - sending to parent:",d),e({...r,options:d})},c=d=>{if(t.length===1)return;const u=t.filter((h,f)=>f!==d);n(u),console.log("[NicheSettings] Niche removed - sending to parent:",u),e({...r,options:u})};return o.jsxs("div",{children:[o.jsx(Te,{children:"Nichos"}),o.jsx("button",{type:"button",className:"text-brand-500 hover:underline text-sm mt-1 mb-2",onClick:l,children:"+ Adicionar nicho"}),t.map((d,u)=>o.jsxs("div",{className:"space-y-3 mb-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex-1",children:o.jsx(st,{type:"text",value:d.text,onChange:h=>a(u,h.target.value),placeholder:`Nicho ${u+1}`,name:`niche-option-${u}`,"data-idx":u})}),t.length>1&&o.jsx("button",{type:"button",className:"px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-white hover:bg-red-200 dark:hover:bg-red-900 transition-colors",onClick:()=>c(u),title:"Remover nicho",children:""})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"cone (opcional)"}),o.jsx(lae,{selectedIcon:d.icon,onIconSelect:h=>s(u,h),onClear:()=>i(u),placeholder:"Selecione um cone"})]})]},u)),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Defina um ou mais nichos relacionados a este campo. Cada nicho pode ter um cone opcional."})]})}function dae({field:r,isOpen:e,onClose:t,onSave:n}){var m;const[a,s]=w.useState(!1),[i,l]=w.useState(""),[c,d]=w.useState(r.options||[]),[u,h]=w.useState({field_id:r.id,label_text:r.label,label_visibility:"visible",placeholder_text:r.placeholder,help_text:r.description,is_required:r.is_required,no_duplicates:!1,visibility:"visible",validation_type:r.field_type==="url"?"url":void 0,validation_regex:r.field_type==="url"?"^https?://":void 0,field_identifier:r.field_type==="button_buy"?"botao_comprar":r.css_class,input_mask_enabled:!1,input_mask_pattern:"",columns:1,max_selections:void 0,inline_layout:!1,allowed_extensions:"",multiple_files:!1,max_files:1,max_file_size:5,commission_rate:0,product_currency:"BRL",product_description:"",disable_quantity:!1,date_format:"dd/mm/yyyy",time_format:"HH:mm",countries:[],show_percentage:!1,marketplace_label:"",custom_button_text:!1,button_text:"",position_last_column:!1,button_style:"primary",sort_by_field:!1,is_product_name:!1,is_site_url:!1});w.useEffect(()=>{e&&f()},[e,r.id]),w.useEffect(()=>{r.field_type==="niche"&&Array.isArray(u.options)&&(console.log("[FormFieldSettings] Syncing niche options from settings:",u.options),d(u.options))},[u.options,r.field_type]);async function f(){try{s(!0),l("");const{data:g,error:v}=await K.from("form_field_settings").select("*").eq("field_id",r.id).maybeSingle();if(v)throw v;g?h(g):r.field_type==="button_buy"&&h(x=>({...x,field_identifier:"botao_comprar"})),d(r.options||[]),console.log("[FormFieldSettings] Loaded field options:",r.options)}catch(g){console.error("Error loading field settings:",g),l("Error loading field settings")}finally{s(!1)}}const p=async g=>{g.preventDefault(),console.log("[FormFieldSettings] options prop on submit:",c);try{if(s(!0),l(""),console.log("Saving settings:",u),r.field_type==="niche"&&c&&c.length>0)try{console.log("[FormFieldSettings] Raw options received:",c),console.log("[FormFieldSettings] Options with icons check:",c.map(T=>({niche:T.niche||T.text,icon:T.icon,hasIcon:!!T.icon})));const E=Pee(c);console.log("[FormFieldSettings] Sanitized options for DB:",E),console.log("[FormFieldSettings] Raw data being sent to updateFormFieldNiche:",{field_id:r.id,options:E}),await Dee(r.id,{options:E})||await Lee({form_field_id:r.id,options:E})}catch(E){l("Erro ao atualizar nichos: "+(E instanceof Error?E.message:String(E))),s(!1);return}const{data:{user:v}}=await K.auth.getUser();if(!v)throw new Error("User not authenticated");const{options:x,id:b,...y}=u,{error:C}=await K.from("form_field_settings").upsert({...y,field_id:r.id},{onConflict:"field_id"});if(C)throw C;let S;switch(u.columns){case 2:S="half";break;case 3:S="third";break;default:S="full"}const _={...r,label:u.label_text,description:r.field_type==="section"?r.description:u.help_text,placeholder:u.placeholder_text,is_required:u.is_required,width:S,css_class:u.field_identifier,options:c,validation_rules:{...r.validation_rules,type:u.validation_type,pattern:u.validation_regex,input_mask:u.input_mask_enabled?u.input_mask_pattern:void 0,max_selections:u.max_selections,inline_layout:u.inline_layout,allowed_extensions:u.allowed_extensions,multiple_files:u.multiple_files,max_files:u.max_files,max_file_size:u.max_file_size,commission_rate:u.commission_rate,product_currency:u.product_currency,product_description:u.product_description,disable_quantity:u.disable_quantity,date_format:u.date_format,time_format:u.time_format,countries:u.countries,show_percentage:u.show_percentage,marketplace_label:u.marketplace_label,sort_by_field:u.sort_by_field,is_product_name:u.is_product_name,is_site_url:u.is_site_url}};n(_),t()}catch(v){console.error("Error saving field settings:",v),l("Error saving field settings")}finally{s(!1)}};return o.jsx(vs,{isOpen:e,onClose:t,className:"max-w-[900px] m-4",children:o.jsxs("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-xl font-semibold text-gray-800 dark:text-white/90",children:"Field Settings"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Configure field properties"})]}),i&&o.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:i}),o.jsxs("form",{onSubmit:p,children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs(Te,{children:["Label Text ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"text",value:u.label_text,onChange:g=>h({...u,label_text:g.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Marketplace Label"}),o.jsx(st,{type:"text",value:u.marketplace_label||"",onChange:g=>h({...u,marketplace_label:g.target.value}),placeholder:"Custom label for marketplace table"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Custom label to display in marketplace tables (leave empty to use default label)"})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Field Identifier"}),o.jsx(st,{type:"text",value:u.field_identifier||"",onChange:g=>h({...u,field_identifier:g.target.value}),placeholder:r.field_type==="button_buy"?"botao_comprar":"website_url"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Um identificador nico para este campo (opcional)"})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Label Visibility"}),o.jsx(Jt,{options:[{value:"visible",label:"Visible"},{value:"hidden",label:"Hidden"}],value:u.label_visibility,onChange:g=>h({...u,label_visibility:g})})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Columns"}),o.jsx(Jt,{options:[{value:"1",label:"1 Column (100% width)"},{value:"2",label:"2 Columns (50% width)"},{value:"3",label:"3 Columns (33% width)"}],value:((m=u.columns)==null?void 0:m.toString())||"1",onChange:g=>h({...u,columns:parseInt(g)})}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Define how many columns this field should span"})]}),r.field_type!=="section"&&r.field_type!=="html"&&r.field_type!=="button_buy"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(Te,{children:"Placeholder Text"}),o.jsx(st,{type:"text",value:u.placeholder_text||"",onChange:g=>h({...u,placeholder_text:g.target.value}),placeholder:r.field_type==="url"?"https://example.com":"Enter placeholder text"})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Help Text"}),o.jsx(st,{type:"text",value:u.help_text||"",onChange:g=>h({...u,help_text:g.target.value})})]})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Visibility"}),o.jsx(Jt,{options:[{value:"visible",label:"Visible"},{value:"hidden",label:"Hidden"},{value:"admin",label:"Admin Only"},{value:"marketplace",label:"Marketplace Only"}],value:u.visibility,onChange:g=>h({...u,visibility:g})})]}),r.field_type==="url"&&o.jsxs("div",{children:[o.jsx(Te,{children:"URL Validation"}),o.jsx(Jt,{options:[{value:"url",label:"Require HTTPS"},{value:"any_url",label:"Allow any URL"}],value:u.validation_type,onChange:g=>h({...u,validation_type:g,validation_regex:g==="url"?"^https?://":void 0})}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Choose how URLs should be validated in this field"})]}),r.field_type==="text"&&o.jsx(rae,{settings:u,onChange:h}),r.field_type!=="section"&&r.field_type!=="html"&&r.field_type!=="button_buy"&&o.jsxs("div",{className:"space-y-4 md:col-span-2",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Lr,{label:"Required Field",checked:u.is_required,onChange:g=>h({...u,is_required:g})})}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Lr,{label:"No Duplicates",checked:u.no_duplicates,onChange:g=>h({...u,no_duplicates:g})})})]}),r.field_type==="file"&&o.jsx(tae,{settings:u,onChange:h}),(r.field_type==="select"||r.field_type==="multiselect"||r.field_type==="radio"||r.field_type==="checkbox")&&o.jsx(nae,{settings:u,options:c,onChange:h,onOptionsChange:d,fieldType:r.field_type}),r.field_type==="product"&&o.jsx(Qne,{settings:u,onChange:h}),(r.field_type==="date"||r.field_type==="time")&&o.jsx(eae,{settings:u,onChange:h,type:r.field_type}),r.field_type==="country"&&o.jsx(Jne,{settings:u,onChange:h}),r.field_type==="brazilian_states"&&o.jsx(Kne,{settings:u,onChange:h}),r.field_type==="button_buy"&&o.jsx(aae,{settings:u,onChange:h}),r.field_type==="brand"&&o.jsx(sae,{settings:u,onChange:h}),["moz_da","semrush_as","ahrefs_dr","ahrefs_traffic","similarweb_traffic","google_traffic"].includes(r.field_type)&&o.jsx(iae,{settings:u,onChange:h}),r.field_type==="url"&&o.jsx(oae,{settings:u,onChange:h}),r.field_type==="niche"&&o.jsx(cae,{settings:u||{niche:"",price:""},onChange:h})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[o.jsx(at,{variant:"outline",onClick:t,children:"Cancelar"}),o.jsx(at,{disabled:a,children:a?"Saving...":"Salvar Alteaes"})]})]})]})})}function uae({field:r,index:e,moveField:t,onEdit:n,onDelete:a}){const s=w.useRef(null),[i,l]=w.useState(!1),[{handlerId:c},d]=Mne({accept:"form-field",collect(g){return{handlerId:g.getHandlerId()}},hover(g,v){var E;if(!s.current)return;const x=g.index,b=e;if(x===b)return;const y=(E=s.current)==null?void 0:E.getBoundingClientRect(),C=(y.bottom-y.top)/2,_=v.getClientOffset().y-y.top;x<b&&_<C||x>b&&_>C||(t(x,b),g.index=b)}}),[{isDragging:u},h]=Nne({type:"form-field",item:()=>({id:r.id,index:e,type:"form-field"}),collect:g=>({isDragging:g.isDragging()})}),f=u?.4:1;h(d(s));const p=()=>{switch(r.field_type){case"text":return o.jsx(wo,{className:"w-5 h-5"});case"textarea":return o.jsx(wo,{className:"w-5 h-5"});case"number":return o.jsx(wo,{className:"w-5 h-5"});case"email":return o.jsx(l4,{className:"w-5 h-5"});case"phone":return o.jsx(wo,{className:"w-5 h-5"});case"select":return o.jsx(q0,{className:"w-5 h-5"});case"multiselect":return o.jsx(q0,{className:"w-5 h-5"});case"radio":return o.jsx(_2,{className:"w-5 h-5"});case"checkbox":return o.jsx(_2,{className:"w-5 h-5"});case"date":return o.jsx(c4,{className:"w-5 h-5"});case"time":return o.jsx(d4,{className:"w-5 h-5"});case"file":return o.jsx(wo,{className:"w-5 h-5"});case"hidden":return o.jsx(Hl,{className:"w-5 h-5"});case"html":return o.jsx(kl,{className:"w-5 h-5"});case"niche":return o.jsx(_u,{className:"w-5 h-5"});default:return o.jsx(wo,{className:"w-5 h-5"})}},m=g=>{switch(g){case"text":return"Texto Simples";case"textarea":return"Texto Longo";case"number":return"Nmero";case"email":return"Email";case"phone":return"Telefone";case"select":return"Lista Suspensa";case"multiselect":return"Mltipla Escolha";case"radio":return"Botes de Opo";case"checkbox":return"Caixas de Seleo";case"date":return"Data";case"time":return"Hora";case"file":return"Upload de Arquivo";case"hidden":return"Campo Oculto";case"html":return"HTML";case"niche":return"Nichos";default:return g.charAt(0).toUpperCase()+g.slice(1)}};return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:s,style:{opacity:f},"data-handler-id":c,className:`relative p-4 mb-4 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow ${u?"border-brand-500 dark:border-brand-500":""}`,onClick:()=>l(!0),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg",children:p()}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-gray-800 dark:text-white/90",children:[r.label,r.is_required&&o.jsx("span",{className:"ml-1 text-error-500",children:"*"})]}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Campo de ",m(r.field_type)]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:g=>{g.stopPropagation(),l(!0)},className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Editar campo",children:o.jsx(Pi,{className:"w-5 h-5"})}),o.jsx("button",{onClick:g=>{g.stopPropagation(),a(r.id)},className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",title:"Excluir campo",children:o.jsx(rs,{className:"w-5 h-5"})}),o.jsx("div",{className:"cursor-move p-2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-400",children:o.jsx(Y0,{className:"w-5 h-5"})})]})]})}),o.jsx(dae,{field:r,isOpen:i,onClose:()=>l(!1),onSave:n})]})}function hae({formId:r}){const[e,t]=w.useState(!1),n=`[form id="${r}"]`,a=async()=>{try{await navigator.clipboard.writeText(n),t(!0),setTimeout(()=>t(!1),2e3)}catch(s){console.error("Failed to copy:",s)}};return o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg font-mono text-sm text-gray-700 dark:text-gray-300",children:n}),o.jsxs(at,{onClick:a,variant:"outline",className:"min-w-[100px]",children:[o.jsx(kl,{className:"w-5 h-5 mr-2"}),e?"Copiado!":"Copiar"]})]})}function fae(){const{id:r}=zo(),e=mr(),[t,n]=w.useState(!1),[a,s]=w.useState(""),[i,l]=w.useState(""),[c,d]=w.useState(null),[u,h]=w.useState([]),[f,p]=w.useState(!1),[m,g]=w.useState("draft");w.useEffect(()=>{r&&v()},[r]);async function v(){try{n(!0),s("");const{data:E,error:A}=await K.from("forms").select("*").eq("id",r).single();if(A)throw A;const{data:T,error:F}=await K.from("form_fields").select("*").eq("form_id",r).order("position",{ascending:!0});if(F)throw F;d(E),h(T||[]),g(E.status)}catch(E){console.error("Error loading form:",E),s("Error loading form"),e("/forms")}finally{n(!1)}}const x=async()=>{try{n(!0),s(""),l("");const{data:{user:E}}=await K.auth.getUser();if(!E)throw new Error("User not authenticated");const{error:A}=await K.from("forms").update({status:m,updated_by:E.id}).eq("id",r);if(A)throw A;l("Formulrio salvo com sucesso"),setTimeout(()=>l(""),3e3)}catch(E){console.error("Error saving form:",E),s("Erro ao salvar formulrio")}finally{n(!1)}},b=async E=>{if(c)try{n(!0),s("");const{data:{user:A}}=await K.auth.getUser();if(!A)throw new Error("User not authenticated");const T=u.length>0?Math.max(...u.map(D=>D.position))+1:0,{data:F,error:L}=await K.from("form_fields").insert([{form_id:c.id,field_type:E,label:`New ${E} field`,position:T,is_required:!1,width:"full",created_by:A.id}]).select().single();if(L)throw L;h(D=>[...D,F])}catch(A){console.error("Error adding field:",A),s("Error adding field")}finally{n(!1)}},y=async E=>{try{n(!0),s("");const{data:{user:A}}=await K.auth.getUser();if(!A)throw new Error("User not authenticated");const{error:T}=await K.from("form_fields").update({...E,updated_by:A.id}).eq("id",E.id);if(T)throw T;h(F=>F.map(L=>L.id===E.id?E:L))}catch(A){console.error("Error updating field:",A),s("Error updating field")}finally{n(!1)}},C=async E=>{if(confirm("Are you sure you want to delete this field? This action cannot be undone."))try{n(!0),s("");const{error:A}=await K.from("form_fields").delete().eq("id",E);if(A)throw A;h(T=>T.filter(F=>F.id!==E))}catch(A){console.error("Error deleting field:",A),s("Error deleting field")}finally{n(!1)}},S=async(E,A)=>{try{const T=u[E],F=u[A],L=[...u];L[E]=F,L[A]=T,h(L);const D=[{id:T.id,position:A,field_type:T.field_type,label:T.label,is_required:T.is_required,width:T.width},{id:F.id,position:E,field_type:F.field_type,label:F.label,is_required:F.is_required,width:F.width}],{error:O}=await K.from("form_fields").upsert(D);if(O)throw O}catch(T){console.error("Error updating field positions:",T),s("Error updating field positions"),h(u)}},_=()=>{c&&window.open(`/forms/preview/${c.id}`,"_blank")};return t&&!c?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):c?o.jsxs(nne,{backend:Xne,children:[o.jsx(Yt,{title:`Edit Form: ${c.title} | Admin Panel`,description:"Edit form fields and settings"}),o.jsxs("div",{className:"form-editor-layout",children:[o.jsx("div",{className:"form-editor-main",children:o.jsxs("div",{className:"form-editor-content p-4 md:p-6",children:[a&&o.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:a}),i&&o.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:i}),o.jsx("div",{className:"form_editor_fields_container",children:u.length>0?o.jsx("div",{className:"space-y-4",children:u.map((E,A)=>o.jsx(uae,{field:E,index:A,moveField:S,onEdit:y,onDelete:C},E.id))}):o.jsx("div",{className:"form_editor_fields_no_fields",children:o.jsx("div",{className:"dropzone__target",children:o.jsxs("div",{className:"dropzone__placeholder",children:[o.jsx("img",{src:"/images/error/maintenance.svg",alt:"No fields",className:"gform-editor__no-fields-graphic dark:hidden"}),o.jsx("img",{src:"/images/error/maintenance-dark.svg",alt:"No fields",className:"gform-editor__no-fields-graphic hidden dark:block"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Arraste campos aqui ou use o menu lateral para adicionar campos ao seu formulrio"})]})})})})]})}),o.jsxs("div",{className:"form-editor-sidebar",children:[o.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:[o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-white/90",children:c.title}),c.description&&o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:c.description})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Jt,{options:[{value:"draft",label:"Rascunho"},{value:"published",label:"Publicado"},{value:"archived",label:"Arquivado"}],value:m,onChange:E=>g(E)}),o.jsx(at,{onClick:x,disabled:t,children:t?"Salvando...":"Salvar"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(at,{variant:"outline",onClick:()=>p(!f),className:"w-full",children:[o.jsx(kl,{className:"w-5 h-5 mr-2"}),"Shortcode"]}),o.jsxs(at,{variant:"outline",onClick:_,className:"w-full",children:[o.jsx(Mo,{className:"w-5 h-5 mr-2"}),"Visualizar"]})]}),o.jsxs(at,{variant:"outline",onClick:()=>e(`/forms/settings/${c.id}`),className:"w-full",children:[o.jsx(u4,{className:"w-5 h-5 mr-2"}),"Configuraes"]}),o.jsxs(at,{variant:"outline",onClick:()=>e("/forms"),className:"w-full",children:[o.jsx(_N,{className:"w-5 h-5 mr-2"}),"Voltar"]})]})]}),f&&o.jsx("div",{className:"mt-4",children:o.jsx(hae,{formId:c.id})})]}),o.jsx(Zne,{onAddField:b})]})]})]}):o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-error-500",children:"Form not found"})})}function pae(){const{id:r}=zo(),e=mr(),[t,n]=w.useState(!1),[a,s]=w.useState(""),[i,l]=w.useState(!1),[c,d]=w.useState([]),[u,h]=w.useState({title:"",description:"",submit_button_text:"Enviar",success_message:"",failure_message:"",redirect_page:"",no_data_message:"Nenhum registro encontrado"});w.useEffect(()=>{r&&(p(),f())},[r]);async function f(){try{const{data:g,error:v}=await K.from("pages").select("id, title, slug, status").eq("status","published").order("title",{ascending:!0});if(v)throw v;d(g||[])}catch(g){console.error("Error loading pages:",g)}}async function p(){try{n(!0),s("");const{data:g,error:v}=await K.from("forms").select("*").eq("id",r).single();if(v)throw v;g&&h({title:g.title||"",description:g.description||"",submit_button_text:g.submit_button_text||"Enviar",success_message:g.success_message||"",failure_message:g.failure_message||"",redirect_page:g.redirect_page||"",no_data_message:g.no_data_message||"Nenhum registro encontrado"})}catch(g){console.error("Error loading form settings:",g),s("Error loading form settings"),e("/forms")}finally{n(!1)}}const m=async g=>{g.preventDefault();try{n(!0),s(""),l(!1);const{data:{user:v}}=await K.auth.getUser();if(!v)throw new Error("User not authenticated");const{error:x}=await K.from("forms").update({title:u.title.trim(),description:u.description.trim()||null,submit_button_text:u.submit_button_text.trim(),success_message:u.success_message.trim()||null,failure_message:u.failure_message.trim()||null,redirect_page:u.redirect_page||null,no_data_message:u.no_data_message.trim()||"Nenhum registro encontrado",updated_by:v.id}).eq("id",r);if(x)throw x;l(!0),setTimeout(()=>{e(`/forms/edit/${r}`)},1500)}catch(v){console.error("Error saving form settings:",v),s("Error saving form settings")}finally{n(!1)}};return t&&!u.title?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"Form Settings | Admin Panel",description:"Configure form settings"}),o.jsx(kr,{pageTitle:"Form Settings"}),o.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]",children:[a&&o.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:a}),i&&o.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:"Configuraes salvas com sucesso!"}),o.jsxs("form",{onSubmit:m,className:"max-w-2xl space-y-6",children:[o.jsxs("div",{children:[o.jsx(Te,{children:"Ttulo do Formulrio"}),o.jsx(st,{type:"text",value:u.title,onChange:g=>h({...u,title:g.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Description"}),o.jsx(st,{type:"text",value:u.description,onChange:g=>h({...u,description:g.target.value})})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Submit Button Text"}),o.jsx(st,{type:"text",value:u.submit_button_text,onChange:g=>h({...u,submit_button_text:g.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Success Message"}),o.jsx(st,{type:"text",value:u.success_message,onChange:g=>h({...u,success_message:g.target.value}),placeholder:"Form submitted successfully!"})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Error Message"}),o.jsx(st,{type:"text",value:u.failure_message,onChange:g=>h({...u,failure_message:g.target.value}),placeholder:"Error submitting form. Please try again."})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"No Data Message"}),o.jsx(st,{type:"text",value:u.no_data_message,onChange:g=>h({...u,no_data_message:g.target.value}),placeholder:"No entries found"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Message to display when there are no entries to show"})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Redirect Page"}),o.jsx(Jt,{options:[{value:"",label:"None (show success message)"},...c.map(g=>({value:g.slug,label:g.title}))],value:u.redirect_page,onChange:g=>h({...u,redirect_page:g})}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Select a page to redirect to after successful form submission"})]}),o.jsxs("div",{className:"flex gap-4 pt-6",children:[o.jsx(at,{variant:"outline",onClick:()=>e(`/forms/edit/${r}`),children:"Cancelar"}),o.jsx(at,{disabled:t,children:t?"Salvando...":"Salvar"})]})]})]})]})}function gae(){const{id:r}=zo(),[e,t]=w.useState(!0),[n,a]=w.useState(""),[s,i]=w.useState(null);w.useEffect(()=>{r&&l(r)},[r]);async function l(c){try{t(!0),a("");const{data:d,error:u}=await K.from("forms").select("*").eq("id",c).single();if(u)throw u;if(!d)throw new Error("Form not found");i(d)}catch(d){console.error("Error loading form:",d),a(d.message||"Error loading form")}finally{t(!1)}}return e?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):n?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-error-500",children:n})}):o.jsxs(o.Fragment,{children:[o.jsx(gd,{}),o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-white/90 mb-6",children:s.title}),s.description&&o.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8",children:s.description}),o.jsx(sL,{formId:s.id})]})})]})}function E3({show:r,message:e,type:t="success",top:n=90,onClose:a,className:s}){const i=w.useRef(null),[l,c]=w.useState(!1),[d,u]=w.useState(!1);w.useEffect(()=>{r?(u(!0),setTimeout(()=>c(!0),10)):!r&&l&&c(!1)},[r]),w.useEffect(()=>{if(!l&&d){const f=setTimeout(()=>{u(!1),a&&a()},500);return()=>clearTimeout(f)}},[l,d,a]);const h=()=>{c(!1)};return d?o.jsx("div",{ref:i,className:`fixed right-0 z-[999999] transition-transform duration-500 ${t==="success"?"bg-success-500 dark:bg-success-600":"bg-error-500 dark:bg-error-600"} text-white px-6 py-3 rounded-l-lg shadow-lg flex items-center ${s||""}`,style:{minWidth:220,top:n,transform:l?"translateX(0)":"translateX(100%)"},onClick:h,children:e}):null}async function N5(){const{data:r,error:e}=await K.from("publisher_services").select("*");return e?(console.error("Erro ao buscar publisher_services:",e),null):r}async function mae(r){const{data:e,error:t}=await K.from("publisher_services").select("*").eq("id",r).single();return t?(console.error("Erro ao buscar publisher_service por id:",t),null):e}async function xae(r){const{data:e,error:t}=await K.from("publisher_services").insert([r]).select().single();return t?(console.error("Erro ao criar publisher_service:",t),null):e}async function vae(r,e){const{data:t,error:n}=await K.from("publisher_services").update(e).eq("id",r).select().single();return n?(console.error("Erro ao atualizar publisher_service:",n),null):t}async function bae(r){const{error:e}=await K.from("publisher_services").delete().eq("id",r);return e?(console.error("Erro ao deletar publisher_service:",e),!1):!0}async function yae(r,e,t,n){if(console.log("setActivePublisherService params:",{id:r,current_id:e,service_type:t,checked:n}),n){const{data:a,error:s}=await K.from("publisher_services").select("id, is_active").eq("current_id",e).eq("service_type",t).neq("id",r);if(s){console.error("Erro ao buscar outros servios:",s);return}if(a&&a.length>0){const i=a.map(l=>l.id);await K.from("publisher_services").update({is_active:!1}).in("id",i)}}await K.from("publisher_services").update({is_active:n}).eq("id",r)}const PL=w.createContext({fetchServices:()=>{}}),LL=()=>w.useContext(PL),wae=[{value:"Contedo",label:"Contedo"},{value:"Patrocinio",label:"Patrocinio"},{value:"Radio",label:"Radio"}];function kae({field:r}){const[e,t]=w.useState(!1),[n,a]=w.useState(""),[s,i]=w.useState("Contedo"),[l,c]=w.useState(""),[d,u]=w.useState([]),[h,f]=w.useState([]),[p,m]=w.useState(null),[g,v]=w.useState(null),{fetchServices:x}=LL();w.useEffect(()=>{async function C(){const S=await x3();console.log("Resultado do getForms:",S),S&&u(S.map(_=>({id:_.id,name:_.title})))}C()},[]),w.useEffect(()=>{async function C(){const S=await TB();if(!S){m(null),v(null);return}v(S),S.type==="admin"?m("admin"):S.type==="platform"&&m(S.data.role||"platform")}C()},[]),w.useEffect(()=>{if(!s||d.length===0)return;let C="";if(s==="Contedo"?C="cadastro de sites":s==="Radio"?C="Radios":s==="Patrocinio"&&(C="serv32"),C){const S=d.find(_=>_.name.trim().toLowerCase()===C.trim().toLowerCase());S&&c(S.id)}},[s,d]);function b(C,S){const _=th();f(E=>[...E,{id:_,message:C,type:S}]),setTimeout(()=>{f(E=>E.filter(A=>A.id!==_))},4e3)}const y=async C=>{if(C.preventDefault(),!n||!s||!l||!g)return;const S={service_title:n,service_type:s,product_type:l};p==="admin"?S.admin_id=g.user.id:S.user_id=g.user.id,await xae(S)?(b("Servio cadastrado com sucesso!","success"),t(!1),a(""),i("Contedo"),c(""),x()):b("Erro ao criar servio. Tente novamente ou entre em contato com o suporte.","error")};return o.jsxs(o.Fragment,{children:[h.map((C,S)=>o.jsx(E3,{show:!0,message:C.message,type:C.type,top:90+S*60,onClose:()=>{f(_=>_.filter(E=>E.id!==C.id))}},C.id)),o.jsx("div",{className:"mb-6",children:o.jsx(at,{onClick:()=>t(!0),children:r.label||"Abrir Modal"})}),e&&o.jsx("div",{onMouseDown:()=>t(!1),className:"fixed inset-0 z-[99999] flex items-center justify-center bg-gray-400/50 backdrop-blur-[--background-blur] dark:text-white",children:o.jsxs("div",{onMouseDown:C=>C.stopPropagation(),className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:r.modalTitle||"Novo Servio"}),o.jsxs("form",{className:"space-y-4",onSubmit:y,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ttulo do servio"}),o.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-black dark:bg-gray-900 dark:border-gray-700 dark:text-white",value:n,onChange:C=>a(C.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de servio"}),o.jsx("select",{className:"w-full border rounded px-3 py-2 text-black dark:bg-gray-900 dark:border-gray-700 dark:text-white",value:s,onChange:C=>i(C.target.value),required:!0,children:wae.map(C=>o.jsx("option",{value:C.value,children:C.label},C.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Produto"}),o.jsxs("select",{className:"w-full border rounded px-3 py-2 text-black appearance-none !bg-none dark:bg-gray-900 dark:border-gray-700 dark:text-white",value:l,onChange:C=>c(C.target.value),required:!0,disabled:!0,style:{backgroundImage:"none"},children:[o.jsx("option",{value:"",children:"Selecione um formulrio"}),d.map(C=>o.jsx("option",{value:C.id,children:C.name},C.id))]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[o.jsx("button",{type:"button",onClick:()=>{t(!1),a(""),i("Contedo"),c("")},className:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400 transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-500 text-white rounded hover:bg-brand-600 transition-colors",children:"Salvar"})]})]})]})})]})}function E5(){return E5=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},E5.apply(this,arguments)}var Cae=ft.createElement("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0}},ft.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})),Sae=ft.createElement("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0}},ft.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}));function P8(r){if(r.length===7)return r;for(var e="#",t=1;t<4;t+=1)e+=r[t]+r[t];return e}function L8(r,e,t,n,a){return function(s,i,l,c,d){var u=(s-l)/(i-l);if(u===0)return c;if(u===1)return d;for(var h="#",f=1;f<6;f+=2){var p=parseInt(c.substr(f,2),16),m=parseInt(d.substr(f,2),16),g=Math.round((1-u)*p+u*m).toString(16);g.length===1&&(g="0"+g),h+=g}return h}(r,e,t,P8(n),P8(a))}var S1=function(r){function e(t){r.call(this,t);var n=t.height,a=t.width,s=t.checked;this.t=t.handleDiameter||n-2,this.i=Math.max(a-n,a-(n+this.t)/2),this.o=Math.max(0,(n-this.t)/2),this.state={h:s?this.i:this.o},this.l=0,this.u=0,this.p=this.p.bind(this),this.v=this.v.bind(this),this.k=this.k.bind(this),this.m=this.m.bind(this),this.M=this.M.bind(this),this.T=this.T.bind(this),this.$=this.$.bind(this),this.C=this.C.bind(this),this.D=this.D.bind(this),this.O=this.O.bind(this),this.S=this.S.bind(this),this.W=this.W.bind(this)}return r&&(e.__proto__=r),(e.prototype=Object.create(r&&r.prototype)).constructor=e,e.prototype.componentDidMount=function(){this.I=!0},e.prototype.componentDidUpdate=function(t){t.checked!==this.props.checked&&this.setState({h:this.props.checked?this.i:this.o})},e.prototype.componentWillUnmount=function(){this.I=!1},e.prototype.H=function(t){this.R.focus(),this.setState({j:t,B:!0,L:Date.now()})},e.prototype.N=function(t){var n=this.state,a=n.j,s=n.h,i=(this.props.checked?this.i:this.o)+t-a;n.U||t===a||this.setState({U:!0});var l=Math.min(this.i,Math.max(this.o,i));l!==s&&this.setState({h:l})},e.prototype.A=function(t){var n=this.state,a=n.h,s=n.U,i=n.L,l=this.props.checked,c=(this.i+this.o)/2;this.setState({h:this.props.checked?this.i:this.o});var d=Date.now()-i;(!s||d<250||l&&a<=c||!l&&a>=c)&&this.X(t),this.I&&this.setState({U:!1,B:!1}),this.l=Date.now()},e.prototype.p=function(t){t.preventDefault(),typeof t.button=="number"&&t.button!==0||(this.H(t.clientX),window.addEventListener("mousemove",this.v),window.addEventListener("mouseup",this.k))},e.prototype.v=function(t){t.preventDefault(),this.N(t.clientX)},e.prototype.k=function(t){this.A(t),window.removeEventListener("mousemove",this.v),window.removeEventListener("mouseup",this.k)},e.prototype.m=function(t){this.F=null,this.H(t.touches[0].clientX)},e.prototype.M=function(t){this.N(t.touches[0].clientX)},e.prototype.T=function(t){t.preventDefault(),this.A(t)},e.prototype.C=function(t){Date.now()-this.l>50&&(this.X(t),Date.now()-this.u>50&&this.I&&this.setState({B:!1}))},e.prototype.D=function(){this.u=Date.now()},e.prototype.O=function(){this.setState({B:!0})},e.prototype.S=function(){this.setState({B:!1})},e.prototype.W=function(t){this.R=t},e.prototype.$=function(t){t.preventDefault(),this.R.focus(),this.X(t),this.I&&this.setState({B:!1})},e.prototype.X=function(t){var n=this.props;(0,n.onChange)(!n.checked,t,n.id)},e.prototype.render=function(){var t=this.props,n=t.checked,a=t.disabled,s=t.className,i=t.offColor,l=t.onColor,c=t.offHandleColor,d=t.onHandleColor,u=t.checkedIcon,h=t.uncheckedIcon,f=t.checkedHandleIcon,p=t.uncheckedHandleIcon,m=t.boxShadow,g=t.activeBoxShadow,v=t.height,x=t.width,b=t.borderRadius,y=function(B,z){var V={};for(var W in B)Object.prototype.hasOwnProperty.call(B,W)&&z.indexOf(W)===-1&&(V[W]=B[W]);return V}(t,["checked","disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","checkedHandleIcon","uncheckedHandleIcon","boxShadow","activeBoxShadow","height","width","borderRadius","handleDiameter"]),C=this.state,S=C.h,_=C.U,E=C.B,A={position:"relative",display:"inline-block",textAlign:"left",opacity:a?.5:1,direction:"ltr",borderRadius:v/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},T={height:v,width:x,margin:Math.max(0,(this.t-v)/2),position:"relative",background:L8(S,this.i,this.o,i,l),borderRadius:typeof b=="number"?b:v/2,cursor:a?"default":"pointer",WebkitTransition:_?null:"background 0.25s",MozTransition:_?null:"background 0.25s",transition:_?null:"background 0.25s"},F={height:v,width:Math.min(1.5*v,x-(this.t+v)/2+1),position:"relative",opacity:(S-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:_?null:"opacity 0.25s",MozTransition:_?null:"opacity 0.25s",transition:_?null:"opacity 0.25s"},L={height:v,width:Math.min(1.5*v,x-(this.t+v)/2+1),position:"absolute",opacity:1-(S-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:_?null:"opacity 0.25s",MozTransition:_?null:"opacity 0.25s",transition:_?null:"opacity 0.25s"},D={height:this.t,width:this.t,background:L8(S,this.i,this.o,c,d),display:"inline-block",cursor:a?"default":"pointer",borderRadius:typeof b=="number"?b-1:"50%",position:"absolute",transform:"translateX("+S+"px)",top:Math.max(0,(v-this.t)/2),outline:0,boxShadow:E?g:m,border:0,WebkitTransition:_?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:_?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:_?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"},O={height:this.t,width:this.t,opacity:Math.max(2*(1-(S-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:_?null:"opacity 0.25s",MozTransition:_?null:"opacity 0.25s",transition:_?null:"opacity 0.25s"},I={height:this.t,width:this.t,opacity:Math.max(2*((S-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:_?null:"opacity 0.25s",MozTransition:_?null:"opacity 0.25s",transition:_?null:"opacity 0.25s"};return ft.createElement("div",{className:s,style:A},ft.createElement("div",{className:"react-switch-bg",style:T,onClick:a?null:this.$,onMouseDown:function(B){return B.preventDefault()}},u&&ft.createElement("div",{style:F},u),h&&ft.createElement("div",{style:L},h)),ft.createElement("div",{className:"react-switch-handle",style:D,onClick:function(B){return B.preventDefault()},onMouseDown:a?null:this.p,onTouchStart:a?null:this.m,onTouchMove:a?null:this.M,onTouchEnd:a?null:this.T,onTouchCancel:a?null:this.S},p&&ft.createElement("div",{style:O},p),f&&ft.createElement("div",{style:I},f)),ft.createElement("input",E5({},{type:"checkbox",role:"switch","aria-checked":n,checked:n,disabled:a,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}},y,{ref:this.W,onFocus:this.O,onBlur:this.S,onKeyUp:this.D,onChange:this.C})))},e}(w.Component);S1.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:Cae,checkedIcon:Sae,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56};function jae({serviceId:r,open:e,onClose:t}){const[n,a]=w.useState(""),[s,i]=w.useState("Contedo"),[l,c]=w.useState(""),[d,u]=w.useState([]),[h,f]=w.useState([]),{fetchServices:p}=LL();w.useEffect(()=>{e&&r&&(async()=>{const x=await mae(r);x&&(a(x.service_title),i(x.service_type),c(x.product_type))})()},[e,r]),w.useEffect(()=>{async function x(){const b=await x3();b&&u(b.map(y=>({value:y.id,label:y.title})))}e&&x()},[e]),w.useEffect(()=>{if(!s||d.length===0)return;let x="";if(s==="Contedo"?x="cadastro de sites":s==="Radio"?x="Radios":s==="Patrocinio"&&(x="serv32"),x){const b=d.find(y=>y.label.trim().toLowerCase()===x.trim().toLowerCase());b&&c(b.value)}},[s,d]);function m(x,b){const y=th();f(C=>[...C,{id:y,message:x,type:b}]),setTimeout(()=>{f(C=>C.filter(S=>S.id!==y))},4e3)}const g=async x=>{if(x.preventDefault(),!n||!s||!l)return;await vae(r,{service_title:n,service_type:s,product_type:l})?(m("Servio atualizado com sucesso!","success"),setTimeout(()=>{t(),p()},400)):m("Erro ao atualizar servio. Tente novamente ou entre em contato com o suporte.","error")},v=[{value:"Contedo",label:"Contedo"},{value:"Patrocinio",label:"Patrocinio"},{value:"Radio",label:"Radio"}];return o.jsxs(o.Fragment,{children:[h.map((x,b)=>o.jsx(E3,{show:!0,message:x.message,type:x.type,top:90+b*60,onClose:()=>{f(y=>y.filter(C=>C.id!==x.id))},className:`toast-anim-${x.id}`},x.id)),e&&o.jsx("div",{onMouseDown:t,className:"fixed inset-0 z-[99999] flex items-center justify-center bg-gray-400/50 backdrop-blur-[--background-blur] dark:text-white",children:o.jsxs("div",{onMouseDown:x=>x.stopPropagation(),className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Editar Servio"}),o.jsxs("form",{className:"space-y-4",onSubmit:g,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ttulo do servio"}),o.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-black dark:bg-gray-900 dark:border-gray-700 dark:text-white",value:n,onChange:x=>a(x.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de servio"}),o.jsx(Jt,{options:v,value:s,onChange:i,placeholder:"Selecione o tipo de servio",className:"dark:bg-gray-900 dark:border-gray-700 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de produto"}),o.jsx(Jt,{options:d,value:l,onChange:()=>{},placeholder:"Selecione o formulrio",className:"pointer-events-none opacity-60 appearance-none !bg-none dark:bg-gray-900 dark:border-gray-700 dark:text-white"})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400 transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-500 text-white rounded hover:bg-brand-600 transition-colors",children:"Salvar"})]})]})]})})]})}function _ae(r){return new Date(r).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}const Nae=({packages:r,onDelete:e,onRefresh:t})=>{const[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(()=>{const C={};return r.forEach(S=>{C[S.id]=S.is_active}),C}),d=mr();ft.useEffect(()=>{c(C=>{const S={...C};return r.forEach(_=>{S[_.id]=_.is_active}),S})},[r]);const u=C=>{i(C),a(!0)},h=async(C,S)=>{if(!window.confirm(`Tem certeza que deseja excluir o servio "${S}"?`))return;await bae(C)?e(C):alert("Erro ao excluir servio.")},[f,p]=w.useState("created_at"),[m,g]=w.useState("desc"),v=C=>{f===C?g(S=>S==="asc"?"desc":"asc"):(p(C),g("asc"))},x=[...r].sort((C,S)=>{let _=C[f],E=S[f];return f==="created_at"||f==="updated_at"?(_=_?new Date(_).getTime():0,E=E?new Date(E).getTime():0,m==="asc"?_-E:E-_):typeof _=="string"&&typeof E=="string"?(_=_.toLowerCase(),E=E.toLowerCase(),_<E?m==="asc"?-1:1:_>E?m==="asc"?1:-1:0):typeof _=="number"&&typeof E=="number"?m==="asc"?_-E:E-_:typeof _=="boolean"&&typeof E=="boolean"?m==="asc"?Number(_)-Number(E):Number(E)-Number(_):_==null?1:E==null?-1:0}),b={};x.forEach(C=>{b[C.service_type]||(b[C.service_type]=[]),b[C.service_type].push(C)});const y=Object.keys(b);return o.jsxs(o.Fragment,{children:[o.jsx(jae,{serviceId:s||"",open:n,onClose:()=>a(!1)}),o.jsx("div",{className:"mt-6 overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:o.jsx("div",{className:"max-w-full overflow-x-auto",children:o.jsx("div",{className:"min-w-[1102px]",children:o.jsxs(no,{children:[o.jsx(ao,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:o.jsxs(Tr,{children:[o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("title"),children:[o.jsx("span",{children:"Ttulo"}),f==="title"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("fields"),children:[o.jsx("span",{children:"Cards"}),f==="fields"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("service_type"),children:[o.jsx("span",{children:"Tipo de Servio"}),f==="service_type"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("updated_at"),children:[o.jsx("span",{children:"ltima atualizao"}),f==="updated_at"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("is_active"),children:[o.jsx("span",{children:"Status"}),f==="is_active"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left select-none px-5 py-3",children:o.jsx("span",{children:"Aes"})})})]})}),o.jsxs(so,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:[y.map(C=>o.jsx(ft.Fragment,{children:b[C].map(S=>o.jsxs(Tr,{children:[o.jsx(rt,{className:"px-5 py-4 sm:px-6 text-start",children:o.jsx("span",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:S.title})}),o.jsxs(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:[S.fields," ",S.fields<=1?"Card":"Cards"]}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:S.service_type}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:_ae(S.updated_at)}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:S.is_active===!0?o.jsx("span",{className:"inline-block px-2 py-1 rounded-full bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300 text-xs font-semibold",onClick:()=>console.log(S),children:"Ativo"}):o.jsx("span",{className:"inline-block px-2 py-1 rounded-full bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300 text-xs font-semibold",onClick:()=>console.log(S),children:"Inativo"})}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Editar",onClick:()=>{console.log("id:",S.id),d(`/service-packages/${S.id}`)},children:o.jsx(Pi,{className:"w-5 h-5"})}),o.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Configuraes",onClick:()=>u(S.id),children:o.jsx(h4,{className:"w-5 h-5"})}),o.jsx("button",{className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",title:"Excluir",onClick:()=>h(S.id,S.title),children:o.jsx(rs,{className:"w-5 h-5"})}),o.jsx(S1,{checked:l[S.id],onChange:async _=>{c(E=>({...E,[S.id]:_})),await yae(S.id,S.current_id,S.service_type,_),t&&await t()},onColor:"#3b82f6",offColor:"#d1d5db",checkedIcon:!1,uncheckedIcon:!1,height:16,width:32})]})})]},S.id))},C)),r.length===0&&o.jsx(Tr,{children:o.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"Nenhum registro encontrado."})})]})]})})})})]})};async function rh(){const{data:r,error:e}=await K.from("service_cards").select(`
      id,
      service_id,
      title,
      subtitle,
      price,
      price_per_word,
      word_count,
      benefits,
      not_benefits,
      period,
      is_free,
      updated_at,
      layout_toggle
    `).order("order_layout",{ascending:!0});return e?(console.error("Erro ao buscar service_cards:",e),null):r}async function Eae(r){const{data:e,error:t}=await K.from("service_cards").select("*").eq("id",r).single();return t?(console.error("Erro ao buscar service_card por id:",t),null):e}async function Aae(r){const{data:e,error:t}=await K.from("service_cards").insert([r]).select().single();return t?(console.error("Erro ao criar service_card:",t),null):e}async function Pae(r,e){const{data:t,error:n}=await K.from("service_cards").update(e).eq("id",r).select().single();return n?(console.error("Erro ao atualizar service_card:",n),null):t}async function Lae(r){const{error:e}=await K.from("service_cards").delete().eq("id",r);return e?(console.error("Erro ao deletar service_card:",e),!1):!0}async function Dae(r){const e=r.map(t=>K.from("service_cards").update({order_layout:t.order_layout}).eq("id",t.id));await Promise.all(e)}async function Tae(r,e){const{error:t}=await K.from("service_cards").update({layout_toggle:e}).eq("id",r);return t?(console.error("Erro ao atualizar layout_toggle do service_card:",t),!1):!0}const Rae=()=>{const[r,e]=w.useState([]),[t,n]=w.useState(!0),a=async()=>{n(!0);const s=await N5();let i=[];try{i=await rh()||[]}catch{i=[]}e(s?s.map(l=>{const c=l.id,d=i.filter(u=>u.service_id===c).length;return{id:l.id,current_id:l.current_id,title:l.service_title,fields:d,service_type:l.service_type,updated_at:l.updated_at,is_active:l.is_active,created_at:l.created_at,service_id:l.id}}).sort((l,c)=>new Date(l.created_at).getTime()-new Date(c.created_at).getTime()):[]),n(!1)};return w.useEffect(()=>{a()},[]),o.jsx(PL.Provider,{value:{fetchServices:a},children:o.jsxs("div",{children:[o.jsx("h2",{className:"mb-6 text-xl font-semibold text-gray-800 dark:text-white/90","x-text":"pageName",children:"Servios"}),o.jsx(kae,{field:{label:"Novo Servio",modalTitle:"Adicionar novo servio"}}),o.jsx(Nae,{packages:r,onDelete:s=>e(i=>i.filter(l=>l.id!==s)),onRefresh:a}),t&&o.jsx("div",{className:"fixed bottom-6 right-6 z-[9999] bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 shadow-lg rounded-lg px-6 py-3 text-gray-500 dark:text-gray-200 animate-fade-in",children:"Carregando..."})]})})};function Mae(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return w.useMemo(()=>n=>{e.forEach(a=>a(n))},e)}const j1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kh(r){const e=Object.prototype.toString.call(r);return e==="[object Window]"||e==="[object global]"}function A3(r){return"nodeType"in r}function ns(r){var e,t;return r?kh(r)?r:A3(r)&&(e=(t=r.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function P3(r){const{Document:e}=ns(r);return r instanceof e}function Jp(r){return kh(r)?!1:r instanceof ns(r).HTMLElement}function DL(r){return r instanceof ns(r).SVGElement}function Ch(r){return r?kh(r)?r.document:A3(r)?P3(r)?r:Jp(r)||DL(r)?r.ownerDocument:document:document:document}const to=j1?w.useLayoutEffect:w.useEffect;function L3(r){const e=w.useRef(r);return to(()=>{e.current=r}),w.useCallback(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.current==null?void 0:e.current(...n)},[])}function Iae(){const r=w.useRef(null),e=w.useCallback((n,a)=>{r.current=setInterval(n,a)},[]),t=w.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[e,t]}function jp(r,e){e===void 0&&(e=[r]);const t=w.useRef(r);return to(()=>{t.current!==r&&(t.current=r)},e),t}function Kp(r,e){const t=w.useRef();return w.useMemo(()=>{const n=r(t.current);return t.current=n,n},[...e])}function kx(r){const e=L3(r),t=w.useRef(null),n=w.useCallback(a=>{a!==t.current&&(e==null||e(a,t.current)),t.current=a},[]);return[t,n]}function A5(r){const e=w.useRef();return w.useEffect(()=>{e.current=r},[r]),e.current}let Xb={};function Qp(r,e){return w.useMemo(()=>{if(e)return e;const t=Xb[r]==null?0:Xb[r]+1;return Xb[r]=t,r+"-"+t},[r,e])}function TL(r){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.reduce((s,i)=>{const l=Object.entries(i);for(const[c,d]of l){const u=s[c];u!=null&&(s[c]=u+r*d)}return s},{...e})}}const Tu=TL(1),Cx=TL(-1);function Oae(r){return"clientX"in r&&"clientY"in r}function D3(r){if(!r)return!1;const{KeyboardEvent:e}=ns(r.target);return e&&r instanceof e}function Fae(r){if(!r)return!1;const{TouchEvent:e}=ns(r.target);return e&&r instanceof e}function P5(r){if(Fae(r)){if(r.touches&&r.touches.length){const{clientX:e,clientY:t}=r.touches[0];return{x:e,y:t}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:e,clientY:t}=r.changedTouches[0];return{x:e,y:t}}}return Oae(r)?{x:r.clientX,y:r.clientY}:null}const _p=Object.freeze({Translate:{toString(r){if(!r)return;const{x:e,y:t}=r;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:e,scaleY:t}=r;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(r){if(r)return[_p.Translate.toString(r),_p.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:e,duration:t,easing:n}=r;return e+" "+t+"ms "+n}}}),D8="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Bae(r){return r.matches(D8)?r:r.querySelector(D8)}const zae={display:"none"};function Hae(r){let{id:e,value:t}=r;return ft.createElement("div",{id:e,style:zae},t)}function Uae(r){let{id:e,announcement:t,ariaLiveType:n="assertive"}=r;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ft.createElement("div",{id:e,style:a,role:"status","aria-live":n,"aria-atomic":!0},t)}function Vae(){const[r,e]=w.useState("");return{announce:w.useCallback(n=>{n!=null&&e(n)},[]),announcement:r}}const RL=w.createContext(null);function $ae(r){const e=w.useContext(RL);w.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(r)},[r,e])}function Wae(){const[r]=w.useState(()=>new Set),e=w.useCallback(n=>(r.add(n),()=>r.delete(n)),[r]);return[w.useCallback(n=>{let{type:a,event:s}=n;r.forEach(i=>{var l;return(l=i[a])==null?void 0:l.call(i,s)})},[r]),e]}const qae={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Yae={onDragStart(r){let{active:e}=r;return"Picked up draggable item "+e.id+"."},onDragOver(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(r){let{active:e}=r;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Gae(r){let{announcements:e=Yae,container:t,hiddenTextDescribedById:n,screenReaderInstructions:a=qae}=r;const{announce:s,announcement:i}=Vae(),l=Qp("DndLiveRegion"),[c,d]=w.useState(!1);if(w.useEffect(()=>{d(!0)},[]),$ae(w.useMemo(()=>({onDragStart(h){let{active:f}=h;s(e.onDragStart({active:f}))},onDragMove(h){let{active:f,over:p}=h;e.onDragMove&&s(e.onDragMove({active:f,over:p}))},onDragOver(h){let{active:f,over:p}=h;s(e.onDragOver({active:f,over:p}))},onDragEnd(h){let{active:f,over:p}=h;s(e.onDragEnd({active:f,over:p}))},onDragCancel(h){let{active:f,over:p}=h;s(e.onDragCancel({active:f,over:p}))}}),[s,e])),!c)return null;const u=ft.createElement(ft.Fragment,null,ft.createElement(Hae,{id:n,value:a.draggable}),ft.createElement(Uae,{id:l,announcement:i}));return t?xi.createPortal(u,t):u}var Fn;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(Fn||(Fn={}));function Sx(){}function Xae(r,e){return w.useMemo(()=>({sensor:r,options:e??{}}),[r,e])}function Zae(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return w.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const Ei=Object.freeze({x:0,y:0});function Jae(r,e){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function Kae(r,e){let{data:{value:t}}=r,{data:{value:n}}=e;return t-n}function Qae(r,e){let{data:{value:t}}=r,{data:{value:n}}=e;return n-t}function ese(r,e){if(!r||r.length===0)return null;const[t]=r;return t[e]}function T8(r,e,t){return e===void 0&&(e=r.left),t===void 0&&(t=r.top),{x:e+r.width*.5,y:t+r.height*.5}}const tse=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=r;const a=T8(e,e.left,e.top),s=[];for(const i of n){const{id:l}=i,c=t.get(l);if(c){const d=Jae(T8(c),a);s.push({id:l,data:{droppableContainer:i,value:d}})}}return s.sort(Kae)};function rse(r,e){const t=Math.max(e.top,r.top),n=Math.max(e.left,r.left),a=Math.min(e.left+e.width,r.left+r.width),s=Math.min(e.top+e.height,r.top+r.height),i=a-n,l=s-t;if(n<a&&t<s){const c=e.width*e.height,d=r.width*r.height,u=i*l,h=u/(c+d-u);return Number(h.toFixed(4))}return 0}const nse=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=r;const a=[];for(const s of n){const{id:i}=s,l=t.get(i);if(l){const c=rse(l,e);c>0&&a.push({id:i,data:{droppableContainer:s,value:c}})}}return a.sort(Qae)};function ase(r,e,t){return{...r,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function ML(r,e){return r&&e?{x:r.left-e.left,y:r.top-e.top}:Ei}function sse(r){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return a.reduce((i,l)=>({...i,top:i.top+r*l.y,bottom:i.bottom+r*l.y,left:i.left+r*l.x,right:i.right+r*l.x}),{...t})}}const ise=sse(1);function ose(r){if(r.startsWith("matrix3d(")){const e=r.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(r.startsWith("matrix(")){const e=r.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function lse(r,e,t){const n=ose(e);if(!n)return r;const{scaleX:a,scaleY:s,x:i,y:l}=n,c=r.left-i-(1-a)*parseFloat(t),d=r.top-l-(1-s)*parseFloat(t.slice(t.indexOf(" ")+1)),u=a?r.width/a:r.width,h=s?r.height/s:r.height;return{width:u,height:h,top:d,right:c+u,bottom:d+h,left:c}}const cse={ignoreTransform:!1};function Sh(r,e){e===void 0&&(e=cse);let t=r.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:u}=ns(r).getComputedStyle(r);d&&(t=lse(t,d,u))}const{top:n,left:a,width:s,height:i,bottom:l,right:c}=t;return{top:n,left:a,width:s,height:i,bottom:l,right:c}}function R8(r){return Sh(r,{ignoreTransform:!0})}function dse(r){const e=r.innerWidth,t=r.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function use(r,e){return e===void 0&&(e=ns(r).getComputedStyle(r)),e.position==="fixed"}function hse(r,e){e===void 0&&(e=ns(r).getComputedStyle(r));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const s=e[a];return typeof s=="string"?t.test(s):!1})}function T3(r,e){const t=[];function n(a){if(e!=null&&t.length>=e||!a)return t;if(P3(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!Jp(a)||DL(a)||t.includes(a))return t;const s=ns(r).getComputedStyle(a);return a!==r&&hse(a,s)&&t.push(a),use(a,s)?t:n(a.parentNode)}return r?n(r):t}function IL(r){const[e]=T3(r,1);return e??null}function Zb(r){return!j1||!r?null:kh(r)?r:A3(r)?P3(r)||r===Ch(r).scrollingElement?window:Jp(r)?r:null:null}function OL(r){return kh(r)?r.scrollX:r.scrollLeft}function FL(r){return kh(r)?r.scrollY:r.scrollTop}function L5(r){return{x:OL(r),y:FL(r)}}var Gn;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(Gn||(Gn={}));function BL(r){return!j1||!r?!1:r===document.scrollingElement}function zL(r){const e={x:0,y:0},t=BL(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},n={x:r.scrollWidth-t.width,y:r.scrollHeight-t.height},a=r.scrollTop<=e.y,s=r.scrollLeft<=e.x,i=r.scrollTop>=n.y,l=r.scrollLeft>=n.x;return{isTop:a,isLeft:s,isBottom:i,isRight:l,maxScroll:n,minScroll:e}}const fse={x:.2,y:.2};function pse(r,e,t,n,a){let{top:s,left:i,right:l,bottom:c}=t;n===void 0&&(n=10),a===void 0&&(a=fse);const{isTop:d,isBottom:u,isLeft:h,isRight:f}=zL(r),p={x:0,y:0},m={x:0,y:0},g={height:e.height*a.y,width:e.width*a.x};return!d&&s<=e.top+g.height?(p.y=Gn.Backward,m.y=n*Math.abs((e.top+g.height-s)/g.height)):!u&&c>=e.bottom-g.height&&(p.y=Gn.Forward,m.y=n*Math.abs((e.bottom-g.height-c)/g.height)),!f&&l>=e.right-g.width?(p.x=Gn.Forward,m.x=n*Math.abs((e.right-g.width-l)/g.width)):!h&&i<=e.left+g.width&&(p.x=Gn.Backward,m.x=n*Math.abs((e.left+g.width-i)/g.width)),{direction:p,speed:m}}function gse(r){if(r===document.scrollingElement){const{innerWidth:s,innerHeight:i}=window;return{top:0,left:0,right:s,bottom:i,width:s,height:i}}const{top:e,left:t,right:n,bottom:a}=r.getBoundingClientRect();return{top:e,left:t,right:n,bottom:a,width:r.clientWidth,height:r.clientHeight}}function HL(r){return r.reduce((e,t)=>Tu(e,L5(t)),Ei)}function mse(r){return r.reduce((e,t)=>e+OL(t),0)}function xse(r){return r.reduce((e,t)=>e+FL(t),0)}function vse(r,e){if(e===void 0&&(e=Sh),!r)return;const{top:t,left:n,bottom:a,right:s}=e(r);IL(r)&&(a<=0||s<=0||t>=window.innerHeight||n>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const bse=[["x",["left","right"],mse],["y",["top","bottom"],xse]];class R3{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=T3(t),a=HL(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,i,l]of bse)for(const c of i)Object.defineProperty(this,c,{get:()=>{const d=l(n),u=a[s]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class $f{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...t)})},this.target=e}add(e,t,n){var a;(a=this.target)==null||a.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function yse(r){const{EventTarget:e}=ns(r);return r instanceof e?r:Ch(r)}function Jb(r,e){const t=Math.abs(r.x),n=Math.abs(r.y);return typeof e=="number"?Math.sqrt(t**2+n**2)>e:"x"in e&&"y"in e?t>e.x&&n>e.y:"x"in e?t>e.x:"y"in e?n>e.y:!1}var Vs;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(Vs||(Vs={}));function M8(r){r.preventDefault()}function wse(r){r.stopPropagation()}var br;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(br||(br={}));const UL={start:[br.Space,br.Enter],cancel:[br.Esc],end:[br.Space,br.Enter,br.Tab]},kse=(r,e)=>{let{currentCoordinates:t}=e;switch(r.code){case br.Right:return{...t,x:t.x+25};case br.Left:return{...t,x:t.x-25};case br.Down:return{...t,y:t.y+25};case br.Up:return{...t,y:t.y-25}}};class VL{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new $f(Ch(t)),this.windowListeners=new $f(ns(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Vs.Resize,this.handleCancel),this.windowListeners.add(Vs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Vs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&vse(n),t(Ei)}handleKeyDown(e){if(D3(e)){const{active:t,context:n,options:a}=this.props,{keyboardCodes:s=UL,coordinateGetter:i=kse,scrollBehavior:l="smooth"}=a,{code:c}=e;if(s.end.includes(c)){this.handleEnd(e);return}if(s.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:d}=n.current,u=d?{x:d.left,y:d.top}:Ei;this.referenceCoordinates||(this.referenceCoordinates=u);const h=i(e,{active:t,context:n.current,currentCoordinates:u});if(h){const f=Cx(h,u),p={x:0,y:0},{scrollableAncestors:m}=n.current;for(const g of m){const v=e.code,{isTop:x,isRight:b,isLeft:y,isBottom:C,maxScroll:S,minScroll:_}=zL(g),E=gse(g),A={x:Math.min(v===br.Right?E.right-E.width/2:E.right,Math.max(v===br.Right?E.left:E.left+E.width/2,h.x)),y:Math.min(v===br.Down?E.bottom-E.height/2:E.bottom,Math.max(v===br.Down?E.top:E.top+E.height/2,h.y))},T=v===br.Right&&!b||v===br.Left&&!y,F=v===br.Down&&!C||v===br.Up&&!x;if(T&&A.x!==h.x){const L=g.scrollLeft+f.x,D=v===br.Right&&L<=S.x||v===br.Left&&L>=_.x;if(D&&!f.y){g.scrollTo({left:L,behavior:l});return}D?p.x=g.scrollLeft-L:p.x=v===br.Right?g.scrollLeft-S.x:g.scrollLeft-_.x,p.x&&g.scrollBy({left:-p.x,behavior:l});break}else if(F&&A.y!==h.y){const L=g.scrollTop+f.y,D=v===br.Down&&L<=S.y||v===br.Up&&L>=_.y;if(D&&!f.x){g.scrollTo({top:L,behavior:l});return}D?p.y=g.scrollTop-L:p.y=v===br.Down?g.scrollTop-S.y:g.scrollTop-_.y,p.y&&g.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(e,Tu(Cx(h,this.referenceCoordinates),p))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}VL.activators=[{eventName:"onKeyDown",handler:(r,e,t)=>{let{keyboardCodes:n=UL,onActivation:a}=e,{active:s}=t;const{code:i}=r.nativeEvent;if(n.start.includes(i)){const l=s.activatorNode.current;return l&&r.target!==l?!1:(r.preventDefault(),a==null||a({event:r.nativeEvent}),!0)}return!1}}];function I8(r){return!!(r&&"distance"in r)}function O8(r){return!!(r&&"delay"in r)}class M3{constructor(e,t,n){var a;n===void 0&&(n=yse(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:s}=e,{target:i}=s;this.props=e,this.events=t,this.document=Ch(i),this.documentListeners=new $f(this.document),this.listeners=new $f(n),this.windowListeners=new $f(ns(i)),this.initialCoordinates=(a=P5(s))!=null?a:Ei,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Vs.Resize,this.handleCancel),this.windowListeners.add(Vs.DragStart,M8),this.windowListeners.add(Vs.VisibilityChange,this.handleCancel),this.windowListeners.add(Vs.ContextMenu,M8),this.documentListeners.add(Vs.Keydown,this.handleKeydown),t){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(O8(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(I8(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:a}=this.props;a(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Vs.Click,wse,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Vs.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:a,props:s}=this,{onMove:i,options:{activationConstraint:l}}=s;if(!a)return;const c=(t=P5(e))!=null?t:Ei,d=Cx(a,c);if(!n&&l){if(I8(l)){if(l.tolerance!=null&&Jb(d,l.tolerance))return this.handleCancel();if(Jb(d,l.distance))return this.handleStart()}if(O8(l)&&Jb(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),i(c)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===br.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Cse={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class I3 extends M3{constructor(e){const{event:t}=e,n=Ch(t.target);super(e,Cse,n)}}I3.activators=[{eventName:"onPointerDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;return!t.isPrimary||t.button!==0?!1:(n==null||n({event:t}),!0)}}];const Sse={move:{name:"mousemove"},end:{name:"mouseup"}};var D5;(function(r){r[r.RightClick=2]="RightClick"})(D5||(D5={}));class jse extends M3{constructor(e){super(e,Sse,Ch(e.event.target))}}jse.activators=[{eventName:"onMouseDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;return t.button===D5.RightClick?!1:(n==null||n({event:t}),!0)}}];const Kb={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class _se extends M3{constructor(e){super(e,Kb)}static setup(){return window.addEventListener(Kb.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Kb.move.name,e)};function e(){}}}_se.activators=[{eventName:"onTouchStart",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;const{touches:a}=t;return a.length>1?!1:(n==null||n({event:t}),!0)}}];var Wf;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(Wf||(Wf={}));var jx;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(jx||(jx={}));function Nse(r){let{acceleration:e,activator:t=Wf.Pointer,canScroll:n,draggingRect:a,enabled:s,interval:i=5,order:l=jx.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:h,threshold:f}=r;const p=Ase({delta:h,disabled:!s}),[m,g]=Iae(),v=w.useRef({x:0,y:0}),x=w.useRef({x:0,y:0}),b=w.useMemo(()=>{switch(t){case Wf.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Wf.DraggableRect:return a}},[t,a,c]),y=w.useRef(null),C=w.useCallback(()=>{const _=y.current;if(!_)return;const E=v.current.x*x.current.x,A=v.current.y*x.current.y;_.scrollBy(E,A)},[]),S=w.useMemo(()=>l===jx.TreeOrder?[...d].reverse():d,[l,d]);w.useEffect(()=>{if(!s||!d.length||!b){g();return}for(const _ of S){if((n==null?void 0:n(_))===!1)continue;const E=d.indexOf(_),A=u[E];if(!A)continue;const{direction:T,speed:F}=pse(_,A,b,e,f);for(const L of["x","y"])p[L][T[L]]||(F[L]=0,T[L]=0);if(F.x>0||F.y>0){g(),y.current=_,m(C,i),v.current=F,x.current=T;return}}v.current={x:0,y:0},x.current={x:0,y:0},g()},[e,C,n,g,s,i,JSON.stringify(b),JSON.stringify(p),m,d,S,u,JSON.stringify(f)])}const Ese={x:{[Gn.Backward]:!1,[Gn.Forward]:!1},y:{[Gn.Backward]:!1,[Gn.Forward]:!1}};function Ase(r){let{delta:e,disabled:t}=r;const n=A5(e);return Kp(a=>{if(t||!n||!a)return Ese;const s={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[Gn.Backward]:a.x[Gn.Backward]||s.x===-1,[Gn.Forward]:a.x[Gn.Forward]||s.x===1},y:{[Gn.Backward]:a.y[Gn.Backward]||s.y===-1,[Gn.Forward]:a.y[Gn.Forward]||s.y===1}}},[t,e,n])}function Pse(r,e){const t=e!=null?r.get(e):void 0,n=t?t.node.current:null;return Kp(a=>{var s;return e==null?null:(s=n??a)!=null?s:null},[n,e])}function Lse(r,e){return w.useMemo(()=>r.reduce((t,n)=>{const{sensor:a}=n,s=a.activators.map(i=>({eventName:i.eventName,handler:e(i.handler,n)}));return[...t,...s]},[]),[r,e])}var Np;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(Np||(Np={}));var T5;(function(r){r.Optimized="optimized"})(T5||(T5={}));const F8=new Map;function Dse(r,e){let{dragging:t,dependencies:n,config:a}=e;const[s,i]=w.useState(null),{frequency:l,measure:c,strategy:d}=a,u=w.useRef(r),h=v(),f=jp(h),p=w.useCallback(function(x){x===void 0&&(x=[]),!f.current&&i(b=>b===null?x:b.concat(x.filter(y=>!b.includes(y))))},[f]),m=w.useRef(null),g=Kp(x=>{if(h&&!t)return F8;if(!x||x===F8||u.current!==r||s!=null){const b=new Map;for(let y of r){if(!y)continue;if(s&&s.length>0&&!s.includes(y.id)&&y.rect.current){b.set(y.id,y.rect.current);continue}const C=y.node.current,S=C?new R3(c(C),C):null;y.rect.current=S,S&&b.set(y.id,S)}return b}return x},[r,s,t,h,c]);return w.useEffect(()=>{u.current=r},[r]),w.useEffect(()=>{h||p()},[t,h]),w.useEffect(()=>{s&&s.length>0&&i(null)},[JSON.stringify(s)]),w.useEffect(()=>{h||typeof l!="number"||m.current!==null||(m.current=setTimeout(()=>{p(),m.current=null},l))},[l,h,p,...n]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:s!=null};function v(){switch(d){case Np.Always:return!1;case Np.BeforeDragging:return t;default:return!t}}}function $L(r,e){return Kp(t=>r?t||(typeof e=="function"?e(r):r):null,[e,r])}function Tse(r,e){return $L(r,e)}function Rse(r){let{callback:e,disabled:t}=r;const n=L3(e),a=w.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(n)},[n,t]);return w.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function _1(r){let{callback:e,disabled:t}=r;const n=L3(e),a=w.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(n)},[t]);return w.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Mse(r){return new R3(Sh(r),r)}function B8(r,e,t){e===void 0&&(e=Mse);const[n,a]=w.useState(null);function s(){a(c=>{if(!r)return null;if(r.isConnected===!1){var d;return(d=c??t)!=null?d:null}const u=e(r);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const i=Rse({callback(c){if(r)for(const d of c){const{type:u,target:h}=d;if(u==="childList"&&h instanceof HTMLElement&&h.contains(r)){s();break}}}}),l=_1({callback:s});return to(()=>{s(),r?(l==null||l.observe(r),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[r]),n}function Ise(r){const e=$L(r);return ML(r,e)}const z8=[];function Ose(r){const e=w.useRef(r),t=Kp(n=>r?n&&n!==z8&&r&&e.current&&r.parentNode===e.current.parentNode?n:T3(r):z8,[r]);return w.useEffect(()=>{e.current=r},[r]),t}function Fse(r){const[e,t]=w.useState(null),n=w.useRef(r),a=w.useCallback(s=>{const i=Zb(s.target);i&&t(l=>l?(l.set(i,L5(i)),new Map(l)):null)},[]);return w.useEffect(()=>{const s=n.current;if(r!==s){i(s);const l=r.map(c=>{const d=Zb(c);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,L5(d)]):null}).filter(c=>c!=null);t(l.length?new Map(l):null),n.current=r}return()=>{i(r),i(s)};function i(l){l.forEach(c=>{const d=Zb(c);d==null||d.removeEventListener("scroll",a)})}},[a,r]),w.useMemo(()=>r.length?e?Array.from(e.values()).reduce((s,i)=>Tu(s,i),Ei):HL(r):Ei,[r,e])}function H8(r,e){e===void 0&&(e=[]);const t=w.useRef(null);return w.useEffect(()=>{t.current=null},e),w.useEffect(()=>{const n=r!==Ei;n&&!t.current&&(t.current=r),!n&&t.current&&(t.current=null)},[r]),t.current?Cx(r,t.current):Ei}function Bse(r){w.useEffect(()=>{if(!j1)return;const e=r.map(t=>{let{sensor:n}=t;return n.setup==null?void 0:n.setup()});return()=>{for(const t of e)t==null||t()}},r.map(e=>{let{sensor:t}=e;return t}))}function zse(r,e){return w.useMemo(()=>r.reduce((t,n)=>{let{eventName:a,handler:s}=n;return t[a]=i=>{s(i,e)},t},{}),[r,e])}function WL(r){return w.useMemo(()=>r?dse(r):null,[r])}const U8=[];function Hse(r,e){e===void 0&&(e=Sh);const[t]=r,n=WL(t?ns(t):null),[a,s]=w.useState(U8);function i(){s(()=>r.length?r.map(c=>BL(c)?n:new R3(e(c),c)):U8)}const l=_1({callback:i});return to(()=>{l==null||l.disconnect(),i(),r.forEach(c=>l==null?void 0:l.observe(c))},[r]),a}function Use(r){if(!r)return null;if(r.children.length>1)return r;const e=r.children[0];return Jp(e)?e:r}function Vse(r){let{measure:e}=r;const[t,n]=w.useState(null),a=w.useCallback(d=>{for(const{target:u}of d)if(Jp(u)){n(h=>{const f=e(u);return h?{...h,width:f.width,height:f.height}:f});break}},[e]),s=_1({callback:a}),i=w.useCallback(d=>{const u=Use(d);s==null||s.disconnect(),u&&(s==null||s.observe(u)),n(u?e(u):null)},[e,s]),[l,c]=kx(i);return w.useMemo(()=>({nodeRef:l,rect:t,setRef:c}),[t,l,c])}const $se=[{sensor:I3,options:{}},{sensor:VL,options:{}}],Wse={current:{}},d0={draggable:{measure:R8},droppable:{measure:R8,strategy:Np.WhileDragging,frequency:T5.Optimized},dragOverlay:{measure:Sh}};class qf extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return(t=(n=this.get(e))==null?void 0:n.node.current)!=null?t:void 0}}const qse={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new qf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Sx},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:d0,measureDroppableContainers:Sx,windowRect:null,measuringScheduled:!1},Yse={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Sx,draggableNodes:new Map,over:null,measureDroppableContainers:Sx},N1=w.createContext(Yse),qL=w.createContext(qse);function Gse(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new qf}}}function Xse(r,e){switch(e.type){case Fn.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Fn.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:e.coordinates.x-r.draggable.initialCoordinates.x,y:e.coordinates.y-r.draggable.initialCoordinates.y}}};case Fn.DragEnd:case Fn.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Fn.RegisterDroppable:{const{element:t}=e,{id:n}=t,a=new qf(r.droppable.containers);return a.set(n,t),{...r,droppable:{...r.droppable,containers:a}}}case Fn.SetDroppableDisabled:{const{id:t,key:n,disabled:a}=e,s=r.droppable.containers.get(t);if(!s||n!==s.key)return r;const i=new qf(r.droppable.containers);return i.set(t,{...s,disabled:a}),{...r,droppable:{...r.droppable,containers:i}}}case Fn.UnregisterDroppable:{const{id:t,key:n}=e,a=r.droppable.containers.get(t);if(!a||n!==a.key)return r;const s=new qf(r.droppable.containers);return s.delete(t),{...r,droppable:{...r.droppable,containers:s}}}default:return r}}function Zse(r){let{disabled:e}=r;const{active:t,activatorEvent:n,draggableNodes:a}=w.useContext(N1),s=A5(n),i=A5(t==null?void 0:t.id);return w.useEffect(()=>{if(!e&&!n&&s&&i!=null){if(!D3(s)||document.activeElement===s.target)return;const l=a.get(i);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const h=Bae(u);if(h){h.focus();break}}})}},[n,e,a,i,s]),null}function Jse(r,e){let{transform:t,...n}=e;return r!=null&&r.length?r.reduce((a,s)=>s({transform:a,...n}),t):t}function Kse(r){return w.useMemo(()=>({draggable:{...d0.draggable,...r==null?void 0:r.draggable},droppable:{...d0.droppable,...r==null?void 0:r.droppable},dragOverlay:{...d0.dragOverlay,...r==null?void 0:r.dragOverlay}}),[r==null?void 0:r.draggable,r==null?void 0:r.droppable,r==null?void 0:r.dragOverlay])}function Qse(r){let{activeNode:e,measure:t,initialRect:n,config:a=!0}=r;const s=w.useRef(!1),{x:i,y:l}=typeof a=="boolean"?{x:a,y:a}:a;to(()=>{if(!i&&!l||!e){s.current=!1;return}if(s.current||!n)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const u=t(d),h=ML(u,n);if(i||(h.x=0),l||(h.y=0),s.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=IL(d);f&&f.scrollBy({top:h.y,left:h.x})}},[e,i,l,n,t])}const YL=w.createContext({...Ei,scaleX:1,scaleY:1});var gl;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(gl||(gl={}));const eie=w.memo(function(e){var t,n,a,s;let{id:i,accessibility:l,autoScroll:c=!0,children:d,sensors:u=$se,collisionDetection:h=nse,measuring:f,modifiers:p,...m}=e;const g=w.useReducer(Xse,void 0,Gse),[v,x]=g,[b,y]=Wae(),[C,S]=w.useState(gl.Uninitialized),_=C===gl.Initialized,{draggable:{active:E,nodes:A,translate:T},droppable:{containers:F}}=v,L=E!=null?A.get(E):null,D=w.useRef({initial:null,translated:null}),O=w.useMemo(()=>{var hr;return E!=null?{id:E,data:(hr=L==null?void 0:L.data)!=null?hr:Wse,rect:D}:null},[E,L]),I=w.useRef(null),[B,z]=w.useState(null),[V,W]=w.useState(null),Y=jp(m,Object.values(m)),G=Qp("DndDescribedBy",i),q=w.useMemo(()=>F.getEnabled(),[F]),M=Kse(f),{droppableRects:U,measureDroppableContainers:$,measuringScheduled:X}=Dse(q,{dragging:_,dependencies:[T.x,T.y],config:M.droppable}),Q=Pse(A,E),se=w.useMemo(()=>V?P5(V):null,[V]),le=Mr(),ue=Tse(Q,M.draggable.measure);Qse({activeNode:E!=null?A.get(E):null,config:le.layoutShiftCompensation,initialRect:ue,measure:M.draggable.measure});const ye=B8(Q,M.draggable.measure,ue),Ne=B8(Q?Q.parentElement:null),Le=w.useRef({activatorEvent:null,active:null,activeNode:Q,collisionRect:null,collisions:null,droppableRects:U,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ie=F.getNodeFor((t=Le.current.over)==null?void 0:t.id),et=Vse({measure:M.dragOverlay.measure}),Ee=(n=et.nodeRef.current)!=null?n:Q,ee=_?(a=et.rect)!=null?a:ye:null,Ve=!!(et.nodeRef.current&&et.rect),Ue=Ise(Ve?null:ye),ke=WL(Ee?ns(Ee):null),Ce=Ose(_?Ie??Q:null),ze=Hse(Ce),Ge=Jse(p,{transform:{x:T.x-Ue.x,y:T.y-Ue.y,scaleX:1,scaleY:1},activatorEvent:V,active:O,activeNodeRect:ye,containerNodeRect:Ne,draggingNodeRect:ee,over:Le.current.over,overlayNodeRect:et.rect,scrollableAncestors:Ce,scrollableAncestorRects:ze,windowRect:ke}),dt=se?Tu(se,T):null,De=Fse(Ce),Fe=H8(De),it=H8(De,[ye]),vt=Tu(Ge,Fe),tt=ee?ise(ee,Ge):null,je=O&&tt?h({active:O,collisionRect:tt,droppableRects:U,droppableContainers:q,pointerCoordinates:dt}):null,ve=ese(je,"id"),[Me,Je]=w.useState(null),pt=Ve?Ge:Tu(Ge,it),ut=ase(pt,(s=Me==null?void 0:Me.rect)!=null?s:null,ye),Ke=w.useRef(null),wt=w.useCallback((hr,Gt)=>{let{sensor:ne,options:oe}=Gt;if(I.current==null)return;const me=A.get(I.current);if(!me)return;const _e=hr.nativeEvent,Xe=new ne({active:I.current,activeNode:me,event:_e,options:oe,context:Le,onAbort(He){if(!A.get(He))return;const{onDragAbort:Et}=Y.current,lt={id:He};Et==null||Et(lt),b({type:"onDragAbort",event:lt})},onPending(He,ht,Et,lt){if(!A.get(He))return;const{onDragPending:Pt}=Y.current,sr={id:He,constraint:ht,initialCoordinates:Et,offset:lt};Pt==null||Pt(sr),b({type:"onDragPending",event:sr})},onStart(He){const ht=I.current;if(ht==null)return;const Et=A.get(ht);if(!Et)return;const{onDragStart:lt}=Y.current,mt={activatorEvent:_e,active:{id:ht,data:Et.data,rect:D}};xi.unstable_batchedUpdates(()=>{lt==null||lt(mt),S(gl.Initializing),x({type:Fn.DragStart,initialCoordinates:He,active:ht}),b({type:"onDragStart",event:mt}),z(Ke.current),W(_e)})},onMove(He){x({type:Fn.DragMove,coordinates:He})},onEnd:nt(Fn.DragEnd),onCancel:nt(Fn.DragCancel)});Ke.current=Xe;function nt(He){return async function(){const{active:Et,collisions:lt,over:mt,scrollAdjustedTranslate:Pt}=Le.current;let sr=null;if(Et&&Pt){const{cancelDrop:Ar}=Y.current;sr={activatorEvent:_e,active:Et,collisions:lt,delta:Pt,over:mt},He===Fn.DragEnd&&typeof Ar=="function"&&await Promise.resolve(Ar(sr))&&(He=Fn.DragCancel)}I.current=null,xi.unstable_batchedUpdates(()=>{x({type:He}),S(gl.Uninitialized),Je(null),z(null),W(null),Ke.current=null;const Ar=He===Fn.DragEnd?"onDragEnd":"onDragCancel";if(sr){const pn=Y.current[Ar];pn==null||pn(sr),b({type:Ar,event:sr})}})}}},[A]),er=w.useCallback((hr,Gt)=>(ne,oe)=>{const me=ne.nativeEvent,_e=A.get(oe);if(I.current!==null||!_e||me.dndKit||me.defaultPrevented)return;const Xe={active:_e};hr(ne,Gt.options,Xe)===!0&&(me.dndKit={capturedBy:Gt.sensor},I.current=oe,wt(ne,Gt))},[A,wt]),It=Lse(u,er);Bse(u),to(()=>{ye&&C===gl.Initializing&&S(gl.Initialized)},[ye,C]),w.useEffect(()=>{const{onDragMove:hr}=Y.current,{active:Gt,activatorEvent:ne,collisions:oe,over:me}=Le.current;if(!Gt||!ne)return;const _e={active:Gt,activatorEvent:ne,collisions:oe,delta:{x:vt.x,y:vt.y},over:me};xi.unstable_batchedUpdates(()=>{hr==null||hr(_e),b({type:"onDragMove",event:_e})})},[vt.x,vt.y]),w.useEffect(()=>{const{active:hr,activatorEvent:Gt,collisions:ne,droppableContainers:oe,scrollAdjustedTranslate:me}=Le.current;if(!hr||I.current==null||!Gt||!me)return;const{onDragOver:_e}=Y.current,Xe=oe.get(ve),nt=Xe&&Xe.rect.current?{id:Xe.id,rect:Xe.rect.current,data:Xe.data,disabled:Xe.disabled}:null,He={active:hr,activatorEvent:Gt,collisions:ne,delta:{x:me.x,y:me.y},over:nt};xi.unstable_batchedUpdates(()=>{Je(nt),_e==null||_e(He),b({type:"onDragOver",event:He})})},[ve]),to(()=>{Le.current={activatorEvent:V,active:O,activeNode:Q,collisionRect:tt,collisions:je,droppableRects:U,draggableNodes:A,draggingNode:Ee,draggingNodeRect:ee,droppableContainers:F,over:Me,scrollableAncestors:Ce,scrollAdjustedTranslate:vt},D.current={initial:ee,translated:tt}},[O,Q,je,tt,A,Ee,ee,U,F,Me,Ce,vt]),Nse({...le,delta:T,draggingRect:tt,pointerCoordinates:dt,scrollableAncestors:Ce,scrollableAncestorRects:ze});const fn=w.useMemo(()=>({active:O,activeNode:Q,activeNodeRect:ye,activatorEvent:V,collisions:je,containerNodeRect:Ne,dragOverlay:et,draggableNodes:A,droppableContainers:F,droppableRects:U,over:Me,measureDroppableContainers:$,scrollableAncestors:Ce,scrollableAncestorRects:ze,measuringConfiguration:M,measuringScheduled:X,windowRect:ke}),[O,Q,ye,V,je,Ne,et,A,F,U,Me,$,Ce,ze,M,X,ke]),tr=w.useMemo(()=>({activatorEvent:V,activators:It,active:O,activeNodeRect:ye,ariaDescribedById:{draggable:G},dispatch:x,draggableNodes:A,over:Me,measureDroppableContainers:$}),[V,It,O,ye,x,G,A,Me,$]);return ft.createElement(RL.Provider,{value:y},ft.createElement(N1.Provider,{value:tr},ft.createElement(qL.Provider,{value:fn},ft.createElement(YL.Provider,{value:ut},d)),ft.createElement(Zse,{disabled:(l==null?void 0:l.restoreFocus)===!1})),ft.createElement(Gae,{...l,hiddenTextDescribedById:G}));function Mr(){const hr=(B==null?void 0:B.autoScrollEnabled)===!1,Gt=typeof c=="object"?c.enabled===!1:c===!1,ne=_&&!hr&&!Gt;return typeof c=="object"?{...c,enabled:ne}:{enabled:ne}}}),tie=w.createContext(null),V8="button",rie="Draggable";function nie(r){let{id:e,data:t,disabled:n=!1,attributes:a}=r;const s=Qp(rie),{activators:i,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:h,over:f}=w.useContext(N1),{role:p=V8,roleDescription:m="draggable",tabIndex:g=0}=a??{},v=(c==null?void 0:c.id)===e,x=w.useContext(v?YL:tie),[b,y]=kx(),[C,S]=kx(),_=zse(i,e),E=jp(t);to(()=>(h.set(e,{id:e,key:s,node:b,activatorNode:C,data:E}),()=>{const T=h.get(e);T&&T.key===s&&h.delete(e)}),[h,e]);const A=w.useMemo(()=>({role:p,tabIndex:g,"aria-disabled":n,"aria-pressed":v&&p===V8?!0:void 0,"aria-roledescription":m,"aria-describedby":u.draggable}),[n,p,g,v,m,u.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:A,isDragging:v,listeners:n?void 0:_,node:b,over:f,setNodeRef:y,setActivatorNodeRef:S,transform:x}}function aie(){return w.useContext(qL)}const sie="Droppable",iie={timeout:25};function oie(r){let{data:e,disabled:t=!1,id:n,resizeObserverConfig:a}=r;const s=Qp(sie),{active:i,dispatch:l,over:c,measureDroppableContainers:d}=w.useContext(N1),u=w.useRef({disabled:t}),h=w.useRef(!1),f=w.useRef(null),p=w.useRef(null),{disabled:m,updateMeasurementsFor:g,timeout:v}={...iie,...a},x=jp(g??n),b=w.useCallback(()=>{if(!h.current){h.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),p.current=null},v)},[v]),y=_1({callback:b,disabled:m||!i}),C=w.useCallback((A,T)=>{y&&(T&&(y.unobserve(T),h.current=!1),A&&y.observe(A))},[y]),[S,_]=kx(C),E=jp(e);return w.useEffect(()=>{!y||!S.current||(y.disconnect(),h.current=!1,y.observe(S.current))},[S,y]),w.useEffect(()=>(l({type:Fn.RegisterDroppable,element:{id:n,key:s,disabled:t,node:S,rect:f,data:E}}),()=>l({type:Fn.UnregisterDroppable,key:s,id:n})),[n]),w.useEffect(()=>{t!==u.current.disabled&&(l({type:Fn.SetDroppableDisabled,id:n,key:s,disabled:t}),u.current.disabled=t)},[n,s,t,l]),{active:i,rect:f,isOver:(c==null?void 0:c.id)===n,node:S,over:c,setNodeRef:_}}function O3(r,e,t){const n=r.slice();return n.splice(t<0?n.length+t:t,0,n.splice(e,1)[0]),n}function lie(r,e){return r.reduce((t,n,a)=>{const s=e.get(n);return s&&(t[a]=s),t},Array(r.length))}function Cm(r){return r!==null&&r>=0}function cie(r,e){if(r===e)return!0;if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function die(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const F3=r=>{let{rects:e,activeIndex:t,overIndex:n,index:a}=r;const s=O3(e,n,t),i=e[a],l=s[a];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},GL="Sortable",XL=ft.createContext({activeIndex:-1,containerId:GL,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:F3,disabled:{draggable:!1,droppable:!1}});function uie(r){let{children:e,id:t,items:n,strategy:a=F3,disabled:s=!1}=r;const{active:i,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:u}=aie(),h=Qp(GL,t),f=l.rect!==null,p=w.useMemo(()=>n.map(_=>typeof _=="object"&&"id"in _?_.id:_),[n]),m=i!=null,g=i?p.indexOf(i.id):-1,v=d?p.indexOf(d.id):-1,x=w.useRef(p),b=!cie(p,x.current),y=v!==-1&&g===-1||b,C=die(s);to(()=>{b&&m&&u(p)},[b,p,m,u]),w.useEffect(()=>{x.current=p},[p]);const S=w.useMemo(()=>({activeIndex:g,containerId:h,disabled:C,disableTransforms:y,items:p,overIndex:v,useDragOverlay:f,sortedRects:lie(p,c),strategy:a}),[g,h,C.draggable,C.droppable,y,p,v,c,f,a]);return ft.createElement(XL.Provider,{value:S},e)}const hie=r=>{let{id:e,items:t,activeIndex:n,overIndex:a}=r;return O3(t,n,a).indexOf(e)},fie=r=>{let{containerId:e,isSorting:t,wasDragging:n,index:a,items:s,newIndex:i,previousItems:l,previousContainerId:c,transition:d}=r;return!d||!n||l!==s&&a===i?!1:t?!0:i!==a&&e===c},pie={duration:200,easing:"ease"},ZL="transform",gie=_p.Transition.toString({property:ZL,duration:0,easing:"linear"}),mie={roleDescription:"sortable"};function xie(r){let{disabled:e,index:t,node:n,rect:a}=r;const[s,i]=w.useState(null),l=w.useRef(t);return to(()=>{if(!e&&t!==l.current&&n.current){const c=a.current;if(c){const d=Sh(n.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&i(u)}}t!==l.current&&(l.current=t)},[e,t,n,a]),w.useEffect(()=>{s&&i(null)},[s]),s}function vie(r){let{animateLayoutChanges:e=fie,attributes:t,disabled:n,data:a,getNewIndex:s=hie,id:i,strategy:l,resizeObserverConfig:c,transition:d=pie}=r;const{items:u,containerId:h,activeIndex:f,disabled:p,disableTransforms:m,sortedRects:g,overIndex:v,useDragOverlay:x,strategy:b}=w.useContext(XL),y=bie(n,p),C=u.indexOf(i),S=w.useMemo(()=>({sortable:{containerId:h,index:C,items:u},...a}),[h,a,C,u]),_=w.useMemo(()=>u.slice(u.indexOf(i)),[u,i]),{rect:E,node:A,isOver:T,setNodeRef:F}=oie({id:i,data:S,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:_,...c}}),{active:L,activatorEvent:D,activeNodeRect:O,attributes:I,setNodeRef:B,listeners:z,isDragging:V,over:W,setActivatorNodeRef:Y,transform:G}=nie({id:i,data:S,attributes:{...mie,...t},disabled:y.draggable}),q=Mae(F,B),M=!!L,U=M&&!m&&Cm(f)&&Cm(v),$=!x&&V,X=$&&U?G:null,se=U?X??(l??b)({rects:g,activeNodeRect:O,activeIndex:f,overIndex:v,index:C}):null,le=Cm(f)&&Cm(v)?s({id:i,items:u,activeIndex:f,overIndex:v}):C,ue=L==null?void 0:L.id,ye=w.useRef({activeId:ue,items:u,newIndex:le,containerId:h}),Ne=u!==ye.current.items,Le=e({active:L,containerId:h,isDragging:V,isSorting:M,id:i,index:C,items:u,newIndex:ye.current.newIndex,previousItems:ye.current.items,previousContainerId:ye.current.containerId,transition:d,wasDragging:ye.current.activeId!=null}),Ie=xie({disabled:!Le,index:C,node:A,rect:E});return w.useEffect(()=>{M&&ye.current.newIndex!==le&&(ye.current.newIndex=le),h!==ye.current.containerId&&(ye.current.containerId=h),u!==ye.current.items&&(ye.current.items=u)},[M,le,h,u]),w.useEffect(()=>{if(ue===ye.current.activeId)return;if(ue&&!ye.current.activeId){ye.current.activeId=ue;return}const Ee=setTimeout(()=>{ye.current.activeId=ue},50);return()=>clearTimeout(Ee)},[ue]),{active:L,activeIndex:f,attributes:I,data:S,rect:E,index:C,newIndex:le,items:u,isOver:T,isSorting:M,isDragging:V,listeners:z,node:A,overIndex:v,over:W,setNodeRef:q,setActivatorNodeRef:Y,setDroppableNodeRef:F,setDraggableNodeRef:B,transform:Ie??se,transition:et()};function et(){if(Ie||Ne&&ye.current.newIndex===C)return gie;if(!($&&!D3(D)||!d)&&(M||Le))return _p.Transition.toString({...d,property:ZL})}}function bie(r,e){var t,n;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(t=r==null?void 0:r.draggable)!=null?t:e.draggable,droppable:(n=r==null?void 0:r.droppable)!=null?n:e.droppable}}br.Down,br.Right,br.Up,br.Left;function $8({field:r,onSuccess:e}){const[t,n]=w.useState(""),[a,s]=w.useState(),[i,l]=w.useState(),[c,d]=w.useState(""),[u,h]=w.useState(""),[f,p]=w.useState(""),[m,g]=w.useState([]),[v,x]=w.useState(!1);function b(B,z){const V=th();g(W=>[...W,{id:V,message:B,type:z}]),setTimeout(()=>{g(W=>W.filter(Y=>Y.id!==V))},4e3)}const[y,C]=w.useState([""]),S=()=>{y.length+A.length<6&&C([...y,""])},_=(B,z)=>{C(y.map((V,W)=>W===B?z:V))},E=B=>{y.length!==1&&C(y.filter((z,V)=>V!==B))},[A,T]=w.useState([""]),F=()=>{y.length+A.length<6&&T([...A,""])},L=(B,z)=>{T(A.map((V,W)=>W===B?z:V))},D=B=>{A.length!==1&&T(A.filter((z,V)=>V!==B))},O=B=>{const z=B.replace(/\D/g,""),V=(parseInt(z,10)/100).toFixed(2);return Number.isNaN(Number(V))?"":Number(V).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})};w.useEffect(()=>{async function B(){if(r.id){const z=await Eae(r.id);z&&(n(z.title),d(z.subtitle||""),s(z.price_per_word??void 0),l(z.word_count??void 0),C(z.benefits.length?z.benefits:[""]),T(z.not_benefits.length?z.not_benefits:[""]),h(z.period),p(""),x(!!z.is_free))}else n(""),d(""),s(void 0),l(void 0),C([""]),T([""]),h(""),p("")}B()},[r.id]);const I=async()=>{if(!t.trim()||a===void 0||i===void 0||y.some(V=>!V.trim())||!(u==="custom"?f.trim():u)){b("Preencha todos os campos obrigatrios.","error");return}const B={service_id:r.service_id,title:t,subtitle:c||null,price:v?0:Number((a*i).toFixed(2)),price_per_word:a,word_count:i,benefits:y.filter(V=>V.trim()!==""),not_benefits:A.filter(V=>V.trim()!==""),period:u==="custom"?f:u,is_free:v};let z;r.id?z=await Pae(r.id,B):z=await Aae(B),z?(b(r.id?"Pacote atualizado com sucesso!":"Pacote criado com sucesso!","success"),e&&e()):b(r.id?"Erro ao atualizar pacote":"Erro ao criar pacote","error"),n(""),d(""),s(void 0),l(void 0),C([""]),T([""]),h(""),p("")};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"top-0 right-0 h-full w-full max-w-md bg-white dark:bg-gray-900 shadow-lg p-6 z-50 flex flex-col border-l border-gray-200 dark:border-gray-800",style:{minWidth:340},children:[o.jsxs("form",{className:"flex-1 flex flex-col",onSubmit:B=>{B.preventDefault(),I()},children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-white/90",children:r.label||"Novo Pacote"}),o.jsxs("div",{className:"space-y-4 flex-1",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Ttulo do pacote"}),o.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-black dark:text-white bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700",value:t,onChange:B=>n(B.target.value),placeholder:"Ex: Enterprise",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Subttulo do pacote (opcional)"}),o.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-black dark:text-white bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700",value:c,onChange:B=>d(B.target.value),placeholder:"Ex: Ideal para empresas iniciantes"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Preo por palavra"}),o.jsx("input",{type:"number",step:"0.01",min:"0",className:"w-full border rounded px-3 py-2 text-black dark:text-white bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700",value:a??"",onChange:B=>s(B.target.value?Number(B.target.value):void 0),placeholder:"0,07",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Quantidade de palavras do pacote"}),o.jsxs("div",{className:"flex items-center mb-1 gap-1 relative z-[9999999]",children:[o.jsx("input",{type:"checkbox",id:"free-word-checkbox",checked:v,onChange:()=>x(B=>!B),className:"accent-brand-500"}),o.jsx("label",{htmlFor:"free-word-checkbox",className:"text-sm font-medium text-gray-700 dark:text-gray-200 cursor-pointer flex items-center gap-1 select-none",style:{userSelect:"none"},children:"Grtis"}),o.jsx(y3,{content:"Selecione caso a quantidade de palavras digitadas nesse campo, sejam gratuitas. a contagem de valor ocorrer quando o cliente solicitar um nmero maior de palavras.",children:o.jsx("span",{className:"ml-0.5 text-xs text-brand-500 cursor-pointer align-middle select-none",children:"?"})})]}),o.jsx("input",{type:"number",min:"1",className:"w-full border rounded px-3 py-2 text-black dark:text-white bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700",value:i??"",onChange:B=>l(B.target.value?Number(B.target.value):void 0),placeholder:"600",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Preo total"}),o.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-black dark:text-white bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-700 cursor-not-allowed",value:v?O("0.00"):a!==void 0&&i!==void 0?O((a*i).toFixed(2)):"",readOnly:!0,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Benefcios do pacote"}),o.jsx("button",{type:"button",className:`text-brand-500 hover:underline text-sm mt-1 mb-2 ${y.length+A.length>=6?"opacity-50 cursor-not-allowed":""}`,onClick:S,disabled:y.length+A.length>=6,children:"+ Adicionar benefcio"}),y.map((B,z)=>o.jsxs("div",{className:"relative flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-black dark:text-white bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 pr-10",value:B,onChange:V=>_(z,V.target.value),placeholder:`Benefcio ${z+1}`,required:!0}),y.length>1&&o.jsx("button",{type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 flex items-center justify-center bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white transition-colors hover:bg-red-200 dark:hover:bg-red-900 rounded-tr rounded-br p-0",style:{width:35,height:35,fontSize:14,lineHeight:1},onClick:()=>E(z),title:"Remover benefcio",children:""})]},z))]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Recursos NO inclusos no pacote (opcional)"}),o.jsx("button",{type:"button",className:`text-brand-500 hover:underline text-sm mt-1 mb-2 ${y.length+A.length>=6?"opacity-50 cursor-not-allowed":""}`,onClick:F,disabled:y.length+A.length>=6,children:"+ Adicionar recurso no incluso"}),A.map((B,z)=>o.jsxs("div",{className:"relative flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-black dark:text-white bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 pr-10",value:B,onChange:V=>L(z,V.target.value),placeholder:`Recurso no incluso ${z+1}`}),A.length>1&&o.jsx("button",{type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 flex items-center justify-center bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white transition-colors hover:bg-red-200 dark:hover:bg-red-900 rounded-tr rounded-br p-0",style:{width:35,height:35,fontSize:14,lineHeight:1},onClick:()=>D(z),title:"Remover recurso no incluso",children:""})]},z))]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Perodo do pacote"}),o.jsxs("select",{className:"w-full border rounded px-3 py-2 text-black dark:text-white bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 mb-2",value:u,onChange:B=>h(B.target.value),required:!0,children:[o.jsx("option",{value:"",children:"Selecione o perodo"}),o.jsx("option",{value:"por ms",children:"Por ms"}),o.jsx("option",{value:"por ano",children:"Por ano"}),o.jsx("option",{value:"custom",children:"Outro (especificar)"})]}),u==="custom"&&o.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-black dark:text-white bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 mt-2",value:f,onChange:B=>p(B.target.value),placeholder:"Digite o perodo personalizado",required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[o.jsx("button",{type:"button",onClick:()=>{n(""),d(""),s(void 0),l(void 0),C([""]),T([""]),h(""),p("")},className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-white rounded hover:bg-gray-400 dark:hover:bg-gray-600 transition-colors",children:"Limpar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-500 text-white rounded hover:bg-brand-600 transition-colors",children:"Salvar"})]})]})]}),m.map((B,z)=>o.jsx("div",{className:"  right-8",style:{top:90+z*60,zIndex:99999},children:o.jsx(E3,{show:!0,message:B.message,type:B.type,top:90+z*60,onClose:()=>g(V=>V.filter(W=>W.id!==B.id)),className:`toast-anim-${B.id}`},B.id)}))]})})}function yie(r){const[e,t]=w.useState(null);return w.useEffect(()=>{(async()=>{if(!r)return;const{data:a,error:s}=await K.from("publisher_services").select("*").eq("id",r).single();t(s?null:a)})()},[r]),e}function wie(r){const[e,t]=w.useState([]),[n,a]=w.useState(!0);return w.useEffect(()=>{async function s(){a(!0);const i=await rh();t(i?i.filter(l=>l.service_id===r):[]),a(!1)}r&&s()},[r]),{cards:e,setCards:t,loading:n,setLoading:a}}const _x={border:"border-gray-200",bg:"bg-white",borderDark:"dark:border-gray-800",bgDark:"dark:bg-white/[0.03]",title:"text-gray-800",titleDark:"dark:text-white/90",price:"text-gray-800",priceDark:"dark:text-white/90",period:"text-gray-500",periodDark:"dark:text-gray-400",benefit:"text-gray-500",benefitDark:"dark:text-gray-400",notBenefit:"text-gray-400",divider:"bg-gray-200",dividerDark:"dark:bg-gray-800",button:"bg-gray-800",buttonHover:"hover:bg-brand-500",buttonDark:"dark:bg-white/10",buttonDarkHover:"dark:hover:bg-brand-600"},R5={border:"border-gray-800",bg:"bg-gray-800",borderDark:"dark:border-white/10",bgDark:"dark:bg-white/10",title:"text-white",titleDark:"text-white",price:"text-white",priceDark:"text-white",period:"text-white/70",periodDark:"text-white/70",benefit:"text-white/80",benefitDark:"text-white/80",notBenefit:"text-gray-300",divider:"bg-white/20",dividerDark:"bg-white/20",button:"bg-brand-500",buttonHover:"hover:bg-brand-600",buttonDark:"dark:hover:bg-brand-600",buttonDarkHover:"dark:hover:bg-brand-600"};function kie(){return w.useState(_x)}function Cie(r,e){const[t,n]=w.useState(null),[a,s]=w.useState(!1),[i,l]=w.useState(!1),c=w.useRef(null);return{editCardId:t,setEditCardId:n,showEditModal:a,setShowEditModal:s,editModalVisible:i,setEditModalVisible:l,editModalTimeout:c,handleEdit:m=>{n(m),l(!0),setTimeout(()=>s(!0),10)},handleCloseEditModal:()=>{s(!1),c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{l(!1)},300)},handleDelete:async m=>{if(!window.confirm("Tem certeza que deseja excluir este pacote?"))return;e(!0),await Lae(m)?r(x=>x.filter(b=>b.id!==m)):alert("Erro ao excluir pacote."),e(!1)},handleCardsOrderChange:async m=>{r(m),await Dae(m.map((g,v)=>({id:g.id,order_layout:v}))),console.log("Ordem salva no banco!")},handleToggleCardLayout:(m,g)=>{r(v=>v.map(x=>x.id===m?{...x,cardColors:g?R5:_x}:x))}}}async function Sie(r){const e={title:r.title,price:r.price,price_per_word:r.price_per_word,word_count:r.word_count,is_free:r.is_free,benefits:r.benefits};console.log("Payload sendo enviado com benefits:",e);const t=[e],{createClient:n}=await Ma(async()=>{const{createClient:h}=await Promise.resolve().then(()=>SB);return{createClient:h}},void 0),i=n("https://uxbeaslwirkepnowydfu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV4YmVhc2x3aXJrZXBub3d5ZGZ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE4MTQwNTUsImV4cCI6MjA1NzM5MDA1NX0.bhPFhXaCgp363YlcAWtNhPlpj82dSNUWwNim2fgYh5s"),{data:{user:l},error:c}=await i.auth.getUser();if(c||!l){console.error("Usurio no autenticado.");return}const d=l.id,u=await Ao(d);if(!u||u.length===0){console.error("Nenhum item encontrado para o usurio.");return}await Promise.all(u.map(async h=>{let f=null;if(h.service_selected&&Array.isArray(h.service_selected)&&h.service_selected.length>0){const m=h.service_selected[0];typeof m=="object"&&m.word_count!==void 0&&m.word_count!==r.word_count&&m.word_count>0&&(f=m.word_count)}const p={title:r.title,price:r.price,price_per_word:r.price_per_word,word_count:f!==null?f:r.word_count,is_free:r.is_free,benefits:r.benefits};return _l(h.id,{service_selected:[p]})})),console.log("Todos os registros atualizados com sucesso!",t),window.dispatchEvent(new Event("resume-table-reload"))}const jie=({id:r,service_id:e,title:t,price:n,period:a,subtitle:s,benefits:i,not_benefits:l,buttonText:c,cardColors:d,button:u=!1,created_at:h,updated_at:f,price_per_word:p,word_count:m,is_free:g})=>{const b=[...(i||[]).map(S=>({text:S,type:"benefit"})),...(l||[]).map(S=>({text:S,type:"not_benefit"}))].slice(0,6),[y]=kie(),C=d||y;return o.jsxs("div",{className:`relative rounded-2xl border ${C.border} ${C.bg} p-6 ${C.borderDark} ${C.bgDark} xl:p-8`,style:{height:480},children:[o.jsx("div",{className:"flex items-start justify-between -mb-4",children:o.jsx("span",{className:`block mb-3 font-semibold ${C.title} text-theme-xl ${C.titleDark}`,style:{fontSize:20},children:t})}),o.jsx("div",{className:"flex items-end justify-between mb-1",children:o.jsxs("div",{className:"flex items-end gap-1",style:{gap:5},children:[o.jsx("h2",{className:`font-bold ${C.price} text-title-md ${C.priceDark}`,style:{fontSize:36,height:43},children:n.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),o.jsxs("span",{className:`inline-block mb-1 text-sm ${C.period} ${C.periodDark}`,children:["/",a]})]})}),o.jsx("p",{className:`text-sm ${C.benefit} ${C.benefitDark}`,children:s}),o.jsx("div",{className:`w-full h-px my-6 ${C.divider} ${C.dividerDark}`}),o.jsx("ul",{className:"mb-8 space-y-3",children:b.map((S,_)=>S.type==="benefit"?o.jsxs("li",{className:`flex items-center gap-3 text-sm ${C.benefit} ${C.benefitDark}`,children:[o.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-success-500",children:o.jsx("path",{d:"M13.4017 4.35986L6.12166 11.6399L2.59833 8.11657",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})}),S.text]},"b-"+_):o.jsxs("li",{className:`flex items-center gap-3 text-sm ${C.benefit} ${C.benefitDark}`,children:[o.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:C.notBenefit,children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.05394 4.78033C3.76105 4.48744 3.76105 4.01256 4.05394 3.71967C4.34684 3.42678 4.82171 3.42678 5.1146 3.71967L8.33437 6.93944L11.5521 3.72173C11.845 3.42883 12.3199 3.42883 12.6127 3.72173C12.9056 4.01462 12.9056 4.48949 12.6127 4.78239L9.39503 8.0001L12.6127 11.2178C12.9056 11.5107 12.9056 11.9856 12.6127 12.2785C12.3198 12.5713 11.845 12.5713 11.5521 12.2785L8.33437 9.06076L5.11462 12.2805C4.82173 12.5734 4.34685 12.5734 4.05396 12.2805C3.76107 11.9876 3.76107 11.5127 4.05396 11.2199L7.27371 8.0001L4.05394 4.78033Z",fill:"currentColor"})}),S.text]},"nb-"+_))}),o.jsx("button",{className:`absolute bottom-[30px] left-0 right-0 mx-auto flex w-[90%] items-center justify-center rounded-lg ${C.button} p-3.5 text-sm font-medium text-white shadow-theme-xs transition-colors ${C.buttonHover} ${C.buttonDark} ${C.buttonDarkHover}`,onClick:u?()=>{Sie({title:t,price:n,benefits:i,price_per_word:p,word_count:m,is_free:g})}:void 0,children:c})]})};function _ie({card:r,handleEdit:e,handleDelete:t,editButtons:n=!0,button:a=!1}){const[s,i]=ft.useState(r.layout_toggle??!1),[l,c]=ft.useState(!1),[d,u]=ft.useState(s?R5:_x),h=async f=>{i(f),c(!0),await Tae(r.id,f),u(f?R5:_x),c(!1)};return o.jsxs("div",{className:"relative w-full",children:[n&&o.jsxs("div",{className:"absolute top-2 right-2 flex flex-row items-center gap-2 z-10",children:[o.jsx(S1,{checked:s,onChange:h,onColor:"#f9f9f9",offColor:"#1d2939",checkedIcon:!1,uncheckedIcon:!1,height:16,width:32,offHandleColor:"#ededed",onHandleColor:"#cacaca",disabled:l}),o.jsxs("button",{className:"w-10 h-10 rounded bg-gray-100 text-gray-700 hover:bg-gray-300 flex items-center justify-center shadow-md transition-colors duration-150",title:"Editar",onClick:()=>e(r.id),children:[o.jsx("input",{type:"radio",name:`action-${r.id}`,className:"sr-only",tabIndex:-1}),o.jsx(Pi,{className:"w-5 h-5 text-gray-600"})]}),o.jsxs("button",{className:"w-10 h-10 rounded bg-gray-100 text-gray-700 hover:bg-red-200 flex items-center justify-center shadow-md transition-colors duration-150",title:"Excluir",onClick:()=>t(r.id),children:[o.jsx("input",{type:"radio",name:`action-${r.id}`,className:"sr-only",tabIndex:-1}),o.jsx(rs,{className:"w-5 h-5 text-gray-600"})]})]}),o.jsx(jie,{id:r.id,service_id:r.service_id,title:r.title,subtitle:r.subtitle,price:r.price,benefits:r.benefits,not_benefits:r.not_benefits,period:r.period,created_at:r.created_at,updated_at:r.updated_at,price_per_word:r.price_per_word,word_count:r.word_count,is_free:r.is_free,buttonText:"Contratar",cardColors:d,button:a})]})}function JL({card:r,handleEdit:e,handleDelete:t,editButtons:n=!0,button:a=!1}){const{attributes:s,listeners:i,setNodeRef:l,transform:c,transition:d,isDragging:u}=vie({id:r.id,resizeObserverConfig:{disabled:!1}}),h={transform:c?_p.Transform.toString(c):void 0,transition:d,zIndex:u?50:1};return o.jsx("div",{ref:l,style:h,...s,className:(n?"cursor-grab ":"cursor-default ")+(u?"opacity-70":""),...i,children:o.jsx(_ie,{card:r,handleEdit:e,handleDelete:t,editButtons:n,button:a})})}const Nie=()=>{const{id:r}=zo(),e=yie(r),{cards:t,setCards:n,loading:a,setLoading:s}=wie(r),{editCardId:i,showEditModal:l,editModalVisible:c,handleEdit:d,handleCloseEditModal:u,handleDelete:h,handleCardsOrderChange:f}=Cie(n,s),p=Zae(Xae(I3,{activationConstraint:{distance:5}})),m=g=>{const{active:v,over:x}=g;if(x&&v.id!==x.id){const b=t.findIndex(S=>S.id===v.id),y=t.findIndex(S=>S.id===x.id),C=O3(t,b,y);f(C)}};return e?e.service_type==="Contedo"?o.jsxs("section",{className:"flex min-h-screen",children:[o.jsxs("div",{className:"flex-1 pr-0 md:pr-4 lg:pr-8 xl:pr-12 2xl:pr-16",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white/90","x-text":"pageName",children:["Adicionar pacotes para ",e.service_title]}),o.jsxs("button",{type:"button",className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-brand-500 dark:hover:text-brand-400 transition-colors text-sm font-medium",onClick:()=>window.history.back(),children:[o.jsx("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M11.25 15L5.25 9L11.25 3",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})}),"Voltar"]})]}),a?o.jsx("div",{children:"Carregando pacotes..."}):t.length===0?o.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:o.jsx("h2",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Nenhum pacote cadastrado para este servio."})}):o.jsx(eie,{sensors:p,collisionDetection:tse,onDragEnd:m,children:o.jsx(uie,{items:t.map(g=>g.id),strategy:F3,children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map(g=>o.jsx(JL,{card:g,handleEdit:d,handleDelete:h},g.id))})})})]}),o.jsx($8,{field:{label:"Novo Pacote",service_id:e.id},onSuccess:()=>{s(!0),rh().then(g=>{n(g?g.filter(v=>v.service_id===r):[]),s(!1)})}}),c&&i&&o.jsx("div",{className:"absolute inset-0 z-[99999] bg-gray-400/50 backdrop-blur-[--background-blur] dark:text-white",onMouseDown:u,children:o.jsxs("div",{className:"absolute top-0 right-0 h-full w-full max-w-md bg-white dark:bg-gray-900 shadow-lg border-l border-gray-200 dark:border-gray-800 transition-transform duration-300 ease-in-out "+(l?"translate-x-0":"translate-x-full"),style:{minWidth:340},onMouseDown:g=>g.stopPropagation(),children:[o.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800 z-10",onClick:u,"aria-label":"Fechar",type:"button",children:""}),o.jsx($8,{field:{label:"Editar Pacote",service_id:e.id,id:i},onSuccess:()=>{u(),r&&(s(!0),rh().then(g=>{n(g?g.filter(v=>v.service_id===r):[]),s(!1)}))}})]})})]}):o.jsx("div",{children:o.jsx("h2",{children:'O servio no  do tipo "Contedo"'})}):o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("h2",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Nenhum dado de pacote encontrado."})})},Eie=o.jsx("svg",{className:"size-5",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 22 22",fill:"none",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.70186 11.0001C2.70186 6.41711 6.41711 2.70186 11.0001 2.70186C15.5831 2.70186 19.2984 6.41711 19.2984 11.0001C19.2984 15.5831 15.5831 19.2984 11.0001 19.2984C6.41711 19.2984 2.70186 15.5831 2.70186 11.0001ZM11.0001 0.901855C5.423 0.901855 0.901855 5.423 0.901855 11.0001C0.901855 16.5772 5.423 21.0984 11.0001 21.0984C16.5772 21.0984 21.0984 16.5772 21.0984 11.0001C21.0984 5.423 16.5772 0.901855 11.0001 0.901855ZM14.6197 9.73951C14.9712 9.38804 14.9712 8.81819 14.6197 8.46672C14.2683 8.11525 13.6984 8.11525 13.347 8.46672L10.1894 11.6243L8.6533 10.0883C8.30183 9.7368 7.73198 9.7368 7.38051 10.0883C7.02904 10.4397 7.02904 11.0096 7.38051 11.3611L9.55295 13.5335C9.72174 13.7023 9.95065 13.7971 10.1894 13.7971C10.428 13.7971 10.657 13.7023 10.8257 13.5335L14.6197 9.73951Z",fill:"currentColor"})}),Aie=o.jsxs("svg",{className:"size-5",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 22 22",fill:"none",children:[o.jsx("circle",{cx:"11",cy:"11",r:"10",fill:"currentColor",fillOpacity:"0.2",stroke:"currentColor",strokeWidth:"1.5"}),o.jsx("path",{d:"M7.75 7.75L14.25 14.25M14.25 7.75L7.75 14.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]});function Pie({message:r,type:e="success",onClose:t,duration:n=2500,className:a=""}){const[s,i]=w.useState(!0);return w.useEffect(()=>{if(!s&&t){const l=setTimeout(()=>t(),300);return()=>clearTimeout(l)}if(s&&n>0){const l=setTimeout(()=>i(!1),n);return()=>clearTimeout(l)}},[s,n,t]),s?o.jsx("div",{className:`fixed left-8 bottom-8 z-[99999] max-w-[340px] w-full opacity-100 transition-all duration-300 pointer-events-auto ${a}`,style:{background:"transparent"},children:o.jsxs("div",{className:`flex items-center justify-between gap-3 w-full rounded-md border-b-4 p-3 shadow-theme-sm bg-white dark:bg-gray-900 ${e==="success"?"border-success-500":"border-error-500"}`,style:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.18), 0 1.5px 6px 0 rgba(60,60,60,0.10)",borderRadius:12},children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-lg ${e==="success"?"bg-success-50 text-success-500 dark:bg-success-500/20 dark:text-success-400":"bg-error-50 text-error-500 dark:bg-error-500/20 dark:text-error-400"}`,children:e==="success"?Eie:Aie}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm text-gray-800 sm:text-base dark:text-white/90",children:e==="success"?"Sucesso!":"Erro!"}),o.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300 mt-1",children:r})]})]}),o.jsx("button",{className:"text-gray-400 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white/90",onClick:()=>i(!1),children:o.jsx("svg",{className:"size-6",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.04289 16.5418C5.65237 16.9323 5.65237 17.5655 6.04289 17.956C6.43342 18.3465 7.06658 18.3465 7.45711 17.956L11.9987 13.4144L16.5408 17.9565C16.9313 18.347 17.5645 18.347 17.955 17.9565C18.3455 17.566 18.3455 16.9328 17.955 16.5423L13.4129 12.0002L17.955 7.45808C18.3455 7.06756 18.3455 6.43439 17.955 6.04387C17.5645 5.65335 16.9313 5.65335 16.5408 6.04387L11.9987 10.586L7.45711 6.04439C7.06658 5.65386 6.43342 5.65386 6.04289 6.04439C5.65237 6.43491 5.65237 7.06808 6.04289 7.4586L10.5845 12.0002L6.04289 16.5418Z",fill:"currentColor"})})})]})}):null}function B3({toasts:r,onRemove:e}){return o.jsx("div",{className:"fixed left-8 bottom-8 z-[2147483647] flex flex-col gap-3 items-start pointer-events-none",children:r.map(t=>o.jsx("div",{className:"pointer-events-auto",children:o.jsx(Pie,{message:t.message,type:t.type,onClose:()=>e(t.id)})},t.id))})}function z3(){const[r,e]=w.useState([]),t=w.useCallback((a,s="success")=>{const i=Math.random().toString(36).substring(2,9);e(l=>[...l,{id:i,message:a,type:s}])},[]),n=w.useCallback(a=>{e(s=>s.filter(i=>i.id!==a))},[]);return{toasts:r,addToast:t,removeToast:n}}const KL=w.createContext({fetchCoupons:()=>{}}),Lie=()=>w.useContext(KL);async function Die(){try{const{data:r,error:e}=await K.from("coupons").select("*").order("created_at",{ascending:!1});return e?(console.error("Error fetching coupons:",e),[]):r||[]}catch(r){return console.error("Error in getCoupons:",r),[]}}async function W8(r){try{const{data:e,error:t}=await K.from("coupons").select("*").eq("id",r).single();return t?(console.error("Error fetching coupon:",t),null):e}catch(e){return console.error("Error in getCouponById:",e),null}}async function Tie(r){try{const{data:e,error:t}=await K.from("coupons").select("*").ilike("code",r).eq("is_active",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();return t?(console.error("Error fetching coupon by code:",t),null):e}catch(e){return console.error("Error in getCouponByCode:",e),null}}async function Rie(r){try{const{data:{user:e}}=await K.auth.getUser(),{data:t,error:n}=await K.from("coupons").insert({...r,code:r.code.toUpperCase(),created_by:e==null?void 0:e.id,updated_by:e==null?void 0:e.id}).select().single();return n?(console.error("Error creating coupon:",n),null):t}catch(e){return console.error("Error in createCoupon:",e),null}}async function Mie(r){try{const{data:{user:e}}=await K.auth.getUser(),{id:t,...n}=r,{data:a,error:s}=await K.from("coupons").update({...n,code:n.code?n.code.toUpperCase():void 0,updated_by:e==null?void 0:e.id,updated_at:new Date().toISOString()}).eq("id",t).select().single();return s?(console.error("Error updating coupon:",s),null):a}catch(e){return console.error("Error in updateCoupon:",e),null}}async function Iie(r){try{const{error:e}=await K.from("coupons").delete().eq("id",r);return e?(console.error("Error deleting coupon:",e),!1):!0}catch(e){return console.error("Error in deleteCoupon:",e),!1}}async function Oie(r,e){try{const{data:{user:t}}=await K.auth.getUser(),{error:n}=await K.from("coupons").update({is_active:e,updated_by:t==null?void 0:t.id,updated_at:new Date().toISOString()}).eq("id",r);return n?(console.error("Error toggling coupon status:",n),!1):!0}catch(t){return console.error("Error in toggleCouponStatus:",t),!1}}async function Fie(r,e){try{const t=await Tie(r);if(!t)return{valid:!1,error:"Cupom no encontrado"};if(!t.is_active)return{valid:!1,error:"Cupom inativo"};const n=new Date,a=t.start_date?new Date(t.start_date):null,s=t.end_date?new Date(t.end_date):null;return a&&a.getTime()>n.getTime()?{valid:!1,error:"Cupom ainda no est ativo"}:s&&s.getTime()<n.getTime()?{valid:!1,error:"Cupom expirado"}:t.minimum_amount&&e<t.minimum_amount?{valid:!1,error:`Valor mnimo de R$ ${t.minimum_amount.toFixed(2)} no atingido`}:t.usage_limit&&t.usage_count>=t.usage_limit?{valid:!1,error:"Limite de uso do cupom atingido"}:{valid:!0,coupon:t}}catch(t){return console.error("Error in validateCoupon:",t),{valid:!1,error:"Erro ao validar cupom"}}}function Bie(r,e){if(r.discount_type==="percentage"){const t=e*r.discount_value/100;return r.maximum_discount&&t>r.maximum_discount?r.maximum_discount:t}else return Math.min(r.discount_value,e)}function zie({field:r}){const[e,t]=w.useState(!1),[n,a]=w.useState({code:"",name:"",description:"",discount_type:"percentage",discount_value:0,minimum_amount:void 0,maximum_amount:void 0,maximum_discount:void 0,usage_limit:void 0,usage_limit_per_customer:void 0,start_date:"",end_date:"",is_active:!0,individual_use_only:!1,exclude_sale_items:!1}),{toasts:s,addToast:i,removeToast:l}=z3(),{fetchCoupons:c}=Lie(),d=g=>{const{name:v,value:x,type:b}=g.target;if(b==="checkbox"){const y=g.target.checked;a(C=>({...C,[v]:y}))}else a(b==="number"?y=>({...y,[v]:x===""?void 0:parseFloat(x)}):y=>({...y,[v]:x||void 0}))},u=()=>{const g="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let v="";for(let x=0;x<8;x++)v+=g.charAt(Math.floor(Math.random()*g.length));a(x=>({...x,code:v}))},h=()=>n.code.trim()?n.name.trim()?n.discount_value<=0?(i("[Desconto] Valor do desconto deve ser maior que zero","error"),!1):n.discount_type==="percentage"&&n.discount_value>100?(i("[Desconto] Desconto percentual no pode ser maior que 100%","error"),!1):n.maximum_amount&&n.minimum_amount&&n.maximum_amount<=n.minimum_amount?(i("[Valor Mximo] Valor mximo deve ser maior que o valor mnimo","error"),!1):n.end_date&&n.start_date&&new Date(n.end_date)<=new Date(n.start_date)?(i("[Datas] Data de fim deve ser posterior  data de incio","error"),!1):!0:(i("[Nome] Nome  obrigatrio","error"),!1):(i("[Cdigo] Cdigo  obrigatrio","error"),!1),f=async g=>{if(g.preventDefault(),!h())return;const v={...n,start_date:n.start_date||void 0,end_date:n.end_date||void 0};try{await Rie(v)?(i("Cupom criado com sucesso!","success"),a({code:"",name:"",description:"",discount_type:"percentage",discount_value:0,minimum_amount:void 0,maximum_amount:void 0,maximum_discount:void 0,usage_limit:void 0,usage_limit_per_customer:void 0,start_date:"",end_date:"",is_active:!0,individual_use_only:!1,exclude_sale_items:!1}),c(),t(!1)):i("Erro ao criar cupom","error")}catch(x){console.error("Erro ao criar cupom:",x),i("Erro ao criar cupom","error")}};function p(g){const v=x=>x.toString().padStart(2,"0");return g.getFullYear()+"-"+v(g.getMonth()+1)+"-"+v(g.getDate())+"T"+v(g.getHours())+":"+v(g.getMinutes())}const m=p(new Date);return o.jsxs(o.Fragment,{children:[o.jsx(B3,{toasts:s,onRemove:l}),o.jsx(at,{onClick:()=>t(!0),className:"mb-4 bg-blue-600 hover:bg-blue-700 text-white",children:r.label||"Novo Cupom"}),e&&o.jsxs("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center bg-gray-400/50 backdrop-blur-[--background-blur] dark:text-white",children:[o.jsx("div",{onClick:()=>t(!1),className:"absolute inset-0"}),o.jsxs("div",{className:"relative bg-white dark:bg-gray-900 rounded-lg shadow-lg w-full max-w-4xl max-h-[90vh] overflow-hidden z-10",children:[o.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.modalTitle||"Adicionar Novo Cupom"})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:o.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cdigo *"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",name:"code",value:n.code,onChange:d,className:"flex-1 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",placeholder:"Ex: DESCONTO10",required:!0}),o.jsx("button",{type:"button",onClick:u,className:"bg-gray-500 hover:bg-gray-600 text-white text-xs px-3 py-2 rounded-md",children:"Gerar"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome *"}),o.jsx("input",{type:"text",name:"name",value:n.name,onChange:d,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",placeholder:"Nome do cupom",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descrio"}),o.jsx("textarea",{name:"description",value:n.description,onChange:d,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",rows:2,placeholder:"Descrio opcional"})]}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[o.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-white mb-4",children:"Configuraes de Desconto"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de Desconto *"}),o.jsxs("select",{name:"discount_type",value:n.discount_type,onChange:d,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",children:[o.jsx("option",{value:"percentage",children:"Desconto em porcentagem"}),o.jsx("option",{value:"cart_fixed",children:"Desconto fixo de carrinho"}),o.jsx("option",{value:"product_fixed",children:"Desconto fixo de produto"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Valor do Desconto * ",n.discount_type==="percentage"?"(%)":"(R$)"]}),o.jsx("input",{type:"number",name:"discount_value",value:n.discount_value,onChange:d,min:"0",max:n.discount_type==="percentage"?"100":void 0,step:n.discount_type==="percentage"?"1":"0.01",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",required:!0})]})]})]}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[o.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-white mb-4",children:"Limites e Valores"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Valor Mnimo (R$)"}),o.jsx("input",{type:"number",name:"minimum_amount",value:n.minimum_amount||"",onChange:d,min:"0",step:"0.01",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",placeholder:"Valor mnimo para usar o cupom"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Valor Mximo (R$)"}),o.jsx("input",{type:"number",name:"maximum_amount",value:n.maximum_amount||"",onChange:d,min:"0",step:"0.01",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",placeholder:"Valor mximo do pedido para usar o cupom"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Limite de Uso"}),o.jsx("input",{type:"number",name:"usage_limit",value:n.usage_limit||"",onChange:d,min:"1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",placeholder:"Deixe vazio para uso ilimitado"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Limite de Uso por Cliente"}),o.jsx("input",{type:"number",name:"usage_limit_per_customer",value:n.usage_limit_per_customer||"",onChange:d,min:"1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",placeholder:"Quantas vezes cada cliente pode usar"})]})]})]}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[o.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-white mb-4",children:"Perodo de Validade"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data de Incio"}),o.jsx("input",{type:"datetime-local",name:"start_date",value:n.start_date,onChange:d,min:m,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data de Expirao"}),o.jsx("input",{type:"datetime-local",name:"end_date",value:n.end_date,onChange:d,min:n.start_date||m,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white"})]})]})]}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[o.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-white mb-4",children:"Configuraes Avanadas"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"is_active",checked:n.is_active,onChange:d,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("label",{className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Cupom ativo"})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("input",{type:"checkbox",name:"individual_use_only",checked:n.individual_use_only,onChange:d,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5"}),o.jsxs("div",{className:"ml-2",children:[o.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Apenas uso individual"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Marque esta opo caso o cupom no possa ser utilizado juntamente com outros cupons."})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("input",{type:"checkbox",name:"exclude_sale_items",checked:n.exclude_sale_items,onChange:d,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5"}),o.jsxs("div",{className:"ml-2",children:[o.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Excluir itens em oferta"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Selecione esta opo caso o cupom no seja vlido para produtos em promoo. Cupons aplicados por item funcionaro somente se o item no estiver em promoo. Cupons aplicados ao carrinho s sero vlidos caso no haja produtos em promoo no carrinho."})]})]})]})]}),o.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx(at,{onClick:()=>t(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-700",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white inline-flex items-center justify-center gap-2 rounded-lg transition px-5 py-3.5 text-sm",children:"Criar Cupom"})]})})]})})]})]})]})}function Hie(r="created_at",e="desc"){const[t,n]=w.useState(r),[a,s]=w.useState(e),i=w.useCallback(l=>{t===l?s(c=>c==="asc"?"desc":"asc"):(n(l),s("asc"))},[t]);return{sortField:t,sortDirection:a,handleSort:i,setSortField:n,setSortDirection:s}}const Uie=r=>({percentage:"Desconto em porcentagem",cart_fixed:"Desconto fixo de carrinho",product_fixed:"Desconto fixo de produto",fixed:"Valor fixo"})[r]||r,Vie=r=>r.discount_type==="percentage"?`${r.discount_value}%`:`R$ ${r.discount_value.toFixed(2)}`,$ie=r=>r==null?"-":`R$ ${r.toFixed(2)}`;function Wie(r){return new Date(r).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function q8(r){return $ie(r)}const qie=({coupons:r,onDelete:e,onToggleStatus:t})=>{const[n,a]=ft.useState(()=>{const g={};return r.forEach(v=>{g[v.id]=v.is_active}),g});ft.useEffect(()=>{a(g=>{const v={...g};return r.forEach(x=>{v[x.id]=x.is_active}),v})},[r]);const{sortField:s,sortDirection:i,handleSort:l}=Hie("created_at","desc"),c=mr(),d=[...r].sort((g,v)=>{let x=g[s],b=v[s];return s==="created_at"||s==="end_date"?(x=x?new Date(x).getTime():0,b=b?new Date(b).getTime():0,i==="asc"?x-b:b-x):typeof x=="string"&&typeof b=="string"?(x=x.toLowerCase(),b=b.toLowerCase(),x<b?i==="asc"?-1:1:x>b?i==="asc"?1:-1:0):typeof x=="number"&&typeof b=="number"?i==="asc"?x-b:b-x:typeof x=="boolean"&&typeof b=="boolean"?i==="asc"?Number(x)-Number(b):Number(b)-Number(x):x==null?1:b==null?-1:0}),u=async(g,v)=>{window.confirm(`Tem certeza que deseja excluir o cupom "${v}"?`)&&e(g)},h=g=>{navigator.clipboard.writeText(g)},f=g=>Vie(g),p=g=>g.is_active?g.end_date&&new Date(g.end_date)<new Date?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300",m=g=>g.is_active?g.end_date&&new Date(g.end_date)<new Date?"Expirado":"Ativo":"Inativo";return o.jsx("div",{className:"mt-6 overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:o.jsx("div",{className:"max-w-full overflow-x-auto",children:o.jsx("div",{className:"min-w-[1200px]",children:o.jsxs(no,{children:[o.jsx(ao,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:o.jsxs(Tr,{children:[o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>l("code"),children:[o.jsx("span",{children:"Cdigo"}),s==="code"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>l("name"),children:[o.jsx("span",{children:"Nome"}),s==="name"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>l("discount_value"),children:[o.jsx("span",{children:"Desconto"}),s==="discount_value"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>l("discount_type"),children:[o.jsx("span",{children:"Tipo"}),s==="discount_type"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>l("usage_count"),children:[o.jsx("span",{children:"Usos"}),s==="usage_count"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>l("end_date"),children:[o.jsx("span",{children:"Validade"}),s==="end_date"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>l("is_active"),children:[o.jsx("span",{children:"Status"}),s==="is_active"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left select-none px-5 py-3",children:o.jsx("span",{children:"Aes"})})})]})}),o.jsxs(so,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:[d.map(g=>o.jsxs(Tr,{children:[o.jsx(rt,{className:"px-5 py-4 sm:px-6 text-start",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-mono font-medium text-gray-800 text-theme-sm dark:text-white/90",children:g.code}),o.jsx("button",{onClick:()=>h(g.code),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"Copiar cdigo",children:o.jsx(jN,{className:"w-4 h-4"})})]})}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-800 dark:text-white/90",children:g.name}),g.description&&o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:g.description})]})}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-800 dark:text-white/90",children:f(g)}),g.minimum_amount&&o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Min: ",q8(g.minimum_amount)]}),g.maximum_amount&&o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Max: ",q8(g.maximum_amount)]})]})}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-800 dark:text-white/90 text-xs",children:Uie(g.discount_type)}),o.jsxs("div",{className:"flex gap-1 mt-1",children:[g.individual_use_only&&o.jsx("span",{className:"inline-block px-1 py-0.5 text-xs bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300 rounded",children:"Individual"}),g.exclude_sale_items&&o.jsx("span",{className:"inline-block px-1 py-0.5 text-xs bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300 rounded",children:"Sem promoo"})]})]})}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-800 dark:text-white/90",children:g.usage_limit?`${g.usage_count}/${g.usage_limit}`:`${g.usage_count} (ilimitado)`}),g.usage_limit_per_customer&&o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Mx ",g.usage_limit_per_customer,"/cliente"]})]})}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:g.end_date?o.jsxs("div",{children:[o.jsx("div",{className:"text-xs",children:"At:"}),o.jsx("div",{children:Wie(g.end_date)})]}):"Sem expirao"}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${p(g)}`,children:m(g)})}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Editar",onClick:()=>c(`/tickets/${g.id}`),children:o.jsx(Pi,{className:"w-5 h-5"})}),o.jsx("button",{className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",title:"Excluir",onClick:()=>u(g.id,g.name),children:o.jsx(rs,{className:"w-5 h-5"})}),o.jsx(S1,{checked:n[g.id],onChange:async v=>{a(x=>({...x,[g.id]:v})),await t(g.id,v)},onColor:"#3b82f6",offColor:"#d1d5db",checkedIcon:!1,uncheckedIcon:!1,height:16,width:32})]})})]},g.id)),r.length===0&&o.jsx(Tr,{children:o.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"Nenhum cupom encontrado."})})]})]})})})})};function Yie(r,e,t){return r.map(n=>n.id===e?{...n,is_active:t}:n)}const Gie=()=>{const[r,e]=w.useState([]),[t,n]=w.useState(!0),a=async()=>{n(!0);try{const c=await Die();e(c)}catch(c){console.error("Erro ao buscar cupons:",c),e([])}finally{n(!1)}};w.useEffect(()=>{a()},[]);const s=async c=>{try{await Iie(c)?e(u=>u.filter(h=>h.id!==c)):alert("Erro ao excluir cupom.")}catch(d){console.error("Erro ao excluir cupom:",d),alert("Erro ao excluir cupom.")}},i=c=>{console.log("Editando cupom:",c),alert("Funcionalidade de edio ser implementada em breve.")},l=async(c,d)=>{try{await Oie(c,d)?e(h=>Yie(h,c,d)):alert("Erro ao alterar status do cupom.")}catch(u){console.error("Erro ao alterar status do cupom:",u),alert("Erro ao alterar status do cupom.")}};return o.jsx(KL.Provider,{value:{fetchCoupons:a},children:o.jsxs("div",{children:[o.jsx("h2",{className:"mb-6 text-xl font-semibold text-gray-800 dark:text-white/90","x-text":"pageName",children:"Cupons"}),o.jsx(zie,{field:{label:"Novo Cupom",modalTitle:"Adicionar novo cupom"}}),o.jsx(qie,{coupons:r,onDelete:s,onEdit:i,onToggleStatus:l,onRefresh:a}),t&&o.jsx("div",{className:"fixed bottom-6 right-6 z-[9999] bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 shadow-lg rounded-lg px-6 py-3 text-gray-500 dark:text-gray-200 animate-fade-in",children:"Carregando..."})]})})};function Xie(){const[r,e]=w.useState("/favicon.png"),[t,n]=w.useState(!0);w.useEffect(()=>{a();const s=K.channel("settings_changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"settings"},()=>{a()}).subscribe();return()=>{K.removeChannel(s)}},[]);async function a(){try{n(!0);const{data:s,error:i}=await K.from("settings").select("platform_icon").single();if(i){console.error("Error fetching settings:",i);return}if(s!=null&&s.platform_icon)try{const{data:l}=K.storage.from("logos").getPublicUrl(s.platform_icon);l!=null&&l.publicUrl&&(await fetch(l.publicUrl,{method:"HEAD"})).ok&&e(l.publicUrl)}catch(l){console.error("Error accessing storage:",l)}}catch(s){console.error("Error loading favicon:",s)}finally{n(!1)}}return{favicon:r,loading:t}}function Zie(){const{favicon:r}=Xie();return w.useEffect(()=>{const e=document.querySelector("link[rel*='icon']");e&&(e.href=r)},[r]),null}function Jie({isOpen:r,onClose:e,entry:t,isAdmin:n}){var v;const[a,s]=w.useState([]),[i,l]=w.useState(!1);w.useEffect(()=>{t&&r&&c()},[t,r]);async function c(){if(t!=null&&t.form_id)try{l(!0);const{data:x,error:b}=await K.from("form_fields").select(`
          *,
          form_field_settings (*)
        `).eq("form_id",t.form_id).order("position",{ascending:!0});if(b)throw b;s(x||[])}catch(x){console.error("Error loading form fields:",x)}finally{l(!1)}}if(!t)return null;const d=x=>new Date(x).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),u=x=>{switch(x){case"verificado":return o.jsx(At,{color:"success",children:"Verificado"});case"reprovado":return o.jsx(At,{color:"error",children:"Reprovado"});case"em_analise":default:return o.jsx(At,{color:"warning",children:"Em Anlise"})}},h=x=>x?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("img",{src:pd(x),alt:"Site icon",className:"w-4 h-4",onError:b=>{b.target.style.display="none"}}),o.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400 hover:underline truncate max-w-[200px]",children:VP(x)})]}):"-",f=x=>{try{const b=typeof x=="string"?JSON.parse(x):x;if(!b||!b.name)return"-";if(!b.logo)return b.name;const y=p(b.logo);return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("img",{src:y,alt:`${b.name} logo`,className:"w-8 h-8 object-contain",onError:C=>{C.target.style.display="none"}}),o.jsx("span",{className:"text-gray-800 dark:text-white/90 font-medium",children:b.name})]})}catch(b){return console.error("Error rendering brand:",b),(x==null?void 0:x.toString())||"-"}},p=x=>{if(!x)return"";try{const{data:b}=K.storage.from("brand_logos").getPublicUrl(x);return(b==null?void 0:b.publicUrl)||""}catch(b){return console.error("Error getting brand logo URL:",b),""}},m=x=>!x||Object.keys(x).length===0?"-":o.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(x).map(([b,y])=>o.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 dark:bg-gray-800 rounded px-2 py-1",children:[o.jsx("img",{src:yh(b),alt:b,className:`w-4 h-4 object-cover ${b==="ROW"?"dark:invert":""}`,onError:C=>{C.target.style.display="none"}}),y&&o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:["(",y,"%)"]})]},b))}),g=(x,b)=>{if(x==null)return"-";if(b==="brand")return f(x);if(b==="url"||typeof x=="string"&&(x.startsWith("http://")||x.startsWith("https://")))return h(x);if(b==="country"&&typeof x=="object")return m(x);if(b==="button_buy")return null;switch(b){case"file":return Array.isArray(x)?`${x.length} arquivo(s)`:"1 arquivo";case"checkbox":case"multiselect":return Array.isArray(x)?x.join(", "):x;case"toggle":return x?"Sim":"No";case"product":try{const C=typeof x=="string"?JSON.parse(x):x;if(typeof C.price=="string"){const S=C.price;return S.startsWith("R$")?S:`R$ ${S}`}else{const S=parseFloat(C.price);if(!isNaN(S))return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S)}}catch(C){console.error("Error formatting price:",C)}return x.toString();case"commission":const y=parseFloat(x);return isNaN(y)?x:`${y}%`;case"brazilian_states":if(typeof x=="object"){const{state_name:C,city_names:S,state:_,cities:E}=x;return Array.isArray(S)&&S.length>0?o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:[C," - ",S.join(", ")]}):Array.isArray(E)&&E.length>0?o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:[C," - ",E.join(", ")]}):o.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:C||_||"-"})}return x.toString();default:return x.toString()}};return o.jsx(vs,{isOpen:r,onClose:e,className:"max-w-[800px] m-4",children:o.jsx("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-8",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:((v=t.form)==null?void 0:v.title)||"Formulrio sem ttulo"}),o.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:["Criado em ",d(t.created_at)]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),u(t.status||"em_analise")]}),t.publisher&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Publisher"}),o.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.jsxs("p",{children:[t.publisher.first_name," ",t.publisher.last_name]}),o.jsx("p",{children:t.publisher.email})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Valores do Formulrio"}),i?o.jsx("div",{className:"flex items-center justify-center h-20",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando campos..."})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(x=>{const b=t.values[x.id],y=x.form_field_settings;return(y==null?void 0:y.visibility)==="hidden"&&!n||(y==null?void 0:y.visibility)==="admin"&&!n||(y==null?void 0:y.visibility)==="marketplace"&&!n||x.field_type==="button_buy"?null:o.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[o.jsxs("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:[x.label,(y==null?void 0:y.visibility)==="admin"&&o.jsx("span",{className:"ml-2 text-xs text-brand-500 dark:text-brand-400",children:"(Admin Only)"}),(y==null?void 0:y.visibility)==="marketplace"&&o.jsx("span",{className:"ml-2 text-xs text-warning-500 dark:text-warning-400",children:"(Marketplace Only)"})]}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:g(b,x.field_type)})]},x.id)})})]}),t.notes&&t.notes.length>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notas"}),o.jsx("div",{className:"space-y-3",children:t.notes.map(x=>o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:x.note}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:d(x.created_at)})]},x.id))})]})]})})})}class M5{static async loadFormFields(e){try{const{data:t,error:n}=await K.from("form_fields").select(`
          *,
          form_field_settings (*)
        `).eq("form_id",e).order("position",{ascending:!0});if(n)return console.error("FormFieldsService - Load fields error:",n),{fields:[],fieldSettings:{},error:n};const a={};return t==null||t.forEach(s=>{s.form_field_settings&&(a[s.id]=s.form_field_settings)}),{fields:t||[],fieldSettings:a,error:null}}catch(t){return console.error("FormFieldsService - Unexpected error:",t),{fields:[],fieldSettings:{},error:t}}}static shouldFieldBeVisible(e,t){return!(e.visibility==="hidden"&&!t||e.visibility==="admin"&&!t||e.visibility==="marketplace"&&!t)}static mapFieldType(e){return["moz_da","semrush_as","ahrefs_dr","ahrefs_traffic","similarweb_traffic","google_traffic"].includes(e)?"api":{commission:"commission",brazilian_states:"brazilianStates",brand:"brand",button_buy:"buttonBuy",multiselect:"multiSelect"}[e]||e}}function Kie(r,e){const[t,n]=w.useState([]),[a,s]=w.useState({}),[i,l]=w.useState(!1),[c,d]=w.useState("");w.useEffect(()=>{r&&e&&u()},[r,e]);const u=async()=>{if(r!=null&&r.form_id)try{l(!0),d("");const h=await M5.loadFormFields(r.form_id);if(h.error)throw h.error;n(h.fields),s(h.fieldSettings)}catch(h){console.error("Error loading form fields:",h),d("Error loading form fields")}finally{l(!1)}};return{fields:t,fieldSettings:a,fieldsLoading:i,error:c,setError:d,loadFormFields:u}}function Qie(r,e,t){const[n,a]=w.useState({}),[s,i]=w.useState({});w.useEffect(()=>{r&&e&&l()},[r,e]),w.useEffect(()=>{t.length>0&&c()},[t]);const l=()=>{if(r!=null&&r.values){const h={};Object.entries(r.values).forEach(([f,p])=>{let m=p;if(typeof p=="string")try{const g=JSON.parse(p);g&&typeof g=="object"&&(m=g)}catch{m=p}h[f]=m}),a(h)}else a({})},c=()=>{a(h=>{const f={...h};t.forEach(m=>{if(m.field_type==="niche")if(!Array.isArray(f[m.id]))f[m.id]=[];else{const g=f[m.id].map(v=>{if(typeof v=="string")return{niche:v,price:""};if(typeof v=="object"&&v.niche)if(typeof v.niche=="string"&&v.niche.startsWith("{"))try{const x=JSON.parse(v.niche);return{niche:x.text||x.niche||v.niche,price:v.price||"",icon:x.icon}}catch{return{niche:v.niche,price:v.price||""}}else return{niche:v.niche,price:v.price||"",icon:v.icon};return typeof v=="object"&&v.text&&!v.niche?{niche:v.text,price:v.price||""}:v});f[m.id]=g}});const p=t.find(m=>m.field_type==="niche");return p&&!(p.id in f)&&(f[p.id]=[]),f})};return{formValues:n,validationErrors:s,setValidationErrors:i,updateFormValue:(h,f)=>{a(p=>({...p,[h]:f})),s[h]&&i(p=>{const m={...p};return delete m[h],m})},clearValidationError:h=>{s[h]&&i(f=>{const p={...f};return delete p[h],p})}}}class Y8{static async upsertFormEntryValues(e,t){try{const n=t.map(s=>({entry_id:e,field_id:s.field_id,value:s.value,value_json:s.value_json})),{error:a}=await K.from("form_entry_values").upsert(n,{onConflict:"entry_id,field_id",ignoreDuplicates:!1});return a?(console.error("FormEntryValuesService - Upsert error:",a),{success:!1,error:a}):{success:!0}}catch(n){return console.error("FormEntryValuesService - Unexpected error:",n),{success:!1,error:n}}}static async deleteAndInsertFormEntryValues(e,t){try{const{error:n}=await K.from("form_entry_values").delete().eq("entry_id",e);if(n)return{success:!1,error:n};const{error:a}=await K.from("form_entry_values").insert(t);return a?{success:!1,error:a}:{success:!0}}catch(n){return console.error("FormEntryValuesService - Legacy method error:",n),{success:!1,error:n}}}static async getFormEntryValues(e){try{const{data:t,error:n}=await K.from("form_entry_values").select("*").eq("entry_id",e).order("field_id");return n?(console.error("FormEntryValuesService - Get values error:",n),{data:null,error:n}):{data:t,error:null}}catch(t){return console.error("FormEntryValuesService - Unexpected get error:",t),{data:null,error:t}}}static validateFormEntryValues(e){const t=[];for(const n of e)n.entry_id||t.push("entry_id is required for all values"),n.field_id||t.push("field_id is required for all values"),n.value===null&&n.value_json===null&&console.log(` [FormEntryValuesService] Campo ${n.field_id} vazio (value=null, value_json=null)`),n.value!==null&&n.value_json!==null&&t.push(`Only one of value or value_json should be provided for field ${n.field_id}`);return{isValid:t.length===0,errors:t}}}class I5{static isFieldRequired(e){var t,n,a,s,i,l,c,d,u,h,f;return!!(e.field_type==="url"||(t=e.label)!=null&&t.toLowerCase().includes("url")&&!((n=e.label)!=null&&n.toLowerCase().includes("tipo de link"))&&!((a=e.label)!=null&&a.toLowerCase().includes("sada"))||(s=e.label)!=null&&s.toLowerCase().includes("site")||(i=e.label)!=null&&i.toLowerCase().includes("da ")&&!((l=e.label)!=null&&l.toLowerCase().includes("tipo"))||(c=e.label)!=null&&c.toLowerCase().includes("domain authority")||e.field_type==="number"&&((d=e.label)!=null&&d.toLowerCase().includes("domain"))||e.field_type==="product"||(u=e.label)!=null&&u.toLowerCase().includes("preo")||(h=e.label)!=null&&h.toLowerCase().includes("preco")||(f=e.label)!=null&&f.toLowerCase().includes("price"))}static validateField(e,t,n){if(this.isFieldRequired(e)&&(t==null||t===""))return"Este campo  obrigatrio";if(!t)return null;switch(e.field_type){case"email":if(!t.includes("@"))return"Por favor, insira um endereo de email vlido com @";break;case"url":try{new URL(t)}catch{return"Por favor, insira uma URL vlida"}break;case"number":if(isNaN(Number(t)))return"Por favor, insira um nmero vlido";break;case"multiselect":case"checkbox":const s=n[e.id];if(s!=null&&s.max_selections&&Array.isArray(t)&&t.length>s.max_selections)return`Voc pode selecionar no mximo ${s.max_selections} opes`;break;case"commission":const i=parseFloat(t);if(isNaN(i)||i<0||i>1e3)return"Commission must be between 0 and 1000";break}return null}static validateAllFields(e,t,n){const a={};return console.log(" [FormValidationService] Validando",e.length,"campos"),e.forEach(s=>{const i=t[s.id];this.isFieldRequired(s)&&console.log(` [FormValidationService] Campo obrigatrio: ${s.label} (${s.field_type}) = `,i);const c=this.validateField(s,i,n);c&&(console.log(` [FormValidationService] ERRO: ${s.label} - ${c}`),a[s.id]=c)}),Object.keys(a).length>0?(console.log(" [FormValidationService] Total de erros:",Object.keys(a).length),console.log(" [FormValidationService] Detalhes dos erros:",a)):console.log(" [FormValidationService] Validao concluda sem erros"),a}static hasValidationErrors(e){return Object.keys(e).length>0}}class eoe{static async submitFormEntry(e){const{entry:t,status:n,note:a,formValues:s,fields:i,fieldSettings:l,syncPriceFromValue:c}=e;try{const d=await lL(),u=d==null?void 0:d.id,h=I5.validateAllFields(i,s,l);if(I5.hasValidationErrors(h))return console.error(" [FormSubmissionService] Erros de validao:",h),{success:!1,error:`Erros de validao encontrados:
${Object.entries(h).map(([b,y])=>{const C=i.find(S=>S.id===b);return`${(C==null?void 0:C.label)||b}: ${y}`}).join(`
`)}`};const{error:f}=await K.from("form_entries").update({status:n}).eq("id",t.id);if(f)return console.error("FormSubmissionService - Status update error:",f),{success:!1,error:"Failed to update entry status"};const p=cL(s,u||null),m=[];for(const[x,b]of Object.entries(p)){const y=i.find(S=>S.id===x);if(!y)continue;y.field_type==="niche"&&Array.isArray(b)&&b.forEach(S=>{S&&typeof S=="object"&&S.icon&&console.log("Niche item with icon preserved:",S)});const C=typeof b!="string";m.push({entry_id:t.id,field_id:x,value:C?null:b,value_json:C?b:null})}const g=Y8.validateFormEntryValues(m);if(!g.isValid)return console.error("FormSubmissionService - Validation errors:",g.errors),{success:!1,error:"Invalid form entry values"};const v=await Y8.upsertFormEntryValues(t.id,m);if(!v.success)return console.error("FormSubmissionService - Upsert error:",v.error),{success:!1,error:"Failed to save form values"};if(a.trim()){const x=await this.addEntryNote(t.id,a.trim());x.success||console.warn("FormSubmissionService - Note creation failed:",x.error)}if(t.entry_id)try{await c(t.entry_id)}catch(x){console.warn("FormSubmissionService - Price sync failed:",x)}return{success:!0}}catch(d){return console.error("FormSubmissionService - Unexpected error:",d),{success:!1,error:"Unexpected error occurred"}}}static async addEntryNote(e,t){try{const{data:{user:n}}=await K.auth.getUser();if(!n)return{success:!1,error:"User not authenticated"};const{error:a}=await K.from("form_entry_notes").insert([{entry_id:e,note:t,created_by:n.id}]);return a?{success:!1,error:a}:{success:!0}}catch(n){return{success:!1,error:n}}}}function toe({isOpen:r,onClose:e,entry:t,onSave:n,isAdmin:a}){var A;const[s,i]=w.useState((t==null?void 0:t.status)||"em_analise"),[l,c]=w.useState(""),[d,u]=w.useState(!1),[h,f]=w.useState(""),{syncPriceFromValue:p}=m3(),{fields:m,fieldSettings:g,fieldsLoading:v}=Kie(t,r),{formValues:x,validationErrors:b,setValidationErrors:y,updateFormValue:C,clearValidationError:S}=Qie(t,r,m),_=async T=>{T.preventDefault();try{u(!0),f(""),y({});const F=await eoe.submitFormEntry({entry:t,status:s,note:l,formValues:x,fields:m,fieldSettings:g,syncPriceFromValue:p});F.success?(n(),e()):f(F.error||"Erro ao atualizar entrada")}catch(F){console.error("Unexpected error:",F),f("Erro inesperado ao atualizar entrada")}finally{u(!1)}},E=T=>{const F=g[T.id]||{},L=x[T.id],D=b[T.id];if(!M5.shouldFieldBeVisible(F,a)||T.field_type==="button_buy")return null;const z={field:T,settings:F,value:L,onChange:Y=>{C(T.id,Y)},error:D,onErrorClear:()=>{S(T.id)},productData:(()=>{const Y=m.find(G=>G.field_type==="product");return Y&&x[Y.id]?x[Y.id]:null})()},V=M5.mapFieldType(T.field_type),W=v1[`${V.charAt(0).toUpperCase()+V.slice(1)}Field`];return W?o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-400",children:[T.label,I5.isFieldRequired(T)&&o.jsx("span",{className:"text-error-500 ml-1",children:"*"}),F.visibility==="admin"&&o.jsx("span",{className:"ml-2 text-xs text-brand-500 dark:text-brand-400",children:"(Admin Only)"}),F.visibility==="marketplace"&&o.jsx("span",{className:"ml-2 text-xs text-warning-500 dark:text-warning-400",children:"(Marketplace Only)"})]}),o.jsx(W,{...z})]}):o.jsxs("div",{className:"text-error-500",children:["Unknown field type: ",T.field_type," (mapped to ",V,")"]})};return t?o.jsx(vs,{isOpen:r,onClose:e,className:"max-w-[800px] m-4",children:o.jsxs("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-xl font-semibold text-gray-800 dark:text-white/90",children:"Editar Entrada"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:((A=t.form)==null?void 0:A.title)||"Formulrio sem ttulo"})]}),v?o.jsx("div",{className:"flex items-center justify-center h-40",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando campos..."})}):o.jsxs("form",{onSubmit:_,className:"space-y-6",children:[h&&o.jsx("div",{className:"p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:h}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6",children:[o.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Dados do Formulrio"}),o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[m.map(T=>E(T)),m.length===0&&o.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"Nenhum campo encontrado para este formulrio"})]})]}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6",children:[o.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Status"}),o.jsx(Jt,{options:[{value:"em_analise",label:"Em Anlise"},{value:"verificado",label:"Verificado"},{value:"reprovado",label:"Reprovado"}],value:s,onChange:T=>i(T)})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Adicionar Nota"}),o.jsx(Zi,{value:l,onChange:c,rows:4,placeholder:"Adicione uma nota sobre esta entrada..."})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[o.jsx(at,{variant:"outline",onClick:e,disabled:d,children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:d,className:"inline-flex items-center justify-center gap-2 rounded-lg transition px-5 py-3.5 text-sm bg-brand-500 text-white shadow-theme-xs hover:bg-brand-600 disabled:bg-brand-300",children:d?"Salvando...":"Salvar Alteraes"})]})]})]})}):null}function roe({forms:r,selectedFormId:e,onSelectForm:t}){return o.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(AN,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white/90",children:"Filtrar Entradas"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-full sm:w-64",children:o.jsx(Jt,{options:r.map(n=>({value:n.id,label:n.title})),value:e,onChange:t,placeholder:"Selecione um formulrio"})}),e&&o.jsx(at,{variant:"outline",onClick:()=>t(""),className:"whitespace-nowrap",children:"Limpar Filtro"})]})]})}function noe(r){if(!r)return"-";let e=r;return e=e.replace(/^https?:\/\//,""),e=e.replace(/\/$/,""),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("img",{src:pd(r),alt:"Site icon",width:"20",height:"20",className:"flex-shrink-0",onError:t=>{t.target.style.display="none"}}),o.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-gray-800 text-theme-sm dark:text-white/90 hover:underline whitespace-nowrap",children:e})]})}function aoe(r){try{const e=typeof r=="string"?JSON.parse(r):r;if(!e||!e.name)return"-";if(!e.logo)return e.name;const t=soe(e.logo);return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("img",{src:t,alt:`${e.name} logo`,className:"w-8 h-8 object-contain",onError:n=>{n.target.style.display="none"}}),o.jsx("span",{className:"text-gray-800 dark:text-white/90 font-medium",children:e.name})]})}catch(e){return console.error("Error rendering brand:",e),(r==null?void 0:r.toString())||"-"}}function soe(r){if(!r)return"";try{const{data:e}=K.storage.from("brand_logos").getPublicUrl(r);return(e==null?void 0:e.publicUrl)||""}catch(e){return console.error("Error getting brand logo URL:",e),""}}function ioe(r,e){var n;if(!r||Object.keys(r).length===0)return"-";const t=((n=e.form_field_settings)==null?void 0:n.show_percentage)===!0;return o.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(r).map(([a,s])=>o.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 dark:bg-gray-800 rounded px-2 py-1",children:[o.jsx("img",{src:yh(a),alt:a,width:"20",height:"20",className:`rounded-full ${a==="ROW"?"dark:invert":""}`,onError:i=>{i.target.style.display="none"}}),t?o.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-xs font-medium",children:a}):s?o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:["(",s,"%)"]}):null]},a))})}function ooe(r,e,t){if(r==null)return"-";if(e==="button_buy")return null;if(e==="url")return noe(r);if(e==="brand")return aoe(r);if(e==="country"&&typeof r=="object")return ioe(r,t);switch(e){case"file":return Array.isArray(r)?`${r.length} arquivo(s)`:"1 arquivo";case"checkbox":case"multiselect":return Array.isArray(r)?r.join(", "):r;case"toggle":return r?"Sim":"No";case"product":try{const a=typeof r=="string"?JSON.parse(r):r,s=parseFloat(a.price);if(!isNaN(s))return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s)}catch(a){console.error("Error formatting price:",a)}return r.toString();case"commission":const n=parseFloat(r);return isNaN(n)?r:`${n}%`;case"brazilian_states":if(typeof r=="object"){const{state_name:a,city_names:s,state:i,cities:l}=r;return Array.isArray(s)&&s.length>0?o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:[a," - ",s.join(", ")]}):Array.isArray(l)&&l.length>0?o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:[a," - ",l.join(", ")]}):o.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:a||i||"-"})}return r.toString();default:return r.toString()}}const G8={url:"",da:"",preco:""};function loe({formFields:r,formId:e,userId:t,onSuccess:n}){const[a,s]=w.useState(!1),[i,l]=w.useState(G8),{csvData:c,error:d,parseCsvColumns:u}=aL(),h=m=>{u(m),l(G8)},f=m=>{l(m)},p=()=>{s(!1),n()};return o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>s(!0),className:"shadow-theme-xs flex w-full items-center justify-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-[11px] text-sm font-medium text-gray-700 sm:w-auto dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:"Importar dados de CSV",children:["Importar",o.jsx(bN,{className:"w-5 h-5 fill-current"})]}),o.jsx(nL,{open:a,onClose:()=>s(!1),onCsvUpload:h,csvData:c,mapping:i,onMappingChange:f,formFields:r,formId:e,userId:t||void 0,onSuccess:p}),d&&o.jsx("div",{className:"fixed bottom-4 right-4 p-4 bg-red-50 border border-red-200 rounded-lg shadow-lg",children:o.jsx("div",{className:"text-red-600 text-sm",children:d})})]})}var wa=Uint8Array,ms=Uint16Array,H3=Int32Array,E1=new wa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),A1=new wa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),O5=new wa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),QL=function(r,e){for(var t=new ms(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var a=new H3(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)a[s]=s-t[n]<<5|n;return{b:t,r:a}},eD=QL(E1,2),tD=eD.b,F5=eD.r;tD[28]=258,F5[258]=28;var rD=QL(A1,0),coe=rD.b,X8=rD.r,B5=new ms(32768);for(var Yr=0;Yr<32768;++Yr){var ll=(Yr&43690)>>1|(Yr&21845)<<1;ll=(ll&52428)>>2|(ll&13107)<<2,ll=(ll&61680)>>4|(ll&3855)<<4,B5[Yr]=((ll&65280)>>8|(ll&255)<<8)>>1}var Ki=function(r,e,t){for(var n=r.length,a=0,s=new ms(e);a<n;++a)r[a]&&++s[r[a]-1];var i=new ms(e);for(a=1;a<e;++a)i[a]=i[a-1]+s[a-1]<<1;var l;if(t){l=new ms(1<<e);var c=15-e;for(a=0;a<n;++a)if(r[a])for(var d=a<<4|r[a],u=e-r[a],h=i[r[a]-1]++<<u,f=h|(1<<u)-1;h<=f;++h)l[B5[h]>>c]=d}else for(l=new ms(n),a=0;a<n;++a)r[a]&&(l[a]=B5[i[r[a]-1]++]>>15-r[a]);return l},ql=new wa(288);for(var Yr=0;Yr<144;++Yr)ql[Yr]=8;for(var Yr=144;Yr<256;++Yr)ql[Yr]=9;for(var Yr=256;Yr<280;++Yr)ql[Yr]=7;for(var Yr=280;Yr<288;++Yr)ql[Yr]=8;var Ep=new wa(32);for(var Yr=0;Yr<32;++Yr)Ep[Yr]=5;var doe=Ki(ql,9,0),uoe=Ki(ql,9,1),hoe=Ki(Ep,5,0),foe=Ki(Ep,5,1),Qb=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},li=function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},ey=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},U3=function(r){return(r+7)/8|0},nD=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new wa(r.subarray(e,t))},poe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],fi=function(r,e,t){var n=new Error(e||poe[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,fi),!t)throw n;return n},goe=function(r,e,t,n){var a=r.length,s=0;if(!a||e.f&&!e.l)return t||new wa(0);var i=!t,l=i||e.i!=2,c=e.i;i&&(t=new wa(a*3));var d=function(Ne){var Le=t.length;if(Ne>Le){var Ie=new wa(Math.max(Le*2,Ne));Ie.set(t),t=Ie}},u=e.f||0,h=e.p||0,f=e.b||0,p=e.l,m=e.d,g=e.m,v=e.n,x=a*8;do{if(!p){u=li(r,h,1);var b=li(r,h+1,3);if(h+=3,b)if(b==1)p=uoe,m=foe,g=9,v=5;else if(b==2){var _=li(r,h,31)+257,E=li(r,h+10,15)+4,A=_+li(r,h+5,31)+1;h+=14;for(var T=new wa(A),F=new wa(19),L=0;L<E;++L)F[O5[L]]=li(r,h+L*3,7);h+=E*3;for(var D=Qb(F),O=(1<<D)-1,I=Ki(F,D,1),L=0;L<A;){var B=I[li(r,h,O)];h+=B&15;var y=B>>4;if(y<16)T[L++]=y;else{var z=0,V=0;for(y==16?(V=3+li(r,h,3),h+=2,z=T[L-1]):y==17?(V=3+li(r,h,7),h+=3):y==18&&(V=11+li(r,h,127),h+=7);V--;)T[L++]=z}}var W=T.subarray(0,_),Y=T.subarray(_);g=Qb(W),v=Qb(Y),p=Ki(W,g,1),m=Ki(Y,v,1)}else fi(1);else{var y=U3(h)+4,C=r[y-4]|r[y-3]<<8,S=y+C;if(S>a){c&&fi(0);break}l&&d(f+C),t.set(r.subarray(y,S),f),e.b=f+=C,e.p=h=S*8,e.f=u;continue}if(h>x){c&&fi(0);break}}l&&d(f+131072);for(var G=(1<<g)-1,q=(1<<v)-1,M=h;;M=h){var z=p[ey(r,h)&G],U=z>>4;if(h+=z&15,h>x){c&&fi(0);break}if(z||fi(2),U<256)t[f++]=U;else if(U==256){M=h,p=null;break}else{var $=U-254;if(U>264){var L=U-257,X=E1[L];$=li(r,h,(1<<X)-1)+tD[L],h+=X}var Q=m[ey(r,h)&q],se=Q>>4;Q||fi(3),h+=Q&15;var Y=coe[se];if(se>3){var X=A1[se];Y+=ey(r,h)&(1<<X)-1,h+=X}if(h>x){c&&fi(0);break}l&&d(f+131072);var le=f+$;if(f<Y){var ue=s-Y,ye=Math.min(Y,le);for(ue+f<0&&fi(3);f<ye;++f)t[f]=n[ue+f]}for(;f<le;++f)t[f]=t[f-Y]}}e.l=p,e.p=M,e.b=f,e.f=u,p&&(u=1,e.m=g,e.d=m,e.n=v)}while(!u);return f!=t.length&&i?nD(t,0,f):t.subarray(0,f)},xo=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},mf=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},ty=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var a=t.length,s=t.slice();if(!a)return{t:sD,l:0};if(a==1){var i=new wa(t[0].s+1);return i[t[0].s]=1,{t:i,l:1}}t.sort(function(S,_){return S.f-_.f}),t.push({s:-1,f:25001});var l=t[0],c=t[1],d=0,u=1,h=2;for(t[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=t[t[d].f<t[h].f?d++:h++],c=t[d!=u&&t[d].f<t[h].f?d++:h++],t[u++]={s:-1,f:l.f+c.f,l,r:c};for(var f=s[0].s,n=1;n<a;++n)s[n].s>f&&(f=s[n].s);var p=new ms(f+1),m=z5(t[u-1],p,0);if(m>e){var n=0,g=0,v=m-e,x=1<<v;for(s.sort(function(_,E){return p[E.s]-p[_.s]||_.f-E.f});n<a;++n){var b=s[n].s;if(p[b]>e)g+=x-(1<<m-p[b]),p[b]=e;else break}for(g>>=v;g>0;){var y=s[n].s;p[y]<e?g-=1<<e-p[y]++-1:++n}for(;n>=0&&g;--n){var C=s[n].s;p[C]==e&&(--p[C],++g)}m=e}return{t:new wa(p),l:m}},z5=function(r,e,t){return r.s==-1?Math.max(z5(r.l,e,t+1),z5(r.r,e,t+1)):e[r.s]=t},Z8=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new ms(++e),n=0,a=r[0],s=1,i=function(c){t[n++]=c},l=1;l<=e;++l)if(r[l]==a&&l!=e)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=r[l]}return{c:t.subarray(0,n),n:e}},xf=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},aD=function(r,e,t){var n=t.length,a=U3(e+2);r[a]=n&255,r[a+1]=n>>8,r[a+2]=r[a]^255,r[a+3]=r[a+1]^255;for(var s=0;s<n;++s)r[a+s+4]=t[s];return(a+4+n)*8},J8=function(r,e,t,n,a,s,i,l,c,d,u){xo(e,u++,t),++a[256];for(var h=ty(a,15),f=h.t,p=h.l,m=ty(s,15),g=m.t,v=m.l,x=Z8(f),b=x.c,y=x.n,C=Z8(g),S=C.c,_=C.n,E=new ms(19),A=0;A<b.length;++A)++E[b[A]&31];for(var A=0;A<S.length;++A)++E[S[A]&31];for(var T=ty(E,7),F=T.t,L=T.l,D=19;D>4&&!F[O5[D-1]];--D);var O=d+5<<3,I=xf(a,ql)+xf(s,Ep)+i,B=xf(a,f)+xf(s,g)+i+14+3*D+xf(E,F)+2*E[16]+3*E[17]+7*E[18];if(c>=0&&O<=I&&O<=B)return aD(e,u,r.subarray(c,c+d));var z,V,W,Y;if(xo(e,u,1+(B<I)),u+=2,B<I){z=Ki(f,p,0),V=f,W=Ki(g,v,0),Y=g;var G=Ki(F,L,0);xo(e,u,y-257),xo(e,u+5,_-1),xo(e,u+10,D-4),u+=14;for(var A=0;A<D;++A)xo(e,u+3*A,F[O5[A]]);u+=3*D;for(var q=[b,S],M=0;M<2;++M)for(var U=q[M],A=0;A<U.length;++A){var $=U[A]&31;xo(e,u,G[$]),u+=F[$],$>15&&(xo(e,u,U[A]>>5&127),u+=U[A]>>12)}}else z=doe,V=ql,W=hoe,Y=Ep;for(var A=0;A<l;++A){var X=n[A];if(X>255){var $=X>>18&31;mf(e,u,z[$+257]),u+=V[$+257],$>7&&(xo(e,u,X>>23&31),u+=E1[$]);var Q=X&31;mf(e,u,W[Q]),u+=Y[Q],Q>3&&(mf(e,u,X>>5&8191),u+=A1[Q])}else mf(e,u,z[X]),u+=V[X]}return mf(e,u,z[256]),u+V[256]},moe=new H3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sD=new wa(0),xoe=function(r,e,t,n,a,s){var i=s.z||r.length,l=new wa(n+i+5*(1+Math.ceil(i/7e3))+a),c=l.subarray(n,l.length-a),d=s.l,u=(s.r||0)&7;if(e){u&&(c[0]=s.r>>3);for(var h=moe[e-1],f=h>>13,p=h&8191,m=(1<<t)-1,g=s.p||new ms(32768),v=s.h||new ms(m+1),x=Math.ceil(t/3),b=2*x,y=function(et){return(r[et]^r[et+1]<<x^r[et+2]<<b)&m},C=new H3(25e3),S=new ms(288),_=new ms(32),E=0,A=0,T=s.i||0,F=0,L=s.w||0,D=0;T+2<i;++T){var O=y(T),I=T&32767,B=v[O];if(g[I]=B,v[O]=I,L<=T){var z=i-T;if((E>7e3||F>24576)&&(z>423||!d)){u=J8(r,c,0,C,S,_,A,F,D,T-D,u),F=E=A=0,D=T;for(var V=0;V<286;++V)S[V]=0;for(var V=0;V<30;++V)_[V]=0}var W=2,Y=0,G=p,q=I-B&32767;if(z>2&&O==y(T-q))for(var M=Math.min(f,z)-1,U=Math.min(32767,T),$=Math.min(258,z);q<=U&&--G&&I!=B;){if(r[T+W]==r[T+W-q]){for(var X=0;X<$&&r[T+X]==r[T+X-q];++X);if(X>W){if(W=X,Y=q,X>M)break;for(var Q=Math.min(q,X-2),se=0,V=0;V<Q;++V){var le=T-q+V&32767,ue=g[le],ye=le-ue&32767;ye>se&&(se=ye,B=le)}}}I=B,B=g[I],q+=I-B&32767}if(Y){C[F++]=268435456|F5[W]<<18|X8[Y];var Ne=F5[W]&31,Le=X8[Y]&31;A+=E1[Ne]+A1[Le],++S[257+Ne],++_[Le],L=T+W,++E}else C[F++]=r[T],++S[r[T]]}}for(T=Math.max(T,L);T<i;++T)C[F++]=r[T],++S[r[T]];u=J8(r,c,d,C,S,_,A,F,D,T-D,u),d||(s.r=u&7|c[u/8|0]<<3,u-=7,s.h=v,s.p=g,s.i=T,s.w=L)}else{for(var T=s.w||0;T<i+d;T+=65535){var Ie=T+65535;Ie>=i&&(c[u/8|0]=d,Ie=i),u=aD(c,u+1,r.subarray(T,Ie))}s.i=i}return nD(l,0,n+U3(u)+a)},iD=function(){var r=1,e=0;return{p:function(t){for(var n=r,a=e,s=t.length|0,i=0;i!=s;){for(var l=Math.min(i+2655,s);i<l;++i)a+=n+=t[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}r=n,e=a},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},voe=function(r,e,t,n,a){if(!a&&(a={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),i=new wa(s.length+r.length);i.set(s),i.set(r,s.length),r=i,a.w=s.length}return xoe(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,a)},oD=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},boe=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var a=iD();a.p(e.dictionary),oD(r,2,a.d())}},yoe=function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&fi(6,"invalid zlib data"),(r[1]>>5&1)==1&&fi(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function H5(r,e){e||(e={});var t=iD();t.p(r);var n=voe(r,e,e.dictionary?6:2,4);return boe(n,e),oD(n,n.length-4,t.d()),n}function woe(r,e){return goe(r.subarray(yoe(r),-4),{i:2},e,e)}var koe=typeof TextDecoder<"u"&&new TextDecoder,Coe=0;try{koe.decode(sD,{stream:!0}),Coe=1}catch{}var zt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function ry(){zt.console&&typeof zt.console.log=="function"&&zt.console.log.apply(zt.console,arguments)}var Or={log:ry,warn:function(r){zt.console&&(typeof zt.console.warn=="function"?zt.console.warn.apply(zt.console,arguments):ry.call(null,arguments))},error:function(r){zt.console&&(typeof zt.console.error=="function"?zt.console.error.apply(zt.console,arguments):ry(r))}};function ny(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Cc(n.response,e,t)},n.onerror=function(){Or.error("could not download file")},n.send()}function K8(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Sm(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Yf,U5,Cc=zt.saveAs||((typeof window>"u"?"undefined":Nr(window))!=="object"||window!==zt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=zt.URL||zt.webkitURL,a=document.createElement("a");e=e||r.name||"download",a.download=e,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?K8(a.href)?ny(r,e,t):Sm(a,a.target="_blank"):Sm(a)):(a.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Sm(a)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(K8(r))ny(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Sm(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:Nr(s)!=="object"&&(Or.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return ny(r,e,t);var a=r.type==="application/octet-stream",s=/constructor/i.test(zt.HTMLElement)||zt.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&s)&&(typeof FileReader>"u"?"undefined":Nr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=i?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(r)}else{var c=zt.URL||zt.webkitURL,d=c.createObjectURL(r);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function lD(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<t.length;n++){var a=t[n].re,s=t[n].process,i=a.exec(r);i&&(e=s(i),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ay(r,e){var t=r[0],n=r[1],a=r[2],s=r[3];t=pa(t,n,a,s,e[0],7,-680876936),s=pa(s,t,n,a,e[1],12,-389564586),a=pa(a,s,t,n,e[2],17,606105819),n=pa(n,a,s,t,e[3],22,-1044525330),t=pa(t,n,a,s,e[4],7,-176418897),s=pa(s,t,n,a,e[5],12,1200080426),a=pa(a,s,t,n,e[6],17,-1473231341),n=pa(n,a,s,t,e[7],22,-45705983),t=pa(t,n,a,s,e[8],7,1770035416),s=pa(s,t,n,a,e[9],12,-1958414417),a=pa(a,s,t,n,e[10],17,-42063),n=pa(n,a,s,t,e[11],22,-1990404162),t=pa(t,n,a,s,e[12],7,1804603682),s=pa(s,t,n,a,e[13],12,-40341101),a=pa(a,s,t,n,e[14],17,-1502002290),t=ga(t,n=pa(n,a,s,t,e[15],22,1236535329),a,s,e[1],5,-165796510),s=ga(s,t,n,a,e[6],9,-1069501632),a=ga(a,s,t,n,e[11],14,643717713),n=ga(n,a,s,t,e[0],20,-373897302),t=ga(t,n,a,s,e[5],5,-701558691),s=ga(s,t,n,a,e[10],9,38016083),a=ga(a,s,t,n,e[15],14,-660478335),n=ga(n,a,s,t,e[4],20,-405537848),t=ga(t,n,a,s,e[9],5,568446438),s=ga(s,t,n,a,e[14],9,-1019803690),a=ga(a,s,t,n,e[3],14,-187363961),n=ga(n,a,s,t,e[8],20,1163531501),t=ga(t,n,a,s,e[13],5,-1444681467),s=ga(s,t,n,a,e[2],9,-51403784),a=ga(a,s,t,n,e[7],14,1735328473),t=ma(t,n=ga(n,a,s,t,e[12],20,-1926607734),a,s,e[5],4,-378558),s=ma(s,t,n,a,e[8],11,-2022574463),a=ma(a,s,t,n,e[11],16,1839030562),n=ma(n,a,s,t,e[14],23,-35309556),t=ma(t,n,a,s,e[1],4,-1530992060),s=ma(s,t,n,a,e[4],11,1272893353),a=ma(a,s,t,n,e[7],16,-155497632),n=ma(n,a,s,t,e[10],23,-1094730640),t=ma(t,n,a,s,e[13],4,681279174),s=ma(s,t,n,a,e[0],11,-358537222),a=ma(a,s,t,n,e[3],16,-722521979),n=ma(n,a,s,t,e[6],23,76029189),t=ma(t,n,a,s,e[9],4,-640364487),s=ma(s,t,n,a,e[12],11,-421815835),a=ma(a,s,t,n,e[15],16,530742520),t=xa(t,n=ma(n,a,s,t,e[2],23,-995338651),a,s,e[0],6,-198630844),s=xa(s,t,n,a,e[7],10,1126891415),a=xa(a,s,t,n,e[14],15,-1416354905),n=xa(n,a,s,t,e[5],21,-57434055),t=xa(t,n,a,s,e[12],6,1700485571),s=xa(s,t,n,a,e[3],10,-1894986606),a=xa(a,s,t,n,e[10],15,-1051523),n=xa(n,a,s,t,e[1],21,-2054922799),t=xa(t,n,a,s,e[8],6,1873313359),s=xa(s,t,n,a,e[15],10,-30611744),a=xa(a,s,t,n,e[6],15,-1560198380),n=xa(n,a,s,t,e[13],21,1309151649),t=xa(t,n,a,s,e[4],6,-145523070),s=xa(s,t,n,a,e[11],10,-1120210379),a=xa(a,s,t,n,e[2],15,718787259),n=xa(n,a,s,t,e[9],21,-343485551),r[0]=Nl(t,r[0]),r[1]=Nl(n,r[1]),r[2]=Nl(a,r[2]),r[3]=Nl(s,r[3])}function P1(r,e,t,n,a,s){return e=Nl(Nl(e,r),Nl(n,s)),Nl(e<<a|e>>>32-a,t)}function pa(r,e,t,n,a,s,i){return P1(e&t|~e&n,r,e,a,s,i)}function ga(r,e,t,n,a,s,i){return P1(e&n|t&~n,r,e,a,s,i)}function ma(r,e,t,n,a,s,i){return P1(e^t^n,r,e,a,s,i)}function xa(r,e,t,n,a,s,i){return P1(t^(e|~n),r,e,a,s,i)}function cD(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)ay(n,Soe(r.substring(e-64,e)));r=r.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(ay(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,ay(n,a),n}function Soe(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}Yf=zt.atob.bind(zt),U5=zt.btoa.bind(zt);var Q8="0123456789abcdef".split("");function joe(r){for(var e="",t=0;t<4;t++)e+=Q8[r>>8*t+4&15]+Q8[r>>8*t&15];return e}function _oe(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function V5(r){return cD(r).map(_oe).join("")}var Noe=function(r){for(var e=0;e<r.length;e++)r[e]=joe(r[e]);return r.join("")}(cD("hello"))!="5d41402abc4b2a76b9719d911017c592";function Nl(r,e){if(Noe){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function $5(r,e){var t,n,a,s;if(r!==t){for(var i=(a=r,s=1+(256/r.length>>0),new Array(s+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+i.charCodeAt(c))%256,l[c]=l[d],l[d]=u}t=r,n=l}else l=n;var h=e.length,f=0,p=0,m="";for(c=0;c<h;c++)p=(p+(u=l[f=(f+1)%256]))%256,l[f]=l[p],l[p]=u,i=l[(l[f]+l[p])%256],m+=String.fromCharCode(e.charCodeAt(c)^i);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var e7={print:4,modify:8,copy:16,"annot-forms":32};function Kd(r,e,t,n){this.v=1,this.r=2;var a=192;r.forEach(function(l){if(e7.perm!==void 0)throw new Error("Invalid permission: "+l);a+=e7[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),i=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^a)),this.encryptionKey=V5(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=$5(this.encryptionKey,this.padding)}function Qd(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var a=r.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=r[n]}return e}function t7(r){if(Nr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,a){if(a=a||!1,typeof t!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!a],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in e[t]){var i=e[t][s];try{i[0].apply(r,n)}catch(l){zt.console&&Or.error("jsPDF PubSub Error",l.message,l)}i[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Nx(r){if(!(this instanceof Nx))return new Nx(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function dD(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Ac(r,e,t,n,a){if(!(this instanceof Ac))return new Ac(r,e,t,n,a);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,dD.call(this,n,a)}function gu(r,e,t,n,a){if(!(this instanceof gu))return new gu(r,e,t,n,a);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,dD.call(this,n,a)}function Ft(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],i=[],l=1,c=16,d="S",u=null;Nr(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,a=r.format||a,s=r.compress||r.compressPdf||s,(u=r.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),d=r.defaultPathOperation||"S"),i=r.filters||(s===!0?["FlateEncode"]:i),n=n||"mm",t=(""+(t||"P")).toLowerCase();var h=r.putOnlyUsedFonts||!1,f={},p={internal:{},__private__:{}};p.__private__.PubSub=t7;var m="1.3",g=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(P){m=P};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var x=p.__private__.getPageFormat=function(P){return v[P]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},y=b.COMPAT;function C(){this.saveGraphicsState(),ee(new He(Me,0,0,-Me,0,Yo()*Me).toString()+" cm"),this.setFontSize(this.getFontSize()/Me),d="n",y=b.ADVANCED}function S(){this.restoreGraphicsState(),d="S",y=b.COMPAT}var _=p.__private__.combineFontStyleAndFontWeight=function(P,J){if(P=="bold"&&J=="normal"||P=="bold"&&J==400||P=="normal"&&J=="italic"||P=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(P=J==400||J==="normal"?P==="italic"?"italic":"normal":J!=700&&J!=="bold"||P!=="normal"?(J==700?"bold":J)+""+P:"bold"),P};p.advancedAPI=function(P){var J=y===b.COMPAT;return J&&C.call(this),typeof P!="function"||(P(this),J&&S.call(this)),this},p.compatAPI=function(P){var J=y===b.ADVANCED;return J&&S.call(this),typeof P!="function"||(P(this),J&&C.call(this)),this},p.isAdvancedAPI=function(){return y===b.ADVANCED};var E,A=function(P){if(y!==b.ADVANCED)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=p.roundToPrecision=p.__private__.roundToPrecision=function(P,J){var de=e||J;if(isNaN(P)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(de).replace(/0+$/,"")};E=p.hpf=p.__private__.hpf=typeof c=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return T(P,c)}:c==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return T(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return T(P,16)};var F=p.f2=p.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return T(P,2)},L=p.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return T(P,3)},D=p.scale=p.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return y===b.COMPAT?P*Me:y===b.ADVANCED?P:void 0},O=function(P){return y===b.COMPAT?Yo()-P:y===b.ADVANCED?P:void 0},I=function(P){return D(O(P))};p.__private__.setPrecision=p.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(e=parseInt(P,10))};var B,z="00000000000000000000000000000000",V=p.__private__.getFileId=function(){return z},W=p.__private__.setFileId=function(P){return z=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(da=new Kd(u.userPermissions,u.userPassword,u.ownerPassword,z)),z};p.setFileId=function(P){return W(P),this},p.getFileId=function(){return V()};var Y=p.__private__.convertDateToPDFDate=function(P){var J=P.getTimezoneOffset(),de=J<0?"+":"-",fe=Math.floor(Math.abs(J/60)),Se=Math.abs(J%60),Be=[de,$(fe),"'",$(Se),"'"].join("");return["D:",P.getFullYear(),$(P.getMonth()+1),$(P.getDate()),$(P.getHours()),$(P.getMinutes()),$(P.getSeconds()),Be].join("")},G=p.__private__.convertPDFDateToDate=function(P){var J=parseInt(P.substr(2,4),10),de=parseInt(P.substr(6,2),10)-1,fe=parseInt(P.substr(8,2),10),Se=parseInt(P.substr(10,2),10),Be=parseInt(P.substr(12,2),10),Qe=parseInt(P.substr(14,2),10);return new Date(J,de,fe,Se,Be,Qe,0)},q=p.__private__.setCreationDate=function(P){var J;if(P===void 0&&(P=new Date),P instanceof Date)J=Y(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=P}return B=J},M=p.__private__.getCreationDate=function(P){var J=B;return P==="jsDate"&&(J=G(B)),J};p.setCreationDate=function(P){return q(P),this},p.getCreationDate=function(P){return M(P)};var U,$=p.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},X=p.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},Q=0,se=[],le=[],ue=0,ye=[],Ne=[],Le=!1,Ie=le,et=function(){Q=0,ue=0,le=[],se=[],ye=[],pn=Pt(),Tn=Pt()};p.__private__.setCustomOutputDestination=function(P){Le=!0,Ie=P};var Ee=function(P){Le||(Ie=P)};p.__private__.resetCustomOutputDestination=function(){Le=!1,Ie=le};var ee=p.__private__.out=function(P){return P=P.toString(),ue+=P.length+1,Ie.push(P),Ie},Ve=p.__private__.write=function(P){return ee(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},Ue=p.__private__.getArrayBuffer=function(P){for(var J=P.length,de=new ArrayBuffer(J),fe=new Uint8Array(de);J--;)fe[J]=P.charCodeAt(J);return de},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ke};var Ce=r.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(P){return Ce=y===b.ADVANCED?P/Me:P,this};var ze,Ge=p.__private__.getFontSize=p.getFontSize=function(){return y===b.COMPAT?Ce:Ce*Me},dt=r.R2L||!1;p.__private__.setR2L=p.setR2L=function(P){return dt=P,this},p.__private__.getR2L=p.getR2L=function(){return dt};var De,Fe=p.__private__.setZoomMode=function(P){var J=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))ze=P;else if(isNaN(P)){if(J.indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');ze=P}else ze=parseInt(P,10)};p.__private__.getZoomMode=function(){return ze};var it,vt=p.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');De=P};p.__private__.getPageMode=function(){return De};var tt=p.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');it=P};p.__private__.getLayoutMode=function(){return it},p.__private__.setDisplayMode=p.setDisplayMode=function(P,J,de){return Fe(P),tt(J),vt(de),this};var je={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(P){if(Object.keys(je).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return je[P]},p.__private__.getDocumentProperties=function(){return je},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(P){for(var J in je)je.hasOwnProperty(J)&&P[J]&&(je[J]=P[J]);return this},p.__private__.setDocumentProperty=function(P,J){if(Object.keys(je).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return je[P]=J};var ve,Me,Je,pt,ut,Ke={},wt={},er=[],It={},fn={},tr={},Mr={},hr=null,Gt=0,ne=[],oe=new t7(p),me=r.hotfixes||[],_e={},Xe={},nt=[],He=function P(J,de,fe,Se,Be,Qe){if(!(this instanceof P))return new P(J,de,fe,Se,Be,Qe);isNaN(J)&&(J=1),isNaN(de)&&(de=0),isNaN(fe)&&(fe=0),isNaN(Se)&&(Se=1),isNaN(Be)&&(Be=0),isNaN(Qe)&&(Qe=0),this._matrix=[J,de,fe,Se,Be,Qe]};Object.defineProperty(He.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(He.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(He.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(He.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(He.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(He.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(He.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(He.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(He.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(He.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(He.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(He.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(He.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(He.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(He.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(He.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),He.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(P)},He.prototype.multiply=function(P){var J=P.sx*this.sx+P.shy*this.shx,de=P.sx*this.shy+P.shy*this.sy,fe=P.shx*this.sx+P.sy*this.shx,Se=P.shx*this.shy+P.sy*this.sy,Be=P.tx*this.sx+P.ty*this.shx+this.tx,Qe=P.tx*this.shy+P.ty*this.sy+this.ty;return new He(J,de,fe,Se,Be,Qe)},He.prototype.decompose=function(){var P=this.sx,J=this.shy,de=this.shx,fe=this.sy,Se=this.tx,Be=this.ty,Qe=Math.sqrt(P*P+J*J),kt=(P/=Qe)*de+(J/=Qe)*fe;de-=P*kt,fe-=J*kt;var Lt=Math.sqrt(de*de+fe*fe);return kt/=Lt,P*(fe/=Lt)<J*(de/=Lt)&&(P=-P,J=-J,kt=-kt,Qe=-Qe),{scale:new He(Qe,0,0,Lt,0,0),translate:new He(1,0,0,1,Se,Be),rotate:new He(P,J,-J,P,0,0),skew:new He(1,0,kt,1,0,0)}},He.prototype.toString=function(P){return this.join(" ")},He.prototype.inversed=function(){var P=this.sx,J=this.shy,de=this.shx,fe=this.sy,Se=this.tx,Be=this.ty,Qe=1/(P*fe-J*de),kt=fe*Qe,Lt=-J*Qe,$t=-de*Qe,Ut=P*Qe;return new He(kt,Lt,$t,Ut,-kt*Se-$t*Be,-Lt*Se-Ut*Be)},He.prototype.applyToPoint=function(P){var J=P.x*this.sx+P.y*this.shx+this.tx,de=P.x*this.shy+P.y*this.sy+this.ty;return new Sd(J,de)},He.prototype.applyToRectangle=function(P){var J=this.applyToPoint(P),de=this.applyToPoint(new Sd(P.x+P.w,P.y+P.h));return new Rh(J.x,J.y,de.x-J.x,de.y-J.y)},He.prototype.clone=function(){var P=this.sx,J=this.shy,de=this.shx,fe=this.sy,Se=this.tx,Be=this.ty;return new He(P,J,de,fe,Se,Be)},p.Matrix=He;var ht=p.matrixMult=function(P,J){return J.multiply(P)},Et=new He(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Et;var lt=function(P,J){if(!fn[P]){var de=(J instanceof Ac?"Sh":"P")+(Object.keys(It).length+1).toString(10);J.id=de,fn[P]=de,It[de]=J,oe.publish("addPattern",J)}};p.ShadingPattern=Ac,p.TilingPattern=gu,p.addShadingPattern=function(P,J){return A("addShadingPattern()"),lt(P,J),this},p.beginTilingPattern=function(P){A("beginTilingPattern()"),gg(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},p.endTilingPattern=function(P,J){A("endTilingPattern()"),J.stream=Ne[U].join(`
`),lt(P,J),oe.publish("endTilingPattern",J),nt.pop().restore()};var mt=p.__private__.newObject=function(){var P=Pt();return sr(P,!0),P},Pt=p.__private__.newObjectDeferred=function(){return Q++,se[Q]=function(){return ue},Q},sr=function(P,J){return J=typeof J=="boolean"&&J,se[P]=ue,J&&ee(P+" 0 obj"),P},Ar=p.__private__.newAdditionalObject=function(){var P={objId:Pt(),content:""};return ye.push(P),P},pn=Pt(),Tn=Pt(),lr=p.__private__.decodeColorString=function(P){var J=P.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length===5&&(J[4]==="k"||J[4]==="K")&&(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var de=parseFloat(J[0]);J=[de,de,de,"r"]}for(var fe="#",Se=0;Se<3;Se++)fe+=("0"+Math.floor(255*parseFloat(J[Se])).toString(16)).slice(-2);return fe},ca=p.__private__.encodeColorString=function(P){var J;typeof P=="string"&&(P={ch1:P});var de=P.ch1,fe=P.ch2,Se=P.ch3,Be=P.ch4,Qe=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var kt=new lD(de);if(kt.ok)de=kt.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var Lt=parseInt(de.substr(1),16);de=Lt>>16&255,fe=Lt>>8&255,Se=255&Lt}if(fe===void 0||Be===void 0&&de===fe&&fe===Se)if(typeof de=="string")J=de+" "+Qe[0];else switch(P.precision){case 2:J=F(de/255)+" "+Qe[0];break;case 3:default:J=L(de/255)+" "+Qe[0]}else if(Be===void 0||Nr(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return J=["1.","1.","1.",Qe[1]].join(" ");if(typeof de=="string")J=[de,fe,Se,Qe[1]].join(" ");else switch(P.precision){case 2:J=[F(de/255),F(fe/255),F(Se/255),Qe[1]].join(" ");break;default:case 3:J=[L(de/255),L(fe/255),L(Se/255),Qe[1]].join(" ")}}else if(typeof de=="string")J=[de,fe,Se,Be,Qe[2]].join(" ");else switch(P.precision){case 2:J=[F(de),F(fe),F(Se),F(Be),Qe[2]].join(" ");break;case 3:default:J=[L(de),L(fe),L(Se),L(Be),Qe[2]].join(" ")}return J},Sa=p.__private__.getFilters=function(){return i},Kn=p.__private__.putStream=function(P){var J=(P=P||{}).data||"",de=P.filters||Sa(),fe=P.alreadyAppliedFilters||[],Se=P.addLength1||!1,Be=J.length,Qe=P.objectId,kt=function(ua){return ua};if(u!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(kt=da.encryptor(Qe,0));var Lt={};de===!0&&(de=["FlateEncode"]);var $t=P.additionalKeyValues||[],Ut=(Lt=Ft.API.processDataByFilters!==void 0?Ft.API.processDataByFilters(J,de):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(Lt.data.length!==0&&($t.push({key:"Length",value:Lt.data.length}),Se===!0&&$t.push({key:"Length1",value:Be})),Ut.length!=0)if(Ut.split("/").length-1==1)$t.push({key:"Filter",value:Ut});else{$t.push({key:"Filter",value:"["+Ut+"]"});for(var cr=0;cr<$t.length;cr+=1)if($t[cr].key==="DecodeParms"){for(var Qr=[],on=0;on<Lt.reverseChain.split("/").length-1;on+=1)Qr.push("null");Qr.push($t[cr].value),$t[cr].value="["+Qr.join(" ")+"]"}}ee("<<");for(var jn=0;jn<$t.length;jn++)ee("/"+$t[jn].key+" "+$t[jn].value);ee(">>"),Lt.data.length!==0&&(ee("stream"),ee(kt(Lt.data)),ee("endstream"))},Qn=p.__private__.putPage=function(P){var J=P.number,de=P.data,fe=P.objId,Se=P.contentsObjId;sr(fe,!0),ee("<</Type /Page"),ee("/Parent "+P.rootDictionaryObjId+" 0 R"),ee("/Resources "+P.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(E(P.mediaBox.bottomLeftX))+" "+parseFloat(E(P.mediaBox.bottomLeftY))+" "+E(P.mediaBox.topRightX)+" "+E(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&ee("/CropBox ["+E(P.cropBox.bottomLeftX)+" "+E(P.cropBox.bottomLeftY)+" "+E(P.cropBox.topRightX)+" "+E(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&ee("/BleedBox ["+E(P.bleedBox.bottomLeftX)+" "+E(P.bleedBox.bottomLeftY)+" "+E(P.bleedBox.topRightX)+" "+E(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&ee("/TrimBox ["+E(P.trimBox.bottomLeftX)+" "+E(P.trimBox.bottomLeftY)+" "+E(P.trimBox.topRightX)+" "+E(P.trimBox.topRightY)+"]"),P.artBox!==null&&ee("/ArtBox ["+E(P.artBox.bottomLeftX)+" "+E(P.artBox.bottomLeftY)+" "+E(P.artBox.topRightX)+" "+E(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&ee("/UserUnit "+P.userUnit),oe.publish("putPage",{objId:fe,pageContext:ne[J],pageNumber:J,page:de}),ee("/Contents "+Se+" 0 R"),ee(">>"),ee("endobj");var Be=de.join(`
`);return y===b.ADVANCED&&(Be+=`
Q`),sr(Se,!0),Kn({data:Be,filters:Sa(),objectId:Se}),ee("endobj"),fe},Es=p.__private__.putPages=function(){var P,J,de=[];for(P=1;P<=Gt;P++)ne[P].objId=Pt(),ne[P].contentsObjId=Pt();for(P=1;P<=Gt;P++)de.push(Qn({number:P,data:Ne[P],objId:ne[P].objId,contentsObjId:ne[P].contentsObjId,mediaBox:ne[P].mediaBox,cropBox:ne[P].cropBox,bleedBox:ne[P].bleedBox,trimBox:ne[P].trimBox,artBox:ne[P].artBox,userUnit:ne[P].userUnit,rootDictionaryObjId:pn,resourceDictionaryObjId:Tn}));sr(pn,!0),ee("<</Type /Pages");var fe="/Kids [";for(J=0;J<Gt;J++)fe+=de[J]+" 0 R ";ee(fe+"]"),ee("/Count "+Gt),ee(">>"),ee("endobj"),oe.publish("postPutPages")},As=function(P){oe.publish("putFont",{font:P,out:ee,newObject:mt,putStream:Kn}),P.isAlreadyPutted!==!0&&(P.objectNumber=mt(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+Qd(P.postScriptName)),ee("/Subtype /Type1"),typeof P.encoding=="string"&&ee("/Encoding /"+P.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},gn=function(){for(var P in Ke)Ke.hasOwnProperty(P)&&(h===!1||h===!0&&f.hasOwnProperty(P))&&As(Ke[P])},ss=function(P){P.objectNumber=mt();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[E(P.x),E(P.y),E(P.x+P.width),E(P.y+P.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var de=P.pages[1].join(`
`);Kn({data:de,additionalKeyValues:J,objectId:P.objectNumber}),ee("endobj")},mn=function(){for(var P in _e)_e.hasOwnProperty(P)&&ss(_e[P])},Ql=function(P,J){var de,fe=[],Se=1/(J-1);for(de=0;de<1;de+=Se)fe.push(de);if(fe.push(1),P[0].offset!=0){var Be={offset:0,color:P[0].color};P.unshift(Be)}if(P[P.length-1].offset!=1){var Qe={offset:1,color:P[P.length-1].color};P.push(Qe)}for(var kt="",Lt=0,$t=0;$t<fe.length;$t++){for(de=fe[$t];de>P[Lt+1].offset;)Lt++;var Ut=P[Lt].offset,cr=(de-Ut)/(P[Lt+1].offset-Ut),Qr=P[Lt].color,on=P[Lt+1].color;kt+=X(Math.round((1-cr)*Qr[0]+cr*on[0]).toString(16))+X(Math.round((1-cr)*Qr[1]+cr*on[1]).toString(16))+X(Math.round((1-cr)*Qr[2]+cr*on[2]).toString(16))}return kt.trim()},$r=function(P,J){J||(J=21);var de=mt(),fe=Ql(P.colors,J),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+J+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Kn({data:fe,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),ee("endobj"),P.objectNumber=mt(),ee("<< /ShadingType "+P.type),ee("/ColorSpace /DeviceRGB");var Be="/Coords ["+E(parseFloat(P.coords[0]))+" "+E(parseFloat(P.coords[1]))+" ";P.type===2?Be+=E(parseFloat(P.coords[2]))+" "+E(parseFloat(P.coords[3])):Be+=E(parseFloat(P.coords[2]))+" "+E(parseFloat(P.coords[3]))+" "+E(parseFloat(P.coords[4]))+" "+E(parseFloat(P.coords[5])),ee(Be+="]"),P.matrix&&ee("/Matrix ["+P.matrix.toString()+"]"),ee("/Function "+de+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},Hn=function(P,J){var de=Pt(),fe=mt();J.push({resourcesOid:de,objectOid:fe}),P.objectNumber=fe;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+P.boundingBox.map(E).join(" ")+"]"}),Se.push({key:"XStep",value:E(P.xStep)}),Se.push({key:"YStep",value:E(P.yStep)}),Se.push({key:"Resources",value:de+" 0 R"}),P.matrix&&Se.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Kn({data:P.stream,additionalKeyValues:Se,objectId:P.objectNumber}),ee("endobj")},Ti=function(P){var J;for(J in It)It.hasOwnProperty(J)&&(It[J]instanceof Ac?$r(It[J]):It[J]instanceof gu&&Hn(It[J],P))},ja=function(P){for(var J in P.objectNumber=mt(),ee("<<"),P)switch(J){case"opacity":ee("/ca "+F(P[J]));break;case"stroke-opacity":ee("/CA "+F(P[J]))}ee(">>"),ee("endobj")},Ps=function(){var P;for(P in tr)tr.hasOwnProperty(P)&&ja(tr[P])},_a=function(){for(var P in ee("/XObject <<"),_e)_e.hasOwnProperty(P)&&_e[P].objectNumber>=0&&ee("/"+P+" "+_e[P].objectNumber+" 0 R");oe.publish("putXobjectDict"),ee(">>")},ec=function(){da.oid=mt(),ee("<<"),ee("/Filter /Standard"),ee("/V "+da.v),ee("/R "+da.r),ee("/U <"+da.toHexString(da.U)+">"),ee("/O <"+da.toHexString(da.O)+">"),ee("/P "+da.P),ee(">>"),ee("endobj")},$o=function(){for(var P in ee("/Font <<"),Ke)Ke.hasOwnProperty(P)&&(h===!1||h===!0&&f.hasOwnProperty(P))&&ee("/"+P+" "+Ke[P].objectNumber+" 0 R");ee(">>")},tc=function(){if(Object.keys(It).length>0){for(var P in ee("/Shading <<"),It)It.hasOwnProperty(P)&&It[P]instanceof Ac&&It[P].objectNumber>=0&&ee("/"+P+" "+It[P].objectNumber+" 0 R");oe.publish("putShadingPatternDict"),ee(">>")}},Fa=function(P){if(Object.keys(It).length>0){for(var J in ee("/Pattern <<"),It)It.hasOwnProperty(J)&&It[J]instanceof p.TilingPattern&&It[J].objectNumber>=0&&It[J].objectNumber<P&&ee("/"+J+" "+It[J].objectNumber+" 0 R");oe.publish("putTilingPatternDict"),ee(">>")}},D1=function(){if(Object.keys(tr).length>0){var P;for(P in ee("/ExtGState <<"),tr)tr.hasOwnProperty(P)&&tr[P].objectNumber>=0&&ee("/"+P+" "+tr[P].objectNumber+" 0 R");oe.publish("putGStateDict"),ee(">>")}},xn=function(P){sr(P.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),$o(),tc(),Fa(P.objectOid),D1(),_a(),ee(">>"),ee("endobj")},eg=function(){var P=[];gn(),Ps(),mn(),Ti(P),oe.publish("putResources"),P.forEach(xn),xn({resourcesOid:Tn,objectOid:Number.MAX_SAFE_INTEGER}),oe.publish("postPutResources")},tg=function(){oe.publish("putAdditionalObjects");for(var P=0;P<ye.length;P++){var J=ye[P];sr(J.objId,!0),ee(J.content),ee("endobj")}oe.publish("postPutAdditionalObjects")},rg=function(P){wt[P.fontName]=wt[P.fontName]||{},wt[P.fontName][P.fontStyle]=P.id},jh=function(P,J,de,fe,Se){var Be={id:"F"+(Object.keys(Ke).length+1).toString(10),postScriptName:P,fontName:J,fontStyle:de,encoding:fe,isStandardFont:Se||!1,metadata:{}};return oe.publish("addFont",{font:Be,instance:this}),Ke[Be.id]=Be,rg(Be),Be.id},T1=function(P){for(var J=0,de=ke.length;J<de;J++){var fe=jh.call(this,P[J][0],P[J][1],P[J][2],ke[J][3],!0);h===!1&&(f[fe]=!0);var Se=P[J][0].split("-");rg({id:fe,fontName:Se[0],fontStyle:Se[1]||""})}oe.publish("addFonts",{fonts:Ke,dictionary:wt})},ti=function(P){return P.foo=function(){try{return P.apply(this,arguments)}catch(fe){var J=fe.stack||"";~J.indexOf(" at ")&&(J=J.split(" at ")[1]);var de="Error in function "+J.split(`
`)[0].split("<")[0]+": "+fe.message;if(!zt.console)throw new Error(de);zt.console.error(de,fe),zt.alert&&alert(de)}},P.foo.bar=P,P.foo},vd=function(P,J){var de,fe,Se,Be,Qe,kt,Lt,$t,Ut;if(Se=(J=J||{}).sourceEncoding||"Unicode",Qe=J.outputEncoding,(J.autoencode||Qe)&&Ke[ve].metadata&&Ke[ve].metadata[Se]&&Ke[ve].metadata[Se].encoding&&(Be=Ke[ve].metadata[Se].encoding,!Qe&&Ke[ve].encoding&&(Qe=Ke[ve].encoding),!Qe&&Be.codePages&&(Qe=Be.codePages[0]),typeof Qe=="string"&&(Qe=Be[Qe]),Qe)){for(Lt=!1,kt=[],de=0,fe=P.length;de<fe;de++)($t=Qe[P.charCodeAt(de)])?kt.push(String.fromCharCode($t)):kt.push(P[de]),kt[de].charCodeAt(0)>>8&&(Lt=!0);P=kt.join("")}for(de=P.length;Lt===void 0&&de!==0;)P.charCodeAt(de-1)>>8&&(Lt=!0),de--;if(!Lt)return P;for(kt=J.noBOM?[]:[254,255],de=0,fe=P.length;de<fe;de++){if((Ut=($t=P.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+P+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kt.push(Ut),kt.push($t-(Ut<<8))}return String.fromCharCode.apply(void 0,kt)},Ba=p.__private__.pdfEscape=p.pdfEscape=function(P,J){return vd(P,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_h=p.__private__.beginPage=function(P){Ne[++Gt]=[],ne[Gt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},ag(Gt),Ee(Ne[U])},ng=function(P,J){var de,fe,Se;switch(t=J||t,typeof P=="string"&&(de=x(P.toLowerCase()),Array.isArray(de)&&(fe=de[0],Se=de[1])),Array.isArray(P)&&(fe=P[0]*Me,Se=P[1]*Me),isNaN(fe)&&(fe=a[0],Se=a[1]),(fe>14400||Se>14400)&&(Or.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),Se=Math.min(14400,Se)),a=[fe,Se],t.substr(0,1)){case"l":Se>fe&&(a=[Se,fe]);break;case"p":fe>Se&&(a=[Se,fe])}_h(a),dg(Ph),ee(ri),Dh!==0&&ee(Dh+" J"),Th!==0&&ee(Th+" j"),oe.publish("addPage",{pageNumber:Gt})},R1=function(P){P>0&&P<=Gt&&(Ne.splice(P,1),ne.splice(P,1),Gt--,U>Gt&&(U=Gt),this.setPage(U))},ag=function(P){P>0&&P<=Gt&&(U=P)},M1=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ne.length-1},sg=function(P,J,de){var fe,Se=void 0;return de=de||{},P=P!==void 0?P:Ke[ve].fontName,J=J!==void 0?J:Ke[ve].fontStyle,fe=P.toLowerCase(),wt[fe]!==void 0&&wt[fe][J]!==void 0?Se=wt[fe][J]:wt[P]!==void 0&&wt[P][J]!==void 0?Se=wt[P][J]:de.disableWarning===!1&&Or.warn("Unable to look up font label for font '"+P+"', '"+J+"'. Refer to getFontList() for available fonts."),Se||de.noFallback||(Se=wt.times[J])==null&&(Se=wt.times.normal),Se},I1=p.__private__.putInfo=function(){var P=mt(),J=function(fe){return fe};for(var de in u!==null&&(J=da.encryptor(P,0)),ee("<<"),ee("/Producer ("+Ba(J("jsPDF "+Ft.version))+")"),je)je.hasOwnProperty(de)&&je[de]&&ee("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+Ba(J(je[de]))+")");ee("/CreationDate ("+Ba(J(B))+")"),ee(">>"),ee("endobj")},Nh=p.__private__.putCatalog=function(P){var J=(P=P||{}).rootDictionaryObjId||pn;switch(mt(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+J+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+ze;de.substr(de.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+F(ze)+"]")}switch(it||(it="continuous"),it){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}De&&ee("/PageMode /"+De),oe.publish("putCatalog"),ee(">>"),ee("endobj")},O1=p.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(Q+1)),ee("/Root "+Q+" 0 R"),ee("/Info "+(Q-1)+" 0 R"),u!==null&&ee("/Encrypt "+da.oid+" 0 R"),ee("/ID [ <"+z+"> <"+z+"> ]"),ee(">>")},F1=p.__private__.putHeader=function(){ee("%PDF-"+m),ee("%")},B1=p.__private__.putXRef=function(){var P="0000000000";ee("xref"),ee("0 "+(Q+1)),ee("0000000000 65535 f ");for(var J=1;J<=Q;J++)typeof se[J]=="function"?ee((P+se[J]()).slice(-10)+" 00000 n "):se[J]!==void 0?ee((P+se[J]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},oo=p.__private__.buildDocument=function(){et(),Ee(le),oe.publish("buildDocument"),F1(),Es(),tg(),eg(),u!==null&&ec(),I1(),Nh();var P=ue;return B1(),O1(),ee("startxref"),ee(""+P),ee("%%EOF"),Ee(Ne[U]),le.join(`
`)},bd=p.__private__.getBlob=function(P){return new Blob([Ue(P)],{type:"application/pdf"})},yd=p.output=p.__private__.output=ti(function(P,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",P){case void 0:return oo();case"save":p.save(J.filename);break;case"arraybuffer":return Ue(oo());case"blob":return bd(oo());case"bloburi":case"bloburl":if(zt.URL!==void 0&&typeof zt.URL.createObjectURL=="function")return zt.URL&&zt.URL.createObjectURL(bd(oo()))||void 0;Or.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",fe=oo();try{de=U5(fe)}catch{de=U5(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+J.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(zt)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Se=J.pdfObjectUrl,Be="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",kt=zt.open();return kt!==null&&kt.document.write(Qe),kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(zt)==="[object Window]"){var Lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',$t=zt.open();if($t!==null){$t.document.write(Lt);var Ut=this;$t.document.documentElement.querySelector("#pdfViewer").onload=function(){$t.document.title=J.filename,$t.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ut.output("bloburl"))}}return $t}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(zt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var cr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',Qr=zt.open();if(Qr!==null&&(Qr.document.write(cr),Qr.document.title=J.filename),Qr||typeof safari>"u")return Qr;break;case"datauri":case"dataurl":return zt.document.location.href=this.output("datauristring",J);default:return null}}),ig=function(P){return Array.isArray(me)===!0&&me.indexOf(P)>-1};switch(n){case"pt":Me=1;break;case"mm":Me=72/25.4;break;case"cm":Me=72/2.54;break;case"in":Me=72;break;case"px":Me=ig("px_scaling")==1?.75:96/72;break;case"pc":case"em":Me=12;break;case"ex":Me=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Me=n}var da=null;q(),W();var z1=function(P){return u!==null?da.encryptor(P,0):function(J){return J}},og=p.__private__.getPageInfo=p.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ne[P].objId,pageNumber:P,pageContext:ne[P]}},Ht=p.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in ne)if(ne[J].objId===P)break;return og(J)},H1=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ne[U].objId,pageNumber:U,pageContext:ne[U]}};p.addPage=function(){return ng.apply(this,arguments),this},p.setPage=function(){return ag.apply(this,arguments),Ee.call(this,Ne[U]),this},p.insertPage=function(P){return this.addPage(),this.movePage(U,P),this},p.movePage=function(P,J){var de,fe;if(P>J){de=Ne[P],fe=ne[P];for(var Se=P;Se>J;Se--)Ne[Se]=Ne[Se-1],ne[Se]=ne[Se-1];Ne[J]=de,ne[J]=fe,this.setPage(J)}else if(P<J){de=Ne[P],fe=ne[P];for(var Be=P;Be<J;Be++)Ne[Be]=Ne[Be+1],ne[Be]=ne[Be+1];Ne[J]=de,ne[J]=fe,this.setPage(J)}return this},p.deletePage=function(){return R1.apply(this,arguments),this},p.__private__.text=p.text=function(P,J,de,fe,Se){var Be,Qe,kt,Lt,$t,Ut,cr,Qr,on,jn=(fe=fe||{}).scope||this;if(typeof P=="number"&&typeof J=="number"&&(typeof de=="string"||Array.isArray(de))){var ua=de;de=J,J=P,P=ua}if(arguments[3]instanceof He?(A("The transform parameter of text() with a Matrix value"),on=Se):(kt=arguments[4],Lt=arguments[5],Nr(cr=arguments[3])==="object"&&cr!==null||(typeof kt=="string"&&(Lt=kt,kt=null),typeof cr=="string"&&(Lt=cr,cr=null),typeof cr=="number"&&(kt=cr,cr=null),fe={flags:cr,angle:kt,align:Lt})),isNaN(J)||isNaN(de)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return jn;var Un="",ni=!1,is=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:nc,Ii=jn.internal.scaleFactor;function mg(Fr){return Fr=Fr.split("	").join(Array(fe.TabLen||9).join(" ")),Ba(Fr,cr)}function Fh(Fr){for(var Br,bn=Fr.concat(),Rn=[],fo=bn.length;fo--;)typeof(Br=bn.shift())=="string"?Rn.push(Br):Array.isArray(Fr)&&(Br.length===1||Br[1]===void 0&&Br[2]===void 0)?Rn.push(Br[0]):Rn.push([Br[0],Br[1],Br[2]]);return Rn}function Bh(Fr,Br){var bn;if(typeof Fr=="string")bn=Br(Fr)[0];else if(Array.isArray(Fr)){for(var Rn,fo,Yh=Fr.concat(),Md=[],wg=Yh.length;wg--;)typeof(Rn=Yh.shift())=="string"?Md.push(Br(Rn)[0]):Array.isArray(Rn)&&typeof Rn[0]=="string"&&(fo=Br(Rn[0],Rn[1],Rn[2]),Md.push([fo[0],fo[1],fo[2]]));bn=Md}return bn}var _d=!1,zh=!0;if(typeof P=="string")_d=!0;else if(Array.isArray(P)){var Hh=P.concat();Qe=[];for(var Nd,ea=Hh.length;ea--;)(typeof(Nd=Hh.shift())!="string"||Array.isArray(Nd)&&typeof Nd[0]!="string")&&(zh=!1);_d=zh}if(_d===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var Ed=Ce/jn.internal.scaleFactor,Ad=Ed*(is-1);switch(fe.baseline){case"bottom":de-=Ad;break;case"top":de+=Ed-Ad;break;case"hanging":de+=Ed-2*Ad;break;case"middle":de+=Ed/2-Ad}if((Ut=fe.maxWidth||0)>0&&(typeof P=="string"?P=jn.splitTextToSize(P,Ut):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(Fr,Br){return Fr.concat(jn.splitTextToSize(Br,Ut))},[]))),Be={text:P,x:J,y:de,options:fe,mutex:{pdfEscape:Ba,activeFontKey:ve,fonts:Ke,activeFontSize:Ce}},oe.publish("preProcessText",Be),P=Be.text,kt=(fe=Be.options).angle,!(on instanceof He)&&kt&&typeof kt=="number"){kt*=Math.PI/180,fe.rotationDirection===0&&(kt=-kt),y===b.ADVANCED&&(kt=-kt);var Pd=Math.cos(kt),Uh=Math.sin(kt);on=new He(Pd,Uh,-Uh,Pd,0,0)}else kt&&kt instanceof He&&(on=kt);y!==b.ADVANCED||on||(on=Et),($t=fe.charSpace||Cd)!==void 0&&(Un+=E(D($t))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qr=fe.horizontalScale)!==void 0&&(Un+=E(100*Qr)+` Tz
`),fe.lang;var za=-1,J1=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Vh=jn.internal.getCurrentPageInfo().pageContext;switch(J1){case 0:case!1:case"fill":za=0;break;case 1:case!0:case"stroke":za=1;break;case 2:case"fillThenStroke":za=2;break;case 3:case"invisible":za=3;break;case 4:case"fillAndAddForClipping":za=4;break;case 5:case"strokeAndAddPathForClipping":za=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":za=6;break;case 7:case"addToPathForClipping":za=7}var xg=Vh.usedRenderingMode!==void 0?Vh.usedRenderingMode:-1;za!==-1?Un+=za+` Tr
`:xg!==-1&&(Un+=`0 Tr
`),za!==-1&&(Vh.usedRenderingMode=za),Lt=fe.align||"left";var Ls,Ld=Ce*is,vg=jn.internal.pageSize.getWidth(),bg=Ke[ve];$t=fe.charSpace||Cd,Ut=fe.maxWidth||0,cr=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var Go=[],ic=function(Fr){return jn.getStringUnitWidth(Fr,{font:bg,charSpace:$t,fontSize:Ce,doKerning:!1})*Ce/Ii};if(Object.prototype.toString.call(P)==="[object Array]"){var Ha;Qe=Fh(P),Lt!=="left"&&(Ls=Qe.map(ic));var Na,Xo=0;if(Lt==="right"){J-=Ls[0],P=[],ea=Qe.length;for(var co=0;co<ea;co++)co===0?(Na=Mi(J),Ha=lo(de)):(Na=D(Xo-Ls[co]),Ha=-Ld),P.push([Qe[co],Na,Ha]),Xo=Ls[co]}else if(Lt==="center"){J-=Ls[0]/2,P=[],ea=Qe.length;for(var uo=0;uo<ea;uo++)uo===0?(Na=Mi(J),Ha=lo(de)):(Na=D((Xo-Ls[uo])/2),Ha=-Ld),P.push([Qe[uo],Na,Ha]),Xo=Ls[uo]}else if(Lt==="left"){P=[],ea=Qe.length;for(var Dd=0;Dd<ea;Dd++)P.push(Qe[Dd])}else if(Lt==="justify"&&bg.encoding==="Identity-H"){P=[],ea=Qe.length,Ut=Ut!==0?Ut:vg;for(var ho=0,vn=0;vn<ea;vn++)if(Ha=vn===0?lo(de):-Ld,Na=vn===0?Mi(J):ho,vn<ea-1){var $h=D((Ut-Ls[vn])/(Qe[vn].split(" ").length-1)),Ea=Qe[vn].split(" ");P.push([Ea[0]+" ",Na,Ha]),ho=0;for(var Ds=1;Ds<Ea.length;Ds++){var Td=(ic(Ea[Ds-1]+" "+Ea[Ds])-ic(Ea[Ds]))*Ii+$h;Ds==Ea.length-1?P.push([Ea[Ds],Td,0]):P.push([Ea[Ds]+" ",Td,0]),ho-=Td}}else P.push([Qe[vn],Na,Ha]);P.push(["",ho,0])}else{if(Lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],ea=Qe.length,Ut=Ut!==0?Ut:vg,vn=0;vn<ea;vn++)Ha=vn===0?lo(de):-Ld,Na=vn===0?Mi(J):0,vn<ea-1?Go.push(E(D((Ut-Ls[vn])/(Qe[vn].split(" ").length-1)))):Go.push(0),P.push([Qe[vn],Na,Ha])}}var yg=typeof fe.R2L=="boolean"?fe.R2L:dt;yg===!0&&(P=Bh(P,function(Fr,Br,bn){return[Fr.split("").reverse().join(""),Br,bn]})),Be={text:P,x:J,y:de,options:fe,mutex:{pdfEscape:Ba,activeFontKey:ve,fonts:Ke,activeFontSize:Ce}},oe.publish("postProcessText",Be),P=Be.text,ni=Be.mutex.isHex||!1;var Wh=Ke[ve].encoding;Wh!=="WinAnsiEncoding"&&Wh!=="StandardEncoding"||(P=Bh(P,function(Fr,Br,bn){return[mg(Fr),Br,bn]})),Qe=Fh(P),P=[];for(var oc,lc,Zo,cc=0,Rd=1,dc=Array.isArray(Qe[0])?Rd:cc,Jo="",qh=function(Fr,Br,bn){var Rn="";return bn instanceof He?(bn=typeof fe.angle=="number"?ht(bn,new He(1,0,0,1,Fr,Br)):ht(new He(1,0,0,1,Fr,Br),bn),y===b.ADVANCED&&(bn=ht(new He(1,0,0,-1,0,0),bn)),Rn=bn.join(" ")+` Tm
`):Rn=E(Fr)+" "+E(Br)+` Td
`,Rn},Ts=0;Ts<Qe.length;Ts++){switch(Jo="",dc){case Rd:Zo=(ni?"<":"(")+Qe[Ts][0]+(ni?">":")"),oc=parseFloat(Qe[Ts][1]),lc=parseFloat(Qe[Ts][2]);break;case cc:Zo=(ni?"<":"(")+Qe[Ts]+(ni?">":")"),oc=Mi(J),lc=lo(de)}Go!==void 0&&Go[Ts]!==void 0&&(Jo=Go[Ts]+` Tw
`),Ts===0?P.push(Jo+qh(oc,lc,on)+Zo):dc===cc?P.push(Jo+Zo):dc===Rd&&P.push(Jo+qh(oc,lc,on)+Zo)}P=dc===cc?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Rs=`BT
/`;return Rs+=ve+" "+Ce+` Tf
`,Rs+=E(Ce*is)+` TL
`,Rs+=ac+`
`,Rs+=Un,Rs+=P,ee(Rs+="ET"),f[ve]=!0,jn};var U1=p.__private__.clip=p.clip=function(P){return ee(P==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return U1("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ee("n"),this};var Ri=p.__private__.isValidStyle=function(P){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(J=!0),J};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(P){return Ri(P)&&(d=P),this};var lg=p.__private__.getStyle=p.getStyle=function(P){var J=d;switch(P){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=P}return J},cg=p.close=function(){return ee("h"),this};p.stroke=function(){return ee("S"),this},p.fill=function(P){return wd("f",P),this},p.fillEvenOdd=function(P){return wd("f*",P),this},p.fillStroke=function(P){return wd("B",P),this},p.fillStrokeEvenOdd=function(P){return wd("B*",P),this};var wd=function(P,J){Nr(J)==="object"?$1(J,P):ee(P)},Eh=function(P){P===null||y===b.ADVANCED&&P===void 0||(P=lg(P),ee(P))};function V1(P,J,de,fe,Se){var Be=new gu(J||this.boundingBox,de||this.xStep,fe||this.yStep,this.gState,Se||this.matrix);Be.stream=this.stream;var Qe=P+"$$"+this.cloneIndex+++"$$";return lt(Qe,Be),Be}var $1=function(P,J){var de=fn[P.key],fe=It[de];if(fe instanceof Ac)ee("q"),ee(W1(J)),fe.gState&&p.setGState(fe.gState),ee(P.matrix.toString()+" cm"),ee("/"+de+" sh"),ee("Q");else if(fe instanceof gu){var Se=new He(1,0,0,-1,0,Yo());P.matrix&&(Se=Se.multiply(P.matrix||Et),de=V1.call(fe,P.key,P.boundingBox,P.xStep,P.yStep,Se).id),ee("q"),ee("/Pattern cs"),ee("/"+de+" scn"),fe.gState&&p.setGState(fe.gState),ee(J),ee("Q")}},W1=function(P){switch(P){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ah=p.moveTo=function(P,J){return ee(E(D(P))+" "+E(I(J))+" m"),this},rc=p.lineTo=function(P,J){return ee(E(D(P))+" "+E(I(J))+" l"),this},Wo=p.curveTo=function(P,J,de,fe,Se,Be){return ee([E(D(P)),E(I(J)),E(D(de)),E(I(fe)),E(D(Se)),E(I(Be)),"c"].join(" ")),this};p.__private__.line=p.line=function(P,J,de,fe,Se){if(isNaN(P)||isNaN(J)||isNaN(de)||isNaN(fe)||!Ri(Se))throw new Error("Invalid arguments passed to jsPDF.line");return y===b.COMPAT?this.lines([[de-P,fe-J]],P,J,[1,1],Se||"S"):this.lines([[de-P,fe-J]],P,J,[1,1]).stroke()},p.__private__.lines=p.lines=function(P,J,de,fe,Se,Be){var Qe,kt,Lt,$t,Ut,cr,Qr,on,jn,ua,Un,ni;if(typeof P=="number"&&(ni=de,de=J,J=P,P=ni),fe=fe||[1,1],Be=Be||!1,isNaN(J)||isNaN(de)||!Array.isArray(P)||!Array.isArray(fe)||!Ri(Se)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ah(J,de),Qe=fe[0],kt=fe[1],$t=P.length,ua=J,Un=de,Lt=0;Lt<$t;Lt++)(Ut=P[Lt]).length===2?(ua=Ut[0]*Qe+ua,Un=Ut[1]*kt+Un,rc(ua,Un)):(cr=Ut[0]*Qe+ua,Qr=Ut[1]*kt+Un,on=Ut[2]*Qe+ua,jn=Ut[3]*kt+Un,ua=Ut[4]*Qe+ua,Un=Ut[5]*kt+Un,Wo(cr,Qr,on,jn,ua,Un));return Be&&cg(),Eh(Se),this},p.path=function(P){for(var J=0;J<P.length;J++){var de=P[J],fe=de.c;switch(de.op){case"m":Ah(fe[0],fe[1]);break;case"l":rc(fe[0],fe[1]);break;case"c":Wo.apply(this,fe);break;case"h":cg()}}return this},p.__private__.rect=p.rect=function(P,J,de,fe,Se){if(isNaN(P)||isNaN(J)||isNaN(de)||isNaN(fe)||!Ri(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return y===b.COMPAT&&(fe=-fe),ee([E(D(P)),E(I(J)),E(D(de)),E(D(fe)),"re"].join(" ")),Eh(Se),this},p.__private__.triangle=p.triangle=function(P,J,de,fe,Se,Be,Qe){if(isNaN(P)||isNaN(J)||isNaN(de)||isNaN(fe)||isNaN(Se)||isNaN(Be)||!Ri(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-P,fe-J],[Se-de,Be-fe],[P-Se,J-Be]],P,J,[1,1],Qe,!0),this},p.__private__.roundedRect=p.roundedRect=function(P,J,de,fe,Se,Be,Qe){if(isNaN(P)||isNaN(J)||isNaN(de)||isNaN(fe)||isNaN(Se)||isNaN(Be)||!Ri(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kt=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*de),Be=Math.min(Be,.5*fe),this.lines([[de-2*Se,0],[Se*kt,0,Se,Be-Be*kt,Se,Be],[0,fe-2*Be],[0,Be*kt,-Se*kt,Be,-Se,Be],[2*Se-de,0],[-Se*kt,0,-Se,-Be*kt,-Se,-Be],[0,2*Be-fe],[0,-Be*kt,Se*kt,-Be,Se,-Be]],P+Se,J,[1,1],Qe,!0),this},p.__private__.ellipse=p.ellipse=function(P,J,de,fe,Se){if(isNaN(P)||isNaN(J)||isNaN(de)||isNaN(fe)||!Ri(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*de,Qe=4/3*(Math.SQRT2-1)*fe;return Ah(P+de,J),Wo(P+de,J-Qe,P+Be,J-fe,P,J-fe),Wo(P-Be,J-fe,P-de,J-Qe,P-de,J),Wo(P-de,J+Qe,P-Be,J+fe,P,J+fe),Wo(P+Be,J+fe,P+de,J+Qe,P+de,J),Eh(Se),this},p.__private__.circle=p.circle=function(P,J,de,fe){if(isNaN(P)||isNaN(J)||isNaN(de)||!Ri(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,J,de,de,fe)},p.setFont=function(P,J,de){return de&&(J=_(J,de)),ve=sg(P,J,{disableWarning:!1}),this};var q1=p.__private__.getFont=p.getFont=function(){return Ke[sg.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var P,J,de={};for(P in wt)if(wt.hasOwnProperty(P))for(J in de[P]=[],wt[P])wt[P].hasOwnProperty(J)&&de[P].push(J);return de},p.addFont=function(P,J,de,fe,Se){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(de=_(de,fe)),Se=Se||"Identity-H",jh.call(this,P,J,de,Se)};var nc,Ph=r.lineWidth||.200025,kd=p.__private__.getLineWidth=p.getLineWidth=function(){return Ph},dg=p.__private__.setLineWidth=p.setLineWidth=function(P){return Ph=P,ee(E(D(P))+" w"),this};p.__private__.setLineDash=Ft.API.setLineDash=Ft.API.setLineDashPattern=function(P,J){if(P=P||[],J=J||0,isNaN(J)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(de){return E(D(de))}).join(" "),J=E(D(J)),ee("["+P+"] "+J+" d"),this};var ug=p.__private__.getLineHeight=p.getLineHeight=function(){return Ce*nc};p.__private__.getLineHeight=p.getLineHeight=function(){return Ce*nc};var hg=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(nc=P),this},fg=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return nc};hg(r.lineHeight);var Mi=p.__private__.getHorizontalCoordinate=function(P){return D(P)},lo=p.__private__.getVerticalCoordinate=function(P){return y===b.ADVANCED?P:ne[U].mediaBox.topRightY-ne[U].mediaBox.bottomLeftY-D(P)},Y1=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(P){return E(Mi(P))},qo=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(P){return E(lo(P))},ri=r.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return lr(ri)},p.__private__.setStrokeColor=p.setDrawColor=function(P,J,de,fe){return ri=ca({ch1:P,ch2:J,ch3:de,ch4:fe,pdfColorType:"draw",precision:2}),ee(ri),this};var Lh=r.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return lr(Lh)},p.__private__.setFillColor=p.setFillColor=function(P,J,de,fe){return Lh=ca({ch1:P,ch2:J,ch3:de,ch4:fe,pdfColorType:"fill",precision:2}),ee(Lh),this};var ac=r.textColor||"0 g",G1=p.__private__.getTextColor=p.getTextColor=function(){return lr(ac)};p.__private__.setTextColor=p.setTextColor=function(P,J,de,fe){return ac=ca({ch1:P,ch2:J,ch3:de,ch4:fe,pdfColorType:"text",precision:3}),this};var Cd=r.charSpace,X1=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Cd||0)};p.__private__.setCharSpace=p.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Cd=P,this};var Dh=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(P){var J=p.CapJoinStyles[P];if(J===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dh=J,ee(J+" J"),this};var Th=0;p.__private__.setLineJoin=p.setLineJoin=function(P){var J=p.CapJoinStyles[P];if(J===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Th=J,ee(J+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(E(D(P))+" M"),this},p.GState=Nx,p.setGState=function(P){(P=typeof P=="string"?tr[Mr[P]]:pg(null,P)).equals(hr)||(ee("/"+P.id+" gs"),hr=P)};var pg=function(P,J){if(!P||!Mr[P]){var de=!1;for(var fe in tr)if(tr.hasOwnProperty(fe)&&tr[fe].equals(J)){de=!0;break}if(de)J=tr[fe];else{var Se="GS"+(Object.keys(tr).length+1).toString(10);tr[Se]=J,J.id=Se}return P&&(Mr[P]=J.id),oe.publish("addGState",J),J}};p.addGState=function(P,J){return pg(P,J),this},p.saveGraphicsState=function(){return ee("q"),er.push({key:ve,size:Ce,color:ac}),this},p.restoreGraphicsState=function(){ee("Q");var P=er.pop();return ve=P.key,Ce=P.size,ac=P.color,hr=null,this},p.setCurrentTransformationMatrix=function(P){return ee(P.toString()+" cm"),this},p.comment=function(P){return ee("#"+P),this};var Sd=function(P,J){var de=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(Be){isNaN(Be)||(de=parseFloat(Be))}});var fe=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Be){isNaN(Be)||(fe=parseFloat(Be))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(Be){Se=Be.toString()}}),this},Rh=function(P,J,de,fe){Sd.call(this,P,J),this.type="rect";var Se=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(Qe){isNaN(Qe)||(Se=parseFloat(Qe))}});var Be=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Qe){isNaN(Qe)||(Be=parseFloat(Qe))}}),this},Mh=function(){this.page=Gt,this.currentPage=U,this.pages=Ne.slice(0),this.pagesContext=ne.slice(0),this.x=Je,this.y=pt,this.matrix=ut,this.width=sc(U),this.height=Yo(U),this.outputDestination=Ie,this.id="",this.objectNumber=-1};Mh.prototype.restore=function(){Gt=this.page,U=this.currentPage,ne=this.pagesContext,Ne=this.pages,Je=this.x,pt=this.y,ut=this.matrix,Ih(U,this.width),Oh(U,this.height),Ie=this.outputDestination};var gg=function(P,J,de,fe,Se){nt.push(new Mh),Gt=U=0,Ne=[],Je=P,pt=J,ut=Se,_h([de,fe])},Z1=function(P){if(Xe[P])nt.pop().restore();else{var J=new Mh,de="Xo"+(Object.keys(_e).length+1).toString(10);J.id=de,Xe[P]=de,_e[de]=J,oe.publish("addFormObject",J),nt.pop().restore()}};for(var jd in p.beginFormObject=function(P,J,de,fe,Se){return gg(P,J,de,fe,Se),this},p.endFormObject=function(P){return Z1(P),this},p.doFormObject=function(P,J){var de=_e[Xe[P]];return ee("q"),ee(J.toString()+" cm"),ee("/"+de.id+" Do"),ee("Q"),this},p.getFormObject=function(P){var J=_e[Xe[P]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},p.save=function(P,J){return P=P||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(Cc(bd(oo()),P),typeof Cc.unload=="function"&&zt.setTimeout&&setTimeout(Cc.unload,911),this):new Promise(function(de,fe){try{var Se=Cc(bd(oo()),P);typeof Cc.unload=="function"&&zt.setTimeout&&setTimeout(Cc.unload,911),de(Se)}catch(Be){fe(Be.message)}})},Ft.API)Ft.API.hasOwnProperty(jd)&&(jd==="events"&&Ft.API.events.length?function(P,J){var de,fe,Se;for(Se=J.length-1;Se!==-1;Se--)de=J[Se][0],fe=J[Se][1],P.subscribe.apply(P,[de].concat(typeof fe=="function"?[fe]:fe))}(oe,Ft.API.events):p[jd]=Ft.API[jd]);var sc=p.getPageWidth=function(P){return(ne[P=P||U].mediaBox.topRightX-ne[P].mediaBox.bottomLeftX)/Me},Ih=p.setPageWidth=function(P,J){ne[P].mediaBox.topRightX=J*Me+ne[P].mediaBox.bottomLeftX},Yo=p.getPageHeight=function(P){return(ne[P=P||U].mediaBox.topRightY-ne[P].mediaBox.bottomLeftY)/Me},Oh=p.setPageHeight=function(P,J){ne[P].mediaBox.topRightY=J*Me+ne[P].mediaBox.bottomLeftY};return p.internal={pdfEscape:Ba,getStyle:lg,getFont:q1,getFontSize:Ge,getCharSpace:X1,getTextColor:G1,getLineHeight:ug,getLineHeightFactor:fg,getLineWidth:kd,write:Ve,getHorizontalCoordinate:Mi,getVerticalCoordinate:lo,getCoordinateString:Y1,getVerticalCoordinateString:qo,collections:{},newObject:mt,newAdditionalObject:Ar,newObjectDeferred:Pt,newObjectDeferredBegin:sr,getFilters:Sa,putStream:Kn,events:oe,scaleFactor:Me,pageSize:{getWidth:function(){return sc(U)},setWidth:function(P){Ih(U,P)},getHeight:function(){return Yo(U)},setHeight:function(P){Oh(U,P)}},encryptionOptions:u,encryption:da,getEncryptor:z1,output:yd,getNumberOfPages:M1,pages:Ne,out:ee,f2:F,f3:L,getPageInfo:og,getPageInfoByObjId:Ht,getCurrentPageInfo:H1,getPDFVersion:g,Point:Sd,Rectangle:Rh,Matrix:He,hasHotfix:ig},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return sc(U)},set:function(P){Ih(U,P)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Yo(U)},set:function(P){Oh(U,P)},enumerable:!0,configurable:!0}),T1.call(p,ke),ve="F1",ng(a,t),oe.publish("initialized"),p}Kd.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},Kd.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Kd.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Kd.prototype.processOwnerPassword=function(r,e){return $5(V5(e).substr(0,5),r)},Kd.prototype.encryptor=function(r,e){var t=V5(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return $5(t,n)}},Nx.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Nr(r)!==Nr(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Ft.API={events:[]},Ft.version="3.0.1";var cn=Ft.API,V3=1,xd=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gd=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Vt=function(r){return r.toFixed(2)},cl=function(r){return r.toFixed(5)};cn.__acroform__={};var as=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},r7=function(r){return r*V3},Hi=function(r){var e=new hD,t=Nt.internal.getHeight(r)||0,n=Nt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Vt(n)),Number(Vt(t))],e},Eoe=cn.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<e},Aoe=cn.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<e)},Poe=cn.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},wn=cn.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Poe(r,e-1)},kn=cn.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Eoe(r,e-1)},Cn=cn.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Aoe(r,e-1)},Loe=cn.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=r[0],s=r[1],i=r[2],l=r[3],c={};return c.lowerLeft_X=t(a)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=t(a+i)||0,c.upperRight_Y=n(s)||0,[Number(Vt(c.lowerLeft_X)),Number(Vt(c.lowerLeft_Y)),Number(Vt(c.upperRight_X)),Number(Vt(c.upperRight_Y))]},Doe=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=W5(r,t),a=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+a+" "+Vt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Hi(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},W5=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=r.multiline?a.map(function(L){return L.split(`
`)}):a.map(function(L){return[L]});var s=t,i=Nt.internal.getHeight(r)||0;i=i<0?-i:i;var l=Nt.internal.getWidth(r)||0;l=l<0?-l:l;var c=function(L,D,O){if(L+1<a.length){var I=D+" "+a[L+1][0];return jm(I,r,O).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var d,u,h=jm("3",r,s).height,f=r.multiline?i-s:(i-h)/2,p=f+=2,m=0,g=0,v=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+jm(e,r,s=12).width+", FieldWidth:"+l+`
`;break}for(var x="",b=0,y=0;y<a.length;y++)if(a.hasOwnProperty(y)){var C=!1;if(a[y].length!==1&&v!==a[y].length-1){if((h+2)*(b+2)+2>i)continue e;x+=a[y][v],C=!0,g=y,y--}else{x=(x+=a[y][v]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var S=parseInt(y),_=c(S,x,s),E=y>=a.length-1;if(_&&!E){x+=" ",v=0;continue}if(_||E){if(E)g=S;else if(r.multiline&&(h+2)*(b+2)+2>i)continue e}else{if(!r.multiline||(h+2)*(b+2)+2>i)continue e;g=S}}for(var A="",T=m;T<=g;T++){var F=a[T];if(r.multiline){if(T===g){A+=F[v]+" ",v=(v+1)%F.length;continue}if(T===m){A+=F[F.length-1]+" ";continue}}A+=F[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,u=jm(A,r,s).width,r.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;case"left":default:d=2}e+=Vt(d)+" "+Vt(p)+` Td
`,e+="("+xd(A)+`) Tj
`,e+=-Vt(d)+` 0 Td
`,p=-(s+2),u=0,m=C?g:g+1,b++,x=""}break}return n.text=e,n.fontSize=s,n},jm=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},Toe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Roe=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},Moe=function(r,e){for(var t in r)if(r.hasOwnProperty(t)){var n=t,a=r[t];e.internal.newObjectDeferredBegin(a.objId,!0),Nr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete r[n]}},Ioe=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Li.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(Toe)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");V3=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new fD,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&Roe(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,a){var s=!n;for(var i in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var l=n[i],c=[],d=l.Rect;if(l.Rect&&(l.Rect=Loe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Nt.createDefaultAppearanceStream(l),Nr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=Doe(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var h="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var p=l.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var i in p)if(p.hasOwnProperty(i)){var m=p[i];typeof m=="function"&&(m=m.call(a,l)),h+="/"+i+" "+m+" ",a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m)}}else typeof(m=p)=="function"&&(m=m.call(a,l)),h+="/"+i+" "+m,a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}s&&Moe(a.internal.acroformPlugin.xForms,a)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},uD=cn.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(i){return i};if(Array.isArray(r)){for(var a="[",s=0;s<r.length;s++)switch(s!==0&&(a+=" "),Nr(r[s])){case"boolean":case"number":case"object":a+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),a+="("+xd(n(r[s].toString()))+")"):a+=r[s].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},sy=function(r,e,t){var n=function(a){return a};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),r="("+xd(n(r))+")"},Yi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yi.prototype.toString=function(){return this.objId+" 0 R"},Yi.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Yi.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],a=this[n];a&&(Array.isArray(a)?r.push({key:n,value:uD(a,this.objId,this.scope)}):a instanceof Yi?(a.scope=this.scope,r.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&r.push({key:n,value:a}))}return r};var hD=function(){Yi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};as(hD,Yi);var fD=function(){Yi.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+xd(t(r))+")"}},set:function(t){r=t}})};as(fD,Yi);var Li=function r(){Yi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!wn(e,3)},set:function(x){x?this.F=kn(e,3):this.F=Cn(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');t=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Ex)return;s="FieldObject"+r.FieldNum++}var x=function(b){return b};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+xd(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(x){i=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/V3:d},set:function(x){d=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Ex||this instanceof Wc))return sy(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=x}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Xn?f:sy(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=this instanceof Xn?x:x.substr(0,1)==="("?Gd(x.substr(1,x.length-2)):Gd(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xn?Gd(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof Xn?"/"+x:x}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Xn?p:sy(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof Xn?x:x.substr(0,1)==="("?Gd(x.substr(1,x.length-2)):Gd(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xn?Gd(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof Xn?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(x){x=!!x,g=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(x){m=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,1)},set:function(x){x?this.Ff=kn(this.Ff,1):this.Ff=Cn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,2)},set:function(x){x?this.Ff=kn(this.Ff,2):this.Ff=Cn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,3)},set:function(x){x?this.Ff=kn(this.Ff,3):this.Ff=Cn(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');v=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(v){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};as(Li,Yi);var Ru=function(){Li.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return uD(e,this.objId,this.scope)},set:function(t){var n,a;a=[],typeof(n=t)=="string"&&(a=function(s,i,l){l||(l=1);for(var c,d=[];c=i.exec(s);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,18)},set:function(t){t?this.Ff=kn(this.Ff,18):this.Ff=Cn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=kn(this.Ff,19):this.Ff=Cn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,20)},set:function(t){t?(this.Ff=kn(this.Ff,20),e.sort()):this.Ff=Cn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,22)},set:function(t){t?this.Ff=kn(this.Ff,22):this.Ff=Cn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,23)},set:function(t){t?this.Ff=kn(this.Ff,23):this.Ff=Cn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,27)},set:function(t){t?this.Ff=kn(this.Ff,27):this.Ff=Cn(this.Ff,27)}}),this.hasAppearanceStream=!1};as(Ru,Li);var Mu=function(){Ru.call(this),this.fontName="helvetica",this.combo=!1};as(Mu,Ru);var Iu=function(){Mu.call(this),this.combo=!0};as(Iu,Mu);var u0=function(){Iu.call(this),this.edit=!0};as(u0,Iu);var Xn=function(){Li.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,15)},set:function(t){t?this.Ff=kn(this.Ff,15):this.Ff=Cn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,16)},set:function(t){t?this.Ff=kn(this.Ff,16):this.Ff=Cn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,17)},set:function(t){t?this.Ff=kn(this.Ff,17):this.Ff=Cn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,26)},set:function(t){t?this.Ff=kn(this.Ff,26):this.Ff=Cn(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+xd(t(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Nr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};as(Xn,Li);var h0=function(){Xn.call(this),this.pushButton=!0};as(h0,Xn);var Ou=function(){Xn.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};as(Ou,Xn);var Ex=function(){var r,e;Li.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,i=[];for(s in i.push("<<"),n)i.push("/"+s+" ("+xd(a(n[s]))+")");return i.push(">>"),i.join(`
`)},set:function(a){Nr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};as(Ex,Li),Ou.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Ou.prototype.createOption=function(r){var e=new Ex;return e.Parent=this,e.optionName=r,this.Kids.push(e),Ooe.call(this.scope,e),e};var f0=function(){Xn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Nt.CheckBox.createAppearanceStream()};as(f0,Xn);var Wc=function(){Li.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,13)},set:function(e){e?this.Ff=kn(this.Ff,13):this.Ff=Cn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,21)},set:function(e){e?this.Ff=kn(this.Ff,21):this.Ff=Cn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,23)},set:function(e){e?this.Ff=kn(this.Ff,23):this.Ff=Cn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,24)},set:function(e){e?this.Ff=kn(this.Ff,24):this.Ff=Cn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,25)},set:function(e){e?this.Ff=kn(this.Ff,25):this.Ff=Cn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,26)},set:function(e){e?this.Ff=kn(this.Ff,26):this.Ff=Cn(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};as(Wc,Li);var p0=function(){Wc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,14)},set:function(r){r?this.Ff=kn(this.Ff,14):this.Ff=Cn(this.Ff,14)}}),this.password=!0};as(p0,Wc);var Nt={CheckBox:{createAppearanceStream:function(){return{N:{On:Nt.CheckBox.YesNormal},D:{On:Nt.CheckBox.YesPushDown,Off:Nt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Hi(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),s=W5(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Vt(Nt.internal.getWidth(r))+" "+Vt(Nt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Vt(s.fontSize)+" Tf "+a),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Hi(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),a=[],s=Nt.internal.getHeight(r),i=Nt.internal.getWidth(r),l=W5(r,r.caption);return a.push("1 g"),a.push("0 0 "+Vt(i)+" "+Vt(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Vt(i-1)+" "+Vt(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+Vt(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=Hi(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Vt(Nt.internal.getWidth(r))+" "+Vt(Nt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Nt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Nt.RadioButton.Circle.YesNormal,e.D[r]=Nt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Hi(r);e.scope=r.scope;var t=[],n=Nt.internal.getWidth(r)<=Nt.internal.getHeight(r)?Nt.internal.getWidth(r)/4:Nt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Nt.internal.Bezier_C,s=Number((n*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+cl(Nt.internal.getWidth(r)/2)+" "+cl(Nt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Hi(r);e.scope=r.scope;var t=[],n=Nt.internal.getWidth(r)<=Nt.internal.getHeight(r)?Nt.internal.getWidth(r)/4:Nt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*Nt.internal.Bezier_C).toFixed(5)),i=Number((n*Nt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+cl(Nt.internal.getWidth(r)/2)+" "+cl(Nt.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),t.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),t.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),t.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+cl(Nt.internal.getWidth(r)/2)+" "+cl(Nt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Hi(r);e.scope=r.scope;var t=[],n=Nt.internal.getWidth(r)<=Nt.internal.getHeight(r)?Nt.internal.getWidth(r)/4:Nt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*Nt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+cl(Nt.internal.getWidth(r)/2)+" "+cl(Nt.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),t.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),t.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),t.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Nt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Nt.RadioButton.Cross.YesNormal,e.D[r]=Nt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Hi(r);e.scope=r.scope;var t=[],n=Nt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Vt(Nt.internal.getWidth(r)-2)+" "+Vt(Nt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Vt(n.x1.x)+" "+Vt(n.x1.y)+" m"),t.push(Vt(n.x2.x)+" "+Vt(n.x2.y)+" l"),t.push(Vt(n.x4.x)+" "+Vt(n.x4.y)+" m"),t.push(Vt(n.x3.x)+" "+Vt(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Hi(r);e.scope=r.scope;var t=Nt.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Vt(Nt.internal.getWidth(r))+" "+Vt(Nt.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Vt(Nt.internal.getWidth(r)-2)+" "+Vt(Nt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Vt(t.x1.x)+" "+Vt(t.x1.y)+" m"),n.push(Vt(t.x2.x)+" "+Vt(t.x2.y)+" l"),n.push(Vt(t.x4.x)+" "+Vt(t.x4.y)+" m"),n.push(Vt(t.x3.x)+" "+Vt(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Hi(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Vt(Nt.internal.getWidth(r))+" "+Vt(Nt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Nt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Nt.internal.getWidth(r),t=Nt.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Nt.internal.getWidth=function(r){var e=0;return Nr(r)==="object"&&(e=r7(r.Rect[2])),e},Nt.internal.getHeight=function(r){var e=0;return Nr(r)==="object"&&(e=r7(r.Rect[3])),e};var Ooe=cn.addField=function(r){if(Ioe(this,r),!(r instanceof Li))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};cn.AcroFormChoiceField=Ru,cn.AcroFormListBox=Mu,cn.AcroFormComboBox=Iu,cn.AcroFormEditBox=u0,cn.AcroFormButton=Xn,cn.AcroFormPushButton=h0,cn.AcroFormRadioButton=Ou,cn.AcroFormCheckBox=f0,cn.AcroFormTextField=Wc,cn.AcroFormPasswordField=p0,cn.AcroFormAppearance=Nt,cn.AcroForm={ChoiceField:Ru,ListBox:Mu,ComboBox:Iu,EditBox:u0,Button:Xn,PushButton:h0,RadioButton:Ou,CheckBox:f0,TextField:Wc,PasswordField:p0,Appearance:Nt},Ft.AcroForm={ChoiceField:Ru,ListBox:Mu,ComboBox:Iu,EditBox:u0,Button:Xn,PushButton:h0,RadioButton:Ou,CheckBox:f0,TextField:Wc,PasswordField:p0,Appearance:Nt};Ft.AcroForm;function pD(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){r.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(L,D){var O,I,B,z,V,W=e;if((D=D||e)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(_(L))for(V in t)for(B=t[V],O=0;O<B.length;O+=1){for(z=!0,I=0;I<B[O].length;I+=1)if(B[O][I]!==void 0&&B[O][I]!==L[I]){z=!1;break}if(z===!0){W=V;break}}else for(V in t)for(B=t[V],O=0;O<B.length;O+=1){for(z=!0,I=0;I<B[O].length;I+=1)if(B[O][I]!==void 0&&B[O][I]!==L.charCodeAt(I)){z=!1;break}if(z===!0){W=V;break}}return W===e&&D!==e&&(W=D),W},a=function L(D){for(var O=this.internal.write,I=this.internal.putStream,B=(0,this.internal.getFilters)();B.indexOf("FlateEncode")!==-1;)B.splice(B.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:D.width}),z.push({key:"Height",value:D.height}),D.colorSpace===v.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===v.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var V="",W=0,Y=D.transparency.length;W<Y;W++)V+=D.transparency[W]+" "+D.transparency[W]+" ";z.push({key:"Mask",value:"["+V+"]"})}D.sMask!==void 0&&z.push({key:"SMask",value:D.objectId+1+" 0 R"});var G=D.filter!==void 0?["/"+D.filter]:void 0;if(I({data:D.data,additionalKeyValues:z,alreadyAppliedFilters:G,objectId:D.objectId}),O("endobj"),"sMask"in D&&D.sMask!==void 0){var q="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,M={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:q,data:D.sMask};"filter"in D&&(M.filter=D.filter),L.call(this,M)}if(D.colorSpace===v.INDEXED){var U=this.internal.newObject();I({data:A(new Uint8Array(D.palette)),objectId:U}),O("endobj")}},s=function(){var L=this.internal.collections.addImage_images;for(var D in L)a.call(this,L[D])},i=function(){var L,D=this.internal.collections.addImage_images,O=this.internal.write;for(var I in D)O("/I"+(L=D[I]).index,L.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",i))},c=function(){var L=this.internal.collections.addImage_images;return l.call(this),L},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(L){return typeof r["process"+L.toUpperCase()]=="function"},h=function(L){return Nr(L)==="object"&&L.nodeType===1},f=function(L,D){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var O=""+L.getAttribute("src");if(O.indexOf("data:image/")===0)return Yf(unescape(O).split("base64,").pop());var I=r.loadFile(O,!0);if(I!==void 0)return I}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var B;switch(D){case"PNG":B="image/png";break;case"WEBP":B="image/webp";break;case"JPEG":case"JPG":default:B="image/jpeg"}return Yf(L.toDataURL(B,1).split("base64,").pop())}},p=function(L){var D=this.internal.collections.addImage_images;if(D){for(var O in D)if(L===D[O].alias)return D[O]}},m=function(L,D,O){return L||D||(L=-96,D=-96),L<0&&(L=-1*O.width*72/L/this.internal.scaleFactor),D<0&&(D=-1*O.height*72/D/this.internal.scaleFactor),L===0&&(L=D*O.width/O.height),D===0&&(D=L*O.height/O.width),[L,D]},g=function(L,D,O,I,B,z){var V=m.call(this,O,I,B),W=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,G=c.call(this);if(O=V[0],I=V[1],G[B.index]=B,z){z*=Math.PI/180;var q=Math.cos(z),M=Math.sin(z),U=function(X){return X.toFixed(4)},$=[U(q),U(M),U(-1*M),U(q),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,W(L),Y(D+I),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([W(O),"0","0",W(I),"0","0","cm"].join(" "))):this.internal.write([W(O),"0","0",W(I),W(L),Y(D+I),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+B.index+" Do"),this.internal.write("Q")},v=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=r.__addimage__.sHashCode=function(L){var D,O,I=0;if(typeof L=="string")for(O=L.length,D=0;D<O;D++)I=(I<<5)-I+L.charCodeAt(D),I|=0;else if(_(L))for(O=L.byteLength/2,D=0;D<O;D++)I=(I<<5)-I+L[D],I|=0;return I},y=r.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var D=!0;return L.length===0&&(D=!1),L.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(D=!1),D},C=r.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var D=L.indexOf(",");return D<0?null:L.substring(0,D).trim().endsWith("base64")?L.substring(D+1):null},S=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(L){return S()&&L instanceof ArrayBuffer};var _=r.__addimage__.isArrayBufferView=function(L){return S()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},E=r.__addimage__.binaryStringToUint8Array=function(L){for(var D=L.length,O=new Uint8Array(D),I=0;I<D;I++)O[I]=L.charCodeAt(I);return O},A=r.__addimage__.arrayBufferToBinaryString=function(L){for(var D="",O=_(L)?L:new Uint8Array(L),I=0;I<O.length;I+=8192)D+=String.fromCharCode.apply(null,O.subarray(I,I+8192));return D};r.addImage=function(){var L,D,O,I,B,z,V,W,Y;if(typeof arguments[1]=="number"?(D=e,O=arguments[1],I=arguments[2],B=arguments[3],z=arguments[4],V=arguments[5],W=arguments[6],Y=arguments[7]):(D=arguments[1],O=arguments[2],I=arguments[3],B=arguments[4],z=arguments[5],V=arguments[6],W=arguments[7],Y=arguments[8]),Nr(L=arguments[0])==="object"&&!h(L)&&"imageData"in L){var G=L;L=G.imageData,D=G.format||D||e,O=G.x||O||0,I=G.y||I||0,B=G.w||G.width||B,z=G.h||G.height||z,V=G.alias||V,W=G.compression||W,Y=G.rotation||G.angle||Y}var q=this.internal.getFilters();if(W===void 0&&q.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(O)||isNaN(I))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=T.call(this,L,D,V,W);return g.call(this,O,I,B,z,M,Y),this};var T=function(L,D,O,I){var B,z,V;if(typeof L=="string"&&n(L)===e){L=unescape(L);var W=F(L,!1);(W!==""||(W=r.loadFile(L,!0))!==void 0)&&(L=W)}if(h(L)&&(L=f(L,D)),D=n(L,D),!u(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((V=O)==null||V.length===0)&&(O=function(Y){return typeof Y=="string"||_(Y)?b(Y):_(Y.data)?b(Y.data):null}(L)),(B=p.call(this,O))||(S()&&(L instanceof Uint8Array||D==="RGBA"||(z=L,L=E(L))),B=this["process"+D.toUpperCase()](L,d.call(this),O,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in r.image_compression?Y:x.NONE}(I),z)),!B)throw new Error("An unknown error occurred whilst processing the image.");return B},F=r.__addimage__.convertBase64ToBinaryString=function(L,D){D=typeof D!="boolean"||D;var O,I="";if(typeof L=="string"){var B;O=(B=C(L))!==null&&B!==void 0?B:L;try{I=Yf(O)}catch(z){if(D)throw y(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return I};r.getImageProperties=function(L){var D,O,I="";if(h(L)&&(L=f(L)),typeof L=="string"&&n(L)===e&&((I=F(L,!1))===""&&(I=r.loadFile(L)||""),L=I),O=n(L),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!S()||L instanceof Uint8Array||(L=E(L)),!(D=this["process"+O.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=O,D}})(Ft.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Ft.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,a,s,i=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((n=d[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<d.length;f++){n=d[f];var p=this.internal.pdfEscape,m=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(g.objId),b=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(x(n.contents))+")",s+=" /Popup "+v.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+p(x(b))+") >>",g.content=s;var y=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+y,n.open&&(s+=" /Open true"),s+=" >>",v.content=s,this.internal.write(g.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+i(n.bounds.x)+" "+l(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var C=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(m(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var _=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+_+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,a,s,i){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(t),y:d(n),w:c(t+a),h:d(n+s)},options:i,type:"link"})},r.textWithLink=function(t,n,a,s){var i,l,c=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var u=this.splitTextToSize(t,l).length;i=Math.ceil(d*u)}else l=c,i=d;return this.text(t,n,a,s),a+=.2*d,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-d,l,i,s),c},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(Ft.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},i=r.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=r.__arabicParser__.isArabicEndLetter=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(g){return i(g)&&a.indexOf(g.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length>=1};var d=r.__arabicParser__.arabicLetterHasFinalForm=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length>=3};var u=r.__arabicParser__.arabicLetterHasMedialForm=function(g){return i(g)&&s(g)&&e[g.charCodeAt(0)].length==4},h=r.__arabicParser__.resolveLigatures=function(g){var v=0,x=t,b="",y=0;for(v=0;v<g.length;v+=1)x[g.charCodeAt(v)]!==void 0?(y++,typeof(x=x[g.charCodeAt(v)])=="number"&&(b+=String.fromCharCode(x),x=t,y=0),v===g.length-1&&(x=t,b+=g.charAt(v-(y-1)),v-=y-1,y=0)):(x=t,b+=g.charAt(v-y),v-=y,y=0);return b};r.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var f=r.__arabicParser__.getCorrectForm=function(g,v,x){return i(g)?s(g)===!1?-1:!d(g)||!i(v)&&!i(x)||!i(x)&&l(v)||l(g)&&!i(v)||l(g)&&c(v)||l(g)&&l(v)?0:u(g)&&i(v)&&!l(v)&&i(x)&&d(x)?3:l(g)||!i(x)?1:2:-1},p=function(g){var v=0,x=0,b=0,y="",C="",S="",_=(g=g||"").split("\\s+"),E=[];for(v=0;v<_.length;v+=1){for(E.push(""),x=0;x<_[v].length;x+=1)y=_[v][x],C=_[v][x-1],S=_[v][x+1],i(y)?(b=f(y,C,S),E[v]+=b!==-1?String.fromCharCode(e[y.charCodeAt(0)][b]):y):E[v]+=y;E[v]=h(E[v])}return E.join(" ")},m=r.__arabicParser__.processArabic=r.processArabic=function(){var g,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(v)){var b=0;for(x=[],b=0;b<v.length;b+=1)Array.isArray(v[b])?x.push([p(v[b][0]),v[b][1],v[b][2]]):x.push([p(v[b])]);g=x}else g=p(v);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};r.events.push(["preProcessText",m])}(Ft.API),Ft.API.autoPrint=function(r){var e;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(l){i=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var a;if((t=t||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ft.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),f=d.scaleFactor||this.internal.scaleFactor,p=0,m=0,g=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=d.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(y,C){return y.concat(v.splitTextToSize(C,x))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)p<(g=this.getStringUnitWidth(c[b],{font:h})*u)&&(p=g);return p!==0&&(m=c.length),{w:p/=f,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=r.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,p&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};r.table=function(c,d,u,h,f){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,m,g,v,x=[],b=[],y=[],C={},S={},_=[],E=[],A=(f=f||{}).autoSize||!1,T=f.printHeaders!==!1,F=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,L=f.margins||Object.assign({width:this.getPageWidth()},e),D=typeof f.padding=="number"?f.padding:3,O=f.headerBackgroundColor||"#c8c8c8",I=f.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=I,this.setFontSize(F),h==null)b=x=Object.keys(u[0]),y=x.map(function(){return"left"});else if(Array.isArray(h)&&Nr(h[0])==="object")for(x=h.map(function(G){return G.name}),b=h.map(function(G){return G.prompt||G.name||""}),y=h.map(function(G){return G.align||"left"}),p=0;p<h.length;p+=1)S[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(b=x=h,y=x.map(function(){return"left"}));if(A||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<x.length;p+=1){for(C[v=x[p]]=u.map(function(G){return G[v]}),this.setFont(void 0,"bold"),_.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=C[v],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)_.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[v]=Math.max.apply(null,_)+D+D,_=[]}if(T){var B={};for(p=0;p<x.length;p+=1)B[x[p]]={},B[x[p]].text=b[p],B[x[p]].align=y[p];var z=l.call(this,B,S);E=x.map(function(G){return new s(c,d,S[G],z,B[G].text,void 0,B[G].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var V=h.reduce(function(G,q){return G[q.name]=q.align,G},{});for(p=0;p<u.length;p+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:p,data:u[p]},this);var W=l.call(this,u[p],S);for(g=0;g<x.length;g+=1){var Y=u[p][x[g]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:p,col:g,data:Y},this),i.call(this,new s(c,d,S[x[g]],W,Y,p+2,V[x[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(p){var m=c[p];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,d[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/f+u+u},this).reduce(function(p,m){return Math.max(p,m)},0)};r.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=c;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,u),this.setTextColor(m)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),t=!1}}(Ft.API);var gD={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mD=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],q5=pD(mD),xD=[100,200,300,400,500,600,700,800,900],Foe=pD(xD);function Y5(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return gD[s=s||"normal"]?s:"normal"}(r.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(r.weight),a=function(s){return typeof q5[s=s||"normal"]=="number"?s:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:a,src:r.src||[],ref:r.ref||{name:e,style:[a,t,n].join(" ")}}}function n7(r,e,t,n){var a;for(a=t;a>=0&&a<e.length;a+=n)if(r[e[a]])return r[e[a]];for(a=t;a>=0&&a<e.length;a-=n)if(r[e[a]])return r[e[a]]}var Boe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},a7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function s7(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function zoe(r,e,t){for(var n=(t=t||{}).defaultFontFamily||"times",a=Object.assign({},Boe,t.genericFontFamilies||{}),s=null,i=null,l=0;l<e.length;++l)if(a[(s=Y5(e[l])).family]&&(s.family=a[s.family]),r.hasOwnProperty(s.family)){i=r[s.family];break}if(!(i=i||r[n]))throw new Error("Could not find a font-family for the rule '"+s7(s)+"' and default family '"+n+"'.");if(i=function(c,d){if(d[c])return d[c];var u=q5[c],h=u<=q5.normal?-1:1,f=n7(d,mD,u,h);if(!f)throw new Error("Could not find a matching font-stretch value for "+c);return f}(s.stretch,i),i=function(c,d){if(d[c])return d[c];for(var u=gD[c],h=0;h<u.length;++h)if(d[u[h]])return d[u[h]];throw new Error("Could not find a matching font-style for "+c)}(s.style,i),!(i=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var u=Foe[c],h=n7(d,xD,u,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(s.weight,i)))throw new Error("Failed to resolve a font for the rule '"+s7(s)+"'.");return i}function i7(r){return r.trimLeft()}function Hoe(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function Uoe(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var _m,o7,l7,iy=["times"];(function(r){var e,t,n,a,s,i,l,c,d,u=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new i,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new i,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,i=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=M;Object.defineProperty(this,"pdf",{get:function(){return U}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(Ee){$=!!Ee}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(Ee){X=!!Ee}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(Ee){isNaN(Ee)||(Q=Ee)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(Ee){isNaN(Ee)||(se=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Ee){var ee;typeof Ee=="number"?ee=[Ee,Ee,Ee,Ee]:((ee=new Array(4))[0]=Ee[0],ee[1]=Ee.length>=2?Ee[1]:ee[0],ee[2]=Ee.length>=3?Ee[2]:ee[0],ee[3]=Ee.length>=4?Ee[3]:ee[1]),d.margin=ee}});var le=!1;Object.defineProperty(this,"autoPaging",{get:function(){return le},set:function(Ee){le=Ee}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(Ee){ue=Ee}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(Ee){ye=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Ee){Ee instanceof u&&(d=Ee)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Ee){d.path=Ee}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(Ee){Ne=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var ee;ee=f(Ee),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var ee=f(Ee);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var Le=null;function Ie(Ee,ee){if(Le===null){var Ve=function(Ue){var ke=[];return Object.keys(Ue).forEach(function(Ce){Ue[Ce].forEach(function(ze){var Ge=null;switch(ze){case"bold":Ge={family:Ce,weight:"bold"};break;case"italic":Ge={family:Ce,style:"italic"};break;case"bolditalic":Ge={family:Ce,weight:"bold",style:"italic"};break;case"":case"normal":Ge={family:Ce}}Ge!==null&&(Ge.ref={name:Ce,style:ze},ke.push(Ge))})}),ke}(Ee.getFontList());Le=function(Ue){for(var ke={},Ce=0;Ce<Ue.length;++Ce){var ze=Y5(Ue[Ce]),Ge=ze.family,dt=ze.stretch,De=ze.style,Fe=ze.weight;ke[Ge]=ke[Ge]||{},ke[Ge][dt]=ke[Ge][dt]||{},ke[Ge][dt][De]=ke[Ge][dt][De]||{},ke[Ge][dt][De][Fe]=ze}return ke}(Ve.concat(ee))}return Le}var et=null;Object.defineProperty(this,"fontFaces",{get:function(){return et},set:function(Ee){Le=null,et=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var ee;if(this.ctx.font=Ee,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var Ve=ee[1];ee[2];var Ue=ee[3],ke=ee[4];ee[5];var Ce=ee[6],ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(ze==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Ge=function(je){var ve,Me,Je=[],pt=je.trim();if(pt==="")return iy;if(pt in a7)return[a7[pt]];for(;pt!=="";){switch(Me=null,ve=(pt=i7(pt)).charAt(0)){case'"':case"'":Me=Hoe(pt.substring(1),ve);break;default:Me=Uoe(pt)}if(Me===null||(Je.push(Me[0]),(pt=i7(Me[1]))!==""&&pt.charAt(0)!==","))return iy;pt=pt.replace(/^,/,"")}return Je}(Ce);if(this.fontFaces){var dt=zoe(Ie(this.pdf,this.fontFaces),Ge.map(function(je){return{family:je,stretch:"normal",weight:Ue,style:Ve}}));this.pdf.setFont(dt.ref.name,dt.ref.style)}else{var De="";(Ue==="bold"||parseInt(Ue,10)>=700||Ve==="bold")&&(De="bold"),Ve==="italic"&&(De+="italic"),De.length===0&&(De="normal");for(var Fe="",it={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<Ge.length;vt++){if(this.pdf.internal.getFont(Ge[vt],De,{noFallback:!0,disableWarning:!0})!==void 0){Fe=Ge[vt];break}if(De==="bolditalic"&&this.pdf.internal.getFont(Ge[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Fe=Ge[vt],De="bold";else if(this.pdf.internal.getFont(Ge[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Fe=Ge[vt],De="normal";break}}if(Fe===""){for(var tt=0;tt<Ge.length;tt++)if(it[Ge[tt]]){Fe=it[Ge[tt]];break}}Fe=Fe===""?"Times":Fe,this.pdf.setFont(Fe,De)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};h.prototype.setLineDash=function(M){this.lineDash=M},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){C.call(this,"fill",!1)},h.prototype.stroke=function(){C.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(M,U){if(isNaN(M)||isNaN(U))throw Or.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new i(M,U));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new i(M,U)},h.prototype.closePath=function(){var M=new i(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&Nr(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){M=new i(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(M.x,M.y)},h.prototype.lineTo=function(M,U){if(isNaN(M)||isNaN(U))throw Or.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new i(M,U));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new i($.x,$.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},h.prototype.quadraticCurveTo=function(M,U,$,X){if(isNaN($)||isNaN(X)||isNaN(M)||isNaN(U))throw Or.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new i($,X)),se=this.ctx.transform.applyToPoint(new i(M,U));this.path.push({type:"qct",x1:se.x,y1:se.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new i(Q.x,Q.y)},h.prototype.bezierCurveTo=function(M,U,$,X,Q,se){if(isNaN(Q)||isNaN(se)||isNaN(M)||isNaN(U)||isNaN($)||isNaN(X))throw Or.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var le=this.ctx.transform.applyToPoint(new i(Q,se)),ue=this.ctx.transform.applyToPoint(new i(M,U)),ye=this.ctx.transform.applyToPoint(new i($,X));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:ye.x,y2:ye.y,x:le.x,y:le.y}),this.ctx.lastPoint=new i(le.x,le.y)},h.prototype.arc=function(M,U,$,X,Q,se){if(isNaN(M)||isNaN(U)||isNaN($)||isNaN(X)||isNaN(Q))throw Or.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var le=this.ctx.transform.applyToPoint(new i(M,U));M=le.x,U=le.y;var ue=this.ctx.transform.applyToPoint(new i(0,$)),ye=this.ctx.transform.applyToPoint(new i(0,0));$=Math.sqrt(Math.pow(ue.x-ye.x,2)+Math.pow(ue.y-ye.y,2))}Math.abs(Q-X)>=2*Math.PI&&(X=0,Q=2*Math.PI),this.path.push({type:"arc",x:M,y:U,radius:$,startAngle:X,endAngle:Q,counterclockwise:se})},h.prototype.arcTo=function(M,U,$,X,Q){throw new Error("arcTo not implemented.")},h.prototype.rect=function(M,U,$,X){if(isNaN(M)||isNaN(U)||isNaN($)||isNaN(X))throw Or.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,U),this.lineTo(M+$,U),this.lineTo(M+$,U+X),this.lineTo(M,U+X),this.lineTo(M,U),this.lineTo(M+$,U),this.lineTo(M,U)},h.prototype.fillRect=function(M,U,$,X){if(isNaN(M)||isNaN(U)||isNaN($)||isNaN(X))throw Or.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,U,$,X),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},h.prototype.strokeRect=function(M,U,$,X){if(isNaN(M)||isNaN(U)||isNaN($)||isNaN(X))throw Or.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(M,U,$,X),this.stroke())},h.prototype.clearRect=function(M,U,$,X){if(isNaN(M)||isNaN(U)||isNaN($)||isNaN(X))throw Or.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,U,$,X))},h.prototype.save=function(M){M=typeof M!="boolean"||M;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},h.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(U),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(M){var U,$,X,Q;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))U=0,$=0,X=0,Q=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(se!==null)U=parseInt(se[1]),$=parseInt(se[2]),X=parseInt(se[3]),Q=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)U=parseInt(se[1]),$=parseInt(se[2]),X=parseInt(se[3]),Q=parseFloat(se[4]);else{if(Q=1,typeof M=="string"&&M.charAt(0)!=="#"){var le=new lD(M);M=le.ok?le.toHex():"#000000"}M.length===4?(U=M.substring(1,2),U+=U,$=M.substring(2,3),$+=$,X=M.substring(3,4),X+=X):(U=M.substring(1,3),$=M.substring(3,5),X=M.substring(5,7)),U=parseInt(U,16),$=parseInt($,16),X=parseInt(X,16)}}return{r:U,g:$,b:X,a:Q,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(M,U,$,X){if(isNaN(U)||isNaN($)||typeof M!="string")throw Or.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!p.call(this)){var Q=W(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;D.call(this,{text:M,x:U,y:$,scale:se,angle:Q,align:this.textAlign,maxWidth:X})}},h.prototype.strokeText=function(M,U,$,X){if(isNaN(U)||isNaN($)||typeof M!="string")throw Or.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){X=isNaN(X)?void 0:X;var Q=W(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;D.call(this,{text:M,x:U,y:$,scale:se,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:X})}},h.prototype.measureText=function(M){if(typeof M!="string")throw Or.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,$=this.pdf.internal.scaleFactor,X=U.internal.getFontSize(),Q=U.getStringUnitWidth(M)*X/U.internal.scaleFactor,se=function(le){var ue=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this};return new se({width:Q*=Math.round(96*$/72*1e4)/1e4})},h.prototype.scale=function(M,U){if(isNaN(M)||isNaN(U))throw Or.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new c(M,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply($)},h.prototype.rotate=function(M){if(isNaN(M))throw Or.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},h.prototype.translate=function(M,U){if(isNaN(M)||isNaN(U))throw Or.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new c(1,0,0,1,M,U);this.ctx.transform=this.ctx.transform.multiply($)},h.prototype.transform=function(M,U,$,X,Q,se){if(isNaN(M)||isNaN(U)||isNaN($)||isNaN(X)||isNaN(Q)||isNaN(se))throw Or.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var le=new c(M,U,$,X,Q,se);this.ctx.transform=this.ctx.transform.multiply(le)},h.prototype.setTransform=function(M,U,$,X,Q,se){M=isNaN(M)?1:M,U=isNaN(U)?0:U,$=isNaN($)?0:$,X=isNaN(X)?1:X,Q=isNaN(Q)?0:Q,se=isNaN(se)?0:se,this.ctx.transform=new c(M,U,$,X,Q,se)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(M,U,$,X,Q,se,le,ue,ye){var Ne=this.pdf.getImageProperties(M),Le=1,Ie=1,et=1,Ee=1;X!==void 0&&ue!==void 0&&(et=ue/X,Ee=ye/Q,Le=Ne.width/X*ue/X,Ie=Ne.height/Q*ye/Q),se===void 0&&(se=U,le=$,U=0,$=0),X!==void 0&&ue===void 0&&(ue=X,ye=Q),X===void 0&&ue===void 0&&(ue=Ne.width,ye=Ne.height);for(var ee,Ve=this.ctx.transform.decompose(),Ue=W(Ve.rotate.shx),ke=new c,Ce=(ke=(ke=(ke=ke.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale)).applyToRectangle(new l(se-U*et,le-$*Ee,X*Le,Q*Ie)),ze=v.call(this,Ce),Ge=[],dt=0;dt<ze.length;dt+=1)Ge.indexOf(ze[dt])===-1&&Ge.push(ze[dt]);if(y(Ge),this.autoPaging)for(var De=Ge[0],Fe=Ge[Ge.length-1],it=De;it<Fe+1;it++){this.pdf.setPage(it);var vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=it===1?this.posY+this.margin[0]:this.margin[0],je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ve=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Me=it===1?0:je+(it-2)*ve;if(this.ctx.clip_path.length!==0){var Je=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ee,this.posX+this.margin[3],-Me+tt+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=Je}var pt=JSON.parse(JSON.stringify(Ce));pt=b([pt],this.posX+this.margin[3],-Me+tt+this.ctx.prevPageLastElemOffset)[0];var ut=(it>De||it<Fe)&&g.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,ve,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",pt.x,pt.y,pt.w,pt.h,null,null,Ue),ut&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Ce.x,Ce.y,Ce.w,Ce.h,null,null,Ue)};var v=function(M,U,$){var X=[];U=U||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":X.push(Math.floor((M.y+Q)/$)+1);break;case"arc":X.push(Math.floor((M.y+Q-M.radius)/$)+1),X.push(Math.floor((M.y+Q+M.radius)/$)+1);break;case"qct":var se=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);X.push(Math.floor((se.y+Q)/$)+1),X.push(Math.floor((se.y+se.h+Q)/$)+1);break;case"bct":var le=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);X.push(Math.floor((le.y+Q)/$)+1),X.push(Math.floor((le.y+le.h+Q)/$)+1);break;case"rect":X.push(Math.floor((M.y+Q)/$)+1),X.push(Math.floor((M.y+M.h+Q)/$)+1)}for(var ue=0;ue<X.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<X[ue];)x.call(this);return X},x=function(){var M=this.fillStyle,U=this.strokeStyle,$=this.font,X=this.lineCap,Q=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=U,this.font=$,this.lineCap=X,this.lineWidth=Q,this.lineJoin=se},b=function(M,U,$){for(var X=0;X<M.length;X++)switch(M[X].type){case"bct":M[X].x2+=U,M[X].y2+=$;case"qct":M[X].x1+=U,M[X].y1+=$;case"mt":case"lt":case"arc":default:M[X].x+=U,M[X].y+=$}return M},y=function(M){return M.sort(function(U,$){return U-$})},C=function(M,U){for(var $,X,Q=this.fillStyle,se=this.strokeStyle,le=this.lineCap,ue=this.lineWidth,ye=Math.abs(ue*this.ctx.transform.scaleX),Ne=this.lineJoin,Le=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),et=[],Ee=0;Ee<Ie.length;Ee++)if(Ie[Ee].x!==void 0)for(var ee=v.call(this,Ie[Ee]),Ve=0;Ve<ee.length;Ve+=1)et.indexOf(ee[Ve])===-1&&et.push(ee[Ve]);for(var Ue=0;Ue<et.length;Ue++)for(;this.pdf.internal.getNumberOfPages()<et[Ue];)x.call(this);if(y(et),this.autoPaging)for(var ke=et[0],Ce=et[et.length-1],ze=ke;ze<Ce+1;ze++){this.pdf.setPage(ze),this.fillStyle=Q,this.strokeStyle=se,this.lineCap=le,this.lineWidth=ye,this.lineJoin=Ne;var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=ze===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=ze===1?0:De+(ze-2)*Fe;if(this.ctx.clip_path.length!==0){var vt=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b($,this.posX+this.margin[3],-it+dt+this.ctx.prevPageLastElemOffset),S.call(this,M,!0),this.path=vt}if(X=JSON.parse(JSON.stringify(Le)),this.path=b(X,this.posX+this.margin[3],-it+dt+this.ctx.prevPageLastElemOffset),U===!1||ze===0){var tt=(ze>ke||ze<Ce)&&g.call(this);tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,Fe,null).clip().discardPath()),S.call(this,M,U),tt&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}else this.lineWidth=ye,S.call(this,M,U),this.lineWidth=ue;this.path=Le},S=function(M,U){if((M!=="stroke"||U||!m.call(this))&&(M==="stroke"||U||!p.call(this))){for(var $,X,Q=[],se=this.path,le=0;le<se.length;le++){var ue=se[le];switch(ue.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:ue,deltas:[],abs:[]});break;case"lt":var ye=Q.length;if(se[le-1]&&!isNaN(se[le-1].x)&&($=[ue.x-se[le-1].x,ue.y-se[le-1].y],ye>0)){for(;ye>=0;ye--)if(Q[ye-1].close!==!0&&Q[ye-1].begin!==!0){Q[ye-1].deltas.push($),Q[ye-1].abs.push(ue);break}}break;case"bct":$=[ue.x1-se[le-1].x,ue.y1-se[le-1].y,ue.x2-se[le-1].x,ue.y2-se[le-1].y,ue.x-se[le-1].x,ue.y-se[le-1].y],Q[Q.length-1].deltas.push($);break;case"qct":var Ne=se[le-1].x+2/3*(ue.x1-se[le-1].x),Le=se[le-1].y+2/3*(ue.y1-se[le-1].y),Ie=ue.x+2/3*(ue.x1-ue.x),et=ue.y+2/3*(ue.y1-ue.y),Ee=ue.x,ee=ue.y;$=[Ne-se[le-1].x,Le-se[le-1].y,Ie-se[le-1].x,et-se[le-1].y,Ee-se[le-1].x,ee-se[le-1].y],Q[Q.length-1].deltas.push($);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(ue)}}X=U?null:M==="stroke"?"stroke":"fill";for(var Ve=!1,Ue=0;Ue<Q.length;Ue++)if(Q[Ue].arc)for(var ke=Q[Ue].abs,Ce=0;Ce<ke.length;Ce++){var ze=ke[Ce];ze.type==="arc"?A.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,U,!Ve):O.call(this,ze.x,ze.y),Ve=!0}else if(Q[Ue].close===!0)this.pdf.internal.out("h"),Ve=!1;else if(Q[Ue].begin!==!0){var Ge=Q[Ue].start.x,dt=Q[Ue].start.y;I.call(this,Q[Ue].deltas,Ge,dt),Ve=!0}X&&T.call(this,X),U&&F.call(this)}},_=function(M){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-$;case"top":return M+U-$;case"hanging":return M+U-2*$;case"middle":return M+U/2-$;case"ideographic":return M;case"alphabetic":default:return M}},E=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(U,$){this.colorStops.push([U,$])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(M,U,$,X,Q,se,le,ue,ye){for(var Ne=z.call(this,$,X,Q,se),Le=0;Le<Ne.length;Le++){var Ie=Ne[Le];Le===0&&(ye?L.call(this,Ie.x1+M,Ie.y1+U):O.call(this,Ie.x1+M,Ie.y1+U)),B.call(this,M,U,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}ue?F.call(this):T.call(this,le)},T=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(M,U){this.pdf.internal.out(t(M)+" "+n(U)+" m")},D=function(M){var U;switch(M.align){case"right":case"end":U="right";break;case"center":U="center";break;case"left":case"start":default:U="left"}var $=this.pdf.getTextDimensions(M.text),X=_.call(this,M.y),Q=E.call(this,X)-$.h,se=this.ctx.transform.applyToPoint(new i(M.x,X)),le=this.ctx.transform.decompose(),ue=new c;ue=(ue=(ue=ue.multiply(le.translate)).multiply(le.skew)).multiply(le.scale);for(var ye,Ne,Le,Ie=this.ctx.transform.applyToRectangle(new l(M.x,X,$.w,$.h)),et=ue.applyToRectangle(new l(M.x,Q,$.w,$.h)),Ee=v.call(this,et),ee=[],Ve=0;Ve<Ee.length;Ve+=1)ee.indexOf(Ee[Ve])===-1&&ee.push(Ee[Ve]);if(y(ee),this.autoPaging)for(var Ue=ee[0],ke=ee[ee.length-1],Ce=Ue;Ce<ke+1;Ce++){this.pdf.setPage(Ce);var ze=Ce===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[2],De=dt-this.margin[0],Fe=this.pdf.internal.pageSize.width-this.margin[1],it=Fe-this.margin[3],vt=Ce===1?0:Ge+(Ce-2)*De;if(this.ctx.clip_path.length!==0){var tt=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ye,this.posX+this.margin[3],-1*vt+ze),S.call(this,"fill",!0),this.path=tt}var je=b([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-vt+ze+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*M.scale),Le=this.lineWidth,this.lineWidth=Le*M.scale);var ve=this.autoPaging!=="text";if(ve||je.y+je.h<=dt){if(ve||je.y>=ze&&je.x<=Fe){var Me=ve?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Fe-je.x)[0],Je=b([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-vt+ze+this.ctx.prevPageLastElemOffset)[0],pt=ve&&(Ce>Ue||Ce<ke)&&g.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,De,null).clip().discardPath()),this.pdf.text(Me,Je.x,Je.y,{angle:M.angle,align:U,renderingMode:M.renderingMode}),pt&&this.pdf.restoreGraphicsState()}}else je.y<dt&&(this.ctx.prevPageLastElemOffset+=dt-je.y);M.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=Le)}else M.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*M.scale),Le=this.lineWidth,this.lineWidth=Le*M.scale),this.pdf.text(M.text,se.x+this.posX,se.y+this.posY,{angle:M.angle,align:U,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=Le)},O=function(M,U,$,X){$=$||0,X=X||0,this.pdf.internal.out(t(M+$)+" "+n(U+X)+" l")},I=function(M,U,$){return this.pdf.lines(M,U,$,null,null)},B=function(M,U,$,X,Q,se,le,ue){this.pdf.internal.out([e(a($+M)),e(s(X+U)),e(a(Q+M)),e(s(se+U)),e(a(le+M)),e(s(ue+U)),"c"].join(" "))},z=function(M,U,$,X){for(var Q=2*Math.PI,se=Math.PI/2;U>$;)U-=Q;var le=Math.abs($-U);le<Q&&X&&(le=Q-le);for(var ue=[],ye=X?-1:1,Ne=U;le>1e-5;){var Le=Ne+ye*Math.min(le,se);ue.push(V.call(this,M,Ne,Le)),le-=Math.abs(Le-Ne),Ne=Le}return ue},V=function(M,U,$){var X=($-U)/2,Q=M*Math.cos(X),se=M*Math.sin(X),le=Q,ue=-se,ye=le*le+ue*ue,Ne=ye+le*Q+ue*se,Le=4/3*(Math.sqrt(2*ye*Ne)-Ne)/(le*se-ue*Q),Ie=le-Le*ue,et=ue+Le*le,Ee=Ie,ee=-et,Ve=X+U,Ue=Math.cos(Ve),ke=Math.sin(Ve);return{x1:M*Math.cos(U),y1:M*Math.sin(U),x2:Ie*Ue-et*ke,y2:Ie*ke+et*Ue,x3:Ee*Ue-ee*ke,y3:Ee*ke+ee*Ue,x4:M*Math.cos($),y4:M*Math.sin($)}},W=function(M){return 180*M/Math.PI},Y=function(M,U,$,X,Q,se){var le=M+.5*($-M),ue=U+.5*(X-U),ye=Q+.5*($-Q),Ne=se+.5*(X-se),Le=Math.min(M,Q,le,ye),Ie=Math.max(M,Q,le,ye),et=Math.min(U,se,ue,Ne),Ee=Math.max(U,se,ue,Ne);return new l(Le,et,Ie-Le,Ee-et)},G=function(M,U,$,X,Q,se,le,ue){var ye,Ne,Le,Ie,et,Ee,ee,Ve,Ue,ke,Ce,ze,Ge,dt,De=$-M,Fe=X-U,it=Q-$,vt=se-X,tt=le-Q,je=ue-se;for(Ne=0;Ne<41;Ne++)Ue=(ee=(Le=M+(ye=Ne/40)*De)+ye*((et=$+ye*it)-Le))+ye*(et+ye*(Q+ye*tt-et)-ee),ke=(Ve=(Ie=U+ye*Fe)+ye*((Ee=X+ye*vt)-Ie))+ye*(Ee+ye*(se+ye*je-Ee)-Ve),Ne==0?(Ce=Ue,ze=ke,Ge=Ue,dt=ke):(Ce=Math.min(Ce,Ue),ze=Math.min(ze,ke),Ge=Math.max(Ge,Ue),dt=Math.max(dt,ke));return new l(Math.round(Ce),Math.round(ze),Math.round(Ge-Ce),Math.round(dt-ze))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,U,$=(M=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:U}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(Ft.API),function(r){var e=function(s){var i,l,c,d,u,h,f,p,m,g;for(l=[],c=0,d=(s+=i="\0\0\0\0".slice(s.length%4||4)).length;d>c;c+=4)(u=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(h=(u=((u=((u=((u=(u-(g=u%85))/85)-(m=u%85))/85)-(p=u%85))/85)-(f=u%85))/85)%85,l.push(h+33,f+33,p+33,m+33,g+33)):l.push(122);return function(v,x){for(var b=x;b>0;b--)v.pop()}(l,i.length),String.fromCharCode.apply(String,l)+"~>"},t=function(s){var i,l,c,d,u,h=String,f="length",p=255,m="charCodeAt",g="slice",v="replace";for(s[g](-2),s=s[g](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],d=0,u=(s+=i="uuuuu"[g](s[f]%5||5))[f];u>d;d+=5)l=52200625*(s[m](d)-33)+614125*(s[m](d+1)-33)+7225*(s[m](d+2)-33)+85*(s[m](d+3)-33)+(s[m](d+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(x,b){for(var y=b;y>0;y--)x.pop()}(c,i[f]),h.fromCharCode.apply(h,c)},n=function(s){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),i.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var i=new Uint8Array(s.length),l=s.length;l--;)i[l]=s.charCodeAt(l);return s=(i=H5(i)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};r.processDataByFilters=function(s,i){var l=0,c=s||"",d=[];for(typeof(i=i||[])=="string"&&(i=[i]),l=0;l<i.length;l+=1)switch(i[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(Ft.API),function(r){r.loadFile=function(e,t,n){return function(a,s,i){s=s!==!1,i=typeof i=="function"?i:function(){};var l=void 0;try{l=function(c,d,u){var h=new XMLHttpRequest,f=0,p=function(m){var g=m.length,v=[],x=String.fromCharCode;for(f=0;f<g;f+=1)v.push(x(255&m.charCodeAt(f)));return v.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(p(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return p(h.responseText)}(a,s,i)}catch{}return l}(e,t,n)},r.loadImageFile=r.loadFile}(Ft.API),function(r){function e(){return(zt.html2canvas?Promise.resolve(zt.html2canvas):Ma(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function t(){return(zt.DOMPurify?Promise.resolve(zt.DOMPurify):Ma(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var n=function(i){var l=Nr(i);return l==="undefined"?"undefined":l==="string"||i instanceof String?"string":l==="number"||i instanceof Number?"number":l==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(i,l){var c=document.createElement(i);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},s=function i(l){var c=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),d=i.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,i,1,[i])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(i,l){return i.__proto__=l||s.prototype,i},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(i,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(t).then(function(c){return this.set({src:a("div",{innerHTML:i,dompurify:c})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},s.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,u){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),f=d.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(c(f,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(e).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var p=d[f],m=p.src.find(function(g){return g.format==="truetype"});m&&c.addFont(m.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(i,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(i,l):this.outputPdf(i,l)},s.prototype.outputPdf=function(i,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,l)})},s.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},s.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(i){if(n(i)!=="object")return this;var l=Object.keys(i||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=i[c]};switch(c){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[c]=i[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(i,l){return this.then(function(){var c=i in s.template.prop?this.prop[i]:this.opt[i];return l?l(c):c})},s.prototype.setMargin=function(i){return this.then(function(){switch(n(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},s.prototype.setPageSize=function(i){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(i=i||Ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:l(i.inner.width,i.k),height:l(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},s.prototype.setProgress=function(i,l,c,d){return i!=null&&(this.progress.val=i),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(i,l,c,d){return this.setProgress(i?this.progress.val+i:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(i,l){var c=this;return this.thenCore(i,l,function(d,u){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,d),h}).then(d,u).then(function(h){return c.updateProgress(1),h})})},s.prototype.thenCore=function(i,l,c){c=c||Promise.prototype.then,i&&(i=i.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=c.call(d,i,l);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(i,l){return Promise.prototype.then.call(this,i,l)},s.prototype.thenList=function(i){var l=this;return i.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(i){i&&(i=i.bind(this));var l=Promise.prototype.catch.call(this,i);return s.convert(l,this)},s.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},s.prototype.error=function(i){return this.then(function(){throw new Error(i)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ft.getPageSize=function(i,l,c){if(Nr(i)==="object"){var d=i;i=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",i=(""+(i||"P")).toLowerCase();var u,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var p,m=0,g=0;if(f.hasOwnProperty(h))m=f[h][1]/u,g=f[h][0]/u;else try{m=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(i==="p"||i==="portrait")i="p",g>m&&(p=g,g=m,m=p);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",m>g&&(p=g,g=m,m=p)}return{width:g,height:m,unit:l,k:u,orientation:i}},r.html=function(i,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Y5):null;var c=new s(l);return l.worker?c:c.from(i).doCallback()}}(Ft.API),Ft.API.addJS=function(r){return l7=r,this.internal.events.subscribe("postPutResources",function(){_m=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_m+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),o7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+l7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){_m!==void 0&&o7!==void 0&&this.internal.out("/Names <</JavaScript "+_m+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),s=0;s<a.length;s++){var i=a[s],l=n.exec(i);if(l!=null){var c=l[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(i)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(s=0;s<d;s++){var h=t.internal.newObject();u.push(h);var f=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,a,s){var i={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(i),i},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var i=n.children[s];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var l=this.count=this.count_r({count:0},i);if(l>0&&this.line("/Count "+l),i.options&&i.options.pageNumber){var c=t.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(Ft.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,a,s,i,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=i||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(h){for(var f,p=256*h.charCodeAt(4)+h.charCodeAt(5),m=h.length,g={width:0,height:0,numcomponents:1},v=4;v<m;v+=2){if(v+=p,e.indexOf(h.charCodeAt(v+1))!==-1){f=256*h.charCodeAt(v+5)+h.charCodeAt(v+6),g={width:256*h.charCodeAt(v+7)+h.charCodeAt(v+8),height:f,numcomponents:h.charCodeAt(v+9)};break}p=256*h.charCodeAt(v+2)+h.charCodeAt(v+3)}return g}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:t,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:a}}return u}}(Ft.API);var Xd,Nm,c7,d7,u7,Voe=function(){var r,e,t;function n(s){var i,l,c,d,u,h,f,p,m,g,v,x,b,y;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(i=this.readUInt32(),m=(function(){var C,S;for(S=[],C=0;C<4;++C)S.push(String.fromCharCode(this.data[this.pos++]));return S}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),d=this.readUInt16()||100,h.delay=1e3*u/d,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,i-=4),s=(h!=null?h.data:void 0)||this.imgData,x=0;0<=i?x<i:x>i;0<=i?++x:--x)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((g=c-this.transparency.indexed.length)>0)for(b=0;0<=g?b<g:b>g;0<=g?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":f=(v=this.read(i)).indexOf(0),p=String.fromCharCode.apply(String,v.slice(0,f)),this.text[p]=String.fromCharCode.apply(String,v.slice(f+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(y=this.colorType)===4||y===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var i,l;for(l=[],i=0;0<=s?i<s:i>s;0<=s?++i:--i)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var i=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*i),c=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(h,f,p,m){var g,v,x,b,y,C,S,_,E,A,T,F,L,D,O,I,B,z,V,W,Y,G=Math.ceil((d.width-h)/p),q=Math.ceil((d.height-f)/m),M=d.width==G&&d.height==q;for(D=i*G,F=M?l:new Uint8Array(D*q),C=s.length,L=0,v=0;L<q&&c<C;){switch(s[c++]){case 0:for(b=B=0;B<D;b=B+=1)F[v++]=s[c++];break;case 1:for(b=z=0;z<D;b=z+=1)g=s[c++],y=b<i?0:F[v-i],F[v++]=(g+y)%256;break;case 2:for(b=V=0;V<D;b=V+=1)g=s[c++],x=(b-b%i)/i,O=L&&F[(L-1)*D+x*i+b%i],F[v++]=(O+g)%256;break;case 3:for(b=W=0;W<D;b=W+=1)g=s[c++],x=(b-b%i)/i,y=b<i?0:F[v-i],O=L&&F[(L-1)*D+x*i+b%i],F[v++]=(g+Math.floor((y+O)/2))%256;break;case 4:for(b=Y=0;Y<D;b=Y+=1)g=s[c++],x=(b-b%i)/i,y=b<i?0:F[v-i],L===0?O=I=0:(O=F[(L-1)*D+x*i+b%i],I=x&&F[(L-1)*D+(x-1)*i+b%i]),S=y+O-I,_=Math.abs(S-y),A=Math.abs(S-O),T=Math.abs(S-I),E=_<=A&&_<=T?y:A<=T?O:I,F[v++]=(g+E)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!M){var U=((f+L*m)*d.width+h)*i,$=L*D;for(b=0;b<G;b+=1){for(var X=0;X<i;X+=1)l[U++]=F[$++];U+=(p-1)*i}}L++}}return s=woe(s),d.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),l},n.prototype.decodePalette=function(){var s,i,l,c,d,u,h,f,p;for(l=this.palette,u=this.transparency.indexed||[],d=new Uint8Array((u.length||0)+l.length),c=0,s=0,i=h=0,f=l.length;h<f;i=h+=3)d[c++]=l[i],d[c++]=l[i+1],d[c++]=l[i+2],d[c++]=(p=u[s++])!=null?p:255;return d},n.prototype.copyToImageData=function(s,i){var l,c,d,u,h,f,p,m,g,v,x;if(c=this.colors,g=null,l=this.hasAlphaChannel,this.palette.length&&(g=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,l=!0),m=(d=s.data||s).length,h=g||i,u=f=0,c===1)for(;u<m;)p=g?4*i[u/4]:f,v=h[p++],d[u++]=v,d[u++]=v,d[u++]=v,d[u++]=l?h[p++]:255,f=p;else for(;u<m;)p=g?4*i[u/4]:f,d[u++]=h[p++],d[u++]=h[p++],d[u++]=h[p++],d[u++]=l?h[p++]:255,f=p},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var a=function(){if(Object.prototype.toString.call(zt)==="[object Window]"){try{e=zt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),r=function(s){var i;if(a()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(i=new Image).src=e.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var i,l,c,d,u,h,f,p;if(this.animation){for(p=[],l=u=0,h=(f=this.animation.frames).length;u<h;l=++u)i=f[l],c=s.createImageData(i.width,i.height),d=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(c,d),i.imageData=c,p.push(i.image=r(c));return p}},n.prototype.renderFrame=function(s,i){var l,c,d;return l=(c=this.animation.frames)[i],d=c[i-1],i===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(s){var i,l,c,d,u,h,f=this;return l=0,h=this.animation,d=h.numFrames,c=h.frames,u=h.numPlays,(i=function(){var p,m;if(p=l++%d,m=c[p],f.renderFrame(s,p),d>1&&l/d<u)return f.animation._timeout=setTimeout(i,m.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var i,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,i=s.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(l=i.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),i.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function $oe(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,a=r[e++],s=a>>7,i=1<<(7&a)+1;r[e++],r[e++];var l=null,c=null;s&&(l=e,c=i,e+=3*i);var d=!0,u=[],h=0,f=null,p=0,m=null;for(this.width=t,this.height=n;d&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,m=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((L=r[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=r[e++];h=r[e++]|r[e++]<<8,f=r[e++],!(1&g)&&(f=null),p=g>>2&7,e++;break;case 254:for(;;){if(!((L=r[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var v=r[e++]|r[e++]<<8,x=r[e++]|r[e++]<<8,b=r[e++]|r[e++]<<8,y=r[e++]|r[e++]<<8,C=r[e++],S=C>>6&1,_=1<<(7&C)+1,E=l,A=c,T=!1;C>>7&&(T=!0,E=e,A=_,e+=3*_);var F=e;for(e++;;){var L;if(!((L=r[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}u.push({x:v,y:x,width:b,height:y,has_local_palette:T,palette_offset:E,palette_size:A,data_offset:F,data_length:e-F,transparent_index:f,interlaced:!!S,delay:h,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(D){if(D<0||D>=u.length)throw new Error("Frame index out of range.");return u[D]},this.decodeAndBlitFrameBGRA=function(D,O){var I=this.frameInfo(D),B=I.width*I.height,z=new Uint8Array(B);h7(r,I.data_offset,z,B);var V=I.palette_offset,W=I.transparent_index;W===null&&(W=256);var Y=I.width,G=t-Y,q=Y,M=4*(I.y*t+I.x),U=4*((I.y+I.height)*t+I.x),$=M,X=4*G;I.interlaced===!0&&(X+=4*t*7);for(var Q=8,se=0,le=z.length;se<le;++se){var ue=z[se];if(q===0&&(q=Y,($+=X)>=U&&(X=4*G+4*t*(Q-1),$=M+(Y+G)*(Q<<1),Q>>=1)),ue===W)$+=4;else{var ye=r[V+3*ue],Ne=r[V+3*ue+1],Le=r[V+3*ue+2];O[$++]=Le,O[$++]=Ne,O[$++]=ye,O[$++]=255}--q}},this.decodeAndBlitFrameRGBA=function(D,O){var I=this.frameInfo(D),B=I.width*I.height,z=new Uint8Array(B);h7(r,I.data_offset,z,B);var V=I.palette_offset,W=I.transparent_index;W===null&&(W=256);var Y=I.width,G=t-Y,q=Y,M=4*(I.y*t+I.x),U=4*((I.y+I.height)*t+I.x),$=M,X=4*G;I.interlaced===!0&&(X+=4*t*7);for(var Q=8,se=0,le=z.length;se<le;++se){var ue=z[se];if(q===0&&(q=Y,($+=X)>=U&&(X=4*G+4*t*(Q-1),$=M+(Y+G)*(Q<<1),Q>>=1)),ue===W)$+=4;else{var ye=r[V+3*ue],Ne=r[V+3*ue+1],Le=r[V+3*ue+2];O[$++]=ye,O[$++]=Ne,O[$++]=Le,O[$++]=255}--q}}}function h7(r,e,t,n){for(var a=r[e++],s=1<<a,i=s+1,l=i+1,c=a+1,d=(1<<c)-1,u=0,h=0,f=0,p=r[e++],m=new Int32Array(4096),g=null;;){for(;u<16&&p!==0;)h|=r[e++]<<u,u+=8,p===1?p=r[e++]:--p;if(u<c)break;var v=h&d;if(h>>=c,u-=c,v!==s){if(v===i)break;for(var x=v<l?v:g,b=0,y=x;y>s;)y=m[y]>>8,++b;var C=y;if(f+b+(x!==v?1:0)>n)return void Or.log("Warning, gif stream longer than expected.");t[f++]=C;var S=f+=b;for(x!==v&&(t[f++]=C),y=x;b--;)y=m[y],t[--S]=255&y,y>>=8;g!==null&&l<4096&&(m[l++]=g<<8|C,l>=d+1&&c<12&&(++c,d=d<<1|1)),g=v}else l=i+1,d=(1<<(c=a+1))-1,g=null}return f!==n&&Or.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function oy(r){var e,t,n,a,s,i=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),f=new Array(65535),p=new Array(64),m=new Array(64),g=[],v=0,x=7,b=new Array(64),y=new Array(64),C=new Array(64),S=new Array(256),_=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],B=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(M,U){for(var $=0,X=0,Q=new Array,se=1;se<=16;se++){for(var le=1;le<=M[se];le++)Q[U[X]]=[],Q[U[X]][0]=$,Q[U[X]][1]=se,X++,$++;$*=2}return Q}function V(M){for(var U=M[0],$=M[1]-1;$>=0;)U&1<<$&&(v|=1<<x),$--,--x<0&&(v==255?(W(255),W(0)):W(v),x=7,v=0)}function W(M){g.push(M)}function Y(M){W(M>>8&255),W(255&M)}function G(M,U,$,X,Q){for(var se,le=Q[0],ue=Q[240],ye=function(ke,Ce){var ze,Ge,dt,De,Fe,it,vt,tt,je,ve,Me=0;for(je=0;je<8;++je){ze=ke[Me],Ge=ke[Me+1],dt=ke[Me+2],De=ke[Me+3],Fe=ke[Me+4],it=ke[Me+5],vt=ke[Me+6];var Je=ze+(tt=ke[Me+7]),pt=ze-tt,ut=Ge+vt,Ke=Ge-vt,wt=dt+it,er=dt-it,It=De+Fe,fn=De-Fe,tr=Je+It,Mr=Je-It,hr=ut+wt,Gt=ut-wt;ke[Me]=tr+hr,ke[Me+4]=tr-hr;var ne=.707106781*(Gt+Mr);ke[Me+2]=Mr+ne,ke[Me+6]=Mr-ne;var oe=.382683433*((tr=fn+er)-(Gt=Ke+pt)),me=.5411961*tr+oe,_e=1.306562965*Gt+oe,Xe=.707106781*(hr=er+Ke),nt=pt+Xe,He=pt-Xe;ke[Me+5]=He+me,ke[Me+3]=He-me,ke[Me+1]=nt+_e,ke[Me+7]=nt-_e,Me+=8}for(Me=0,je=0;je<8;++je){ze=ke[Me],Ge=ke[Me+8],dt=ke[Me+16],De=ke[Me+24],Fe=ke[Me+32],it=ke[Me+40],vt=ke[Me+48];var ht=ze+(tt=ke[Me+56]),Et=ze-tt,lt=Ge+vt,mt=Ge-vt,Pt=dt+it,sr=dt-it,Ar=De+Fe,pn=De-Fe,Tn=ht+Ar,lr=ht-Ar,ca=lt+Pt,Sa=lt-Pt;ke[Me]=Tn+ca,ke[Me+32]=Tn-ca;var Kn=.707106781*(Sa+lr);ke[Me+16]=lr+Kn,ke[Me+48]=lr-Kn;var Qn=.382683433*((Tn=pn+sr)-(Sa=mt+Et)),Es=.5411961*Tn+Qn,As=1.306562965*Sa+Qn,gn=.707106781*(ca=sr+mt),ss=Et+gn,mn=Et-gn;ke[Me+40]=mn+Es,ke[Me+24]=mn-Es,ke[Me+8]=ss+As,ke[Me+56]=ss-As,Me++}for(je=0;je<64;++je)ve=ke[je]*Ce[je],p[je]=ve>0?ve+.5|0:ve-.5|0;return p}(M,U),Ne=0;Ne<64;++Ne)m[E[Ne]]=ye[Ne];var Le=m[0]-$;$=m[0],Le==0?V(X[0]):(V(X[f[se=32767+Le]]),V(h[se]));for(var Ie=63;Ie>0&&m[Ie]==0;)Ie--;if(Ie==0)return V(le),$;for(var et,Ee=1;Ee<=Ie;){for(var ee=Ee;m[Ee]==0&&Ee<=Ie;)++Ee;var Ve=Ee-ee;if(Ve>=16){et=Ve>>4;for(var Ue=1;Ue<=et;++Ue)V(ue);Ve&=15}se=32767+m[Ee],V(Q[(Ve<<4)+f[se]]),V(h[se]),Ee++}return Ie!=63&&V(le),$}function q(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(U){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var Q=i(($[X]*U+50)/100);Q=Math.min(Math.max(Q,1),255),l[E[X]]=Q}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],le=0;le<64;le++){var ue=i((se[le]*U+50)/100);ue=Math.min(Math.max(ue,1),255),c[E[le]]=ue}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,Le=0;Le<8;Le++)for(var Ie=0;Ie<8;Ie++)d[Ne]=1/(l[E[Ne]]*ye[Le]*ye[Ie]*8),u[Ne]=1/(c[E[Ne]]*ye[Le]*ye[Ie]*8),Ne++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,U){U&&q(U),g=new Array,v=0,x=7,Y(65496),Y(65504),Y(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),Y(1),Y(1),W(0),W(0),function(){Y(65499),Y(132),W(0);for(var Ge=0;Ge<64;Ge++)W(l[Ge]);W(1);for(var dt=0;dt<64;dt++)W(c[dt])}(),function(Ge,dt){Y(65472),Y(17),W(8),Y(dt),Y(Ge),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(M.width,M.height),function(){Y(65476),Y(418),W(0);for(var Ge=0;Ge<16;Ge++)W(A[Ge+1]);for(var dt=0;dt<=11;dt++)W(T[dt]);W(16);for(var De=0;De<16;De++)W(F[De+1]);for(var Fe=0;Fe<=161;Fe++)W(L[Fe]);W(1);for(var it=0;it<16;it++)W(D[it+1]);for(var vt=0;vt<=11;vt++)W(O[vt]);W(17);for(var tt=0;tt<16;tt++)W(I[tt+1]);for(var je=0;je<=161;je++)W(B[je])}(),Y(65498),Y(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var $=0,X=0,Q=0;v=0,x=7,this.encode.displayName="_encode_";for(var se,le,ue,ye,Ne,Le,Ie,et,Ee,ee=M.data,Ve=M.width,Ue=M.height,ke=4*Ve,Ce=0;Ce<Ue;){for(se=0;se<ke;){for(Ne=ke*Ce+se,Ie=-1,et=0,Ee=0;Ee<64;Ee++)Le=Ne+(et=Ee>>3)*ke+(Ie=4*(7&Ee)),Ce+et>=Ue&&(Le-=ke*(Ce+1+et-Ue)),se+Ie>=ke&&(Le-=se+Ie-ke+4),le=ee[Le++],ue=ee[Le++],ye=ee[Le++],b[Ee]=(_[le]+_[ue+256>>0]+_[ye+512>>0]>>16)-128,y[Ee]=(_[le+768>>0]+_[ue+1024>>0]+_[ye+1280>>0]>>16)-128,C[Ee]=(_[le+1280>>0]+_[ue+1536>>0]+_[ye+1792>>0]>>16)-128;$=G(b,d,$,e,n),X=G(y,u,X,t,a),Q=G(C,u,Q,t,a),se+=32}Ce+=8}if(x>=0){var ze=[];ze[1]=x+1,ze[0]=(1<<x+1)-1,V(ze)}return Y(65497),new Uint8Array(g)},r=r||50,function(){for(var M=String.fromCharCode,U=0;U<256;U++)S[U]=M(U)}(),e=z(A,T),t=z(D,O),n=z(F,L),a=z(I,B),function(){for(var M=1,U=2,$=1;$<=15;$++){for(var X=M;X<U;X++)f[32767+X]=$,h[32767+X]=[],h[32767+X][1]=$,h[32767+X][0]=X;for(var Q=-(U-1);Q<=-M;Q++)f[32767+Q]=$,h[32767+Q]=[],h[32767+Q][1]=$,h[32767+Q][0]=U-1+Q;M<<=1,U<<=1}}(),function(){for(var M=0;M<256;M++)_[M]=19595*M,_[M+256>>0]=38470*M,_[M+512>>0]=7471*M+32768,_[M+768>>0]=-11059*M,_[M+1024>>0]=-21709*M,_[M+1280>>0]=32768*M+8421375,_[M+1536>>0]=-27439*M,_[M+1792>>0]=-5329*M}(),q(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ci(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function f7(r){function e(A){if(!A)throw Error("assert :P")}function t(A,T,F){for(var L=0;4>L;L++)if(A[T+L]!=F.charCodeAt(L))return!0;return!1}function n(A,T,F,L,D){for(var O=0;O<D;O++)A[T+O]=F[L+O]}function a(A,T,F,L){for(var D=0;D<L;D++)A[T+D]=F}function s(A){return new Int32Array(A)}function i(A,T){for(var F=[],L=0;L<A;L++)F.push(new T);return F}function l(A,T){var F=[];return function L(D,O,I){for(var B=I[O],z=0;z<B&&(D.push(I.length>O+1?[]:new T),!(I.length<O+1));z++)L(D[z],O+1,I)}(F,0,A),F}var c=function(){var A=this;function T(k,N){for(var R=1<<N-1>>>0;k&R;)R>>>=1;return R?(k&R-1)+R:k}function F(k,N,R,H,Z){e(!(H%R));do k[N+(H-=R)]=Z;while(0<H)}function L(k,N,R,H,Z){if(e(2328>=Z),512>=Z)var te=s(512);else if((te=s(Z))==null)return 0;return function(re,ae,ie,ce,pe,Ae){var Pe,we,qe=ae,Oe=1<<ie,ge=s(16),be=s(16);for(e(pe!=0),e(ce!=null),e(re!=null),e(0<ie),we=0;we<pe;++we){if(15<ce[we])return 0;++ge[ce[we]]}if(ge[0]==pe)return 0;for(be[1]=0,Pe=1;15>Pe;++Pe){if(ge[Pe]>1<<Pe)return 0;be[Pe+1]=be[Pe]+ge[Pe]}for(we=0;we<pe;++we)Pe=ce[we],0<ce[we]&&(Ae[be[Pe]++]=we);if(be[15]==1)return(ce=new D).g=0,ce.value=Ae[0],F(re,qe,1,Oe,ce),Oe;var $e,Ze=-1,We=Oe-1,Ct=0,gt=1,Tt=1,xt=1<<ie;for(we=0,Pe=1,pe=2;Pe<=ie;++Pe,pe<<=1){if(gt+=Tt<<=1,0>(Tt-=ge[Pe]))return 0;for(;0<ge[Pe];--ge[Pe])(ce=new D).g=Pe,ce.value=Ae[we++],F(re,qe+Ct,pe,xt,ce),Ct=T(Ct,Pe)}for(Pe=ie+1,pe=2;15>=Pe;++Pe,pe<<=1){if(gt+=Tt<<=1,0>(Tt-=ge[Pe]))return 0;for(;0<ge[Pe];--ge[Pe]){if(ce=new D,(Ct&We)!=Ze){for(qe+=xt,$e=1<<(Ze=Pe)-ie;15>Ze&&!(0>=($e-=ge[Ze]));)++Ze,$e<<=1;Oe+=xt=1<<($e=Ze-ie),re[ae+(Ze=Ct&We)].g=$e+ie,re[ae+Ze].value=qe-ae-Ze}ce.g=Pe-ie,ce.value=Ae[we++],F(re,qe+(Ct>>ie),pe,xt,ce),Ct=T(Ct,Pe)}}return gt!=2*be[15]-1?0:Oe}(k,N,R,H,Z,te)}function D(){this.value=this.g=0}function O(){this.value=this.g=0}function I(){this.G=i(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(ea,O)}function B(k,N,R,H){e(k!=null),e(N!=null),e(2147483648>H),k.Ca=254,k.I=0,k.b=-8,k.Ka=0,k.oa=N,k.pa=R,k.Jd=N,k.Yc=R+H,k.Zc=4<=H?R+H-4+1:R,se(k)}function z(k,N){for(var R=0;0<N--;)R|=ue(k,128)<<N;return R}function V(k,N){var R=z(k,N);return le(k)?-R:R}function W(k,N,R,H){var Z,te=0;for(e(k!=null),e(N!=null),e(4294967288>H),k.Sb=H,k.Ra=0,k.u=0,k.h=0,4<H&&(H=4),Z=0;Z<H;++Z)te+=N[R+Z]<<8*Z;k.Ra=te,k.bb=H,k.oa=N,k.pa=R}function Y(k){for(;8<=k.u&&k.bb<k.Sb;)k.Ra>>>=8,k.Ra+=k.oa[k.pa+k.bb]<<Pd-8>>>0,++k.bb,k.u-=8;$(k)&&(k.h=1,k.u=0)}function G(k,N){if(e(0<=N),!k.h&&N<=Ad){var R=U(k)&Ed[N];return k.u+=N,Y(k),R}return k.h=1,k.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(k){return k.Ra>>>(k.u&Pd-1)>>>0}function $(k){return e(k.bb<=k.Sb),k.h||k.bb==k.Sb&&k.u>Pd}function X(k,N){k.u=N,k.h=$(k)}function Q(k){k.u>=Uh&&(e(k.u>=Uh),Y(k))}function se(k){e(k!=null&&k.oa!=null),k.pa<k.Zc?(k.I=(k.oa[k.pa++]|k.I<<8)>>>0,k.b+=8):(e(k!=null&&k.oa!=null),k.pa<k.Yc?(k.b+=8,k.I=k.oa[k.pa++]|k.I<<8):k.Ka?k.b=0:(k.I<<=8,k.b+=8,k.Ka=1))}function le(k){return z(k,1)}function ue(k,N){var R=k.Ca;0>k.b&&se(k);var H=k.b,Z=R*N>>>8,te=(k.I>>>H>Z)+0;for(te?(R-=Z,k.I-=Z+1<<H>>>0):R=Z+1,H=R,Z=0;256<=H;)Z+=8,H>>=8;return H=7^Z+za[H],k.b-=H,k.Ca=(R<<H)-1,te}function ye(k,N,R){k[N+0]=R>>24&255,k[N+1]=R>>16&255,k[N+2]=R>>8&255,k[N+3]=R>>0&255}function Ne(k,N){return k[N+0]<<0|k[N+1]<<8}function Le(k,N){return Ne(k,N)|k[N+2]<<16}function Ie(k,N){return Ne(k,N)|Ne(k,N+2)<<16}function et(k,N){var R=1<<N;return e(k!=null),e(0<N),k.X=s(R),k.X==null?0:(k.Mb=32-N,k.Xa=N,1)}function Ee(k,N){e(k!=null),e(N!=null),e(k.Xa==N.Xa),n(N.X,0,k.X,0,1<<N.Xa)}function ee(){this.X=[],this.Xa=this.Mb=0}function Ve(k,N,R,H){e(R!=null),e(H!=null);var Z=R[0],te=H[0];return Z==0&&(Z=(k*te+N/2)/N),te==0&&(te=(N*Z+k/2)/k),0>=Z||0>=te?0:(R[0]=Z,H[0]=te,1)}function Ue(k,N){return k+(1<<N)-1>>>N}function ke(k,N){return((4278255360&k)+(4278255360&N)>>>0&4278255360)+((16711935&k)+(16711935&N)>>>0&16711935)>>>0}function Ce(k,N){A[N]=function(R,H,Z,te,re,ae,ie){var ce;for(ce=0;ce<re;++ce){var pe=A[k](ae[ie+ce-1],Z,te+ce);ae[ie+ce]=ke(R[H+ce],pe)}}}function ze(){this.ud=this.hd=this.jd=0}function Ge(k,N){return((4278124286&(k^N))>>>1)+(k&N)>>>0}function dt(k){return 0<=k&&256>k?k:0>k?0:255<k?255:void 0}function De(k,N){return dt(k+(k-N+.5>>1))}function Fe(k,N,R){return Math.abs(N-R)-Math.abs(k-R)}function it(k,N,R,H,Z,te,re){for(H=te[re-1],R=0;R<Z;++R)te[re+R]=H=ke(k[N+R],H)}function vt(k,N,R,H,Z){var te;for(te=0;te<R;++te){var re=k[N+te],ae=re>>8&255,ie=16711935&(ie=(ie=16711935&re)+((ae<<16)+ae));H[Z+te]=(4278255360&re)+ie>>>0}}function tt(k,N){N.jd=k>>0&255,N.hd=k>>8&255,N.ud=k>>16&255}function je(k,N,R,H,Z,te){var re;for(re=0;re<H;++re){var ae=N[R+re],ie=ae>>>8,ce=ae,pe=255&(pe=(pe=ae>>>16)+((k.jd<<24>>24)*(ie<<24>>24)>>>5));ce=255&(ce=(ce=ce+((k.hd<<24>>24)*(ie<<24>>24)>>>5))+((k.ud<<24>>24)*(pe<<24>>24)>>>5)),Z[te+re]=(4278255360&ae)+(pe<<16)+ce}}function ve(k,N,R,H,Z){A[N]=function(te,re,ae,ie,ce,pe,Ae,Pe,we){for(ie=Ae;ie<Pe;++ie)for(Ae=0;Ae<we;++Ae)ce[pe++]=Z(ae[H(te[re++])])},A[k]=function(te,re,ae,ie,ce,pe,Ae){var Pe=8>>te.b,we=te.Ea,qe=te.K[0],Oe=te.w;if(8>Pe)for(te=(1<<te.b)-1,Oe=(1<<Pe)-1;re<ae;++re){var ge,be=0;for(ge=0;ge<we;++ge)ge&te||(be=H(ie[ce++])),pe[Ae++]=Z(qe[be&Oe]),be>>=Pe}else A["VP8LMapColor"+R](ie,ce,qe,Oe,pe,Ae,re,ae,we)}}function Me(k,N,R,H,Z){for(R=N+R;N<R;){var te=k[N++];H[Z++]=te>>16&255,H[Z++]=te>>8&255,H[Z++]=te>>0&255}}function Je(k,N,R,H,Z){for(R=N+R;N<R;){var te=k[N++];H[Z++]=te>>16&255,H[Z++]=te>>8&255,H[Z++]=te>>0&255,H[Z++]=te>>24&255}}function pt(k,N,R,H,Z){for(R=N+R;N<R;){var te=(re=k[N++])>>16&240|re>>12&15,re=re>>0&240|re>>28&15;H[Z++]=te,H[Z++]=re}}function ut(k,N,R,H,Z){for(R=N+R;N<R;){var te=(re=k[N++])>>16&248|re>>13&7,re=re>>5&224|re>>3&31;H[Z++]=te,H[Z++]=re}}function Ke(k,N,R,H,Z){for(R=N+R;N<R;){var te=k[N++];H[Z++]=te>>0&255,H[Z++]=te>>8&255,H[Z++]=te>>16&255}}function wt(k,N,R,H,Z,te){if(te==0)for(R=N+R;N<R;)ye(H,((te=k[N++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),Z+=32;else n(H,Z,k,N,R)}function er(k,N){A[N][0]=A[k+"0"],A[N][1]=A[k+"1"],A[N][2]=A[k+"2"],A[N][3]=A[k+"3"],A[N][4]=A[k+"4"],A[N][5]=A[k+"5"],A[N][6]=A[k+"6"],A[N][7]=A[k+"7"],A[N][8]=A[k+"8"],A[N][9]=A[k+"9"],A[N][10]=A[k+"10"],A[N][11]=A[k+"11"],A[N][12]=A[k+"12"],A[N][13]=A[k+"13"],A[N][14]=A[k+"0"],A[N][15]=A[k+"0"]}function It(k){return k==ev||k==tv||k==Ng||k==rv}function fn(){this.eb=[],this.size=this.A=this.fb=0}function tr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Mr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new fn,this.f.kb=new tr,this.sd=null}function hr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ne(k){return alert("todo:WebPSamplerProcessPlane"),k.T}function oe(k,N){var R=k.T,H=N.ba.f.RGBA,Z=H.eb,te=H.fb+k.ka*H.A,re=Is[N.ba.S],ae=k.y,ie=k.O,ce=k.f,pe=k.N,Ae=k.ea,Pe=k.W,we=N.cc,qe=N.dc,Oe=N.Mc,ge=N.Nc,be=k.ka,$e=k.ka+k.T,Ze=k.U,We=Ze+1>>1;for(be==0?re(ae,ie,null,null,ce,pe,Ae,Pe,ce,pe,Ae,Pe,Z,te,null,null,Ze):(re(N.ec,N.fc,ae,ie,we,qe,Oe,ge,ce,pe,Ae,Pe,Z,te-H.A,Z,te,Ze),++R);be+2<$e;be+=2)we=ce,qe=pe,Oe=Ae,ge=Pe,pe+=k.Rc,Pe+=k.Rc,te+=2*H.A,re(ae,(ie+=2*k.fa)-k.fa,ae,ie,we,qe,Oe,ge,ce,pe,Ae,Pe,Z,te-H.A,Z,te,Ze);return ie+=k.fa,k.j+$e<k.o?(n(N.ec,N.fc,ae,ie,Ze),n(N.cc,N.dc,ce,pe,We),n(N.Mc,N.Nc,Ae,Pe,We),R--):1&$e||re(ae,ie,null,null,ce,pe,Ae,Pe,ce,pe,Ae,Pe,Z,te+H.A,null,null,Ze),R}function me(k,N,R){var H=k.F,Z=[k.J];if(H!=null){var te=k.U,re=N.ba.S,ae=re==_g||re==Ng;N=N.ba.f.RGBA;var ie=[0],ce=k.ka;ie[0]=k.T,k.Kb&&(ce==0?--ie[0]:(--ce,Z[0]-=k.width),k.j+k.ka+k.T==k.o&&(ie[0]=k.o-k.j-ce));var pe=N.eb;ce=N.fb+ce*N.A,k=Br(H,Z[0],k.width,te,ie,pe,ce+(ae?0:3),N.A),e(R==ie),k&&It(re)&&Rs(pe,ce,ae,te,ie,N.A)}return 0}function _e(k){var N=k.ma,R=N.ba.S,H=11>R,Z=R==Sg||R==jg||R==_g||R==Q1||R==12||It(R);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!zh(N.Oa,k,Z?11:12))return 0;if(Z&&It(R)&&Qe(),k.da)alert("todo:use_scaling");else{if(H){if(N.Ib=ne,k.Kb){if(R=k.U+1>>1,N.memory=s(k.U+2*R),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+k.U,N.Mc=N.cc,N.Nc=N.dc+R,N.Ib=oe,Qe()}}else alert("todo:EmitYUV");Z&&(N.Jb=me,H&&Se())}if(H&&!tk){for(k=0;256>k;++k)sT[k]=89858*(k-128)+Ag>>Eg,lT[k]=-22014*(k-128)+Ag,oT[k]=-45773*(k-128),iT[k]=113618*(k-128)+Ag>>Eg;for(k=Xh;k<sv;++k)N=76283*(k-16)+Ag>>Eg,cT[k-Xh]=is(N,255),dT[k-Xh]=is(N+8>>4,15);tk=1}return 1}function Xe(k){var N=k.ma,R=k.U,H=k.T;return e(!(1&k.ka)),0>=R||0>=H?0:(R=N.Ib(k,N),N.Jb!=null&&N.Jb(k,N,R),N.Dc+=R,1)}function nt(k){k.ma.memory=null}function He(k,N,R,H){return G(k,8)!=47?0:(N[0]=G(k,14)+1,R[0]=G(k,14)+1,H[0]=G(k,1),G(k,3)!=0?0:!k.h)}function ht(k,N){if(4>k)return k+1;var R=k-2>>1;return(2+(1&k)<<R)+G(N,R)+1}function Et(k,N){return 120<N?N-120:1<=(R=((R=WD[N-1])>>4)*k+(8-(15&R)))?R:1;var R}function lt(k,N,R){var H=U(R),Z=k[N+=255&H].g-8;return 0<Z&&(X(R,R.u+8),H=U(R),N+=k[N].value,N+=H&(1<<Z)-1),X(R,R.u+k[N].g),k[N].value}function mt(k,N,R){return R.g+=k.g,R.value+=k.value<<N>>>0,e(8>=R.g),k.g}function Pt(k,N,R){var H=k.xc;return e((N=H==0?0:k.vc[k.md*(R>>H)+(N>>H)])<k.Wb),k.Ya[N]}function sr(k,N,R,H){var Z=k.ab,te=k.c*N,re=k.C;N=re+N;var ae=R,ie=H;for(H=k.Ta,R=k.Ua;0<Z--;){var ce=k.gc[Z],pe=re,Ae=N,Pe=ae,we=ie,qe=(ie=H,ae=R,ce.Ea);switch(e(pe<Ae),e(Ae<=ce.nc),ce.hc){case 2:xg(Pe,we,(Ae-pe)*qe,ie,ae);break;case 0:var Oe=pe,ge=Ae,be=ie,$e=ae,Ze=(xt=ce).Ea;Oe==0&&(J1(Pe,we,null,null,1,be,$e),it(Pe,we+1,0,0,Ze-1,be,$e+1),we+=Ze,$e+=Ze,++Oe);for(var We=1<<xt.b,Ct=We-1,gt=Ue(Ze,xt.b),Tt=xt.K,xt=xt.w+(Oe>>xt.b)*gt;Oe<ge;){var xr=Tt,Sr=xt,fr=1;for(Vh(Pe,we,be,$e-Ze,1,be,$e);fr<Ze;){var rr=(fr&~Ct)+We;rr>Ze&&(rr=Ze),(0,Go[xr[Sr++]>>8&15])(Pe,we+ +fr,be,$e+fr-Ze,rr-fr,be,$e+fr),fr=rr}we+=Ze,$e+=Ze,++Oe&Ct||(xt+=gt)}Ae!=ce.nc&&n(ie,ae-qe,ie,ae+(Ae-pe-1)*qe,qe);break;case 1:for(qe=Pe,ge=we,Ze=(Pe=ce.Ea)-($e=Pe&~(be=(we=1<<ce.b)-1)),Oe=Ue(Pe,ce.b),We=ce.K,ce=ce.w+(pe>>ce.b)*Oe;pe<Ae;){for(Ct=We,gt=ce,Tt=new ze,xt=ge+$e,xr=ge+Pe;ge<xt;)tt(Ct[gt++],Tt),ic(Tt,qe,ge,we,ie,ae),ge+=we,ae+=we;ge<xr&&(tt(Ct[gt++],Tt),ic(Tt,qe,ge,Ze,ie,ae),ge+=Ze,ae+=Ze),++pe&be||(ce+=Oe)}break;case 3:if(Pe==ie&&we==ae&&0<ce.b){for(ge=ie,Pe=qe=ae+(Ae-pe)*qe-($e=(Ae-pe)*Ue(ce.Ea,ce.b)),we=ie,be=ae,Oe=[],$e=(Ze=$e)-1;0<=$e;--$e)Oe[$e]=we[be+$e];for($e=Ze-1;0<=$e;--$e)ge[Pe+$e]=Oe[$e];Ls(ce,pe,Ae,ie,qe,ie,ae)}else Ls(ce,pe,Ae,Pe,we,ie,ae)}ae=H,ie=R}ie!=R&&n(H,R,ae,ie,te)}function Ar(k,N){var R=k.V,H=k.Ba+k.c*k.C,Z=N-k.C;if(e(N<=k.l.o),e(16>=Z),0<Z){var te=k.l,re=k.Ta,ae=k.Ua,ie=te.width;if(sr(k,Z,R,H),Z=ae=[ae],e((R=k.C)<(H=N)),e(te.v<te.va),H>te.o&&(H=te.o),R<te.j){var ce=te.j-R;R=te.j,Z[0]+=ce*ie}if(R>=H?R=0:(Z[0]+=4*te.v,te.ka=R-te.j,te.U=te.va-te.v,te.T=H-R,R=1),R){if(ae=ae[0],11>(R=k.ca).S){var pe=R.f.RGBA,Ae=(H=R.S,Z=te.U,te=te.T,ce=pe.eb,pe.A),Pe=te;for(pe=pe.fb+k.Ma*pe.A;0<Pe--;){var we=re,qe=ae,Oe=Z,ge=ce,be=pe;switch(H){case Cg:Ha(we,qe,Oe,ge,be);break;case Sg:Na(we,qe,Oe,ge,be);break;case ev:Na(we,qe,Oe,ge,be),Rs(ge,be,0,Oe,1,0);break;case q3:uo(we,qe,Oe,ge,be);break;case jg:wt(we,qe,Oe,ge,be,1);break;case tv:wt(we,qe,Oe,ge,be,1),Rs(ge,be,0,Oe,1,0);break;case _g:wt(we,qe,Oe,ge,be,0);break;case Ng:wt(we,qe,Oe,ge,be,0),Rs(ge,be,1,Oe,1,0);break;case Q1:Xo(we,qe,Oe,ge,be);break;case rv:Xo(we,qe,Oe,ge,be),Fr(ge,be,Oe,1,0);break;case Y3:co(we,qe,Oe,ge,be);break;default:e(0)}ae+=ie,pe+=Ae}k.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");e(k.Ma<=R.height)}}k.C=N,e(k.C<=k.i)}function pn(k){var N;if(0<k.ua)return 0;for(N=0;N<k.Wb;++N){var R=k.Ya[N].G,H=k.Ya[N].H;if(0<R[1][H[1]+0].g||0<R[2][H[2]+0].g||0<R[3][H[3]+0].g)return 0}return 1}function Tn(k,N,R,H,Z,te){if(k.Z!=0){var re=k.qd,ae=k.rd;for(e(Qo[k.Z]!=null);N<R;++N)Qo[k.Z](re,ae,H,Z,H,Z,te),re=H,ae=Z,Z+=te;k.qd=re,k.rd=ae}}function lr(k,N){var R=k.l.ma,H=R.Z==0||R.Z==1?k.l.j:k.C;if(H=k.C<H?H:k.C,e(N<=k.l.o),N>H){var Z=k.l.width,te=R.ca,re=R.tb+Z*H,ae=k.V,ie=k.Ba+k.c*H,ce=k.gc;e(k.ab==1),e(ce[0].hc==3),vg(ce[0],H,N,ae,ie,te,re),Tn(R,H,N,te,re,Z)}k.C=k.Ma=N}function ca(k,N,R,H,Z,te,re){var ae=k.$/H,ie=k.$%H,ce=k.m,pe=k.s,Ae=R+k.$,Pe=Ae;Z=R+H*Z;var we=R+H*te,qe=280+pe.ua,Oe=k.Pb?ae:16777216,ge=0<pe.ua?pe.Wa:null,be=pe.wc,$e=Ae<we?Pt(pe,ie,ae):null;e(k.C<te),e(we<=Z);var Ze=!1;e:for(;;){for(;Ze||Ae<we;){var We=0;if(ae>=Oe){var Ct=Ae-R;e((Oe=k).Pb),Oe.wd=Oe.m,Oe.xd=Ct,0<Oe.s.ua&&Ee(Oe.s.Wa,Oe.s.vb),Oe=ae+YD}if(ie&be||($e=Pt(pe,ie,ae)),e($e!=null),$e.Qb&&(N[Ae]=$e.qb,Ze=!0),!Ze)if(Q(ce),$e.jc){We=ce,Ct=N;var gt=Ae,Tt=$e.pd[U(We)&ea-1];e($e.jc),256>Tt.g?(X(We,We.u+Tt.g),Ct[gt]=Tt.value,We=0):(X(We,We.u+Tt.g-256),e(256<=Tt.value),We=Tt.value),We==0&&(Ze=!0)}else We=lt($e.G[0],$e.H[0],ce);if(ce.h)break;if(Ze||256>We){if(!Ze)if($e.nd)N[Ae]=($e.qb|We<<8)>>>0;else{if(Q(ce),Ze=lt($e.G[1],$e.H[1],ce),Q(ce),Ct=lt($e.G[2],$e.H[2],ce),gt=lt($e.G[3],$e.H[3],ce),ce.h)break;N[Ae]=(gt<<24|Ze<<16|We<<8|Ct)>>>0}if(Ze=!1,++Ae,++ie>=H&&(ie=0,++ae,re!=null&&ae<=te&&!(ae%16)&&re(k,ae),ge!=null))for(;Pe<Ae;)We=N[Pe++],ge.X[(506832829*We&4294967295)>>>ge.Mb]=We}else if(280>We){if(We=ht(We-256,ce),Ct=lt($e.G[4],$e.H[4],ce),Q(ce),Ct=Et(H,Ct=ht(Ct,ce)),ce.h)break;if(Ae-R<Ct||Z-Ae<We)break e;for(gt=0;gt<We;++gt)N[Ae+gt]=N[Ae+gt-Ct];for(Ae+=We,ie+=We;ie>=H;)ie-=H,++ae,re!=null&&ae<=te&&!(ae%16)&&re(k,ae);if(e(Ae<=Z),ie&be&&($e=Pt(pe,ie,ae)),ge!=null)for(;Pe<Ae;)We=N[Pe++],ge.X[(506832829*We&4294967295)>>>ge.Mb]=We}else{if(!(We<qe))break e;for(Ze=We-280,e(ge!=null);Pe<Ae;)We=N[Pe++],ge.X[(506832829*We&4294967295)>>>ge.Mb]=We;We=Ae,e(!(Ze>>>(Ct=ge).Xa)),N[We]=Ct.X[Ze],Ze=!0}Ze||e(ce.h==$(ce))}if(k.Pb&&ce.h&&Ae<Z)e(k.m.h),k.a=5,k.m=k.wd,k.$=k.xd,0<k.s.ua&&Ee(k.s.vb,k.s.Wa);else{if(ce.h)break e;re!=null&&re(k,ae>te?te:ae),k.a=0,k.$=Ae-R}return 1}return k.a=3,0}function Sa(k){e(k!=null),k.vc=null,k.yc=null,k.Ya=null;var N=k.Wa;N!=null&&(N.X=null),k.vb=null,e(k!=null)}function Kn(){var k=new Z1;return k==null?null:(k.a=0,k.xb=Z3,er("Predictor","VP8LPredictors"),er("Predictor","VP8LPredictors_C"),er("PredictorAdd","VP8LPredictorsAdd"),er("PredictorAdd","VP8LPredictorsAdd_C"),xg=vt,ic=je,Ha=Me,Na=Je,Xo=pt,co=ut,uo=Ke,A.VP8LMapColor32b=Ld,A.VP8LMapColor8b=bg,k)}function Qn(k,N,R,H,Z){var te=1,re=[k],ae=[N],ie=H.m,ce=H.s,pe=null,Ae=0;e:for(;;){if(R)for(;te&&G(ie,1);){var Pe=re,we=ae,qe=H,Oe=1,ge=qe.m,be=qe.gc[qe.ab],$e=G(ge,2);if(qe.Oc&1<<$e)te=0;else{switch(qe.Oc|=1<<$e,be.hc=$e,be.Ea=Pe[0],be.nc=we[0],be.K=[null],++qe.ab,e(4>=qe.ab),$e){case 0:case 1:be.b=G(ge,3)+2,Oe=Qn(Ue(be.Ea,be.b),Ue(be.nc,be.b),0,qe,be.K),be.K=be.K[0];break;case 3:var Ze,We=G(ge,8)+1,Ct=16<We?0:4<We?1:2<We?2:3;if(Pe[0]=Ue(be.Ea,Ct),be.b=Ct,Ze=Oe=Qn(We,1,0,qe,be.K)){var gt,Tt=We,xt=be,xr=1<<(8>>xt.b),Sr=s(xr);if(Sr==null)Ze=0;else{var fr=xt.K[0],rr=xt.w;for(Sr[0]=xt.K[0][0],gt=1;gt<1*Tt;++gt)Sr[gt]=ke(fr[rr+gt],Sr[gt-1]);for(;gt<4*xr;++gt)Sr[gt]=0;xt.K[0]=null,xt.K[0]=Sr,Ze=1}}Oe=Ze;break;case 2:break;default:e(0)}te=Oe}}if(re=re[0],ae=ae[0],te&&G(ie,1)&&!(te=1<=(Ae=G(ie,4))&&11>=Ae)){H.a=3;break e}var Ir;if(Ir=te)t:{var Pr,Wt,_n,Ua=H,Nn=re,Va=ae,jr=Ae,ls=R,cs=Ua.m,Vn=Ua.s,ta=[null],Aa=1,Os=0,Oi=qD[jr];r:for(;;){if(ls&&G(cs,1)){var $n=G(cs,3)+2,go=Ue(Nn,$n),uc=Ue(Va,$n),Id=go*uc;if(!Qn(go,uc,0,Ua,ta))break r;for(ta=ta[0],Vn.xc=$n,Pr=0;Pr<Id;++Pr){var el=ta[Pr]>>8&65535;ta[Pr]=el,el>=Aa&&(Aa=el+1)}}if(cs.h)break r;for(Wt=0;5>Wt;++Wt){var ln=G3[Wt];!Wt&&0<jr&&(ln+=1<<jr),Os<ln&&(Os=ln)}var iv=i(Aa*Oi,D),ak=Aa,sk=i(ak,I);if(sk==null)var Lg=null;else e(65536>=ak),Lg=sk;var Zh=s(Os);if(Lg==null||Zh==null||iv==null){Ua.a=1;break r}var Dg=iv;for(Pr=_n=0;Pr<Aa;++Pr){var si=Lg[Pr],Od=si.G,Fd=si.H,ik=0,Tg=1,ok=0;for(Wt=0;5>Wt;++Wt){ln=G3[Wt],Od[Wt]=Dg,Fd[Wt]=_n,!Wt&&0<jr&&(ln+=1<<jr);a:{var Rg,ov=ln,Mg=Ua,Jh=Zh,fT=Dg,pT=_n,lv=0,tl=Mg.m,gT=G(tl,1);if(a(Jh,0,0,ov),gT){var mT=G(tl,1)+1,xT=G(tl,1),lk=G(tl,xT==0?1:8);Jh[lk]=1,mT==2&&(Jh[lk=G(tl,8)]=1);var Ig=1}else{var ck=s(19),dk=G(tl,4)+4;if(19<dk){Mg.a=3;var Og=0;break a}for(Rg=0;Rg<dk;++Rg)ck[$D[Rg]]=G(tl,3);var cv=void 0,Kh=void 0,uk=Mg,vT=ck,Fg=ov,hk=Jh,dv=0,rl=uk.m,fk=8,pk=i(128,D);n:for(;L(pk,0,7,vT,19);){if(G(rl,1)){var bT=2+2*G(rl,3);if((cv=2+G(rl,bT))>Fg)break n}else cv=Fg;for(Kh=0;Kh<Fg&&cv--;){Q(rl);var gk=pk[0+(127&U(rl))];X(rl,rl.u+gk.g);var Bd=gk.value;if(16>Bd)hk[Kh++]=Bd,Bd!=0&&(fk=Bd);else{var yT=Bd==16,mk=Bd-16,wT=UD[mk],xk=G(rl,HD[mk])+wT;if(Kh+xk>Fg)break n;for(var kT=yT?fk:0;0<xk--;)hk[Kh++]=kT}}dv=1;break n}dv||(uk.a=3),Ig=dv}(Ig=Ig&&!tl.h)&&(lv=L(fT,pT,8,Jh,ov)),Ig&&lv!=0?Og=lv:(Mg.a=3,Og=0)}if(Og==0)break r;if(Tg&&VD[Wt]==1&&(Tg=Dg[_n].g==0),ik+=Dg[_n].g,_n+=Og,3>=Wt){var Qh,uv=Zh[0];for(Qh=1;Qh<ln;++Qh)Zh[Qh]>uv&&(uv=Zh[Qh]);ok+=uv}}if(si.nd=Tg,si.Qb=0,Tg&&(si.qb=(Od[3][Fd[3]+0].value<<24|Od[1][Fd[1]+0].value<<16|Od[2][Fd[2]+0].value)>>>0,ik==0&&256>Od[0][Fd[0]+0].value&&(si.Qb=1,si.qb+=Od[0][Fd[0]+0].value<<8)),si.jc=!si.Qb&&6>ok,si.jc){var Bg,mo=si;for(Bg=0;Bg<ea;++Bg){var nl=Bg,al=mo.pd[nl],zg=mo.G[0][mo.H[0]+nl];256<=zg.value?(al.g=zg.g+256,al.value=zg.value):(al.g=0,al.value=0,nl>>=mt(zg,8,al),nl>>=mt(mo.G[1][mo.H[1]+nl],16,al),nl>>=mt(mo.G[2][mo.H[2]+nl],0,al),mt(mo.G[3][mo.H[3]+nl],24,al))}}}Vn.vc=ta,Vn.Wb=Aa,Vn.Ya=Lg,Vn.yc=iv,Ir=1;break t}Ir=0}if(!(te=Ir)){H.a=3;break e}if(0<Ae){if(ce.ua=1<<Ae,!et(ce.Wa,Ae)){H.a=1,te=0;break e}}else ce.ua=0;var hv=H,vk=re,CT=ae,fv=hv.s,pv=fv.xc;if(hv.c=vk,hv.i=CT,fv.md=Ue(vk,pv),fv.wc=pv==0?-1:(1<<pv)-1,R){H.xb=eT;break e}if((pe=s(re*ae))==null){H.a=1,te=0;break e}te=(te=ca(H,pe,0,re,ae,ae,null))&&!ie.h;break e}return te?(Z!=null?Z[0]=pe:(e(pe==null),e(R)),H.$=0,R||Sa(ce)):Sa(ce),te}function Es(k,N){var R=k.c*k.i,H=R+N+16*N;return e(k.c<=N),k.V=s(H),k.V==null?(k.Ta=null,k.Ua=0,k.a=1,0):(k.Ta=k.V,k.Ua=k.Ba+R+N,1)}function As(k,N){var R=k.C,H=N-R,Z=k.V,te=k.Ba+k.c*R;for(e(N<=k.l.o);0<H;){var re=16<H?16:H,ae=k.l.ma,ie=k.l.width,ce=ie*re,pe=ae.ca,Ae=ae.tb+ie*R,Pe=k.Ta,we=k.Ua;sr(k,re,Z,te),bn(Pe,we,pe,Ae,ce),Tn(ae,R,R+re,pe,Ae,ie),H-=re,Z+=re*k.c,R+=re}e(R==N),k.C=k.Ma=N}function gn(){this.ub=this.yd=this.td=this.Rb=0}function ss(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function mn(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ql(){this.Yb=function(){var k=[];return function N(R,H,Z){for(var te=Z[H],re=0;re<te&&(R.push(Z.length>H+1?[]:0),!(Z.length<H+1));re++)N(R[re],H+1,Z)}(k,0,[3,11]),k}()}function $r(){this.jb=s(3),this.Wc=l([4,8],Ql),this.Xc=l([4,17],Ql)}function Hn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ti(){this.ld=this.La=this.dd=this.tc=0}function ja(){this.Na=this.la=0}function Ps(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function _a(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ec(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ti),this.Y=0,this.ya=Array(new _a),this.aa=0,this.l=new Fa}function $o(){this.y=s(16),this.f=s(8),this.ea=s(8)}function tc(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new gn,this.Kc=new ss,this.ed=new Hn,this.Qa=new mn,this.Ic=this.$c=this.Aa=0,this.D=new ec,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,q),this.ia=0,this.pb=i(4,Ps),this.Pa=new $r,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $o),this.Hd=0,this.rb=Array(new ja),this.sb=0,this.wa=Array(new Ti),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new _a),this.L=this.aa=0,this.gd=l([4,2],Ti),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Fa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function D1(){var k=new tc;return k!=null&&(k.a=0,k.sc="OK",k.cb=0,k.Xb=0,Gh||(Gh=rg)),k}function xn(k,N,R){return k.a==0&&(k.a=N,k.sc=R,k.cb=0),0}function eg(k,N,R){return 3<=R&&k[N+0]==157&&k[N+1]==1&&k[N+2]==42}function tg(k,N){if(k==null)return 0;if(k.a=0,k.sc="OK",N==null)return xn(k,2,"null VP8Io passed to VP8GetHeaders()");var R=N.data,H=N.w,Z=N.ha;if(4>Z)return xn(k,7,"Truncated header.");var te=R[H+0]|R[H+1]<<8|R[H+2]<<16,re=k.Od;if(re.Rb=!(1&te),re.td=te>>1&7,re.yd=te>>4&1,re.ub=te>>5,3<re.td)return xn(k,3,"Incorrect keyframe parameters.");if(!re.yd)return xn(k,4,"Frame not displayable.");H+=3,Z-=3;var ae=k.Kc;if(re.Rb){if(7>Z)return xn(k,7,"cannot parse picture header");if(!eg(R,H,Z))return xn(k,3,"Bad code word");ae.c=16383&(R[H+4]<<8|R[H+3]),ae.Td=R[H+4]>>6,ae.i=16383&(R[H+6]<<8|R[H+5]),ae.Ud=R[H+6]>>6,H+=7,Z-=7,k.za=ae.c+15>>4,k.Ub=ae.i+15>>4,N.width=ae.c,N.height=ae.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,a((te=k.Pa).jb,0,255,te.jb.length),e((te=k.Qa)!=null),te.Cb=0,te.Bb=0,te.Fb=1,a(te.Zb,0,0,te.Zb.length),a(te.Lb,0,0,te.Lb)}if(re.ub>Z)return xn(k,7,"bad partition length");B(te=k.m,R,H,re.ub),H+=re.ub,Z-=re.ub,re.Rb&&(ae.Ld=le(te),ae.Kd=le(te)),ae=k.Qa;var ie,ce=k.Pa;if(e(te!=null),e(ae!=null),ae.Cb=le(te),ae.Cb){if(ae.Bb=le(te),le(te)){for(ae.Fb=le(te),ie=0;4>ie;++ie)ae.Zb[ie]=le(te)?V(te,7):0;for(ie=0;4>ie;++ie)ae.Lb[ie]=le(te)?V(te,6):0}if(ae.Bb)for(ie=0;3>ie;++ie)ce.jb[ie]=le(te)?z(te,8):255}else ae.Bb=0;if(te.Ka)return xn(k,3,"cannot parse segment header");if((ae=k.ed).zd=le(te),ae.Tb=z(te,6),ae.wb=z(te,3),ae.Pc=le(te),ae.Pc&&le(te)){for(ce=0;4>ce;++ce)le(te)&&(ae.vd[ce]=V(te,6));for(ce=0;4>ce;++ce)le(te)&&(ae.od[ce]=V(te,6))}if(k.L=ae.Tb==0?0:ae.zd?1:2,te.Ka)return xn(k,3,"cannot parse filter header");var pe=Z;if(Z=ie=H,H=ie+pe,ae=pe,k.Xb=(1<<z(k.m,2))-1,pe<3*(ce=k.Xb))R=7;else{for(ie+=3*ce,ae-=3*ce,pe=0;pe<ce;++pe){var Ae=R[Z+0]|R[Z+1]<<8|R[Z+2]<<16;Ae>ae&&(Ae=ae),B(k.Jc[+pe],R,ie,Ae),ie+=Ae,ae-=Ae,Z+=3}B(k.Jc[+ce],R,ie,ae),R=ie<H?0:5}if(R!=0)return xn(k,R,"cannot parse partitions");for(R=z(ie=k.m,7),Z=le(ie)?V(ie,4):0,H=le(ie)?V(ie,4):0,ae=le(ie)?V(ie,4):0,ce=le(ie)?V(ie,4):0,ie=le(ie)?V(ie,4):0,pe=k.Qa,Ae=0;4>Ae;++Ae){if(pe.Cb){var Pe=pe.Zb[Ae];pe.Fb||(Pe+=R)}else{if(0<Ae){k.pb[Ae]=k.pb[0];continue}Pe=R}var we=k.pb[Ae];we.Sc[0]=nv[is(Pe+Z,127)],we.Sc[1]=av[is(Pe+0,127)],we.Eb[0]=2*nv[is(Pe+H,127)],we.Eb[1]=101581*av[is(Pe+ae,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=nv[is(Pe+ce,117)],we.Qc[1]=av[is(Pe+ie,127)],we.lc=Pe+ie}if(!re.Rb)return xn(k,4,"Not a key frame.");for(le(te),re=k.Pa,R=0;4>R;++R){for(Z=0;8>Z;++Z)for(H=0;3>H;++H)for(ae=0;11>ae;++ae)ce=ue(te,KD[R][Z][H][ae])?z(te,8):ZD[R][Z][H][ae],re.Wc[R][Z].Yb[H][ae]=ce;for(Z=0;17>Z;++Z)re.Xc[R][Z]=re.Wc[R][QD[Z]]}return k.kc=le(te),k.kc&&(k.Bd=z(te,8)),k.cb=1}function rg(k,N,R,H,Z,te,re){var ae=N[Z].Yb[R];for(R=0;16>Z;++Z){if(!ue(k,ae[R+0]))return Z;for(;!ue(k,ae[R+1]);)if(ae=N[++Z].Yb[0],R=0,Z==16)return 16;var ie=N[Z+1].Yb;if(ue(k,ae[R+2])){var ce=k,pe=0;if(ue(ce,(Pe=ae)[(Ae=R)+3]))if(ue(ce,Pe[Ae+6])){for(ae=0,Ae=2*(pe=ue(ce,Pe[Ae+8]))+(Pe=ue(ce,Pe[Ae+9+pe])),pe=0,Pe=GD[Ae];Pe[ae];++ae)pe+=pe+ue(ce,Pe[ae]);pe+=3+(8<<Ae)}else ue(ce,Pe[Ae+7])?(pe=7+2*ue(ce,165),pe+=ue(ce,145)):pe=5+ue(ce,159);else pe=ue(ce,Pe[Ae+4])?3+ue(ce,Pe[Ae+5]):2;ae=ie[2]}else pe=1,ae=ie[1];ie=re+XD[Z],0>(ce=k).b&&se(ce);var Ae,Pe=ce.b,we=(Ae=ce.Ca>>1)-(ce.I>>Pe)>>31;--ce.b,ce.Ca+=we,ce.Ca|=1,ce.I-=(Ae+1&we)<<Pe,te[ie]=((pe^we)-we)*H[(0<Z)+0]}return 16}function jh(k){var N=k.rb[k.sb-1];N.la=0,N.Na=0,a(k.zc,0,0,k.zc.length),k.ja=0}function T1(k,N){if(k==null)return 0;if(N==null)return xn(k,2,"NULL VP8Io parameter in VP8Decode().");if(!k.cb&&!tg(k,N))return 0;if(e(k.cb),N.ac==null||N.ac(N)){N.ob&&(k.L=0);var R=Pg[k.L];if(k.L==2?(k.yb=0,k.zb=0):(k.yb=N.v-R>>4,k.zb=N.j-R>>4,0>k.yb&&(k.yb=0),0>k.zb&&(k.zb=0)),k.Va=N.o+15+R>>4,k.Hb=N.va+15+R>>4,k.Hb>k.za&&(k.Hb=k.za),k.Va>k.Ub&&(k.Va=k.Ub),0<k.L){var H=k.ed;for(R=0;4>R;++R){var Z;if(k.Qa.Cb){var te=k.Qa.Lb[R];k.Qa.Fb||(te+=H.Tb)}else te=H.Tb;for(Z=0;1>=Z;++Z){var re=k.gd[R][Z],ae=te;if(H.Pc&&(ae+=H.vd[0],Z&&(ae+=H.od[0])),0<(ae=0>ae?0:63<ae?63:ae)){var ie=ae;0<H.wb&&(ie=4<H.wb?ie>>2:ie>>1)>9-H.wb&&(ie=9-H.wb),1>ie&&(ie=1),re.dd=ie,re.tc=2*ae+ie,re.ld=40<=ae?2:15<=ae?1:0}else re.tc=0;re.La=Z}}}R=0}else xn(k,6,"Frame setup failed"),R=k.a;if(R=R==0){if(R){k.$c=0,0<k.Aa||(k.Ic=hT);e:{R=k.Ic,H=4*(ie=k.za);var ce=32*ie,pe=ie+1,Ae=0<k.L?ie*(0<k.Aa?2:1):0,Pe=(k.Aa==2?2:1)*ie;if((re=H+832+(Z=3*(16*R+Pg[k.L])/2*ce)+(te=k.Fa!=null&&0<k.Fa.length?k.Kc.c*k.Kc.i:0))!=re)R=0;else{if(re>k.Vb){if(k.Vb=0,k.Ec=s(re),k.Fc=0,k.Ec==null){R=xn(k,1,"no memory during frame initialization.");break e}k.Vb=re}re=k.Ec,ae=k.Fc,k.Ac=re,k.Bc=ae,ae+=H,k.Gd=i(ce,$o),k.Hd=0,k.rb=i(pe+1,ja),k.sb=1,k.wa=Ae?i(Ae,Ti):null,k.Y=0,k.D.Nb=0,k.D.wa=k.wa,k.D.Y=k.Y,0<k.Aa&&(k.D.Y+=ie),e(!0),k.oc=re,k.pc=ae,ae+=832,k.ya=i(Pe,_a),k.aa=0,k.D.ya=k.ya,k.D.aa=k.aa,k.Aa==2&&(k.D.aa+=ie),k.R=16*ie,k.B=8*ie,ie=(ce=Pg[k.L])*k.R,ce=ce/2*k.B,k.sa=re,k.ta=ae+ie,k.qa=k.sa,k.ra=k.ta+16*R*k.R+ce,k.Ha=k.qa,k.Ia=k.ra+8*R*k.B+ce,k.$c=0,ae+=Z,k.mb=te?re:null,k.nb=te?ae:null,e(ae+te<=k.Fc+k.Vb),jh(k),a(k.Ac,k.Bc,0,H),R=1}}if(R){if(N.ka=0,N.y=k.sa,N.O=k.ta,N.f=k.qa,N.N=k.ra,N.ea=k.Ha,N.Vd=k.Ia,N.fa=k.R,N.Rc=k.B,N.F=null,N.J=0,!wg){for(R=-255;255>=R;++R)Rn[255+R]=0>R?-R:R;for(R=-1020;1020>=R;++R)fo[1020+R]=-128>R?-128:127<R?127:R;for(R=-112;112>=R;++R)Yh[112+R]=-16>R?-16:15<R?15:R;for(R=-255;510>=R;++R)Md[255+R]=0>R?0:255<R?255:R;wg=1}Dd=I1,ho=R1,$h=ag,Ea=M1,Ds=sg,vn=ng,Td=Lh,yg=ac,Wh=X1,oc=Dh,lc=G1,Zo=Cd,cc=Th,Rd=pg,dc=fg,Jo=Mi,qh=lo,Ts=Y1,ai[0]=Ri,ai[1]=O1,ai[2]=H1,ai[3]=U1,ai[4]=lg,ai[5]=wd,ai[6]=cg,ai[7]=Eh,ai[8]=$1,ai[9]=V1,Ko[0]=ig,Ko[1]=B1,Ko[2]=oo,Ko[3]=bd,Ko[4]=da,Ko[5]=z1,Ko[6]=og,po[0]=Wo,po[1]=F1,po[2]=W1,po[3]=Ah,po[4]=nc,po[5]=q1,po[6]=Ph,R=1}else R=0}R&&(R=function(we,qe){for(we.M=0;we.M<we.Va;++we.M){var Oe,ge=we.Jc[we.M&we.Xb],be=we.m,$e=we;for(Oe=0;Oe<$e.za;++Oe){var Ze=be,We=$e,Ct=We.Ac,gt=We.Bc+4*Oe,Tt=We.zc,xt=We.ya[We.aa+Oe];if(We.Qa.Bb?xt.$b=ue(Ze,We.Pa.jb[0])?2+ue(Ze,We.Pa.jb[2]):ue(Ze,We.Pa.jb[1]):xt.$b=0,We.kc&&(xt.Ad=ue(Ze,We.Bd)),xt.Za=!ue(Ze,145)+0,xt.Za){var xr=xt.Ob,Sr=0;for(We=0;4>We;++We){var fr,rr=Tt[0+We];for(fr=0;4>fr;++fr){rr=JD[Ct[gt+fr]][rr];for(var Ir=X3[ue(Ze,rr[0])];0<Ir;)Ir=X3[2*Ir+ue(Ze,rr[Ir])];rr=-Ir,Ct[gt+fr]=rr}n(xr,Sr,Ct,gt,4),Sr+=4,Tt[0+We]=rr}}else rr=ue(Ze,156)?ue(Ze,128)?1:3:ue(Ze,163)?2:0,xt.Ob[0]=rr,a(Ct,gt,rr,4),a(Tt,0,rr,4);xt.Dd=ue(Ze,142)?ue(Ze,114)?ue(Ze,183)?1:3:2:0}if($e.m.Ka)return xn(we,7,"Premature end-of-partition0 encountered.");for(;we.ja<we.za;++we.ja){if($e=ge,Ze=(be=we).rb[be.sb-1],Ct=be.rb[be.sb+be.ja],Oe=be.ya[be.aa+be.ja],gt=be.kc?Oe.Ad:0)Ze.la=Ct.la=0,Oe.Za||(Ze.Na=Ct.Na=0),Oe.Hc=0,Oe.Gc=0,Oe.ia=0;else{var Pr,Wt;if(Ze=Ct,Ct=$e,gt=be.Pa.Xc,Tt=be.ya[be.aa+be.ja],xt=be.pb[Tt.$b],We=Tt.ad,xr=0,Sr=be.rb[be.sb-1],rr=fr=0,a(We,xr,0,384),Tt.Za)var _n=0,Ua=gt[3];else{Ir=s(16);var Nn=Ze.Na+Sr.Na;if(Nn=Gh(Ct,gt[1],Nn,xt.Eb,0,Ir,0),Ze.Na=Sr.Na=(0<Nn)+0,1<Nn)Dd(Ir,0,We,xr);else{var Va=Ir[0]+3>>3;for(Ir=0;256>Ir;Ir+=16)We[xr+Ir]=Va}_n=1,Ua=gt[0]}var jr=15&Ze.la,ls=15&Sr.la;for(Ir=0;4>Ir;++Ir){var cs=1&ls;for(Va=Wt=0;4>Va;++Va)jr=jr>>1|(cs=(Nn=Gh(Ct,Ua,Nn=cs+(1&jr),xt.Sc,_n,We,xr))>_n)<<7,Wt=Wt<<2|(3<Nn?3:1<Nn?2:We[xr+0]!=0),xr+=16;jr>>=4,ls=ls>>1|cs<<7,fr=(fr<<8|Wt)>>>0}for(Ua=jr,_n=ls>>4,Pr=0;4>Pr;Pr+=2){for(Wt=0,jr=Ze.la>>4+Pr,ls=Sr.la>>4+Pr,Ir=0;2>Ir;++Ir){for(cs=1&ls,Va=0;2>Va;++Va)Nn=cs+(1&jr),jr=jr>>1|(cs=0<(Nn=Gh(Ct,gt[2],Nn,xt.Qc,0,We,xr)))<<3,Wt=Wt<<2|(3<Nn?3:1<Nn?2:We[xr+0]!=0),xr+=16;jr>>=2,ls=ls>>1|cs<<5}rr|=Wt<<4*Pr,Ua|=jr<<4<<Pr,_n|=(240&ls)<<Pr}Ze.la=Ua,Sr.la=_n,Tt.Hc=fr,Tt.Gc=rr,Tt.ia=43690&rr?0:xt.ia,gt=!(fr|rr)}if(0<be.L&&(be.wa[be.Y+be.ja]=be.gd[Oe.$b][Oe.Za],be.wa[be.Y+be.ja].La|=!gt),$e.Ka)return xn(we,7,"Premature end-of-file encountered.")}if(jh(we),be=qe,$e=1,Oe=(ge=we).D,Ze=0<ge.L&&ge.M>=ge.zb&&ge.M<=ge.Va,ge.Aa==0)e:{if(Oe.M=ge.M,Oe.uc=Ze,Bh(ge,Oe),$e=1,Oe=(Wt=ge.D).Nb,Ze=(rr=Pg[ge.L])*ge.R,Ct=rr/2*ge.B,Ir=16*Oe*ge.R,Va=8*Oe*ge.B,gt=ge.sa,Tt=ge.ta-Ze+Ir,xt=ge.qa,We=ge.ra-Ct+Va,xr=ge.Ha,Sr=ge.Ia-Ct+Va,ls=(jr=Wt.M)==0,fr=jr>=ge.Va-1,ge.Aa==2&&Bh(ge,Wt),Wt.uc)for(cs=(Nn=ge).D.M,e(Nn.D.uc),Wt=Nn.yb;Wt<Nn.Hb;++Wt){_n=Wt,Ua=cs;var Vn=(ta=(ln=Nn).D).Nb;Pr=ln.R;var ta=ta.wa[ta.Y+_n],Aa=ln.sa,Os=ln.ta+16*Vn*Pr+16*_n,Oi=ta.dd,$n=ta.tc;if($n!=0)if(e(3<=$n),ln.L==1)0<_n&&Jo(Aa,Os,Pr,$n+4),ta.La&&Ts(Aa,Os,Pr,$n),0<Ua&&dc(Aa,Os,Pr,$n+4),ta.La&&qh(Aa,Os,Pr,$n);else{var go=ln.B,uc=ln.qa,Id=ln.ra+8*Vn*go+8*_n,el=ln.Ha,ln=ln.Ia+8*Vn*go+8*_n;Vn=ta.ld,0<_n&&(yg(Aa,Os,Pr,$n+4,Oi,Vn),oc(uc,Id,el,ln,go,$n+4,Oi,Vn)),ta.La&&(Zo(Aa,Os,Pr,$n,Oi,Vn),Rd(uc,Id,el,ln,go,$n,Oi,Vn)),0<Ua&&(Td(Aa,Os,Pr,$n+4,Oi,Vn),Wh(uc,Id,el,ln,go,$n+4,Oi,Vn)),ta.La&&(lc(Aa,Os,Pr,$n,Oi,Vn),cc(uc,Id,el,ln,go,$n,Oi,Vn))}}if(ge.ia&&alert("todo:DitherRow"),be.put!=null){if(Wt=16*jr,jr=16*(jr+1),ls?(be.y=ge.sa,be.O=ge.ta+Ir,be.f=ge.qa,be.N=ge.ra+Va,be.ea=ge.Ha,be.W=ge.Ia+Va):(Wt-=rr,be.y=gt,be.O=Tt,be.f=xt,be.N=We,be.ea=xr,be.W=Sr),fr||(jr-=rr),jr>be.o&&(jr=be.o),be.F=null,be.J=null,ge.Fa!=null&&0<ge.Fa.length&&Wt<jr&&(be.J=Oh(ge,be,Wt,jr-Wt),be.F=ge.mb,be.F==null&&be.F.length==0)){$e=xn(ge,3,"Could not decode alpha data.");break e}Wt<be.j&&(rr=be.j-Wt,Wt=be.j,e(!(1&rr)),be.O+=ge.R*rr,be.N+=ge.B*(rr>>1),be.W+=ge.B*(rr>>1),be.F!=null&&(be.J+=be.width*rr)),Wt<jr&&(be.O+=be.v,be.N+=be.v>>1,be.W+=be.v>>1,be.F!=null&&(be.J+=be.v),be.ka=Wt-be.j,be.U=be.va-be.v,be.T=jr-Wt,$e=be.put(be))}Oe+1!=ge.Ic||fr||(n(ge.sa,ge.ta-Ze,gt,Tt+16*ge.R,Ze),n(ge.qa,ge.ra-Ct,xt,We+8*ge.B,Ct),n(ge.Ha,ge.Ia-Ct,xr,Sr+8*ge.B,Ct))}if(!$e)return xn(we,6,"Output aborted.")}return 1}(k,N)),N.bc!=null&&N.bc(N),R&=1}return R?(k.cb=0,R):0}function ti(k,N,R,H,Z){Z=k[N+R+32*H]+(Z>>3),k[N+R+32*H]=-256&Z?0>Z?0:255:Z}function vd(k,N,R,H,Z,te){ti(k,N,0,R,H+Z),ti(k,N,1,R,H+te),ti(k,N,2,R,H-te),ti(k,N,3,R,H-Z)}function Ba(k){return(20091*k>>16)+k}function _h(k,N,R,H){var Z,te=0,re=s(16);for(Z=0;4>Z;++Z){var ae=k[N+0]+k[N+8],ie=k[N+0]-k[N+8],ce=(35468*k[N+4]>>16)-Ba(k[N+12]),pe=Ba(k[N+4])+(35468*k[N+12]>>16);re[te+0]=ae+pe,re[te+1]=ie+ce,re[te+2]=ie-ce,re[te+3]=ae-pe,te+=4,N++}for(Z=te=0;4>Z;++Z)ae=(k=re[te+0]+4)+re[te+8],ie=k-re[te+8],ce=(35468*re[te+4]>>16)-Ba(re[te+12]),ti(R,H,0,0,ae+(pe=Ba(re[te+4])+(35468*re[te+12]>>16))),ti(R,H,1,0,ie+ce),ti(R,H,2,0,ie-ce),ti(R,H,3,0,ae-pe),te++,H+=32}function ng(k,N,R,H){var Z=k[N+0]+4,te=35468*k[N+4]>>16,re=Ba(k[N+4]),ae=35468*k[N+1]>>16;vd(R,H,0,Z+re,k=Ba(k[N+1]),ae),vd(R,H,1,Z+te,k,ae),vd(R,H,2,Z-te,k,ae),vd(R,H,3,Z-re,k,ae)}function R1(k,N,R,H,Z){_h(k,N,R,H),Z&&_h(k,N+16,R,H+4)}function ag(k,N,R,H){ho(k,N+0,R,H,1),ho(k,N+32,R,H+128,1)}function M1(k,N,R,H){var Z;for(k=k[N+0]+4,Z=0;4>Z;++Z)for(N=0;4>N;++N)ti(R,H,N,Z,k)}function sg(k,N,R,H){k[N+0]&&Ea(k,N+0,R,H),k[N+16]&&Ea(k,N+16,R,H+4),k[N+32]&&Ea(k,N+32,R,H+128),k[N+48]&&Ea(k,N+48,R,H+128+4)}function I1(k,N,R,H){var Z,te=s(16);for(Z=0;4>Z;++Z){var re=k[N+0+Z]+k[N+12+Z],ae=k[N+4+Z]+k[N+8+Z],ie=k[N+4+Z]-k[N+8+Z],ce=k[N+0+Z]-k[N+12+Z];te[0+Z]=re+ae,te[8+Z]=re-ae,te[4+Z]=ce+ie,te[12+Z]=ce-ie}for(Z=0;4>Z;++Z)re=(k=te[0+4*Z]+3)+te[3+4*Z],ae=te[1+4*Z]+te[2+4*Z],ie=te[1+4*Z]-te[2+4*Z],ce=k-te[3+4*Z],R[H+0]=re+ae>>3,R[H+16]=ce+ie>>3,R[H+32]=re-ae>>3,R[H+48]=ce-ie>>3,H+=64}function Nh(k,N,R){var H,Z=N-32,te=os,re=255-k[Z-1];for(H=0;H<R;++H){var ae,ie=te,ce=re+k[N-1];for(ae=0;ae<R;++ae)k[N+ae]=ie[ce+k[Z+ae]];N+=32}}function O1(k,N){Nh(k,N,4)}function F1(k,N){Nh(k,N,8)}function B1(k,N){Nh(k,N,16)}function oo(k,N){var R;for(R=0;16>R;++R)n(k,N+32*R,k,N-32,16)}function bd(k,N){var R;for(R=16;0<R;--R)a(k,N,k[N-1],16),N+=32}function yd(k,N,R){var H;for(H=0;16>H;++H)a(N,R+32*H,k,16)}function ig(k,N){var R,H=16;for(R=0;16>R;++R)H+=k[N-1+32*R]+k[N+R-32];yd(H>>5,k,N)}function da(k,N){var R,H=8;for(R=0;16>R;++R)H+=k[N-1+32*R];yd(H>>4,k,N)}function z1(k,N){var R,H=8;for(R=0;16>R;++R)H+=k[N+R-32];yd(H>>4,k,N)}function og(k,N){yd(128,k,N)}function Ht(k,N,R){return k+2*N+R+2>>2}function H1(k,N){var R,H=N-32;for(H=new Uint8Array([Ht(k[H-1],k[H+0],k[H+1]),Ht(k[H+0],k[H+1],k[H+2]),Ht(k[H+1],k[H+2],k[H+3]),Ht(k[H+2],k[H+3],k[H+4])]),R=0;4>R;++R)n(k,N+32*R,H,0,H.length)}function U1(k,N){var R=k[N-1],H=k[N-1+32],Z=k[N-1+64],te=k[N-1+96];ye(k,N+0,16843009*Ht(k[N-1-32],R,H)),ye(k,N+32,16843009*Ht(R,H,Z)),ye(k,N+64,16843009*Ht(H,Z,te)),ye(k,N+96,16843009*Ht(Z,te,te))}function Ri(k,N){var R,H=4;for(R=0;4>R;++R)H+=k[N+R-32]+k[N-1+32*R];for(H>>=3,R=0;4>R;++R)a(k,N+32*R,H,4)}function lg(k,N){var R=k[N-1+0],H=k[N-1+32],Z=k[N-1+64],te=k[N-1-32],re=k[N+0-32],ae=k[N+1-32],ie=k[N+2-32],ce=k[N+3-32];k[N+0+96]=Ht(H,Z,k[N-1+96]),k[N+1+96]=k[N+0+64]=Ht(R,H,Z),k[N+2+96]=k[N+1+64]=k[N+0+32]=Ht(te,R,H),k[N+3+96]=k[N+2+64]=k[N+1+32]=k[N+0+0]=Ht(re,te,R),k[N+3+64]=k[N+2+32]=k[N+1+0]=Ht(ae,re,te),k[N+3+32]=k[N+2+0]=Ht(ie,ae,re),k[N+3+0]=Ht(ce,ie,ae)}function cg(k,N){var R=k[N+1-32],H=k[N+2-32],Z=k[N+3-32],te=k[N+4-32],re=k[N+5-32],ae=k[N+6-32],ie=k[N+7-32];k[N+0+0]=Ht(k[N+0-32],R,H),k[N+1+0]=k[N+0+32]=Ht(R,H,Z),k[N+2+0]=k[N+1+32]=k[N+0+64]=Ht(H,Z,te),k[N+3+0]=k[N+2+32]=k[N+1+64]=k[N+0+96]=Ht(Z,te,re),k[N+3+32]=k[N+2+64]=k[N+1+96]=Ht(te,re,ae),k[N+3+64]=k[N+2+96]=Ht(re,ae,ie),k[N+3+96]=Ht(ae,ie,ie)}function wd(k,N){var R=k[N-1+0],H=k[N-1+32],Z=k[N-1+64],te=k[N-1-32],re=k[N+0-32],ae=k[N+1-32],ie=k[N+2-32],ce=k[N+3-32];k[N+0+0]=k[N+1+64]=te+re+1>>1,k[N+1+0]=k[N+2+64]=re+ae+1>>1,k[N+2+0]=k[N+3+64]=ae+ie+1>>1,k[N+3+0]=ie+ce+1>>1,k[N+0+96]=Ht(Z,H,R),k[N+0+64]=Ht(H,R,te),k[N+0+32]=k[N+1+96]=Ht(R,te,re),k[N+1+32]=k[N+2+96]=Ht(te,re,ae),k[N+2+32]=k[N+3+96]=Ht(re,ae,ie),k[N+3+32]=Ht(ae,ie,ce)}function Eh(k,N){var R=k[N+0-32],H=k[N+1-32],Z=k[N+2-32],te=k[N+3-32],re=k[N+4-32],ae=k[N+5-32],ie=k[N+6-32],ce=k[N+7-32];k[N+0+0]=R+H+1>>1,k[N+1+0]=k[N+0+64]=H+Z+1>>1,k[N+2+0]=k[N+1+64]=Z+te+1>>1,k[N+3+0]=k[N+2+64]=te+re+1>>1,k[N+0+32]=Ht(R,H,Z),k[N+1+32]=k[N+0+96]=Ht(H,Z,te),k[N+2+32]=k[N+1+96]=Ht(Z,te,re),k[N+3+32]=k[N+2+96]=Ht(te,re,ae),k[N+3+64]=Ht(re,ae,ie),k[N+3+96]=Ht(ae,ie,ce)}function V1(k,N){var R=k[N-1+0],H=k[N-1+32],Z=k[N-1+64],te=k[N-1+96];k[N+0+0]=R+H+1>>1,k[N+2+0]=k[N+0+32]=H+Z+1>>1,k[N+2+32]=k[N+0+64]=Z+te+1>>1,k[N+1+0]=Ht(R,H,Z),k[N+3+0]=k[N+1+32]=Ht(H,Z,te),k[N+3+32]=k[N+1+64]=Ht(Z,te,te),k[N+3+64]=k[N+2+64]=k[N+0+96]=k[N+1+96]=k[N+2+96]=k[N+3+96]=te}function $1(k,N){var R=k[N-1+0],H=k[N-1+32],Z=k[N-1+64],te=k[N-1+96],re=k[N-1-32],ae=k[N+0-32],ie=k[N+1-32],ce=k[N+2-32];k[N+0+0]=k[N+2+32]=R+re+1>>1,k[N+0+32]=k[N+2+64]=H+R+1>>1,k[N+0+64]=k[N+2+96]=Z+H+1>>1,k[N+0+96]=te+Z+1>>1,k[N+3+0]=Ht(ae,ie,ce),k[N+2+0]=Ht(re,ae,ie),k[N+1+0]=k[N+3+32]=Ht(R,re,ae),k[N+1+32]=k[N+3+64]=Ht(H,R,re),k[N+1+64]=k[N+3+96]=Ht(Z,H,R),k[N+1+96]=Ht(te,Z,H)}function W1(k,N){var R;for(R=0;8>R;++R)n(k,N+32*R,k,N-32,8)}function Ah(k,N){var R;for(R=0;8>R;++R)a(k,N,k[N-1],8),N+=32}function rc(k,N,R){var H;for(H=0;8>H;++H)a(N,R+32*H,k,8)}function Wo(k,N){var R,H=8;for(R=0;8>R;++R)H+=k[N+R-32]+k[N-1+32*R];rc(H>>4,k,N)}function q1(k,N){var R,H=4;for(R=0;8>R;++R)H+=k[N+R-32];rc(H>>3,k,N)}function nc(k,N){var R,H=4;for(R=0;8>R;++R)H+=k[N-1+32*R];rc(H>>3,k,N)}function Ph(k,N){rc(128,k,N)}function kd(k,N,R){var H=k[N-R],Z=k[N+0],te=3*(Z-H)+K1[1020+k[N-2*R]-k[N+R]],re=kg[112+(te+4>>3)];k[N-R]=os[255+H+kg[112+(te+3>>3)]],k[N+0]=os[255+Z-re]}function dg(k,N,R,H){var Z=k[N+0],te=k[N+R];return Ms[255+k[N-2*R]-k[N-R]]>H||Ms[255+te-Z]>H}function ug(k,N,R,H){return 4*Ms[255+k[N-R]-k[N+0]]+Ms[255+k[N-2*R]-k[N+R]]<=H}function hg(k,N,R,H,Z){var te=k[N-3*R],re=k[N-2*R],ae=k[N-R],ie=k[N+0],ce=k[N+R],pe=k[N+2*R],Ae=k[N+3*R];return 4*Ms[255+ae-ie]+Ms[255+re-ce]>H?0:Ms[255+k[N-4*R]-te]<=Z&&Ms[255+te-re]<=Z&&Ms[255+re-ae]<=Z&&Ms[255+Ae-pe]<=Z&&Ms[255+pe-ce]<=Z&&Ms[255+ce-ie]<=Z}function fg(k,N,R,H){var Z=2*H+1;for(H=0;16>H;++H)ug(k,N+H,R,Z)&&kd(k,N+H,R)}function Mi(k,N,R,H){var Z=2*H+1;for(H=0;16>H;++H)ug(k,N+H*R,1,Z)&&kd(k,N+H*R,1)}function lo(k,N,R,H){var Z;for(Z=3;0<Z;--Z)fg(k,N+=4*R,R,H)}function Y1(k,N,R,H){var Z;for(Z=3;0<Z;--Z)Mi(k,N+=4,R,H)}function qo(k,N,R,H,Z,te,re,ae){for(te=2*te+1;0<Z--;){if(hg(k,N,R,te,re))if(dg(k,N,R,ae))kd(k,N,R);else{var ie=k,ce=N,pe=R,Ae=ie[ce-2*pe],Pe=ie[ce-pe],we=ie[ce+0],qe=ie[ce+pe],Oe=ie[ce+2*pe],ge=27*($e=K1[1020+3*(we-Pe)+K1[1020+Ae-qe]])+63>>7,be=18*$e+63>>7,$e=9*$e+63>>7;ie[ce-3*pe]=os[255+ie[ce-3*pe]+$e],ie[ce-2*pe]=os[255+Ae+be],ie[ce-pe]=os[255+Pe+ge],ie[ce+0]=os[255+we-ge],ie[ce+pe]=os[255+qe-be],ie[ce+2*pe]=os[255+Oe-$e]}N+=H}}function ri(k,N,R,H,Z,te,re,ae){for(te=2*te+1;0<Z--;){if(hg(k,N,R,te,re))if(dg(k,N,R,ae))kd(k,N,R);else{var ie=k,ce=N,pe=R,Ae=ie[ce-pe],Pe=ie[ce+0],we=ie[ce+pe],qe=kg[112+((Oe=3*(Pe-Ae))+4>>3)],Oe=kg[112+(Oe+3>>3)],ge=qe+1>>1;ie[ce-2*pe]=os[255+ie[ce-2*pe]+ge],ie[ce-pe]=os[255+Ae+Oe],ie[ce+0]=os[255+Pe-qe],ie[ce+pe]=os[255+we-ge]}N+=H}}function Lh(k,N,R,H,Z,te){qo(k,N,R,1,16,H,Z,te)}function ac(k,N,R,H,Z,te){qo(k,N,1,R,16,H,Z,te)}function G1(k,N,R,H,Z,te){var re;for(re=3;0<re;--re)ri(k,N+=4*R,R,1,16,H,Z,te)}function Cd(k,N,R,H,Z,te){var re;for(re=3;0<re;--re)ri(k,N+=4,1,R,16,H,Z,te)}function X1(k,N,R,H,Z,te,re,ae){qo(k,N,Z,1,8,te,re,ae),qo(R,H,Z,1,8,te,re,ae)}function Dh(k,N,R,H,Z,te,re,ae){qo(k,N,1,Z,8,te,re,ae),qo(R,H,1,Z,8,te,re,ae)}function Th(k,N,R,H,Z,te,re,ae){ri(k,N+4*Z,Z,1,8,te,re,ae),ri(R,H+4*Z,Z,1,8,te,re,ae)}function pg(k,N,R,H,Z,te,re,ae){ri(k,N+4,1,Z,8,te,re,ae),ri(R,H+4,1,Z,8,te,re,ae)}function Sd(){this.ba=new Mr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Rh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Mh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function gg(){this.ua=0,this.Wa=new ee,this.vb=new ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new I,this.yc=new D}function Z1(){this.xb=this.a=0,this.l=new Fa,this.ca=new Mr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new gg,this.ab=0,this.gc=i(4,Mh),this.Oc=0}function jd(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Fa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function sc(k,N,R,H,Z,te,re){for(k=k==null?0:k[N+0],N=0;N<re;++N)Z[te+N]=k+R[H+N]&255,k=Z[te+N]}function Ih(k,N,R,H,Z,te,re){var ae;if(k==null)sc(null,null,R,H,Z,te,re);else for(ae=0;ae<re;++ae)Z[te+ae]=k[N+ae]+R[H+ae]&255}function Yo(k,N,R,H,Z,te,re){if(k==null)sc(null,null,R,H,Z,te,re);else{var ae,ie=k[N+0],ce=ie,pe=ie;for(ae=0;ae<re;++ae)ce=pe+(ie=k[N+ae])-ce,pe=R[H+ae]+(-256&ce?0>ce?0:255:ce)&255,ce=ie,Z[te+ae]=pe}}function Oh(k,N,R,H){var Z=N.width,te=N.o;if(e(k!=null&&N!=null),0>R||0>=H||R+H>te)return null;if(!k.Cc){if(k.ga==null){var re;if(k.ga=new jd,(re=k.ga==null)||(re=N.width*N.o,e(k.Gb.length==0),k.Gb=s(re),k.Uc=0,k.Gb==null?re=0:(k.mb=k.Gb,k.nb=k.Uc,k.rc=null,re=1),re=!re),!re){re=k.ga;var ae=k.Fa,ie=k.P,ce=k.qc,pe=k.mb,Ae=k.nb,Pe=ie+1,we=ce-1,qe=re.l;if(e(ae!=null&&pe!=null&&N!=null),Qo[0]=null,Qo[1]=sc,Qo[2]=Ih,Qo[3]=Yo,re.ca=pe,re.tb=Ae,re.c=N.width,re.i=N.height,e(0<re.c&&0<re.i),1>=ce)N=0;else if(re.$a=ae[ie+0]>>0&3,re.Z=ae[ie+0]>>2&3,re.Lc=ae[ie+0]>>4&3,ie=ae[ie+0]>>6&3,0>re.$a||1<re.$a||4<=re.Z||1<re.Lc||ie)N=0;else if(qe.put=Xe,qe.ac=_e,qe.bc=nt,qe.ma=re,qe.width=N.width,qe.height=N.height,qe.Da=N.Da,qe.v=N.v,qe.va=N.va,qe.j=N.j,qe.o=N.o,re.$a)e:{e(re.$a==1),N=Kn();t:for(;;){if(N==null){N=0;break e}if(e(re!=null),re.mc=N,N.c=re.c,N.i=re.i,N.l=re.l,N.l.ma=re,N.l.width=re.c,N.l.height=re.i,N.a=0,W(N.m,ae,Pe,we),!Qn(re.c,re.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&pn(N.s)?(re.ic=1,ae=N.c*N.i,N.Ta=null,N.Ua=0,N.V=s(ae),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(re.ic=0,N=Es(N,re.c)),!N))break t;N=1;break e}re.mc=null,N=0}else N=we>=re.c*re.i;re=!N}if(re)return null;k.ga.Lc!=1?k.Ga=0:H=te-R}e(k.ga!=null),e(R+H<=te);e:{if(N=(ae=k.ga).c,te=ae.l.o,ae.$a==0){if(Pe=k.rc,we=k.Vc,qe=k.Fa,ie=k.P+1+R*N,ce=k.mb,pe=k.nb+R*N,e(ie<=k.P+k.qc),ae.Z!=0)for(e(Qo[ae.Z]!=null),re=0;re<H;++re)Qo[ae.Z](Pe,we,qe,ie,ce,pe,N),Pe=ce,we=pe,pe+=N,ie+=N;else for(re=0;re<H;++re)n(ce,pe,qe,ie,N),Pe=ce,we=pe,pe+=N,ie+=N;k.rc=Pe,k.Vc=we}else{if(e(ae.mc!=null),N=R+H,e((re=ae.mc)!=null),e(N<=re.i),re.C>=N)N=1;else if(ae.ic||Se(),ae.ic){ae=re.V,Pe=re.Ba,we=re.c;var Oe=re.i,ge=(qe=1,ie=re.$/we,ce=re.$%we,pe=re.m,Ae=re.s,re.$),be=we*Oe,$e=we*N,Ze=Ae.wc,We=ge<$e?Pt(Ae,ce,ie):null;e(ge<=be),e(N<=Oe),e(pn(Ae));t:for(;;){for(;!pe.h&&ge<$e;){if(ce&Ze||(We=Pt(Ae,ce,ie)),e(We!=null),Q(pe),256>(Oe=lt(We.G[0],We.H[0],pe)))ae[Pe+ge]=Oe,++ge,++ce>=we&&(ce=0,++ie<=N&&!(ie%16)&&lr(re,ie));else{if(!(280>Oe)){qe=0;break t}Oe=ht(Oe-256,pe);var Ct,gt=lt(We.G[4],We.H[4],pe);if(Q(pe),!(ge>=(gt=Et(we,gt=ht(gt,pe)))&&be-ge>=Oe)){qe=0;break t}for(Ct=0;Ct<Oe;++Ct)ae[Pe+ge+Ct]=ae[Pe+ge+Ct-gt];for(ge+=Oe,ce+=Oe;ce>=we;)ce-=we,++ie<=N&&!(ie%16)&&lr(re,ie);ge<$e&&ce&Ze&&(We=Pt(Ae,ce,ie))}e(pe.h==$(pe))}lr(re,ie>N?N:ie);break t}!qe||pe.h&&ge<be?(qe=0,re.a=pe.h?5:3):re.$=ge,N=qe}else N=ca(re,re.V,re.Ba,re.c,re.i,N,As);if(!N){H=0;break e}}R+H>=te&&(k.Cc=1),H=1}if(!H)return null;if(k.Cc&&((H=k.ga)!=null&&(H.mc=null),k.ga=null,0<k.Ga))return alert("todo:WebPDequantizeLevels"),null}return k.nb+R*Z}function P(k,N,R,H,Z,te){for(;0<Z--;){var re,ae=k,ie=N+(R?1:0),ce=k,pe=N+(R?0:3);for(re=0;re<H;++re){var Ae=ce[pe+4*re];Ae!=255&&(Ae*=32897,ae[ie+4*re+0]=ae[ie+4*re+0]*Ae>>23,ae[ie+4*re+1]=ae[ie+4*re+1]*Ae>>23,ae[ie+4*re+2]=ae[ie+4*re+2]*Ae>>23)}N+=te}}function J(k,N,R,H,Z){for(;0<H--;){var te;for(te=0;te<R;++te){var re=k[N+2*te+0],ae=15&(ce=k[N+2*te+1]),ie=4369*ae,ce=(240&ce|ce>>4)*ie>>16;k[N+2*te+0]=(240&re|re>>4)*ie>>16&240|(15&re|re<<4)*ie>>16>>4&15,k[N+2*te+1]=240&ce|ae}N+=Z}}function de(k,N,R,H,Z,te,re,ae){var ie,ce,pe=255;for(ce=0;ce<Z;++ce){for(ie=0;ie<H;++ie){var Ae=k[N+ie];te[re+4*ie]=Ae,pe&=Ae}N+=R,re+=ae}return pe!=255}function fe(k,N,R,H,Z){var te;for(te=0;te<Z;++te)R[H+te]=k[N+te]>>8}function Se(){Rs=P,Fr=J,Br=de,bn=fe}function Be(k,N,R){A[k]=function(H,Z,te,re,ae,ie,ce,pe,Ae,Pe,we,qe,Oe,ge,be,$e,Ze){var We,Ct=Ze-1>>1,gt=ae[ie+0]|ce[pe+0]<<16,Tt=Ae[Pe+0]|we[qe+0]<<16;e(H!=null);var xt=3*gt+Tt+131074>>2;for(N(H[Z+0],255&xt,xt>>16,Oe,ge),te!=null&&(xt=3*Tt+gt+131074>>2,N(te[re+0],255&xt,xt>>16,be,$e)),We=1;We<=Ct;++We){var xr=ae[ie+We]|ce[pe+We]<<16,Sr=Ae[Pe+We]|we[qe+We]<<16,fr=gt+xr+Tt+Sr+524296,rr=fr+2*(xr+Tt)>>3;xt=rr+gt>>1,gt=(fr=fr+2*(gt+Sr)>>3)+xr>>1,N(H[Z+2*We-1],255&xt,xt>>16,Oe,ge+(2*We-1)*R),N(H[Z+2*We-0],255&gt,gt>>16,Oe,ge+(2*We-0)*R),te!=null&&(xt=fr+Tt>>1,gt=rr+Sr>>1,N(te[re+2*We-1],255&xt,xt>>16,be,$e+(2*We-1)*R),N(te[re+2*We+0],255&gt,gt>>16,be,$e+(2*We+0)*R)),gt=xr,Tt=Sr}1&Ze||(xt=3*gt+Tt+131074>>2,N(H[Z+Ze-1],255&xt,xt>>16,Oe,ge+(Ze-1)*R),te!=null&&(xt=3*Tt+gt+131074>>2,N(te[re+Ze-1],255&xt,xt>>16,be,$e+(Ze-1)*R)))}}function Qe(){Is[Cg]=tT,Is[Sg]=J3,Is[q3]=rT,Is[jg]=K3,Is[_g]=Q3,Is[Q1]=ek,Is[Y3]=nT,Is[ev]=J3,Is[tv]=K3,Is[Ng]=Q3,Is[rv]=ek}function kt(k){return k&-16384?0>k?0:255:k>>aT}function Lt(k,N){return kt((19077*k>>8)+(26149*N>>8)-14234)}function $t(k,N,R){return kt((19077*k>>8)-(6419*N>>8)-(13320*R>>8)+8708)}function Ut(k,N){return kt((19077*k>>8)+(33050*N>>8)-17685)}function cr(k,N,R,H,Z){H[Z+0]=Lt(k,R),H[Z+1]=$t(k,N,R),H[Z+2]=Ut(k,N)}function Qr(k,N,R,H,Z){H[Z+0]=Ut(k,N),H[Z+1]=$t(k,N,R),H[Z+2]=Lt(k,R)}function on(k,N,R,H,Z){var te=$t(k,N,R);N=te<<3&224|Ut(k,N)>>3,H[Z+0]=248&Lt(k,R)|te>>5,H[Z+1]=N}function jn(k,N,R,H,Z){var te=240&Ut(k,N)|15;H[Z+0]=240&Lt(k,R)|$t(k,N,R)>>4,H[Z+1]=te}function ua(k,N,R,H,Z){H[Z+0]=255,cr(k,N,R,H,Z+1)}function Un(k,N,R,H,Z){Qr(k,N,R,H,Z),H[Z+3]=255}function ni(k,N,R,H,Z){cr(k,N,R,H,Z),H[Z+3]=255}function is(k,N){return 0>k?0:k>N?N:k}function Ii(k,N,R){A[k]=function(H,Z,te,re,ae,ie,ce,pe,Ae){for(var Pe=pe+(-2&Ae)*R;pe!=Pe;)N(H[Z+0],te[re+0],ae[ie+0],ce,pe),N(H[Z+1],te[re+0],ae[ie+0],ce,pe+R),Z+=2,++re,++ie,pe+=2*R;1&Ae&&N(H[Z+0],te[re+0],ae[ie+0],ce,pe)}}function mg(k,N,R){return R==0?k==0?N==0?6:5:N==0?4:0:R}function Fh(k,N,R,H,Z){switch(k>>>30){case 3:ho(N,R,H,Z,0);break;case 2:vn(N,R,H,Z);break;case 1:Ea(N,R,H,Z)}}function Bh(k,N){var R,H,Z=N.M,te=N.Nb,re=k.oc,ae=k.pc+40,ie=k.oc,ce=k.pc+584,pe=k.oc,Ae=k.pc+600;for(R=0;16>R;++R)re[ae+32*R-1]=129;for(R=0;8>R;++R)ie[ce+32*R-1]=129,pe[Ae+32*R-1]=129;for(0<Z?re[ae-1-32]=ie[ce-1-32]=pe[Ae-1-32]=129:(a(re,ae-32-1,127,21),a(ie,ce-32-1,127,9),a(pe,Ae-32-1,127,9)),H=0;H<k.za;++H){var Pe=N.ya[N.aa+H];if(0<H){for(R=-1;16>R;++R)n(re,ae+32*R-4,re,ae+32*R+12,4);for(R=-1;8>R;++R)n(ie,ce+32*R-4,ie,ce+32*R+4,4),n(pe,Ae+32*R-4,pe,Ae+32*R+4,4)}var we=k.Gd,qe=k.Hd+H,Oe=Pe.ad,ge=Pe.Hc;if(0<Z&&(n(re,ae-32,we[qe].y,0,16),n(ie,ce-32,we[qe].f,0,8),n(pe,Ae-32,we[qe].ea,0,8)),Pe.Za){var be=re,$e=ae-32+16;for(0<Z&&(H>=k.za-1?a(be,$e,we[qe].y[15],4):n(be,$e,we[qe+1].y,0,4)),R=0;4>R;R++)be[$e+128+R]=be[$e+256+R]=be[$e+384+R]=be[$e+0+R];for(R=0;16>R;++R,ge<<=2)be=re,$e=ae+rk[R],ai[Pe.Ob[R]](be,$e),Fh(ge,Oe,16*+R,be,$e)}else if(be=mg(H,Z,Pe.Ob[0]),Ko[be](re,ae),ge!=0)for(R=0;16>R;++R,ge<<=2)Fh(ge,Oe,16*+R,re,ae+rk[R]);for(R=Pe.Gc,be=mg(H,Z,Pe.Dd),po[be](ie,ce),po[be](pe,Ae),ge=Oe,be=ie,$e=ce,255&(Pe=R>>0)&&(170&Pe?$h(ge,256,be,$e):Ds(ge,256,be,$e)),Pe=pe,ge=Ae,255&(R>>=8)&&(170&R?$h(Oe,320,Pe,ge):Ds(Oe,320,Pe,ge)),Z<k.Ub-1&&(n(we[qe].y,0,re,ae+480,16),n(we[qe].f,0,ie,ce+224,8),n(we[qe].ea,0,pe,Ae+224,8)),R=8*te*k.B,we=k.sa,qe=k.ta+16*H+16*te*k.R,Oe=k.qa,Pe=k.ra+8*H+R,ge=k.Ha,be=k.Ia+8*H+R,R=0;16>R;++R)n(we,qe+R*k.R,re,ae+32*R,16);for(R=0;8>R;++R)n(Oe,Pe+R*k.B,ie,ce+32*R,8),n(ge,be+R*k.B,pe,Ae+32*R,8)}}function _d(k,N,R,H,Z,te,re,ae,ie){var ce=[0],pe=[0],Ae=0,Pe=ie!=null?ie.kd:0,we=ie??new Rh;if(k==null||12>R)return 7;we.data=k,we.w=N,we.ha=R,N=[N],R=[R],we.gb=[we.gb];e:{var qe=N,Oe=R,ge=we.gb;if(e(k!=null),e(Oe!=null),e(ge!=null),ge[0]=0,12<=Oe[0]&&!t(k,qe[0],"RIFF")){if(t(k,qe[0]+8,"WEBP")){ge=3;break e}var be=Ie(k,qe[0]+4);if(12>be||4294967286<be){ge=3;break e}if(Pe&&be>Oe[0]-8){ge=7;break e}ge[0]=be,qe[0]+=12,Oe[0]-=12}ge=0}if(ge!=0)return ge;for(be=0<we.gb[0],R=R[0];;){e:{var $e=k;Oe=N,ge=R;var Ze=ce,We=pe,Ct=qe=[0];if((xt=Ae=[Ae])[0]=0,8>ge[0])ge=7;else{if(!t($e,Oe[0],"VP8X")){if(Ie($e,Oe[0]+4)!=10){ge=3;break e}if(18>ge[0]){ge=7;break e}var gt=Ie($e,Oe[0]+8),Tt=1+Le($e,Oe[0]+12);if(2147483648<=Tt*($e=1+Le($e,Oe[0]+15))){ge=3;break e}Ct!=null&&(Ct[0]=gt),Ze!=null&&(Ze[0]=Tt),We!=null&&(We[0]=$e),Oe[0]+=18,ge[0]-=18,xt[0]=1}ge=0}}if(Ae=Ae[0],qe=qe[0],ge!=0)return ge;if(Oe=!!(2&qe),!be&&Ae)return 3;if(te!=null&&(te[0]=!!(16&qe)),re!=null&&(re[0]=Oe),ae!=null&&(ae[0]=0),re=ce[0],qe=pe[0],Ae&&Oe&&ie==null){ge=0;break}if(4>R){ge=7;break}if(be&&Ae||!be&&!Ae&&!t(k,N[0],"ALPH")){R=[R],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{gt=k,ge=N,be=R;var xt=we.gb;Ze=we.na,We=we.P,Ct=we.Sa,Tt=22,e(gt!=null),e(be!=null),$e=ge[0];var xr=be[0];for(e(Ze!=null),e(Ct!=null),Ze[0]=null,We[0]=null,Ct[0]=0;;){if(ge[0]=$e,be[0]=xr,8>xr){ge=7;break e}var Sr=Ie(gt,$e+4);if(4294967286<Sr){ge=3;break e}var fr=8+Sr+1&-2;if(Tt+=fr,0<xt&&Tt>xt){ge=3;break e}if(!t(gt,$e,"VP8 ")||!t(gt,$e,"VP8L")){ge=0;break e}if(xr[0]<fr){ge=7;break e}t(gt,$e,"ALPH")||(Ze[0]=gt,We[0]=$e+8,Ct[0]=Sr),$e+=fr,xr-=fr}}if(R=R[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],ge!=0)break}R=[R],we.Ja=[we.Ja],we.xa=[we.xa];e:if(xt=k,ge=N,be=R,Ze=we.gb[0],We=we.Ja,Ct=we.xa,gt=ge[0],$e=!t(xt,gt,"VP8 "),Tt=!t(xt,gt,"VP8L"),e(xt!=null),e(be!=null),e(We!=null),e(Ct!=null),8>be[0])ge=7;else{if($e||Tt){if(xt=Ie(xt,gt+4),12<=Ze&&xt>Ze-12){ge=3;break e}if(Pe&&xt>be[0]-8){ge=7;break e}We[0]=xt,ge[0]+=8,be[0]-=8,Ct[0]=Tt}else Ct[0]=5<=be[0]&&xt[gt+0]==47&&!(xt[gt+4]>>5),We[0]=be[0];ge=0}if(R=R[0],we.Ja=we.Ja[0],we.xa=we.xa[0],N=N[0],ge!=0)break;if(4294967286<we.Ja)return 3;if(ae==null||Oe||(ae[0]=we.xa?2:1),re=[re],qe=[qe],we.xa){if(5>R){ge=7;break}ae=re,Pe=qe,Oe=te,k==null||5>R?k=0:5<=R&&k[N+0]==47&&!(k[N+4]>>5)?(be=[0],xt=[0],Ze=[0],W(We=new M,k,N,R),He(We,be,xt,Ze)?(ae!=null&&(ae[0]=be[0]),Pe!=null&&(Pe[0]=xt[0]),Oe!=null&&(Oe[0]=Ze[0]),k=1):k=0):k=0}else{if(10>R){ge=7;break}ae=qe,k==null||10>R||!eg(k,N+3,R-3)?k=0:(Pe=k[N+0]|k[N+1]<<8|k[N+2]<<16,Oe=16383&(k[N+7]<<8|k[N+6]),k=16383&(k[N+9]<<8|k[N+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=we.Ja||!Oe||!k?k=0:(re&&(re[0]=Oe),ae&&(ae[0]=k),k=1))}if(!k||(re=re[0],qe=qe[0],Ae&&(ce[0]!=re||pe[0]!=qe)))return 3;ie!=null&&(ie[0]=we,ie.offset=N-ie.w,e(4294967286>N-ie.w),e(ie.offset==ie.ha-R));break}return ge==0||ge==7&&Ae&&ie==null?(te!=null&&(te[0]|=we.na!=null&&0<we.na.length),H!=null&&(H[0]=re),Z!=null&&(Z[0]=qe),0):ge}function zh(k,N,R){var H=N.width,Z=N.height,te=0,re=0,ae=H,ie=Z;if(N.Da=k!=null&&0<k.Da,N.Da&&(ae=k.cd,ie=k.bd,te=k.v,re=k.j,11>R||(te&=-2,re&=-2),0>te||0>re||0>=ae||0>=ie||te+ae>H||re+ie>Z))return 0;if(N.v=te,N.j=re,N.va=te+ae,N.o=re+ie,N.U=ae,N.T=ie,N.da=k!=null&&0<k.da,N.da){if(!Ve(ae,ie,R=[k.ib],te=[k.hb]))return 0;N.ib=R[0],N.hb=te[0]}return N.ob=k!=null&&k.ob,N.Kb=k==null||!k.Sd,N.da&&(N.ob=N.ib<3*H/4&&N.hb<3*Z/4,N.Kb=0),1}function Hh(k){if(k==null)return 2;if(11>k.S){var N=k.f.RGBA;N.fb+=(k.height-1)*N.A,N.A=-N.A}else N=k.f.kb,k=k.height,N.O+=(k-1)*N.fa,N.fa=-N.fa,N.N+=(k-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(k-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(k-1)*N.lb,N.lb=-N.lb);return 0}function Nd(k,N,R,H){if(H==null||0>=k||0>=N)return 2;if(R!=null){if(R.Da){var Z=R.cd,te=R.bd,re=-2&R.v,ae=-2&R.j;if(0>re||0>ae||0>=Z||0>=te||re+Z>k||ae+te>N)return 2;k=Z,N=te}if(R.da){if(!Ve(k,N,Z=[R.ib],te=[R.hb]))return 2;k=Z[0],N=te[0]}}H.width=k,H.height=N;e:{var ie=H.width,ce=H.height;if(k=H.S,0>=ie||0>=ce||!(k>=Cg&&13>k))k=2;else{if(0>=H.Rd&&H.sd==null){re=te=Z=N=0;var pe=(ae=ie*nk[k])*ce;if(11>k||(te=(ce+1)/2*(N=(ie+1)/2),k==12&&(re=(Z=ie)*ce)),(ce=s(pe+2*te+re))==null){k=1;break e}H.sd=ce,11>k?((ie=H.f.RGBA).eb=ce,ie.fb=0,ie.A=ae,ie.size=pe):((ie=H.f.kb).y=ce,ie.O=0,ie.fa=ae,ie.Fd=pe,ie.f=ce,ie.N=0+pe,ie.Ab=N,ie.Cd=te,ie.ea=ce,ie.W=0+pe+te,ie.Db=N,ie.Ed=te,k==12&&(ie.F=ce,ie.J=0+pe+2*te),ie.Tc=re,ie.lb=Z)}if(N=1,Z=H.S,te=H.width,re=H.height,Z>=Cg&&13>Z)if(11>Z)k=H.f.RGBA,N&=(ae=Math.abs(k.A))*(re-1)+te<=k.size,N&=ae>=te*nk[Z],N&=k.eb!=null;else{k=H.f.kb,ae=(te+1)/2,pe=(re+1)/2,ie=Math.abs(k.fa),ce=Math.abs(k.Ab);var Ae=Math.abs(k.Db),Pe=Math.abs(k.lb),we=Pe*(re-1)+te;N&=ie*(re-1)+te<=k.Fd,N&=ce*(pe-1)+ae<=k.Cd,N=(N&=Ae*(pe-1)+ae<=k.Ed)&ie>=te&ce>=ae&Ae>=ae,N&=k.y!=null,N&=k.f!=null,N&=k.ea!=null,Z==12&&(N&=Pe>=te,N&=we<=k.Tc,N&=k.F!=null)}else N=0;k=N?0:2}}return k!=0||R!=null&&R.fd&&(k=Hh(H)),k}var ea=64,Ed=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ad=24,Pd=32,Uh=8,za=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(k){return k},A.Predictor2=function(k,N,R){return N[R+0]},A.Predictor3=function(k,N,R){return N[R+1]},A.Predictor4=function(k,N,R){return N[R-1]},A.Predictor5=function(k,N,R){return Ge(Ge(k,N[R+1]),N[R+0])},A.Predictor6=function(k,N,R){return Ge(k,N[R-1])},A.Predictor7=function(k,N,R){return Ge(k,N[R+0])},A.Predictor8=function(k,N,R){return Ge(N[R-1],N[R+0])},A.Predictor9=function(k,N,R){return Ge(N[R+0],N[R+1])},A.Predictor10=function(k,N,R){return Ge(Ge(k,N[R-1]),Ge(N[R+0],N[R+1]))},A.Predictor11=function(k,N,R){var H=N[R+0];return 0>=Fe(H>>24&255,k>>24&255,(N=N[R-1])>>24&255)+Fe(H>>16&255,k>>16&255,N>>16&255)+Fe(H>>8&255,k>>8&255,N>>8&255)+Fe(255&H,255&k,255&N)?H:k},A.Predictor12=function(k,N,R){var H=N[R+0];return(dt((k>>24&255)+(H>>24&255)-((N=N[R-1])>>24&255))<<24|dt((k>>16&255)+(H>>16&255)-(N>>16&255))<<16|dt((k>>8&255)+(H>>8&255)-(N>>8&255))<<8|dt((255&k)+(255&H)-(255&N)))>>>0},A.Predictor13=function(k,N,R){var H=N[R-1];return(De((k=Ge(k,N[R+0]))>>24&255,H>>24&255)<<24|De(k>>16&255,H>>16&255)<<16|De(k>>8&255,H>>8&255)<<8|De(k>>0&255,H>>0&255))>>>0};var J1=A.PredictorAdd0;A.PredictorAdd1=it,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var Vh=A.PredictorAdd2;ve("ColorIndexInverseTransform","MapARGB","32b",function(k){return k>>8&255},function(k){return k}),ve("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(k){return k},function(k){return k>>8&255});var xg,Ls=A.ColorIndexInverseTransform,Ld=A.MapARGB,vg=A.VP8LColorIndexInverseTransformAlpha,bg=A.MapAlpha,Go=A.VP8LPredictorsAdd=[];Go.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var ic,Ha,Na,Xo,co,uo,Dd,ho,vn,$h,Ea,Ds,Td,yg,Wh,oc,lc,Zo,cc,Rd,dc,Jo,qh,Ts,Rs,Fr,Br,bn,Rn=s(511),fo=s(2041),Yh=s(225),Md=s(767),wg=0,K1=fo,kg=Yh,os=Md,Ms=Rn,Cg=0,Sg=1,q3=2,jg=3,_g=4,Q1=5,Y3=6,ev=7,tv=8,Ng=9,rv=10,HD=[2,3,7],UD=[3,3,11],G3=[280,256,256,256,40],VD=[0,1,1,1,0],$D=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],WD=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],qD=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],YD=8,nv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],av=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Gh=null,GD=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],XD=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],X3=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ZD=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],JD=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],KD=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],QD=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ko=[],ai=[],po=[],eT=1,Z3=2,Qo=[],Is=[];Be("UpsampleRgbLinePair",cr,3),Be("UpsampleBgrLinePair",Qr,3),Be("UpsampleRgbaLinePair",ni,4),Be("UpsampleBgraLinePair",Un,4),Be("UpsampleArgbLinePair",ua,4),Be("UpsampleRgba4444LinePair",jn,2),Be("UpsampleRgb565LinePair",on,2);var tT=A.UpsampleRgbLinePair,rT=A.UpsampleBgrLinePair,J3=A.UpsampleRgbaLinePair,K3=A.UpsampleBgraLinePair,Q3=A.UpsampleArgbLinePair,ek=A.UpsampleRgba4444LinePair,nT=A.UpsampleRgb565LinePair,Eg=16,Ag=1<<Eg-1,Xh=-227,sv=482,aT=6,tk=0,sT=s(256),iT=s(256),oT=s(256),lT=s(256),cT=s(sv-Xh),dT=s(sv-Xh);Ii("YuvToRgbRow",cr,3),Ii("YuvToBgrRow",Qr,3),Ii("YuvToRgbaRow",ni,4),Ii("YuvToBgraRow",Un,4),Ii("YuvToArgbRow",ua,4),Ii("YuvToRgba4444Row",jn,2),Ii("YuvToRgb565Row",on,2);var rk=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Pg=[0,2,8],uT=[8,7,6,4,4,2,2,2,1,1,1,1],hT=1;this.WebPDecodeRGBA=function(k,N,R,H,Z){var te=Sg,re=new Sd,ae=new Mr;re.ba=ae,ae.S=te,ae.width=[ae.width],ae.height=[ae.height];var ie=ae.width,ce=ae.height,pe=new hr;if(pe==null||k==null)var Ae=2;else e(pe!=null),Ae=_d(k,N,R,pe.width,pe.height,pe.Pd,pe.Qd,pe.format,null);if(Ae!=0?ie=0:(ie!=null&&(ie[0]=pe.width[0]),ce!=null&&(ce[0]=pe.height[0]),ie=1),ie){ae.width=ae.width[0],ae.height=ae.height[0],H!=null&&(H[0]=ae.width),Z!=null&&(Z[0]=ae.height);e:{if(H=new Fa,(Z=new Rh).data=k,Z.w=N,Z.ha=R,Z.kd=1,N=[0],e(Z!=null),((k=_d(Z.data,Z.w,Z.ha,null,null,null,N,null,Z))==0||k==7)&&N[0]&&(k=4),(N=k)==0){if(e(re!=null),H.data=Z.data,H.w=Z.w+Z.offset,H.ha=Z.ha-Z.offset,H.put=Xe,H.ac=_e,H.bc=nt,H.ma=re,Z.xa){if((k=Kn())==null){re=1;break e}if(function(Pe,we){var qe=[0],Oe=[0],ge=[0];t:for(;;){if(Pe==null)return 0;if(we==null)return Pe.a=2,0;if(Pe.l=we,Pe.a=0,W(Pe.m,we.data,we.w,we.ha),!He(Pe.m,qe,Oe,ge)){Pe.a=3;break t}if(Pe.xb=Z3,we.width=qe[0],we.height=Oe[0],!Qn(qe[0],Oe[0],1,Pe,null))break t;return 1}return e(Pe.a!=0),0}(k,H)){if(H=(N=Nd(H.width,H.height,re.Oa,re.ba))==0){t:{H=k;r:for(;;){if(H==null){H=0;break t}if(e(H.s.yc!=null),e(H.s.Ya!=null),e(0<H.s.Wb),e((R=H.l)!=null),e((Z=R.ma)!=null),H.xb!=0){if(H.ca=Z.ba,H.tb=Z.tb,e(H.ca!=null),!zh(Z.Oa,R,jg)){H.a=2;break r}if(!Es(H,R.width)||R.da)break r;if((R.da||It(H.ca.S))&&Se(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Se()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!et(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!ca(H,H.V,H.Ba,H.c,H.i,R.o,Ar))break r;Z.Dc=H.Ma,H=1;break t}e(H.a!=0),H=0}H=!H}H&&(N=k.a)}else N=k.a}else{if((k=new D1)==null){re=1;break e}if(k.Fa=Z.na,k.P=Z.P,k.qc=Z.Sa,tg(k,H)){if((N=Nd(H.width,H.height,re.Oa,re.ba))==0){if(k.Aa=0,R=re.Oa,e((Z=k)!=null),R!=null){if(0<(ie=0>(ie=R.Md)?0:100<ie?255:255*ie/100)){for(ce=pe=0;4>ce;++ce)12>(Ae=Z.pb[ce]).lc&&(Ae.ia=ie*uT[0>Ae.lc?0:Ae.lc]>>3),pe|=Ae.ia;pe&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=R.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}T1(k,H)||(N=k.a)}}else N=k.a}N==0&&re.Oa!=null&&re.Oa.fd&&(N=Hh(re.ba))}re=N}te=re!=0?null:11>te?ae.f.RGBA.eb:ae.f.kb.y}else te=null;return te};var nk=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(A,T){for(var F="",L=0;L<4;L++)F+=String.fromCharCode(A[T++]);return F}function u(A,T){return(A[T+0]<<0|A[T+1]<<8|A[T+2]<<16)>>>0}function h(A,T){return(A[T+0]<<0|A[T+1]<<8|A[T+2]<<16|A[T+3]<<24)>>>0}new c;var f=[0],p=[0],m=[],g=new c,v=r,x=function(A,T){var F={},L=0,D=!1,O=0,I=0;if(F.frames=[],!function(U,$,X,Q){for(var se=0;se<Q;se++)if(U[$+se]!=X.charCodeAt(se))return!0;return!1}(A,T,"RIFF",4)){for(h(A,T+=4),T+=8;T<A.length;){var B=d(A,T),z=h(A,T+=4);T+=4;var V=z+(1&z);switch(B){case"VP8 ":case"VP8L":F.frames[L]===void 0&&(F.frames[L]={}),(G=F.frames[L]).src_off=D?I:T-8,G.src_size=O+z+8,L++,D&&(D=!1,O=0,I=0);break;case"VP8X":(G=F.header={}).feature_flags=A[T];var W=T+4;G.canvas_width=1+u(A,W),W+=3,G.canvas_height=1+u(A,W),W+=3;break;case"ALPH":D=!0,O=V+8,I=T-8;break;case"ANIM":(G=F.header).bgcolor=h(A,T),W=T+4,G.loop_count=(q=A)[(M=W)+0]<<0|q[M+1]<<8,W+=2;break;case"ANMF":var Y,G;(G=F.frames[L]={}).offset_x=2*u(A,T),T+=3,G.offset_y=2*u(A,T),T+=3,G.width=1+u(A,T),T+=3,G.height=1+u(A,T),T+=3,G.duration=u(A,T),T+=3,Y=A[T++],G.dispose=1&Y,G.blend=Y>>1&1}B!="ANMF"&&(T+=V)}var q,M;return F}}(v,0);x.response=v,x.rgbaoutput=!0,x.dataurl=!1;var b=x.header?x.header:null,y=x.frames?x.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],p=[b.canvas_width];for(var C=0;C<y.length&&y[C].blend!=0;C++);}var S=y[0],_=g.WebPDecodeRGBA(v,S.src_off,S.src_size,p,f);S.rgba=_,S.imgwidth=p[0],S.imgheight=f[0];for(var E=0;E<p[0]*f[0]*4;E++)m[E]=_[E];return this.width=p,this.height=f,this.data=m,this}(function(r){var e=function(){return typeof H5=="function"},t=function(f,p,m,g){var v=4,x=i;switch(g){case r.image_compression.FAST:v=1,x=s;break;case r.image_compression.MEDIUM:v=6,x=l;break;case r.image_compression.SLOW:v=9,x=c}f=n(f,p,m,x);var b=H5(f,{level:v});return r.__addimage__.arrayBufferToBinaryString(b)},n=function(f,p,m,g){for(var v,x,b,y=f.length/p,C=new Uint8Array(f.length+y),S=u(),_=0;_<y;_+=1){if(b=_*p,v=f.subarray(b,b+p),g)C.set(g(v,m,x),b+_);else{for(var E,A=S.length,T=[];E<A;E+=1)T[E]=S[E](v,m,x);var F=h(T.concat());C.set(T[F],b+_)}x=v}return C},a=function(f){var p=Array.apply([],f);return p.unshift(0),p},s=function(f,p){var m,g=[],v=f.length;g[0]=1;for(var x=0;x<v;x+=1)m=f[x-p]||0,g[x+1]=f[x]-m+256&255;return g},i=function(f,p,m){var g,v=[],x=f.length;v[0]=2;for(var b=0;b<x;b+=1)g=m&&m[b]||0,v[b+1]=f[b]-g+256&255;return v},l=function(f,p,m){var g,v,x=[],b=f.length;x[0]=3;for(var y=0;y<b;y+=1)g=f[y-p]||0,v=m&&m[y]||0,x[y+1]=f[y]+256-(g+v>>>1)&255;return x},c=function(f,p,m){var g,v,x,b,y=[],C=f.length;y[0]=4;for(var S=0;S<C;S+=1)g=f[S-p]||0,v=m&&m[S]||0,x=m&&m[S-p]||0,b=d(g,v,x),y[S+1]=f[S]-b+256&255;return y},d=function(f,p,m){if(f===p&&p===m)return f;var g=Math.abs(p-m),v=Math.abs(f-m),x=Math.abs(f+p-m-m);return g<=v&&g<=x?f:v<=x?p:m},u=function(){return[a,s,i,l,c]},h=function(f){var p=f.map(function(m){return m.reduce(function(g,v){return g+Math.abs(v)},0)});return p.indexOf(Math.min.apply(null,p))};r.processPNG=function(f,p,m,g){var v,x,b,y,C,S,_,E,A,T,F,L,D,O,I,B=this.decode.FLATE_DECODE,z="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(b=new Voe(f)).imgData,x=b.bits,v=b.colorSpace,C=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){A=(E=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,F=new Uint8Array(A*b.colors),T=new Uint8Array(A);var V,W=b.pixelBitlength-b.bits;for(O=0,I=0;O<A;O++){for(D=E[O],V=0;V<W;)F[I++]=D>>>V&255,V+=b.bits;T[O]=D>>>V&255}}if(b.bits===16){A=(E=new Uint32Array(b.decodePixels().buffer)).length,F=new Uint8Array(A*(32/b.pixelBitlength)*b.colors),T=new Uint8Array(A*(32/b.pixelBitlength)),L=b.colors>1,O=0,I=0;for(var Y=0;O<A;)D=E[O++],F[I++]=D>>>0&255,L&&(F[I++]=D>>>16&255,D=E[O++],F[I++]=D>>>0&255),T[Y++]=D>>>16&255;x=8}g!==r.image_compression.NONE&&e()?(f=t(F,b.width*b.colors,b.colors,g),_=t(T,b.width,1,g)):(f=F,_=T,B=void 0)}if(b.colorType===3&&(v=this.color_spaces.INDEXED,S=b.palette,b.transparency.indexed)){var G=b.transparency.indexed,q=0;for(O=0,A=G.length;O<A;++O)q+=G[O];if((q/=255)===A-1&&G.indexOf(0)!==-1)y=[G.indexOf(0)];else if(q!==A){for(E=b.decodePixels(),T=new Uint8Array(E.length),O=0,A=E.length;O<A;O++)T[O]=G[E[O]];_=t(T,b.width,1)}}var M=function(U){var $;switch(U){case r.image_compression.FAST:$=11;break;case r.image_compression.MEDIUM:$=13;break;case r.image_compression.SLOW:$=14;break;default:$=12}return $}(g);return B===this.decode.FLATE_DECODE&&(z="/Predictor "+M+" "),z+="/Colors "+C+" /BitsPerComponent "+x+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:m,data:f,index:p,filter:B,decodeParameters:z,transparency:y,palette:S,sMask:_,predictor:M,width:b.width,height:b.height,bitsPerComponent:x,colorSpace:v}}}})(Ft.API),function(r){r.processGIF89A=function(e,t,n,a){var s=new $oe(e),i=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:i,height:l},u=new oy(100).encode(d,100);return r.processJPEG.call(this,u,t,n,a)},r.processGIF87A=r.processGIF89A}(Ft.API),ci.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ci.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Or.log("bit decode error:"+t)}},ci.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++)for(var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[i+4*l]=c.blue,this.data[i+4*l+1]=c.green,this.data[i+4*l+2]=c.red,this.data[i+4*l+3]=255}t!==0&&(this.pos+=4-t)}},ci.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<r;a++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,l=s>>4,c=15&s,d=this.palette[l];if(this.data[i]=d.blue,this.data[i+1]=d.green,this.data[i+2]=d.red,this.data[i+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[i+4]=d.blue,this.data[i+4+1]=d.green,this.data[i+4+2]=d.red,this.data[i+4+3]=255}e!==0&&(this.pos+=4-e)}},ci.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},ci.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,d=s>>15?255:0,u=n*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=i,this.data[u+3]=d}this.pos+=r}},ci.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&e)/e*255|0,c=(i>>5&t)/t*255|0,d=(i>>11)/e*255|0,u=a*this.width*4+4*s;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=r}},ci.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+4*t;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},ci.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=i}},ci.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,a){var s=new ci(e,!1),i=s.width,l=s.height,c={data:s.getData(),width:i,height:l},d=new oy(100).encode(c,100);return r.processJPEG.call(this,d,t,n,a)}}(Ft.API),f7.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,a){var s=new f7(e),i=s.width,l=s.height,c={data:s.getData(),width:i,height:l},d=new oy(100).encode(c,100);return r.processJPEG.call(this,d,t,n,a)}}(Ft.API),Ft.API.processRGBA=function(r,e,t){for(var n=r.data,a=n.length,s=new Uint8Array(a/4*3),i=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=n[d],h=n[d+1],f=n[d+2],p=n[d+3];s[l++]=u,s[l++]=h,s[l++]=f,i[c++]=p}var m=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:m,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Ft.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Xd=Ft.API,Nm=Xd.getCharWidthsArray=function(r,e){var t,n,a=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),i=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=e.doKerning!==!1,f=0,p=r.length,m=0,g=l[0]||c,v=[];for(t=0;t<p;t++)n=r.charCodeAt(t),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/s)||0)/1e3):(f=h&&Nr(d[n])==="object"&&!isNaN(parseInt(d[n][m],10))?d[n][m]/u:0,v.push((l[n]||g)/c+f)),m=n;return v},c7=Xd.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Xd.processArabic&&(r=Xd.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,a)/t:Nm.apply(this,arguments).reduce(function(s,i){return s+i},0)},d7=function(r,e,t,n){for(var a=[],s=0,i=r.length,l=0;s!==i&&l+e[s]<t;)l+=e[s],s++;a.push(r.slice(0,s));var c=s;for(l=0;s!==i;)l+e[s]>n&&(a.push(r.slice(c,s)),l=0,c=s),l+=e[s],s++;return c!==s&&a.push(r.slice(c,s)),a},u7=function(r,e,t){t||(t={});var n,a,s,i,l,c,d,u=[],h=[u],f=t.textIndent||0,p=0,m=0,g=r.split(" "),v=Nm.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?g[0].length+2:t.lineIndent||0){var x=Array(c).join(" "),b=[];g.map(function(C){(C=C.split(/\s*\n/)).length>1?b=b.concat(C.map(function(S,_){return(_&&S.length?`
`:"")+S})):b.push(C[0])}),g=b,c=c7.apply(this,[x,t])}for(s=0,i=g.length;s<i;s++){var y=0;if(n=g[s],c&&n[0]==`
`&&(n=n.substr(1),y=1),f+p+(m=(a=Nm.apply(this,[n,t])).reduce(function(C,S){return C+S},0))>e||y){if(m>e){for(l=d7.apply(this,[n,a,e-(f+p),e]),u.push(l.shift()),u=[l.pop()];l.length;)h.push([l.shift()]);m=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(C,S){return C+S},0)}else u=[n];h.push(u),f=m+c,p=v}else u.push(n),f+=p+m,p=v}return d=c?function(C,S){return(S?x:"")+C.join(" ")}:function(C){return C.join(" ")},h.map(d)},Xd.splitTextToSize=function(r,e,t){var n,a=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var i=1*this.internal.scaleFactor*e/a;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=t.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(u7.apply(this,[n[l],i,s]));return d},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},n={},a=0;a<e.length;a++)t[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var s=function(h){return"0x"+parseInt(h,10).toString(16)},i=r.__fontmetrics__.compress=function(h){var f,p,m,g,v=["{"];for(var x in h){if(f=h[x],isNaN(parseInt(x,10))?p="'"+x+"'":(x=parseInt(x,10),p=(p=s(x).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof f=="number")f<0?(m=s(f).slice(3),g="-"):(m=s(f).slice(2),g=""),m=g+m.slice(0,-1)+n[m.slice(-1)];else{if(Nr(f)!=="object")throw new Error("Don't know what to do with value type "+Nr(f)+".");m=i(f)}v.push(p+m)}return v.push("}"),v.join("")},l=r.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,p,m,g,v={},x=1,b=v,y=[],C="",S="",_=h.length-1,E=1;E<_;E+=1)(g=h[E])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(g):g=="{"?(y.push([b,m]),b={},m=void 0):g=="}"?((p=y.pop())[0][p[1]]=b,m=void 0,b=p[0]):g=="-"?x=-1:m===void 0?t.hasOwnProperty(g)?(C+=t[g],m=parseInt(C,16)*x,x=1,C=""):C+=g:t.hasOwnProperty(g)?(S+=t[g],b[m]=parseInt(S,16)*x,x=1,m=void 0,S=""):S+=g;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(h){var f=h.font,p=u.Unicode[f.postScriptName];p&&(f.metadata.Unicode={},f.metadata.Unicode.widths=p.widths,f.metadata.Unicode.kerning=p.kerning);var m=d.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(Ft.API),function(r){var e=function(t){for(var n=t.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=t.charCodeAt(s);return a};r.API.events.push(["addFont",function(t){var n=void 0,a=t.font,s=t.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Yf(l)),i.metadata=r.API.TTFFont.open(l),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,n)}}])}(Ft),function(r){function e(){return(zt.canvg?Promise.resolve(zt.canvg):Ma(()=>import("./index.es-CRNpo-w4.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Ft.API.addSvgAsImage=function(t,n,a,s,i,l,c,d){if(isNaN(n)||isNaN(a))throw Or.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(i))throw Or.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=i;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(m){return m.fromString(h,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(f)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),n,a,s,i,c,d)})}}(),Ft.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,t);return this},Ft.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,a,s,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(i),c=[],d=0,u=0,h=0;function f(m,g){var v,x=!1;for(v=0;v<m.length;v+=1)m[v]===g&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var p=l.length;for(h=0;h<p;h+=1)t[l[h]].value=t[l[h]].defaultValue,t[l[h]].explicitSet=!1}if(Nr(r)==="object"){for(a in r)if(s=r[a],f(l,a)&&s!==void 0){if(t[a].type==="boolean"&&typeof s=="boolean")t[a].value=s;else if(t[a].type==="name"&&f(t[a].valueSet,s))t[a].value=s;else if(t[a].type==="integer"&&Number.isInteger(s))t[a].value=s;else if(t[a].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")c.push(String(s[d]-1));else if(s[d].length>1){for(u=0;u<s[d].length;u+=1)typeof s[d][u]!="number"&&(n=!1);n===!0&&c.push([s[d][0]-1,s[d][1]-1].join(" "))}t[a].value="["+c.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in t)t[m].explicitSet===!0&&(t[m].type==="name"?g.push("/"+m+" /"+t[m].value):g.push("/"+m+" "+t[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+i.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+s+i+l+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Ft.API),function(r){var e=r.API,t=e.pdfEscape16=function(s,i){for(var l,c=i.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,f=s.length;h<f;++h){if(l=i.metadata.characterToGlyph(s.charCodeAt(h)),i.metadata.glyIdsUsed.push(l),i.metadata.toUnicode[l]=s.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(i.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(s){var i,l,c,d,u,h,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,f=(l=Object.keys(s).sort(function(p,m){return p-m})).length;h<f;h++)i=l[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[i]!==void 0&&s[i]!==null&&typeof s[i].toString=="function"&&(d=("0000"+s[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),c.push("<"+i+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(i){var l=i.font,c=i.out,d=i.newObject,u=i.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",m=0;m<f.length;m++)p+=String.fromCharCode(f[m]);var g=d();u({data:p,addLength1:!0,objectId:g}),c("endobj");var v=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var x=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Qd(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Qd(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+r.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+Qd(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(i){var l=i.font,c=i.out,d=i.newObject,u=i.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,f="",p=0;p<h.length;p++)f+=String.fromCharCode(h[p]);var m=d();u({data:f,addLength1:!0,objectId:m}),c("endobj");var g=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var v=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+m+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Qd(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Qd(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var i,l=s.text||"",c=s.x,d=s.y,u=s.options||{},h=s.mutex||{},f=h.pdfEscape,p=h.activeFontKey,m=h.fonts,g=p,v="",x=0,b="",y=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:h};for(b=l,g=p,Array.isArray(l)&&(b=l[0]),x=0;x<b.length;x+=1)m[g].metadata.hasOwnProperty("cmap")&&(i=m[g].metadata.cmap.unicode.codeMap[b[x].charCodeAt(0)]),i||b[x].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?v+=b[x]:v+="";var C="";return parseInt(g.slice(1))<14||y==="WinAnsiEncoding"?C=f(v,g).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):y==="Identity-H"&&(C=t(v,m[g])),h.isHex=!0,{text:C,x:c,y:d,options:u,mutex:h}};e.events.push(["postProcessText",function(s){var i=s.text||"",l=[],c={text:i,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(i)){var d=0;for(d=0;d<i.length;d+=1)Array.isArray(i[d])&&i[d].length===3?l.push([a(Object.assign({},c,{text:i[d][0]})).text,i[d][1],i[d][2]]):l.push(a(Object.assign({},c,{text:i[d]})).text);s.text=l}else s.text=a(Object.assign({},c,{text:i})).text}])}(Ft),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Ft.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var a,s,i,l,c,d,u,h=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,y=0;this.__bidiEngine__={};var C=function(L){var D=L.charCodeAt(),O=D>>8,I=g[O];return I!==void 0?h[256*I+(255&D)]:O===252||O===253?"AL":x.test(O)?"L":O===8?"R":"N"},S=function(L){for(var D,O=0;O<L.length;O++){if((D=C(L.charAt(O)))==="L")return!1;if(D==="R")return!0}return!1},_=function(L,D,O,I){var B,z,V,W,Y=D[I];switch(Y){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(Y="AN");break;case"AL":b=!0,Y="R";break;case"WS":Y="N";break;case"CS":I<1||I+1>=D.length||(B=O[I-1])!=="EN"&&B!=="AN"||(z=D[I+1])!=="EN"&&z!=="AN"?Y="N":b&&(z="AN"),Y=z===B?z:"N";break;case"ES":Y=(B=I>0?O[I-1]:"B")==="EN"&&I+1<D.length&&D[I+1]==="EN"?"EN":"N";break;case"ET":if(I>0&&O[I-1]==="EN"){Y="EN";break}if(b){Y="N";break}for(V=I+1,W=D.length;V<W&&D[V]==="ET";)V++;Y=V<W&&D[V]==="EN"?"EN":"N";break;case"NSM":if(i&&!l){for(W=D.length,V=I+1;V<W&&D[V]==="NSM";)V++;if(V<W){var G=L[I],q=G>=1425&&G<=2303||G===64286;if(B=D[V],q&&(B==="R"||B==="AL")){Y="R";break}}}Y=I<1||(B=D[I-1])==="B"?"N":O[I-1];break;case"B":b=!1,a=!0,Y=y;break;case"S":s=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":Y="N"}return Y},E=function(L,D,O){var I=L.split("");return O&&A(I,O,{hiLevel:y}),I.reverse(),D&&D.reverse(),I.join("")},A=function(L,D,O){var I,B,z,V,W,Y=-1,G=L.length,q=0,M=[],U=y?p:f,$=[];for(b=!1,a=!1,s=!1,B=0;B<G;B++)$[B]=C(L[B]);for(z=0;z<G;z++){if(W=q,M[z]=_(L,$,M,z),I=240&(q=U[W][m[M[z]]]),q&=15,D[z]=V=U[q][5],I>0)if(I===16){for(B=Y;B<z;B++)D[B]=1;Y=-1}else Y=-1;if(U[q][6])Y===-1&&(Y=z);else if(Y>-1){for(B=Y;B<z;B++)D[B]=V;Y=-1}$[z]==="B"&&(D[z]=0),O.hiLevel|=V}s&&function(X,Q,se){for(var le=0;le<se;le++)if(X[le]==="S"){Q[le]=y;for(var ue=le-1;ue>=0&&X[ue]==="WS";ue--)Q[ue]=y}}($,D,G)},T=function(L,D,O,I,B){if(!(B.hiLevel<L)){if(L===1&&y===1&&!a)return D.reverse(),void(O&&O.reverse());for(var z,V,W,Y,G=D.length,q=0;q<G;){if(I[q]>=L){for(W=q+1;W<G&&I[W]>=L;)W++;for(Y=q,V=W-1;Y<V;Y++,V--)z=D[Y],D[Y]=D[V],D[V]=z,O&&(z=O[Y],O[Y]=O[V],O[V]=z);q=W}q++}}},F=function(L,D,O){var I=L.split(""),B={hiLevel:y};return O||(O=[]),A(I,O,B),function(z,V,W){if(W.hiLevel!==0&&u)for(var Y,G=0;G<z.length;G++)V[G]===1&&(Y=v.indexOf(z[G]))>=0&&(z[G]=v[Y+1])}(I,O,B),T(2,I,D,O,B),T(1,I,D,O,B),I.join("")};return this.__bidiEngine__.doBidiReorder=function(L,D,O){if(function(B,z){if(z)for(var V=0;V<B.length;V++)z[V]=V;l===void 0&&(l=S(B)),d===void 0&&(d=S(B))}(L,D),i||!c||d)if(i&&c&&l^d)y=l?1:0,L=E(L,D,O);else if(!i&&c&&d)y=l?1:0,L=F(L,D,O),L=E(L,D);else if(!i||l||c||d){if(i&&!c&&l^d)L=E(L,D),l?(y=0,L=F(L,D,O)):(y=1,L=F(L,D,O),L=E(L,D));else if(i&&l&&!c&&d)y=1,L=F(L,D,O),L=E(L,D);else if(!i&&!c&&l^d){var I=u;l?(y=1,L=F(L,D,O),y=0,u=!1,L=F(L,D,O),u=I):(y=0,L=F(L,D,O),L=E(L,D),y=1,u=!1,L=F(L,D,O),u=I,L=E(L,D))}}else y=0,L=F(L,D,O);else y=l?1:0,L=F(L,D,O);return L},this.__bidiEngine__.setOptions=function(L){L&&(i=L.isInputVisual,c=L.isOutputVisual,l=L.isInputRtl,d=L.isOutputRtl,u=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var i=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(i=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?i.push([t.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):i.push([t.doBidiReorder(a[l])]);n.text=i}else n.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])}(Ft),Ft.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Yl(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new sle(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new Woe(this.contents),this.head=new Yoe(this),this.name=new Koe(this),this.cmap=new vD(this),this.toUnicode={},this.hhea=new Goe(this),this.maxp=new Qoe(this),this.hmtx=new ele(this),this.post=new Zoe(this),this.os2=new Xoe(this),this.loca=new ale(this),this.glyf=new tle(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,l,c,d;for(d=[],i=0,l=(c=this.bbox).length;i<l;i++)e=c[i],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var a,s,i,l;for(i=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=e.charCodeAt(s),i+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/t)||0;return i*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var Di,Yl=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,a;for(a=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,a,s,i,l,c;return e=this.readByte(),t=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^i)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*a+16777216*s+65536*i+256*l+c},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,a,s;for(s=[],n=0,a=e.length;n<a;n++)t=e[n],s.push(this.writeByte(t));return s},r}(),Woe=function(){var r;function e(t){var n,a,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,a,s,i,l,c,d,u,h,f,p,m,g;for(g in p=Object.keys(t).length,c=Math.log(2),h=16*Math.floor(Math.log(p)/c),i=Math.floor(h/c),u=16*p-h,(a=new Yl).writeInt(this.scalarType),a.writeShort(p),a.writeShort(h),a.writeShort(i),a.writeShort(u),s=16*p,d=a.pos+s,l=null,m=[],t)for(f=t[g],a.writeString(g),a.writeInt(r(f)),a.writeInt(d),a.writeInt(f.length),m=m.concat(f),g==="head"&&(l=d),d+=f.length;d%4;)m.push(0),d++;return a.write(m),n=2981146554-r(a.data),a.pos=l+8,a.writeUInt32(n),a.data},r=function(t){var n,a,s,i;for(t=bD.call(t);t.length%4;)t.push(0);for(s=new Yl(t),a=0,n=0,i=t.length;n<i;n=n+=4)a+=s.readUInt32();return 4294967295&a},e}(),qoe={}.hasOwnProperty,io=function(r,e){for(var t in e)qoe.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};Di=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var Yoe=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return io(e,Di),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Yl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),p7=function(){function r(e,t){var n,a,s,i,l,c,d,u,h,f,p,m,g,v,x,b,y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),f=p/2,e.pos+=6,s=function(){var C,S;for(S=[],c=C=0;0<=f?C<f:C>f;c=0<=f?++C:--C)S.push(e.readUInt16());return S}(),e.pos+=2,g=function(){var C,S;for(S=[],c=C=0;0<=f?C<f:C>f;c=0<=f?++C:--C)S.push(e.readUInt16());return S}(),d=function(){var C,S;for(S=[],c=C=0;0<=f?C<f:C>f;c=0<=f?++C:--C)S.push(e.readUInt16());return S}(),u=function(){var C,S;for(S=[],c=C=0;0<=f?C<f:C>f;c=0<=f?++C:--C)S.push(e.readUInt16());return S}(),a=(this.length-e.pos+this.offset)/2,l=function(){var C,S;for(S=[],c=C=0;0<=a?C<a:C>a;c=0<=a?++C:--C)S.push(e.readUInt16());return S}(),c=x=0,y=s.length;x<y;c=++x)for(v=s[c],n=b=m=g[c];m<=v?b<=v:b>=v;n=m<=v?++b:--b)u[c]===0?i=n+d[c]:(i=l[u[c]/2+(n-m)-(f-c)]||0)!==0&&(i+=d[c]),this.codeMap[n]=65535&i}e.pos=h}return r.encode=function(e,t){var n,a,s,i,l,c,d,u,h,f,p,m,g,v,x,b,y,C,S,_,E,A,T,F,L,D,O,I,B,z,V,W,Y,G,q,M,U,$,X,Q,se,le,ue,ye,Ne,Le;switch(I=new Yl,i=Object.keys(e).sort(function(Ie,et){return Ie-et}),t){case"macroman":for(g=0,v=function(){var Ie=[];for(m=0;m<256;++m)Ie.push(0);return Ie}(),b={0:0},s={},B=0,Y=i.length;B<Y;B++)b[ue=e[a=i[B]]]==null&&(b[ue]=++g),s[a]={old:e[a],new:b[e[a]]},v[a]=b[e[a]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(v),{charMap:s,subtable:I.data,maxGlyphID:g+1};case"unicode":for(D=[],h=[],y=0,b={},n={},x=d=null,z=0,G=i.length;z<G;z++)b[S=e[a=i[z]]]==null&&(b[S]=++y),n[a]={old:S,new:b[S]},l=b[S]-a,x!=null&&l===d||(x&&h.push(x),D.push(a),d=l),x=a;for(x&&h.push(x),h.push(65535),D.push(65535),F=2*(T=D.length),A=2*Math.pow(Math.log(T)/Math.LN2,2),f=Math.log(A/2)/Math.LN2,E=2*T-A,c=[],_=[],p=[],m=V=0,q=D.length;V<q;m=++V){if(L=D[m],u=h[m],L===65535){c.push(0),_.push(0);break}if(L-(O=n[L].new)>=32768)for(c.push(0),_.push(2*(p.length+T-m)),a=W=L;L<=u?W<=u:W>=u;a=L<=u?++W:--W)p.push(n[a].new);else c.push(O-L),_.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*T+2*p.length),I.writeUInt16(0),I.writeUInt16(F),I.writeUInt16(A),I.writeUInt16(f),I.writeUInt16(E),se=0,M=h.length;se<M;se++)a=h[se],I.writeUInt16(a);for(I.writeUInt16(0),le=0,U=D.length;le<U;le++)a=D[le],I.writeUInt16(a);for(ye=0,$=c.length;ye<$;ye++)l=c[ye],I.writeUInt16(l);for(Ne=0,X=_.length;Ne<X;Ne++)C=_[Ne],I.writeUInt16(C);for(Le=0,Q=p.length;Le<Q;Le++)g=p[Le],I.writeUInt16(g);return{charMap:n,subtable:I.data,maxGlyphID:y+1}}},r}(),vD=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return io(e,Di),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,a,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new p7(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var a,s;return n==null&&(n="macroman"),a=p7.encode(t,n),(s=new Yl).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},e}(),Goe=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return io(e,Di),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Xoe=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return io(e,Di),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(t.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(t.readInt());return a}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(t.readInt());return a}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Zoe=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return io(e,Di),e.prototype.tag="post",e.prototype.parse=function(t){var n,a,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var i;for(a=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)n=t.readByte(),s.push(this.names.push(t.readString(n)));return s;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],i=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;i=0<=c?++l:--l)d.push(t.readUInt32());return d}).call(this)}},e}(),Joe=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Koe=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return io(e,Di),e.prototype.tag="name",e.prototype.parse=function(t){var n,a,s,i,l,c,d,u,h,f,p;for(t.pos=this.offset,t.readShort(),n=t.readShort(),c=t.readShort(),a=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(d={},i=h=0,f=a.length;h<f;i=++h)s=a[i],t.pos=s.offset,u=t.readString(s.length),l=new Joe(u,s),d[p=s.nameID]==null&&(d[p]=[]),d[s.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),Qoe=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return io(e,Di),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),ele=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return io(e,Di),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,a,s,i,l,c,d;for(t.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],n=u=0;0<=s?u<s:u>s;n=0<=s?++u:--u)h.push(t.readInt16());return h}(),this.widths=(function(){var u,h,f,p;for(p=[],u=0,h=(f=this.metrics).length;u<h;u++)i=f[u],p.push(i.advance);return p}).call(this),a=this.widths[this.widths.length-1],d=[],n=l=0;0<=s?l<s:l>s;n=0<=s?++l:--l)d.push(this.widths.push(a));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),bD=[].slice,tle=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return io(e,Di),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,a,s,i,l,c,d,u,h,f;return t in this.cache?this.cache[t]:(i=this.file.loca,n=this.file.contents,a=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+a,l=(c=new Yl(n.read(s))).readShort(),u=c.readShort(),f=c.readShort(),d=c.readShort(),h=c.readShort(),this.cache[t]=l===-1?new nle(c,u,f,d,h):new rle(c,l,u,f,d,h),this.cache[t]))},e.prototype.encode=function(t,n,a){var s,i,l,c,d;for(l=[],i=[],c=0,d=n.length;c<d;c++)s=t[n[c]],i.push(l.length),s&&(l=l.concat(s.encode(a)));return i.push(l.length),{table:l,offsets:i}},e}(),rle=function(){function r(e,t,n,a,s,i){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),nle=function(){function r(e,t,n,a,s){var i,l;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;l=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&l;)i.pos+=1&l?4:2,128&l?i.pos+=8:64&l?i.pos+=4:8&l&&(i.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Yl(bD.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),ale=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return io(e,Di),e.prototype.tag="loca",e.prototype.parse=function(t){var n,a;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,l=0;l<a.length;++l)if(a[l]=s,i<n.length&&n[i]==l){++i,a[l]=s;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(s+=d)}for(var u=new Array(4*a.length),h=0;h<a.length;++h)u[4*h+3]=255&a[h],u[4*h+2]=(65280&a[h])>>8,u[4*h+1]=(16711680&a[h])>>16,u[4*h]=(4278190080&a[h])>>24;return u},e}(),sle=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,a,s;for(t in a=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=a[n];return e},r.prototype.glyphsFor=function(e){var t,n,a,s,i,l,c;for(a={},i=0,l=e.length;i<l;i++)a[s=e[i]]=this.font.glyf.glyphFor(s);for(s in t=[],a)(n=a[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))n=c[s],a[s]=n;return a},r.prototype.encode=function(e,t){var n,a,s,i,l,c,d,u,h,f,p,m,g,v,x;for(a in n=vD.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),p={0:0},x=n.charMap)p[(c=x[a]).old]=c.new;for(m in f=n.maxGlyphID,i)m in p||(p[m]=f++);return u=function(b){var y,C;for(y in C={},b)C[b[y]]=y;return C}(p),h=Object.keys(u).sort(function(b,y){return b-y}),g=function(){var b,y,C;for(C=[],b=0,y=h.length;b<y;b++)l=h[b],C.push(u[l]);return C}(),s=this.font.glyf.encode(i,g,p),d=this.font.loca.encode(s.offsets,g),v={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},r}();Ft.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,a,s,i;if(Array.isArray(t))return"["+function(){var l,c,d;for(d=[],l=0,c=t.length;l<c;l++)n=t[l],d.push(e.convert(n));return d}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in s=["<<"],t)i=t[a],s.push("/"+a+" "+e.convert(i));return s.push(">>"),s.join(`
`)}return""+t},e}();class $3{static async getLogos(){try{console.log(" [LogoService] Carregando logos do banco de dados...");const{data:e}=await K.from("settings").select("light_logo, dark_logo, platform_icon").single(),t={...this.defaultLogos};if(e){if(e.light_logo){const{data:n}=K.storage.from("logos").getPublicUrl(e.light_logo);n&&(t.light=n.publicUrl)}if(e.dark_logo){const{data:n}=K.storage.from("logos").getPublicUrl(e.dark_logo);n&&(t.dark=n.publicUrl)}if(e.platform_icon){const{data:n}=K.storage.from("logos").getPublicUrl(e.platform_icon);n&&(t.icon=n.publicUrl)}console.log(" [LogoService] Logos carregados:",{light:t.light,dark:t.dark,icon:t.icon})}else console.log(" [LogoService] Nenhuma configurao encontrada, usando logos padro");return t}catch(e){return console.error(" [LogoService] Erro ao carregar logos:",e),console.log(" [LogoService] Retornando logos padro como fallback"),this.defaultLogos}}static async imageUrlToBase64(e){try{console.log(" [LogoService] Convertendo imagem para base64:",e);const t=await fetch(e);if(!t.ok)throw new Error(`Erro HTTP: ${t.status}`);const n=await t.blob();return new Promise((a,s)=>{const i=new FileReader;i.onload=()=>a(i.result),i.onerror=()=>s(new Error("Erro ao ler arquivo")),i.readAsDataURL(n)})}catch(t){return console.error(" [LogoService] Erro ao converter imagem:",t),null}}static async getLogoForPdf(e=!1){try{const t=await this.getLogos(),n=e?t.dark:t.light;return console.log(" [LogoService] Preparando logo para PDF:",n),await this.imageUrlToBase64(n)}catch(t){return console.error(" [LogoService] Erro ao preparar logo para PDF:",t),null}}}ii($3,"defaultLogos",{light:"/images/logo/logo.svg",dark:"/images/logo/logo-dark.svg",icon:"/images/logo/logo-icon.svg"});class ile{static addLogoToFooter(e,t,n,a){try{if(console.log(" [PdfLogoRenderer] Adicionando logo ao rodap"),!t){console.warn(" [PdfLogoRenderer] Logo base64 no fornecido");return}const s=20,i=8,l=15,d=20,u=a-l-i,h=t.includes("data:image/png")?"PNG":"JPEG";console.log(" [PdfLogoRenderer] Configuraes do logo:",{logoX:d,logoY:u,logoWidth:s,logoHeight:i,format:h,pageWidth:n,pageHeight:a}),e.addImage(t,h,d,u,s,i),console.log(" [PdfLogoRenderer] Logo adicionado com sucesso")}catch(s){console.error(" [PdfLogoRenderer] Erro ao adicionar logo:",s)}}static addLogoToHeader(e,t,n){try{if(console.log(" [PdfLogoRenderer] Adicionando logo ao cabealho"),!t){console.warn(" [PdfLogoRenderer] Logo base64 no fornecido");return}const a=25,s=10,i=10,c=n-20-a,d=i,u=t.includes("data:image/png")?"PNG":"JPEG";console.log(" [PdfLogoRenderer] Configuraes do logo no cabealho:",{logoX:c,logoY:d,logoWidth:a,logoHeight:s,format:u}),e.addImage(t,u,c,d,a,s),console.log(" [PdfLogoRenderer] Logo no cabealho adicionado com sucesso")}catch(a){console.error(" [PdfLogoRenderer] Erro ao adicionar logo no cabealho:",a)}}static addCustomLogo(e,t){try{console.log(" [PdfLogoRenderer] Adicionando logo customizado:",t);const n=t.format||(t.base64Data.includes("data:image/png")?"PNG":"JPEG");e.addImage(t.base64Data,n,t.x,t.y,t.width,t.height),console.log(" [PdfLogoRenderer] Logo customizado adicionado com sucesso")}catch(n){console.error(" [PdfLogoRenderer] Erro ao adicionar logo customizado:",n)}}}class ole{static async generatePdf(e){try{console.log(" [PDF] Iniciando gerao de PDF"),console.log(" [PDF] Dados recebidos:",{formTitle:e.formTitle,totalEntries:e.totalEntries,fieldsCount:e.fields.length,entriesCount:e.entries.length,hasLogo:!!e.logoBase64});let t=e.logoBase64;t||(console.log(" [PDF] Carregando logo da plataforma..."),t=await $3.getLogoForPdf(!1)||void 0,console.log(" [PDF] Logo carregado:",!!t));const n={title:`Relatrio - ${e.formTitle}`,subtitle:`Exportado em ${e.exportDate}`,includeHeader:!0,includeFooter:!0,pageOrientation:"landscape"};console.log(" [PDF] Configuraes:",n);const a=new Ft({orientation:n.pageOrientation,unit:"mm",format:"a4"});console.log(" [PDF] Objeto jsPDF criado"),a.setFont("helvetica"),console.log(" [PDF] Fonte configurada"),n.includeHeader&&(console.log(" [PDF] Adicionando cabealho..."),this.addHeader(a,n),console.log(" [PDF] Cabealho adicionado")),console.log(" [PDF] Adicionando tabela..."),this.addDataTable(a,e),console.log(" [PDF] Tabela adicionada"),n.includeFooter&&(console.log(" [PDF] Adicionando rodap..."),this.addFooter(a,e,t),console.log(" [PDF] Rodap adicionado"));const s=this.generateFileName(e.formTitle);console.log(" [PDF] Nome do arquivo:",s),a.save(s),console.log(" [PDF] PDF gerado e salvo com sucesso!")}catch(t){throw console.error(" [PDF] Erro detalhado ao gerar PDF:",t),console.error(" [PDF] Stack trace:",t instanceof Error?t.stack:"N/A"),console.error(" [PDF] Dados que causaram erro:",e),new Error(`Falha ao gerar PDF: ${t instanceof Error?t.message:"Erro desconhecido"}`)}}static addHeader(e,t){try{console.log(" [PDF Header] Iniciando adio do cabealho");const n=e.internal.pageSize.getWidth();console.log(" [PDF Header] Largura da pgina:",n),e.setFontSize(18),e.setTextColor(0,0,0),console.log(" [PDF Header] Adicionando ttulo:",t.title),e.text(t.title,n/2,20,{align:"center"}),t.subtitle&&(e.setFontSize(12),e.setTextColor(100,100,100),console.log(" [PDF Header] Adicionando subttulo:",t.subtitle),e.text(t.subtitle,n/2,30,{align:"center"})),e.setDrawColor(200,200,200),e.line(20,35,n-20,35),console.log(" [PDF Header] Linha separadora adicionada")}catch(n){throw console.error(" [PDF Header] Erro ao adicionar cabealho:",n),n}}static addDataTable(e,t){try{console.log(" [PDF Table] Iniciando criao da tabela manual"),console.log(" [PDF Table] Preparando cabealhos...");const n=this.prepareTableHeaders(t.fields);console.log(" [PDF Table] Cabealhos preparados:",n),console.log(" [PDF Table] Preparando dados das linhas...");const a=this.prepareTableRows(t.entries,t.fields);console.log(" [PDF Table] Linhas preparadas:",a.length,"linhas");const s=50,i=10,l=12,c=e.internal.pageSize.getWidth(),d=c-20,u=this.calculateColumnWidths(n,d);console.log(" [PDF Table] Configuraes:",{startY:s,startX:i,rowHeight:l,pageWidth:c.toFixed(2),availableWidth:d.toFixed(2),headers:n.length,columnWidths:u}),e.setFillColor(211,0,0),e.setTextColor(255,255,255),e.setFontSize(9),e.setFont("helvetica","bold");let h=s,f=i;e.rect(i,h,d,l,"F"),n.forEach((p,m)=>{const g=u[m];e.setDrawColor(150,150,150),e.rect(f,h,g,l);const v=p.length>12?p.substring(0,10)+"..":p,x=f+g/2;e.text(v,x,h+8,{align:"center"}),f+=g}),h+=l,e.setTextColor(0,0,0),e.setFont("helvetica","normal"),e.setFontSize(8),a.forEach((p,m)=>{f=i,m%2===0&&(e.setFillColor(248,248,248),e.rect(i,h,d,l,"F")),p.forEach((g,v)=>{const x=u[v];e.setDrawColor(200,200,200),e.rect(f,h,x,l);const b=Math.floor(x/2.5);let y=String(g||"-");y.length>b&&(y=y.substring(0,b-2)+".."),e.text(y,f+2,h+8),f+=x}),h+=l,h>e.internal.pageSize.getHeight()-40&&(e.addPage(),h=30,this.redrawTableHeader(e,n,u,i,h),h+=l)}),console.log(" [PDF Table] Tabela manual criada com sucesso")}catch(n){throw console.error(" [PDF Table] Erro ao criar tabela manual:",n),n}}static calculateColumnWidths(e,t){const n={URL:120,Preo:60,DA:40},a=[];let s=0;if(console.log(" [PDF Columns] Headers recebidos:",e),e.forEach(i=>{let l=60;i.toLowerCase().includes("url")||i.toLowerCase().includes("site")?l=n.URL:i.toLowerCase().includes("preo")||i.toLowerCase().includes("preco")||i.toLowerCase().includes("price")?l=n.Preo:(i.toLowerCase().includes("da")||i.toLowerCase().includes("domain authority"))&&(l=n.DA),a.push(l),s+=l}),console.log(" [PDF Columns] Larguras iniciais:",a),console.log(" [PDF Columns] Largura usada/disponvel:",s,"/",t),s>t){const i=t/s;for(let l=0;l<a.length;l++)a[l]=a[l]*i;console.log(" [PDF Columns] Larguras reduzidas:",a)}else{const l=(t-s)/e.length;for(let c=0;c<a.length;c++)a[c]+=l;console.log(" [PDF Columns] Larguras expandidas:",a)}return a}static redrawTableHeader(e,t,n,a,s){e.setFillColor(211,0,0),e.setTextColor(255,255,255),e.setFontSize(9),e.setFont("helvetica","bold");const i=n.reduce((c,d)=>c+d,0);e.rect(a,s,i,12,"F");let l=a;t.forEach((c,d)=>{const u=n[d];e.setDrawColor(150,150,150),e.rect(l,s,u,12);const h=c.length>12?c.substring(0,10)+"..":c,f=l+u/2;e.text(h,f,s+8,{align:"center"}),l+=u})}static addFooter(e,t,n){try{console.log(" [Footer] Adicionando rodap");const a=e.internal.pageSize.getHeight(),s=e.internal.pageSize.getWidth(),i=a-15;e.setDrawColor(211,0,0),e.setLineWidth(.5),e.line(20,i-5,s-20,i-5),e.setFontSize(8),e.setTextColor(100,100,100);const l=`Total de ${t.totalEntries} registros | Exportado em ${t.exportDate}`;e.text(l,20,i),n?(console.log(" [Footer] Adicionando logo ao rodap"),ile.addLogoToFooter(e,n,s,a),console.log(" [Footer] Logo adicionado ao rodap")):console.log(" [Footer] Logo no disponvel"),console.log(" [Footer] Rodap concludo")}catch(a){throw console.error(" [Footer] Erro ao adicionar rodap:",a),a}}static prepareTableHeaders(e){const t=e.find(i=>{var l,c;return i.field_type==="url"||((l=i.label)==null?void 0:l.toLowerCase().includes("url"))||((c=i.label)==null?void 0:c.toLowerCase().includes("site"))}),n=e.find(i=>{var l,c,d;return((l=i.label)==null?void 0:l.toLowerCase().includes("da"))||((c=i.label)==null?void 0:c.toLowerCase().includes("domain authority"))||i.field_type==="number"&&((d=i.label)==null?void 0:d.toLowerCase().includes("da"))}),a=e.find(i=>{var l,c,d;return i.field_type==="product"||((l=i.label)==null?void 0:l.toLowerCase().includes("preo"))||((c=i.label)==null?void 0:c.toLowerCase().includes("preco"))||((d=i.label)==null?void 0:d.toLowerCase().includes("price"))}),s=[];return t&&s.push(t.label||"URL"),a&&s.push(a.label||"Preo"),n&&s.push(n.label||"DA"),console.log(" [PDF Headers] Cabealhos filtrados:",s),s}static prepareTableRows(e,t){const n=t.find(i=>{var l,c;return i.field_type==="url"||((l=i.label)==null?void 0:l.toLowerCase().includes("url"))||((c=i.label)==null?void 0:c.toLowerCase().includes("site"))}),a=t.find(i=>{var l,c,d;return((l=i.label)==null?void 0:l.toLowerCase().includes("da"))||((c=i.label)==null?void 0:c.toLowerCase().includes("domain authority"))||i.field_type==="number"&&((d=i.label)==null?void 0:d.toLowerCase().includes("da"))}),s=t.find(i=>{var l,c,d;return i.field_type==="product"||((l=i.label)==null?void 0:l.toLowerCase().includes("preo"))||((c=i.label)==null?void 0:c.toLowerCase().includes("preco"))||((d=i.label)==null?void 0:d.toLowerCase().includes("price"))});return console.log(" [PDF Rows] Campos identificados:",{url:n==null?void 0:n.label,preco:s==null?void 0:s.label,da:a==null?void 0:a.label}),e.map(i=>{const l=[];if(n){const c=this.formatFieldValue(i.values[n.id],n.field_type);l.push(c)}if(s){const c=this.formatFieldValue(i.values[s.id],s.field_type);console.log(" [PDF Rows] Preo formatado:",{original:i.values[s.id],formatted:c,fieldType:s.field_type}),l.push(c)}if(a){const c=this.formatFieldValue(i.values[a.id],a.field_type);l.push(c)}return console.log(" [PDF Rows] Linha processada:",l),l})}static formatFieldValue(e,t){if(!e&&e!==0)return"-";switch(t){case"product":if(typeof e=="object"&&e.price){const a=String(e.price);return a.includes("R$")?a:`R$ ${a}`}const n=String(e);return n.includes("R$")?n:`R$ ${n}`;case"url":return typeof e=="string"&&e.startsWith("http")?e.length>50?`${e.substring(0,50)}...`:e:String(e);case"number":return String(e);case"email":return String(e);default:return typeof e=="object"?JSON.stringify(e).substring(0,100):String(e).substring(0,100)}}static generateFileName(e){const t=new Date,n=t.toISOString().split("T")[0],a=t.toTimeString().split(" ")[0].replace(/:/g,"-");return`${e.replace(/[^a-zA-Z0-9]/g,"_").toLowerCase()}_${n}_${a}.pdf`}}function lle(){const[r,e]=w.useState(!1),[t,n]=w.useState(null);return{exportToPdf:async i=>{var l,c;try{if(console.log(" [usePdfExport] Iniciando exportao"),console.log(" [usePdfExport] Dados recebidos:",{formTitle:i.formTitle,exportDate:i.exportDate,entriesCount:((l=i.entries)==null?void 0:l.length)||0,fieldsCount:((c=i.fields)==null?void 0:c.length)||0,totalEntries:i.totalEntries}),e(!0),n(null),!i.formTitle)throw new Error("Ttulo do formulrio  obrigatrio");if(!i.entries||i.entries.length===0)throw new Error("No h dados para exportar");if(!i.fields||i.fields.length===0)throw new Error("No h campos configurados para exportar");return console.log(" [usePdfExport] Validaes passaram, chamando servio..."),await ole.generatePdf(i),console.log(" [usePdfExport] Exportao concluda com sucesso"),!0}catch(d){console.error(" [usePdfExport] Erro na exportao:",d),console.error(" [usePdfExport] Stack trace:",d instanceof Error?d.stack:"N/A");const u=d instanceof Error?d.message:"Erro ao exportar PDF";return n(u),!1}finally{e(!1)}},loading:r,error:t,clearError:()=>{n(null)}}}function cle({entries:r,fields:e,formTitle:t,disabled:n=!1}){const{exportToPdf:a,loading:s,error:i}=lle(),[l,c]=w.useState(!1),d=async()=>{if(console.log(" [PdfExportButton] Clique do boto de exportar"),console.log(" [PdfExportButton] Estado inicial:",{entriesCount:r.length,fieldsCount:e.length,formTitle:t,disabled:n,loading:s}),r.length===0){console.warn(" [PdfExportButton] Sem dados para exportar"),alert("No h dados para exportar");return}console.log(" [PdfExportButton] Preparando dados para exportao..."),console.log(" [PdfExportButton] Carregando logo...");const u=await $3.getLogoForPdf(!1);console.log(" [PdfExportButton] Logo carregado:",!!u);const h={entries:r.map(p=>({id:p.id,status:p.status,created_at:p.created_at,values:p.values||{},publisher:p.publisher})),fields:e.map(p=>({id:p.id,label:p.label,field_type:p.field_type,position:p.position})),formTitle:t,exportDate:new Date().toLocaleDateString("pt-BR"),totalEntries:r.length,logoBase64:u||void 0};console.log(" [PdfExportButton] Dados preparados:",{entriesProcessed:h.entries.length,fieldsProcessed:h.fields.length,formTitle:h.formTitle,exportDate:h.exportDate,totalEntries:h.totalEntries,hasLogo:!!h.logoBase64}),console.log(" [PdfExportButton] Chamando hook de exportao...");const f=await a(h);!f&&i?(console.error(" [PdfExportButton] Falha na exportao:",i),c(!0),setTimeout(()=>c(!1),5e3)):f&&console.log(" [PdfExportButton] Exportao realizada com sucesso")};return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:d,disabled:n||s||r.length===0,className:"shadow-theme-xs flex w-full items-center justify-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-[11px] text-sm font-medium text-gray-700 sm:w-auto dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:r.length===0?"No h dados para exportar":"Exportar dados para PDF",children:[s?"Exportando...":"Exportar",o.jsx("svg",{className:"fill-current w-5 h-5",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0018 14.083C9.7866 14.083 9.59255 13.9924 9.45578 13.8472L5.61586 10.0097C5.32288 9.71688 5.32272 9.242 5.61552 8.94902C5.90832 8.65603 6.3832 8.65588 6.67618 8.94868L9.25182 11.5227L9.25182 3.33301C9.25182 2.91879 9.5876 2.58301 10.0018 2.58301C10.416 2.58301 10.7518 2.91879 10.7518 3.33301L10.7518 11.5193L13.3242 8.94866C13.6172 8.65587 14.0921 8.65604 14.3849 8.94903C14.6777 9.24203 14.6775 9.7169 14.3845 10.0097L10.5761 13.8154C10.4385 13.979 10.2323 14.083 10.0018 14.083ZM4.0835 13.333C4.0835 12.9188 3.74771 12.583 3.3335 12.583C2.91928 12.583 2.5835 12.9188 2.5835 13.333V15.1663C2.5835 16.409 3.59086 17.4163 4.8335 17.4163H15.1676C16.4102 17.4163 17.4176 16.409 17.4176 15.1663V13.333C17.4176 12.9188 17.0818 12.583 16.6676 12.583C16.2533 12.583 15.9176 12.9188 15.9176 13.333V15.1663C15.9176 15.5806 15.5818 15.9163 15.1676 15.9163H4.8335C4.41928 15.9163 4.0835 15.5806 4.0835 15.1663V13.333Z",fill:""})})]}),l&&i&&o.jsx("div",{className:"absolute top-full left-0 mt-2 p-2 bg-red-100 border border-red-300 text-red-700 text-xs rounded-lg shadow-lg z-50 min-w-max",children:i})]})}function dle({entriesPerPage:r,onEntriesPerPageChange:e,searchTerm:t,onSearchChange:n,onPageReset:a,formFields:s,formId:i,userId:l,onCsvImportSuccess:c,showCsvImport:d=!0,entries:u=[],formTitle:h="Formulrio",showPdfExport:f=!0}){const p=g=>{e(g),a()},m=g=>{n(g),a()};return o.jsxs("div",{className:"flex flex-col gap-2 px-4 py-4 border-b border-gray-100 dark:border-white/[0.05] rounded-t-xl sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Mostrar"}),o.jsxs("div",{className:"relative z-20 bg-transparent",children:[o.jsxs("select",{className:"w-full py-2 pl-3 pr-8 text-sm text-gray-800 bg-transparent border border-gray-300 rounded-lg appearance-none dark:bg-dark-900 h-9 bg-none shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",value:r,onChange:g=>p(Number(g.target.value)),children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:25,children:"25"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]}),o.jsx("span",{className:"absolute z-30 text-gray-500 -translate-y-1/2 right-2 top-1/2 dark:text-gray-400",children:o.jsx("svg",{className:"stroke-current",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M3.8335 5.9165L8.00016 10.0832L12.1668 5.9165",stroke:"",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"registros"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("button",{className:"absolute text-gray-500 -translate-y-1/2 left-4 top-1/2 dark:text-gray-400",children:o.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.04199 9.37363C3.04199 5.87693 5.87735 3.04199 9.37533 3.04199C12.8733 3.04199 15.7087 5.87693 15.7087 9.37363C15.7087 12.8703 12.8733 15.7053 9.37533 15.7053C5.87735 15.7053 3.04199 12.8703 3.04199 9.37363ZM9.37533 1.54199C5.04926 1.54199 1.54199 5.04817 1.54199 9.37363C1.54199 13.6991 5.04926 17.2053 9.37533 17.2053C11.2676 17.2053 13.0032 16.5344 14.3572 15.4176L17.1773 18.238C17.4702 18.5309 17.945 18.5309 18.2379 18.238C18.5308 17.9451 18.5309 17.4703 18.238 17.1773L15.4182 14.3573C16.5367 13.0033 17.2087 11.2669 17.2087 9.37363C17.2087 5.04817 13.7014 1.54199 9.37533 1.54199Z",fill:""})})}),o.jsx("input",{placeholder:"Pesquisar...",className:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent py-2.5 pl-12 pr-4 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 xl:w-[300px]",type:"text",value:t,onChange:g=>m(g.target.value)})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[d&&i&&o.jsx(loe,{formFields:s,formId:i,userId:l,onSuccess:c}),f&&o.jsx(cle,{entries:u,fields:s,formTitle:h})]})]})]})}function ule({total:r,filtered:e,hasFilter:t,searchTerm:n}){return t?o.jsx("div",{className:"px-4 py-2 border-b border-gray-100 dark:border-white/[0.05] bg-gray-50 dark:bg-gray-800/50",children:o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e===0?o.jsxs(o.Fragment,{children:['Nenhum resultado encontrado para "',o.jsx("strong",{children:n}),'"']}):o.jsxs(o.Fragment,{children:["Mostrando ",o.jsx("strong",{children:e})," de ",o.jsx("strong",{children:r}),' resultados para "',o.jsx("strong",{children:n}),'"']})}),e>0&&o.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:[r-e," ",r-e===1?"item oculto":"itens ocultos"]})]})}):null}function g7(r){if(!r)return 0;let e=String(r);if(e=e.replace(/[R$\s"\\]/g,""),e.includes(",")&&e.includes("."))e=e.replace(/\./g,"").replace(",",".");else if(e.includes(","))e=e.replace(",",".");else if(e.includes(".")){const n=e.split(".");n.length===2&&n[1].length<=2||(e=e.replace(/\./g,""))}const t=parseFloat(e);return isNaN(t)?0:t}function yD(r){if(!r)return[];const e=[];if(typeof r=="string")try{const t=JSON.parse(r);return yD(t)}catch{const t=g7(r);return!isNaN(t)&&t>0&&e.push(t.toString(),t.toFixed(2),m7(t)),e.push(r),e}return typeof r=="object"&&["price","promotional_price","old_price","old_promotional_price"].forEach(n=>{const a=r[n];if(a){const s=g7(a);!isNaN(s)&&s>0&&e.push(s.toString(),s.toFixed(2),m7(s)),e.push(String(a))}}),[...new Set(e)]}function m7(r){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r)}const hle=r=>{switch(r){case"verificado":return"Verificado";case"reprovado":return"Reprovado";case"em_analise":default:return"Em Anlise"}},fle=r=>{const e=[{key:"created_at",label:"Data de Criao",type:"date",accessor:n=>{try{return UP(n.created_at)}catch{return n.created_at}}},{key:"status",label:"Status",type:"status",accessor:n=>hle(n.status)},{key:"publisher_email",label:"Publisher Email",type:"email",accessor:n=>{var a;return((a=n.publisher)==null?void 0:a.email)||null}},{key:"publisher_name",label:"Publisher Nome",type:"text",accessor:n=>{const{publisher:a}=n;return a?a.first_name||a.last_name?`${a.first_name||""} ${a.last_name||""}`.trim():a.name||null:null}}],t=r.filter(n=>n.field_type!=="button_buy").map(n=>({key:n.id,label:n.label,type:n.field_type==="product"?"price":"dynamic",accessor:a=>{var i;const s=(i=a.values)==null?void 0:i[n.id];if(s==null)return null;if(n.field_type==="product"){const l=yD(s);return l.length>0?l.join(" "):null}return String(s)}}));return[...e,...t]},x7=r=>r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),ple=(r,e,t=!1)=>{if(!r||!e.trim())return!1;const n=x7(r),a=x7(e.trim());return t?n===a:n.includes(a)},gle=({entries:r,formFields:e,searchTerm:t,options:n={}})=>{const a=w.useMemo(()=>fle(e),[e]),s=w.useMemo(()=>t.trim()?r.filter(l=>a.some(c=>{const d=c.accessor(l);return ple(d,t,n.exactMatch||!1)})):r,[r,t,a,n.exactMatch]),i=w.useMemo(()=>{const l=r.length,c=s.length,d=t.trim().length>0;return{total:l,filtered:c,hasFilter:d,hiddenCount:d?l-c:0}},[r.length,s.length,t]);return{filteredEntries:s,searchableFields:a,searchStats:i}};function mle({entries:r,fields:e,loading:t,selectedFormId:n,onView:a,onEdit:s,onDelete:i,show:l=!0,userId:c,onCsvImportSuccess:d,formTitle:u="Formulrio"}){if(!l)return null;const[h,f]=w.useState(""),[p,m]=w.useState(10),[g,v]=w.useState(1),x=Math.ceil(r.length/p)||1;g>x&&v(x);const b=V=>{switch(V){case"verificado":return o.jsx(At,{color:"success",children:"Verificado"});case"reprovado":return o.jsx(At,{color:"error",children:"Reprovado"});case"em_analise":default:return o.jsx(At,{color:"warning",children:"Em Anlise"})}},y=e.find(V=>V.field_type==="product"),C=e.find(V=>V.field_type==="commission"),S=e.filter(V=>V.field_type!=="button_buy"&&V.field_type!=="product"&&V.field_type!=="commission").slice(0,2),_=[...y?[y]:[],...C?[C]:[],...S],[E,A]=w.useState("created_at"),[T,F]=w.useState("desc"),L=V=>{V!=="acoes"&&(E===V?F(W=>W==="asc"?"desc":"asc"):(A(V),F("asc")))},{filteredEntries:D,searchStats:O}=gle({entries:r,formFields:e,searchTerm:h,options:{exactMatch:!1}}),I=[...D].sort((V,W)=>{var q,M;let Y=V[E],G=W[E];return _.some(U=>U.id===E)&&(Y=(q=V.values)==null?void 0:q[E],G=(M=W.values)==null?void 0:M[E]),typeof Y=="string"&&typeof G=="string"?(Y=Y.toLowerCase(),G=G.toLowerCase(),Y<G?T==="asc"?-1:1:Y>G?T==="asc"?1:-1:0):typeof Y=="number"&&typeof G=="number"?T==="asc"?Y-G:G-Y:Y==null?1:G==null?-1:0}),B=Math.ceil(I.length/p)||1,z=I.slice((g-1)*p,g*p);return g>B&&v(B),t?o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-12 bg-gray-200 rounded-lg w-full mb-4 dark:bg-gray-800"}),o.jsx("div",{className:"space-y-4",children:[1,2,3].map(V=>o.jsx("div",{className:"h-20 bg-gray-200 rounded-lg dark:bg-gray-800"},V))})]}):o.jsxs("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:[o.jsx(dle,{entriesPerPage:p,onEntriesPerPageChange:m,searchTerm:h,onSearchChange:f,onPageReset:()=>v(1),formFields:e,formId:n,userId:c,onCsvImportSuccess:d,showCsvImport:!!n,entries:D,formTitle:u,showPdfExport:!0}),o.jsx(ule,{total:O.total,filtered:O.filtered,hasFilter:O.hasFilter,searchTerm:h}),o.jsx("div",{className:"max-w-full overflow-x-auto custom-scrollbar",children:o.jsx("div",{className:"min-w-[1102px]",children:o.jsxs(no,{children:[o.jsx(ao,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:o.jsxs(Tr,{children:[o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>L("created_at"),children:[o.jsx("span",{children:"Data"}),E==="created_at"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),_.map(V=>o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>L(V.id),children:[o.jsx("span",{children:V.label}),E===V.id&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})},V.id)),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>L("publisher"),children:[o.jsx("span",{children:"Publisher"}),E==="publisher"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>L("status"),children:[o.jsx("span",{children:"Status"}),E==="status"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left select-none px-5 py-3",children:[o.jsx("span",{children:"Aes"}),E==="acoes"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})]})}),o.jsxs(so,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:[z.map(V=>o.jsxs(Tr,{children:[o.jsx(rt,{className:"px-5 py-4 sm:px-6 text-start",children:o.jsx("span",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:UP(V.created_at)})}),_.map(W=>o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400 whitespace-nowrap",children:(()=>{const Y=V.values[W.id];if(W.field_type==="product"){const G=C&&parseFloat(V.values[C.id])||0;return o.jsx(w5,{commission:G,productData:Y,layout:"inline",showMarginBelow:!1,showOriginalPrice:!0})}return ooe(Y,W.field_type,W)})()},W.id)),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400 whitespace-nowrap",children:V.publisher?o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium",children:[V.publisher.first_name," ",V.publisher.last_name]}),o.jsx("div",{className:"text-xs",children:V.publisher.email})]}):"-"}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400 whitespace-nowrap",children:b(V.status||"em_analise")}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400 whitespace-nowrap",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>a(V),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Visualizar",children:o.jsx(Mo,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>s(V),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Editar",children:o.jsx(Pi,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>i(V.id),className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",title:"Excluir",children:o.jsx(rs,{className:"w-5 h-5"})})]})})]},V.id)),r.length===0&&o.jsx(Tr,{children:o.jsx("td",{colSpan:3+_.length,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:n?"Nenhum registro encontrado para este formulrio":"Selecione um formulrio para ver as entradas"})})]})]})})}),B>1&&o.jsxs("div",{className:"flex justify-end items-center gap-2 px-4 py-2",children:[o.jsx("button",{className:"px-2 py-1 text-sm text-gray-500 disabled:opacity-50",onClick:()=>v(V=>Math.max(1,V-1)),disabled:g===1,children:"Anterior"}),o.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Pgina ",g," de ",B]}),o.jsx("button",{className:"px-2 py-1 text-sm text-gray-500 disabled:opacity-50",onClick:()=>v(V=>Math.min(B,V+1)),disabled:g===B,children:"Prxima"})]})]})}async function xle(r){const{value:e,value_json:t}=r;if(t!==null)return t&&typeof t=="object"&&(t.price,t.promotional_price),t;try{const n=JSON.parse(e);return n&&typeof n=="object"&&n.promotional_price?n.price?n:n.promotional_price:e}catch{return e}}async function vle(r){const e={};return await Promise.all(r.map(async t=>{e[t.field_id]=await xle(t)})),e}function ble(){var W;const[r,e]=w.useState([]),[t,n]=w.useState(!0),[a,s]=w.useState(""),[i,l]=w.useState(""),[c,d]=w.useState(!1),[u,h]=w.useState(!1),[f,p]=w.useState(null),[m,g]=w.useState(!1),[v,x]=w.useState([]),[b,y]=w.useState(""),[C,S]=w.useState([]),[_,E]=w.useState("");w.useEffect(()=>{A(),T()},[]),w.useEffect(()=>{L()},[b]),w.useEffect(()=>{b&&F(b)},[b]);async function A(){try{const{data:{user:Y}}=await K.auth.getUser();if(!Y)return;E(Y.id);const{data:G}=await K.from("admins").select("id").eq("id",Y.id).maybeSingle();g(!!G)}catch(Y){console.error("Error checking user role:",Y)}}async function T(){try{const{data:Y,error:G}=await K.from("forms").select("id, title").order("title",{ascending:!0});if(G)throw G;x(Y||[]),Y&&Y.length>0&&y(Y[0].id)}catch(Y){console.error("Error loading forms:",Y),s("Erro ao carregar formulrios")}}async function F(Y){try{const{data:G,error:q}=await K.from("form_fields").select(`
          *,
          form_field_settings (
            no_duplicates,
            field_identifier,
            visibility,
            show_percentage
          )
        `).eq("form_id",Y).order("position",{ascending:!0});if(q)throw q;S(G||[])}catch(G){console.error("Error loading form fields:",G)}}async function L(){try{n(!0),s("");let Y=K.from("form_entries").select(`
          id,
          form_id,
          status,
          created_at,
          created_by,
          form:forms(title),
          values:form_entry_values(
            field_id,
            value,
            value_json
          ),
          notes:form_entry_notes(
            id,
            note,
            created_at,
            created_by
          )
        `).order("created_at",{ascending:!1});b&&(Y=Y.eq("form_id",b));const{data:G,error:q}=await Y;if(q)throw q;const M=await Promise.all((G||[]).map(async U=>{const $=await vle(U.values);let X=null;if(U.created_by){const{data:Q,error:se}=await K.from("platform_users").select("first_name, last_name, email").eq("id",U.created_by).maybeSingle();if(!se&&Q)X=Q;else{const{data:le,error:ue}=await K.from("admins").select("first_name, last_name, email").eq("id",U.created_by).maybeSingle();!ue&&le&&(X=le)}}return{id:U.id,form_id:U.form_id,created_at:U.created_at,status:U.status,created_by:U.created_by,publisher:X,values:$,form:U.form,notes:U.notes||[],fields:[]}}));e(M)}catch(Y){console.error("Error loading entries:",Y),s("Erro ao carregar entradas")}finally{n(!1)}}const D=Y=>{p(Y),d(!0)},O=Y=>{p(Y),h(!0)},I=async Y=>{if(confirm("Are you sure you want to delete this entry? This action cannot be undone."))try{n(!0),s(""),l("");const{error:G}=await K.from("cart_checkout_resume").update({entry_id:null}).eq("entry_id",Y);if(G)throw console.error("Error updating cart_checkout_resume:",G),G;const{error:q}=await K.from("form_entries").delete().eq("id",Y);if(q)throw q;l("Entry deleted successfully"),await L()}catch(G){console.error("Error deleting entry:",G),s("Error deleting entry")}finally{n(!1)}},B=async()=>{l("Entry updated successfully"),await L(),h(!1)},z=async()=>{l("CSV importado com sucesso!"),await L()},V=((W=v.find(Y=>Y.id===b))==null?void 0:W.title)||"Formulrio";return o.jsxs(md,{permission:"forms.entries.view",fallback:o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-error-500",children:"Acesso no autorizado"})}),children:[o.jsx(Yt,{title:"Gerenciador Editorial | Painel Admin",description:"Gerenciamento de entradas de formulrios"}),o.jsx(kr,{pageTitle:"Gerenciador Editorial"}),a&&o.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:a}),i&&o.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:i}),o.jsx("div",{className:"mb-6",children:o.jsx(roe,{forms:v,selectedFormId:b,onSelectForm:y})}),o.jsx(mle,{entries:r,fields:C,loading:t,selectedFormId:b,onView:D,onEdit:O,onDelete:I,userId:_,onCsvImportSuccess:z,formTitle:V}),f&&o.jsx(Jie,{isOpen:c,onClose:()=>d(!1),entry:{...f,form_id:f.form_id},isAdmin:m}),f&&o.jsx(toe,{isOpen:u,onClose:()=>h(!1),entry:{...f,form_id:f.form_id},onSave:B,isAdmin:m})]})}const wD=w.createContext(void 0);function kD(){const r=w.useContext(wD);return r||{appliedCoupon:null,discountValue:0,setAppliedCoupon:()=>{},setDiscountValue:()=>{},clearCoupon:()=>{}}}function CD({children:r}){const[e,t]=w.useState(null),[n,a]=w.useState(0),s=()=>{t(null),a(0)};return o.jsx(wD.Provider,{value:{appliedCoupon:e,discountValue:n,setAppliedCoupon:t,setDiscountValue:a,clearCoupon:s},children:r})}async function yle(){const{data:{user:r},error:e}=await K.auth.getUser();if(e||!r)return[];const{data:t,error:n}=await K.from("shopping_cart_items").select("*").eq("user_id",r.id);return n?[]:t}function SD(){const[r,e]=w.useState(null),[t,n]=w.useState(null),[a,s]=w.useState(null),[i,l]=w.useState(null),[c,d]=w.useState(null),u=t&&r?t.filter(v=>String(v.product_type)===String(r)):[];function h(v){if(!v)return null;const x=v.find(b=>b.is_active===!0);return s(x),console.log("activePublisherService:",x),x}async function f(){const v=await yle();if(!v.length){console.log("Carrinho vazio");return}const b=v[0].entry_id;console.log("entryId extrado do carrinho:",b);const C=(await QP()).find(T=>T.id===b);if(!C){e(null),console.log("Nenhum FormEntry encontrado com id:",b),console.log("Itens do carrinho:",v);return}console.log("FormEntry correspondente ao entryId:",C);const S=C.form_id;e(S),console.log("form_id extrado do FormEntry:",S);const _=await N5(),E=_&&S?_.filter(T=>String(T.product_type)===String(S)):[];n(E),console.log("Publisher services filtrados por product_type:",E);const A=h(E);if(A&&A.id?(l(A.id),console.log("ID do activePublisherService:",A.id)):(l(null),console.log("Nenhum activePublisherService definido.")),A&&A.id){const T=await rh(),F=T?T.filter(L=>L.service_id===A.id):[];d(F),console.log("Service cards do servio ativo:",F)}else d([]);console.log("cartProductTypeId (aps set):",S),console.log("Itens do carrinho:",v)}async function p(){const v=await N5(),x=v&&r?v.filter(b=>String(b.product_type)===String(r)):[];return n(x),console.log("Publisher services filtrados por product_type:",x),h(x),x}function m(){return a&&a.id?(l(a.id),console.log("ID do activePublisherService:",a.id),a.id):(l(null),console.log("Nenhum activePublisherService definido."),g(),null)}async function g(){if(!a||!a.id)return console.log("Nenhum activePublisherService definido para buscar service cards."),d([]),[];const v=await rh(),x=v?v.filter(b=>b.service_id===a.id):[];return d(x),console.log("Service cards do servio ativo:",x),x}return{getActiveCards:f,cartProductTypeId:r,handleGetPublisherServices:p,publisherServices:t,serviceProductType:u,activePublisherService:a,getActivePublisherServiceId:m,activePublisherServiceId:i,fetchServiceCardsByActiveService:g,serviceCardsByActiveService:c}}const wle=()=>{const{getActiveCards:r,serviceCardsByActiveService:e}=SD();return w.useEffect(()=>{r()},[]),o.jsx("div",{children:o.jsxs("div",{className:"mt-4",children:[o.jsx("h2",{className:"font-bold text-lg mb-1",children:"Escolha o pacote de contedo"}),o.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Selecione qual pacote de contedo voc deseja vincular ao seu produto."}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e&&e.length>0?e.map(t=>o.jsx("div",{className:"relative w-full",children:o.jsx("div",{className:"cursor-default",children:o.jsx(JL,{card:t,handleEdit:()=>{},handleDelete:()=>{},editButtons:!1,button:!0})})},t.id)):o.jsx("div",{className:"col-span-full text-center text-gray-500",children:"Nenhum card encontrado para o servio ativo."})})]})})};async function jD(r){const{data:e,error:t}=await K.from("order_totals").select("*").eq("user_id",r).order("created_at",{ascending:!1});return t?null:e}function kle(){const[r,e]=w.useState({});async function t(i,l,c,d){c(h=>h.map(f=>f.id===i.id?{...f,quantity:l}:f));const u=d.item_total;await _l(i.id,{quantity:l,item_total:u})}async function n(i,l,c){e(d=>({...d,[i.id]:!0}));try{const d=c.item_total;await _l(i.id,{quantity:l,item_total:d})}catch(d){console.error("Erro ao atualizar quantidade",d)}finally{e(d=>({...d,[i.id]:!1}))}}async function a(i,l,c,d){c(u=>{var h;return{...u,[i.id]:((h=l[0])==null?void 0:h.niche)||""}});try{const u=d.item_total;await _l(i.id,{niche_selected:l,item_total:u})}catch(u){console.error("Erro ao atualizar niche_selected",u)}}async function s(i,l,c,d){console.log(" handleWordCountChange chamada:",{itemId:i.id,wordCount:l,currentServiceSelected:c}),e(u=>({...u,[i.id]:!0}));try{let u=c;!Array.isArray(u)||u.length===0?(console.warn(" currentServiceSelected no  um array vlido, criando array padro"),u=[{title:"Nenhum",price:0,price_per_word:0,word_count:l,is_free:!0,benefits:[]}]):u=c.map(p=>{if(typeof p=="string")try{p=JSON.parse(p)}catch{p={title:p}}return{title:p.title||"Nenhum",price:p.price||0,price_per_word:p.price_per_word||0,word_count:l,is_free:p.is_free!==void 0?p.is_free:!0,benefits:p.benefits||[]}}),console.log(" Atualizando service_selected:",{itemId:i.id,updatedServiceSelected:u});const h=d.item_total,f=await _l(i.id,{service_selected:u,item_total:h});return console.log(" Resultado da atualizao:",f),f}catch(u){throw console.error(" Erro ao atualizar word_count personalizado",u),u}finally{e(u=>({...u,[i.id]:!1}))}}return{loadingItem:r,handleQuantityChange:t,handleQuantityBlur:n,handleNicheChange:a,handleWordCountChange:s}}function Cle(r,e,t){console.log(" getSelectedServicePackage chamada:",{itemId:r.id,selectedService:e[r.id],serviceCardsLength:t.length,itemServiceSelected:r.service_selected});let n=e[r.id];if(!n){const s=r.service_selected;if(s)if(typeof s=="string")try{const i=JSON.parse(s);i&&i.title?n=i.title:n=s}catch{n=s}else if(Array.isArray(s)&&s.length>0){const i=s[0];if(typeof i=="string")try{const l=JSON.parse(i);l&&l.title?n=l.title:n=i}catch{n=i}else typeof i=="object"&&i!==null&&i.title&&(n=i.title)}else typeof s=="object"&&s!==null&&s.title&&(n=s.title)}if(!n||n==="Nenhum")return null;const a=t.find(s=>s.title===n);if(a){console.log("Service card encontrado com benefits:",a);let s=null;if(r.service_selected&&Array.isArray(r.service_selected)&&r.service_selected.length>0){const l=r.service_selected[0];typeof l=="object"&&l.word_count!==void 0&&(s=l.word_count,console.log(" Valor personalizado encontrado:",s))}const i={title:a.title,price:a.price,price_per_word:a.price_per_word,word_count:s!==null?s:a.word_count,is_free:a.is_free,benefits:a.benefits};return console.log(" Retornando service package:",{itemId:r.id,customWordCount:s,defaultWordCount:a.word_count,finalWordCount:i.word_count}),i}return null}function di(r,e,t){const n=Cle(r,e,t);return n?[n]:[{title:"Nenhum",price:0,price_per_word:0,word_count:0,is_free:!1,benefits:[]}]}function Sle(r,e){let t=e[r.id]??r.service_selected??"";if(typeof t=="string"&&t&&t!=="[object Object]")try{const n=JSON.parse(t);return n&&typeof n=="object"&&"title"in n?n.title:t}catch{return t}if(Array.isArray(t)&&t.length>0){const n=t[0];if(typeof n=="string")try{const a=JSON.parse(n);return a&&typeof a=="object"&&"title"in a?a.title:n}catch{return n}else if(typeof n=="object"&&n!==null&&"title"in n)return n.title}return typeof t=="object"&&t!==null&&"title"in t?t.title:""}function _D(r,e){let t=e[r.id];if(!t){const n=r.niche_selected;if(Array.isArray(n)&&n.length>0)try{if(typeof n[0]=="string"){const a=JSON.parse(n[0]);a&&a.niche&&(t=a.niche)}else typeof n[0]=="object"&&n[0]!==null&&n[0].niche&&(t=n[0].niche)}catch{t=n[0]}else if(typeof n=="object"&&n!==null&&n.niche)t=n.niche;else if(typeof n=="string")try{const a=JSON.parse(n);a&&a.niche?t=a.niche:t=n}catch{t=n}}return t||""}function jle(r,e){let t=[];try{t=r.niche?JSON.parse(r.niche):[]}catch{t=[]}const n=_D(r,e);if(!n||n==="Nenhum")return 0;const a=t.find(s=>s.niche===n);return a&&a.price?Number(String(a.price).replace(/[^0-9,.-]+/g,"").replace(",",".")):0}const en={NONE:"Nenhum - eu vou fornecer o contedo",LEGACY_NONE:"nenhum - eu vou enviar o conteudo"},Ax={DEFAULT:"Artigo Padro"};function _le(){const[r,e]=w.useState([]),[t,n]=w.useState(!0),[a,s]=w.useState(null),[i,l]=w.useState({}),[c,d]=w.useState({}),[u,h]=w.useState({}),[f,p]=w.useState({}),{serviceCardsByActiveService:m,getActiveCards:g}=SD(),{loadingItem:v,handleQuantityChange:x,handleQuantityBlur:b,handleNicheChange:y,handleWordCountChange:C}=kle();w.useEffect(()=>{g();async function _(){n(!0),s(null);try{const{data:{user:A}}=await K.auth.getUser();if(!A){e([]),n(!1);return}const T=await Ao(A.id);console.log(" Dados carregados do banco:",T);const F=(T||[]).map(L=>{if(L.service_selected&&typeof L.service_selected=="string")try{const D=JSON.parse(L.service_selected);L.service_selected=Array.isArray(D)?D:[D]}catch{console.warn(" service_selected malformado, criando array padro:",L.service_selected),L.service_selected=[{title:"Nenhum",price:0,price_per_word:0,word_count:0,is_free:!0,benefits:[]}]}return Array.isArray(L.service_selected)||(L.service_selected=[{title:"Nenhum",price:0,price_per_word:0,word_count:0,is_free:!0,benefits:[]}]),L});console.log(" Dados sanitizados:",F),e(F);try{const L=await jD(A.id);if(L&&L.length>0){const D=L[0];console.log(" useResumeTableLogic: Preset encontrado:",D)}}catch(L){console.warn(" useResumeTableLogic: Erro ao buscar order_totals para preset:",L)}}catch{s("Erro ao buscar dados do resumo."),e([])}finally{n(!1)}}_();const E=()=>{_()};return window.addEventListener("resume-table-reload",E),()=>window.removeEventListener("resume-table-reload",E)},[]),w.useEffect(()=>{console.log(" Recarregando estados com resumeData:",r),l(()=>{const _={};return r.forEach(E=>{_[E.id]=E.quantity||1}),_}),d(()=>{const _={};return r.forEach(E=>{let A=E.niche_selected||"";if(Array.isArray(A)&&A.length>0&&A[0].niche)_[E.id]=A[0].niche;else if(typeof A=="object"&&A!==null&&A.niche)_[E.id]=A.niche;else if(typeof A=="string"&&A.trim()!=="")try{const T=JSON.parse(A);T&&T.niche?_[E.id]=T.niche:_[E.id]=A}catch{_[E.id]=A}else _[E.id]=Ax.DEFAULT}),_}),h(()=>{const _={};return r.forEach(E=>{let A=E.service_selected||"";if(Array.isArray(A)&&A.length>0)try{const T=A[0];if(typeof T=="string"){const F=JSON.parse(T);F&&F.title?F.title===en.LEGACY_NONE||F.title===en.NONE?_[E.id]=en.NONE:_[E.id]=F.title:_[E.id]=T}else typeof T=="object"&&T!==null&&T.title?T.title===en.LEGACY_NONE||T.title===en.NONE?_[E.id]=en.NONE:_[E.id]=T.title:_[E.id]=en.NONE}catch{_[E.id]=en.NONE}else if(typeof A=="object"&&A!==null&&A.title)A.title===en.LEGACY_NONE||A.title===en.NONE?_[E.id]=en.NONE:_[E.id]=A.title;else if(typeof A=="string"&&A.trim()!=="")try{const T=JSON.parse(A);T&&T.title?T.title===en.LEGACY_NONE||T.title===en.NONE?_[E.id]=en.NONE:_[E.id]=T.title:_[E.id]=A}catch{_[E.id]=A}else _[E.id]=en.NONE}),_}),p(()=>{const _={};return r.forEach(E=>{var F,L;console.log(" Carregando wordCounts para item:",{itemId:E.id,serviceSelected:E.service_selected,serviceSelectedType:typeof E.service_selected,isArray:Array.isArray(E.service_selected)});let A=E.service_selected||"",T=!1;if(Array.isArray(A)&&A.length>0&&(((F=A[0])==null?void 0:F.word_count)!==void 0||typeof A[0]=="string"))if(typeof A[0]=="string")try{const D=JSON.parse(A[0]);D&&D.word_count!==void 0&&(_[E.id]=Number(D.word_count),console.log(" WordCount carregado de string JSON:",Number(D.word_count)),T=!0)}catch{}else typeof A[0]=="object"&&((L=A[0])==null?void 0:L.word_count)!==void 0&&(_[E.id]=Number(A[0].word_count),console.log(" WordCount carregado de objeto:",Number(A[0].word_count)),T=!0);else if(typeof A=="object"&&A!==null&&A.word_count!==void 0)_[E.id]=Number(A.word_count),console.log(" WordCount carregado de objeto direto:",Number(A.word_count)),T=!0;else if(typeof A=="string")try{const D=JSON.parse(A);D&&D.word_count!==void 0&&(_[E.id]=Number(D.word_count),console.log(" WordCount carregado de string direto:",Number(D.word_count)),T=!0)}catch{}T||(_[E.id]="",console.log(" WordCount no encontrado, usando valor vazio"))}),console.log(" WordCounts carregados:",_),_})},[r]);function S(){n(!0),s(null),K.auth.getUser().then(({data:{user:_}})=>{if(!_){e([]),n(!1);return}Ao(_.id).then(E=>e(E||[])).catch(()=>{s("Erro ao buscar dados do resumo."),e([])}).finally(()=>n(!1))})}return w.useEffect(()=>{r.length>0&&r.forEach(async _=>{let E=!1;const A={};if((!_.niche_selected||typeof _.niche_selected=="string"&&_.niche_selected.trim()===""||Array.isArray(_.niche_selected)&&_.niche_selected.length===0)&&(A.niche_selected=[{niche:Ax.DEFAULT,price:"0"}],E=!0),(!_.service_selected||typeof _.service_selected=="string"&&_.service_selected.trim()===""||Array.isArray(_.service_selected)&&_.service_selected.length===0)&&(A.service_selected=[{title:en.NONE,price_per_word:0,word_count:0,is_free:!0,price:0,benefits:[]}],E=!0),E)try{const{updateCartCheckoutResume:T}=await Ma(async()=>{const{updateCartCheckoutResume:F}=await Promise.resolve().then(()=>x5);return{updateCartCheckoutResume:F}},void 0);await T(_.id,A)}catch(T){console.warn("Erro ao salvar valores padro:",T)}})},[r]),{resumeData:r,loading:t,error:a,quantities:i,setQuantities:l,selectedNiches:c,setSelectedNiches:d,selectedService:u,setSelectedService:h,wordCounts:f,setWordCounts:p,loadingItem:v,handleQuantityChange:x,handleQuantityBlur:b,handleNicheChange:y,handleWordCountChange:C,serviceCardsByActiveService:m,getSelectedNicheName:_D,getSelectedServiceTitle:Sle,getNichePrice:jle,fetchResumeData:S}}const Em=new Map;async function Nle(r,e,t,n,a=0,s){if(!r||!Array.isArray(r)||r.length===0)return 0;const i=r.reduce((f,p)=>f+Number(p),0),l=e?e.reduce((f,p)=>f+Number(p),0):i,c=t?t.reduce((f,p)=>f+Number(p),0):0,d=n?n.reduce((f,p)=>f+Number(p||0),0):0,{data:{user:u}}=await K.auth.getUser();if(!u)throw new Error("Usurio no autenticado");if(Em.has(u.id))return await Em.get(u.id);const h=Ele(u.id,l,c,i,d,a,s);Em.set(u.id,h);try{return await h}finally{Em.delete(u.id)}}async function Ele(r,e,t,n,a,s=0,i){try{console.log(" [CALCULATE TOTAL] Salvando totais:",{userId:r,somaProduct:e,somaContent:t,somaFinal:n,somaWordCount:a,discountValue:s,couponId:i});const l=Math.max(n-s,0),{data:c}=await K.from("order_totals").select("id").eq("user_id",r).order("created_at",{ascending:!1}).limit(1).maybeSingle(),d={user_id:r,total_product_price:e,total_content_price:t,total_final_price:l,total_word_count:a,applied_coupon_id:i||null,discount_value:s,updated_at:new Date().toISOString()};console.log(" [SAVE ORDER TOTALS] Dados para salvar:",{finalPriceWithDiscount:l,originalTotal:n,discountValue:s,couponId:i,recordData:d});let u;if(c?(console.log(" [ORDER TOTALS WITH DISCOUNT] Atualizando registro existente:",c.id),u=await K.from("order_totals").update(d).eq("id",c.id).select().single()):(console.log(" [ORDER TOTALS WITH DISCOUNT] Criando novo registro"),u=await K.from("order_totals").insert(d).select().single()),u.error)throw console.error(" [ORDER TOTALS WITH DISCOUNT] Erro ao salvar:",u.error),new Error(`Erro ao salvar totais: ${u.error.message}`);return console.log(" [ORDER TOTALS WITH DISCOUNT] Totais salvos com desconto:",{originalTotal:n,discountValue:s,finalPriceWithDiscount:l,couponId:i}),typeof window<"u"&&window.dispatchEvent(new Event("order-totals-updated")),l}catch(l){throw console.error(" [CALCULATE TOTAL] Erro:",l),l}}function Ale(r,e,t,n){const{appliedCoupon:a,discountValue:s}=kD();w.useEffect(()=>{!r||r.length===0||(console.log(" [CUPOM CALCULATION] Recalculando totais:",{totalFinalArray:r,discountValue:s,appliedCoupon:(a==null?void 0:a.code)||null}),Nle(r,e,t,n,s,(a==null?void 0:a.id)||null).catch(i=>{console.error("Erro ao recalcular totais com cupom:",i)}))},[r,e,t,n,s,a==null?void 0:a.id])}const Ple=({value:r,onChange:e,disabled:t})=>o.jsx("input",{type:"number",min:0,value:r,onChange:n=>{const a=Math.max(0,Number(n.target.value));e(a)},className:"w-24 text-center rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-200 text-xs focus:outline-none focus:ring-2 focus:ring-brand-300 py-0 h-7 px-2",style:{MozAppearance:"textfield"},disabled:t}),Lle=({rowCount:r=3})=>{const e=Array.from({length:r});return o.jsxs("div",{className:"overflow-hidden bg-white dark:bg-white/[0.03] p-6 rounded-xl border border-gray-200 dark:border-gray-800",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Resumo do Pedido"}),o.jsx("div",{className:"max-w-full overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-800 animate-pulse",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-3.5 text-left text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Produto (URL)"}),o.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Qtd"}),o.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Nicho"}),o.jsx("th",{className:"px-3 py- text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Pacote de Contedo"}),o.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Palavras"}),o.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Total"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-800 dark:bg-gray-900",children:e.map((t,n)=>o.jsx("tr",{children:Array.from({length:6}).map((a,s)=>o.jsx("td",{className:"px-3 py-4",children:o.jsx("div",{className:"rounded bg-gray-200 dark:bg-gray-700 w-full",style:{height:38.98,minHeight:16}})},s))},n))})]})})]})};function ly({item:r,quantities:e,selectedNiches:t,selectedService:n,wordCounts:a,serviceCardsByActiveService:s,getServicePackageArray:i,getNichePrice:l}){const c=r.price*(e[r.id]??r.quantity??1);console.log(" item.",r);const d=l(r,t),u=i(r,n,s??[]),h=u.length>0&&u[0].is_free,f=a[r.id]??"",p=u.length>0&&u[0].word_count,m=h?Number(f)>Number(p)?Number(f)-Number(p):0:Number(f),g=u.length>0&&u[0].price_per_word,v=e[r.id]??r.quantity??1,x=g*m*v;return d>0?d*v+x:c+x}function Dle({item:r,wordCounts:e,selectedService:t,serviceCardsByActiveService:n,getServicePackageArray:a}){const s=a(r,t,n??[]);if(s.length===0)return 0;const i=s[0].is_free,l=s[0].word_count,c=s[0].price_per_word,d=e[r.id]??"";if(!d||Number(d)<=0)return 0;if(i&&Number(d)>Number(l)){const u=Number(d)-Number(l);return c*u}return i?0:c*Number(d)}async function Tle(r){const e=Object.entries(r).map(async([t,n])=>{try{await _l(t,{item_total:n})}catch(a){console.error(`Erro ao atualizar item_total para id ${t}:`,a)}});await Promise.all(e)}function Rle(r,e){const[t,n]=w.useState(r);return w.useEffect(()=>{const a=setTimeout(()=>{n(r)},e);return()=>{clearTimeout(a)}},[r,e]),t}function Mle(r){const[e,t]=w.useState(0),[n,a]=w.useState(0),[s,i]=w.useState({}),l=_le(),[c,d]=w.useState({finalPrices:[],productPrices:[],contentPrices:[],wordCounts:[]});Ale(c.finalPrices,c.productPrices,c.contentPrices,c.wordCounts),w.useEffect(()=>{const q=()=>{t(M=>M+1),typeof r.onReload=="function"&&r.onReload()};return window.addEventListener("resume-table-reload",q),()=>window.removeEventListener("resume-table-reload",q)},[r]),w.useEffect(()=>{e>0&&l.fetchResumeData()},[e]),w.useEffect(()=>()=>{Object.values(s).forEach(q=>{clearTimeout(q)})},[s]);const{resumeData:u,loading:h,error:f,quantities:p,setQuantities:m,selectedNiches:g,setSelectedNiches:v,selectedService:x,setSelectedService:b,wordCounts:y,setWordCounts:C,loadingItem:S,handleQuantityChange:_,handleQuantityBlur:E,handleNicheChange:A,handleWordCountChange:T,serviceCardsByActiveService:F,getSelectedNicheName:L,getSelectedServiceTitle:D,getNichePrice:O}=l,I=Rle(n,500);w.useEffect(()=>{a(q=>q+1)},[u,p,g,x,y,F]),w.useEffect(()=>{if(I>0&&u.length>0){console.log("[ResumeTable] Calculando totais com debounce:",u);const q=u.map(X=>{const Q=p[X.id]??X.quantity??1,se=O(X,g);return se>0?se*Q:Number(X.price)*Q}),M=u.map(X=>Dle({item:X,wordCounts:y,selectedService:x,serviceCardsByActiveService:F,getServicePackageArray:di})),U=u.map(X=>{const Q=y[X.id];return typeof Q=="number"?Q:0}),$=u.map(X=>ly({item:X,quantities:p,selectedNiches:g,selectedService:x,wordCounts:y,serviceCardsByActiveService:F,getServicePackageArray:di,getNichePrice:O}));d({finalPrices:$,productPrices:q,contentPrices:M,wordCounts:U})}},[I]);const{removeItem:B}=fd(),z=async(q,M)=>{if(window.confirm("Tem certeza que deseja remover este item?"))try{typeof window<"u"&&(document.body.style.cursor="wait");const{deleteCartCheckoutResume:U}=await Ma(async()=>{const{deleteCartCheckoutResume:X}=await Promise.resolve().then(()=>x5);return{deleteCartCheckoutResume:X}},void 0);await U(q)?(M&&await B(M),window.dispatchEvent(new Event("resume-table-reload"))):alert("Erro ao remover item do resumo.")}finally{typeof window<"u"&&(document.body.style.cursor="default")}};function V(q){return ly({item:q,quantities:p,selectedNiches:g,selectedService:x,wordCounts:y,serviceCardsByActiveService:F,getServicePackageArray:di,getNichePrice:O})}const[W,Y]=w.useState({});if(w.useEffect(()=>{const q={};u.forEach(M=>{q[M.id]=ly({item:M,quantities:p,selectedNiches:g,selectedService:x,wordCounts:y,serviceCardsByActiveService:F,getServicePackageArray:di,getNichePrice:O})}),Y(q)},[u,p,g,x,y,F,di,O]),w.useEffect(()=>{if(Object.keys(W).length>0){const q=Object.entries(W).map(([M,U])=>({id:M,total:U}));console.log("totalsMap:",q),Tle(W)}},[W]),h){const q=u&&u.length>0?u.length:3;return o.jsx(Lle,{rowCount:q})}if(f)return o.jsx("div",{className:"p-6 text-red-500",children:f});function G(q){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(q)}return o.jsxs("div",{className:"overflow-hidden bg-white dark:bg-white/[0.03] p-6 rounded-xl border border-gray-200 dark:border-gray-800",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Reviso de pedido"}),o.jsx("div",{className:"max-w-full overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-800",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-3.5 text-left text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Produto (URL)"}),o.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",style:{display:"none"},children:"Qtd"}),o.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Nicho"}),o.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:o.jsx(y3,{content:"Selecione um opo, caso deseje comprar os contedos.",children:"Pacote de Contedo"})}),o.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Palavras"}),o.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Total"}),o.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Aes"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-800 dark:bg-gray-900",children:u.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-center py-6 text-gray-400",children:"Nenhum item no resumo do pedido."})}):u.map(q=>{let M=[];try{M=q.niche?JSON.parse(q.niche):[]}catch{M=[]}if(Number(q.price),M.length>0&&g[q.id]){const $=M.find(X=>X.niche===g[q.id]);$&&$.price&&Number(String($.price).replace(/[^0-9,.-]+/g,"").replace(",","."))}const U=W[q.id]??0;return o.jsxs("tr",{children:[o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-700 dark:text-gray-300 text-left",children:o.jsxs("div",{className:"flex items-center gap-2",children:[q.product_url&&o.jsx("img",{src:`https://www.google.com/s2/favicons?domain=${q.product_url}&sz=32`,alt:"Site icon",width:20,height:20,className:"flex-shrink-0"}),o.jsx("span",{className:"font-semibold text-gray-800 text-theme-sm dark:text-white/90 whitespace-nowrap",children:q.product_url||"-"})]})}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-700 dark:text-gray-300 text-center",style:{display:"none"},children:o.jsx("div",{className:"relative flex items-center justify-center",children:o.jsx("input",{type:"number",min:1,value:p[q.id]??q.quantity??1,onChange:async $=>{const X=Math.max(1,Number($.target.value));m(Q=>({...Q,[q.id]:X})),await _(q,X,Q=>Q,{item:q,quantities:{...p,[q.id]:X},selectedNiches:g,selectedService:x,wordCounts:y,serviceCardsByActiveService:F,getServicePackageArray:di,getNichePrice:O,getTotalForRow:V,item_total:W[q.id]??0})},onBlur:()=>E(q,p[q.id]??q.quantity??1,{item:q,quantities:p,selectedNiches:g,selectedService:x,wordCounts:y,serviceCardsByActiveService:F,getServicePackageArray:di,getNichePrice:O,getTotalForRow:V,item_total:W[q.id]??0}),className:"w-16 text-center rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-200 text-xs focus:outline-none focus:ring-2 focus:ring-brand-300 py-0 h-7 px-2",style:{MozAppearance:"textfield"},disabled:!!S[q.id]})})}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-700 dark:text-gray-300 text-center",children:o.jsxs("div",{className:"relative",children:[o.jsxs("select",{className:`h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 pr-11 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 ${L(q,g)?"text-gray-800 dark:text-white/90":"text-gray-400 dark:text-gray-400"} pl-4`,value:L(q,g),onChange:async $=>{const X=$.target.value;if(!X){v(le=>({...le,[q.id]:"Nenhum"})),await A(q,[{niche:"Nenhum",price:"0"}],v,{item:q,quantities:p,selectedNiches:{...g,[q.id]:"Nenhum"},selectedService:x,wordCounts:y,serviceCardsByActiveService:F,getServicePackageArray:di,getNichePrice:O});return}v(le=>({...le,[q.id]:X}));const Q=M.find(le=>le.niche===X),se=Q&&Q.price?String(Q.price):"";await A(q,[{niche:X,price:se}],v,{item:q,quantities:p,selectedNiches:{...g,[q.id]:X},selectedService:x,wordCounts:y,serviceCardsByActiveService:F,getServicePackageArray:di,getNichePrice:O})},children:[o.jsx("option",{value:Ax.DEFAULT,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:Ax.DEFAULT}),M.map(($,X)=>o.jsxs("option",{value:$.niche,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:[$.niche," ",$.price&&`(${$.price})`]},X))]}),o.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:o.jsx("svg",{className:"stroke-gray-500 dark:stroke-gray-400",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-700 dark:text-gray-300 text-center",children:o.jsxs("div",{className:"relative",children:[o.jsxs("select",{className:`h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 pr-11 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 ${D(q,x)?"text-gray-800 dark:text-white/90":"text-gray-400 dark:text-gray-400"} pl-4`,value:D(q,x),onChange:async $=>{const X=$.target.value;b(se=>({...se,[q.id]:X}));const Q=F==null?void 0:F.find(se=>se.title===X);if(C(se=>({...se,[q.id]:(Q==null?void 0:Q.word_count)??""})),q.id){const{updateCartCheckoutResume:se}=await Ma(async()=>{const{updateCartCheckoutResume:ue}=await Promise.resolve().then(()=>x5);return{updateCartCheckoutResume:ue}},void 0);let le;!X||X===en.NONE||X===""?le=[{title:X||en.NONE,price_per_word:0,word_count:0,is_free:!0,price:0,benefits:[]}]:le=di(q,{...x,[q.id]:X},F??[]).map(ye=>({...ye,price:(Q==null?void 0:Q.price)??0,word_count:(Q==null?void 0:Q.word_count)??0})),await se(q.id,{service_selected:le})}},children:[o.jsx("option",{value:en.NONE,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:en.NONE}),F&&F.length>0&&F.map(($,X)=>o.jsx("option",{value:$.title,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:$.title},$.id||X))]}),o.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:o.jsx("svg",{className:"stroke-gray-500 dark:stroke-gray-400",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-700 dark:text-gray-300 text-center",children:(()=>{const $=x[q.id]??D(q,x);if(console.log(" Verificando renderizao do WordCountInput:",{itemId:q.id,selected:$,selectedService:x[q.id],shouldRender:$&&!$.trim().toLowerCase().startsWith("nenhum")}),!$||$.trim().toLowerCase().startsWith("nenhum")||$===en.NONE)return console.log(" No renderizando WordCountInput - pacote invlido:",$),null;console.log(" Renderizando WordCountInput:",{itemId:q.id,wordCountValue:y[q.id],selectedService:x[q.id]});const X=y[q.id]??"";return console.log(" WordCountInput recebendo valor:",{itemId:q.id,inputValue:X,wordCounts:y,selectedService:x[q.id]}),console.log(" Renderizando WordCountInput com valor:",{inputValue:X,type:typeof X,isNumber:typeof X=="number",isString:typeof X=="string"}),o.jsx(Ple,{value:X,onChange:async Q=>{C(le=>({...le,[q.id]:Q})),s[q.id]&&clearTimeout(s[q.id]);const se=setTimeout(async()=>{const le=x[q.id]??D(q,x),ue=F==null?void 0:F.find(Ne=>Ne.title===le),ye=ue?[{title:ue.title,price:ue.price,price_per_word:ue.price_per_word,word_count:Q,is_free:ue.is_free,benefits:ue.benefits}]:[{title:le||"Nenhum",price:0,price_per_word:0,word_count:Q,is_free:!0,benefits:[]}];await T(q,Q,ye,{item:q,quantities:p,selectedNiches:g,selectedService:x,wordCounts:{...y,[q.id]:Q},serviceCardsByActiveService:F,getServicePackageArray:di,getNichePrice:O})},500);i(le=>({...le,[q.id]:se}))}})})()}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm font-medium text-gray-800 dark:text-white/90 text-right",children:G(U)}),o.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-center",children:o.jsx("button",{type:"button","aria-label":"Remover item",className:"text-red-500 hover:text-red-700 transition-colors p-1 rounded disabled:opacity-50",onClick:()=>z(q.id,q.entry_id),disabled:!!S[q.id],children:o.jsx(rs,{className:"w-5 h-5"})})})]},q.id)})})]})})]})}function Ile(){const[r,e]=w.useState("");function t(n){e(n.target.value),console.log("Cupom digitado:",n.target.value)}return{couponValue:r,handleCouponChange:t}}function Ole(r,e){const[t,n]=w.useState(!1),[a,s]=w.useState(null),[i,l]=w.useState(null),[c,d]=w.useState(0),{setAppliedCoupon:u,setDiscountValue:h,clearCoupon:f}=kD(),p=w.useCallback(()=>{if(!r||!e){l(null),d(0),s(null),f();return}n(!0),s(null),Fie(r,e).then(m=>{if(m.valid&&m.coupon){l(m.coupon);const g=Bie(m.coupon,e);d(g),s(null),u(m.coupon),h(g),console.log(" [CUPOM] Aplicado com sucesso:",{coupon:m.coupon.code,discount:g,orderTotal:e})}else l(null),d(0),s(m.error||"Cupom invlido"),f(),console.log(" [CUPOM] Invlido:",m.error)}).catch(()=>{l(null),d(0),s("Erro ao validar cupom"),f()}).finally(()=>n(!1))},[r,e,u,h,f]);return w.useEffect(()=>{p()},[r,e,p]),{loading:t,error:a,appliedCoupon:i,discountValue:c,validate:p}}function Fle(){const[r,e]=w.useState(0),[t,n]=w.useState(!0),[a,s]=w.useState(null);return w.useEffect(()=>{async function i(){n(!0),s(null);try{const{data:{user:c}}=await K.auth.getUser();if(!c){e(0),n(!1);return}const d=await Ao(c.id);if(d&&d.length>0){const u=d.reduce((h,f)=>h+(f.item_total??0),0);e(u)}else e(0)}catch{s("Erro ao buscar total do checkout"),e(0)}finally{n(!1)}}i();function l(){i()}return window.addEventListener("resume-table-reload",l),window.addEventListener("order-totals-updated",l),()=>{window.removeEventListener("resume-table-reload",l),window.removeEventListener("order-totals-updated",l)}},[]),{total:r,loading:t,error:a}}function ND(){const[r,e]=w.useState(null),[t,n]=w.useState(null),[a,s]=w.useState(null),[i,l]=w.useState(null),[c,d]=w.useState(0),[u,h]=w.useState(!0),[f,p]=w.useState(null),[m,g]=w.useState(0),v=mr(),x=Pn(),{couponValue:b,handleCouponChange:y}=Ile(),[C,S]=w.useState(""),_=w.useRef(null),{total:E,loading:A}=Fle(),[T,F]=w.useState([]),[L,D]=w.useState(!0),O=x.pathname==="/checkout/payment";w.useEffect(()=>{async function G(){try{h(!0),p(null);const{data:{user:q},error:M}=await K.auth.getUser();if(M){p("Erro ao verificar usurio logado");return}if(!q){p("Usurio no est logado");return}const U=await jD(q.id);if(U&&U.length>0){const $=U[0];if($.user_id===q.id){const X=Number($.total_product_price)||0,Q=Number($.total_content_price)||0,se=Number($.total_final_price)||0,le=$.applied_coupon_id||null,ue=Number($.discount_value)||0;e(X),n(Q),s(se),l(le),d(ue)}else e(0),n(0),s(0),l(null),d(0)}else e(0),n(0),s(0),l(null),d(0)}catch{p("Erro ao carregar totais do pedido"),e(0),n(0),s(0)}finally{h(!1)}}G()},[m]),w.useEffect(()=>{async function G(){D(!0);const{data:{user:q}}=await K.auth.getUser();if(!q){F([]),D(!1);return}const M=await Ao(q.id);F(M||[]),D(!1)}G()},[]),w.useEffect(()=>{function G(){g(q=>q+1)}return window.addEventListener("order-totals-updated",G),()=>window.removeEventListener("order-totals-updated",G)},[]);const{loading:I,error:B,appliedCoupon:z,discountValue:V}=Ole(b,E),W=async()=>{try{h(!0),p(null);const{data:{user:G},error:q}=await K.auth.getUser();if(q||!G){p("Usurio no autenticado"),h(!1);return}h(!1),v("/checkout/payment")}catch{p("Erro ao prosseguir para pagamento"),h(!1)}},Y=()=>{var G;y({target:{value:C}}),(G=_.current)==null||G.focus()};return o.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-xl border border-gray-200 dark:border-gray-800",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-4",children:"Resumo do pedido"}),window.location.pathname==="/checkout"&&o.jsxs("div",{className:"mb-4 flex flex-col items-start gap-2",children:[o.jsx("label",{htmlFor:"inputcode-textfield-with-link",className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cupom de desconto"}),o.jsxs("div",{className:"andes-form-control__control",style:{width:"100%",maxWidth:340,display:"flex",alignItems:"center"},children:[o.jsx("input",{autoComplete:"off",id:"inputcode-textfield-with-link",className:"flex-grow rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-200 text-sm px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brand-300",maxLength:23,placeholder:"Inserir cdigo do cupom","aria-label":"Inserir cdigo do cupom",value:C,onChange:G=>S(G.target.value),style:{minWidth:0},ref:_}),o.jsx("div",{style:{marginLeft:8},children:o.jsx("button",{type:"button",className:"bg-brand-500 hover:bg-brand-600 text-white font-medium py-2 px-4 rounded transition-colors",onClick:Y,children:"Adicionar"})})]}),I&&o.jsx("span",{className:"text-xs text-gray-500",children:"Validando cupom..."}),B&&o.jsx("span",{className:"text-xs text-red-500",children:B}),z&&o.jsxs("span",{className:"text-xs text-green-600",children:["Cupom aplicado: ",z.code," - ",z.name]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-sm text-gray-700 dark:text-gray-200 mb-1",children:"Itens:"}),L?o.jsx("span",{className:"text-xs text-gray-500",children:"Carregando itens..."}):T.length===0?o.jsx("span",{className:"text-xs text-gray-400",children:"Nenhum item encontrado."}):o.jsx("ul",{className:"list-disc list-inside text-xs text-gray-700 dark:text-gray-200",children:T.map((G,q)=>o.jsx("li",{className:"break-all flex items-center",children:o.jsx("span",{children:G.product_url})},q))})]}),f&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:f})}),o.jsx("div",{className:"py-2"}),o.jsxs("div",{className:"my-2 border-t border-b border-t-gray-300 border-b-gray-300 dark:border-t-gray-700 dark:border-b-gray-700 py-5",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:"Valor"}),o.jsx("div",{className:"text-gray-900 dark:text-white",children:u?o.jsx("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 h-4 w-16 rounded"}):o.jsxs(o.Fragment,{children:["R$",r!==null?r.toLocaleString("pt-BR",{minimumFractionDigits:2}):"0,00"]})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:"Contedo"}),o.jsx("div",{className:"text-gray-900 dark:text-white",children:u?o.jsx("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 h-4 w-16 rounded"}):o.jsxs(o.Fragment,{children:["R$",t!==null?t.toLocaleString("pt-BR",{minimumFractionDigits:2}):"0,00"]})})]}),(O?c>0:V>0)&&o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:"Desconto"}),o.jsxs("div",{className:"text-green-600 dark:text-green-400",children:["- ",Hb(O?c:V)]})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"font-medium text-gray-800 dark:text-white",children:"Total"}),o.jsx("div",{children:u||A?o.jsx("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 h-5 w-20 rounded"}):o.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:Hb(O?a||0:Math.max(E-V,0))})})]}),window.location.pathname!=="/checkout/payment"&&o.jsx("button",{className:"w-full mt-4 bg-brand-500 hover:bg-brand-600 text-white font-medium py-2 px-4 rounded transition-colors",type:"button",onClick:W,children:"Ir para pagamento"})]})}function ED({offsetTop:r=20,onlyOnDesktop:e=!0}={}){const t=w.useRef(null),n=w.useRef(null),[a,s]=w.useState(!1),[i,l]=w.useState({}),[c,d]=w.useState({}),u=w.useRef(null),h=w.useCallback(()=>{var v;if(!t.current)return;if(e&&window.innerWidth<768){s(!1),l({}),d({display:"none"});return}const p=t.current;if(!u.current&&!a){const x=p.getBoundingClientRect();u.current={top:x.top+window.scrollY,left:x.left,width:x.width,height:x.height}}if(!u.current)return;const g=window.scrollY>u.current.top-r;if(g&&!a){const x=p.getBoundingClientRect(),b=(v=p.parentElement)==null?void 0:v.getBoundingClientRect();s(!0),l({position:"fixed",top:r,left:x.left,width:(b==null?void 0:b.width)||x.width,zIndex:10}),d({height:u.current.height,width:"100%",display:"block"})}else!g&&a&&(s(!1),l({}),d({display:"none"}))},[a,r,e]),f=w.useCallback(()=>{u.current=null,s(!1),l({}),d({display:"none"}),requestAnimationFrame(h)},[h]);return w.useEffect(()=>{let p=!1;const m=()=>{p||(requestAnimationFrame(()=>{h(),p=!1}),p=!0)};return window.addEventListener("scroll",m,{passive:!0}),window.addEventListener("resize",f),requestAnimationFrame(h),()=>{window.removeEventListener("scroll",m),window.removeEventListener("resize",f)}},[h,f]),{ref:t,placeholderRef:n,style:i,placeholderStyle:c,isFixed:a}}function Ble(){const{items:r}=fd(),e=mr(),[t]=w.useState(!1),n=ED({offsetTop:20,onlyOnDesktop:!0});return t?o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"Pedido Confirmado | Marketplace",description:"Seu pedido foi confirmado com sucesso"}),o.jsx(kr,{pageTitle:"Pedido Confirmado"}),o.jsx("div",{className:"max-w-2xl mx-auto",children:o.jsxs("div",{className:"bg-white dark:bg-gray-900 p-8 rounded-xl border border-gray-200 dark:border-gray-800 text-center",children:[o.jsx("div",{className:"mb-6 flex justify-center",children:o.jsx("div",{className:"w-16 h-16 bg-success-100 dark:bg-success-900/30 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-success-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})}),o.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white mb-4",children:"Pedido Confirmado!"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Seu pedido foi processado com sucesso. Voc receber um email com os detalhes do pedido em breve."}),o.jsx(at,{onClick:()=>e("/"),children:"Voltar para a Loja"})]})})]}):r.length===0?o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"Checkout | Marketplace",description:"Finalizar compra"}),o.jsx(kr,{pageTitle:"Checkout"}),o.jsx("div",{className:"max-w-2xl mx-auto",children:o.jsxs("div",{className:"bg-white dark:bg-gray-900 p-8 rounded-xl border border-gray-200 dark:border-gray-800 text-center",children:[o.jsx("div",{className:"mb-6",children:o.jsx("svg",{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),o.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white mb-4",children:"Seu carrinho est vazio"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Adicione alguns produtos ao seu carrinho antes de finalizar a compra."}),o.jsx(at,{onClick:()=>e("/"),children:"Voltar para a Loja"})]})})]}):o.jsxs(CD,{children:[o.jsx(Yt,{title:"Checkout | Marketplace",description:"Finalizar compra"}),o.jsx(kr,{pageTitle:"Checkout"}),o.jsxs("div",{className:"w-full flex mx-auto min-h-screen gap-4",children:[o.jsxs("div",{className:"flex-1 flex flex-col gap-8 mb-8",children:[o.jsx(wle,{}),o.jsx(Mle,{showCouponInput:!0})]}),o.jsxs("div",{className:"my-5 w-full flex-none md:my-0 md:w-72 lg:w-2/6 ml-2 md:ml-3 lg:ml-4",children:[o.jsx("div",{ref:n.placeholderRef,style:n.placeholderStyle}),o.jsx("div",{ref:n.ref,style:n.style,className:"w-full",children:o.jsx(ND,{})})]})]})]})}const Ka=r=>r.replace(/\D/g,""),AD=r=>{const e=Ka(r);return e.length<=3?e:e.length<=6?`${e.slice(0,3)}.${e.slice(3)}`:e.length<=9?`${e.slice(0,3)}.${e.slice(3,6)}.${e.slice(6)}`:`${e.slice(0,3)}.${e.slice(3,6)}.${e.slice(6,9)}-${e.slice(9,11)}`},PD=r=>{const e=Ka(r);return e.length<=2?e:e.length<=5?`${e.slice(0,2)}.${e.slice(2)}`:e.length<=8?`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5)}`:e.length<=12?`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5,8)}/${e.slice(8)}`:`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5,8)}/${e.slice(8,12)}-${e.slice(12,14)}`},zle=r=>{const e=Ka(r);return e.length<=5?e:`${e.slice(0,5)}-${e.slice(5,8)}`},Hle=r=>{const e=Ka(r);let t="",n=e;return e.length>11&&(t=`+${e.slice(0,e.length-11)} `,n=e.slice(e.length-11)),n.length<=2?t+n:n.length<=7?`${t}(${n.slice(0,2)}) ${n.slice(2)}`:n.length<=10?`${t}(${n.slice(0,2)}) ${n.slice(2,6)}-${n.slice(6)}`:`${t}(${n.slice(0,2)}) ${n.slice(2,7)}-${n.slice(7,11)}`},Ule=r=>r.toLowerCase().trim(),LD=r=>{const e=Ka(r);if(e.length!==11||/^(\d)\1{10}$/.test(e))return!1;let t=0;for(let i=0;i<9;i++)t+=parseInt(e.charAt(i))*(10-i);let n=11-t%11,a=n>=10?0:n;if(parseInt(e.charAt(9))!==a)return!1;t=0;for(let i=0;i<10;i++)t+=parseInt(e.charAt(i))*(11-i);n=11-t%11;let s=n>=10?0:n;return parseInt(e.charAt(10))===s},DD=r=>Ka(r).length===14,Vle=r=>{const e=Ka(r);return e.length===8&&/^\d{8}$/.test(e)},TD=r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r),$le=(r,e)=>{const t=Ka(r);switch(e){case"cpf":return t.length===11;case"cnpj":return t.length===14;case"cep":return t.length===8;case"phone":return t.length===10||t.length===11;case"email":return TD(r);case"document":return t.length===11||t.length===14;default:return r.trim().length>0}},Wle=r=>Ka(r).length<=11?AD(r):PD(r),qle=r=>{const e=Ka(r);return e.length===11||e.length===14},vf=({mask:r="none",value:e="",onChange:t,onBlur:n,validateOnBlur:a=!0,type:s="text",id:i,name:l,placeholder:c,className:d="",disabled:u=!1,required:h=!1,maxLength:f,hint:p,autoComplete:m})=>{const[g,v]=w.useState(e),[x,b]=w.useState(null),[y,C]=w.useState("");w.useEffect(()=>{e!==g&&v(S(e))},[e]),w.useEffect(()=>{const{isValid:I,message:B}=_(g);b(I),C(B)},[g]);const S=I=>{if(!I)return"";switch(r){case"cpf":return AD(I);case"cnpj":return PD(I);case"cep":return zle(I);case"phone":return Hle(I);case"email":return Ule(I);case"document":return Wle(I);default:return I}},_=I=>{const B=r==="phone"?Ka(I):I;if(!B&&!h)return{isValid:!0,message:""};if(!B&&h)return{isValid:!1,message:"Este campo  obrigatrio"};switch(r){case"phone":{const q=Ka(I),M=q.length>=10&&q.length<=15;return{isValid:M,message:I?M?"":"Telefone deve conter entre 10 e 15 dgitos":""}}case"cpf":const z=LD(I);return{isValid:z,message:z?"":"CPF invlido"};case"cnpj":const V=DD(I);return{isValid:V,message:V?"":"CNPJ invlido"};case"cep":const W=Vle(I);return{isValid:W,message:W?"":"CEP deve ter 8 dgitos"};case"email":const Y=TD(I);return{isValid:Y,message:Y?"":"Email invlido"};case"document":const G=qle(I);return{isValid:G,message:G?"":"CPF ou CNPJ invlido"};default:return{isValid:!0,message:""}}},E=()=>{if(c)return c;switch(r){case"cpf":return"000.000.000-00";case"cnpj":return"00.000.000/0000-00";case"cep":return"00000-000";case"phone":return"+99 (99) 99999-9999";case"email":return"exemplo@email.com";case"document":return"CPF ou CNPJ";default:return""}},A=()=>{if(f)return f;switch(r){case"cpf":return 14;case"cnpj":return 18;case"cep":return 9;case"phone":return 25;case"document":return 18;default:return 255}},T=()=>{switch(r){case"cpf":return"CPF deve ter 11 dgitos";case"cnpj":return"CNPJ deve ter 14 dgitos";case"cep":return"CEP deve ter 8 dgitos";case"phone":return"Telefone deve conter entre 10 e 15 dgitos";case"email":return"Email invlido";case"document":return"CPF deve ter 11 dgitos ou CNPJ deve ter 14 dgitos";default:return"Campo incompleto"}},F=I=>{const B=I.target.value,z=S(B);v(z),h&&z?(b(!0),C("")):(!h||!z)&&(b(null),C(""));const V={...I,target:{...I.target,name:l||I.target.name,value:r==="email"?z:Ka(z)}};t==null||t(V)},L=I=>{if(h&&g)if(r==="phone"){const z=_(g);b(z.isValid),C(z.message)}else if($le(g,r)){const V=_(g);b(V.isValid),C(V.message)}else b(!1),C(T());else if(a){const z=_(g);b(z.isValid),C(z.message)}const B={...I,target:{...I.target,name:l||I.target.name,value:r==="email"?g:Ka(g)}};n==null||n(B)},D=x===!1&&g&&g.length>0,O=D?void 0:y||p;return o.jsxs("div",{className:"relative w-full",children:[o.jsx(st,{type:r==="email"?"email":r==="phone"?"tel":s,id:i,name:l,value:g,onChange:F,onBlur:L,placeholder:E(),className:d,disabled:u,required:h,maxLength:A(),autoComplete:m,error:!!D,hint:O}),D&&o.jsx("span",{className:"text-xs text-error-500 absolute left-0 -bottom-5",children:y})]})};function Yle({formData:r,onChange:e,onValidSubmit:t}){console.log("[DEBUG PaymentInformationForm] legal_status:",r.legal_status,"| documentNumber:",r.documentNumber);const[n,a]=w.useState(!0),[s,i]=w.useState(!1),[l,c]=w.useState(r.legal_status||"individual"),[d,u]=w.useState(r.country||"BR"),h=j2[d]||[],f=x=>{c(x),e({target:{name:"legal_status",value:x}})},p=x=>{u(x),e({target:{name:"country",value:x}}),e({target:{name:"state",value:""}})},m=x=>(x==null?void 0:x.replace(/\D/g,""))||"",g=()=>{var I,B,z,V,W,Y;console.log(" VALIDANDO FORMULRIO DE INFORMAES DE PAGAMENTO"),console.log(" ESTADO ATUAL DO FORMDATA:",r);const x=!!((I=r.name)!=null&&I.trim())&&r.name.trim().length>=2,b=!!((B=r.email)!=null&&B.trim())&&r.email.includes("@")&&r.email.includes("."),y=!!((z=r.address)!=null&&z.trim())&&r.address.trim().length>=5,C=!!((V=r.city)!=null&&V.trim())&&r.city.trim().length>=2,S=!!((W=r.state)!=null&&W.trim())&&r.state.trim().length>=2,_=m(r.zipCode),E=m(r.documentNumber),A=m(r.phone),T=!!_&&_.length>=5,F=!!A&&A.length>=10&&A.length<=13;let L=!1,D=!0;if(r.legal_status==="business"){console.log("[VALIDAO DOCUMENTO] Usando validateCNPJ | legal_status:",r.legal_status,"| valor:",r.documentNumber);const G=r.documentNumber,q=G?G.replace(/\D/g,""):"",M=DD(G);console.log("[DEBUG CNPJ] raw:",G,"| cleaned:",q,"| valid:",M),L=M,D=!!((Y=r.company_name)!=null&&Y.trim())&&r.company_name.trim().length>=2}else console.log("[VALIDAO DOCUMENTO] Usando validateCPF | legal_status:",r.legal_status,"| valor:",r.documentNumber),L=LD(r.documentNumber);console.log(" VALIDAO DETALHADA:",{name:{value:r.name,valid:x},email:{value:r.email,valid:b},address:{value:r.address,valid:y},city:{value:r.city,valid:C},state:{value:r.state,valid:S},zipCode:{value:r.zipCode,cleaned:_,valid:T},document:{value:r.documentNumber,cleaned:E,valid:L},phone:{value:r.phone,cleaned:A,valid:F},company_name:{value:r.company_name,valid:D}});let O=x&&b&&y&&C&&S&&T&&L&&F;return r.legal_status==="business"&&(O=O&&D),console.log(" RESULTADO DA VALIDAO:",{isValid:O}),O};w.useEffect(()=>{const x=setTimeout(()=>{v()},100);return()=>clearTimeout(x)},[]),w.useEffect(()=>{s&&["phone","zipCode","documentNumber"].forEach(b=>{const y=r[b];(!y||y.trim()==="")&&console.log(` Verificando sincronizao para ${b}:`,y)})},[s,r]),w.useEffect(()=>{var x;console.log(" PHONE VALUE CHANGED:",{phoneValue:r.phone,phoneType:typeof r.phone,phoneLength:((x=r.phone)==null?void 0:x.length)||0,phoneClean:m(r.phone),timestamp:new Date().toISOString()})},[r.phone]),w.useEffect(()=>{if(s&&!n){const x=["name","email","address","city","state","zipCode","documentNumber","phone"];if(r.legal_status==="business"&&x.push("company_name"),!x.every(C=>r[C]&&r[C].toString().trim()!==""))return;const y=setTimeout(()=>{const C=g();t(C)},300);return()=>clearTimeout(y)}},[r,s,n]);async function v(){try{a(!0),console.log(" LOADING USER DATA - PaymentInformationForm");const{data:{user:x}}=await K.auth.getUser();if(!x){console.log(" No user found"),i(!0);return}console.log(" User found:",x.id);const{data:b}=await K.from("admins").select("id, email, first_name, last_name, phone").eq("id",x.id).maybeSingle();if(console.log(" Admin data:",b),b){const{data:y}=await K.from("company_data").select("*").eq("admin_id",x.id).maybeSingle(),C=b.phone||"",S=`${b.first_name||""} ${b.last_name||""}`.trim();if(y){c(y.legal_status||"individual"),u(y.country||"BR"),e({target:{name:"legal_status",value:y.legal_status||"individual"}});const _={name:S,email:b.email||"",address:y.address||"",city:y.city||"",state:y.state||"",zipCode:y.zip_code||"",documentNumber:y.document_number||"",phone:C,company_name:y.company_name||""};console.log(" Data to update form (admin):",_),Object.entries(_).forEach(([E,A])=>{console.log(` Updating ${E} with value:`,A),console.log(` Field "${E}" - Before onChange:`,r[E]);const T=r[E];if(T&&T.toString().trim()!==""){console.log(` PROTEO: Campo ${E} j tem valor, no sobrescrever:`,T);return}const F=A!=null?String(A):"";(!T||T.toString().trim()==="")&&(console.log(` Preenchendo ${E} com valor do banco:`,F),e({target:{name:E,value:F}}))})}}else{const{data:y}=await K.from("platform_users").select("*").eq("id",x.id).maybeSingle();console.log(" Platform user data:",y);const C=(y==null?void 0:y.phone)||"";if(y){const{data:S}=await K.from("company_data").select("*").eq("user_id",x.id).maybeSingle(),_=`${y.first_name||""} ${y.last_name||""}`.trim();if(S){c(S.legal_status||"individual"),u(S.country||"BR"),e({target:{name:"legal_status",value:S.legal_status||"individual"}});const E={name:_,email:y.email||"",address:S.address||"",city:S.city||"",state:S.state||"",zipCode:S.zip_code||"",documentNumber:S.document_number||"",phone:C,company_name:S.company_name||""};console.log(" Data to update form (platform user with company):",E),Object.entries(E).forEach(([A,T])=>{console.log(` Updating ${A} with value:`,T),console.log(` Field "${A}" - Before onChange:`,r[A]);const F=r[A];if(F&&F.toString().trim()!==""){console.log(` PROTEO: Campo ${A} j tem valor, no sobrescrever:`,F);return}const L=T!=null?String(T):"";(!F||F.toString().trim()==="")&&(console.log(` Preenchendo ${A} com valor do banco:`,L),e({target:{name:A,value:L}}))})}else{const E={name:`${y.first_name} ${y.last_name}`,email:y.email||"",address:"",city:"",state:"",zipCode:"",documentNumber:"",phone:""};console.log(" Data to update form (platform user without company):",E),Object.entries(E).forEach(([A,T])=>{console.log(` Updating ${A} with value:`,T),console.log(` Field "${A}" - Before onChange:`,r[A]);const F=r[A];if(F&&F.toString().trim()!==""){console.log(` PROTEO: Campo ${A} j tem valor, no sobrescrever:`,F);return}const L=T!=null?String(T):"";(!F||F.toString().trim()==="")&&(console.log(` Preenchendo ${A} com valor do banco:`,L),e({target:{name:A,value:L}}))})}}}}catch(x){console.error(" Error loading user data:",x)}finally{a(!1),i(!0),setTimeout(()=>{const x=g();t(x)},0),console.log(" Loading user data completed")}}return o.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-xl border border-gray-200 dark:border-gray-800 mb-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("svg",{className:"w-6 h-6 mr-2 text-gray-800 dark:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white",children:"Informaes de pagamento"})]}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:n?"Carregando informaes...":l==="business"?"Dados da Empresa":"Dados Pessoais"}),o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[o.jsxs("div",{children:[o.jsxs(Te,{children:["Nome Completo ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"text",name:"name",value:r.name||"",onChange:e,required:!0,placeholder:"Digite o nome completo"})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Email ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"email",name:"email",value:r.email||"",onChange:e,required:!0,placeholder:"Digite o email"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 mt-6",children:[o.jsxs("div",{children:[o.jsxs(Te,{children:["Tipo de Pessoa ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(Jt,{options:[{value:"individual",label:"Pessoa Fsica"},{value:"business",label:"Pessoa Jurdica"}],value:l,onChange:f})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Pas ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(Jt,{options:Object.entries(j2).map(([x])=>({value:x,label:x,icon:void 0})),value:d,onChange:p})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 mt-6",children:[o.jsxs("div",{children:[o.jsxs(Te,{children:["Estado ",h.length>0&&o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(Jt,{options:h.length>0?[{value:"",label:"Selecione o estado"},...h]:[{value:"",label:"Selecione o pas primeiro"}],value:r.state||"",onChange:x=>e({target:{name:"state",value:x}}),disabled:h.length===0})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Cidade ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"text",name:"city",value:r.city,onChange:e,required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 mt-6",children:[o.jsxs("div",{children:[o.jsxs(Te,{children:["Endereo ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"text",name:"address",value:r.address,onChange:e,required:!0})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:[d==="BR"?"CEP":"Cdigo Postal",d==="BR"&&o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(vf,{mask:d==="BR"?"cep":"none",name:"zipCode",value:r.zipCode,onChange:e,required:!0})]})]}),l==="business"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 mt-6",children:[o.jsxs("div",{children:[o.jsxs(Te,{children:["CNPJ ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(vf,{mask:"cnpj",name:"documentNumber",value:r.documentNumber||"",onChange:e,required:!0,placeholder:"Digite o CNPJ"})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Nome da Empresa ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{type:"text",name:"company_name",value:r.company_name||"",onChange:e,required:!0,placeholder:"Digite o nome da empresa"})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 mt-6",children:o.jsxs("div",{children:[o.jsxs(Te,{children:["Telefone/Celular ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(vf,{mask:"phone",name:"phone",value:r.phone,onChange:e,required:!0})]})})]}),l==="individual"&&o.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 mt-6",children:[o.jsxs("div",{children:[o.jsxs(Te,{children:["CPF ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(vf,{mask:"cpf",name:"documentNumber",value:r.documentNumber,onChange:e,required:!0})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Telefone/Celular ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(vf,{mask:"phone",name:"phone",value:r.phone,onChange:e,required:!0})]})]})]})}const Gle=w.memo(Yle);function v7(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function b7(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?v7(Object(t),!0).forEach(function(n){RD(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):v7(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function g0(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g0=function(e){return typeof e}:g0=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g0(r)}function RD(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function MD(r,e){return Xle(r)||Zle(r,e)||Jle(r,e)||Kle()}function Xle(r){if(Array.isArray(r))return r}function Zle(r,e){var t=r&&(typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"]);if(t!=null){var n=[],a=!0,s=!1,i,l;try{for(t=t.call(r);!(a=(i=t.next()).done)&&(n.push(i.value),!(e&&n.length===e));a=!0);}catch(c){s=!0,l=c}finally{try{!a&&t.return!=null&&t.return()}finally{if(s)throw l}}return n}}function Jle(r,e){if(r){if(typeof r=="string")return y7(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y7(r,e)}}function y7(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Kle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var us=function(e,t,n){var a=!!n,s=ft.useRef(n);ft.useEffect(function(){s.current=n},[n]),ft.useEffect(function(){if(!a||!e)return function(){};var i=function(){s.current&&s.current.apply(s,arguments)};return e.on(t,i),function(){e.off(t,i)}},[a,t,e,s])},G5=function(e){var t=ft.useRef(e);return ft.useEffect(function(){t.current=e},[e]),t.current},nh=function(e){return e!==null&&g0(e)==="object"},Qle=function(e){return nh(e)&&typeof e.then=="function"},ece=function(e){return nh(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},w7="[object Object]",tce=function r(e,t){if(!nh(e)||!nh(t))return e===t;var n=Array.isArray(e),a=Array.isArray(t);if(n!==a)return!1;var s=Object.prototype.toString.call(e)===w7,i=Object.prototype.toString.call(t)===w7;if(s!==i)return!1;if(!s&&!n)return e===t;var l=Object.keys(e),c=Object.keys(t);if(l.length!==c.length)return!1;for(var d={},u=0;u<l.length;u+=1)d[l[u]]=!0;for(var h=0;h<c.length;h+=1)d[c[h]]=!0;var f=Object.keys(d);if(f.length!==l.length)return!1;var p=e,m=t,g=function(x){return r(p[x],m[x])};return f.every(g)},ID=function(e,t,n){return nh(e)?Object.keys(e).reduce(function(a,s){var i=!nh(t)||!tce(e[s],t[s]);return n.includes(s)?(i&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),a):i?b7(b7({},a||{}),{},RD({},s,e[s])):a},null):null},OD="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",k7=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:OD;if(e===null||ece(e))return e;throw new Error(t)},rce=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:OD;if(Qle(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(a){return k7(a,t)})};var n=k7(e,t);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},nce=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},L1=ft.createContext(null);L1.displayName="ElementsContext";var FD=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},BD=function(e){var t=e.stripe,n=e.options,a=e.children,s=ft.useMemo(function(){return rce(t)},[t]),i=ft.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(n):null}}),l=MD(i,2),c=l[0],d=l[1];ft.useEffect(function(){var f=!0,p=function(g){d(function(v){return v.stripe?v:{stripe:g,elements:g.elements(n)}})};return s.tag==="async"&&!c.stripe?s.stripePromise.then(function(m){m&&f&&p(m)}):s.tag==="sync"&&!c.stripe&&p(s.stripe),function(){f=!1}},[s,c,n]);var u=G5(t);ft.useEffect(function(){u!==null&&u!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,t]);var h=G5(n);return ft.useEffect(function(){if(c.elements){var f=ID(n,h,["clientSecret","fonts"]);f&&c.elements.update(f)}},[n,h,c.elements]),ft.useEffect(function(){nce(c.stripe)},[c.stripe]),ft.createElement(L1.Provider,{value:c},a)};BD.propTypes={stripe:Ot.any,options:Ot.object};var ace=function(e){var t=ft.useContext(L1);return FD(t,e)},sce=function(){var e=ace("calls useElements()"),t=e.elements;return t};Ot.func.isRequired;var zD=ft.createContext(null);zD.displayName="CustomCheckoutSdkContext";var ice=function(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e},oce=ft.createContext(null);oce.displayName="CustomCheckoutContext";Ot.any,Ot.shape({clientSecret:Ot.string.isRequired,elementsOptions:Ot.object}).isRequired;var X5=function(e){var t=ft.useContext(zD),n=ft.useContext(L1);if(t&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return t?ice(t,e):FD(n,e)},lce=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Ln=function(e,t){var n="".concat(lce(e),"Element"),a=function(c){var d=c.id,u=c.className,h=c.options,f=h===void 0?{}:h,p=c.onBlur,m=c.onFocus,g=c.onReady,v=c.onChange,x=c.onEscape,b=c.onClick,y=c.onLoadError,C=c.onLoaderStart,S=c.onNetworksChange,_=c.onConfirm,E=c.onCancel,A=c.onShippingAddressChange,T=c.onShippingRateChange,F=X5("mounts <".concat(n,">")),L="elements"in F?F.elements:null,D="customCheckoutSdk"in F?F.customCheckoutSdk:null,O=ft.useState(null),I=MD(O,2),B=I[0],z=I[1],V=ft.useRef(null),W=ft.useRef(null);us(B,"blur",p),us(B,"focus",m),us(B,"escape",x),us(B,"click",b),us(B,"loaderror",y),us(B,"loaderstart",C),us(B,"networkschange",S),us(B,"confirm",_),us(B,"cancel",E),us(B,"shippingaddresschange",A),us(B,"shippingratechange",T),us(B,"change",v);var Y;g&&(e==="expressCheckout"?Y=g:Y=function(){g(B)}),us(B,"ready",Y),ft.useLayoutEffect(function(){if(V.current===null&&W.current!==null&&(L||D)){var q=null;D?q=D.createElement(e,f):L&&(q=L.create(e,f)),V.current=q,z(q),q&&q.mount(W.current)}},[L,D,f]);var G=G5(f);return ft.useEffect(function(){if(V.current){var q=ID(f,G,["paymentRequest"]);q&&"update"in V.current&&V.current.update(q)}},[f,G]),ft.useLayoutEffect(function(){return function(){if(V.current&&typeof V.current.destroy=="function")try{V.current.destroy(),V.current=null}catch{}}},[]),ft.createElement("div",{id:d,className:u,ref:W})},s=function(c){X5("mounts <".concat(n,">"));var d=c.id,u=c.className;return ft.createElement("div",{id:d,className:u})},i=t?s:a;return i.propTypes={id:Ot.string,className:Ot.string,onChange:Ot.func,onBlur:Ot.func,onFocus:Ot.func,onReady:Ot.func,onEscape:Ot.func,onClick:Ot.func,onLoadError:Ot.func,onLoaderStart:Ot.func,onNetworksChange:Ot.func,onConfirm:Ot.func,onCancel:Ot.func,onShippingAddressChange:Ot.func,onShippingRateChange:Ot.func,options:Ot.object},i.displayName=n,i.__elementType=e,i},Dn=typeof window>"u",cce=ft.createContext(null);cce.displayName="EmbeddedCheckoutProviderContext";var dce=function(){var e=X5("calls useStripe()"),t=e.stripe;return t};Ln("auBankAccount",Dn);var cy=Ln("card",Dn);Ln("cardNumber",Dn);Ln("cardExpiry",Dn);Ln("cardCvc",Dn);Ln("fpxBank",Dn);Ln("iban",Dn);Ln("idealBank",Dn);Ln("p24Bank",Dn);Ln("epsBank",Dn);Ln("payment",Dn);Ln("expressCheckout",Dn);Ln("currencySelector",Dn);Ln("paymentRequestButton",Dn);Ln("linkAuthentication",Dn);Ln("address",Dn);Ln("shippingAddress",Dn);Ln("paymentMethodMessaging",Dn);Ln("affirmMessage",Dn);Ln("afterpayClearpayMessage",Dn);function m0(r){if(!r||typeof r!="string")return"Ocorreu um erro inesperado. Tente novamente.";const e=[/pk_test_[a-zA-Z0-9_]+/g,/pk_live_[a-zA-Z0-9_]+/g,/sk_test_[a-zA-Z0-9_]+/g,/sk_live_[a-zA-Z0-9_]+/g,/whsec_[a-zA-Z0-9_]+/g,/api[_-]?key[s]?[\s]*[:=][\s]*[a-zA-Z0-9_-]+/gi,/secret[_-]?key[s]?[\s]*[:=][\s]*[a-zA-Z0-9_-]+/gi,/access[_-]?token[s]?[\s]*[:=][\s]*[a-zA-Z0-9_-]+/gi,/eyJ[a-zA-Z0-9_-]*\.[a-zA-Z0-9_-]*\.[a-zA-Z0-9_-]*/g,/https?:\/\/[^\/]*\/[^?]*\?[^&]*(?:token|key|secret)[^&\s]*/gi];let t=r;e.forEach(i=>{t=t.replace(i,"[INFORMAO SENSVEL REMOVIDA]")});const n={"Your card was declined.":"Seu carto foi recusado. Verifique os dados ou tente outro carto.","Your card number is incorrect.":"O nmero do carto est incorreto.","Your card's expiration date is incorrect.":"A data de validade do carto est incorreta.","Your card's security code is incorrect.":"O cdigo de segurana do carto est incorreto.","Your card has insufficient funds.":"Seu carto no possui fundos suficientes.","Your card does not support this type of purchase.":"Seu carto no suporta este tipo de compra.","Your card has been declined.":"Seu carto foi recusado.","Payment failed":"Falha no pagamento. Tente novamente.","Invalid API Key provided":"Erro de configurao do sistema de pagamento. Contate o suporte.","No such payment_intent":"Erro na transao. Tente novamente.","This payment requires authentication":"Este pagamento requer autenticao adicional."};for(const[i,l]of Object.entries(n))if(t.toLowerCase().includes(i.toLowerCase()))return l;return t.includes("test mode")&&t.includes("live mode")?"Erro de configurao: modo de teste/produo inconsistente. Contate o suporte.":t.includes("invalid api key")||t.includes("invalid key")?"Erro de configurao do sistema de pagamento. Contate o suporte.":t.includes("card_declined")?"Seu carto foi recusado. Verifique os dados ou tente outro carto.":t.includes("insufficient_funds")?"Seu carto no possui fundos suficientes.":t.includes("expired_card")?"Seu carto est vencido.":t.includes("incorrect_cvc")?"O cdigo de segurana do carto est incorreto.":t.includes("incorrect_number")?"O nmero do carto est incorreto.":t.includes("processing_error")?"Erro no processamento do pagamento. Tente novamente.":["payment_intent","client_secret","stripe","webhook","endpoint","authentication failed","unauthorized","401","403","500","internal server error"].some(i=>t.toLowerCase().includes(i.toLowerCase()))?"Erro no processamento do pagamento. Tente novamente ou contate o suporte.":(t=t.replace(/https?:\/\/[^\s]+/g,"[URL removida por segurana]"),t.trim().length<10?"Ocorreu um erro no pagamento. Tente novamente.":t)}function dy(r){if(!r)return"Erro desconhecido no pagamento.";const e=typeof r=="string"?r:r.message||r.toString();return m0(e)}const uce={style:{base:{color:"#32325d",fontFamily:'"Outfit", sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},hidePostalCode:!0},hce=w.forwardRef(function({amount:e,currency:t,onSuccess:n,onError:a},s){const i=dce(),l=sce(),[c,d]=w.useState(null),u=async()=>{if(!i||!l){console.log("STRIPE ERROR - Stripe or Elements not loaded:",{stripeLoaded:!!i,elementsLoaded:!!l,timestamp:new Date().toISOString()}),a("Stripe no foi carregado corretamente");return}d(null);try{const{data:{session:f}}=await K.auth.getSession();if(!f)throw new Error("No authenticated session found");const p=await fetch("https://uxbeaslwirkepnowydfu.supabase.co/functions/v1/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f.access_token}`},body:JSON.stringify({amount:e,currency:t})});if(!p.ok){const b=await p.json();console.error("Payment intent error response:",b),console.log("PAYMENT INTENT CREATION ERROR:",{errorMessage:b.details||b.error,errorData:b,paymentMethod:"card",timestamp:new Date().toISOString(),amount:e,currency:t,responseStatus:p.status,responseStatusText:p.statusText});const y=b.details||b.error||"Failed to create payment intent",C=dy(y);throw new Error(C)}const{clientSecret:m}=await p.json(),g=l.getElement(cy);if(!g)throw new Error("Card element not found");const{error:v,paymentIntent:x}=await i.confirmCardPayment(m,{payment_method:{card:g,billing_details:{}}});if(v){console.error("Stripe error:",v),console.log("STRIPE PAYMENT ERROR:",{errorMessage:v.message,errorType:v.type,errorCode:v.code,errorDeclineCode:v.decline_code,paymentMethod:"card",timestamp:new Date().toISOString(),amount:e,currency:t,stripeErrorDetails:v});const b=dy(v);throw new Error(b)}if(x.status==="succeeded")n(x.id);else throw new Error(`Payment status: ${x.status}`)}catch(f){console.error("Payment error:",f),console.log("STRIPE PAYMENT PROCESSING ERROR:",{errorMessage:f.message,errorStack:f.stack,paymentMethod:"card",timestamp:new Date().toISOString(),amount:e,currency:t,stripeInitialized:!!i,elementsInitialized:!!l,cardElementFound:!!(l!=null&&l.getElement(cy))});const p=dy(f);d(p),a(p)}};w.useImperativeHandle(s,()=>({submitPayment:u}));const h=async f=>{f.preventDefault(),await u()};return o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsx("div",{className:"p-4 border border-gray-200 rounded-lg dark:border-gray-700",children:o.jsx(cy,{options:uce})}),c&&o.jsx("div",{className:"p-3 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:c})]})}),fce=({options:r,selected:e,onSelect:t})=>{const n=r.map(a=>({value:String(a.installments),label:`${a.installments}x de ${a.formatted_amount} ${a.interest?"(com juros)":"(sem juros)"}`}));return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block font-medium mb-2",children:"Parcelamento"}),o.jsx(Jt,{options:n,placeholder:"Selecione o nmero de parcelas",value:e?String(e):"",onChange:a=>t(Number(a)),className:"z-20"})]})};async function pce(r,e){var l;const t="https://uxbeaslwirkepnowydfu.supabase.co/functions/v1/pagarme-installments",{data:n}=await K.auth.getSession(),a=(l=n==null?void 0:n.session)==null?void 0:l.access_token;if(!a)throw new Error("Usurio no autenticado.");const s=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({amount:r,card_brand:e})});if(!s.ok)throw new Error("Erro ao buscar opes de parcelamento");return((await s.json()).installments||[]).map(c=>({installments:c.installments,amount:c.amount,formatted_amount:(c.amount/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),interest:!!c.interest}))}function gce(r){if(!r)return"";const e=r.replace(/\D/g,"");return/^4/.test(e)?"visa":/^5[1-5]/.test(e)?"mastercard":/^3[47]/.test(e)?"amex":/^6/.test(e)?"elo":/^3(0|6|8)/.test(e)?"diners":/^35/.test(e)?"jcb":"desconhecida"}function mce({paymentMethod:r,stripePromise:e,totalAmount:t,pixQrCodeUrl:n,pixCopiaECola:a,total:s,processing:i,error:l,termsAccepted:c,pixFormValid:d,availablePaymentMethods:u=["card","pix","boleto"],onPaymentMethodChange:h,onTermsAcceptedChange:f,onSubmit:p,onPaymentSuccess:m,onPaymentError:g,onCardDataChange:v,onGeneratePixQrCode:x,allFormsValid:b,isPaymentInfoFormValid:y,isCardFormValid:C,cardData:S,setCardData:_,selectedInstallments:E,onInstallmentsChange:A,installmentsOptions:T,setInstallmentsOptions:F}){const[L,D]=w.useState(!1),[O,I]=w.useState(!1),[B,z]=w.useState(0),[V,W]=w.useState(null),Y=w.useRef(null),[G,q]=w.useState(1),[M,U]=w.useState(!1),[$,X]=w.useState(null),[Q,se]=w.useState(""),[le,ue]=w.useState(!1);console.log("PAYMENT METHOD FORM DEBUG:",{availablePaymentMethods:u,availablePaymentMethodsType:typeof u,availablePaymentMethodsIsArray:Array.isArray(u),availablePaymentMethodsLength:u==null?void 0:u.length,timestamp:new Date().toISOString()});const ye=[{id:"card",label:"Carto de Crdito",icon:"credit-card"},{id:"pix",label:"PIX",icon:"pix"}];console.log("FIXED PAYMENT METHODS (ALWAYS AVAILABLE):",{availablePaymentMethods:u,fixedPaymentMethods:ye.map(ke=>ke.id),count:ye.length,note:"PIX and card will always be available (boleto removed)",timestamp:new Date().toISOString()}),console.log(" PAYMENT FORM VALIDATION PROPS:",{termsAccepted:c,pixFormValid:d,allFormsValid:b,isPaymentInfoFormValid:y,isCardFormValid:C,processing:i,paymentMethod:r,timestamp:new Date().toISOString()});const Ne=ke=>{const{name:Ce,value:ze}=ke.target,Ge={...S,[Ce]:ze};_(Ge),v&&v(Ge)},Le=()=>{a&&navigator.clipboard.writeText(a).then(()=>{D(!0),setTimeout(()=>D(!1),3e3)}).catch(ke=>{console.error("Erro ao copiar cdigo PIX:",ke)})},Ie=()=>{I(!0),z(45);const ke=setInterval(()=>{z(Ce=>Ce<=1?(clearInterval(ke),I(!1),0):Ce-1)},1e3);W(ke)};n&&O&&(()=>{V&&(clearInterval(V),W(null)),I(!1),z(0)})();const Ee=ke=>{const Ce=Math.floor(ke/60),ze=ke%60;return`${Ce.toString().padStart(2,"0")}:${ze.toString().padStart(2,"0")}`},ee=async()=>{r==="card"&&Y.current?(console.log("HANDLING CARD PAYMENT:",{paymentMethod:r,stripeRefExists:!!Y.current,timestamp:new Date().toISOString()}),await Y.current.submitPayment()):(console.log("HANDLING NON-CARD PAYMENT:",{paymentMethod:r,timestamp:new Date().toISOString()}),p({preventDefault:()=>{}}))};w.useEffect(()=>{const ke=gce(S.cardNumber);se(ke),ue(S.cardNumber.replace(/\D/g,"").length>=13&&ke!=="desconhecida")},[S.cardNumber]),w.useEffect(()=>{async function ke(){var Ce;U(!0),X(null);try{if(!Q||!le||!t)return;const ze=await pce(t,Q);F(ze),q(((Ce=ze[0])==null?void 0:Ce.installments)||1)}catch(ze){X(ze.message||"Erro ao buscar opes de parcelamento")}finally{U(!1)}}r==="card"&&Q&&le&&t>0?ke():F([])},[Q,le,t,r]);const Ve=E!==void 0?E:G,Ue=ke=>{A&&A(ke),q(ke)};return o.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-xl border border-gray-200 dark:border-gray-800",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("svg",{className:"w-6 h-6 mr-2 text-gray-800 dark:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white",children:"Mtodo de pagamento"})]}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Selecione seu mtodo de pagamento preferido"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"flex flex-wrap gap-4 mb-6",children:ye.map(ke=>{const Ce=r===ke.id;return o.jsxs("button",{type:"button",onClick:()=>h(ke.id),className:`flex items-center gap-2 px-4 py-3 rounded-lg border transition-colors duration-150
                  ${Ce?"border-brand-500 bg-brand-50 dark:bg-brand-900/20 dark:border-brand-400":"border-gray-200 hover:border-brand-500 dark:border-gray-700 dark:hover:border-brand-400"}
                `,children:[ke.id==="card"&&o.jsxs("svg",{className:`w-6 h-6 ${Ce?"text-brand-500 dark:text-brand-400":"text-gray-500 dark:text-gray-300"}`,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M4 5C2.89543 5 2 5.89543 2 7V17C2 18.1046 2.89543 19 4 19H20C21.1046 19 22 18.1046 22 17V7C22 5.89543 21.1046 5 20 5H4ZM4 7H20V9H4V7ZM4 11H20V17H4V11Z"}),o.jsx("path",{d:"M6 14H10V15H6V14Z"})]}),ke.id==="pix"&&o.jsxs("svg",{className:`w-6 h-6 ${Ce?"text-brand-500 dark:text-brand-400":"text-gray-500 dark:text-gray-300"}`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M12 4L4 8L12 12L20 8L12 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M4 16L12 20L20 16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M4 12L12 16L20 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),ke.id==="boleto"&&o.jsxs("svg",{className:`w-6 h-6 ${Ce?"text-brand-500 dark:text-brand-400":"text-gray-500 dark:text-gray-300"}`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M4 6H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("path",{d:"M4 10H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("path",{d:"M4 14H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("path",{d:"M4 18H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),o.jsx("span",{className:`${Ce?"text-brand-500 dark:text-brand-400":"text-gray-700 dark:text-gray-200"} font-medium`,children:ke.label})]},ke.id)})}),l&&o.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/10 dark:text-error-300",children:l}),r==="card"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mt-6     rounded-lg",children:e?o.jsx(BD,{stripe:e,children:o.jsx(hce,{ref:Y,amount:t,currency:"brl",onSuccess:m,onError:g})}):o.jsxs("form",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Te,{children:"Nome no carto"}),o.jsx(st,{type:"text",name:"cardholderName",value:S.cardholderName,onChange:Ne,placeholder:"Nome como aparece no carto",required:!0})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Nmero do carto"}),o.jsx(zc,{mask:"9999 9999 9999 9999",value:S.cardNumber,onChange:Ne,name:"cardNumber",placeholder:"0000 0000 0000 0000",className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Te,{children:"Data de expirao"}),o.jsx(zc,{mask:"99/99",value:S.cardExpiry,onChange:Ne,name:"cardExpiry",placeholder:"MM/AA",className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",required:!0})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Cdigo de segurana"}),o.jsx(zc,{mask:"999",value:S.cardCvc,onChange:Ne,name:"cardCvc",placeholder:"CVC",className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",required:!0})]})]}),o.jsxs("div",{children:[o.jsx(Te,{children:"Pas"}),o.jsx(Jt,{options:[{value:"BR",label:"Brasil"},{value:"US",label:"Estados Unidos"},{value:"CA",label:"Canad"},{value:"MX",label:"Mxico"},{value:"AR",label:"Argentina"},{value:"CL",label:"Chile"},{value:"CO",label:"Colmbia"},{value:"PE",label:"Peru"},{value:"UY",label:"Uruguai"}],value:S.country,onChange:ke=>{const Ce={...S,country:ke};_(Ce),v&&v(Ce)}})]})]})}),Q&&le?M?o.jsx("div",{className:"my-4 text-sm text-gray-500 dark:text-gray-300",children:"Carregando opes de parcelamento..."}):$?o.jsx("div",{className:"my-4 text-sm text-error-500 dark:text-error-300 dark:bg-error-500/10 dark:rounded",children:$}):T.length>0?o.jsx(fce,{options:T,selected:Ve,onSelect:Ue}):o.jsx("div",{className:"my-4 text-sm text-gray-500",children:"Nenhuma opo de parcelamento disponvel para esta bandeira/valor."}):o.jsx("div",{className:"my-4 text-sm text-gray-500",children:"Digite o nmero do carto para ver as opes de parcelamento."}),o.jsxs("div",{className:"mb-4 flex flex-col items-start mt-6",children:[o.jsx($c,{checked:c,onChange:f,label:o.jsxs("span",{children:["Eu aceito os"," ",o.jsx("button",{type:"button",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"termos e condies"})]})}),!c&&o.jsx("div",{className:"text-error-500 text-sm mt-1 dark:text-error-300 dark:bg-error-500/10 dark:rounded",children:"Por favor, aceite os termos e condies para continuar"})]}),o.jsx("button",{type:"button",onClick:()=>{console.log(" CARD BUTTON CLICKED:",{processing:i,termsAccepted:c,isPaymentInfoFormValid:y,isCardFormValid:C,bothFormsValid:y&&C,disabled:i||!c||!y||!C,timestamp:new Date().toISOString()}),ee()},disabled:i||!c||!y||!C,className:"w-full px-4 py-3 bg-brand-500 text-white rounded-lg hover:bg-brand-600 transition-colors disabled:bg-brand-300 flex items-center justify-center gap-2",children:i?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"animate-spin",children:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{opacity:"0.5",cx:"10",cy:"10",r:"8.75",stroke:"white",strokeWidth:"2.5"}),o.jsx("mask",{id:"path-2-inside-1_3755_26472",fill:"white",children:o.jsx("path",{d:"M18.2372 12.9506C18.8873 13.1835 19.6113 12.846 19.7613 12.1719C20.0138 11.0369 20.0672 9.86319 19.9156 8.70384C19.7099 7.12996 19.1325 5.62766 18.2311 4.32117C17.3297 3.01467 16.1303 1.94151 14.7319 1.19042C13.7019 0.637155 12.5858 0.270357 11.435 0.103491C10.7516 0.00440265 10.179 0.561473 10.1659 1.25187V1.25187C10.1528 1.94226 10.7059 2.50202 11.3845 2.6295C12.1384 2.77112 12.8686 3.02803 13.5487 3.39333C14.5973 3.95661 15.4968 4.76141 16.1728 5.74121C16.8488 6.721 17.2819 7.84764 17.4361 9.02796C17.5362 9.79345 17.5172 10.5673 17.3819 11.3223C17.2602 12.002 17.5871 12.7178 18.2372 12.9506V12.9506Z"})}),o.jsx("path",{d:"M18.2372 12.9506C18.8873 13.1835 19.6113 12.846 19.7613 12.1719C20.0138 11.0369 20.0672 9.86319 19.9156 8.70384C19.7099 7.12996 19.1325 5.62766 18.2311 4.32117C17.3297 3.01467 16.1303 1.94151 14.7319 1.19042C13.7019 0.637155 12.5858 0.270357 11.435 0.103491C10.7516 0.00440265 10.179 0.561473 10.1659 1.25187V1.25187C10.1528 1.94226 10.7059 2.50202 11.3845 2.6295C12.1384 2.77112 12.8686 3.02803 13.5487 3.39333C14.5973 3.95661 15.4968 4.76141 16.1728 5.74121C16.8488 6.721 17.2819 7.84764 17.4361 9.02796C17.5362 9.79345 17.5172 10.5673 17.3819 11.3223C17.2602 12.002 17.5871 12.7178 18.2372 12.9506V12.9506Z",stroke:"white",strokeWidth:"4",mask:"url(#path-2-inside-1_3755_26472)"})]})}),"Processando..."]}):`Pagar ${Fl(s)}`})]}),r==="pix"&&o.jsxs("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-4 text-center",children:"Pagamento via PIX"}),o.jsxs("div",{className:"mb-4 flex flex-col items-center",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:c,onChange:ke=>f(ke.target.checked),className:"form-checkbox mr-2 h-4 w-4 rounded border-gray-300 text-brand-500 focus:ring-brand-500 dark:border-gray-700 dark:bg-gray-900"}),o.jsxs("span",{className:"text-gray-700 dark:text-gray-200",children:["Eu aceito os"," ",o.jsx("button",{type:"button",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"termos e condies"})]})]}),!c&&o.jsx("div",{className:"text-error-500 text-sm mt-1 dark:text-error-300 dark:bg-error-500/10 dark:rounded",children:"Por favor, aceite os termos e condies para continuar"})]}),o.jsxs("div",{className:"flex items-center justify-center gap-4",children:[o.jsx("button",{type:"button",onClick:()=>{console.log(" PIX BUTTON CLICKED:",{processing:i,isGeneratingQrCode:O,termsAccepted:c,isPaymentInfoFormValid:y,disabled:i||O||!c||!y,timestamp:new Date().toISOString()}),Ie(),x&&x()},disabled:i||O||!c||!y,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:i||O?"Gerando QR Code...":"Gerar QR Code PIX"}),O&&o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-orange-100 text-orange-800 rounded-lg border border-orange-200 dark:bg-yellow-900/40 dark:text-yellow-200 dark:border-yellow-900/40",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("span",{className:"text-sm font-mono font-medium",children:Ee(B)}),o.jsx("span",{className:"text-xs",children:"restante"})]})]}),O&&o.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-300 mt-3",children:" Aguardando processamento PIX (pode levar at 2 minutos em produo)"}),o.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-6",children:n?"Escaneie o QR Code abaixo com o aplicativo do seu banco para pagar":"Preencha seus dados e clique em 'Gerar QR Code PIX' para continuar"}),o.jsx("div",{className:"flex justify-center mb-6",children:n?o.jsx("img",{src:n,alt:"QR Code PIX",className:"w-48 h-48 border border-gray-200 dark:border-gray-700 p-2 rounded"}):o.jsx("div",{className:"w-48 h-48 bg-gray-100 dark:bg-gray-800 flex items-center justify-center rounded",children:o.jsx("span",{className:"text-gray-400 dark:text-gray-300",children:"Gerando cdigo..."})})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Ou copie e cole o cdigo abaixo no seu aplicativo bancrio:"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-3 rounded text-center",children:o.jsx("p",{className:"text-sm font-mono break-all select-all overflow-hidden",children:a||"Gerando cdigo..."})}),o.jsx("button",{type:"button",onClick:Le,className:"absolute right-2 top-1/2 transform -translate-y-1/2 px-2 py-1 bg-brand-500 text-white text-xs rounded",children:L?"Copiado!":"Copiar"})]})]}),o.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/40 p-4 rounded-lg mb-6",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("svg",{className:"w-5 h-5 text-yellow-600 dark:text-yellow-200 mt-0.5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Importante"}),o.jsxs("ul",{className:"mt-1 text-sm text-yellow-700 dark:text-yellow-200 list-disc list-inside",children:[o.jsx("li",{children:"O pagamento via PIX  processado instantaneamente"}),o.jsx("li",{children:"O QR Code e o cdigo PIX so vlidos por 1 hora"}),o.jsx("li",{children:"Aps o pagamento, voc receber um email de confirmao"}),o.jsx("li",{children:"Preencha seus dados reais para garantir a aprovao do pagamento"})]})]})]})})]}),r==="boleto"&&o.jsxs("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-4",children:"Instrues para Boleto"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:'Aps clicar em "Pagar", voc receber o boleto por email. O pagamento pode levar at 3 dias teis para ser processado.'}),o.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-3 rounded mb-6",children:[o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Valor: ",Fl(s)]}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Vencimento:"," ",new Date(Date.now()+3*24*60*60*1e3).toLocaleDateString("pt-BR")]})]}),o.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/40 p-4 rounded-lg mb-6",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("svg",{className:"w-5 h-5 text-yellow-600 dark:text-yellow-200 mt-0.5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Importante"}),o.jsxs("ul",{className:"mt-1 text-sm text-yellow-700 dark:text-yellow-200 list-disc list-inside",children:[o.jsx("li",{children:"O boleto tem vencimento em 3 dias teis"}),o.jsx("li",{children:"Aps o pagamento, a compensao pode levar at 3 dias teis"}),o.jsx("li",{children:"Voc receber o boleto por email"})]})]})]})})]})]}),r==="boleto"&&o.jsx("button",{type:"button",onClick:ee,disabled:i||!c,className:"w-full px-4 py-3 bg-brand-500 text-white rounded-lg hover:bg-brand-600 transition-colors disabled:bg-brand-300",children:i?"Processando...":`Pagar ${Fl(s)}`})]})}const W3=({currentStep:r,paymentStatus:e,orderStatus:t,hasArticleDocument:n=!1,articleUrl:a,orderDate:s,showProgressOnly:i=!1,orderItems:l,refreshTrigger:c,orderId:d})=>{const u=Pn(),[h,f]=ft.useState(null),[p,m]=ft.useState([]),[g,v]=ft.useState(!0),[x,b]=ft.useState(null),[,y]=ft.useState(0);ft.useEffect(()=>{y(M=>M+1)},[c]);const C=u.pathname.includes("/success")||u.pathname.includes("/checkout/boleto-success")||u.pathname.includes("/checkout/payment")&&u.search.includes("success=true"),S=async()=>{v(!0),b(null);try{const{data:M,error:U}=await K.from("orders").select("*").eq("id",d).maybeSingle();if(U)throw U;f(M);const{data:$,error:X}=await K.from("order_items").select("*").eq("order_id",d).order("created_at",{ascending:!0});if(X)throw X;m($||[])}catch(M){b(M.message||"Erro ao carregar progresso do pedido")}finally{v(!1)}};ft.useEffect(()=>{d&&S()},[d]),ft.useEffect(()=>{d&&c&&S()},[c,d]);const _=h?h?h.payment_status!=="paid"?2:p.every($=>$.article_document_path)?(p.every($=>$.article_url),4):3:1:r,E=h?h.payment_status:e,A=p.some(M=>M.article_document_path),T=p.some(M=>M.article_url)?"exists":void 0,F=h?h.created_at:s,L=M=>M<_?"completed":M===_?"current":"pending",D=M=>{switch(M){case 1:return"Pedido realizado";case 2:return E==="paid"?"Pagamento processado":E==="processing"?"Processando pagamento":"Aguardando pagamento";case 3:return A?"Artigo recebido":"Em preparao";case 4:return T?"Artigo publicado":"Aguardando";default:return""}},O=[{id:1,title:"Compra",description:D(1),icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3 h-3",children:o.jsx("path",{d:"M20 6 9 17l-5-5"})}),status:L(1)},{id:2,title:"Pagamento",description:D(2),icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3 h-3",children:o.jsx("path",{d:"M20 6 9 17l-5-5"})}),status:L(2)},{id:3,title:"Artigo",description:D(3),icon:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3 h-3",children:[o.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),o.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),o.jsx("path",{d:"M10 9H8"}),o.jsx("path",{d:"M16 13H8"}),o.jsx("path",{d:"M16 17H8"})]}),status:L(3)},{id:4,title:"Publicao",description:D(4),icon:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3 h-3",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}),o.jsx("path",{d:"M2 12h20"})]}),status:L(4)}];let I=0;const B=O.length-1;if(_===1)I=0;else if(_===2)I=1/B*100;else if(p&&p.length>0&&_===3){const M=p.length;I=(1+p.filter($=>$.article_document_path||$.article_doc&&typeof $.article_doc=="string"&&$.article_doc.includes("http")).length/M)/B*100}else if(p&&p.length>0&&_===4){const M=p.length;I=(2+p.filter($=>$.article_url).length/M)/B*100}else I=(_-1)/B*100;const z=I;let V=`${z}%`;Number.isInteger(I/(100/B))&&I!==0&&I!==100&&(V=`calc(${z}% - 12px)`);const Y=M=>{switch(M){case"completed":return{circle:"bg-green-500 border-green-500 text-white dark:bg-green-400 dark:border-green-400",title:"text-green-700 dark:text-green-400",description:"text-green-600 dark:text-green-500"};case"current":return{circle:"bg-blue-500 border-blue-500 text-white dark:bg-blue-400 dark:border-blue-400",title:"text-blue-700 dark:text-blue-400",description:"text-blue-600 dark:text-blue-500"};case"pending":return{circle:"bg-gray-200 border-gray-300 text-gray-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",title:"text-gray-600 dark:text-gray-400",description:"text-gray-500 dark:text-gray-500"}}},q=_===1?{title:"Pedido Confirmado",timeEstimate:"Aguardando pagamento",details:F?`Pedido realizado em ${F}`:"Pedido realizado com sucesso"}:_===2?E==="processing"?{title:"Processando Pagamento",timeEstimate:"1-2 dias teis",details:"Aguardando confirmao de pagamento"}:E==="paid"?{title:"Pagamento Confirmado",timeEstimate:"Processado com sucesso",details:"Pagamento aprovado e confirmado"}:{title:"Aguardando Pagamento",timeEstimate:"Pendente",details:"Aguardando confirmao de pagamento"}:_===3?A?{title:"Artigo Recebido",timeEstimate:"Em anlise",details:"Artigo recebido e em processo de reviso"}:{title:"Preparao do Artigo",timeEstimate:"2-3 dias teis",details:"Aguardando recebimento do artigo para publicao"}:_===4?T?{title:"Artigo Publicado",timeEstimate:"Concludo",details:"Artigo publicado com sucesso"}:{title:"Publicao do Artigo",timeEstimate:"3-5 dias teis",details:"Aguardando publicao do artigo"}:null;return ft.useEffect(()=>{d&&p.length>0&&p.every(M=>M.article_url)&&WP(d,"completed")},[d,p]),g?o.jsx("div",{className:"flex items-center justify-center min-h-[60px]",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Carregando progresso..."})}):x?o.jsx("div",{className:"flex items-center justify-center min-h-[60px]",children:o.jsx("div",{className:"text-red-500 text-sm",children:x})}):o.jsxs("div",{className:`mb-6 p-3 rounded-lg border ${C?"bg-transparent border-transparent":"bg-gray-50 border-gray-100 dark:bg-gray-800/50 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Progresso do Pedido"}),o.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[_," de ",O.length," etapas"]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"flex items-center justify-between relative",children:[o.jsx("div",{className:"absolute top-3 left-0 right-0 h-0.5 bg-gray-300 dark:bg-gray-600"}),o.jsx("div",{className:"absolute top-3 left-0 h-0.5 bg-green-500 dark:bg-green-400 transition-all duration-1000 ease-out",style:{width:V}}),O.map(M=>{const U=Y(M.status);return o.jsxs("div",{className:"relative flex flex-col items-center",children:[o.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${U.circle}`,children:M.icon}),o.jsxs("div",{className:"mt-1 text-center",children:[o.jsx("div",{className:`font-medium text-xs ${U.title}`,children:M.title}),o.jsx("div",{className:`text-xs ${U.description}`,children:M.description})]})]},M.id)})]})," "]}),!i&&q&&o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 dark:bg-blue-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:o.jsx("span",{className:"font-medium",children:q.title})})]}),o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:q.timeEstimate})]})})]})};function qa(r,e="success"){if(typeof window<"u"&&window.document){const t=document.getElementById("orderitem-toast");t&&t.remove();const n=document.createElement("div");n.id="orderitem-toast",n.innerHTML=`
      <div class="flex items-center justify-between gap-3 w-full sm:max-w-[340px] rounded-md border-b-4 p-3 shadow-theme-sm bg-white dark:bg-gray-900 ${e==="success"?"border-success-500":"border-error-500"}">
        <div class="flex items-center gap-4">
          <div class="flex items-center justify-center w-10 h-10 rounded-lg ${e==="success"?"bg-success-50 text-success-500 dark:bg-success-500/20 dark:text-success-400":"bg-error-50 text-error-500 dark:bg-error-500/20 dark:text-error-400"}">
            ${e==="success"?`
              <svg class="size-5" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 22 22" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M2.70186 11.0001C2.70186 6.41711 6.41711 2.70186 11.0001 2.70186C15.5831 2.70186 19.2984 6.41711 19.2984 11.0001C19.2984 15.5831 15.5831 19.2984 11.0001 19.2984C6.41711 19.2984 2.70186 15.5831 2.70186 11.0001ZM11.0001 0.901855C5.423 0.901855 0.901855 5.423 0.901855 11.0001C0.901855 16.5772 5.423 21.0984 11.0001 21.0984C16.5772 21.0984 21.0984 16.5772 21.0984 11.0001C21.0984 5.423 16.5772 0.901855 11.0001 0.901855ZM14.6197 9.73951C14.9712 9.38804 14.9712 8.81819 14.6197 8.46672C14.2683 8.11525 13.6984 8.11525 13.347 8.46672L10.1894 11.6243L8.6533 10.0883C8.30183 9.7368 7.73198 9.7368 7.38051 10.0883C7.02904 10.4397 7.02904 11.0096 7.38051 11.3611L9.55295 13.5335C9.72174 13.7023 9.95065 13.7971 10.1894 13.7971C10.428 13.7971 10.657 13.7023 10.8257 13.5335L14.6197 9.73951Z" fill="currentColor"></path>
              </svg>
            `:`
              <svg class="size-5" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 22 22" fill="none">
                <circle cx="11" cy="11" r="10" fill="currentColor" fill-opacity="0.2" stroke="currentColor" stroke-width="1.5"/>
                <path d="M7.75 7.75L14.25 14.25M14.25 7.75L7.75 14.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
            `}
          </div>
          <div>
            <h4 class="text-sm text-gray-800 sm:text-base dark:text-white/90">${e==="success"?"Sucesso!":"Erro!"}</h4>
            <div class="text-xs text-gray-700 dark:text-gray-300 mt-1">${r}</div>
          </div>
        </div>
        <button class="text-gray-400 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white/90" id="orderitem-toast-close-btn">
          <svg class="size-6" width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M6.04289 16.5418C5.65237 16.9323 5.65237 17.5655 6.04289 17.956C6.43342 18.3465 7.06658 18.3465 7.45711 17.956L11.9987 13.4144L16.5408 17.9565C16.9313 18.347 17.5645 18.347 17.955 17.9565C18.3455 17.566 18.3455 16.9328 17.955 16.5423L13.4129 12.0002L17.955 7.45808C18.3455 7.06756 18.3455 6.43439 17.955 6.04387C17.5645 5.65335 16.9313 5.65335 16.5408 6.04387L11.9987 10.586L7.45711 6.04439C7.06658 5.65386 6.43342 5.65386 6.04289 6.04439C5.65237 6.43491 5.65237 7.06808 6.04289 7.4586L10.5845 12.0002L6.04289 16.5418Z" fill="currentColor"></path>
          </svg>
        </button>
      </div>
    `,n.style.position="fixed",n.style.top="80px",n.style.right="32px",n.style.zIndex="99999",n.style.maxWidth="340px",n.style.width="100%",n.style.opacity="1",n.style.transition="opacity 0.3s",n.style.pointerEvents="auto",n.style.backgroundColor="#fff",document.body.appendChild(n);const a=n.querySelector("#orderitem-toast-close-btn");a&&a.addEventListener("click",()=>{n.style.opacity="0",setTimeout(()=>n.remove(),400)}),setTimeout(()=>{n.style.opacity="0",setTimeout(()=>n.remove(),400)},2500)}}const qc={async uploadArticleDocument(r,e,t){const{error:n}=await K.from("order_items").update({article_document_path:e,article_doc:t}).eq("id",r);if(n)throw qa("Erro ao atualizar documento do artigo.","error"),n;qa("Documento do artigo atualizado com sucesso!","success")},async getOrderItemWithOrder(r){const{data:e,error:t}=await K.from("order_items").select(`
        id,
        order_id,
        entry_id,
        product_name,
        product_url,
        quantity,
        unit_price,
        total_price,
        niche,
        service_content,
        created_at,
        article_document_path,
        article_doc,
        article_url_status,
        publication_status,
        article_url,
        orders!inner(
          id,
          user_id
        )
      `).eq("id",r).single();if(t)throw qa("Erro ao buscar item do pedido.","error"),t;return qa("Item do pedido carregado com sucesso!","success"),e},async createOrderItem(r){const{data:e,error:t}=await K.from("order_items").insert([r]).select().single();if(t)throw qa("Erro ao criar item do pedido.","error"),t;return qa("Item do pedido criado com sucesso!","success"),e},async getOrderItemById(r){const{data:e,error:t}=await K.from("order_items").select(`
        id,
        order_id,
        entry_id,
        product_name,
        product_url,
        quantity,
        unit_price,
        total_price,
        niche,
        service_content,
        created_at,
        article_document_path,
        article_doc,
        article_url_status,
        publication_status,
        article_url
      `).eq("id",r).single();if(t)throw qa("Erro ao buscar item do pedido.","error"),t;return qa("Item do pedido carregado com sucesso!","success"),e},async updateOrderItem(r,e){const{data:t,error:n}=await K.from("order_items").update(e).eq("id",r).select().single();if(n)throw qa("Erro ao atualizar item do pedido.","error"),n;return qa("Item do pedido atualizado com sucesso!","success"),t},async deleteOrderItem(r){const{error:e}=await K.from("order_items").delete().eq("id",r);if(e)throw qa("Erro ao deletar item do pedido.","error"),e;return qa("Item do pedido deletado com sucesso!","success"),!0},async listOrderItemsByOrder(r){const{data:e,error:t}=await K.from("order_items").select(`
        id,
        order_id,
        entry_id,
        product_name,
        product_url,
        quantity,
        unit_price,
        total_price,
        niche,
        service_content,
        created_at,
        article_document_path,
        article_doc,
        article_url_status,
        publication_status,
        article_url
      `).eq("order_id",r);if(t)throw qa("Erro ao listar itens do pedido.","error"),t;return qa("Itens do pedido carregados com sucesso!","success"),e}},xce=["paid","approved","succeeded"];function vce({orderId:r,onPixPaid:e}){const t=mr(),n=w.useRef(null),a=w.useRef(!1);return w.useEffect(()=>{if(!r)return;a.current=!1;async function s(){const{data:i,error:l}=await K.from("orders").select("id, payment_status, payment_method").eq("id",r).maybeSingle();if(l){console.error("Erro ao buscar status do pedido PIX:",l);return}i&&xce.includes(i.payment_status)&&(a.current||(a.current=!0,e()))}return n.current=setInterval(s,5e3),s(),()=>{n.current&&clearInterval(n.current),a.current=!0}},[r,e,t]),null}function C7(r){let e=r;if(Array.isArray(e)&&e.length>0)if(typeof e[0]=="string")try{e=JSON.parse(e[0])}catch{e={}}else typeof e[0]=="object"&&(e=e[0]);else if(typeof e=="string")try{e=JSON.parse(e)}catch{e={}}return e==null?void 0:e.benefits}function bce(){const r=mr(),[e,t]=w.useState(!0),[n,a]=w.useState(null),[s,i]=w.useState(!1),[l,c]=w.useState("card"),[d,u]=w.useState(!1),[h,f]=w.useState(0),[p,m]=w.useState({name:"",email:"",address:"",city:"",state:"",zipCode:"",documentNumber:"",phone:"",legal_status:"individual",country:"BR",company_name:"",neighborhood:"",street:"",streetNumber:""}),[g,v]=w.useState(!1),[x,b]=w.useState({items:[],totalProductPrice:0,totalContentPrice:0,totalFinalPrice:0,appliedCouponId:null,discountValue:0}),[y,C]=w.useState(null),[S,_]=w.useState(null),[E,A]=w.useState(["card","pix","boleto"]),[T,F]=w.useState(null),[L,D]=w.useState([]),[O,I]=w.useState([]),[B,z]=w.useState([]),[V,W]=w.useState(!1),[Y,G]=w.useState({cardNumber:"",cardExpiry:"",cardCvc:"",cardholderName:"",country:"BR"}),[q]=w.useState(()=>th()),[M,U]=w.useState(1),[$,X]=w.useState([]),[Q,se]=w.useState(!1),[le,ue]=w.useState(!1),ye=ED({offsetTop:20,onlyOnDesktop:!0});w.useEffect(()=>{Ne(),Le(),et(),Ie();const je=setTimeout(()=>{console.log(" TIMEOUT: Recarregando order totals aps delay"),Le()},1e3);return()=>clearTimeout(je)},[]),w.useEffect(()=>{function je(){console.log(" EVENT: order-totals-updated received, reloading order total"),Le()}return window.addEventListener("order-totals-updated",je),()=>window.removeEventListener("order-totals-updated",je)},[]),w.useEffect(()=>{s&&T&&(W(!0),qc.listOrderItemsByOrder(T).then(je=>{D(je||[]);const ve=(je||[]).filter(Me=>{const Je=C7(Me.service_content);return Je==null||Array.isArray(Je)&&Je.length===0||typeof Je=="string"&&Je.trim()===""});I(ve),z((je||[]).filter(Me=>!ve.includes(Me)))}).finally(()=>W(!1)))},[s,T]);async function Ne(){var je;try{t(!0),a(""),console.log("LOADING PAYMENT SETTINGS:",{timestamp:new Date().toISOString(),message:"Starting to load payment settings from database"});const{data:ve,error:Me}=await K.from("payment_settings").select("stripe_public_key, stripe_enabled, stripe_test_mode, currency, payment_methods").single();if(console.log("PAYMENT SETTINGS DATABASE RESPONSE:",{hasData:!!ve,hasError:!!Me,stripeEnabled:ve==null?void 0:ve.stripe_enabled,hasStripeKey:!!(ve!=null&&ve.stripe_public_key),stripeKeyPrefix:(je=ve==null?void 0:ve.stripe_public_key)==null?void 0:je.substring(0,20),paymentMethods:ve==null?void 0:ve.payment_methods,timestamp:new Date().toISOString()}),Me)throw Me;if(ve!=null&&ve.stripe_enabled&&(ve!=null&&ve.stripe_public_key)?(console.log("INITIALIZING STRIPE:",{stripeEnabled:ve.stripe_enabled,stripeKeyPrefix:ve.stripe_public_key.substring(0,20),timestamp:new Date().toISOString()}),console.log("STRIPE INSTANCE CREATED:",{stripeInstanceCreated:!0,timestamp:new Date().toISOString()})):console.log("STRIPE NOT INITIALIZED:",{stripeEnabled:ve==null?void 0:ve.stripe_enabled,hasStripeKey:!!(ve!=null&&ve.stripe_public_key),reason:ve!=null&&ve.stripe_enabled?"No Stripe public key":"Stripe not enabled",timestamp:new Date().toISOString()}),ve!=null&&ve.payment_methods&&Array.isArray(ve.payment_methods)&&ve.payment_methods.length>0){const Je=ve.payment_methods.filter(pt=>typeof pt=="string"&&["card","pix","boleto"].includes(pt));if(Je.length>0)A(Je),c(Je[0]),console.log("PAYMENT METHODS SET FROM DATABASE:",{originalPaymentMethods:ve.payment_methods,validPaymentMethods:Je,defaultMethod:Je[0],timestamp:new Date().toISOString()});else{const pt=["card","pix","boleto"];A(pt),c(pt[0]),console.log("NO VALID PAYMENT METHODS FROM DATABASE, USING DEFAULT:",{originalPaymentMethods:ve.payment_methods,defaultPaymentMethods:pt,timestamp:new Date().toISOString()})}}else{const Je=["card","pix","boleto"];A(Je),c(Je[0]),console.log("USING DEFAULT PAYMENT METHODS:",{hasPaymentMethods:!!(ve!=null&&ve.payment_methods),isArray:Array.isArray(ve==null?void 0:ve.payment_methods),paymentMethodsData:ve==null?void 0:ve.payment_methods,defaultPaymentMethods:Je,defaultMethod:Je[0],timestamp:new Date().toISOString()})}}catch(ve){console.error("Error loading payment settings:",ve),console.log("PAYMENT SETTINGS LOADING ERROR:",{errorMessage:ve instanceof Error?ve.message:String(ve),errorStack:ve instanceof Error?ve.stack:void 0,timestamp:new Date().toISOString()}),a("Erro ao carregar configuraes de pagamento")}finally{t(!1)}}async function Le(){try{const{data:{user:je}}=await K.auth.getUser();if(!je)return;const{data:ve,error:Me}=await K.from("order_totals").select("total_product_price, total_content_price, total_final_price, applied_coupon_id, discount_value").eq("user_id",je.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(Me)throw Me;ve?(f(Math.round(parseFloat(ve.total_final_price)*100)),b(Je=>({...Je,totalProductPrice:Number(ve.total_product_price),totalContentPrice:Number(ve.total_content_price),totalFinalPrice:Number(ve.total_final_price),appliedCouponId:ve.applied_coupon_id,discountValue:Number(ve.discount_value)||0})),console.log(" ORDER TOTALS LOADED:",{totalProductPrice:Number(ve.total_product_price),totalContentPrice:Number(ve.total_content_price),totalFinalPrice:Number(ve.total_final_price),appliedCouponId:ve.applied_coupon_id,discountValue:Number(ve.discount_value)||0,calculatedWithoutDiscount:Number(ve.total_product_price)+Number(ve.total_content_price),timestamp:new Date().toISOString()})):console.log(" No order totals found for user")}catch(je){console.error("Error loading order total:",je),console.log("ORDER TOTAL LOADING ERROR:",{errorMessage:je instanceof Error?je.message:String(je),errorStack:je instanceof Error?je.stack:void 0,timestamp:new Date().toISOString()})}}async function Ie(){try{const{data:{user:je}}=await K.auth.getUser();if(!je)return;const{data:ve,error:Me}=await K.from("cart_checkout_resume").select("*").eq("user_id",je.id);if(Me)throw Me;ve&&ve.length>0&&b(Je=>({...Je,items:ve}))}catch(je){console.error("Error loading cart items:",je),console.log("CART ITEMS LOADING ERROR:",{errorMessage:je instanceof Error?je.message:String(je),errorStack:je instanceof Error?je.stack:void 0,timestamp:new Date().toISOString()})}}async function et(){try{const{data:{user:je}}=await K.auth.getUser();if(!je)return;const{data:ve}=await K.from("admins").select("id, email, first_name, last_name").eq("id",je.id).maybeSingle();if(ve){const{data:Me,error:Je}=await K.from("company_data").select("*").eq("admin_id",je.id).maybeSingle();if(Je)throw Je}else{const{data:Me,error:Je}=await K.from("platform_users").select("*").eq("id",je.id).maybeSingle();if(Je)throw Je}}catch(je){console.error("Error loading company data:",je),console.log("COMPANY DATA LOADING ERROR:",{errorMessage:je instanceof Error?je.message:String(je),errorStack:je instanceof Error?je.stack:void 0,timestamp:new Date().toISOString()})}}const Ee=je=>{const{name:ve,value:Me}=je.target,Je=Me!=null?String(Me):"";console.log(" DEBUG INPUT CHANGE (Payment.tsx):",{name:ve,rawValue:Me,safeValue:Je,valueLength:(Je==null?void 0:Je.length)||0,timestamp:new Date().toISOString()}),ve==="phone"&&console.log(" PHONE FIELD CHANGE DETECTED:",{rawValue:Me,safeValue:Je,valueType:typeof Je,valueLength:(Je==null?void 0:Je.length)||0,rawValueJSON:JSON.stringify(Me),timestamp:new Date().toISOString()}),m(pt=>{var Ke;const ut={...pt,[ve]:Je};return console.log(" FORM DATA UPDATED (Payment.tsx):",{field:ve,oldValue:pt[ve],newValue:Je,newFormData:ut,timestamp:new Date().toISOString()}),ve==="phone"&&console.log(" PHONE IN FORM DATA AFTER UPDATE:",{phoneValue:ut.phone,phoneType:typeof ut.phone,phoneLength:((Ke=ut.phone)==null?void 0:Ke.length)||0,allFormData:ut,timestamp:new Date().toISOString()}),ve==="legal_status"&&console.log("[DEBUG Payment.tsx] legal_status atualizado:",ut.legal_status),ut})},ee=je=>{c(je),je!=="pix"&&(C(null),_(null))};async function Ve(){const{data:{user:je}}=await K.auth.getUser();if(!je)throw new Error("User not authenticated");const ve=x.items.map(pt=>{let ut=pt.niche_selected||null;if(typeof ut=="string")try{ut=JSON.parse(ut)}catch{ut=null}let Ke=pt.service_selected||null;if(typeof Ke=="string")try{Ke=JSON.parse(Ke)}catch{Ke=null}return{entry_id:pt.entry_id,product_name:pt.product_url||"Produto",product_url:pt.product_url,quantity:pt.quantity||1,unit_price:Number(pt.price)||0,total_price:(Number(pt.price)||0)*(pt.quantity||1),niche:ut,service_content:Ke}}),Me=x.totalFinalPrice;console.log(" CREATE PIX ORDER - Valores do orderSummary:",{totalFinalPrice:x.totalFinalPrice,totalProductPrice:x.totalProductPrice,totalContentPrice:x.totalContentPrice,discountValue:x.discountValue,appliedCouponId:x.appliedCouponId,calculatedWithoutDiscount:x.totalProductPrice+x.totalContentPrice,timestamp:new Date().toISOString()});const Je=await b5({payment_method:"pix",total_amount:Me,billing_name:p.name,billing_email:p.email,billing_address:p.address,billing_city:p.city,billing_state:p.state,billing_zip_code:p.zipCode,billing_document_number:p.documentNumber,phone:p.phone,items:ve,idempotency_key:q});if(!Je)throw new Error("Failed to create order");return await dt(je.id),window.dispatchEvent(new Event("cart-cleared")),F(Je.id),Je.id}const Ue=async()=>{var je,ve,Me;try{if(u(!0),console.log(" DEBUG CRTICO - Estado do formData antes do PIX:",{formData:p,legal_status:p.legal_status,legal_status_type:typeof p.legal_status,legal_status_defined:p.legal_status!==void 0,legal_status_not_null:p.legal_status!==null,legal_status_string:String(p.legal_status),all_formData_keys:Object.keys(p),timestamp:new Date().toISOString()}),!p.legal_status){console.error(" ERRO CRTICO: legal_status no est definido!"),console.log(" FormData completo:",p),a("Erro: Status legal do cliente no definido. Recarregue a pgina.");return}console.log(" Recarregando totais antes de gerar PIX..."),await Le(),await new Promise(er=>setTimeout(er,100));let Je=T;Je||(Je=await Ve());const{data:{session:pt}}=await K.auth.getSession();if(!pt)throw new Error("No authenticated session found");const ut=x.totalFinalPrice;console.log(" PIX DEBUG - Dados crticos sendo enviados:",{customer_legal_status:p.legal_status,customer_legal_status_type:typeof p.legal_status,customer_document:p.documentNumber,customer_document_clean:p.documentNumber.replace(/\D/g,""),customer_document_length:p.documentNumber.replace(/\D/g,"").length,expected_document_type:p.legal_status==="business"?"cnpj":"cpf",expected_customer_type:p.legal_status==="business"?"company":"individual",timestamp:new Date().toISOString()});const Ke=await fetch("https://uxbeaslwirkepnowydfu.supabase.co/functions/v1/pagarme-pix-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${pt.access_token}`},body:JSON.stringify({amount:Math.round(ut*100),customer_name:p.name,customer_email:p.email,customer_document:p.documentNumber.replace(/\D/g,""),customer_phone:p.phone.replace(/\D/g,""),customer_legal_status:p.legal_status,customer_company_name:p.company_name,order_id:Je,order_items:(()=>{const er=x.totalProductPrice+x.totalContentPrice,fn=x.totalFinalPrice/er;return x.items.map(tr=>{const hr=Number(tr.price)*fn;return{amount:Math.round(hr*100),description:tr.product_url||"Produto Marketplace",quantity:tr.quantity||1,code:tr.entry_id||`ITEM_${Date.now()}`}})})()})});let wt;try{wt=await Ke.json()}catch{wt={}}if(console.log(" PIX DEBUG - Resposta completa:",wt),(Me=(ve=(je=wt.raw_response)==null?void 0:je.charges)==null?void 0:ve[0])!=null&&Me.id){const er=wt.raw_response.charges[0].id;await Ge(Je,er)}if(wt.success&&wt.qr_code_url&&wt.qr_code)C(wt.qr_code_url),_(wt.qr_code);else throw wt.qr_code_url&&wt.qr_code&&(C(wt.qr_code_url),_(wt.qr_code)),new Error(wt.error||wt.message||"Failed to generate PIX QR code")}catch(Je){console.error(" Erro completo na gerao do PIX:",{error:Je,message:Je.message,stack:Je.stack,formData_legal_status:p.legal_status,timestamp:new Date().toISOString()});const pt=m0(Je.message||"Erro ao gerar QR code PIX");a(pt)}finally{u(!1)}},ke=async je=>{try{if(u(!0),console.log(" PIX PAYMENT SUCCESS - Processando pagamento PIX bem-sucedido:",{paymentId:je,paymentMethod:l,timestamp:new Date().toISOString()}),T){console.log(" Atualizando status do pagamento PIX para 'paid':",{orderId:T,paymentMethod:"pix"});const{updateOrderStatus:ve}=await Ma(async()=>{const{updateOrderStatus:Je}=await Promise.resolve().then(()=>qS);return{updateOrderStatus:Je}},void 0);await ve(T,"approved","paid")?console.log(" Status do pagamento PIX atualizado com sucesso para 'paid'"):console.error(" Falha ao atualizar status do pagamento PIX");try{const pt={order:{name:p.name,email:p.email,total:x.totalFinalPrice,items:x.items.map(ut=>{let Ke="";if(Array.isArray(ut.niche_selected)&&ut.niche_selected.length>0)try{const It=JSON.parse(ut.niche_selected[0]);Ke=It.niche||It.title||It.name||""}catch{Ke=""}let wt="",er="";if(Array.isArray(ut.service_selected)&&ut.service_selected.length>0)try{const It=JSON.parse(ut.service_selected[0]);wt=It.title||It.name||"",er=It.word_count||""}catch{wt="",er=""}return{name:ut.product_url||"Produto",quantity:ut.quantity,price:ut.price,niche:Ke,package:wt,word_count:er}})}};console.log("Dados enviados para funo Edge (PIX):",JSON.stringify(pt)),await fetch("https://uxbeaslwirkepnowydfu.functions.supabase.co/send-order-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(pt)}),console.log("E-mail de notificao de compra enviado para cliente e administrador (PIX)")}catch(Je){console.error("Erro ao enviar e-mail de compra (PIX):",Je)}}i(!0)}catch(ve){console.error("Error processing successful PIX payment:",ve),console.log("PIX PAYMENT SUCCESS PROCESSING ERROR:",{errorMessage:ve instanceof Error?ve.message:String(ve),errorStack:ve instanceof Error?ve.stack:void 0,paymentId:je,timestamp:new Date().toISOString(),orderSummary:x,formData:p}),a("Erro ao finalizar o pagamento PIX")}finally{u(!1)}},Ce=je=>{console.log("PAYMENT ERROR RECEIVED:",{errorMessage:je,paymentMethod:l,timestamp:new Date().toISOString(),formData:p,orderSummary:x});const ve=m0(je);a(ve)},ze=async je=>{try{const{data:{user:ve}}=await K.auth.getUser();if(!ve)throw new Error("User not authenticated");const Me=x.items.map(ut=>{let Ke=ut.niche_selected||null;if(typeof Ke=="string")try{Ke=JSON.parse(Ke)}catch{Ke=null}let wt=ut.service_selected||null;if(typeof wt=="string")try{wt=JSON.parse(wt)}catch{wt=null}return{entry_id:ut.entry_id,product_name:ut.product_url||"Produto",product_url:ut.product_url,quantity:ut.quantity||1,unit_price:Number(ut.price)||0,total_price:(Number(ut.price)||0)*(ut.quantity||1),niche:Ke,service_content:wt}}),Je=x.totalFinalPrice,pt=await b5({payment_method:l,total_amount:Je,billing_name:p.name,billing_email:p.email,billing_address:p.address,billing_city:p.city,billing_state:p.state,billing_zip_code:p.zipCode,billing_document_number:p.documentNumber,phone:p.phone,payment_id:je,items:Me,idempotency_key:q});if(!pt)throw new Error("Failed to create order");return await dt(ve.id),window.dispatchEvent(new Event("cart-cleared")),pt}catch(ve){throw console.error("Error creating order:",ve),console.log("ORDER CREATION ERROR:",{errorMessage:ve instanceof Error?ve.message:String(ve),errorStack:ve instanceof Error?ve.stack:void 0,paymentMethod:l,paymentId:je,timestamp:new Date().toISOString(),totalAmount:x.totalFinalPrice,billingInfo:{name:p.name,email:p.email,address:p.address,city:p.city,state:p.state,zipCode:p.zipCode,documentNumber:p.documentNumber}}),ve}},Ge=async(je,ve)=>{try{const{error:Me}=await K.from("orders").update({payment_id:ve}).eq("id",je);if(Me)throw console.error("Error updating order payment ID:",Me),new Error(`Failed to update payment ID for order ${je}: ${Me.message}`);console.log(` Payment ID ${ve} updated for order ${je}`),W(!0),qc.listOrderItemsByOrder(je).then(Je=>{D(Je||[]);const pt=(Je||[]).filter(ut=>{const Ke=C7(ut.service_content);return Ke==null||Array.isArray(Ke)&&Ke.length===0||typeof Ke=="string"&&Ke.trim()===""});I(pt),z((Je||[]).filter(ut=>!pt.includes(ut)))}).finally(()=>W(!1))}catch(Me){console.error("Error updating order payment ID:",Me),a(m0(Me instanceof Error?Me.message:"Erro ao atualizar pagamento do pedido"))}},dt=async je=>{try{const{error:ve}=await K.from("cart_checkout_resume").delete().eq("user_id",je);if(ve)throw ve;const{error:Me}=await K.from("shopping_cart_items").delete().eq("user_id",je);if(Me)throw Me;const{error:Je}=await K.from("order_totals").delete().eq("user_id",je);if(Je)throw Je;return console.log(" Cart cleared successfully, including order_totals"),!0}catch(ve){return console.error("Error clearing cart:",ve),console.log("CART CLEARING ERROR:",{errorMessage:ve instanceof Error?ve.message:String(ve),errorStack:ve instanceof Error?ve.stack:void 0,userId:je,timestamp:new Date().toISOString()}),!1}},De=je=>{G(je)};async function Fe(je){var ve,Me,Je,pt,ut,Ke,wt,er,It,fn,tr,Mr,hr,Gt,ne,oe,me,_e,Xe;console.log("[DEBUG] handleSubmit chamado"),je.preventDefault(),u(!0),a(null);try{let nt=function($r){const Hn=$r.replace(/\D/g,"");let Ti="55",ja="",Ps="";return Hn.length>=12?(Ti=Hn.substring(0,2),ja=Hn.substring(2,4),Ps=Hn.substring(4)):Hn.length===11||Hn.length===10?(ja=Hn.substring(0,2),Ps=Hn.substring(2)):(Ps=Hn.slice(-9),ja=Hn.slice(-11,-9)),{country_code:Ti,area_code:ja,number:Ps}};if(!Y.cardNumber||!Y.cardExpiry||!Y.cardCvc||!Y.cardholderName)throw new Error("Por favor, preencha todos os dados do carto");if(!p.name||!p.email)throw new Error("Por favor, preencha nome e email");const{data:He,error:ht}=await K.auth.getSession();if(console.log("[DEBUG] Verificao de sesso:",{hasSession:!!(He!=null&&He.session),hasAccessToken:!!((ve=He==null?void 0:He.session)!=null&&ve.access_token),tokenExpiry:(Me=He==null?void 0:He.session)==null?void 0:Me.expires_at,currentTime:new Date().toISOString(),sessionError:ht,userId:(pt=(Je=He==null?void 0:He.session)==null?void 0:Je.user)==null?void 0:pt.id}),ht)throw new Error(`Erro na sesso: ${ht.message}`);if(!((ut=He==null?void 0:He.session)!=null&&ut.access_token))throw new Error("Sesso no encontrada. Faa login novamente.");const Et=He.session.expires_at;if(Et&&new Date(Et*1e3)<=new Date)throw new Error("Sesso expirada. Faa login novamente.");const lt=He.session.access_token,mt="https://uxbeaslwirkepnowydfu.supabase.co/functions/v1/pagarme-payment";console.log("[DEBUG] Iniciando fluxo de pagamento com tokenizao..."),console.log("- Nome:",p.name),console.log("- Email:",p.email),console.log("- CPF:",p.documentNumber),console.log("- Valor (totalAmount):",h),console.log("- Tipo do valor:",typeof h),console.log("- Dados do carto:",{cardNumber:Y.cardNumber?Y.cardNumber.substring(0,4)+"****":"VAZIO",cardExpiry:Y.cardExpiry,cardCvc:Y.cardCvc?"***":"VAZIO",cardholderName:Y.cardholderName}),console.log("- Endereo de cobrana:",{address:p.address,zipCode:p.zipCode,city:p.city,state:p.state}),console.log("[DEBUG] Passo 1: Tokenizando carto..."),console.log("[DEBUG] formData coletado do formulrio:",{name:p.name,email:p.email,address:p.address,city:p.city,state:p.state,zipCode:p.zipCode,documentNumber:p.documentNumber,company_name:p.company_name,phone:p.phone});const Pt=((Ke=p.address)==null?void 0:Ke.trim())||"",sr=((wt=p.zipCode)==null?void 0:wt.replace(/\D/g,""))||"",Ar=((er=p.city)==null?void 0:er.trim())||"",pn=((It=p.state)==null?void 0:It.trim())||"",lr={line_1:Pt||"Rua das Flores, 123, Centro",zip_code:sr.padStart(8,"0")||"01234567",city:Ar||"So Paulo",state:pn||"SP",country:"BR"};if(!Object.entries(lr).every(([,$r])=>typeof $r=="string"&&$r.length>0)){console.log("[ERROR] Campos de billing invlidos:",{billingAddress:lr,invalidFields:Object.entries(lr).filter(([,$r])=>!$r||$r.length===0)}),a("Preencha todos os campos obrigatrios do endereo de cobrana."),u(!1);return}console.log("[DEBUG] Billing address final (Pagar.me v5 - Estrutura Oficial):",lr),console.log("[DEBUG] Validao dos campos obrigatrios:",{line_1:{value:lr.line_1,valid:!!lr.line_1},zip_code:{value:lr.zip_code,valid:!!lr.zip_code&&lr.zip_code.length===8},city:{value:lr.city,valid:!!lr.city},state:{value:lr.state,valid:!!lr.state},country:{value:lr.country,valid:!!lr.country}});const Sa={action:"tokenize",card_number:Y.cardNumber.replace(/\s/g,""),card_exp_month:Y.cardExpiry.substring(0,2),card_exp_year:"20"+Y.cardExpiry.substring(3,5),card_cvv:Y.cardCvc,card_holder_name:Y.cardholderName};console.log("[DEBUG] Payload enviado para tokenizao (SEM billing_address):",Sa),console.log("[DEBUG] billing_address ser usado apenas no pagamento, no na tokenizao v5"),console.log("[DEBUG] URL da funo edge:",mt),console.log("[DEBUG] access_token enviado:",lt),console.log("[DEBUG] Headers enviados:",{"Content-Type":"application/json",Authorization:`Bearer ${lt}`});const Kn=await fetch(mt,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${lt}`},body:JSON.stringify(Sa)}),Qn=await Kn.json();if(console.log("[DEBUG] Resultado da tokenizao:",Qn),!Kn.ok){console.log("[DEBUG] return: tokenResponse no ok");const $r=Qn.error||"Ocorreu um erro inesperado. Tente novamente.";a($r),u(!1);return}if(!Qn.card_token){console.log("[DEBUG] return: tokenResult.card_token no gerado"),a("Token do carto no foi gerado."),u(!1);return}console.log("[DEBUG] Token recebido, preparando para montar payload de pagamento"),console.log("[DEBUG] Passo 2: Montando payload de pagamento...");const Es=$.find($r=>$r.installments===M);if(!Es){console.log("[DEBUG] return: selectedInstallmentObj no encontrado"),a("Selecione uma opo de parcelamento vlida."),u(!1);return}const As=nt(p.phone||""),gn={items:[{amount:h,description:"Pedido Marketplace",quantity:1,code:"ITEM_"+Date.now()}],customer:{external_id:p.email||p.name||th(),name:p.name,email:p.email,document:p.documentNumber.replace(/\D/g,""),type:p.legal_status==="business"?"company":"individual",phones:{mobile_phone:{country_code:As.country_code,area_code:As.area_code,number:As.number}},address:lr},payments:[{payment_method:"credit_card",credit_card:{installments:Es.installments,statement_descriptor:"MARKETPLACE",card_token:Qn.card_token,card:{holder_name:Y.cardholderName||p.name,billing_address:lr}}}]};console.log("[DEBUG] legal_status no submit:",p.legal_status,"| document_type:",p.legal_status==="business"?"cnpj":"cpf","| type:",p.legal_status==="business"?"business":"individual","| document:",p.documentNumber),console.log("[DEBUG] Payload de pagamento montado:",gn),console.log("[DEBUG] Validao billing_address:",{customer_address:gn.customer.address,credit_card_billing_address:gn.payments[0].credit_card.card.billing_address,objects_are_same:gn.customer.address===gn.payments[0].credit_card.card.billing_address,tokenization_address:lr,all_three_match:gn.customer.address===lr&&gn.payments[0].credit_card.card.billing_address===lr,card_field_present:!!gn.payments[0].credit_card.card,holder_name:(fn=gn.payments[0].credit_card.card)==null?void 0:fn.holder_name,billing_address_complete:(tr=gn.payments[0].credit_card.card)==null?void 0:tr.billing_address,billing_zipcode:(hr=(Mr=gn.payments[0].credit_card.card)==null?void 0:Mr.billing_address)==null?void 0:hr.zip_code}),console.log("[DEBUG] Vai enviar o pagamento para a funo edge");const ss=await fetch(mt,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${lt}`},body:JSON.stringify(gn)}),mn=await ss.json();if(console.log("[DEBUG] Resposta recebida da funo edge:",mn),console.log("=== DEBUG RESPOSTA PAGAR.ME ==="),console.log("Status HTTP:",ss.status),console.log("Response OK:",ss.ok),console.log("Resultado completo:",JSON.stringify(mn,null,2)),console.log("Status do pagamento:",mn.status),console.log("ID do pedido:",mn.id),!ss.ok){console.log("[DEBUG] return: response no ok");const $r=mn.error||"Ocorreu um erro inesperado. Tente novamente.";a($r),u(!1);return}if(mn.status==="failed"){const $r=((Xe=(_e=(me=(oe=(ne=(Gt=mn.charges)==null?void 0:Gt[0])==null?void 0:ne.last_transaction)==null?void 0:oe.gateway_response)==null?void 0:me.errors)==null?void 0:_e[0])==null?void 0:Xe.message)||"Pagamento rejeitado pelo gateway";throw new Error($r)}const Ql=["paid","approved","processing","pending_payment","authorized"];if(Ql.includes(mn.status)){console.log(" Pagamento aceito com status:",mn.status);const $r=await ze(mn.id);if($r){F($r.id),console.log(" Atualizando status do pagamento para 'paid':",{orderId:$r.id,paymentMethod:l});const{updateOrderStatus:Hn}=await Ma(async()=>{const{updateOrderStatus:ja}=await Promise.resolve().then(()=>qS);return{updateOrderStatus:ja}},void 0);await Hn($r.id,"approved","paid")?console.log(" Status do pagamento atualizado com sucesso para 'paid'"):console.error(" Falha ao atualizar status do pagamento");try{const Ps={order:{name:p.name,email:p.email,total:$r.total_amount,items:x.items.map(_a=>{let ec="";if(Array.isArray(_a.niche_selected)&&_a.niche_selected.length>0)try{const Fa=JSON.parse(_a.niche_selected[0]);ec=Fa.niche||Fa.title||Fa.name||""}catch{ec=""}let $o="",tc="";if(Array.isArray(_a.service_selected)&&_a.service_selected.length>0)try{const Fa=JSON.parse(_a.service_selected[0]);$o=Fa.title||Fa.name||"",tc=Fa.word_count||""}catch{$o="",tc=""}return{name:_a.product_url||"Produto",quantity:_a.quantity,price:_a.price,niche:ec,package:$o,word_count:tc}})}};console.log("Dados enviados para funo Edge:",JSON.stringify(Ps)),await fetch("https://uxbeaslwirkepnowydfu.functions.supabase.co/send-order-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ps)}),console.log("E-mail de notificao de compra enviado para cliente e administrador (carto)")}catch(ja){console.error("Erro ao enviar e-mail de compra (carto):",ja)}i(!0)}}else throw console.log(" Status no aceito:",mn.status),console.log("Status aceitos:",Ql),new Error(`Status do pagamento: ${mn.status}. Aguarde a confirmao ou tente novamente.`)}catch(nt){console.error("[ERROR] Erro no handleSubmit:",nt),a(nt instanceof Error?nt.message:"Erro ao processar pagamento")}finally{u(!1)}}const it=()=>{const je=!!(Y.cardNumber&&Y.cardNumber.trim().length>=13),ve=!!(Y.cardExpiry&&Y.cardExpiry.trim().length>=4),Me=!!(Y.cardCvc&&Y.cardCvc.trim().length>=3),Je=!!(Y.cardholderName&&Y.cardholderName.trim().length>=2),pt=!!(Y.country&&Y.country.trim().length>=2);return je&&ve&&Me&&Je&&pt},vt=()=>{const je=!!(p.name&&p.name.trim().length>=2),ve=!!(p.email&&p.email.trim().includes("@")),Me=!!(p.documentNumber&&p.documentNumber.trim().length>=8),Je=!!(p.phone&&p.phone.trim().length>=8);return je&&ve&&Me&&Je},tt=()=>l==="card"?Q&&le:Q;return w.useEffect(()=>{const je=it();ue(je)},[Y]),w.useEffect(()=>{console.log(" isPaymentInfoFormValid CHANGED:",{newValue:Q,timestamp:new Date().toISOString()})},[Q]),w.useEffect(()=>{console.log(" isPaymentInfoFormValid CHANGED:",{newValue:Q,timestamp:new Date().toISOString()})},[Q]),e?o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"Pagamento | Marketplace",description:"Pgina de pagamento"}),o.jsx(kr,{pageTitle:"Pagamento"}),o.jsx("div",{className:"w-full max-w-4xl mx-auto",children:o.jsx("div",{className:"bg-white dark:bg-gray-900 p-8 rounded-xl border border-gray-200 dark:border-gray-800 flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-500"})})})]}):s?o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"Pagamento Concludo | Marketplace",description:"Pagamento concludo com sucesso"}),o.jsx(kr,{pageTitle:"Pagamento Concludo"}),o.jsx("main",{className:"flex-1 p-6",children:o.jsx("div",{className:"max-w-4xl mx-auto mt-8",children:o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800 flex items-center",children:[o.jsx("div",{className:"w-12 h-12 bg-green-50 dark:bg-green-900/20 rounded-full flex items-center justify-center mr-4",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6 text-green-500",children:[o.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),o.jsx("path",{d:"m9 11 3 3L22 4"})]})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:["Obrigado! Pagamento"," ",l==="boleto"?"Pendente":"Concludo","!"]}),o.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Seu pagamento de"," ",Fl(x.totalProductPrice+x.totalContentPrice)," ",l==="boleto"?"est aguardando processamento":"foi processado com sucesso"]})]})]}),o.jsx("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/20 border-b border-gray-200 dark:border-gray-800",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-800/50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-blue-600 dark:text-blue-400",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),o.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}),o.jsxs("div",{className:"flex-1",children:[V?o.jsx("p",{className:"text-blue-800 dark:text-blue-200 mb-4",children:"Carregando informaes do pedido..."}):o.jsxs(o.Fragment,{children:[O.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Prximo Passo: Envie seu Contedo"}),o.jsx("p",{className:"text-blue-800 dark:text-blue-200 mb-4",children:O.map(je=>o.jsxs("span",{children:["Para o produto"," ",o.jsx("a",{href:je.product_url,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-700 dark:text-blue-300",children:je.product_name}),", voc deve enviar o contedo.",o.jsx("br",{})]},je.id))})]}),B.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Aguarde o envio do contedo"}),o.jsx("p",{className:"text-blue-800 dark:text-blue-200 mb-4",children:B.map(je=>o.jsxs("span",{children:["Para o produto"," ",o.jsx("a",{href:je.product_url,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-700 dark:text-blue-300",children:je.product_name}),", aguarde o envio do contedo.",o.jsx("br",{})]},je.id))})]}),O.length===0&&B.length===0&&o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Prximo Passo: Envie seu Contedo"}),o.jsx("p",{className:"text-blue-800 dark:text-blue-200 mb-4",children:"Para dar continuidade ao seu pedido, voc precisa enviar o contedo do artigo. Acesse os detalhes do pedido para fazer o upload."})]})]}),o.jsx("div",{className:"mb-4",children:o.jsx(W3,{currentStep:l==="boleto"?2:3,paymentStatus:l==="boleto"?"pending":"paid",orderStatus:l==="boleto"?"pending":"processing",hasArticleDocument:!1,articleUrl:"",orderDate:new Date().toLocaleDateString("pt-BR"),showProgressOnly:!0,orderId:T||"",orderItems:L})}),o.jsxs("button",{onClick:()=>T&&r(`/orders/${T}`),disabled:!T,className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:["Acessar Detalhes do Pedido",o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[o.jsx("path",{d:"M5 12h14"}),o.jsx("path",{d:"m12 5 7 7-7 7"})]})]})]})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"O que acontece agora?"}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{className:"flex items-start",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 mr-3 flex-shrink-0",children:[o.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),o.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Voc receber um email de confirmao com todos os detalhes da compra"})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 mr-3 flex-shrink-0",children:[o.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),o.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),o.jsx("path",{d:"M10 9H8"}),o.jsx("path",{d:"M16 13H8"}),o.jsx("path",{d:"M16 17H8"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Envie o contedo do seu artigo"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:'Acesse "Detalhes do Pedido" para fazer o upload do arquivo ou inserir o texto'})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 mr-3 flex-shrink-0",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("polyline",{points:"12 6 12 12 16 14"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Prazo de publicao: 3-5 dias teis"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:"Aps o envio do contedo, seu artigo ser publicado no site escolhido"})]})]})]}),o.jsxs("button",{onClick:()=>r(T?`/orders/${T}`:"/orders"),className:"min-w-[200px] bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[o.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),o.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),o.jsx("path",{d:"M10 9H8"}),o.jsx("path",{d:"M16 13H8"}),o.jsx("path",{d:"M16 17H8"})]}),"Enviar Contedo"]})]})]})})})]}):o.jsxs(CD,{children:[o.jsx(Yt,{title:"Pagamento | Marketplace",description:"Pgina de pagamento"}),o.jsx(kr,{pageTitle:"Pagamento"}),l==="pix"&&T&&o.jsx(vce,{orderId:T,onPixPaid:()=>ke(T)}),o.jsx("div",{className:"min-h-screen",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-8 w-full max-w-6xl mx-auto items-start",children:[o.jsxs("div",{className:"w-full md:w-3/5",children:[o.jsx(Gle,{formData:p,onChange:Ee,onValidSubmit:je=>{console.log(" RECEBIDO RESULTADO DA VALIDAO NO PAYMENT.TSX:",{isValid:je,timestamp:new Date().toISOString()}),console.log(" ANTES: isPaymentInfoFormValid =",Q),se(je),console.log(" DEPOIS: setIsPaymentInfoFormValid chamado com:",je)}}),o.jsx(mce,{paymentMethod:l,totalAmount:h,pixQrCodeUrl:y,pixCopiaECola:S,total:x.totalFinalPrice,processing:d,error:n,termsAccepted:g,pixFormValid:vt(),availablePaymentMethods:E,onPaymentMethodChange:ee,onTermsAcceptedChange:v,onSubmit:Fe,onPaymentSuccess:ke,onPaymentError:Ce,onCardDataChange:De,cardData:Y,setCardData:G,onGeneratePixQrCode:Ue,allFormsValid:tt(),isPaymentInfoFormValid:Q,isCardFormValid:le,selectedInstallments:M,onInstallmentsChange:U,installmentsOptions:$,setInstallmentsOptions:X})]}),o.jsxs("div",{className:"w-full md:w-2/5",children:[o.jsx("div",{ref:ye.placeholderRef,style:ye.placeholderStyle}),o.jsx("div",{ref:ye.ref,style:ye.style,className:"w-full",children:o.jsx(ND,{})})]})]})})]})}function yce(){const r=mr(),e=Pn(),[t,n]=w.useState(null),[a,s]=w.useState([]),[i,l]=w.useState([]),[c,d]=w.useState([]),[u,h]=w.useState(!1);w.useEffect(()=>{var m;(m=e.state)!=null&&m.boletoData?n(e.state.boletoData):n({barCode:"42297.11504 00064.897317 04021.401122 1 11070000082900",amount:829,expirationDate:new Date(Date.now()+3*24*60*60*1e3).toLocaleDateString("pt-BR"),boletoUrl:"#"})},[e]);function f(m){let g=m;if(Array.isArray(g)&&g.length>0)if(typeof g[0]=="string")try{g=JSON.parse(g[0])}catch{g={}}else typeof g[0]=="object"&&(g=g[0]);else if(typeof g=="string")try{g=JSON.parse(g)}catch{g={}}return g==null?void 0:g.benefits}w.useEffect(()=>{t!=null&&t.orderId&&(h(!0),qc.listOrderItemsByOrder(t.orderId).then(m=>{s(m||[]);const g=(m||[]).filter(v=>{const x=f(v.service_content);return x==null||Array.isArray(x)&&x.length===0||typeof x=="string"&&x.trim()===""});l(g),d((m||[]).filter(v=>!g.includes(v)))}).finally(()=>h(!1)))},[t==null?void 0:t.orderId]);const p=(t==null?void 0:t.amount)||829;return o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"Pagamento Concludo | Marketplace",description:"Pagamento concludo com sucesso"}),o.jsx(kr,{pageTitle:"Pagamento Concludo"}),o.jsx("main",{className:"flex-1 p-6",children:o.jsx("div",{className:"max-w-4xl mx-auto mt-8",children:o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800 flex items-center",children:[o.jsx("div",{className:"w-12 h-12 bg-green-50 dark:bg-green-900/20 rounded-full flex items-center justify-center mr-4",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6 text-green-500",children:[o.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),o.jsx("path",{d:"m9 11 3 3L22 4"})]})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Obrigado! Pagamento Pendente!"}),o.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Seu pagamento de ",Fl(p)," est aguardando processamento"]})]})]}),o.jsx("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/20 border-b border-gray-200 dark:border-gray-800",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-800/50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-blue-600 dark:text-blue-400",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),o.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}),o.jsxs("div",{className:"flex-1",children:[u?o.jsx("p",{className:"text-blue-800 dark:text-blue-200 mb-4",children:"Carregando informaes do pedido..."}):o.jsxs(o.Fragment,{children:[i.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Prximo Passo: Envie seu Contedo"}),o.jsx("p",{className:"text-blue-800 dark:text-blue-200 mb-4",children:i.map(m=>o.jsxs("span",{children:["Para o produto"," ",o.jsx("a",{href:m.product_url,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-700 dark:text-blue-300",children:m.product_name}),", voc deve enviar o contedo.",o.jsx("br",{})]},m.id))})]}),c.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Aguarde o envio do contedo"}),o.jsx("p",{className:"text-blue-800 dark:text-blue-200 mb-4",children:c.map(m=>o.jsxs("span",{children:["Para o produto"," ",o.jsx("a",{href:m.product_url,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-700 dark:text-blue-300",children:m.product_name}),", aguarde o envio do contedo.",o.jsx("br",{})]},m.id))})]}),i.length===0&&c.length===0&&o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Prximo Passo: Envie seu Contedo"}),o.jsx("p",{className:"text-blue-800 dark:text-blue-200 mb-4",children:"Para dar continuidade ao seu pedido, voc precisa enviar o contedo do artigo. Acesse os detalhes do pedido para fazer o upload."})]})]}),o.jsx("div",{className:"mb-4",children:o.jsx(W3,{currentStep:2,paymentStatus:"pending",orderStatus:"pending",hasArticleDocument:!1,articleUrl:"",orderDate:new Date().toLocaleDateString("pt-BR"),showProgressOnly:!0,orderId:(t==null?void 0:t.orderId)||"",orderItems:a})}),o.jsxs("button",{onClick:()=>(t==null?void 0:t.orderId)&&r(`/orders/${t.orderId}`),disabled:!(t!=null&&t.orderId),className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:["Acessar Detalhes do Pedido",o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[o.jsx("path",{d:"M5 12h14"}),o.jsx("path",{d:"m12 5 7 7-7 7"})]})]})]})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"O que acontece agora?"}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{className:"flex items-start",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 mr-3 flex-shrink-0",children:[o.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),o.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Voc receber um email de confirmao com todos os detalhes da compra"})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 mr-3 flex-shrink-0",children:[o.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),o.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),o.jsx("path",{d:"M10 9H8"}),o.jsx("path",{d:"M16 13H8"}),o.jsx("path",{d:"M16 17H8"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Envie o contedo do seu artigo"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:'Acesse "Detalhes do Pedido" para fazer o upload do arquivo ou inserir o texto'})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 mr-3 flex-shrink-0",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("polyline",{points:"12 6 12 12 16 14"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Prazo de publicao: 3-5 dias teis"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:"Aps o envio do contedo, seu artigo ser publicado no site escolhido"})]})]})]}),o.jsxs("div",{className:"flex justify-center",children:[" ",o.jsxs("button",{onClick:()=>t!=null&&t.orderId?r(`/orders/${t.orderId}`):r("/orders"),className:"min-w-[200px] bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[o.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),o.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),o.jsx("path",{d:"M10 9H8"}),o.jsx("path",{d:"M16 13H8"}),o.jsx("path",{d:"M16 17H8"})]}),"Enviar Contedo"]})]})]})]})})})]})}const wce=r=>{const e=r.replace(/\D/g,"");return e.length===11?`(${e.slice(0,2)}) ${e.slice(2,7)}-${e.slice(7)}`:e.length===10?`(${e.slice(0,2)}) ${e.slice(2,6)}-${e.slice(6)}`:r};function kce(){const r=mr(),[e,t]=w.useState([]),[n,a]=w.useState([]),[s,i]=w.useState(!0),[l,c]=w.useState(""),[d,u]=w.useState(!1),[h,f]=w.useState(""),[p,m]=w.useState(10),[g,v]=w.useState(1),[x,b]=w.useState("created_at"),[y,C]=w.useState("desc"),S=Math.ceil(n.length/p);g>S&&S>0&&v(S),w.useEffect(()=>{_()},[]),w.useEffect(()=>{let I=[...e];if(h){const B=h.toLowerCase();I=I.filter(z=>{var V,W,Y;return z.id.toLowerCase().includes(B)||((V=z.billing_name)==null?void 0:V.toLowerCase().includes(B))||((W=z.billing_email)==null?void 0:W.toLowerCase().includes(B))||((Y=z.phone)==null?void 0:Y.toLowerCase().includes(B))||z.status.toLowerCase().includes(B)||z.payment_method.toLowerCase().includes(B)||z.payment_status.toLowerCase().includes(B)})}I.sort((B,z)=>{let V=B[x],W=z[x];return typeof V=="string"&&typeof W=="string"?(V=V.toLowerCase(),W=W.toLowerCase(),V<W?y==="asc"?-1:1:V>W?y==="asc"?1:-1:0):typeof V=="number"&&typeof W=="number"?y==="asc"?V-W:W-V:V==null?1:W==null?-1:0}),a(I),v(1)},[e,h,x,y]);async function _(){try{i(!0),c("");const{data:{user:I}}=await K.auth.getUser();if(!I)throw new Error("User not authenticated");const{data:B}=await K.from("admins").select("id").eq("id",I.id).maybeSingle(),z=!!B;u(z);let V=K.from("orders").select("*");z?V=V.order("created_at",{ascending:!1}):V=V.eq("user_id",I.id).order("created_at",{ascending:!1});const{data:W,error:Y}=await V;if(Y)throw Y;t(W||[])}catch(I){console.error("Error loading orders:",I),c(I.message||"Error loading orders")}finally{i(!1)}}const E=I=>{r(`/orders/${I}`)},A=async(I,B)=>{try{await navigator.clipboard.writeText(I),ki(`${B} copiado!`,"success"),console.log(`${B} copiado para a rea de transferncia: ${I}`)}catch(z){console.error("Erro ao copiar para a rea de transferncia:",z),ki("Erro ao copiar","error")}},T=I=>new Date(I).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),F=I=>{f(I.target.value)},L=I=>{m(parseInt(I.target.value)),v(1)},D=n.slice((g-1)*p,g*p);return{orders:e,filteredOrders:n,paginatedOrders:D,loading:s,error:l,isAdmin:d,searchTerm:h,ordersPerPage:p,currentPage:g,totalPages:S,sortField:x,sortDirection:y,handleViewOrder:E,copyToClipboard:A,formatDate:T,handleSearch:F,handleOrdersPerPageChange:L,setCurrentPage:v,loadOrders:_,handleSort:I=>{x===I?C(B=>B==="asc"?"desc":"asc"):(b(I),C("asc"))},setSortField:b,setSortDirection:C}}function Cce(){const{paginatedOrders:r,loading:e,error:t,isAdmin:n,searchTerm:a,ordersPerPage:s,currentPage:i,totalPages:l,filteredOrders:c,handleViewOrder:d,copyToClipboard:u,formatDate:h,handleSearch:f,handleOrdersPerPageChange:p,setCurrentPage:m,sortField:g,handleSort:v}=kce(),x=y=>{switch(y){case"completed":return o.jsx(At,{color:"success",children:"Concludo"});case"processing":case"approved":return o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm bg-warning-50 text-warning-600 dark:bg-warning-500/15 dark:text-orange-400",children:"Aguardando artigo"});case"cancelled":return o.jsx(At,{color:"error",children:"Cancelado"});case"pending":default:return o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm bg-error-50 text-error-600 dark:bg-error-500/15 dark:text-error-400",children:"Pagamento Pendente"})}},b=y=>{switch(y){case"card":return"Carto de Crdito";case"pix":return"PIX";case"boleto":return"Boleto";default:return y}};return e?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):o.jsxs(o.Fragment,{children:[o.jsx(Yt,{title:"Meus Pedidos | Marketplace",description:"Lista de pedidos realizados"})," ",o.jsx(kr,{pageTitle:"Meus Pedidos"}),t&&o.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:t}),o.jsxs("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:[o.jsxs("div",{className:"flex flex-col gap-2 px-4 py-4 border-b border-gray-100 dark:border-white/[0.05] rounded-t-xl sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Show"}),o.jsxs("div",{className:"relative z-20 bg-transparent",children:[o.jsxs("select",{className:"w-full py-2 pl-3 pr-8 text-sm text-gray-800 bg-transparent border border-gray-300 rounded-lg appearance-none dark:bg-dark-900 h-9 bg-none shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",value:s,onChange:p,children:[o.jsx("option",{value:"10",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"10"}),o.jsx("option",{value:"25",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"25"}),o.jsx("option",{value:"50",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"50"}),o.jsx("option",{value:"100",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"100"})]}),o.jsx("span",{className:"absolute z-30 text-gray-500 -translate-y-1/2 right-2 top-1/2 dark:text-gray-400",children:o.jsx("svg",{className:"stroke-current",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M3.8335 5.9165L8.00016 10.0832L12.1668 5.9165",stroke:"",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"entries"})]}),o.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("button",{className:"absolute text-gray-500 -translate-y-1/2 left-4 top-1/2 dark:text-gray-400",children:o.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.04199 9.37363C3.04199 5.87693 5.87735 3.04199 9.37533 3.04199C12.8733 3.04199 15.7087 5.87693 15.7087 9.37363C15.7087 12.8703 12.8733 15.7053 9.37533 15.7053C5.87735 15.7053 3.04199 12.8703 3.04199 9.37363ZM9.37533 1.54199C5.04926 1.54199 1.54199 5.04817 1.54199 9.37363C1.54199 13.6991 5.04926 17.2053 9.37533 17.2053C11.2676 17.2053 13.0032 16.5344 14.3572 15.4176L17.1773 18.238C17.4702 18.5309 17.945 18.5309 18.2379 18.238C18.5308 17.9451 18.5309 17.4703 18.238 17.1773L15.4182 14.3573C16.5367 13.0033 17.2087 11.2669 17.2087 9.37363C17.2087 5.04817 13.7014 1.54199 9.37533 1.54199Z",fill:""})})}),o.jsx("input",{placeholder:"Buscar pedidos...",className:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent py-2.5 pl-12 pr-4 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 xl:w-[300px]",type:"text",value:a,onChange:f})]})})]}),o.jsx("div",{className:"max-w-full overflow-x-auto",children:o.jsx("div",{className:"min-w-[1102px]",children:o.jsxs(no,{children:[" ",o.jsx(ao,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:o.jsxs(Tr,{children:[o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("id"),children:o.jsxs("span",{className:"flex items-center gap-1 h-full",children:[o.jsx("span",{children:"Pedido"}),g==="id"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})}),n&&o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("billing_name"),children:o.jsxs("span",{className:"flex items-center gap-1 h-full",children:[o.jsx("span",{children:"Cliente"}),g==="billing_name"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("created_at"),children:o.jsxs("span",{className:"flex items-center gap-1 h-full",children:[o.jsx("span",{children:"Data"}),g==="created_at"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("payment_method"),children:o.jsxs("span",{className:"flex items-center gap-1 h-full",children:[o.jsx("span",{children:"Mtodo"}),g==="payment_method"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("total_amount"),children:o.jsxs("span",{className:"flex items-center gap-1 h-full",children:[o.jsx("span",{children:"Total"}),g==="total_amount"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("status"),children:o.jsxs("span",{className:"flex items-center gap-1 h-full",children:[o.jsx("span",{children:"Status"}),g==="status"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})}),o.jsx(rt,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:o.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("acoes"),children:o.jsxs("span",{className:"flex items-center gap-1 h-full",children:[o.jsx("span",{children:"Aes"}),g==="acoes"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})})]})})," ",o.jsxs(so,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:[r.length>0?r.map(y=>o.jsxs(Tr,{children:[" ",o.jsx(rt,{className:"px-5 py-4 sm:px-6 text-start",children:o.jsx("span",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:y.id.substring(0,8)})})," ",n&&o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-800 dark:text-white/90",children:y.billing_name}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[o.jsx("span",{children:y.billing_email}),o.jsx("button",{onClick:()=>u(y.billing_email,"Email"),className:"p-0.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Copiar email",children:o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:o.jsx("path",{d:"M8 5H6C4.89543 5 4 5.89543 4 7V19C4 20.1046 4.89543 21 6 21H18C19.1046 21 20 20.1046 20 19V7C20 5.89543 19.1046 5 18 5H16M8 5C8 3.89543 8.89543 3 10 3H14C15.1046 3 16 3.89543 16 5M8 5C8 6.10457 8.89543 7 10 7H14C15.1046 7 16 6.10457 16 5M12 12H16M12 16H16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})," ",y.phone&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[o.jsx("span",{children:wce(y.phone)}),o.jsx("button",{onClick:()=>{const S=`https://web.whatsapp.com/send?phone=55${y.phone.replace(/\D/g,"")}`;window.open(S,"_blank")},className:"p-0.5 hover:bg-green-100 dark:hover:bg-green-900/20 rounded transition-colors",title:"Abrir WhatsApp",children:o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-green-500 hover:text-green-600 dark:hover:text-green-400",children:o.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.893 3.488",fill:"currentColor"})})})]})]})}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:h(y.created_at)}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:b(y.payment_method)}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:Fl(y.total_amount)}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:x(y.status)}),o.jsx(rt,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:o.jsxs(at,{variant:"outline",size:"sm",onClick:()=>d(y.id),children:["Detalhes",o.jsx(yN,{className:"w-4 h-4 ml-2"})]})})]},y.id)):o.jsx(Tr,{children:o.jsx("td",{colSpan:n?7:6,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:n?"Nenhum pedido encontrado no sistema.":"Voc ainda no realizou nenhum pedido."})})," "]})]})})}),l>1&&o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-200 dark:border-gray-800 sm:px-6",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing"," ",o.jsx("span",{className:"font-medium",children:(i-1)*s+1})," ","to"," ",o.jsx("span",{className:"font-medium",children:Math.min(i*s,c.length)})," ","of ",o.jsx("span",{className:"font-medium",children:c.length})," ","results"]})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>m(y=>Math.max(y-1,1)),disabled:i===1,className:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700",children:"Anterior"}),o.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:l},(y,C)=>C+1).map(y=>o.jsx("button",{onClick:()=>m(y),className:`relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${i===y?"bg-brand-500 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:y},y))}),o.jsx("button",{onClick:()=>m(y=>Math.min(y+1,l)),disabled:i===l,className:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700",children:"Prxima"})," "]})]})]})]})}function Sce(){const{id:r}=zo(),e=mr(),[t,n]=w.useState(null),[a,s]=w.useState([]),[i,l]=w.useState(!0),[c,d]=w.useState(""),[u,h]=w.useState(!1),[f,p]=w.useState(null),[m,g]=w.useState({}),[v,x]=w.useState({});w.useEffect(()=>{r&&y(r)},[r]);const b=()=>{r&&y(r)};async function y(I){var B;try{l(!0),d("");const{data:{user:z}}=await K.auth.getUser();if(!z)throw new Error("User not authenticated");const{data:V}=await K.from("admins").select("id").eq("id",z.id).maybeSingle(),W=!!V;let Y=K.from("orders").select("*").eq("id",I);W||(Y=Y.eq("user_id",z.id));const{data:G,error:q}=await Y.single();if(q)throw(B=q.message)!=null&&B.includes("multiple (or no) rows returned")?new Error(`Pedido no encontrado ou voc no tem permisso para visualiz-lo. ID do pedido: ${I}`):q;if(!G)throw new Error("Order not found");n(G);const{data:M,error:U}=await K.from("order_items").select("*").eq("order_id",I);if(U)throw U;const $=(M||[]).map(Q=>({...Q,article_doc:Q.article_doc||null,article_document_path:Q.article_document_path||null,article_url_status:Q.article_url_status||"pending",publication_status:Q.publication_status||"pending"}));s($);const X={};$.forEach(Q=>{X[Q.id]=Q.article_url||""}),g(X)}catch(z){console.error("Error loading order details:",z),d(z.message||"Error loading order details")}finally{l(!1)}}const C=async(I,B)=>{try{const{error:z}=await K.from("order_items").update({publication_status:B}).eq("id",I);if(z)throw z;s(V=>V.map(W=>W.id===I?{...W,publication_status:B}:W))}catch(z){console.error("Error updating publication status:",z)}},S=(I,B)=>{g(V=>({...V,[I]:B})),v[I]&&clearTimeout(v[I]);const z=setTimeout(()=>{_(I)},1e3);x(V=>({...V,[I]:z}))},_=async I=>{try{if(!m[I]||m[I].trim()==="")return;const{error:B}=await K.from("order_items").update({article_url:m[I],article_url_status:"sent"}).eq("id",I);if(B)throw B;s(z=>z.map(V=>V.id===I?{...V,article_url:m[I],article_url_status:"sent"}:V))}catch(B){console.error("Error updating article URL:",B)}};return{order:t,orderItems:a,loading:i,error:c,isDocModalOpen:u,selectedItemId:f,articleUrl:m,navigate:e,handleChangePublicationStatus:C,handleArticleUrlChange:S,handleArticleUrlSubmit:_,openDocModal:I=>{p(I),h(!0)},closeDocModal:()=>{h(!1),p(null)},handleFileUpload:async I=>{if(!(!I||!f))try{s(B=>B.map(z=>z.id===f?{...z,article_doc:I.name}:z))}catch(B){console.error("Error updating file info:",B)}},formatDate:I=>new Date(I).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),getStatusBadge:I=>{switch(I){case"completed":return o.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-success-100 dark:bg-success-900/20 text-success-800 dark:text-success-400",children:"Concludo"});case"processing":return o.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-warning-100 dark:bg-warning-900/20 text-warning-800 dark:text-warning-400",children:"Processando"});case"cancelled":return o.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-error-100 dark:bg-error-900/20 text-error-800 dark:text-error-400",children:"Cancelado"});case"pending":default:return o.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-blue-light-100 dark:bg-blue-light-900/20 text-blue-light-800 dark:text-blue-light-400",children:"Pendente"})}},getPaymentStatusBadge:I=>{switch(I){case"paid":return o.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-success-100 dark:bg-success-900/20 text-success-800 dark:text-success-400",children:"Pago"});case"processing":return o.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-warning-100 dark:bg-warning-900/20 text-warning-800 dark:text-warning-400",children:"Processando"});case"failed":return o.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-error-100 dark:bg-error-900/20 text-error-800 dark:text-error-400",children:"Falhou"});case"pending":default:return o.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-blue-light-100 dark:bg-blue-light-900/20 text-blue-light-800 dark:text-blue-light-400",children:"Pendente"})}},getPaymentMethodLabel:I=>{switch(I){case"card":return"Carto de Crdito";case"pix":return"PIX";case"boleto":return"Boleto";default:return I}},refreshOrderData:b}}class Px{static async uploadFile(e,t){try{const{data:n,error:a}=await K.storage.from(this.bucketName).upload(e,t,{cacheControl:"3600",upsert:!1});return{data:n,error:a}}catch(n){return{data:null,error:n}}}static async downloadFile(e){try{const{data:t,error:n}=await K.storage.from(this.bucketName).download(e);return{data:t,error:n}}catch(t){return{data:null,error:t}}}static async getSignedUrl(e,t=3600){try{const{data:n,error:a}=await K.storage.from(this.bucketName).createSignedUrl(e,t);return{data:n,error:a}}catch(n){return{data:null,error:n}}}static async fileExists(e){try{const{data:t,error:n}=await K.storage.from(this.bucketName).list("",{limit:1,search:e});return n?!1:t&&t.length>0}catch{return!1}}static async listFiles(e=""){try{const{data:t,error:n}=await K.storage.from(this.bucketName).list(e);return{data:t,error:n}}catch(t){return{data:null,error:t}}}static async deleteFile(e){try{const{data:t,error:n}=await K.storage.from(this.bucketName).remove([e]);return{data:t,error:n}}catch(t){return{data:null,error:t}}}static async getFileInfo(e){try{const{data:t,error:n}=await K.storage.from(this.bucketName).list("",{limit:1,search:e});return n?{data:null,error:n}:{data:t&&t.length>0?t[0]:null,error:null}}catch(t){return{data:null,error:t}}}}ii(Px,"bucketName","article_documents");function jce(){const[r,e]=w.useState({}),[t,n]=w.useState(null);return{downloadLoading:r,downloadError:t,handleDownloadFile:async(i,l,c)=>{try{if(e(m=>({...m,[c]:!0})),n(null),!await Px.fileExists(i))throw new Error("Arquivo no encontrado");const{data:u,error:h}=await Px.downloadFile(i);if(h)throw h;if(!u)throw new Error("Erro ao baixar o arquivo");const f=URL.createObjectURL(u),p=document.createElement("a");p.href=f,p.download=l||i.split("/").pop()||"documento",document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(f)}catch(d){console.error("Erro ao baixar arquivo:",d),n(d.message||"Erro ao baixar o arquivo")}finally{e(d=>({...d,[c]:!1}))}},clearDownloadError:()=>{n(null)}}}function _ce(){const{order:r,orderItems:e,loading:t,error:n,isDocModalOpen:a,selectedItemId:s,articleUrl:i,navigate:l,handleChangePublicationStatus:c,handleArticleUrlChange:d,openDocModal:u,closeDocModal:h,handleFileUpload:f,formatDate:p,getStatusBadge:m,getPaymentStatusBadge:g,getPaymentMethodLabel:v}=Sce(),{downloadLoading:x,downloadError:b,handleDownloadFile:y,clearDownloadError:C}=jce(),S=w.useRef(null),[_,E]=w.useState(null),[A,T]=w.useState(!1),[F,L]=w.useState(null),[D,O]=w.useState(!1),[I,B]=w.useState(!1);return{order:r,orderItems:e,loading:t,error:n,isDocModalOpen:a,selectedItemId:s,articleUrl:i,navigate:l,handleChangePublicationStatus:c,handleArticleUrlChange:d,openDocModal:u,closeDocModal:h,handleFileUpload:f,formatDate:p,getStatusBadge:m,getPaymentStatusBadge:g,getPaymentMethodLabel:v,fileInputRef:S,selectedFile:_,setSelectedFile:E,uploadLoading:A,uploadError:F,uploadSuccess:D,handleFileChange:q=>{q.target.files&&q.target.files.length>0&&(E(q.target.files[0]),L(null))},handleUploadClick:()=>{var q;(q=S.current)==null||q.click()},handleUploadSubmit:async()=>{if(!_||!s){L("Por favor, selecione um arquivo para enviar.");return}try{if(T(!0),L(null),O(!1),!_.name.endsWith(".doc")&&!_.name.endsWith(".docx")){L("Apenas arquivos .doc ou .docx so permitidos.");return}if(_.size>10*1024*1024){L("O arquivo no pode ser maior que 10MB.");return}const q=_.name.split(".").pop(),U=`${`${s}-${Date.now()}.${q}`}`,{data:{user:$}}=await K.auth.getUser();if(!$)throw new Error("Usurio no autenticado");const{error:X}=await K.storage.from("article_documents").upload(U,_);if(X)throw X;await qc.getOrderItemWithOrder(s),await qc.uploadArticleDocument(s,U,_.name),console.log(" Documento do artigo enviado com sucesso:",{itemId:s,filePath:U,fileName:_.name}),O(!0),await f(_),setTimeout(()=>{h(),E(null),O(!1)},2e3)}catch(q){L(q.message||"Erro ao enviar o arquivo. Tente novamente.")}finally{T(!1)}},downloadLoading:x,downloadError:b,handleDownloadFile:y,clearDownloadError:C,confirmingBoleto:I,handleConfirmBoletoPayment:async()=>{if(r)try{B(!0),console.log(" Confirmando pagamento de boleto para pedido:",r.id),await qP(r.id)?(console.log(" Pagamento confirmado com sucesso"),window.location.reload()):console.error(" Falha ao confirmar pagamento")}catch(q){console.error(" Erro ao confirmar pagamento:",q)}finally{B(!1)}},sendArticleUrl:async(q,M,U="article_doc")=>{try{console.log(` Iniciando atualizao da URL do artigo (${U}):`,{itemId:q,url:M}),await qc.updateOrderItem(q,{[U]:M,publication_status:"approved"}),console.log(` Link do artigo salvo em ${U} e status aprovado:`,{itemId:q,url:M})}catch($){throw console.error(` Erro ao salvar link do artigo em ${U}:`,$),$}}}}function Nce(){const[r,e]=w.useState("bottom"),[t,n]=w.useState("center"),a=w.useRef(null),s=w.useRef(null);return w.useEffect(()=>{function i(){if(!a.current||!s.current)return;const l=a.current.getBoundingClientRect(),c=s.current.getBoundingClientRect();let d=window,u=a.current.parentElement;for(;u;){const S=getComputedStyle(u).overflowY;if(S==="auto"||S==="scroll"){d=u;break}u=u.parentElement}let h=window.innerHeight,f=0,p=0,m=window.innerWidth;if(d instanceof HTMLElement){const S=d.getBoundingClientRect();h=S.bottom,f=S.top,p=S.left,m=S.right}const g=h-l.bottom,v=l.top-f,x=c.width,b=(l.left+l.right)/2,y=b-x/2,C=b+x/2;g<c.height+8&&v>c.height+8?e("top"):e("bottom"),y<p+8&&C>m-8?n("center"):y<p+8?n("left"):C>m-8?n("right"):n("center")}return i(),window.addEventListener("resize",i),window.addEventListener("scroll",i,!0),()=>{window.removeEventListener("resize",i),window.removeEventListener("scroll",i,!0)}},[]),{placement:r,alignX:t,triggerRef:a,tooltipRef:s}}function Ece({text:r,className:e="",children:t}){const{placement:n,alignX:a,triggerRef:s,tooltipRef:i}=Nce();w.useEffect(()=>{if(!s.current)return;let c=s.current.parentElement;for(;c;)c=c.parentElement},[s.current]);let l="";return a==="left"?l="left-0 -translate-x-0":a==="right"?l="right-0 translate-x-0":l="left-1/2 -translate-x-1/2",o.jsxs("div",{className:`group relative ${e}`,ref:s,children:[t||o.jsx("svg",{className:"w-3 h-3 text-gray-400 dark:text-gray-500 cursor-help",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{ref:i,className:`absolute ${l} w-auto px-3 py-2 bg-gray-900 text-white !text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 ${n==="top"?"bottom-full mb-2":"top-full mt-2"}`,style:{color:"#fff",width:"max-content"},children:[o.jsx("span",{className:"block",style:{color:"#fff",fontSize:"inherit",fontWeight:"inherit",lineHeight:"inherit",fontFamily:"inherit",WebkitTextFillColor:"#fff",textShadow:"none",filter:"none",background:"none",boxShadow:"none",border:"none",outline:"none",textDecoration:"none",fontStyle:"inherit",letterSpacing:"inherit",wordBreak:"normal",whiteSpace:"normal",textAlign:"inherit",verticalAlign:"inherit",textTransform:"inherit",textRendering:"inherit",MozOsxFontSmoothing:"inherit",WebkitFontSmoothing:"inherit",fontVariant:"inherit",colorScheme:"light"},children:r}),n==="top"?o.jsx("div",{className:`absolute top-full ${a==="center"?"left-1/2 -translate-x-1/2":a==="left"?"left-4":"right-4"} border-4 border-transparent border-t-gray-900`}):o.jsx("div",{className:`absolute bottom-full ${a==="center"?"left-1/2 -translate-x-1/2":a==="left"?"left-4":"right-4"} border-4 border-transparent border-b-gray-900`})]})]})}function Ace({orderId:r,isAdmin:e,onPackageModalOpen:t,onDocModalOpen:n,onUrlEditModalOpen:a,onDownloadFile:s,onChangePublicationStatus:i,downloadLoading:l,refreshTrigger:c}){const[d,u]=w.useState([]),[h,f]=w.useState(0),[p,m]=w.useState(!0),[g,v]=w.useState(null),[x,b]=w.useState({}),[y,C]=w.useState(null),S=w.useRef(null),[_,E]=w.useState("created_at"),[A,T]=w.useState("asc"),F=async()=>{try{m(!0),v(null);const{data:O,error:I}=await K.from("order_items").select("*").eq("order_id",r).order("created_at",{ascending:!0});if(I)throw I;u(O||[]);const B=(O||[]).reduce((z,V)=>z+(V.total_price||0),0);f(B)}catch(O){console.error("Error loading order items:",O),v(O.message||"Erro ao carregar itens do pedido")}finally{m(!1)}};w.useEffect(()=>{r&&F()},[r]),w.useEffect(()=>{c&&r&&(console.log(" Refresh manual disparado:",c),F())},[c,r]),w.useEffect(()=>{const O={};d.forEach(I=>{O[I.id]=I.publication_status||"pending"}),b(O)},[d]),w.useEffect(()=>{function O(I){S.current&&!S.current.contains(I.target)&&C(null)}return y?document.addEventListener("mousedown",O):document.removeEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[y]);const L=O=>{_===O?T(I=>I==="asc"?"desc":"asc"):(E(O),T("asc"))},D=[...d].sort((O,I)=>{let B=O[_],z=I[_];if(_==="service_content"){const V=W=>{if(!W)return"";let Y=null;try{if(Array.isArray(W)&&W.length>0){const G=W[0];typeof G=="string"?Y=JSON.parse(G):typeof G=="object"&&(Y=G)}else typeof W=="string"?Y=JSON.parse(W):typeof W=="object"&&(Y=W)}catch{}return Y&&typeof Y.title=="string"?Y.title:""};B=V(B),z=V(z)}return["article_document_path","article_url","publication_status"].includes(_)?(B=B||"",z=z||"",B=String(B).toLowerCase(),z=String(z).toLowerCase(),B<z?A==="asc"?-1:1:B>z?A==="asc"?1:-1:0):_==="acao"?0:typeof B=="string"&&typeof z=="string"?(B=B.toLowerCase(),z=z.toLowerCase(),B<z?A==="asc"?-1:1:B>z?A==="asc"?1:-1:0):typeof B=="number"&&typeof z=="number"?A==="asc"?B-z:z-B:B==null?1:z==null?-1:0});return p?o.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-4 mb-6",children:o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-3",children:"Itens do Pedido"}),o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-500"})})]})}):g?o.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-4 mb-6",children:o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-3",children:"Itens do Pedido"}),o.jsx("div",{className:"text-center text-red-500 py-4",children:g})]})}):o.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-4 mb-6",children:o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-3",children:"Itens do Pedido"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-800",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>L("product_name"),children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{children:"Produto"}),_==="product_name"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>L("service_content"),children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{children:"Pacote"}),_==="service_content"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>L("quantity"),children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{children:"Quantidade"}),_==="quantity"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>L("article_document_path"),children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{children:"Artigo DOC"}),_==="article_document_path"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>L("article_url"),children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{children:"URL do Artigo"}),o.jsx(Ece,{text:"A URL fica disponvel aps a publicao do artigo em um prazo de 3 a 5 dias"}),_==="article_url"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>L("publication_status"),children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{children:"Status de Publicao"}),_==="publication_status"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),e&&o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>L("acao"),children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{children:"Ao"}),_==="acao"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>L("total_price"),children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{children:"Total"}),_==="total_price"&&o.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),o.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-800 dark:bg-gray-900",children:D.map(O=>{var I,B;return o.jsxs("tr",{children:[o.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-sm text-gray-700 dark:text-gray-300",children:O.product_url?o.jsxs("div",{className:"flex items-center",children:[o.jsx("img",{src:pd(O.product_url),alt:"Site icon",width:"20",height:"20",className:"mr-2",onError:z=>{z.target.style.display="none"}}),o.jsx("a",{href:O.product_url.startsWith("http")?O.product_url:`https://${O.product_url}`,target:"_blank",rel:"noopener noreferrer",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:O.product_name||O.product_url})]}):o.jsx("span",{children:O.product_name})}),o.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-sm text-gray-700 dark:text-gray-300",children:(()=>{if(!O.service_content)return o.jsx("span",{className:"text-gray-500",children:"Pacote no especificado"});let z=null;try{if(Array.isArray(O.service_content)&&O.service_content.length>0){const V=O.service_content[0];typeof V=="string"?z=JSON.parse(V):typeof V=="object"&&(z=V)}else typeof O.service_content=="string"?z=JSON.parse(O.service_content):typeof O.service_content=="object"&&(z=O.service_content)}catch(V){return console.error("Erro ao fazer parse do service_content:",V),o.jsx("span",{className:"text-gray-500",children:"Erro no formato do pacote"})}return z?(z==null?void 0:z.title)===en.LEGACY_NONE||(z==null?void 0:z.title)===en.NONE?o.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-bold",children:z.title}):o.jsxs("button",{onClick:()=>t(z),className:"text-gray-900 dark:text-gray-100 hover:text-gray-700 dark:hover:text-gray-300 hover:underline font-medium text-left flex items-center gap-2",title:"Clique para ver detalhes do pacote",children:[o.jsxs("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),(z==null?void 0:z.title)||"Pacote sem ttulo"]}):o.jsx("span",{className:"text-gray-500",children:"Dados do pacote indisponveis"})})()}),o.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-sm text-gray-700 dark:text-gray-300",children:O.quantity}),o.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-sm text-gray-700 dark:text-gray-300",children:O.article_document_path?o.jsxs("button",{onClick:()=>s(O.article_document_path,O.article_doc||"documento.docx",O.id),disabled:l[O.id],className:"flex items-center p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded disabled:opacity-50 disabled:cursor-not-allowed font-medium focus:outline-none",style:{textDecoration:"none",gap:"2px"},type:"button",title:"Baixar artigo",children:[o.jsx("span",{className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Artigo"}),o.jsx("span",{className:"ml-1 flex items-center",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",fill:"none",stroke:"currentColor"})})})]}):O.article_doc&&typeof O.article_doc=="string"&&O.article_doc.includes("http")?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("a",{href:O.article_doc,target:"_blank",rel:"noopener noreferrer",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400 flex items-center font-medium focus:outline-none",style:{textDecoration:"none"},title:"Abrir artigo em nova aba",children:"Artigo"}),o.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(O.article_doc)},className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded flex items-center",title:"Copiar link",type:"button",style:{marginLeft:"-2px"},children:[o.jsx("span",{className:"sr-only",children:"Copiar link"}),o.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.50391 4.25C8.50391 3.83579 8.83969 3.5 9.25391 3.5H15.2777C15.4766 3.5 15.6674 3.57902 15.8081 3.71967L18.2807 6.19234C18.4214 6.333 18.5004 6.52376 18.5004 6.72268V16.75C18.5004 17.1642 18.1646 17.5 17.7504 17.5H16.248V17.4993H14.748V17.5H9.25391C8.83969 17.5 8.50391 17.1642 8.50391 16.75V4.25ZM14.748 19H9.25391C8.01126 19 7.00391 17.9926 7.00391 16.75V6.49854H6.24805C5.83383 6.49854 5.49805 6.83432 5.49805 7.24854V19.75C5.49805 20.1642 5.83383 20.5 6.24805 20.5H13.998C14.4123 20.5 14.748 20.1642 14.748 19.75L14.748 19ZM7.00391 4.99854V4.25C7.00391 3.00736 8.01127 2 9.25391 2H15.2777C15.8745 2 16.4468 2.23705 16.8687 2.659L19.3414 5.13168C19.7634 5.55364 20.0004 6.12594 20.0004 6.72268V16.75C20.0004 17.9926 18.9931 19 17.7504 19H16.248L16.248 19.75C16.248 20.9926 15.2407 22 13.998 22H6.24805C5.00541 22 3.99805 20.9926 3.99805 19.75V7.24854C3.99805 6.00589 5.00541 4.99854 6.24805 4.99854H7.00391Z",fill:"currentColor"})})]})]}):o.jsxs("button",{onClick:()=>n(O.id),className:"text-brand-500 hover:text-brand-600 dark:text-brand-400 flex items-center",children:[o.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Enviar Artigo"]})}),o.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-sm text-gray-700 dark:text-gray-300",children:o.jsx("div",{className:"flex items-center gap-2",children:O.article_url?o.jsxs(o.Fragment,{children:[o.jsx("a",{href:(I=O.article_url)!=null&&I.startsWith("http")?O.article_url:`https://${O.article_url}`,target:"_blank",rel:"noopener noreferrer",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400 font-medium",children:"Abrir url"}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded flex items-center",title:"Opes",type:"button",onClick:()=>C(y===O.id?null:O.id),children:o.jsxs("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{cx:"12",cy:"5",r:"2",fill:"currentColor"}),o.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor"}),o.jsx("circle",{cx:"12",cy:"19",r:"2",fill:"currentColor"})]})}),y===O.id&&o.jsxs("div",{ref:S,className:"absolute z-20 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded shadow-lg mt-2 text-xs min-w-[100px] max-w-[140px] max-h-32 overflow-y-auto",style:{right:"auto",left:window.innerWidth-(((B=S.current)==null?void 0:B.getBoundingClientRect().right)||0)<160?"auto":"100%",minWidth:100,maxWidth:140,fontSize:"0.85rem",padding:0},children:[o.jsx("button",{onClick:()=>{a(O.id,O.article_url||""),C(null)},className:"block w-full text-left px-3 py-1 text-xs text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800",type:"button",style:{fontSize:"0.85rem"},children:"Editar"}),o.jsx("button",{onClick:()=>{navigator.clipboard.writeText(O.article_url),C(null)},className:"block w-full text-left px-3 py-1 text-xs text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800",type:"button",style:{fontSize:"0.85rem"},children:"Copiar"})]})]})]}):o.jsxs("button",{onClick:()=>a(O.id,""),className:"text-brand-500 hover:text-brand-600 dark:text-brand-400 flex items-center",children:[o.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Adicionar URL"]})})}),o.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-sm text-gray-700 dark:text-gray-300",children:(()=>{if(O.publication_status==="approved")return o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500",children:"Artigo Publicado"});if(O.publication_status==="rejected")return o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm bg-error-100 text-error-800 dark:bg-error-900/20 dark:text-error-400",children:"Reprovado"});let z=null;try{if(Array.isArray(O.service_content)&&O.service_content.length>0){const V=O.service_content[0];typeof V=="string"?z=JSON.parse(V):typeof V=="object"&&(z=V)}else typeof O.service_content=="string"?z=JSON.parse(O.service_content):typeof O.service_content=="object"&&(z=O.service_content)}catch{}return!z||!z.benefits||z.benefits.length===0?o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm bg-warning-50 text-warning-600 dark:bg-warning-500/15 dark:text-orange-400",children:"Artigo Pendente"}):z.benefits&&z.benefits.length>0?o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm bg-gray-500 text-white dark:bg-white/5 dark:text-white",children:"Pauta Pendente"}):o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-warning-100 text-warning-800 dark:bg-warning-900/20 dark:text-warning-400",children:"Pendente"})})()}),e&&o.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-sm text-gray-700 dark:text-gray-300",children:o.jsxs("select",{value:x[O.id]||"pending",onChange:z=>{const V=z.target.value;b(W=>({...W,[O.id]:V})),i(O.id,V)},className:"block w-[calc(100%+4px)] rounded-md border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm h-9",children:[o.jsx("option",{value:"pending",children:"Pendente"}),o.jsx("option",{value:"approved",children:"Aprovar"}),o.jsx("option",{value:"rejected",children:"Reprovar"})]})}),o.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-sm text-gray-700 dark:text-gray-300 font-medium",children:Fl(O.total_price)})]},O.id)})}),o.jsx("tfoot",{className:"bg-gray-50 dark:bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("td",{colSpan:e?7:6,className:"px-4 py-4 text-right font-medium text-gray-700 dark:text-gray-300",children:"Total:"}),o.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-800 dark:text-white font-semibold",children:Fl(h)})]})})]})})]})})}function Pce({isOpen:r,onClose:e,onConfirm:t,title:n,message:a,confirmationText:s,isDeleting:i,deleteError:l}){const[c,d]=w.useState(""),[u,h]=w.useState(!1);w.useEffect(()=>{r&&(d(""),h(!1))},[r]),w.useEffect(()=>{h(c.toLowerCase()===s.toLowerCase())},[c,s]);const f=()=>{u&&t()};return r?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9999999] transition-opacity",onClick:e}),o.jsx("div",{className:"fixed inset-0 z-[9999999] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n}),o.jsx("button",{onClick:e,disabled:i,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-red-100 dark:bg-red-900/20 rounded-full",children:o.jsx("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})})," ",o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:a}),o.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 mb-4",children:o.jsx("p",{className:"text-sm text-red-800 dark:text-red-200 font-medium",children:"Esta ao no pode ser desfeita!"})})]})," ",o.jsxs("div",{className:"mb-6",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:['Para confirmar, digite "',o.jsx("span",{className:"font-bold",children:s}),'" abaixo:']}),o.jsx("input",{type:"text",value:c,onChange:p=>d(p.target.value),disabled:i,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:s,autoComplete:"off"})]}),l&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:o.jsx("div",{className:"text-red-800 dark:text-red-200 text-sm",children:l})})]}),o.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[o.jsx(at,{variant:"outline",onClick:e,disabled:i,className:"flex-1",children:"Cancelar"}),o.jsx(at,{onClick:f,disabled:!u||i,className:"flex-1 bg-red-400 hover:bg-red-500 text-white disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed",children:i?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Excluindo..."]}):"Confirmar Excluso"})]})]})})]}):null}function Lce({isOpen:r,onClose:e,order:t,getPaymentMethodLabel:n,getPaymentStatusBadge:a,confirmingBoleto:s,handleConfirmBoletoPayment:i,openConfirmDeleteModal:l,isDeletingOrder:c,deleteError:d,isConfirmDeleteModalOpen:u,closeConfirmDeleteModal:h,deleteOrder:f,isAdmin:p}){const m=mr();return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`fixed inset-0 bg-black z-[999999] transition-all duration-300 ${r?"bg-opacity-50 visible":"bg-opacity-0 invisible"}`,onClick:e}),o.jsx("div",{className:`fixed top-0 right-0 h-full w-96 bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800 shadow-2xl z-[999999] transition-transform duration-300 ease-in-out ${r?"translate-x-0":"translate-x-full"}`,children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white",children:"Informaes do Pedido"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Mtodo de Pagamento"}),o.jsx("p",{className:"text-gray-800 dark:text-white",children:n(t.payment_method)})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Status do Pagamento"}),o.jsx("div",{className:"text-gray-800 dark:text-white",children:a(t.payment_status)})]}),t.payment_id&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"ID do Pagamento"}),o.jsx("p",{className:"text-gray-800 dark:text-white font-mono text-sm",children:t.payment_id})]}),t.payment_method==="boleto"&&t.payment_status==="pending"&&p&&o.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200 mb-1",children:"Aguardando Confirmao de Pagamento"}),o.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-300",children:"Boleto aguardando confirmao bancria"})]}),o.jsx(at,{onClick:i,disabled:s,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:s?o.jsxs("div",{className:"flex items-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Confirmando..."]}):"Confirmar Pagamento"})]})})]}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 my-4 pt-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-4",children:"Informaes de Cobrana"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Nome"}),o.jsx("p",{className:"text-gray-800 dark:text-white",children:t.billing_name})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Email"}),o.jsx("p",{className:"text-gray-800 dark:text-white",children:t.billing_email})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Endereo"}),o.jsx("p",{className:"text-gray-800 dark:text-white",children:t.billing_address}),o.jsxs("p",{className:"text-gray-800 dark:text-white",children:[t.billing_city,", ",t.billing_state]}),o.jsxs("p",{className:"text-gray-800 dark:text-white",children:["CEP: ",t.billing_zip_code]})]})," ",o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Documento"}),o.jsx("p",{className:"text-gray-800 dark:text-white",children:t.billing_document_number})," "]}),p&&o.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-800",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:"Aes Administrativas"}),d&&o.jsx("div",{className:"mb-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:o.jsx("div",{className:"text-red-800 dark:text-red-200 text-sm",children:d})}),o.jsx(at,{variant:"outline",onClick:()=>l(t.id),disabled:c,className:"w-full bg-red-50 border-red-200 text-red-700 hover:bg-red-100 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 dark:hover:bg-red-900/30",children:c?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Excluindo Pedido..."]}):o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})," ","Excluir Pedido"]})})]})]})]})]})," ",o.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-800",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(at,{variant:"outline",onClick:()=>m("/orders"),className:"flex-1",children:"Voltar para Pedidos"}),o.jsx(at,{onClick:e,className:"flex-1",children:"Fechar"})]})})," "]})})," ",o.jsx(Pce,{isOpen:u,onClose:h,onConfirm:f,title:"Confirmar Excluso do Pedido",message:`Tem certeza que deseja excluir o pedido #${t.id.substring(0,8)}? Esta ao no pode ser desfeita e remover permanentemente o pedido e todos os seus itens do sistema.`,confirmationText:"excluir pedido",isDeleting:c,deleteError:d})]})}class Dce{static async getOrderArticleDocuments(e){try{console.log(" Buscando documentos de artigos para o pedido:",e);const t=await qc.listOrderItemsByOrder(e);if(!t||t.length===0)return console.log(" Nenhum item encontrado para o pedido:",e),[];const n=t.filter(a=>a.article_document_path&&a.article_document_path.trim()!=="");return console.log(` Encontrados ${n.length} itens com documentos de artigos para o pedido ${e}`),n.map(a=>({id:a.id,article_document_path:a.article_document_path,article_doc:a.article_doc}))}catch(t){throw console.error(" Erro ao buscar documentos de artigos do pedido:",t),new Error(`Falha ao buscar documentos de artigos: ${t instanceof Error?t.message:"Erro desconhecido"}`)}}static async deleteArticleDocuments(e){const t={success:!0,deletedFiles:[],failedFiles:[]};if(!e||e.length===0)return console.log(" Nenhum documento de artigo para excluir"),t;console.log(` Iniciando excluso de ${e.length} documentos de artigos...`);for(const n of e)if(n.article_document_path)try{console.log(` Excluindo arquivo: ${n.article_document_path}`);const{error:a}=await Px.deleteFile(n.article_document_path);if(a)throw new Error(a.message||"Erro ao excluir arquivo do bucket");t.deletedFiles.push(n.article_document_path),console.log(` Arquivo excludo com sucesso: ${n.article_document_path}`)}catch(a){const s=a instanceof Error?a.message:"Erro desconhecido";console.error(` Erro ao excluir arquivo ${n.article_document_path}:`,s),t.failedFiles.push({path:n.article_document_path,error:s}),t.success=!1}return console.log(" Resumo da excluso de arquivos:",{arquivosExcluidos:t.deletedFiles.length,arquivosFalharam:t.failedFiles.length,sucessoTotal:t.success}),t}static async deleteOrderArticleDocuments(e){try{console.log(" Iniciando excluso de documentos de artigos para o pedido:",e);const t=await this.getOrderArticleDocuments(e);if(t.length===0)return console.log(" Nenhum documento de artigo encontrado para excluir"),{success:!0,deletedFiles:[],failedFiles:[]};const n=await this.deleteArticleDocuments(t);return n.success?console.log(` Todos os documentos de artigos foram excludos com sucesso para o pedido ${e}`):console.warn(` Alguns documentos de artigos falharam ao ser excludos para o pedido ${e}:`,n.failedFiles),n}catch(t){return console.error(" Erro na excluso de documentos de artigos:",t),{success:!1,deletedFiles:[],failedFiles:[{path:"N/A",error:t instanceof Error?t.message:"Erro desconhecido"}]}}}}function Tce(){const r=mr(),[e,t]=w.useState({isDeleting:!1,error:null});return{deletionState:e,deleteOrderWithFiles:async i=>{t({isDeleting:!0,error:null});try{console.log(" Iniciando excluso completa do pedido com arquivos:",i),console.log(" Passo 1: Excluindo documentos de artigos...");const l=await Dce.deleteOrderArticleDocuments(i);console.log(" Passo 2: Excluindo pedido do banco de dados...");const c=await XP(i);if(!c)throw new Error("Falha ao excluir o pedido do banco de dados");const d=c&&l.success,u={success:d,orderDeleted:c,articleDeletionResult:l};return d?console.log(" Excluso completa do pedido realizada com sucesso!"):console.warn(" Excluso do pedido realizada com algumas falhas:",{orderDeleted:c,articleDeletionSuccess:l.success,failedFiles:l.failedFiles}),t({isDeleting:!1,error:null,articleDeletionResult:l}),u}catch(l){const c=l instanceof Error?l.message:"Erro desconhecido na excluso";return console.error(" Erro na excluso completa do pedido:",c),t({isDeleting:!1,error:c}),{success:!1,orderDeleted:!1,articleDeletionResult:{success:!1,deletedFiles:[],failedFiles:[{path:"N/A",error:c}]},error:c}}},navigateAfterDeletion:i=>{if(i.success)r("/orders",{state:{deletionSuccess:!0,message:"Pedido e arquivos associados excludos com sucesso!"}});else if(i.orderDeleted&&!i.articleDeletionResult.success){const l=i.articleDeletionResult.failedFiles.length;r("/orders",{state:{deletionSuccess:!0,message:`Pedido excludo com sucesso! Ateno: ${l} arquivo(s) no puderam ser removidos do storage.`}})}else r("/orders",{state:{deletionSuccess:!1,message:i.error||"Erro ao excluir pedido. Tente novamente."}})},clearError:()=>{t(i=>({...i,error:null}))},isDeleting:e.isDeleting,error:e.error}}function Rce(){const[r,e]=w.useState(!1),[t,n]=w.useState(!1),[a,s]=w.useState(null),[i,l]=w.useState(!1),[c,d]=w.useState(""),[u,h]=w.useState(null),{deleteOrderWithFiles:f,navigateAfterDeletion:p}=Tce(),m=()=>{e(!0),s(null)},g=()=>{e(!1),s(null)},v=S=>{h(S),l(!0),d(""),s(null)},x=()=>{l(!1),d(""),h(null),s(null)},b=S=>{d(S)},y=c.toLowerCase()==="excluir pedido";return{isOrderInfoModalOpen:r,openOrderInfoModal:m,closeOrderInfoModal:g,deleteOrder:async()=>{if(!u){s("ID do pedido no encontrado");return}try{n(!0),s(null),console.log(" Iniciando excluso do pedido com arquivos:",u);const S=await f(u);if(S.success)console.log(" Pedido excludo com sucesso"),x(),g(),p(S);else throw new Error(S.error||"Falha ao excluir o pedido e/ou arquivos associados")}catch(S){console.error(" Erro na excluso do pedido:",S);let _="Erro ao excluir pedido";S.message&&S.message.includes("permission")?_="Voc no tem permisso para excluir este pedido":S.message&&S.message.includes("not found")?_="Pedido no encontrado":S.code==="42501"?_="Sem permisso para excluir - faltam polticas de DELETE no banco":S.message&&(_=S.message),s(_)}finally{n(!1)}},isDeletingOrder:t,deleteError:a,isConfirmDeleteModalOpen:i,openConfirmDeleteModal:v,closeConfirmDeleteModal:x,confirmationText:c,handleConfirmationTextChange:b,isConfirmationValid:y}}function Mce(){var pt;const[r,e]=w.useState(!1),[t,n]=w.useState(0),[a,s]=w.useState(0),[i,l]=w.useState(!1),[c,d]=w.useState(""),[u,h]=w.useState(""),[f,p]=w.useState(!1),[m,g]=w.useState(null),{order:v,orderItems:x,loading:b,error:y,isDocModalOpen:C,navigate:S,handleChangePublicationStatus:_,openDocModal:E,closeDocModal:A,formatDate:T,fileInputRef:F,selectedFile:L,uploadLoading:D,uploadError:O,uploadSuccess:I,handleFileChange:B,handleUploadClick:z,handleUploadSubmit:V,downloadLoading:W,downloadError:Y,handleDownloadFile:G,clearDownloadError:q,sendArticleUrl:M,getPaymentMethodLabel:U,getPaymentStatusBadge:$,confirmingBoleto:X,handleConfirmBoletoPayment:Q,selectedItemId:se}=_ce(),[le,ue]=w.useState(!1),{isConfirmDeleteModalOpen:ye,openConfirmDeleteModal:Ne,closeConfirmDeleteModal:Le,deleteOrder:Ie,isDeletingOrder:et,deleteError:Ee}=Rce(),[ee,Ve]=w.useState("upload"),[Ue,ke]=w.useState(""),[Ce,ze]=w.useState(null);w.useEffect(()=>{(async()=>{try{const{data:{user:Ke}}=await K.auth.getUser();if(!Ke)return;const{data:wt}=await K.from("admins").select("id").eq("id",Ke.id).maybeSingle();e(!!wt)}catch(Ke){console.error("Error checking admin status:",Ke)}})()},[]);const Ge=(ut,Ke="")=>{d(ut),h(Ke),l(!0)},dt=()=>{l(!1),d(""),h("")},De=ut=>{g(ut),p(!0)},Fe=()=>{p(!1),g(null)},it=()=>{n(ut=>ut+1)},vt=()=>{s(ut=>ut+1)},tt=async()=>{if(c)try{await M(c,u,"article_url"),dt(),it(),vt()}catch(ut){console.error("Erro ao salvar URL do artigo publicado:",ut)}},je=()=>v?v.payment_status!=="paid"?2:x.every(wt=>wt.article_document_path)?(x.every(wt=>wt.article_url),4):3:1,ve=x.some(ut=>ut.article_document_path),Me=x.some(ut=>ut.article_url),Je=async()=>{if(!Ue.trim()){ze("Informe a URL do Google Docs.");return}ze(null);try{await M(se,Ue.trim()),A(),ke(""),Ve("upload"),it(),vt()}catch{ze("Erro ao enviar URL. Tente novamente.")}};return b?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):y?o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8",children:o.jsx("div",{className:"max-w-2xl mx-auto",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Erro ao Carregar Pedido"}),o.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6",children:[o.jsx("div",{className:"text-red-800 dark:text-red-200 font-medium mb-2",children:"Mensagem de Erro:"}),o.jsx("div",{className:"text-red-700 dark:text-red-300 text-sm font-mono break-all",children:y})]}),o.jsxs("div",{className:"space-y-4 text-sm text-gray-600 dark:text-gray-400",children:[o.jsx("div",{children:o.jsx("strong",{children:"Como investigar este problema:"})}),o.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-4",children:[o.jsx("li",{children:"Abra o Console do navegador (F12) para ver os logs de debug"}),o.jsx("li",{children:"Verifique se o ID do pedido na URL est correto"}),o.jsx("li",{children:"Confirme se voc tem permisso para visualizar este pedido"}),o.jsx("li",{children:"Se voc  admin, verifique se est cadastrado na tabela 'admins'"})]})]}),o.jsxs("div",{className:"mt-6 flex gap-3",children:[o.jsx(at,{onClick:()=>S("/orders"),children:"Voltar para Pedidos"})," ",o.jsx(at,{variant:"outline",onClick:()=>window.location.href=window.location.href,children:"Tentar Novamente"})]})]})})}):v?o.jsxs("div",{className:"min-h-screen dark:bg-gray-900",children:[o.jsxs("div",{className:"container mx-auto px-4 py-6 bg-white rounded-xl border border-gray-200 dark:bg-gray-900 dark:border-gray-800",children:[o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-4 mb-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 relative",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-1",children:["ID do Pedido: ",v.id.substring(0,8)]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["Realizado em ",T(v.created_at)]})})," "]}),o.jsx("button",{className:"absolute top-0 right-0 mt-2 mr-2 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none",onClick:()=>ue(!0),title:"Mais informaes",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"text-gray-500 dark:text-gray-300",children:[o.jsx("circle",{cx:"5",cy:"12",r:"2"}),o.jsx("circle",{cx:"12",cy:"12",r:"2"}),o.jsx("circle",{cx:"19",cy:"12",r:"2"})]})})]})})}),o.jsx("div",{className:"w-full mb-6",children:o.jsx(W3,{currentStep:je(),paymentStatus:v.payment_status,orderStatus:v.status,hasArticleDocument:ve,articleUrl:Me?"exists":void 0,orderDate:v.created_at,orderItems:x,refreshTrigger:a,orderId:v.id})}),o.jsxs("div",{className:"w-full",children:[" ",o.jsx(Ace,{orderId:v.id,isAdmin:r,onPackageModalOpen:De,onDocModalOpen:E,onUrlEditModalOpen:Ge,onDownloadFile:G,onChangePublicationStatus:async(ut,Ke)=>{await _(ut,Ke),it()},downloadLoading:W,refreshTrigger:t})]})]}),Y&&o.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-error-500 text-white p-4 rounded-lg shadow-lg flex items-center",children:[o.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),o.jsx("span",{children:Y}),o.jsx("button",{onClick:q,className:"ml-2 text-white hover:text-gray-200",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})," ",o.jsx(vs,{isOpen:C,onClose:()=>{A(),Ve("upload"),ke(""),ze(null)},className:"max-w-md m-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-6",children:"Enviar Artigo em DOCX"}),o.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Especificaes do artigo:"}),o.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"inline-block w-2 h-2 bg-blue-400 rounded-full mt-1.5 mr-2 flex-shrink-0"}),"Texto com no mximo 1000 palavras"]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"inline-block w-2 h-2 bg-blue-400 rounded-full mt-1.5 mr-2 flex-shrink-0"}),"Incluir 2 links para 2 palavras chaves"]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"inline-block w-2 h-2 bg-blue-400 rounded-full mt-1.5 mr-2 flex-shrink-0"}),"Incluir 1 imagem de destaque com fonte"]})]}),o.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200 dark:border-blue-700",children:[o.jsx("p",{children:"Veja o exemplo: "}),o.jsx("a",{href:"https://docs.google.com/document/d/1t9I9VkMCWEiNNsDsoJVvmwi8kf1Nk5iR8rfFMlNVp8A/edit?usp=sharing",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline text-sm",children:"Abrir Link de exemplo"})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Como deseja enviar o Artigo?"}),o.jsx(Jt,{options:[{value:"upload",label:"Upload de arquivo"},{value:"link",label:"Link Google Docs"}],value:ee,onChange:Ve,placeholder:"Selecione uma opo"})]}),ee==="upload"?o.jsxs("div",{className:"mb-6 flex flex-col items-center justify-center",children:[o.jsxs("div",{onClick:z,className:"w-full h-40 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-brand-500 dark:hover:border-brand-500 transition-colors",children:[o.jsx("svg",{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Clique para selecionar ou arraste um arquivo"}),o.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Formatos aceitos: .doc, .docx"}),o.jsx("input",{ref:F,type:"file",accept:".doc,.docx",className:"hidden",onChange:B})]}),L&&o.jsx("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg w-full",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("svg",{className:"w-6 h-6 text-brand-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:L.name})]})}),O&&o.jsx("div",{className:"mt-4 p-3 bg-error-50 dark:bg-error-900/20 text-error-600 dark:text-error-400 rounded-lg w-full text-sm",children:O}),I&&o.jsx("div",{className:"mt-4 p-3 bg-success-50 dark:bg-success-900/20 text-success-600 dark:text-success-400 rounded-lg w-full text-sm",children:"Arquivo enviado com sucesso!"})]}):o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Link do Google Docs"}),o.jsx(st,{type:"url",value:Ue,onChange:ut=>ke(ut.target.value),placeholder:"Cole aqui o link do Google Docs",required:!0,className:Ce?"border-error-500":""}),Ce&&o.jsx("div",{className:"mt-2 text-error-500 text-xs",children:Ce})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(at,{variant:"outline",onClick:()=>{A(),Ve("upload"),ke(""),ze(null)},disabled:D,children:"Cancelar"}),ee==="upload"?o.jsx(at,{onClick:async()=>{await V(),it(),vt()},disabled:!L||D,children:D?o.jsxs("span",{className:"flex items-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enviando..."]}):"Enviar"}):o.jsx(at,{onClick:Je,disabled:!Ue.trim(),children:"Enviar"})]})]})}),o.jsx(vs,{isOpen:i,onClose:dt,className:"max-w-md m-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-6",children:"Editar URL do Artigo Publicado"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"URL do Artigo Publicado"}),o.jsx("input",{type:"url",value:u,onChange:ut=>h(ut.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-brand-500 focus:border-brand-500 dark:focus:ring-brand-400 dark:focus:border-brand-400 outline-none",placeholder:"https://exemplo.com/artigo"})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(at,{variant:"outline",onClick:dt,children:"Cancelar"}),o.jsx(at,{onClick:()=>{vt(),tt()},disabled:!u.trim(),children:"Salvar"})]})]})}),o.jsx(vs,{isOpen:f,onClose:Fe,className:"max-w-md m-4",children:o.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]",children:m&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"mb-3 block text-xl font-semibold text-gray-800 dark:text-white/90",children:m.title})," ",o.jsx("div",{className:"mb-1",children:o.jsxs("div",{className:"flex items-end",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white/90",children:m.is_free?"R$ 0,00":`R$ ${((pt=m.price)==null?void 0:pt.toFixed(2).replace(".",","))||"0,00"}`}),m.price_per_word&&!m.is_free&&o.jsx("span",{className:"mb-1 inline-block text-sm text-gray-500 dark:text-gray-400 ml-1",children:"/por palavra"})]})}),m.word_count&&o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:[m.word_count," palavras"]}),o.jsx("div",{className:"my-6 h-px w-full bg-gray-200 dark:bg-gray-800"}),m.benefits&&m.benefits.length>0&&o.jsx("div",{className:"mb-8 space-y-3",children:m.benefits.map((ut,Ke)=>o.jsxs("p",{className:"flex items-center gap-3 text-sm text-gray-500 dark:text-gray-400",children:[o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M13.4017 4.35986L6.12166 11.6399L2.59833 8.11657",stroke:"#12B76A",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})}),ut]},Ke))})]})})})," ",o.jsx(Lce,{isOpen:le,onClose:()=>ue(!1),order:v,getPaymentMethodLabel:U,getPaymentStatusBadge:$,confirmingBoleto:X,handleConfirmBoletoPayment:Q,openConfirmDeleteModal:Ne,isDeletingOrder:et,deleteError:Ee,isConfirmDeleteModalOpen:ye,closeConfirmDeleteModal:Le,deleteOrder:Ie,isAdmin:r})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[o.jsx("div",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Pedido no encontrado"}),o.jsx(at,{onClick:()=>S("/orders"),children:"Voltar para Pedidos"})]})}function Ice(){const[r,e]=w.useState(""),[t,n]=w.useState(""),[a,s]=w.useState(""),[i,l]=w.useState(""),[c,d]=w.useState(""),[u,h]=w.useState(""),[f,p]=w.useState(!1),[m,g]=w.useState(null),v=mr();return{firstName:r,setFirstName:e,lastName:t,setLastName:n,email:a,setEmail:s,password:i,setPassword:l,confirmPassword:c,setConfirmPassword:d,phone:u,setPhone:h,loading:f,error:m,handleSubmit:async b=>{b.preventDefault(),p(!0),g(null);try{const y=await _B({firstName:r,lastName:t,email:a,password:i,phone:u});y.success?v("/verify-email"):y.error&&typeof y.error=="string"&&y.error.toLowerCase().includes("already")?g("Este e-mail j est cadastrado. Faa login ou use outro e-mail."):g(y.error||"Erro ao cadastrar administrador.")}catch(y){y&&typeof y.message=="string"&&y.message.toLowerCase().includes("already")?g("Este e-mail j est cadastrado. Faa login ou use outro e-mail."):g(y.message||"Erro ao cadastrar administrador.")}finally{p(!1)}}}}function Oce(){const{firstName:r,setFirstName:e,lastName:t,setLastName:n,email:a,setEmail:s,password:i,setPassword:l,confirmPassword:c,setConfirmPassword:d,phone:u,setPhone:h,error:f,handleSubmit:p}=Ice();return w.useEffect(()=>{f&&ki(f,"error")},[f]),o.jsxs(WQ,{fallback:o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-error-500",children:"Acesso no autorizado"})}),children:[o.jsx(Yt,{title:"Cadastrar Administrador | Admin Panel",description:"Cadastro de novo administrador"}),o.jsx(kr,{pageTitle:"Cadastrar Administrador"}),o.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] w-full flex justify-center",children:o.jsx("div",{className:"p-5 lg:p-6 w-full",children:o.jsxs("form",{className:"max-w-xl w-full space-y-6",onSubmit:p,autoComplete:"off",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs(Te,{htmlFor:"firstName",children:["Nome ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{id:"firstName",name:"firstName",placeholder:"Digite o nome",value:r,onChange:m=>e(m.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsxs(Te,{htmlFor:"lastName",children:["Sobrenome ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{id:"lastName",name:"lastName",placeholder:"Digite o sobrenome",value:t,onChange:m=>n(m.target.value),required:!0})]})]}),o.jsxs("div",{children:[o.jsxs(Te,{htmlFor:"email",children:["Email ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{id:"email",name:"email",type:"email",placeholder:"Digite o email",value:a,onChange:m=>s(m.target.value),required:!0,autoComplete:"off"})]}),o.jsxs("div",{children:[o.jsxs(Te,{htmlFor:"password",children:["Senha ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{id:"password",name:"password",type:"password",placeholder:"Digite a senha",value:i,onChange:m=>l(m.target.value),required:!0,autoComplete:"new-password"})]}),o.jsxs("div",{children:[o.jsxs(Te,{htmlFor:"confirmPassword",children:["Confirmar Senha ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(st,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirme a senha",value:c,onChange:m=>d(m.target.value),required:!0,autoComplete:"new-password"})]}),o.jsxs("div",{children:[o.jsx(Te,{htmlFor:"phone",children:"Telefone"}),o.jsx(st,{id:"phone",name:"phone",type:"text",placeholder:"(99) 99999-9999",value:u,onChange:m=>h(m.target.value)})]}),o.jsxs("div",{children:[o.jsxs(Te,{children:["Tipo de Conta ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsxs("div",{className:"rounded-lg border border-brand-500 bg-brand-50 dark:border-brand-400 dark:bg-brand-500/10 p-4 flex items-center gap-3",children:[o.jsx("span",{className:"inline-flex items-center justify-center w-4 h-4 rounded-full border-2 border-brand-500 bg-brand-500 dark:border-brand-400 dark:bg-brand-400 mr-2",children:o.jsx("span",{className:"w-2 h-2 m-0.5 rounded-full bg-white"})}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-800 dark:text-white/90",children:"Administrador"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Conta com permisses administrativas totais"})]})]})]}),o.jsxs("div",{className:"flex justify-end pt-6 gap-2",children:[o.jsx(at,{variant:"outline",size:"md",onClick:()=>window.location.href="/users",children:"Cancelar"}),o.jsx(at,{variant:"primary",size:"md",children:"Cadastrar administrador"})]})]})})})]})}function Am(r){if(!r)return"";const e=new Date(r);if(isNaN(e.getTime()))return"";const t=e.getTimezoneOffset();return new Date(e.getTime()-t*6e4).toISOString().slice(0,16)}function Fce({initialCoupon:r,onSubmit:e,loading:t}){const[n,a]=w.useState(()=>({...r,start_date:Am(r.start_date),end_date:Am(r.end_date)})),{toasts:s,addToast:i,removeToast:l}=z3(),c=h=>{const{name:f,value:p,type:m}=h.target;if(m==="checkbox"){const g=h.target.checked;a(v=>({...v,[f]:g}))}else a(m==="number"?g=>({...g,[f]:p===""?void 0:parseFloat(p)}):g=>({...g,[f]:p||void 0}))},d=()=>{var h,f;return(h=n.code)!=null&&h.trim()?(f=n.name)!=null&&f.trim()?(n.discount_value??0)<=0?(i("[Desconto] Valor do desconto deve ser maior que zero","error"),!1):n.discount_type==="percentage"&&(n.discount_value??0)>100?(i("[Desconto] Desconto percentual no pode ser maior que 100%","error"),!1):n.maximum_amount&&n.minimum_amount&&n.maximum_amount<=n.minimum_amount?(i("[Valor Mximo] Valor mximo deve ser maior que o valor mnimo","error"),!1):n.end_date&&n.start_date&&new Date(n.end_date)<=new Date(n.start_date)?(i("[Datas] Data de fim deve ser posterior  data de incio","error"),!1):!0:(i("[Nome] Nome  obrigatrio","error"),!1):(i("[Cdigo] Cdigo  obrigatrio","error"),!1)},u=async h=>{if(h.preventDefault(),!d())return;const f={...n,start_date:n.start_date||void 0,end_date:n.end_date||void 0};await e(f)};return w.useEffect(()=>{a({...r,start_date:Am(r.start_date),end_date:Am(r.end_date)})},[r]),o.jsxs(o.Fragment,{children:[o.jsx(B3,{toasts:s,onRemove:l}),o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cdigo *"}),o.jsx("input",{type:"text",name:"code",value:n.code||"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome *"}),o.jsx("input",{type:"text",name:"name",value:n.name||"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descrio"}),o.jsx("textarea",{name:"description",value:n.description||"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",rows:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de desconto"}),o.jsxs("select",{name:"discount_type",value:n.discount_type,onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",children:[o.jsx("option",{value:"percentage",children:"Desconto em porcentagem"}),o.jsx("option",{value:"cart_fixed",children:"Desconto fixo de carrinho"}),o.jsx("option",{value:"product_fixed",children:"Desconto fixo de produto"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Valor do desconto *"}),o.jsx("input",{type:"number",name:"discount_value",value:n.discount_value??"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",required:!0,min:0,step:.01})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Valor mnimo para uso"}),o.jsx("input",{type:"number",name:"minimum_amount",value:n.minimum_amount??"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",min:0,step:.01})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Valor mximo do pedido"}),o.jsx("input",{type:"number",name:"maximum_amount",value:n.maximum_amount??"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",min:0,step:.01})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Limite de uso"}),o.jsx("input",{type:"number",name:"usage_limit",value:n.usage_limit??"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",min:0,step:1})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Limite de uso por cliente"}),o.jsx("input",{type:"number",name:"usage_limit_per_customer",value:n.usage_limit_per_customer??"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",min:0,step:1})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data de Incio"}),o.jsx("input",{type:"datetime-local",name:"start_date",value:n.start_date||"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data de Expirao"}),o.jsx("input",{type:"datetime-local",name:"end_date",value:n.end_date||"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"is_active",checked:n.is_active,onChange:c,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("label",{className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Cupom ativo"})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("input",{type:"checkbox",name:"individual_use_only",checked:n.individual_use_only||!1,onChange:c,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5"}),o.jsxs("div",{className:"ml-2",children:[o.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Apenas uso individual"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Marque esta opo caso o cupom no possa ser utilizado juntamente com outros cupons."})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("input",{type:"checkbox",name:"exclude_sale_items",checked:n.exclude_sale_items||!1,onChange:c,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5"}),o.jsxs("div",{className:"ml-2",children:[o.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Excluir itens em oferta"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Selecione esta opo caso o cupom no seja vlido para produtos em promoo. Cupons aplicados por item funcionaro somente se o item no estiver em promoo. Cupons aplicados ao carrinho s sero vlidos caso no haja produtos em promoo no carrinho."})]})]}),o.jsx("div",{className:"flex justify-end gap-2 pt-2",children:o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-500 text-white rounded hover:bg-brand-600 transition-colors",disabled:t,children:"Salvar"})})]})]})}function Bce({offsetTop:r=20,onlyOnDesktop:e=!0}={}){const t=w.useRef(null),n=w.useRef(null),[a,s]=w.useState(!1),[i,l]=w.useState({}),[c,d]=w.useState({}),u=w.useRef(null),h=w.useRef(null),f=w.useCallback(()=>{if(!t.current)return;if(e&&window.innerWidth<768){s(!1),l({}),d({display:"none"}),u.current=null,h.current=null;return}const m=t.current;if(!u.current&&!a){const x=m.getBoundingClientRect();u.current={top:x.top+window.scrollY,left:x.left,width:x.width,height:x.height},h.current=x.width}if(!u.current)return;const v=window.scrollY>u.current.top-r;if(v&&!a){const x=m.getBoundingClientRect();s(!0),l({position:"fixed",top:r,left:x.left,width:h.current||x.width,zIndex:10}),d({height:u.current.height,width:"100%",display:"block"})}else!v&&a&&(s(!1),l({}),d({display:"none"}),u.current=null,h.current=null)},[a,r,e]),p=w.useCallback(()=>{u.current=null,s(!1),l({}),d({display:"none"}),requestAnimationFrame(f)},[f]);return w.useEffect(()=>{let m=!1;const g=()=>{m||(requestAnimationFrame(()=>{f(),m=!1}),m=!0)};return window.addEventListener("scroll",g,{passive:!0}),window.addEventListener("resize",p),requestAnimationFrame(f),()=>{window.removeEventListener("scroll",g),window.removeEventListener("resize",p)}},[f,p]),{ref:t,placeholderRef:n,style:i,placeholderStyle:c,isFixed:a}}const zce=()=>{const{id:r}=zo(),e=mr(),[t,n]=w.useState(null),[a,s]=w.useState(!0),[i,l]=w.useState(!1),c=Bce({offsetTop:20,onlyOnDesktop:!0}),{toasts:d,addToast:u,removeToast:h}=z3();w.useEffect(()=>{r&&(s(!0),W8(r).then(p=>n(p)).finally(()=>s(!1)))},[r]);const f=async p=>{l(!0);try{if(await Mie({...p,id:r})){u("Cupom atualizado com sucesso!","success");const g=await W8(r);n(g)}else u("Erro ao atualizar cupom.","error")}catch{u("Erro inesperado ao atualizar cupom.","error")}finally{l(!1)}};return a?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Carregando..."})}):t?o.jsxs("div",{className:"w-full main-content p-4 mx-auto max-w-[--breakpoint-2xl] md:p-6 overflow-hidden",children:[o.jsx(B3,{toasts:d,onRemove:h}),o.jsxs("section",{className:"flex min-h-screen",children:[o.jsxs("div",{className:"flex-1 pr-0 md:pr-4 lg:pr-8 xl:pr-12 2xl:pr-16 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white/90",children:"Editar Cupom"}),o.jsxs("button",{type:"button",className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-brand-500 dark:hover:text-brand-400 transition-colors text-sm font-medium",onClick:()=>e(-1),children:[o.jsx("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M11.25 15L5.25 9L11.25 3",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})}),"Voltar"]})]}),o.jsx("div",{ref:c.placeholderRef,style:c.placeholderStyle}),o.jsxs("div",{ref:c.ref,style:c.style,className:"border border-gray-200 dark:border-white/[0.05] rounded-xl bg-white dark:bg-gray-900 p-6 mb-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Nome"}),o.jsx("span",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:t.name})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Cdigo"}),o.jsx("span",{className:"font-mono text-base text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-800 rounded px-2 py-1",children:t.code})]}),t.description&&o.jsxs("div",{children:[o.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Descrio"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:t.description})]})]})]}),o.jsx("div",{className:"top-0 right-0 h-full w-full max-w-md bg-white dark:bg-gray-900 p-6 z-50 flex flex-col border-l border-gray-200 dark:border-gray-800 border border-gray-200 dark:border-white/[0.05]",style:{minWidth:340},children:o.jsx(Fce,{initialCoupon:t,onSubmit:f,loading:i})})]})]}):o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-lg text-red-500",children:"Cupom no encontrado."})})};function uy({children:r}){const[e,t]=w.useState(null),[n,a]=w.useState(!0);w.useEffect(()=>{s();const{data:{subscription:i}}=K.auth.onAuthStateChange(l=>{l==="SIGNED_IN"?t(!0):l==="SIGNED_OUT"&&t(!1)});return()=>{i.unsubscribe()}},[]);async function s(){try{a(!0);const{data:{session:i}}=await K.auth.getSession();t(!!i)}catch(i){console.error("Auth check error:",i),t(!1)}finally{a(!1)}}return n?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):e?o.jsx(o.Fragment,{children:r}):o.jsx(qj,{to:"/",replace:!0})}function Hce(){return o.jsxs(yO,{children:[o.jsx(Zie,{}),o.jsx(VK,{}),o.jsxs(JI,{children:[o.jsx(Dt,{path:"/",element:o.jsx(YS,{})}),o.jsx(Dt,{path:"/register",element:o.jsx(_Q,{})}),o.jsx(Dt,{path:"/verify-email",element:o.jsx(NQ,{})}),o.jsx(Dt,{path:"/reset-password",element:o.jsx(GS,{})}),o.jsx(Dt,{path:"/password-recovery",element:o.jsx(XS,{})}),o.jsx(Dt,{path:"/forms/preview/:id",element:o.jsx(gae,{})}),o.jsx(Dt,{path:"/adm",element:o.jsx(YS,{})}),o.jsx(Dt,{path:"/adm/reset-password",element:o.jsx(GS,{})}),o.jsx(Dt,{path:"/adm/password-recovery",element:o.jsx(XS,{})}),o.jsxs(Dt,{element:o.jsx(uy,{children:o.jsx(Bb,{})}),children:[o.jsx(Dt,{path:"/dashboard",element:o.jsx(bQ,{})}),o.jsx(Dt,{path:"/profile",element:o.jsx(QH,{})}),o.jsx(Dt,{path:"/settings",element:o.jsx(CQ,{})}),o.jsx(Dt,{path:"/calendar",element:o.jsx(QZ,{})}),o.jsx(Dt,{path:"/blank",element:o.jsx(xK,{})}),o.jsx(Dt,{path:"/form-elements",element:o.jsx(mK,{})}),o.jsx(Dt,{path:"/basic-tables",element:o.jsx(nJ,{})}),o.jsx(Dt,{path:"/alerts",element:o.jsx(aU,{})}),o.jsx(Dt,{path:"/avatars",element:o.jsx(GU,{})}),o.jsx(Dt,{path:"/badge",element:o.jsx($U,{})}),o.jsx(Dt,{path:"/buttons",element:o.jsx(XU,{})}),o.jsx(Dt,{path:"/images",element:o.jsx(nU,{})}),o.jsx(Dt,{path:"/line-chart",element:o.jsx(g$,{})}),o.jsx(Dt,{path:"/bar-chart",element:o.jsx(x$,{})}),o.jsx(Dt,{path:"/users",element:o.jsx(qQ,{})}),o.jsx(Dt,{path:"/users/register/admin-register",element:o.jsx(Oce,{})}),o.jsx(Dt,{path:"/pages",element:o.jsx(tee,{})}),o.jsx(Dt,{path:"/pages/new",element:o.jsx(JS,{})}),o.jsx(Dt,{path:"/pages/edit/:id",element:o.jsx(JS,{})}),o.jsx(Dt,{path:"/pages/:slug",element:o.jsx(Ote,{})}),o.jsx(Dt,{path:"/menu-dash",element:o.jsx(Fte,{})}),o.jsx(Dt,{path:"/menu-dash/new",element:o.jsx(p8,{})}),o.jsx(Dt,{path:"/menu-dash/edit/:id",element:o.jsx(p8,{})}),o.jsx(Dt,{path:"/forms",element:o.jsx(zte,{})}),o.jsx(Dt,{path:"/forms/edit/:id",element:o.jsx(fae,{})}),o.jsx(Dt,{path:"/forms/settings/:id",element:o.jsx(pae,{})}),o.jsx(Dt,{path:"/checkout",element:o.jsx(Ble,{})}),o.jsx(Dt,{path:"/checkout/payment",element:o.jsx(bce,{})}),o.jsx(Dt,{path:"/checkout/boleto-success",element:o.jsx(yce,{})}),o.jsx(Dt,{path:"/orders",element:o.jsx(Cce,{})}),o.jsx(Dt,{path:"/orders/:id",element:o.jsx(Mce,{})}),o.jsxs(Dt,{element:o.jsx(RB,{children:o.jsx(Yj,{})}),children:[o.jsx(Dt,{path:"/service-packages",element:o.jsx(Rae,{})}),o.jsx(Dt,{path:"/service-packages/:id",element:o.jsx(Nie,{})}),o.jsx(Dt,{path:"/tickets",element:o.jsx(Gie,{})}),o.jsx(Dt,{path:"/tickets/:id",element:o.jsx(zce,{})})]}),o.jsx(Dt,{path:"/editorial",element:o.jsx(ble,{})})]}),o.jsxs(Dt,{element:o.jsx(uy,{children:o.jsx(Bb,{})}),children:[o.jsx(Dt,{path:"/publisher/dashboard",element:o.jsx(JQ,{})}),o.jsx(Dt,{path:"/publisher/profile",element:o.jsx(ZS,{userType:"publisher"})})]}),o.jsxs(Dt,{element:o.jsx(uy,{children:o.jsx(Bb,{})}),children:[o.jsx(Dt,{path:"/advertiser/dashboard",element:o.jsx(KQ,{})}),o.jsx(Dt,{path:"/advertiser/profile",element:o.jsx(ZS,{userType:"advertiser"})})]}),o.jsx(Dt,{path:"*",element:o.jsx(dz,{})})]})]})}Ij(document.getElementById("root")).render(o.jsx(w.StrictMode,{children:o.jsx(TK,{children:o.jsx(PK,{children:o.jsx(cz,{children:o.jsx(Hce,{})})})})}));export{Nr as _,Js as c,Fo as g};
