var EV=Object.defineProperty;var _V=(r,e,t)=>e in r?EV(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var hr=(r,e,t)=>_V(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var Yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _o(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function DS(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}),t}var SP={exports:{}},Ob={},NP={exports:{}},dr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0=Symbol.for("react.element"),jV=Symbol.for("react.portal"),AV=Symbol.for("react.fragment"),TV=Symbol.for("react.strict_mode"),PV=Symbol.for("react.profiler"),LV=Symbol.for("react.provider"),DV=Symbol.for("react.context"),MV=Symbol.for("react.forward_ref"),RV=Symbol.for("react.suspense"),IV=Symbol.for("react.memo"),OV=Symbol.for("react.lazy"),W8=Symbol.iterator;function FV(r){return r===null||typeof r!="object"?null:(r=W8&&r[W8]||r["@@iterator"],typeof r=="function"?r:null)}var EP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_P=Object.assign,jP={};function Np(r,e,t){this.props=r,this.context=e,this.refs=jP,this.updater=t||EP}Np.prototype.isReactComponent={};Np.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};Np.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function AP(){}AP.prototype=Np.prototype;function MS(r,e,t){this.props=r,this.context=e,this.refs=jP,this.updater=t||EP}var RS=MS.prototype=new AP;RS.constructor=MS;_P(RS,Np.prototype);RS.isPureReactComponent=!0;var q8=Array.isArray,TP=Object.prototype.hasOwnProperty,IS={current:null},PP={key:!0,ref:!0,__self:!0,__source:!0};function LP(r,e,t){var n,s={},a=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(a=""+e.key),e)TP.call(e,n)&&!PP.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=t;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(r&&r.defaultProps)for(n in o=r.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:N0,type:r,key:a,ref:i,props:s,_owner:IS.current}}function BV(r,e){return{$$typeof:N0,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function OS(r){return typeof r=="object"&&r!==null&&r.$$typeof===N0}function zV(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var Y8=/\/+/g;function Ow(r,e){return typeof r=="object"&&r!==null&&r.key!=null?zV(""+r.key):e.toString(36)}function $1(r,e,t,n,s){var a=typeof r;(a==="undefined"||a==="boolean")&&(r=null);var i=!1;if(r===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(r.$$typeof){case N0:case jV:i=!0}}if(i)return i=r,s=s(i),r=n===""?"."+Ow(i,0):n,q8(s)?(t="",r!=null&&(t=r.replace(Y8,"$&/")+"/"),$1(s,e,t,"",function(d){return d})):s!=null&&(OS(s)&&(s=BV(s,t+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Y8,"$&/")+"/")+r)),e.push(s)),1;if(i=0,n=n===""?".":n+":",q8(r))for(var o=0;o<r.length;o++){a=r[o];var c=n+Ow(a,o);i+=$1(a,e,t,c,s)}else if(c=FV(r),typeof c=="function")for(r=c.call(r),o=0;!(a=r.next()).done;)a=a.value,c=n+Ow(a,o++),i+=$1(a,e,t,c,s);else if(a==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Hx(r,e,t){if(r==null)return r;var n=[],s=0;return $1(r,n,"","",function(a){return e.call(t,a,s++)}),n}function HV(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var ma={current:null},V1={transition:null},UV={ReactCurrentDispatcher:ma,ReactCurrentBatchConfig:V1,ReactCurrentOwner:IS};function DP(){throw Error("act(...) is not supported in production builds of React.")}dr.Children={map:Hx,forEach:function(r,e,t){Hx(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return Hx(r,function(){e++}),e},toArray:function(r){return Hx(r,function(e){return e})||[]},only:function(r){if(!OS(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};dr.Component=Np;dr.Fragment=AV;dr.Profiler=PV;dr.PureComponent=MS;dr.StrictMode=TV;dr.Suspense=RV;dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UV;dr.act=DP;dr.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=_P({},r.props),s=r.key,a=r.ref,i=r._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,i=IS.current),e.key!==void 0&&(s=""+e.key),r.type&&r.type.defaultProps)var o=r.type.defaultProps;for(c in e)TP.call(e,c)&&!PP.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=t;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:N0,type:r.type,key:s,ref:a,props:n,_owner:i}};dr.createContext=function(r){return r={$$typeof:DV,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:LV,_context:r},r.Consumer=r};dr.createElement=LP;dr.createFactory=function(r){var e=LP.bind(null,r);return e.type=r,e};dr.createRef=function(){return{current:null}};dr.forwardRef=function(r){return{$$typeof:MV,render:r}};dr.isValidElement=OS;dr.lazy=function(r){return{$$typeof:OV,_payload:{_status:-1,_result:r},_init:HV}};dr.memo=function(r,e){return{$$typeof:IV,type:r,compare:e===void 0?null:e}};dr.startTransition=function(r){var e=V1.transition;V1.transition={};try{r()}finally{V1.transition=e}};dr.unstable_act=DP;dr.useCallback=function(r,e){return ma.current.useCallback(r,e)};dr.useContext=function(r){return ma.current.useContext(r)};dr.useDebugValue=function(){};dr.useDeferredValue=function(r){return ma.current.useDeferredValue(r)};dr.useEffect=function(r,e){return ma.current.useEffect(r,e)};dr.useId=function(){return ma.current.useId()};dr.useImperativeHandle=function(r,e,t){return ma.current.useImperativeHandle(r,e,t)};dr.useInsertionEffect=function(r,e){return ma.current.useInsertionEffect(r,e)};dr.useLayoutEffect=function(r,e){return ma.current.useLayoutEffect(r,e)};dr.useMemo=function(r,e){return ma.current.useMemo(r,e)};dr.useReducer=function(r,e,t){return ma.current.useReducer(r,e,t)};dr.useRef=function(r){return ma.current.useRef(r)};dr.useState=function(r){return ma.current.useState(r)};dr.useSyncExternalStore=function(r,e,t){return ma.current.useSyncExternalStore(r,e,t)};dr.useTransition=function(){return ma.current.useTransition()};dr.version="18.3.1";NP.exports=dr;var b=NP.exports;const ht=_o(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $V=b,VV=Symbol.for("react.element"),WV=Symbol.for("react.fragment"),qV=Object.prototype.hasOwnProperty,YV=$V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GV={key:!0,ref:!0,__self:!0,__source:!0};function MP(r,e,t){var n,s={},a=null,i=null;t!==void 0&&(a=""+t),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)qV.call(e,n)&&!GV.hasOwnProperty(n)&&(s[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:VV,type:r,key:a,ref:i,props:s,_owner:YV.current}}Ob.Fragment=WV;Ob.jsx=MP;Ob.jsxs=MP;SP.exports=Ob;var l=SP.exports,RP={exports:{}},ui={},IP={exports:{}},OP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(W,Z){var q=W.length;W.push(Z);e:for(;0<q;){var Q=q-1>>>1,T=W[Q];if(0<s(T,Z))W[Q]=Z,W[q]=T,q=Q;else break e}}function t(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var Z=W[0],q=W.pop();if(q!==Z){W[0]=q;e:for(var Q=0,T=W.length,H=T>>>1;Q<H;){var $=2*(Q+1)-1,Y=W[$],K=$+1,re=W[K];if(0>s(Y,q))K<T&&0>s(re,Y)?(W[Q]=re,W[K]=q,Q=K):(W[Q]=Y,W[$]=q,Q=$);else if(K<T&&0>s(re,q))W[Q]=re,W[K]=q,Q=K;else break e}}return Z}function s(W,Z){var q=W.sortIndex-Z.sortIndex;return q!==0?q:W.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();r.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,h=null,f=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(W){for(var Z=t(d);Z!==null;){if(Z.callback===null)n(d);else if(Z.startTime<=W)n(d),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=t(d)}}function k(W){if(m=!1,w(W),!g)if(t(c)!==null)g=!0,z(S);else{var Z=t(d);Z!==null&&V(k,Z.startTime-W)}}function S(W,Z){g=!1,m&&(m=!1,x(E),E=-1),p=!0;var q=f;try{for(w(Z),h=t(c);h!==null&&(!(h.expirationTime>Z)||W&&!L());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,f=h.priorityLevel;var T=Q(h.expirationTime<=Z);Z=r.unstable_now(),typeof T=="function"?h.callback=T:h===t(c)&&n(c),w(Z)}else n(c);h=t(c)}if(h!==null)var H=!0;else{var $=t(d);$!==null&&V(k,$.startTime-Z),H=!1}return H}finally{h=null,f=q,p=!1}}var N=!1,A=null,E=-1,R=5,O=-1;function L(){return!(r.unstable_now()-O<R)}function D(){if(A!==null){var W=r.unstable_now();O=W;var Z=!0;try{Z=A(!0,W)}finally{Z?F():(N=!1,A=null)}}else N=!1}var F;if(typeof y=="function")F=function(){y(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,B=M.port2;M.port1.onmessage=D,F=function(){B.postMessage(null)}}else F=function(){v(D,0)};function z(W){A=W,N||(N=!0,F())}function V(W,Z){E=v(function(){W(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_continueExecution=function(){g||p||(g=!0,z(S))},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(W){switch(f){case 1:case 2:case 3:var Z=3;break;default:Z=f}var q=f;f=Z;try{return W()}finally{f=q}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(W,Z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var q=f;f=W;try{return Z()}finally{f=q}},r.unstable_scheduleCallback=function(W,Z,q){var Q=r.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Q+q:Q):q=Q,W){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=q+T,W={id:u++,callback:Z,priorityLevel:W,startTime:q,expirationTime:T,sortIndex:-1},q>Q?(W.sortIndex=q,e(d,W),t(c)===null&&W===t(d)&&(m?(x(E),E=-1):m=!0,V(k,q-Q))):(W.sortIndex=T,e(c,W),g||p||(g=!0,z(S))),W},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(W){var Z=f;return function(){var q=f;f=Z;try{return W.apply(this,arguments)}finally{f=q}}}})(OP);IP.exports=OP;var XV=IP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZV=b,di=XV;function lt(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FP=new Set,Pm={};function oh(r,e){Kf(r,e),Kf(r+"Capture",e)}function Kf(r,e){for(Pm[r]=e,r=0;r<e.length;r++)FP.add(e[r])}var Gl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f3=Object.prototype.hasOwnProperty,JV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G8={},X8={};function KV(r){return f3.call(X8,r)?!0:f3.call(G8,r)?!1:JV.test(r)?X8[r]=!0:(G8[r]=!0,!1)}function QV(r,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function eW(r,e,t,n){if(e===null||typeof e>"u"||QV(r,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xa(r,e,t,n,s,a,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=a,this.removeEmptyString=i}var Os={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Os[r]=new xa(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];Os[e]=new xa(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Os[r]=new xa(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Os[r]=new xa(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Os[r]=new xa(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Os[r]=new xa(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Os[r]=new xa(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Os[r]=new xa(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Os[r]=new xa(r,5,!1,r.toLowerCase(),null,!1,!1)});var FS=/[\-:]([a-z])/g;function BS(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(FS,BS);Os[e]=new xa(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(FS,BS);Os[e]=new xa(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(FS,BS);Os[e]=new xa(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Os[r]=new xa(r,1,!1,r.toLowerCase(),null,!1,!1)});Os.xlinkHref=new xa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Os[r]=new xa(r,1,!1,r.toLowerCase(),null,!0,!0)});function zS(r,e,t,n){var s=Os.hasOwnProperty(e)?Os[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eW(e,t,s,n)&&(t=null),n||s===null?KV(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):s.mustUseProperty?r[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,n=s.attributeNamespace,t===null?r.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,n?r.setAttributeNS(n,e,t):r.setAttribute(e,t))))}var rc=ZV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ux=Symbol.for("react.element"),df=Symbol.for("react.portal"),uf=Symbol.for("react.fragment"),HS=Symbol.for("react.strict_mode"),p3=Symbol.for("react.profiler"),BP=Symbol.for("react.provider"),zP=Symbol.for("react.context"),US=Symbol.for("react.forward_ref"),g3=Symbol.for("react.suspense"),m3=Symbol.for("react.suspense_list"),$S=Symbol.for("react.memo"),Pc=Symbol.for("react.lazy"),HP=Symbol.for("react.offscreen"),Z8=Symbol.iterator;function kg(r){return r===null||typeof r!="object"?null:(r=Z8&&r[Z8]||r["@@iterator"],typeof r=="function"?r:null)}var kn=Object.assign,Fw;function Ug(r){if(Fw===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Fw=e&&e[1]||""}return`
`+Fw+r}var Bw=!1;function zw(r,e){if(!r||Bw)return"";Bw=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(r,[],e)}else{try{e.call()}catch(d){n=d}r.call(e.prototype)}else{try{throw Error()}catch(d){n=d}r()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||s[i]!==a[o]){var c=`
`+s[i].replace(" at new "," at ");return r.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",r.displayName)),c}while(1<=i&&0<=o);break}}}finally{Bw=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?Ug(r):""}function tW(r){switch(r.tag){case 5:return Ug(r.type);case 16:return Ug("Lazy");case 13:return Ug("Suspense");case 19:return Ug("SuspenseList");case 0:case 2:case 15:return r=zw(r.type,!1),r;case 11:return r=zw(r.type.render,!1),r;case 1:return r=zw(r.type,!0),r;default:return""}}function x3(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case uf:return"Fragment";case df:return"Portal";case p3:return"Profiler";case HS:return"StrictMode";case g3:return"Suspense";case m3:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case zP:return(r.displayName||"Context")+".Consumer";case BP:return(r._context.displayName||"Context")+".Provider";case US:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case $S:return e=r.displayName||null,e!==null?e:x3(r.type)||"Memo";case Pc:e=r._payload,r=r._init;try{return x3(r(e))}catch{}}return null}function rW(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return x3(e);case 8:return e===HS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function md(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function UP(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nW(r){var e=UP(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),n=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,a=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function $x(r){r._valueTracker||(r._valueTracker=nW(r))}function $P(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return r&&(n=UP(r)?r.checked?"true":"false":r.value),r=n,r!==t?(e.setValue(r),!0):!1}function Ov(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function v3(r,e){var t=e.checked;return kn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function J8(r,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=md(e.value!=null?e.value:t),r._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VP(r,e){e=e.checked,e!=null&&zS(r,"checked",e,!1)}function y3(r,e){VP(r,e);var t=md(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?b3(r,e.type,t):e.hasOwnProperty("defaultValue")&&b3(r,e.type,md(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function K8(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function b3(r,e,t){(e!=="number"||Ov(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}var $g=Array.isArray;function _f(r,e,t,n){if(r=r.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<r.length;t++)s=e.hasOwnProperty("$"+r[t].value),r[t].selected!==s&&(r[t].selected=s),s&&n&&(r[t].defaultSelected=!0)}else{for(t=""+md(t),e=null,s=0;s<r.length;s++){if(r[s].value===t){r[s].selected=!0,n&&(r[s].defaultSelected=!0);return}e!==null||r[s].disabled||(e=r[s])}e!==null&&(e.selected=!0)}}function w3(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(lt(91));return kn({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Q8(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(lt(92));if($g(t)){if(1<t.length)throw Error(lt(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:md(t)}}function WP(r,e){var t=md(e.value),n=md(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),n!=null&&(r.defaultValue=""+n)}function e_(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function qP(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function k3(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?qP(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Vx,YP=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,s){MSApp.execUnsafeLocalFunction(function(){return r(e,t,n,s)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(Vx=Vx||document.createElement("div"),Vx.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vx.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function Lm(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var tm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sW=["Webkit","ms","Moz","O"];Object.keys(tm).forEach(function(r){sW.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),tm[e]=tm[r]})});function GP(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||tm.hasOwnProperty(r)&&tm[r]?(""+e).trim():e+"px"}function XP(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,s=GP(t,e[t],n);t==="float"&&(t="cssFloat"),n?r.setProperty(t,s):r[t]=s}}var aW=kn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function C3(r,e){if(e){if(aW[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(lt(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(lt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(lt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(lt(62))}}function S3(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N3=null;function VS(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var E3=null,jf=null,Af=null;function t_(r){if(r=j0(r)){if(typeof E3!="function")throw Error(lt(280));var e=r.stateNode;e&&(e=Ub(e),E3(r.stateNode,r.type,e))}}function ZP(r){jf?Af?Af.push(r):Af=[r]:jf=r}function JP(){if(jf){var r=jf,e=Af;if(Af=jf=null,t_(r),e)for(r=0;r<e.length;r++)t_(e[r])}}function KP(r,e){return r(e)}function QP(){}var Hw=!1;function eL(r,e,t){if(Hw)return r(e,t);Hw=!0;try{return KP(r,e,t)}finally{Hw=!1,(jf!==null||Af!==null)&&(QP(),JP())}}function Dm(r,e){var t=r.stateNode;if(t===null)return null;var n=Ub(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(lt(231,e,typeof t));return t}var _3=!1;if(Gl)try{var Cg={};Object.defineProperty(Cg,"passive",{get:function(){_3=!0}}),window.addEventListener("test",Cg,Cg),window.removeEventListener("test",Cg,Cg)}catch{_3=!1}function iW(r,e,t,n,s,a,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(t,d)}catch(u){this.onError(u)}}var rm=!1,Fv=null,Bv=!1,j3=null,oW={onError:function(r){rm=!0,Fv=r}};function lW(r,e,t,n,s,a,i,o,c){rm=!1,Fv=null,iW.apply(oW,arguments)}function cW(r,e,t,n,s,a,i,o,c){if(lW.apply(this,arguments),rm){if(rm){var d=Fv;rm=!1,Fv=null}else throw Error(lt(198));Bv||(Bv=!0,j3=d)}}function lh(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function tL(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function r_(r){if(lh(r)!==r)throw Error(lt(188))}function dW(r){var e=r.alternate;if(!e){if(e=lh(r),e===null)throw Error(lt(188));return e!==r?null:r}for(var t=r,n=e;;){var s=t.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){t=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===t)return r_(s),r;if(a===n)return r_(s),e;a=a.sibling}throw Error(lt(188))}if(t.return!==n.return)t=s,n=a;else{for(var i=!1,o=s.child;o;){if(o===t){i=!0,t=s,n=a;break}if(o===n){i=!0,n=s,t=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===t){i=!0,t=a,n=s;break}if(o===n){i=!0,n=a,t=s;break}o=o.sibling}if(!i)throw Error(lt(189))}}if(t.alternate!==n)throw Error(lt(190))}if(t.tag!==3)throw Error(lt(188));return t.stateNode.current===t?r:e}function rL(r){return r=dW(r),r!==null?nL(r):null}function nL(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=nL(r);if(e!==null)return e;r=r.sibling}return null}var sL=di.unstable_scheduleCallback,n_=di.unstable_cancelCallback,uW=di.unstable_shouldYield,hW=di.unstable_requestPaint,On=di.unstable_now,fW=di.unstable_getCurrentPriorityLevel,WS=di.unstable_ImmediatePriority,aL=di.unstable_UserBlockingPriority,zv=di.unstable_NormalPriority,pW=di.unstable_LowPriority,iL=di.unstable_IdlePriority,Fb=null,Qo=null;function gW(r){if(Qo&&typeof Qo.onCommitFiberRoot=="function")try{Qo.onCommitFiberRoot(Fb,r,void 0,(r.current.flags&128)===128)}catch{}}var yo=Math.clz32?Math.clz32:vW,mW=Math.log,xW=Math.LN2;function vW(r){return r>>>=0,r===0?32:31-(mW(r)/xW|0)|0}var Wx=64,qx=4194304;function Vg(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Hv(r,e){var t=r.pendingLanes;if(t===0)return 0;var n=0,s=r.suspendedLanes,a=r.pingedLanes,i=t&268435455;if(i!==0){var o=i&~s;o!==0?n=Vg(o):(a&=i,a!==0&&(n=Vg(a)))}else i=t&~s,i!==0?n=Vg(i):a!==0&&(n=Vg(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(n&4&&(n|=t&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=n;0<e;)t=31-yo(e),s=1<<t,n|=r[t],e&=~s;return n}function yW(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bW(r,e){for(var t=r.suspendedLanes,n=r.pingedLanes,s=r.expirationTimes,a=r.pendingLanes;0<a;){var i=31-yo(a),o=1<<i,c=s[i];c===-1?(!(o&t)||o&n)&&(s[i]=yW(o,e)):c<=e&&(r.expiredLanes|=o),a&=~o}}function A3(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function oL(){var r=Wx;return Wx<<=1,!(Wx&4194240)&&(Wx=64),r}function Uw(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function E0(r,e,t){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-yo(e),r[e]=t}function wW(r,e){var t=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<t;){var s=31-yo(t),a=1<<s;e[s]=0,n[s]=-1,r[s]=-1,t&=~a}}function qS(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var n=31-yo(t),s=1<<n;s&e|r[n]&e&&(r[n]|=e),t&=~s}}var Hr=0;function lL(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var cL,YS,dL,uL,hL,T3=!1,Yx=[],ed=null,td=null,rd=null,Mm=new Map,Rm=new Map,Fc=[],kW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function s_(r,e){switch(r){case"focusin":case"focusout":ed=null;break;case"dragenter":case"dragleave":td=null;break;case"mouseover":case"mouseout":rd=null;break;case"pointerover":case"pointerout":Mm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rm.delete(e.pointerId)}}function Sg(r,e,t,n,s,a){return r===null||r.nativeEvent!==a?(r={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},e!==null&&(e=j0(e),e!==null&&YS(e)),r):(r.eventSystemFlags|=n,e=r.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),r)}function CW(r,e,t,n,s){switch(e){case"focusin":return ed=Sg(ed,r,e,t,n,s),!0;case"dragenter":return td=Sg(td,r,e,t,n,s),!0;case"mouseover":return rd=Sg(rd,r,e,t,n,s),!0;case"pointerover":var a=s.pointerId;return Mm.set(a,Sg(Mm.get(a)||null,r,e,t,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Rm.set(a,Sg(Rm.get(a)||null,r,e,t,n,s)),!0}return!1}function fL(r){var e=yu(r.target);if(e!==null){var t=lh(e);if(t!==null){if(e=t.tag,e===13){if(e=tL(t),e!==null){r.blockedOn=e,hL(r.priority,function(){dL(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function W1(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=P3(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t===null){t=r.nativeEvent;var n=new t.constructor(t.type,t);N3=n,t.target.dispatchEvent(n),N3=null}else return e=j0(t),e!==null&&YS(e),r.blockedOn=t,!1;e.shift()}return!0}function a_(r,e,t){W1(r)&&t.delete(e)}function SW(){T3=!1,ed!==null&&W1(ed)&&(ed=null),td!==null&&W1(td)&&(td=null),rd!==null&&W1(rd)&&(rd=null),Mm.forEach(a_),Rm.forEach(a_)}function Ng(r,e){r.blockedOn===e&&(r.blockedOn=null,T3||(T3=!0,di.unstable_scheduleCallback(di.unstable_NormalPriority,SW)))}function Im(r){function e(s){return Ng(s,r)}if(0<Yx.length){Ng(Yx[0],r);for(var t=1;t<Yx.length;t++){var n=Yx[t];n.blockedOn===r&&(n.blockedOn=null)}}for(ed!==null&&Ng(ed,r),td!==null&&Ng(td,r),rd!==null&&Ng(rd,r),Mm.forEach(e),Rm.forEach(e),t=0;t<Fc.length;t++)n=Fc[t],n.blockedOn===r&&(n.blockedOn=null);for(;0<Fc.length&&(t=Fc[0],t.blockedOn===null);)fL(t),t.blockedOn===null&&Fc.shift()}var Tf=rc.ReactCurrentBatchConfig,Uv=!0;function NW(r,e,t,n){var s=Hr,a=Tf.transition;Tf.transition=null;try{Hr=1,GS(r,e,t,n)}finally{Hr=s,Tf.transition=a}}function EW(r,e,t,n){var s=Hr,a=Tf.transition;Tf.transition=null;try{Hr=4,GS(r,e,t,n)}finally{Hr=s,Tf.transition=a}}function GS(r,e,t,n){if(Uv){var s=P3(r,e,t,n);if(s===null)Kw(r,e,n,$v,t),s_(r,n);else if(CW(s,r,e,t,n))n.stopPropagation();else if(s_(r,n),e&4&&-1<kW.indexOf(r)){for(;s!==null;){var a=j0(s);if(a!==null&&cL(a),a=P3(r,e,t,n),a===null&&Kw(r,e,n,$v,t),a===s)break;s=a}s!==null&&n.stopPropagation()}else Kw(r,e,n,null,t)}}var $v=null;function P3(r,e,t,n){if($v=null,r=VS(n),r=yu(r),r!==null)if(e=lh(r),e===null)r=null;else if(t=e.tag,t===13){if(r=tL(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return $v=r,null}function pL(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fW()){case WS:return 1;case aL:return 4;case zv:case pW:return 16;case iL:return 536870912;default:return 16}default:return 16}}var Vc=null,XS=null,q1=null;function gL(){if(q1)return q1;var r,e=XS,t=e.length,n,s="value"in Vc?Vc.value:Vc.textContent,a=s.length;for(r=0;r<t&&e[r]===s[r];r++);var i=t-r;for(n=1;n<=i&&e[t-n]===s[a-n];n++);return q1=s.slice(r,1<n?1-n:void 0)}function Y1(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function Gx(){return!0}function i_(){return!1}function hi(r){function e(t,n,s,a,i){this._reactName=t,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in r)r.hasOwnProperty(o)&&(t=r[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Gx:i_,this.isPropagationStopped=i_,this}return kn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Gx)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Gx)},persist:function(){},isPersistent:Gx}),e}var Ep={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ZS=hi(Ep),_0=kn({},Ep,{view:0,detail:0}),_W=hi(_0),$w,Vw,Eg,Bb=kn({},_0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JS,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Eg&&(Eg&&r.type==="mousemove"?($w=r.screenX-Eg.screenX,Vw=r.screenY-Eg.screenY):Vw=$w=0,Eg=r),$w)},movementY:function(r){return"movementY"in r?r.movementY:Vw}}),o_=hi(Bb),jW=kn({},Bb,{dataTransfer:0}),AW=hi(jW),TW=kn({},_0,{relatedTarget:0}),Ww=hi(TW),PW=kn({},Ep,{animationName:0,elapsedTime:0,pseudoElement:0}),LW=hi(PW),DW=kn({},Ep,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),MW=hi(DW),RW=kn({},Ep,{data:0}),l_=hi(RW),IW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BW(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=FW[r])?!!e[r]:!1}function JS(){return BW}var zW=kn({},_0,{key:function(r){if(r.key){var e=IW[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=Y1(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?OW[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JS,charCode:function(r){return r.type==="keypress"?Y1(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Y1(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),HW=hi(zW),UW=kn({},Bb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),c_=hi(UW),$W=kn({},_0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JS}),VW=hi($W),WW=kn({},Ep,{propertyName:0,elapsedTime:0,pseudoElement:0}),qW=hi(WW),YW=kn({},Bb,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),GW=hi(YW),XW=[9,13,27,32],KS=Gl&&"CompositionEvent"in window,nm=null;Gl&&"documentMode"in document&&(nm=document.documentMode);var ZW=Gl&&"TextEvent"in window&&!nm,mL=Gl&&(!KS||nm&&8<nm&&11>=nm),d_=" ",u_=!1;function xL(r,e){switch(r){case"keyup":return XW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vL(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var hf=!1;function JW(r,e){switch(r){case"compositionend":return vL(e);case"keypress":return e.which!==32?null:(u_=!0,d_);case"textInput":return r=e.data,r===d_&&u_?null:r;default:return null}}function KW(r,e){if(hf)return r==="compositionend"||!KS&&xL(r,e)?(r=gL(),q1=XS=Vc=null,hf=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mL&&e.locale!=="ko"?null:e.data;default:return null}}var QW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h_(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!QW[r.type]:e==="textarea"}function yL(r,e,t,n){ZP(n),e=Vv(e,"onChange"),0<e.length&&(t=new ZS("onChange","change",null,t,n),r.push({event:t,listeners:e}))}var sm=null,Om=null;function eq(r){TL(r,0)}function zb(r){var e=gf(r);if($P(e))return r}function tq(r,e){if(r==="change")return e}var bL=!1;if(Gl){var qw;if(Gl){var Yw="oninput"in document;if(!Yw){var f_=document.createElement("div");f_.setAttribute("oninput","return;"),Yw=typeof f_.oninput=="function"}qw=Yw}else qw=!1;bL=qw&&(!document.documentMode||9<document.documentMode)}function p_(){sm&&(sm.detachEvent("onpropertychange",wL),Om=sm=null)}function wL(r){if(r.propertyName==="value"&&zb(Om)){var e=[];yL(e,Om,r,VS(r)),eL(eq,e)}}function rq(r,e,t){r==="focusin"?(p_(),sm=e,Om=t,sm.attachEvent("onpropertychange",wL)):r==="focusout"&&p_()}function nq(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return zb(Om)}function sq(r,e){if(r==="click")return zb(e)}function aq(r,e){if(r==="input"||r==="change")return zb(e)}function iq(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var Co=typeof Object.is=="function"?Object.is:iq;function Fm(r,e){if(Co(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var s=t[n];if(!f3.call(e,s)||!Co(r[s],e[s]))return!1}return!0}function g_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function m_(r,e){var t=g_(r);r=0;for(var n;t;){if(t.nodeType===3){if(n=r+t.textContent.length,r<=e&&n>=e)return{node:t,offset:e-r};r=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=g_(t)}}function kL(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?kL(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function CL(){for(var r=window,e=Ov();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=Ov(r.document)}return e}function QS(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function oq(r){var e=CL(),t=r.focusedElem,n=r.selectionRange;if(e!==t&&t&&t.ownerDocument&&kL(t.ownerDocument.documentElement,t)){if(n!==null&&QS(t)){if(e=n.start,r=n.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var s=t.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!r.extend&&a>n&&(s=n,n=a,a=s),s=m_(t,a);var i=m_(t,n);s&&i&&(r.rangeCount!==1||r.anchorNode!==s.node||r.anchorOffset!==s.offset||r.focusNode!==i.node||r.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),r.removeAllRanges(),a>n?(r.addRange(e),r.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var lq=Gl&&"documentMode"in document&&11>=document.documentMode,ff=null,L3=null,am=null,D3=!1;function x_(r,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;D3||ff==null||ff!==Ov(n)||(n=ff,"selectionStart"in n&&QS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),am&&Fm(am,n)||(am=n,n=Vv(L3,"onSelect"),0<n.length&&(e=new ZS("onSelect","select",null,e,t),r.push({event:e,listeners:n}),e.target=ff)))}function Xx(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var pf={animationend:Xx("Animation","AnimationEnd"),animationiteration:Xx("Animation","AnimationIteration"),animationstart:Xx("Animation","AnimationStart"),transitionend:Xx("Transition","TransitionEnd")},Gw={},SL={};Gl&&(SL=document.createElement("div").style,"AnimationEvent"in window||(delete pf.animationend.animation,delete pf.animationiteration.animation,delete pf.animationstart.animation),"TransitionEvent"in window||delete pf.transitionend.transition);function Hb(r){if(Gw[r])return Gw[r];if(!pf[r])return r;var e=pf[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in SL)return Gw[r]=e[t];return r}var NL=Hb("animationend"),EL=Hb("animationiteration"),_L=Hb("animationstart"),jL=Hb("transitionend"),AL=new Map,v_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _d(r,e){AL.set(r,e),oh(e,[r])}for(var Xw=0;Xw<v_.length;Xw++){var Zw=v_[Xw],cq=Zw.toLowerCase(),dq=Zw[0].toUpperCase()+Zw.slice(1);_d(cq,"on"+dq)}_d(NL,"onAnimationEnd");_d(EL,"onAnimationIteration");_d(_L,"onAnimationStart");_d("dblclick","onDoubleClick");_d("focusin","onFocus");_d("focusout","onBlur");_d(jL,"onTransitionEnd");Kf("onMouseEnter",["mouseout","mouseover"]);Kf("onMouseLeave",["mouseout","mouseover"]);Kf("onPointerEnter",["pointerout","pointerover"]);Kf("onPointerLeave",["pointerout","pointerover"]);oh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oh("onBeforeInput",["compositionend","keypress","textInput","paste"]);oh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uq=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wg));function y_(r,e,t){var n=r.type||"unknown-event";r.currentTarget=t,cW(n,e,void 0,r),r.currentTarget=null}function TL(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var n=r[t],s=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==a&&s.isPropagationStopped())break e;y_(s,o,d),a=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==a&&s.isPropagationStopped())break e;y_(s,o,d),a=c}}}if(Bv)throw r=j3,Bv=!1,j3=null,r}function on(r,e){var t=e[F3];t===void 0&&(t=e[F3]=new Set);var n=r+"__bubble";t.has(n)||(PL(e,r,2,!1),t.add(n))}function Jw(r,e,t){var n=0;e&&(n|=4),PL(t,r,n,e)}var Zx="_reactListening"+Math.random().toString(36).slice(2);function Bm(r){if(!r[Zx]){r[Zx]=!0,FP.forEach(function(t){t!=="selectionchange"&&(uq.has(t)||Jw(t,!1,r),Jw(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[Zx]||(e[Zx]=!0,Jw("selectionchange",!1,e))}}function PL(r,e,t,n){switch(pL(e)){case 1:var s=NW;break;case 4:s=EW;break;default:s=GS}t=s.bind(null,e,t,r),s=void 0,!_3||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?r.addEventListener(e,t,{capture:!0,passive:s}):r.addEventListener(e,t,!0):s!==void 0?r.addEventListener(e,t,{passive:s}):r.addEventListener(e,t,!1)}function Kw(r,e,t,n,s){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;o!==null;){if(i=yu(o),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}o=o.parentNode}}n=n.return}eL(function(){var d=a,u=VS(t),h=[];e:{var f=AL.get(r);if(f!==void 0){var p=ZS,g=r;switch(r){case"keypress":if(Y1(t)===0)break e;case"keydown":case"keyup":p=HW;break;case"focusin":g="focus",p=Ww;break;case"focusout":g="blur",p=Ww;break;case"beforeblur":case"afterblur":p=Ww;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=o_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=AW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=VW;break;case NL:case EL:case _L:p=LW;break;case jL:p=qW;break;case"scroll":p=_W;break;case"wheel":p=GW;break;case"copy":case"cut":case"paste":p=MW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=c_}var m=(e&4)!==0,v=!m&&r==="scroll",x=m?f!==null?f+"Capture":null:f;m=[];for(var y=d,w;y!==null;){w=y;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,x!==null&&(k=Dm(y,x),k!=null&&m.push(zm(y,k,w)))),v)break;y=y.return}0<m.length&&(f=new p(f,g,null,t,u),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=r==="mouseover"||r==="pointerover",p=r==="mouseout"||r==="pointerout",f&&t!==N3&&(g=t.relatedTarget||t.fromElement)&&(yu(g)||g[Xl]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=d,g=g?yu(g):null,g!==null&&(v=lh(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(m=o_,k="onMouseLeave",x="onMouseEnter",y="mouse",(r==="pointerout"||r==="pointerover")&&(m=c_,k="onPointerLeave",x="onPointerEnter",y="pointer"),v=p==null?f:gf(p),w=g==null?f:gf(g),f=new m(k,y+"leave",p,t,u),f.target=v,f.relatedTarget=w,k=null,yu(u)===d&&(m=new m(x,y+"enter",g,t,u),m.target=w,m.relatedTarget=v,k=m),v=k,p&&g)t:{for(m=p,x=g,y=0,w=m;w;w=Uh(w))y++;for(w=0,k=x;k;k=Uh(k))w++;for(;0<y-w;)m=Uh(m),y--;for(;0<w-y;)x=Uh(x),w--;for(;y--;){if(m===x||x!==null&&m===x.alternate)break t;m=Uh(m),x=Uh(x)}m=null}else m=null;p!==null&&b_(h,f,p,m,!1),g!==null&&v!==null&&b_(h,v,g,m,!0)}}e:{if(f=d?gf(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=tq;else if(h_(f))if(bL)S=aq;else{S=nq;var N=rq}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=sq);if(S&&(S=S(r,d))){yL(h,S,t,u);break e}N&&N(r,f,d),r==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&b3(f,"number",f.value)}switch(N=d?gf(d):window,r){case"focusin":(h_(N)||N.contentEditable==="true")&&(ff=N,L3=d,am=null);break;case"focusout":am=L3=ff=null;break;case"mousedown":D3=!0;break;case"contextmenu":case"mouseup":case"dragend":D3=!1,x_(h,t,u);break;case"selectionchange":if(lq)break;case"keydown":case"keyup":x_(h,t,u)}var A;if(KS)e:{switch(r){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else hf?xL(r,t)&&(E="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(E="onCompositionStart");E&&(mL&&t.locale!=="ko"&&(hf||E!=="onCompositionStart"?E==="onCompositionEnd"&&hf&&(A=gL()):(Vc=u,XS="value"in Vc?Vc.value:Vc.textContent,hf=!0)),N=Vv(d,E),0<N.length&&(E=new l_(E,r,null,t,u),h.push({event:E,listeners:N}),A?E.data=A:(A=vL(t),A!==null&&(E.data=A)))),(A=ZW?JW(r,t):KW(r,t))&&(d=Vv(d,"onBeforeInput"),0<d.length&&(u=new l_("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:d}),u.data=A))}TL(h,e)})}function zm(r,e,t){return{instance:r,listener:e,currentTarget:t}}function Vv(r,e){for(var t=e+"Capture",n=[];r!==null;){var s=r,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Dm(r,t),a!=null&&n.unshift(zm(r,a,s)),a=Dm(r,e),a!=null&&n.push(zm(r,a,s))),r=r.return}return n}function Uh(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function b_(r,e,t,n,s){for(var a=e._reactName,i=[];t!==null&&t!==n;){var o=t,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,s?(c=Dm(t,a),c!=null&&i.unshift(zm(t,c,o))):s||(c=Dm(t,a),c!=null&&i.push(zm(t,c,o)))),t=t.return}i.length!==0&&r.push({event:e,listeners:i})}var hq=/\r\n?/g,fq=/\u0000|\uFFFD/g;function w_(r){return(typeof r=="string"?r:""+r).replace(hq,`
`).replace(fq,"")}function Jx(r,e,t){if(e=w_(e),w_(r)!==e&&t)throw Error(lt(425))}function Wv(){}var M3=null,R3=null;function I3(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var O3=typeof setTimeout=="function"?setTimeout:void 0,pq=typeof clearTimeout=="function"?clearTimeout:void 0,k_=typeof Promise=="function"?Promise:void 0,gq=typeof queueMicrotask=="function"?queueMicrotask:typeof k_<"u"?function(r){return k_.resolve(null).then(r).catch(mq)}:O3;function mq(r){setTimeout(function(){throw r})}function Qw(r,e){var t=e,n=0;do{var s=t.nextSibling;if(r.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(n===0){r.removeChild(s),Im(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=s}while(t);Im(e)}function nd(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function C_(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var _p=Math.random().toString(36).slice(2),Jo="__reactFiber$"+_p,Hm="__reactProps$"+_p,Xl="__reactContainer$"+_p,F3="__reactEvents$"+_p,xq="__reactListeners$"+_p,vq="__reactHandles$"+_p;function yu(r){var e=r[Jo];if(e)return e;for(var t=r.parentNode;t;){if(e=t[Xl]||t[Jo]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=C_(r);r!==null;){if(t=r[Jo])return t;r=C_(r)}return e}r=t,t=r.parentNode}return null}function j0(r){return r=r[Jo]||r[Xl],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function gf(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(lt(33))}function Ub(r){return r[Hm]||null}var B3=[],mf=-1;function jd(r){return{current:r}}function un(r){0>mf||(r.current=B3[mf],B3[mf]=null,mf--)}function rn(r,e){mf++,B3[mf]=r.current,r.current=e}var xd={},ea=jd(xd),Da=jd(!1),Vu=xd;function Qf(r,e){var t=r.type.contextTypes;if(!t)return xd;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in t)s[a]=e[a];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=s),s}function Ma(r){return r=r.childContextTypes,r!=null}function qv(){un(Da),un(ea)}function S_(r,e,t){if(ea.current!==xd)throw Error(lt(168));rn(ea,e),rn(Da,t)}function LL(r,e,t){var n=r.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(lt(108,rW(r)||"Unknown",s));return kn({},t,n)}function Yv(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||xd,Vu=ea.current,rn(ea,r),rn(Da,Da.current),!0}function N_(r,e,t){var n=r.stateNode;if(!n)throw Error(lt(169));t?(r=LL(r,e,Vu),n.__reactInternalMemoizedMergedChildContext=r,un(Da),un(ea),rn(ea,r)):un(Da),rn(Da,t)}var Dl=null,$b=!1,e5=!1;function DL(r){Dl===null?Dl=[r]:Dl.push(r)}function yq(r){$b=!0,DL(r)}function Ad(){if(!e5&&Dl!==null){e5=!0;var r=0,e=Hr;try{var t=Dl;for(Hr=1;r<t.length;r++){var n=t[r];do n=n(!0);while(n!==null)}Dl=null,$b=!1}catch(s){throw Dl!==null&&(Dl=Dl.slice(r+1)),sL(WS,Ad),s}finally{Hr=e,e5=!1}}return null}var xf=[],vf=0,Gv=null,Xv=0,Oi=[],Fi=0,Wu=null,Rl=1,Il="";function Zd(r,e){xf[vf++]=Xv,xf[vf++]=Gv,Gv=r,Xv=e}function ML(r,e,t){Oi[Fi++]=Rl,Oi[Fi++]=Il,Oi[Fi++]=Wu,Wu=r;var n=Rl;r=Il;var s=32-yo(n)-1;n&=~(1<<s),t+=1;var a=32-yo(e)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Rl=1<<32-yo(e)+s|t<<s|n,Il=a+r}else Rl=1<<a|t<<s|n,Il=r}function e6(r){r.return!==null&&(Zd(r,1),ML(r,1,0))}function t6(r){for(;r===Gv;)Gv=xf[--vf],xf[vf]=null,Xv=xf[--vf],xf[vf]=null;for(;r===Wu;)Wu=Oi[--Fi],Oi[Fi]=null,Il=Oi[--Fi],Oi[Fi]=null,Rl=Oi[--Fi],Oi[Fi]=null}var si=null,ri=null,fn=!1,ho=null;function RL(r,e){var t=Hi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=r,e=r.deletions,e===null?(r.deletions=[t],r.flags|=16):e.push(t)}function E_(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,si=r,ri=nd(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,si=r,ri=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Wu!==null?{id:Rl,overflow:Il}:null,r.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Hi(18,null,null,0),t.stateNode=e,t.return=r,r.child=t,si=r,ri=null,!0):!1;default:return!1}}function z3(r){return(r.mode&1)!==0&&(r.flags&128)===0}function H3(r){if(fn){var e=ri;if(e){var t=e;if(!E_(r,e)){if(z3(r))throw Error(lt(418));e=nd(t.nextSibling);var n=si;e&&E_(r,e)?RL(n,t):(r.flags=r.flags&-4097|2,fn=!1,si=r)}}else{if(z3(r))throw Error(lt(418));r.flags=r.flags&-4097|2,fn=!1,si=r}}}function __(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;si=r}function Kx(r){if(r!==si)return!1;if(!fn)return __(r),fn=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!I3(r.type,r.memoizedProps)),e&&(e=ri)){if(z3(r))throw IL(),Error(lt(418));for(;e;)RL(r,e),e=nd(e.nextSibling)}if(__(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(lt(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){ri=nd(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}ri=null}}else ri=si?nd(r.stateNode.nextSibling):null;return!0}function IL(){for(var r=ri;r;)r=nd(r.nextSibling)}function ep(){ri=si=null,fn=!1}function r6(r){ho===null?ho=[r]:ho.push(r)}var bq=rc.ReactCurrentBatchConfig;function _g(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(lt(309));var n=t.stateNode}if(!n)throw Error(lt(147,r));var s=n,a=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(i){var o=s.refs;i===null?delete o[a]:o[a]=i},e._stringRef=a,e)}if(typeof r!="string")throw Error(lt(284));if(!t._owner)throw Error(lt(290,r))}return r}function Qx(r,e){throw r=Object.prototype.toString.call(e),Error(lt(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function j_(r){var e=r._init;return e(r._payload)}function OL(r){function e(x,y){if(r){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function t(x,y){if(!r)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=od(x,y),x.index=0,x.sibling=null,x}function a(x,y,w){return x.index=w,r?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function i(x){return r&&x.alternate===null&&(x.flags|=2),x}function o(x,y,w,k){return y===null||y.tag!==6?(y=o5(w,x.mode,k),y.return=x,y):(y=s(y,w),y.return=x,y)}function c(x,y,w,k){var S=w.type;return S===uf?u(x,y,w.props.children,k,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Pc&&j_(S)===y.type)?(k=s(y,w.props),k.ref=_g(x,y,w),k.return=x,k):(k=ev(w.type,w.key,w.props,null,x.mode,k),k.ref=_g(x,y,w),k.return=x,k)}function d(x,y,w,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=l5(w,x.mode,k),y.return=x,y):(y=s(y,w.children||[]),y.return=x,y)}function u(x,y,w,k,S){return y===null||y.tag!==7?(y=Lu(w,x.mode,k,S),y.return=x,y):(y=s(y,w),y.return=x,y)}function h(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=o5(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ux:return w=ev(y.type,y.key,y.props,null,x.mode,w),w.ref=_g(x,null,y),w.return=x,w;case df:return y=l5(y,x.mode,w),y.return=x,y;case Pc:var k=y._init;return h(x,k(y._payload),w)}if($g(y)||kg(y))return y=Lu(y,x.mode,w,null),y.return=x,y;Qx(x,y)}return null}function f(x,y,w,k){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:o(x,y,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ux:return w.key===S?c(x,y,w,k):null;case df:return w.key===S?d(x,y,w,k):null;case Pc:return S=w._init,f(x,y,S(w._payload),k)}if($g(w)||kg(w))return S!==null?null:u(x,y,w,k,null);Qx(x,w)}return null}function p(x,y,w,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(w)||null,o(y,x,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ux:return x=x.get(k.key===null?w:k.key)||null,c(y,x,k,S);case df:return x=x.get(k.key===null?w:k.key)||null,d(y,x,k,S);case Pc:var N=k._init;return p(x,y,w,N(k._payload),S)}if($g(k)||kg(k))return x=x.get(w)||null,u(y,x,k,S,null);Qx(y,k)}return null}function g(x,y,w,k){for(var S=null,N=null,A=y,E=y=0,R=null;A!==null&&E<w.length;E++){A.index>E?(R=A,A=null):R=A.sibling;var O=f(x,A,w[E],k);if(O===null){A===null&&(A=R);break}r&&A&&O.alternate===null&&e(x,A),y=a(O,y,E),N===null?S=O:N.sibling=O,N=O,A=R}if(E===w.length)return t(x,A),fn&&Zd(x,E),S;if(A===null){for(;E<w.length;E++)A=h(x,w[E],k),A!==null&&(y=a(A,y,E),N===null?S=A:N.sibling=A,N=A);return fn&&Zd(x,E),S}for(A=n(x,A);E<w.length;E++)R=p(A,x,E,w[E],k),R!==null&&(r&&R.alternate!==null&&A.delete(R.key===null?E:R.key),y=a(R,y,E),N===null?S=R:N.sibling=R,N=R);return r&&A.forEach(function(L){return e(x,L)}),fn&&Zd(x,E),S}function m(x,y,w,k){var S=kg(w);if(typeof S!="function")throw Error(lt(150));if(w=S.call(w),w==null)throw Error(lt(151));for(var N=S=null,A=y,E=y=0,R=null,O=w.next();A!==null&&!O.done;E++,O=w.next()){A.index>E?(R=A,A=null):R=A.sibling;var L=f(x,A,O.value,k);if(L===null){A===null&&(A=R);break}r&&A&&L.alternate===null&&e(x,A),y=a(L,y,E),N===null?S=L:N.sibling=L,N=L,A=R}if(O.done)return t(x,A),fn&&Zd(x,E),S;if(A===null){for(;!O.done;E++,O=w.next())O=h(x,O.value,k),O!==null&&(y=a(O,y,E),N===null?S=O:N.sibling=O,N=O);return fn&&Zd(x,E),S}for(A=n(x,A);!O.done;E++,O=w.next())O=p(A,x,E,O.value,k),O!==null&&(r&&O.alternate!==null&&A.delete(O.key===null?E:O.key),y=a(O,y,E),N===null?S=O:N.sibling=O,N=O);return r&&A.forEach(function(D){return e(x,D)}),fn&&Zd(x,E),S}function v(x,y,w,k){if(typeof w=="object"&&w!==null&&w.type===uf&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ux:e:{for(var S=w.key,N=y;N!==null;){if(N.key===S){if(S=w.type,S===uf){if(N.tag===7){t(x,N.sibling),y=s(N,w.props.children),y.return=x,x=y;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Pc&&j_(S)===N.type){t(x,N.sibling),y=s(N,w.props),y.ref=_g(x,N,w),y.return=x,x=y;break e}t(x,N);break}else e(x,N);N=N.sibling}w.type===uf?(y=Lu(w.props.children,x.mode,k,w.key),y.return=x,x=y):(k=ev(w.type,w.key,w.props,null,x.mode,k),k.ref=_g(x,y,w),k.return=x,x=k)}return i(x);case df:e:{for(N=w.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){t(x,y.sibling),y=s(y,w.children||[]),y.return=x,x=y;break e}else{t(x,y);break}else e(x,y);y=y.sibling}y=l5(w,x.mode,k),y.return=x,x=y}return i(x);case Pc:return N=w._init,v(x,y,N(w._payload),k)}if($g(w))return g(x,y,w,k);if(kg(w))return m(x,y,w,k);Qx(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(t(x,y.sibling),y=s(y,w),y.return=x,x=y):(t(x,y),y=o5(w,x.mode,k),y.return=x,x=y),i(x)):t(x,y)}return v}var tp=OL(!0),FL=OL(!1),Zv=jd(null),Jv=null,yf=null,n6=null;function s6(){n6=yf=Jv=null}function a6(r){var e=Zv.current;un(Zv),r._currentValue=e}function U3(r,e,t){for(;r!==null;){var n=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),r===t)break;r=r.return}}function Pf(r,e){Jv=r,n6=yf=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(Ta=!0),r.firstContext=null)}function Gi(r){var e=r._currentValue;if(n6!==r)if(r={context:r,memoizedValue:e,next:null},yf===null){if(Jv===null)throw Error(lt(308));yf=r,Jv.dependencies={lanes:0,firstContext:r}}else yf=yf.next=r;return e}var bu=null;function i6(r){bu===null?bu=[r]:bu.push(r)}function BL(r,e,t,n){var s=e.interleaved;return s===null?(t.next=t,i6(e)):(t.next=s.next,s.next=t),e.interleaved=t,Zl(r,n)}function Zl(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}var Lc=!1;function o6(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zL(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Hl(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function sd(r,e,t){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,kr&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Zl(r,t)}return s=n.interleaved,s===null?(e.next=e,i6(n)):(e.next=s.next,s.next=e),n.interleaved=e,Zl(r,t)}function G1(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,qS(r,t)}}function A_(r,e){var t=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var s=null,a=null;if(t=t.firstBaseUpdate,t!==null){do{var i={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};a===null?s=a=i:a=a.next=i,t=t.next}while(t!==null);a===null?s=a=e:a=a.next=e}else s=a=e;t={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function Kv(r,e,t,n){var s=r.updateQueue;Lc=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?a=d:i.next=d,i=c;var u=r.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;i=0,u=d=c=null,o=a;do{var f=o.lane,p=o.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=r,m=o;switch(f=e,p=t,m.tag){case 1:if(g=m.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=kn({},h,f);break e;case 2:Lc=!0}}o.callback!==null&&o.lane!==0&&(r.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,i|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);Yu|=i,r.lanes=i,r.memoizedState=h}}function T_(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var n=r[e],s=n.callback;if(s!==null){if(n.callback=null,n=t,typeof s!="function")throw Error(lt(191,s));s.call(n)}}}var A0={},el=jd(A0),Um=jd(A0),$m=jd(A0);function wu(r){if(r===A0)throw Error(lt(174));return r}function l6(r,e){switch(rn($m,e),rn(Um,r),rn(el,A0),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:k3(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=k3(e,r)}un(el),rn(el,e)}function rp(){un(el),un(Um),un($m)}function HL(r){wu($m.current);var e=wu(el.current),t=k3(e,r.type);e!==t&&(rn(Um,r),rn(el,t))}function c6(r){Um.current===r&&(un(el),un(Um))}var vn=jd(0);function Qv(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var t5=[];function d6(){for(var r=0;r<t5.length;r++)t5[r]._workInProgressVersionPrimary=null;t5.length=0}var X1=rc.ReactCurrentDispatcher,r5=rc.ReactCurrentBatchConfig,qu=0,wn=null,as=null,gs=null,ey=!1,im=!1,Vm=0,wq=0;function Hs(){throw Error(lt(321))}function u6(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!Co(r[t],e[t]))return!1;return!0}function h6(r,e,t,n,s,a){if(qu=a,wn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,X1.current=r===null||r.memoizedState===null?Nq:Eq,r=t(n,s),im){a=0;do{if(im=!1,Vm=0,25<=a)throw Error(lt(301));a+=1,gs=as=null,e.updateQueue=null,X1.current=_q,r=t(n,s)}while(im)}if(X1.current=ty,e=as!==null&&as.next!==null,qu=0,gs=as=wn=null,ey=!1,e)throw Error(lt(300));return r}function f6(){var r=Vm!==0;return Vm=0,r}function Vo(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gs===null?wn.memoizedState=gs=r:gs=gs.next=r,gs}function Xi(){if(as===null){var r=wn.alternate;r=r!==null?r.memoizedState:null}else r=as.next;var e=gs===null?wn.memoizedState:gs.next;if(e!==null)gs=e,as=r;else{if(r===null)throw Error(lt(310));as=r,r={memoizedState:as.memoizedState,baseState:as.baseState,baseQueue:as.baseQueue,queue:as.queue,next:null},gs===null?wn.memoizedState=gs=r:gs=gs.next=r}return gs}function Wm(r,e){return typeof e=="function"?e(r):e}function n5(r){var e=Xi(),t=e.queue;if(t===null)throw Error(lt(311));t.lastRenderedReducer=r;var n=as,s=n.baseQueue,a=t.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,t.pending=null}if(s!==null){a=s.next,n=n.baseState;var o=i=null,c=null,d=a;do{var u=d.lane;if((qu&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:r(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,i=n):c=c.next=h,wn.lanes|=u,Yu|=u}d=d.next}while(d!==null&&d!==a);c===null?i=n:c.next=o,Co(n,e.memoizedState)||(Ta=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,t.lastRenderedState=n}if(r=t.interleaved,r!==null){s=r;do a=s.lane,wn.lanes|=a,Yu|=a,s=s.next;while(s!==r)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function s5(r){var e=Xi(),t=e.queue;if(t===null)throw Error(lt(311));t.lastRenderedReducer=r;var n=t.dispatch,s=t.pending,a=e.memoizedState;if(s!==null){t.pending=null;var i=s=s.next;do a=r(a,i.action),i=i.next;while(i!==s);Co(a,e.memoizedState)||(Ta=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),t.lastRenderedState=a}return[a,n]}function UL(){}function $L(r,e){var t=wn,n=Xi(),s=e(),a=!Co(n.memoizedState,s);if(a&&(n.memoizedState=s,Ta=!0),n=n.queue,p6(qL.bind(null,t,n,r),[r]),n.getSnapshot!==e||a||gs!==null&&gs.memoizedState.tag&1){if(t.flags|=2048,qm(9,WL.bind(null,t,n,s,e),void 0,null),bs===null)throw Error(lt(349));qu&30||VL(t,e,s)}return s}function VL(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=wn.updateQueue,e===null?(e={lastEffect:null,stores:null},wn.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function WL(r,e,t,n){e.value=t,e.getSnapshot=n,YL(e)&&GL(r)}function qL(r,e,t){return t(function(){YL(e)&&GL(r)})}function YL(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!Co(r,t)}catch{return!0}}function GL(r){var e=Zl(r,1);e!==null&&bo(e,r,1,-1)}function P_(r){var e=Vo();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wm,lastRenderedState:r},e.queue=r,r=r.dispatch=Sq.bind(null,wn,r),[e.memoizedState,r]}function qm(r,e,t,n){return r={tag:r,create:e,destroy:t,deps:n,next:null},e=wn.updateQueue,e===null?(e={lastEffect:null,stores:null},wn.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(n=t.next,t.next=r,r.next=n,e.lastEffect=r)),r}function XL(){return Xi().memoizedState}function Z1(r,e,t,n){var s=Vo();wn.flags|=r,s.memoizedState=qm(1|e,t,void 0,n===void 0?null:n)}function Vb(r,e,t,n){var s=Xi();n=n===void 0?null:n;var a=void 0;if(as!==null){var i=as.memoizedState;if(a=i.destroy,n!==null&&u6(n,i.deps)){s.memoizedState=qm(e,t,a,n);return}}wn.flags|=r,s.memoizedState=qm(1|e,t,a,n)}function L_(r,e){return Z1(8390656,8,r,e)}function p6(r,e){return Vb(2048,8,r,e)}function ZL(r,e){return Vb(4,2,r,e)}function JL(r,e){return Vb(4,4,r,e)}function KL(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function QL(r,e,t){return t=t!=null?t.concat([r]):null,Vb(4,4,KL.bind(null,e,r),t)}function g6(){}function eD(r,e){var t=Xi();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&u6(e,n[1])?n[0]:(t.memoizedState=[r,e],r)}function tD(r,e){var t=Xi();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&u6(e,n[1])?n[0]:(r=r(),t.memoizedState=[r,e],r)}function rD(r,e,t){return qu&21?(Co(t,e)||(t=oL(),wn.lanes|=t,Yu|=t,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,Ta=!0),r.memoizedState=t)}function kq(r,e){var t=Hr;Hr=t!==0&&4>t?t:4,r(!0);var n=r5.transition;r5.transition={};try{r(!1),e()}finally{Hr=t,r5.transition=n}}function nD(){return Xi().memoizedState}function Cq(r,e,t){var n=id(r);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},sD(r))aD(e,t);else if(t=BL(r,e,t,n),t!==null){var s=ua();bo(t,r,n,s),iD(t,e,n)}}function Sq(r,e,t){var n=id(r),s={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(sD(r))aD(e,s);else{var a=r.alternate;if(r.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var i=e.lastRenderedState,o=a(i,t);if(s.hasEagerState=!0,s.eagerState=o,Co(o,i)){var c=e.interleaved;c===null?(s.next=s,i6(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}t=BL(r,e,s,n),t!==null&&(s=ua(),bo(t,r,n,s),iD(t,e,n))}}function sD(r){var e=r.alternate;return r===wn||e!==null&&e===wn}function aD(r,e){im=ey=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function iD(r,e,t){if(t&4194240){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,qS(r,t)}}var ty={readContext:Gi,useCallback:Hs,useContext:Hs,useEffect:Hs,useImperativeHandle:Hs,useInsertionEffect:Hs,useLayoutEffect:Hs,useMemo:Hs,useReducer:Hs,useRef:Hs,useState:Hs,useDebugValue:Hs,useDeferredValue:Hs,useTransition:Hs,useMutableSource:Hs,useSyncExternalStore:Hs,useId:Hs,unstable_isNewReconciler:!1},Nq={readContext:Gi,useCallback:function(r,e){return Vo().memoizedState=[r,e===void 0?null:e],r},useContext:Gi,useEffect:L_,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,Z1(4194308,4,KL.bind(null,e,r),t)},useLayoutEffect:function(r,e){return Z1(4194308,4,r,e)},useInsertionEffect:function(r,e){return Z1(4,2,r,e)},useMemo:function(r,e){var t=Vo();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var n=Vo();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},n.queue=r,r=r.dispatch=Cq.bind(null,wn,r),[n.memoizedState,r]},useRef:function(r){var e=Vo();return r={current:r},e.memoizedState=r},useState:P_,useDebugValue:g6,useDeferredValue:function(r){return Vo().memoizedState=r},useTransition:function(){var r=P_(!1),e=r[0];return r=kq.bind(null,r[1]),Vo().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,t){var n=wn,s=Vo();if(fn){if(t===void 0)throw Error(lt(407));t=t()}else{if(t=e(),bs===null)throw Error(lt(349));qu&30||VL(n,e,t)}s.memoizedState=t;var a={value:t,getSnapshot:e};return s.queue=a,L_(qL.bind(null,n,a,r),[r]),n.flags|=2048,qm(9,WL.bind(null,n,a,t,e),void 0,null),t},useId:function(){var r=Vo(),e=bs.identifierPrefix;if(fn){var t=Il,n=Rl;t=(n&~(1<<32-yo(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=Vm++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=wq++,e=":"+e+"r"+t.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},Eq={readContext:Gi,useCallback:eD,useContext:Gi,useEffect:p6,useImperativeHandle:QL,useInsertionEffect:ZL,useLayoutEffect:JL,useMemo:tD,useReducer:n5,useRef:XL,useState:function(){return n5(Wm)},useDebugValue:g6,useDeferredValue:function(r){var e=Xi();return rD(e,as.memoizedState,r)},useTransition:function(){var r=n5(Wm)[0],e=Xi().memoizedState;return[r,e]},useMutableSource:UL,useSyncExternalStore:$L,useId:nD,unstable_isNewReconciler:!1},_q={readContext:Gi,useCallback:eD,useContext:Gi,useEffect:p6,useImperativeHandle:QL,useInsertionEffect:ZL,useLayoutEffect:JL,useMemo:tD,useReducer:s5,useRef:XL,useState:function(){return s5(Wm)},useDebugValue:g6,useDeferredValue:function(r){var e=Xi();return as===null?e.memoizedState=r:rD(e,as.memoizedState,r)},useTransition:function(){var r=s5(Wm)[0],e=Xi().memoizedState;return[r,e]},useMutableSource:UL,useSyncExternalStore:$L,useId:nD,unstable_isNewReconciler:!1};function oo(r,e){if(r&&r.defaultProps){e=kn({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function $3(r,e,t,n){e=r.memoizedState,t=t(n,e),t=t==null?e:kn({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var Wb={isMounted:function(r){return(r=r._reactInternals)?lh(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var n=ua(),s=id(r),a=Hl(n,s);a.payload=e,t!=null&&(a.callback=t),e=sd(r,a,s),e!==null&&(bo(e,r,s,n),G1(e,r,s))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var n=ua(),s=id(r),a=Hl(n,s);a.tag=1,a.payload=e,t!=null&&(a.callback=t),e=sd(r,a,s),e!==null&&(bo(e,r,s,n),G1(e,r,s))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=ua(),n=id(r),s=Hl(t,n);s.tag=2,e!=null&&(s.callback=e),e=sd(r,s,n),e!==null&&(bo(e,r,n,t),G1(e,r,n))}};function D_(r,e,t,n,s,a,i){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,a,i):e.prototype&&e.prototype.isPureReactComponent?!Fm(t,n)||!Fm(s,a):!0}function oD(r,e,t){var n=!1,s=xd,a=e.contextType;return typeof a=="object"&&a!==null?a=Gi(a):(s=Ma(e)?Vu:ea.current,n=e.contextTypes,a=(n=n!=null)?Qf(r,s):xd),e=new e(t,a),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wb,r.stateNode=e,e._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=a),e}function M_(r,e,t,n){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==r&&Wb.enqueueReplaceState(e,e.state,null)}function V3(r,e,t,n){var s=r.stateNode;s.props=t,s.state=r.memoizedState,s.refs={},o6(r);var a=e.contextType;typeof a=="object"&&a!==null?s.context=Gi(a):(a=Ma(e)?Vu:ea.current,s.context=Qf(r,a)),s.state=r.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&($3(r,e,a,t),s.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Wb.enqueueReplaceState(s,s.state,null),Kv(r,t,s,n),s.state=r.memoizedState),typeof s.componentDidMount=="function"&&(r.flags|=4194308)}function np(r,e){try{var t="",n=e;do t+=tW(n),n=n.return;while(n);var s=t}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:r,source:e,stack:s,digest:null}}function a5(r,e,t){return{value:r,source:null,stack:t??null,digest:e??null}}function W3(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var jq=typeof WeakMap=="function"?WeakMap:Map;function lD(r,e,t){t=Hl(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){ny||(ny=!0,tk=n),W3(r,e)},t}function cD(r,e,t){t=Hl(-1,t),t.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;t.payload=function(){return n(s)},t.callback=function(){W3(r,e)}}var a=r.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){W3(r,e),typeof n!="function"&&(ad===null?ad=new Set([this]):ad.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),t}function R_(r,e,t){var n=r.pingCache;if(n===null){n=r.pingCache=new jq;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(t)||(s.add(t),r=Uq.bind(null,r,e,t),e.then(r,r))}function I_(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function O_(r,e,t,n,s){return r.mode&1?(r.flags|=65536,r.lanes=s,r):(r===e?r.flags|=65536:(r.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Hl(-1,1),e.tag=2,sd(t,e,1))),t.lanes|=1),r)}var Aq=rc.ReactCurrentOwner,Ta=!1;function la(r,e,t,n){e.child=r===null?FL(e,null,t,n):tp(e,r.child,t,n)}function F_(r,e,t,n,s){t=t.render;var a=e.ref;return Pf(e,s),n=h6(r,e,t,n,a,s),t=f6(),r!==null&&!Ta?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~s,Jl(r,e,s)):(fn&&t&&e6(e),e.flags|=1,la(r,e,n,s),e.child)}function B_(r,e,t,n,s){if(r===null){var a=t.type;return typeof a=="function"&&!C6(a)&&a.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=a,dD(r,e,a,n,s)):(r=ev(t.type,null,n,e,e.mode,s),r.ref=e.ref,r.return=e,e.child=r)}if(a=r.child,!(r.lanes&s)){var i=a.memoizedProps;if(t=t.compare,t=t!==null?t:Fm,t(i,n)&&r.ref===e.ref)return Jl(r,e,s)}return e.flags|=1,r=od(a,n),r.ref=e.ref,r.return=e,e.child=r}function dD(r,e,t,n,s){if(r!==null){var a=r.memoizedProps;if(Fm(a,n)&&r.ref===e.ref)if(Ta=!1,e.pendingProps=n=a,(r.lanes&s)!==0)r.flags&131072&&(Ta=!0);else return e.lanes=r.lanes,Jl(r,e,s)}return q3(r,e,t,n,s)}function uD(r,e,t){var n=e.pendingProps,s=n.children,a=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn(wf,ei),ei|=t;else{if(!(t&1073741824))return r=a!==null?a.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,rn(wf,ei),ei|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:t,rn(wf,ei),ei|=n}else a!==null?(n=a.baseLanes|t,e.memoizedState=null):n=t,rn(wf,ei),ei|=n;return la(r,e,s,t),e.child}function hD(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function q3(r,e,t,n,s){var a=Ma(t)?Vu:ea.current;return a=Qf(e,a),Pf(e,s),t=h6(r,e,t,n,a,s),n=f6(),r!==null&&!Ta?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~s,Jl(r,e,s)):(fn&&n&&e6(e),e.flags|=1,la(r,e,t,s),e.child)}function z_(r,e,t,n,s){if(Ma(t)){var a=!0;Yv(e)}else a=!1;if(Pf(e,s),e.stateNode===null)J1(r,e),oD(e,t,n),V3(e,t,n,s),n=!0;else if(r===null){var i=e.stateNode,o=e.memoizedProps;i.props=o;var c=i.context,d=t.contextType;typeof d=="object"&&d!==null?d=Gi(d):(d=Ma(t)?Vu:ea.current,d=Qf(e,d));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==d)&&M_(e,i,n,d),Lc=!1;var f=e.memoizedState;i.state=f,Kv(e,n,i,s),c=e.memoizedState,o!==n||f!==c||Da.current||Lc?(typeof u=="function"&&($3(e,t,u,n),c=e.memoizedState),(o=Lc||D_(e,t,o,n,f,c,d))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=d,n=o):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,zL(r,e),o=e.memoizedProps,d=e.type===e.elementType?o:oo(e.type,o),i.props=d,h=e.pendingProps,f=i.context,c=t.contextType,typeof c=="object"&&c!==null?c=Gi(c):(c=Ma(t)?Vu:ea.current,c=Qf(e,c));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==h||f!==c)&&M_(e,i,n,c),Lc=!1,f=e.memoizedState,i.state=f,Kv(e,n,i,s);var g=e.memoizedState;o!==h||f!==g||Da.current||Lc?(typeof p=="function"&&($3(e,t,p,n),g=e.memoizedState),(d=Lc||D_(e,t,d,n,f,g,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===r.memoizedProps&&f===r.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&f===r.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),i.props=n,i.state=g,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||o===r.memoizedProps&&f===r.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&f===r.memoizedState||(e.flags|=1024),n=!1)}return Y3(r,e,t,n,a,s)}function Y3(r,e,t,n,s,a){hD(r,e);var i=(e.flags&128)!==0;if(!n&&!i)return s&&N_(e,t,!1),Jl(r,e,a);n=e.stateNode,Aq.current=e;var o=i&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,r!==null&&i?(e.child=tp(e,r.child,null,a),e.child=tp(e,null,o,a)):la(r,e,o,a),e.memoizedState=n.state,s&&N_(e,t,!0),e.child}function fD(r){var e=r.stateNode;e.pendingContext?S_(r,e.pendingContext,e.pendingContext!==e.context):e.context&&S_(r,e.context,!1),l6(r,e.containerInfo)}function H_(r,e,t,n,s){return ep(),r6(s),e.flags|=256,la(r,e,t,n),e.child}var G3={dehydrated:null,treeContext:null,retryLane:0};function X3(r){return{baseLanes:r,cachePool:null,transitions:null}}function pD(r,e,t){var n=e.pendingProps,s=vn.current,a=!1,i=(e.flags&128)!==0,o;if((o=i)||(o=r!==null&&r.memoizedState===null?!1:(s&2)!==0),o?(a=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(s|=1),rn(vn,s&1),r===null)return H3(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,r=n.fallback,a?(n=e.mode,a=e.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Gb(i,n,0,null),r=Lu(r,n,t,null),a.return=e,r.return=e,a.sibling=r,e.child=a,e.child.memoizedState=X3(t),e.memoizedState=G3,r):m6(e,i));if(s=r.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Tq(r,e,i,n,o,s,t);if(a){a=n.fallback,i=e.mode,s=r.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=od(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?a=od(o,a):(a=Lu(a,i,t,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,i=r.child.memoizedState,i=i===null?X3(t):{baseLanes:i.baseLanes|t,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=r.childLanes&~t,e.memoizedState=G3,n}return a=r.child,r=a.sibling,n=od(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,r!==null&&(t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)),e.child=n,e.memoizedState=null,n}function m6(r,e){return e=Gb({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function e1(r,e,t,n){return n!==null&&r6(n),tp(e,r.child,null,t),r=m6(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function Tq(r,e,t,n,s,a,i){if(t)return e.flags&256?(e.flags&=-257,n=a5(Error(lt(422))),e1(r,e,i,n)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(a=n.fallback,s=e.mode,n=Gb({mode:"visible",children:n.children},s,0,null),a=Lu(a,s,i,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&tp(e,r.child,null,i),e.child.memoizedState=X3(i),e.memoizedState=G3,a);if(!(e.mode&1))return e1(r,e,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(lt(419)),n=a5(a,n,void 0),e1(r,e,i,n)}if(o=(i&r.childLanes)!==0,Ta||o){if(n=bs,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Zl(r,s),bo(n,r,s,-1))}return k6(),n=a5(Error(lt(421))),e1(r,e,i,n)}return s.data==="$?"?(e.flags|=128,e.child=r.child,e=$q.bind(null,r),s._reactRetry=e,null):(r=a.treeContext,ri=nd(s.nextSibling),si=e,fn=!0,ho=null,r!==null&&(Oi[Fi++]=Rl,Oi[Fi++]=Il,Oi[Fi++]=Wu,Rl=r.id,Il=r.overflow,Wu=e),e=m6(e,n.children),e.flags|=4096,e)}function U_(r,e,t){r.lanes|=e;var n=r.alternate;n!==null&&(n.lanes|=e),U3(r.return,e,t)}function i5(r,e,t,n,s){var a=r.memoizedState;a===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=t,a.tailMode=s)}function gD(r,e,t){var n=e.pendingProps,s=n.revealOrder,a=n.tail;if(la(r,e,n.children,t),n=vn.current,n&2)n=n&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&U_(r,t,e);else if(r.tag===19)U_(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(rn(vn,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)r=t.alternate,r!==null&&Qv(r)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),i5(e,!1,s,t,a);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(r=s.alternate,r!==null&&Qv(r)===null){e.child=s;break}r=s.sibling,s.sibling=t,t=s,s=r}i5(e,!0,t,null,a);break;case"together":i5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function J1(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function Jl(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),Yu|=e.lanes,!(t&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(lt(153));if(e.child!==null){for(r=e.child,t=od(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=od(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function Pq(r,e,t){switch(e.tag){case 3:fD(e),ep();break;case 5:HL(e);break;case 1:Ma(e.type)&&Yv(e);break;case 4:l6(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;rn(Zv,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(rn(vn,vn.current&1),e.flags|=128,null):t&e.child.childLanes?pD(r,e,t):(rn(vn,vn.current&1),r=Jl(r,e,t),r!==null?r.sibling:null);rn(vn,vn.current&1);break;case 19:if(n=(t&e.childLanes)!==0,r.flags&128){if(n)return gD(r,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),rn(vn,vn.current),n)break;return null;case 22:case 23:return e.lanes=0,uD(r,e,t)}return Jl(r,e,t)}var mD,Z3,xD,vD;mD=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Z3=function(){};xD=function(r,e,t,n){var s=r.memoizedProps;if(s!==n){r=e.stateNode,wu(el.current);var a=null;switch(t){case"input":s=v3(r,s),n=v3(r,n),a=[];break;case"select":s=kn({},s,{value:void 0}),n=kn({},n,{value:void 0}),a=[];break;case"textarea":s=w3(r,s),n=w3(r,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=Wv)}C3(t,n);var i;t=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var o=s[d];for(i in o)o.hasOwnProperty(i)&&(t||(t={}),t[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Pm.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(o=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(t||(t={}),t[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(t||(t={}),t[i]=c[i])}else t||(a||(a=[]),a.push(d,t)),t=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Pm.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&on("scroll",r),a||o===c||(a=[])):(a=a||[]).push(d,c))}t&&(a=a||[]).push("style",t);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};vD=function(r,e,t,n){t!==n&&(e.flags|=4)};function jg(r,e){if(!fn)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function Us(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,n=0;if(e)for(var s=r.child;s!==null;)t|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=r,s=s.sibling;else for(s=r.child;s!==null;)t|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=r,s=s.sibling;return r.subtreeFlags|=n,r.childLanes=t,e}function Lq(r,e,t){var n=e.pendingProps;switch(t6(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Us(e),null;case 1:return Ma(e.type)&&qv(),Us(e),null;case 3:return n=e.stateNode,rp(),un(Da),un(ea),d6(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(Kx(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ho!==null&&(sk(ho),ho=null))),Z3(r,e),Us(e),null;case 5:c6(e);var s=wu($m.current);if(t=e.type,r!==null&&e.stateNode!=null)xD(r,e,t,n,s),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(lt(166));return Us(e),null}if(r=wu(el.current),Kx(e)){n=e.stateNode,t=e.type;var a=e.memoizedProps;switch(n[Jo]=e,n[Hm]=a,r=(e.mode&1)!==0,t){case"dialog":on("cancel",n),on("close",n);break;case"iframe":case"object":case"embed":on("load",n);break;case"video":case"audio":for(s=0;s<Wg.length;s++)on(Wg[s],n);break;case"source":on("error",n);break;case"img":case"image":case"link":on("error",n),on("load",n);break;case"details":on("toggle",n);break;case"input":J8(n,a),on("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},on("invalid",n);break;case"textarea":Q8(n,a),on("invalid",n)}C3(t,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Jx(n.textContent,o,r),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Jx(n.textContent,o,r),s=["children",""+o]):Pm.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&on("scroll",n)}switch(t){case"input":$x(n),K8(n,a,!0);break;case"textarea":$x(n),e_(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Wv)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=qP(t)),r==="http://www.w3.org/1999/xhtml"?t==="script"?(r=i.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=i.createElement(t,{is:n.is}):(r=i.createElement(t),t==="select"&&(i=r,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):r=i.createElementNS(r,t),r[Jo]=e,r[Hm]=n,mD(r,e,!1,!1),e.stateNode=r;e:{switch(i=S3(t,n),t){case"dialog":on("cancel",r),on("close",r),s=n;break;case"iframe":case"object":case"embed":on("load",r),s=n;break;case"video":case"audio":for(s=0;s<Wg.length;s++)on(Wg[s],r);s=n;break;case"source":on("error",r),s=n;break;case"img":case"image":case"link":on("error",r),on("load",r),s=n;break;case"details":on("toggle",r),s=n;break;case"input":J8(r,n),s=v3(r,n),on("invalid",r);break;case"option":s=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},s=kn({},n,{value:void 0}),on("invalid",r);break;case"textarea":Q8(r,n),s=w3(r,n),on("invalid",r);break;default:s=n}C3(t,s),o=s;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?XP(r,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&YP(r,c)):a==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Lm(r,c):typeof c=="number"&&Lm(r,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Pm.hasOwnProperty(a)?c!=null&&a==="onScroll"&&on("scroll",r):c!=null&&zS(r,a,c,i))}switch(t){case"input":$x(r),K8(r,n,!1);break;case"textarea":$x(r),e_(r);break;case"option":n.value!=null&&r.setAttribute("value",""+md(n.value));break;case"select":r.multiple=!!n.multiple,a=n.value,a!=null?_f(r,!!n.multiple,a,!1):n.defaultValue!=null&&_f(r,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(r.onclick=Wv)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Us(e),null;case 6:if(r&&e.stateNode!=null)vD(r,e,r.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(lt(166));if(t=wu($m.current),wu(el.current),Kx(e)){if(n=e.stateNode,t=e.memoizedProps,n[Jo]=e,(a=n.nodeValue!==t)&&(r=si,r!==null))switch(r.tag){case 3:Jx(n.nodeValue,t,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Jx(n.nodeValue,t,(r.mode&1)!==0)}a&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[Jo]=e,e.stateNode=n}return Us(e),null;case 13:if(un(vn),n=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(fn&&ri!==null&&e.mode&1&&!(e.flags&128))IL(),ep(),e.flags|=98560,a=!1;else if(a=Kx(e),n!==null&&n.dehydrated!==null){if(r===null){if(!a)throw Error(lt(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(lt(317));a[Jo]=e}else ep(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Us(e),a=!1}else ho!==null&&(sk(ho),ho=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(r===null||vn.current&1?ls===0&&(ls=3):k6())),e.updateQueue!==null&&(e.flags|=4),Us(e),null);case 4:return rp(),Z3(r,e),r===null&&Bm(e.stateNode.containerInfo),Us(e),null;case 10:return a6(e.type._context),Us(e),null;case 17:return Ma(e.type)&&qv(),Us(e),null;case 19:if(un(vn),a=e.memoizedState,a===null)return Us(e),null;if(n=(e.flags&128)!==0,i=a.rendering,i===null)if(n)jg(a,!1);else{if(ls!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(i=Qv(r),i!==null){for(e.flags|=128,jg(a,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)a=t,r=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=r,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return rn(vn,vn.current&1|2),e.child}r=r.sibling}a.tail!==null&&On()>sp&&(e.flags|=128,n=!0,jg(a,!1),e.lanes=4194304)}else{if(!n)if(r=Qv(i),r!==null){if(e.flags|=128,n=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),jg(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!fn)return Us(e),null}else 2*On()-a.renderingStartTime>sp&&t!==1073741824&&(e.flags|=128,n=!0,jg(a,!1),e.lanes=4194304);a.isBackwards?(i.sibling=e.child,e.child=i):(t=a.last,t!==null?t.sibling=i:e.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=On(),e.sibling=null,t=vn.current,rn(vn,n?t&1|2:t&1),e):(Us(e),null);case 22:case 23:return w6(),n=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ei&1073741824&&(Us(e),e.subtreeFlags&6&&(e.flags|=8192)):Us(e),null;case 24:return null;case 25:return null}throw Error(lt(156,e.tag))}function Dq(r,e){switch(t6(e),e.tag){case 1:return Ma(e.type)&&qv(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return rp(),un(Da),un(ea),d6(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return c6(e),null;case 13:if(un(vn),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(lt(340));ep()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return un(vn),null;case 4:return rp(),null;case 10:return a6(e.type._context),null;case 22:case 23:return w6(),null;case 24:return null;default:return null}}var t1=!1,Xs=!1,Mq=typeof WeakSet=="function"?WeakSet:Set,At=null;function bf(r,e){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){jn(r,e,n)}else t.current=null}function J3(r,e,t){try{t()}catch(n){jn(r,e,n)}}var $_=!1;function Rq(r,e){if(M3=Uv,r=CL(),QS(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else e:{t=(t=r.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{t.nodeType,a.nodeType}catch{t=null;break e}var i=0,o=-1,c=-1,d=0,u=0,h=r,f=null;t:for(;;){for(var p;h!==t||s!==0&&h.nodeType!==3||(o=i+s),h!==a||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===r)break t;if(f===t&&++d===s&&(o=i),f===a&&++u===n&&(c=i),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=o===-1||c===-1?null:{start:o,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(R3={focusedElem:r,selectionRange:t},Uv=!1,At=e;At!==null;)if(e=At,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,At=r;else for(;At!==null;){e=At;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?m:oo(e.type,m),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(lt(163))}}catch(k){jn(e,e.return,k)}if(r=e.sibling,r!==null){r.return=e.return,At=r;break}At=e.return}return g=$_,$_=!1,g}function om(r,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&r)===r){var a=s.destroy;s.destroy=void 0,a!==void 0&&J3(e,t,a)}s=s.next}while(s!==n)}}function qb(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&r)===r){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function K3(r){var e=r.ref;if(e!==null){var t=r.stateNode;switch(r.tag){case 5:r=t;break;default:r=t}typeof e=="function"?e(r):e.current=r}}function yD(r){var e=r.alternate;e!==null&&(r.alternate=null,yD(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[Jo],delete e[Hm],delete e[F3],delete e[xq],delete e[vq])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function bD(r){return r.tag===5||r.tag===3||r.tag===4}function V_(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||bD(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Q3(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Wv));else if(n!==4&&(r=r.child,r!==null))for(Q3(r,e,t),r=r.sibling;r!==null;)Q3(r,e,t),r=r.sibling}function ek(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(ek(r,e,t),r=r.sibling;r!==null;)ek(r,e,t),r=r.sibling}var Ts=null,co=!1;function kc(r,e,t){for(t=t.child;t!==null;)wD(r,e,t),t=t.sibling}function wD(r,e,t){if(Qo&&typeof Qo.onCommitFiberUnmount=="function")try{Qo.onCommitFiberUnmount(Fb,t)}catch{}switch(t.tag){case 5:Xs||bf(t,e);case 6:var n=Ts,s=co;Ts=null,kc(r,e,t),Ts=n,co=s,Ts!==null&&(co?(r=Ts,t=t.stateNode,r.nodeType===8?r.parentNode.removeChild(t):r.removeChild(t)):Ts.removeChild(t.stateNode));break;case 18:Ts!==null&&(co?(r=Ts,t=t.stateNode,r.nodeType===8?Qw(r.parentNode,t):r.nodeType===1&&Qw(r,t),Im(r)):Qw(Ts,t.stateNode));break;case 4:n=Ts,s=co,Ts=t.stateNode.containerInfo,co=!0,kc(r,e,t),Ts=n,co=s;break;case 0:case 11:case 14:case 15:if(!Xs&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&J3(t,e,i),s=s.next}while(s!==n)}kc(r,e,t);break;case 1:if(!Xs&&(bf(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(o){jn(t,e,o)}kc(r,e,t);break;case 21:kc(r,e,t);break;case 22:t.mode&1?(Xs=(n=Xs)||t.memoizedState!==null,kc(r,e,t),Xs=n):kc(r,e,t);break;default:kc(r,e,t)}}function W_(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new Mq),e.forEach(function(n){var s=Vq.bind(null,r,n);t.has(n)||(t.add(n),n.then(s,s))})}}function no(r,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];try{var a=r,i=e,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ts=o.stateNode,co=!1;break e;case 3:Ts=o.stateNode.containerInfo,co=!0;break e;case 4:Ts=o.stateNode.containerInfo,co=!0;break e}o=o.return}if(Ts===null)throw Error(lt(160));wD(a,i,s),Ts=null,co=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){jn(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kD(e,r),e=e.sibling}function kD(r,e){var t=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(no(e,r),zo(r),n&4){try{om(3,r,r.return),qb(3,r)}catch(m){jn(r,r.return,m)}try{om(5,r,r.return)}catch(m){jn(r,r.return,m)}}break;case 1:no(e,r),zo(r),n&512&&t!==null&&bf(t,t.return);break;case 5:if(no(e,r),zo(r),n&512&&t!==null&&bf(t,t.return),r.flags&32){var s=r.stateNode;try{Lm(s,"")}catch(m){jn(r,r.return,m)}}if(n&4&&(s=r.stateNode,s!=null)){var a=r.memoizedProps,i=t!==null?t.memoizedProps:a,o=r.type,c=r.updateQueue;if(r.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&VP(s,a),S3(o,i);var d=S3(o,a);for(i=0;i<c.length;i+=2){var u=c[i],h=c[i+1];u==="style"?XP(s,h):u==="dangerouslySetInnerHTML"?YP(s,h):u==="children"?Lm(s,h):zS(s,u,h,d)}switch(o){case"input":y3(s,a);break;case"textarea":WP(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?_f(s,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?_f(s,!!a.multiple,a.defaultValue,!0):_f(s,!!a.multiple,a.multiple?[]:"",!1))}s[Hm]=a}catch(m){jn(r,r.return,m)}}break;case 6:if(no(e,r),zo(r),n&4){if(r.stateNode===null)throw Error(lt(162));s=r.stateNode,a=r.memoizedProps;try{s.nodeValue=a}catch(m){jn(r,r.return,m)}}break;case 3:if(no(e,r),zo(r),n&4&&t!==null&&t.memoizedState.isDehydrated)try{Im(e.containerInfo)}catch(m){jn(r,r.return,m)}break;case 4:no(e,r),zo(r);break;case 13:no(e,r),zo(r),s=r.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(y6=On())),n&4&&W_(r);break;case 22:if(u=t!==null&&t.memoizedState!==null,r.mode&1?(Xs=(d=Xs)||u,no(e,r),Xs=d):no(e,r),zo(r),n&8192){if(d=r.memoizedState!==null,(r.stateNode.isHidden=d)&&!u&&r.mode&1)for(At=r,u=r.child;u!==null;){for(h=At=u;At!==null;){switch(f=At,p=f.child,f.tag){case 0:case 11:case 14:case 15:om(4,f,f.return);break;case 1:bf(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,t=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){jn(n,t,m)}}break;case 5:bf(f,f.return);break;case 22:if(f.memoizedState!==null){Y_(h);continue}}p!==null?(p.return=f,At=p):Y_(h)}u=u.sibling}e:for(u=null,h=r;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=GP("display",i))}catch(m){jn(r,r.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(m){jn(r,r.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===r)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:no(e,r),zo(r),n&4&&W_(r);break;case 21:break;default:no(e,r),zo(r)}}function zo(r){var e=r.flags;if(e&2){try{e:{for(var t=r.return;t!==null;){if(bD(t)){var n=t;break e}t=t.return}throw Error(lt(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Lm(s,""),n.flags&=-33);var a=V_(r);ek(r,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,o=V_(r);Q3(r,o,i);break;default:throw Error(lt(161))}}catch(c){jn(r,r.return,c)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function Iq(r,e,t){At=r,CD(r)}function CD(r,e,t){for(var n=(r.mode&1)!==0;At!==null;){var s=At,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||t1;if(!i){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Xs;o=t1;var d=Xs;if(t1=i,(Xs=c)&&!d)for(At=s;At!==null;)i=At,c=i.child,i.tag===22&&i.memoizedState!==null?G_(s):c!==null?(c.return=i,At=c):G_(s);for(;a!==null;)At=a,CD(a),a=a.sibling;At=s,t1=o,Xs=d}q_(r)}else s.subtreeFlags&8772&&a!==null?(a.return=s,At=a):q_(r)}}function q_(r){for(;At!==null;){var e=At;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xs||qb(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Xs)if(t===null)n.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:oo(e.type,t.memoizedProps);n.componentDidUpdate(s,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&T_(e,a,n);break;case 3:var i=e.updateQueue;if(i!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}T_(e,i,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Im(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(lt(163))}Xs||e.flags&512&&K3(e)}catch(f){jn(e,e.return,f)}}if(e===r){At=null;break}if(t=e.sibling,t!==null){t.return=e.return,At=t;break}At=e.return}}function Y_(r){for(;At!==null;){var e=At;if(e===r){At=null;break}var t=e.sibling;if(t!==null){t.return=e.return,At=t;break}At=e.return}}function G_(r){for(;At!==null;){var e=At;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{qb(4,e)}catch(c){jn(e,t,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){jn(e,s,c)}}var a=e.return;try{K3(e)}catch(c){jn(e,a,c)}break;case 5:var i=e.return;try{K3(e)}catch(c){jn(e,i,c)}}}catch(c){jn(e,e.return,c)}if(e===r){At=null;break}var o=e.sibling;if(o!==null){o.return=e.return,At=o;break}At=e.return}}var Oq=Math.ceil,ry=rc.ReactCurrentDispatcher,x6=rc.ReactCurrentOwner,Vi=rc.ReactCurrentBatchConfig,kr=0,bs=null,Zn=null,Is=0,ei=0,wf=jd(0),ls=0,Ym=null,Yu=0,Yb=0,v6=0,lm=null,_a=null,y6=0,sp=1/0,Tl=null,ny=!1,tk=null,ad=null,r1=!1,Wc=null,sy=0,cm=0,rk=null,K1=-1,Q1=0;function ua(){return kr&6?On():K1!==-1?K1:K1=On()}function id(r){return r.mode&1?kr&2&&Is!==0?Is&-Is:bq.transition!==null?(Q1===0&&(Q1=oL()),Q1):(r=Hr,r!==0||(r=window.event,r=r===void 0?16:pL(r.type)),r):1}function bo(r,e,t,n){if(50<cm)throw cm=0,rk=null,Error(lt(185));E0(r,t,n),(!(kr&2)||r!==bs)&&(r===bs&&(!(kr&2)&&(Yb|=t),ls===4&&Bc(r,Is)),Ra(r,n),t===1&&kr===0&&!(e.mode&1)&&(sp=On()+500,$b&&Ad()))}function Ra(r,e){var t=r.callbackNode;bW(r,e);var n=Hv(r,r===bs?Is:0);if(n===0)t!==null&&n_(t),r.callbackNode=null,r.callbackPriority=0;else if(e=n&-n,r.callbackPriority!==e){if(t!=null&&n_(t),e===1)r.tag===0?yq(X_.bind(null,r)):DL(X_.bind(null,r)),gq(function(){!(kr&6)&&Ad()}),t=null;else{switch(lL(n)){case 1:t=WS;break;case 4:t=aL;break;case 16:t=zv;break;case 536870912:t=iL;break;default:t=zv}t=PD(t,SD.bind(null,r))}r.callbackPriority=e,r.callbackNode=t}}function SD(r,e){if(K1=-1,Q1=0,kr&6)throw Error(lt(327));var t=r.callbackNode;if(Lf()&&r.callbackNode!==t)return null;var n=Hv(r,r===bs?Is:0);if(n===0)return null;if(n&30||n&r.expiredLanes||e)e=ay(r,n);else{e=n;var s=kr;kr|=2;var a=ED();(bs!==r||Is!==e)&&(Tl=null,sp=On()+500,Pu(r,e));do try{zq();break}catch(o){ND(r,o)}while(!0);s6(),ry.current=a,kr=s,Zn!==null?e=0:(bs=null,Is=0,e=ls)}if(e!==0){if(e===2&&(s=A3(r),s!==0&&(n=s,e=nk(r,s))),e===1)throw t=Ym,Pu(r,0),Bc(r,n),Ra(r,On()),t;if(e===6)Bc(r,n);else{if(s=r.current.alternate,!(n&30)&&!Fq(s)&&(e=ay(r,n),e===2&&(a=A3(r),a!==0&&(n=a,e=nk(r,a))),e===1))throw t=Ym,Pu(r,0),Bc(r,n),Ra(r,On()),t;switch(r.finishedWork=s,r.finishedLanes=n,e){case 0:case 1:throw Error(lt(345));case 2:Jd(r,_a,Tl);break;case 3:if(Bc(r,n),(n&130023424)===n&&(e=y6+500-On(),10<e)){if(Hv(r,0)!==0)break;if(s=r.suspendedLanes,(s&n)!==n){ua(),r.pingedLanes|=r.suspendedLanes&s;break}r.timeoutHandle=O3(Jd.bind(null,r,_a,Tl),e);break}Jd(r,_a,Tl);break;case 4:if(Bc(r,n),(n&4194240)===n)break;for(e=r.eventTimes,s=-1;0<n;){var i=31-yo(n);a=1<<i,i=e[i],i>s&&(s=i),n&=~a}if(n=s,n=On()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Oq(n/1960))-n,10<n){r.timeoutHandle=O3(Jd.bind(null,r,_a,Tl),n);break}Jd(r,_a,Tl);break;case 5:Jd(r,_a,Tl);break;default:throw Error(lt(329))}}}return Ra(r,On()),r.callbackNode===t?SD.bind(null,r):null}function nk(r,e){var t=lm;return r.current.memoizedState.isDehydrated&&(Pu(r,e).flags|=256),r=ay(r,e),r!==2&&(e=_a,_a=t,e!==null&&sk(e)),r}function sk(r){_a===null?_a=r:_a.push.apply(_a,r)}function Fq(r){for(var e=r;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var s=t[n],a=s.getSnapshot;s=s.value;try{if(!Co(a(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bc(r,e){for(e&=~v6,e&=~Yb,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-yo(e),n=1<<t;r[t]=-1,e&=~n}}function X_(r){if(kr&6)throw Error(lt(327));Lf();var e=Hv(r,0);if(!(e&1))return Ra(r,On()),null;var t=ay(r,e);if(r.tag!==0&&t===2){var n=A3(r);n!==0&&(e=n,t=nk(r,n))}if(t===1)throw t=Ym,Pu(r,0),Bc(r,e),Ra(r,On()),t;if(t===6)throw Error(lt(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,Jd(r,_a,Tl),Ra(r,On()),null}function b6(r,e){var t=kr;kr|=1;try{return r(e)}finally{kr=t,kr===0&&(sp=On()+500,$b&&Ad())}}function Gu(r){Wc!==null&&Wc.tag===0&&!(kr&6)&&Lf();var e=kr;kr|=1;var t=Vi.transition,n=Hr;try{if(Vi.transition=null,Hr=1,r)return r()}finally{Hr=n,Vi.transition=t,kr=e,!(kr&6)&&Ad()}}function w6(){ei=wf.current,un(wf)}function Pu(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,pq(t)),Zn!==null)for(t=Zn.return;t!==null;){var n=t;switch(t6(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qv();break;case 3:rp(),un(Da),un(ea),d6();break;case 5:c6(n);break;case 4:rp();break;case 13:un(vn);break;case 19:un(vn);break;case 10:a6(n.type._context);break;case 22:case 23:w6()}t=t.return}if(bs=r,Zn=r=od(r.current,null),Is=ei=e,ls=0,Ym=null,v6=Yb=Yu=0,_a=lm=null,bu!==null){for(e=0;e<bu.length;e++)if(t=bu[e],n=t.interleaved,n!==null){t.interleaved=null;var s=n.next,a=t.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}t.pending=n}bu=null}return r}function ND(r,e){do{var t=Zn;try{if(s6(),X1.current=ty,ey){for(var n=wn.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ey=!1}if(qu=0,gs=as=wn=null,im=!1,Vm=0,x6.current=null,t===null||t.return===null){ls=1,Ym=e,Zn=null;break}e:{var a=r,i=t.return,o=t,c=e;if(e=Is,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=I_(i);if(p!==null){p.flags&=-257,O_(p,i,o,a,e),p.mode&1&&R_(a,d,e),e=p,c=d;var g=e.updateQueue;if(g===null){var m=new Set;m.add(c),e.updateQueue=m}else g.add(c);break e}else{if(!(e&1)){R_(a,d,e),k6();break e}c=Error(lt(426))}}else if(fn&&o.mode&1){var v=I_(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),O_(v,i,o,a,e),r6(np(c,o));break e}}a=c=np(c,o),ls!==4&&(ls=2),lm===null?lm=[a]:lm.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=lD(a,c,e);A_(a,x);break e;case 1:o=c;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ad===null||!ad.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=cD(a,o,e);A_(a,k);break e}}a=a.return}while(a!==null)}jD(t)}catch(S){e=S,Zn===t&&t!==null&&(Zn=t=t.return);continue}break}while(!0)}function ED(){var r=ry.current;return ry.current=ty,r===null?ty:r}function k6(){(ls===0||ls===3||ls===2)&&(ls=4),bs===null||!(Yu&268435455)&&!(Yb&268435455)||Bc(bs,Is)}function ay(r,e){var t=kr;kr|=2;var n=ED();(bs!==r||Is!==e)&&(Tl=null,Pu(r,e));do try{Bq();break}catch(s){ND(r,s)}while(!0);if(s6(),kr=t,ry.current=n,Zn!==null)throw Error(lt(261));return bs=null,Is=0,ls}function Bq(){for(;Zn!==null;)_D(Zn)}function zq(){for(;Zn!==null&&!uW();)_D(Zn)}function _D(r){var e=TD(r.alternate,r,ei);r.memoizedProps=r.pendingProps,e===null?jD(r):Zn=e,x6.current=null}function jD(r){var e=r;do{var t=e.alternate;if(r=e.return,e.flags&32768){if(t=Dq(t,e),t!==null){t.flags&=32767,Zn=t;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{ls=6,Zn=null;return}}else if(t=Lq(t,e,ei),t!==null){Zn=t;return}if(e=e.sibling,e!==null){Zn=e;return}Zn=e=r}while(e!==null);ls===0&&(ls=5)}function Jd(r,e,t){var n=Hr,s=Vi.transition;try{Vi.transition=null,Hr=1,Hq(r,e,t,n)}finally{Vi.transition=s,Hr=n}return null}function Hq(r,e,t,n){do Lf();while(Wc!==null);if(kr&6)throw Error(lt(327));t=r.finishedWork;var s=r.finishedLanes;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(lt(177));r.callbackNode=null,r.callbackPriority=0;var a=t.lanes|t.childLanes;if(wW(r,a),r===bs&&(Zn=bs=null,Is=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||r1||(r1=!0,PD(zv,function(){return Lf(),null})),a=(t.flags&15990)!==0,t.subtreeFlags&15990||a){a=Vi.transition,Vi.transition=null;var i=Hr;Hr=1;var o=kr;kr|=4,x6.current=null,Rq(r,t),kD(t,r),oq(R3),Uv=!!M3,R3=M3=null,r.current=t,Iq(t),hW(),kr=o,Hr=i,Vi.transition=a}else r.current=t;if(r1&&(r1=!1,Wc=r,sy=s),a=r.pendingLanes,a===0&&(ad=null),gW(t.stateNode),Ra(r,On()),e!==null)for(n=r.onRecoverableError,t=0;t<e.length;t++)s=e[t],n(s.value,{componentStack:s.stack,digest:s.digest});if(ny)throw ny=!1,r=tk,tk=null,r;return sy&1&&r.tag!==0&&Lf(),a=r.pendingLanes,a&1?r===rk?cm++:(cm=0,rk=r):cm=0,Ad(),null}function Lf(){if(Wc!==null){var r=lL(sy),e=Vi.transition,t=Hr;try{if(Vi.transition=null,Hr=16>r?16:r,Wc===null)var n=!1;else{if(r=Wc,Wc=null,sy=0,kr&6)throw Error(lt(331));var s=kr;for(kr|=4,At=r.current;At!==null;){var a=At,i=a.child;if(At.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(At=d;At!==null;){var u=At;switch(u.tag){case 0:case 11:case 15:om(8,u,a)}var h=u.child;if(h!==null)h.return=u,At=h;else for(;At!==null;){u=At;var f=u.sibling,p=u.return;if(yD(u),u===d){At=null;break}if(f!==null){f.return=p,At=f;break}At=p}}}var g=a.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}At=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,At=i;else e:for(;At!==null;){if(a=At,a.flags&2048)switch(a.tag){case 0:case 11:case 15:om(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,At=x;break e}At=a.return}}var y=r.current;for(At=y;At!==null;){i=At;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,At=w;else e:for(i=y;At!==null;){if(o=At,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:qb(9,o)}}catch(S){jn(o,o.return,S)}if(o===i){At=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,At=k;break e}At=o.return}}if(kr=s,Ad(),Qo&&typeof Qo.onPostCommitFiberRoot=="function")try{Qo.onPostCommitFiberRoot(Fb,r)}catch{}n=!0}return n}finally{Hr=t,Vi.transition=e}}return!1}function Z_(r,e,t){e=np(t,e),e=lD(r,e,1),r=sd(r,e,1),e=ua(),r!==null&&(E0(r,1,e),Ra(r,e))}function jn(r,e,t){if(r.tag===3)Z_(r,r,t);else for(;e!==null;){if(e.tag===3){Z_(e,r,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ad===null||!ad.has(n))){r=np(t,r),r=cD(e,r,1),e=sd(e,r,1),r=ua(),e!==null&&(E0(e,1,r),Ra(e,r));break}}e=e.return}}function Uq(r,e,t){var n=r.pingCache;n!==null&&n.delete(e),e=ua(),r.pingedLanes|=r.suspendedLanes&t,bs===r&&(Is&t)===t&&(ls===4||ls===3&&(Is&130023424)===Is&&500>On()-y6?Pu(r,0):v6|=t),Ra(r,e)}function AD(r,e){e===0&&(r.mode&1?(e=qx,qx<<=1,!(qx&130023424)&&(qx=4194304)):e=1);var t=ua();r=Zl(r,e),r!==null&&(E0(r,e,t),Ra(r,t))}function $q(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),AD(r,t)}function Vq(r,e){var t=0;switch(r.tag){case 13:var n=r.stateNode,s=r.memoizedState;s!==null&&(t=s.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(lt(314))}n!==null&&n.delete(e),AD(r,t)}var TD;TD=function(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps||Da.current)Ta=!0;else{if(!(r.lanes&t)&&!(e.flags&128))return Ta=!1,Pq(r,e,t);Ta=!!(r.flags&131072)}else Ta=!1,fn&&e.flags&1048576&&ML(e,Xv,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;J1(r,e),r=e.pendingProps;var s=Qf(e,ea.current);Pf(e,t),s=h6(null,e,n,r,s,t);var a=f6();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ma(n)?(a=!0,Yv(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,o6(e),s.updater=Wb,e.stateNode=s,s._reactInternals=e,V3(e,n,r,t),e=Y3(null,e,n,!0,a,t)):(e.tag=0,fn&&a&&e6(e),la(null,e,s,t),e=e.child),e;case 16:n=e.elementType;e:{switch(J1(r,e),r=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=qq(n),r=oo(n,r),s){case 0:e=q3(null,e,n,r,t);break e;case 1:e=z_(null,e,n,r,t);break e;case 11:e=F_(null,e,n,r,t);break e;case 14:e=B_(null,e,n,oo(n.type,r),t);break e}throw Error(lt(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:oo(n,s),q3(r,e,n,s,t);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:oo(n,s),z_(r,e,n,s,t);case 3:e:{if(fD(e),r===null)throw Error(lt(387));n=e.pendingProps,a=e.memoizedState,s=a.element,zL(r,e),Kv(e,n,null,t);var i=e.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=np(Error(lt(423)),e),e=H_(r,e,n,t,s);break e}else if(n!==s){s=np(Error(lt(424)),e),e=H_(r,e,n,t,s);break e}else for(ri=nd(e.stateNode.containerInfo.firstChild),si=e,fn=!0,ho=null,t=FL(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(ep(),n===s){e=Jl(r,e,t);break e}la(r,e,n,t)}e=e.child}return e;case 5:return HL(e),r===null&&H3(e),n=e.type,s=e.pendingProps,a=r!==null?r.memoizedProps:null,i=s.children,I3(n,s)?i=null:a!==null&&I3(n,a)&&(e.flags|=32),hD(r,e),la(r,e,i,t),e.child;case 6:return r===null&&H3(e),null;case 13:return pD(r,e,t);case 4:return l6(e,e.stateNode.containerInfo),n=e.pendingProps,r===null?e.child=tp(e,null,n,t):la(r,e,n,t),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:oo(n,s),F_(r,e,n,s,t);case 7:return la(r,e,e.pendingProps,t),e.child;case 8:return la(r,e,e.pendingProps.children,t),e.child;case 12:return la(r,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,a=e.memoizedProps,i=s.value,rn(Zv,n._currentValue),n._currentValue=i,a!==null)if(Co(a.value,i)){if(a.children===s.children&&!Da.current){e=Jl(r,e,t);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Hl(-1,t&-t),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=t,c=a.alternate,c!==null&&(c.lanes|=t),U3(a.return,t,e),o.lanes|=t;break}c=c.next}}else if(a.tag===10)i=a.type===e.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(lt(341));i.lanes|=t,o=i.alternate,o!==null&&(o.lanes|=t),U3(i,t,e),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===e){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}la(r,e,s.children,t),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Pf(e,t),s=Gi(s),n=n(s),e.flags|=1,la(r,e,n,t),e.child;case 14:return n=e.type,s=oo(n,e.pendingProps),s=oo(n.type,s),B_(r,e,n,s,t);case 15:return dD(r,e,e.type,e.pendingProps,t);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:oo(n,s),J1(r,e),e.tag=1,Ma(n)?(r=!0,Yv(e)):r=!1,Pf(e,t),oD(e,n,s),V3(e,n,s,t),Y3(null,e,n,!0,r,t);case 19:return gD(r,e,t);case 22:return uD(r,e,t)}throw Error(lt(156,e.tag))};function PD(r,e){return sL(r,e)}function Wq(r,e,t,n){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(r,e,t,n){return new Wq(r,e,t,n)}function C6(r){return r=r.prototype,!(!r||!r.isReactComponent)}function qq(r){if(typeof r=="function")return C6(r)?1:0;if(r!=null){if(r=r.$$typeof,r===US)return 11;if(r===$S)return 14}return 2}function od(r,e){var t=r.alternate;return t===null?(t=Hi(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&14680064,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function ev(r,e,t,n,s,a){var i=2;if(n=r,typeof r=="function")C6(r)&&(i=1);else if(typeof r=="string")i=5;else e:switch(r){case uf:return Lu(t.children,s,a,e);case HS:i=8,s|=8;break;case p3:return r=Hi(12,t,e,s|2),r.elementType=p3,r.lanes=a,r;case g3:return r=Hi(13,t,e,s),r.elementType=g3,r.lanes=a,r;case m3:return r=Hi(19,t,e,s),r.elementType=m3,r.lanes=a,r;case HP:return Gb(t,s,a,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case BP:i=10;break e;case zP:i=9;break e;case US:i=11;break e;case $S:i=14;break e;case Pc:i=16,n=null;break e}throw Error(lt(130,r==null?r:typeof r,""))}return e=Hi(i,t,e,s),e.elementType=r,e.type=n,e.lanes=a,e}function Lu(r,e,t,n){return r=Hi(7,r,n,e),r.lanes=t,r}function Gb(r,e,t,n){return r=Hi(22,r,n,e),r.elementType=HP,r.lanes=t,r.stateNode={isHidden:!1},r}function o5(r,e,t){return r=Hi(6,r,null,e),r.lanes=t,r}function l5(r,e,t){return e=Hi(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function Yq(r,e,t,n,s){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uw(0),this.expirationTimes=Uw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uw(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function S6(r,e,t,n,s,a,i,o,c){return r=new Yq(r,e,t,o,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Hi(3,null,null,e),r.current=a,a.stateNode=r,a.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},o6(a),r}function Gq(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:df,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}function LD(r){if(!r)return xd;r=r._reactInternals;e:{if(lh(r)!==r||r.tag!==1)throw Error(lt(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ma(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(lt(171))}if(r.tag===1){var t=r.type;if(Ma(t))return LL(r,t,e)}return e}function DD(r,e,t,n,s,a,i,o,c){return r=S6(t,n,!0,r,s,a,i,o,c),r.context=LD(null),t=r.current,n=ua(),s=id(t),a=Hl(n,s),a.callback=e??null,sd(t,a,s),r.current.lanes=s,E0(r,s,n),Ra(r,n),r}function Xb(r,e,t,n){var s=e.current,a=ua(),i=id(s);return t=LD(t),e.context===null?e.context=t:e.pendingContext=t,e=Hl(a,i),e.payload={element:r},n=n===void 0?null:n,n!==null&&(e.callback=n),r=sd(s,e,i),r!==null&&(bo(r,s,i,a),G1(r,s,i)),i}function iy(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function J_(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function N6(r,e){J_(r,e),(r=r.alternate)&&J_(r,e)}function Xq(){return null}var MD=typeof reportError=="function"?reportError:function(r){console.error(r)};function E6(r){this._internalRoot=r}Zb.prototype.render=E6.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(lt(409));Xb(r,e,null,null)};Zb.prototype.unmount=E6.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;Gu(function(){Xb(null,r,null,null)}),e[Xl]=null}};function Zb(r){this._internalRoot=r}Zb.prototype.unstable_scheduleHydration=function(r){if(r){var e=uL();r={blockedOn:null,target:r,priority:e};for(var t=0;t<Fc.length&&e!==0&&e<Fc[t].priority;t++);Fc.splice(t,0,r),t===0&&fL(r)}};function _6(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Jb(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function K_(){}function Zq(r,e,t,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var d=iy(i);a.call(d)}}var i=DD(e,n,r,0,null,!1,!1,"",K_);return r._reactRootContainer=i,r[Xl]=i.current,Bm(r.nodeType===8?r.parentNode:r),Gu(),i}for(;s=r.lastChild;)r.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var d=iy(c);o.call(d)}}var c=S6(r,0,!1,null,null,!1,!1,"",K_);return r._reactRootContainer=c,r[Xl]=c.current,Bm(r.nodeType===8?r.parentNode:r),Gu(function(){Xb(e,c,t,n)}),c}function Kb(r,e,t,n,s){var a=t._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var o=s;s=function(){var c=iy(i);o.call(c)}}Xb(e,i,r,s)}else i=Zq(t,e,r,s,n);return iy(i)}cL=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var t=Vg(e.pendingLanes);t!==0&&(qS(e,t|1),Ra(e,On()),!(kr&6)&&(sp=On()+500,Ad()))}break;case 13:Gu(function(){var n=Zl(r,1);if(n!==null){var s=ua();bo(n,r,1,s)}}),N6(r,1)}};YS=function(r){if(r.tag===13){var e=Zl(r,134217728);if(e!==null){var t=ua();bo(e,r,134217728,t)}N6(r,134217728)}};dL=function(r){if(r.tag===13){var e=id(r),t=Zl(r,e);if(t!==null){var n=ua();bo(t,r,e,n)}N6(r,e)}};uL=function(){return Hr};hL=function(r,e){var t=Hr;try{return Hr=r,e()}finally{Hr=t}};E3=function(r,e,t){switch(e){case"input":if(y3(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==r&&n.form===r.form){var s=Ub(n);if(!s)throw Error(lt(90));$P(n),y3(n,s)}}}break;case"textarea":WP(r,t);break;case"select":e=t.value,e!=null&&_f(r,!!t.multiple,e,!1)}};KP=b6;QP=Gu;var Jq={usingClientEntryPoint:!1,Events:[j0,gf,Ub,ZP,JP,b6]},Ag={findFiberByHostInstance:yu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kq={bundleType:Ag.bundleType,version:Ag.version,rendererPackageName:Ag.rendererPackageName,rendererConfig:Ag.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rc.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=rL(r),r===null?null:r.stateNode},findFiberByHostInstance:Ag.findFiberByHostInstance||Xq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var n1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!n1.isDisabled&&n1.supportsFiber)try{Fb=n1.inject(Kq),Qo=n1}catch{}}ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jq;ui.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_6(e))throw Error(lt(200));return Gq(r,e,null,t)};ui.createRoot=function(r,e){if(!_6(r))throw Error(lt(299));var t=!1,n="",s=MD;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=S6(r,1,!1,null,null,t,!1,n,s),r[Xl]=e.current,Bm(r.nodeType===8?r.parentNode:r),new E6(e)};ui.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(lt(188)):(r=Object.keys(r).join(","),Error(lt(268,r)));return r=rL(e),r=r===null?null:r.stateNode,r};ui.flushSync=function(r){return Gu(r)};ui.hydrate=function(r,e,t){if(!Jb(e))throw Error(lt(200));return Kb(null,r,e,!0,t)};ui.hydrateRoot=function(r,e,t){if(!_6(r))throw Error(lt(405));var n=t!=null&&t.hydratedSources||null,s=!1,a="",i=MD;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),e=DD(e,null,r,1,t??null,s,!1,a,i),r[Xl]=e.current,Bm(r),n)for(r=0;r<n.length;r++)t=n[r],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new Zb(e)};ui.render=function(r,e,t){if(!Jb(e))throw Error(lt(200));return Kb(null,r,e,!1,t)};ui.unmountComponentAtNode=function(r){if(!Jb(r))throw Error(lt(40));return r._reactRootContainer?(Gu(function(){Kb(null,null,r,!1,function(){r._reactRootContainer=null,r[Xl]=null})}),!0):!1};ui.unstable_batchedUpdates=b6;ui.unstable_renderSubtreeIntoContainer=function(r,e,t,n){if(!Jb(t))throw Error(lt(200));if(r==null||r._reactInternals===void 0)throw Error(lt(38));return Kb(r,e,t,!1,n)};ui.version="18.3.1-next-f1338f8080-20240426";function RD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RD)}catch(r){console.error(r)}}RD(),RP.exports=ui;var Ui=RP.exports;const Qq=_o(Ui);var ID,Q_=Ui;ID=Q_.createRoot,Q_.hydrateRoot;var j6={};Object.defineProperty(j6,"__esModule",{value:!0});j6.parse=iY;j6.serialize=oY;const eY=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,tY=/^[\u0021-\u003A\u003C-\u007E]*$/,rY=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,nY=/^[\u0020-\u003A\u003D-\u007E]*$/,sY=Object.prototype.toString,aY=(()=>{const r=function(){};return r.prototype=Object.create(null),r})();function iY(r,e){const t=new aY,n=r.length;if(n<2)return t;const s=(e==null?void 0:e.decode)||lY;let a=0;do{const i=r.indexOf("=",a);if(i===-1)break;const o=r.indexOf(";",a),c=o===-1?n:o;if(i>c){a=r.lastIndexOf(";",i-1)+1;continue}const d=e7(r,a,i),u=t7(r,i,d),h=r.slice(d,u);if(t[h]===void 0){let f=e7(r,i+1,c),p=t7(r,c,f);const g=s(r.slice(f,p));t[h]=g}a=c+1}while(a<n);return t}function e7(r,e,t){do{const n=r.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<t);return t}function t7(r,e,t){for(;e>t;){const n=r.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return t}function oY(r,e,t){const n=(t==null?void 0:t.encode)||encodeURIComponent;if(!eY.test(r))throw new TypeError(`argument name is invalid: ${r}`);const s=n(e);if(!tY.test(s))throw new TypeError(`argument val is invalid: ${e}`);let a=r+"="+s;if(!t)return a;if(t.maxAge!==void 0){if(!Number.isInteger(t.maxAge))throw new TypeError(`option maxAge is invalid: ${t.maxAge}`);a+="; Max-Age="+t.maxAge}if(t.domain){if(!rY.test(t.domain))throw new TypeError(`option domain is invalid: ${t.domain}`);a+="; Domain="+t.domain}if(t.path){if(!nY.test(t.path))throw new TypeError(`option path is invalid: ${t.path}`);a+="; Path="+t.path}if(t.expires){if(!cY(t.expires)||!Number.isFinite(t.expires.valueOf()))throw new TypeError(`option expires is invalid: ${t.expires}`);a+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(a+="; HttpOnly"),t.secure&&(a+="; Secure"),t.partitioned&&(a+="; Partitioned"),t.priority)switch(typeof t.priority=="string"?t.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${t.priority}`)}if(t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${t.sameSite}`)}return a}function lY(r){if(r.indexOf("%")===-1)return r;try{return decodeURIComponent(r)}catch{return r}}function cY(r){return sY.call(r)==="[object Date]"}/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var r7="popstate";function dY(r={}){function e(n,s){let{pathname:a,search:i,hash:o}=n.location;return ak("",{pathname:a,search:i,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:Gm(s)}return hY(e,t,null,r)}function gn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function So(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uY(){return Math.random().toString(36).substring(2,10)}function n7(r,e){return{usr:r.state,key:r.key,idx:e}}function ak(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?jp(e):e,state:t,key:e&&e.key||n||uY()}}function Gm({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function jp(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function hY(r,e,t,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,o="POP",c=null,d=u();d==null&&(d=0,i.replaceState({...i.state,idx:d},""));function u(){return(i.state||{idx:null}).idx}function h(){o="POP";let v=u(),x=v==null?null:v-d;d=v,c&&c({action:o,location:m.location,delta:x})}function f(v,x){o="PUSH";let y=ak(m.location,v,x);d=u()+1;let w=n7(y,d),k=m.createHref(y);try{i.pushState(w,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(k)}a&&c&&c({action:o,location:m.location,delta:1})}function p(v,x){o="REPLACE";let y=ak(m.location,v,x);d=u();let w=n7(y,d),k=m.createHref(y);i.replaceState(w,"",k),a&&c&&c({action:o,location:m.location,delta:0})}function g(v){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof v=="string"?v:Gm(v);return y=y.replace(/ $/,"%20"),gn(x,`No window.location.(origin|href) available to create URL for href: ${y}`),new URL(y,x)}let m={get action(){return o},get location(){return r(s,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(r7,h),c=v,()=>{s.removeEventListener(r7,h),c=null}},createHref(v){return e(s,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(v){return i.go(v)}};return m}function OD(r,e,t="/"){return fY(r,e,t,!1)}function fY(r,e,t,n){let s=typeof e=="string"?jp(e):e,a=Kl(s.pathname||"/",t);if(a==null)return null;let i=FD(r);pY(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=NY(a);o=CY(i[c],d,n)}return o}function FD(r,e=[],t=[],n=""){let s=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(gn(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let d=Ul([n,c.relativePath]),u=t.concat(c);a.children&&a.children.length>0&&(gn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),FD(a.children,e,u,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:wY(d,a.index),routesMeta:u})};return r.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))s(a,i);else for(let c of BD(a.path))s(a,i,c)}),e}function BD(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=BD(n.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&o.push(...i),o.map(c=>r.startsWith("/")&&c===""?"/":c)}function pY(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:kY(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var gY=/^:[\w-]+$/,mY=3,xY=2,vY=1,yY=10,bY=-2,s7=r=>r==="*";function wY(r,e){let t=r.split("/"),n=t.length;return t.some(s7)&&(n+=bY),e&&(n+=xY),t.filter(s=>!s7(s)).reduce((s,a)=>s+(gY.test(a)?mY:a===""?vY:yY),n)}function kY(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function CY(r,e,t=!1){let{routesMeta:n}=r,s={},a="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",h=oy({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&t&&!n[n.length-1].route.index&&(h=oy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:Ul([a,h.pathname]),pathnameBase:AY(Ul([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Ul([a,h.pathnameBase]))}return i}function oy(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=SY(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((d,{paramName:u,isOptional:h},f)=>{if(u==="*"){let g=o[f]||"";i=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[f];return h&&!p?d[u]=void 0:d[u]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:i,pattern:r}}function SY(r,e=!1,t=!0){So(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function NY(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return So(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Kl(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function EY(r,e="/"){let{pathname:t,search:n="",hash:s=""}=typeof r=="string"?jp(r):r;return{pathname:t?t.startsWith("/")?t:_Y(t,e):e,search:TY(n),hash:PY(s)}}function _Y(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function c5(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jY(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function A6(r){let e=jY(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function T6(r,e,t,n=!1){let s;typeof r=="string"?s=jp(r):(s={...r},gn(!s.pathname||!s.pathname.includes("?"),c5("?","pathname","search",s)),gn(!s.pathname||!s.pathname.includes("#"),c5("#","pathname","hash",s)),gn(!s.search||!s.search.includes("#"),c5("#","search","hash",s)));let a=r===""||s.pathname==="",i=a?"/":s.pathname,o;if(i==null)o=t;else{let h=e.length-1;if(!n&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?e[h]:"/"}let c=EY(s,o),d=i&&i!=="/"&&i.endsWith("/"),u=(a||i===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var Ul=r=>r.join("/").replace(/\/\/+/g,"/"),AY=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),TY=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,PY=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function LY(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var zD=["POST","PUT","PATCH","DELETE"];new Set(zD);var DY=["GET",...zD];new Set(DY);var Ap=b.createContext(null);Ap.displayName="DataRouter";var Qb=b.createContext(null);Qb.displayName="DataRouterState";var HD=b.createContext({isTransitioning:!1});HD.displayName="ViewTransition";var MY=b.createContext(new Map);MY.displayName="Fetchers";var RY=b.createContext(null);RY.displayName="Await";var jo=b.createContext(null);jo.displayName="Navigation";var T0=b.createContext(null);T0.displayName="Location";var Zi=b.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var P6=b.createContext(null);P6.displayName="RouteError";function IY(r,{relative:e}={}){gn(Tp(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=b.useContext(jo),{hash:s,pathname:a,search:i}=P0(r,{relative:e}),o=a;return t!=="/"&&(o=a==="/"?t:Ul([t,a])),n.createHref({pathname:o,search:i,hash:s})}function Tp(){return b.useContext(T0)!=null}function Qn(){return gn(Tp(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(T0).location}var UD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $D(r){b.useContext(jo).static||b.useLayoutEffect(r)}function Sr(){let{isDataRoute:r}=b.useContext(Zi);return r?JY():OY()}function OY(){gn(Tp(),"useNavigate() may be used only in the context of a <Router> component.");let r=b.useContext(Ap),{basename:e,navigator:t}=b.useContext(jo),{matches:n}=b.useContext(Zi),{pathname:s}=Qn(),a=JSON.stringify(A6(n)),i=b.useRef(!1);return $D(()=>{i.current=!0}),b.useCallback((c,d={})=>{if(So(i.current,UD),!i.current)return;if(typeof c=="number"){t.go(c);return}let u=T6(c,JSON.parse(a),s,d.relative==="path");r==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Ul([e,u.pathname])),(d.replace?t.replace:t.push)(u,d.state,d)},[e,t,a,s,r])}var FY=b.createContext(null);function BY(r){let e=b.useContext(Zi).outlet;return e&&b.createElement(FY.Provider,{value:r},e)}function nc(){let{matches:r}=b.useContext(Zi),e=r[r.length-1];return e?e.params:{}}function P0(r,{relative:e}={}){let{matches:t}=b.useContext(Zi),{pathname:n}=Qn(),s=JSON.stringify(A6(t));return b.useMemo(()=>T6(r,JSON.parse(s),n,e==="path"),[r,s,n,e])}function zY(r,e){return VD(r,e)}function VD(r,e,t,n){var y;gn(Tp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=b.useContext(jo),{matches:i}=b.useContext(Zi),o=i[i.length-1],c=o?o.params:{},d=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let w=h&&h.path||"";WD(d,!h||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=Qn(),p;if(e){let w=typeof e=="string"?jp(e):e;gn(u==="/"||((y=w.pathname)==null?void 0:y.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=f;let g=p.pathname||"/",m=g;if(u!=="/"){let w=u.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=!a&&t&&t.matches&&t.matches.length>0?t.matches:OD(r,{pathname:m});So(h||v!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),So(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=WY(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:Ul([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:Ul([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,t,n);return e&&x?b.createElement(T0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},x):x}function HY(){let r=ZY(),e=LY(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",r),i=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),t?b.createElement("pre",{style:s},t):null,i)}var UY=b.createElement(HY,null),$Y=class extends b.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?b.createElement(Zi.Provider,{value:this.props.routeContext},b.createElement(P6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VY({routeContext:r,match:e,children:t}){let n=b.useContext(Ap);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Zi.Provider,{value:r},t)}function WY(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,a=t==null?void 0:t.errors;if(a!=null){let c=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);gn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let i=!1,o=-1;if(t)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(o=c),d.route.id){let{loaderData:u,errors:h}=t,f=d.route.loader&&!u.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||f){i=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((c,d,u)=>{let h,f=!1,p=null,g=null;t&&(h=a&&d.route.id?a[d.route.id]:void 0,p=d.route.errorElement||UY,i&&(o<0&&u===0?(WD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,g=null):o===u&&(f=!0,g=d.route.hydrateFallbackElement||null)));let m=e.concat(s.slice(0,u+1)),v=()=>{let x;return h?x=p:f?x=g:d.route.Component?x=b.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=c,b.createElement(VY,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:t!=null},children:x})};return t&&(d.route.ErrorBoundary||d.route.errorElement||u===0)?b.createElement($Y,{location:t.location,revalidation:t.revalidation,component:p,error:h,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}function L6(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qY(r){let e=b.useContext(Ap);return gn(e,L6(r)),e}function YY(r){let e=b.useContext(Qb);return gn(e,L6(r)),e}function GY(r){let e=b.useContext(Zi);return gn(e,L6(r)),e}function D6(r){let e=GY(r),t=e.matches[e.matches.length-1];return gn(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function XY(){return D6("useRouteId")}function ZY(){var n;let r=b.useContext(P6),e=YY("useRouteError"),t=D6("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function JY(){let{router:r}=qY("useNavigate"),e=D6("useNavigate"),t=b.useRef(!1);return $D(()=>{t.current=!0}),b.useCallback(async(s,a={})=>{So(t.current,UD),t.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...a}))},[r,e])}var a7={};function WD(r,e,t){!e&&!a7[r]&&(a7[r]=!0,So(!1,t))}b.memo(KY);function KY({routes:r,future:e,state:t}){return VD(r,void 0,t,e)}function qD({to:r,replace:e,state:t,relative:n}){gn(Tp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(jo);So(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=b.useContext(Zi),{pathname:i}=Qn(),o=Sr(),c=T6(r,A6(a),i,n==="path"),d=JSON.stringify(c);return b.useEffect(()=>{o(JSON.parse(d),{replace:e,state:t,relative:n})},[o,d,n,e,t]),null}function YD(r){return BY(r.context)}function Rt(r){gn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QY({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:s,static:a=!1}){gn(!Tp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=r.replace(/^\/*/,"/"),o=b.useMemo(()=>({basename:i,navigator:s,static:a,future:{}}),[i,s,a]);typeof t=="string"&&(t=jp(t));let{pathname:c="/",search:d="",hash:u="",state:h=null,key:f="default"}=t,p=b.useMemo(()=>{let g=Kl(c,i);return g==null?null:{location:{pathname:g,search:d,hash:u,state:h,key:f},navigationType:n}},[i,c,d,u,h,f,n]);return So(p!=null,`<Router basename="${i}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:b.createElement(jo.Provider,{value:o},b.createElement(T0.Provider,{children:e,value:p}))}function eG({children:r,location:e}){return zY(ik(r),e)}function ik(r,e=[]){let t=[];return b.Children.forEach(r,(n,s)=>{if(!b.isValidElement(n))return;let a=[...e,s];if(n.type===b.Fragment){t.push.apply(t,ik(n.props.children,a));return}gn(n.type===Rt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=ik(n.props.children,a)),t.push(i)}),t}var tv="get",rv="application/x-www-form-urlencoded";function e2(r){return r!=null&&typeof r.tagName=="string"}function tG(r){return e2(r)&&r.tagName.toLowerCase()==="button"}function rG(r){return e2(r)&&r.tagName.toLowerCase()==="form"}function nG(r){return e2(r)&&r.tagName.toLowerCase()==="input"}function sG(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function aG(r,e){return r.button===0&&(!e||e==="_self")&&!sG(r)}var s1=null;function iG(){if(s1===null)try{new FormData(document.createElement("form"),0),s1=!1}catch{s1=!0}return s1}var oG=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function d5(r){return r!=null&&!oG.has(r)?(So(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rv}"`),null):r}function lG(r,e){let t,n,s,a,i;if(rG(r)){let o=r.getAttribute("action");n=o?Kl(o,e):null,t=r.getAttribute("method")||tv,s=d5(r.getAttribute("enctype"))||rv,a=new FormData(r)}else if(tG(r)||nG(r)&&(r.type==="submit"||r.type==="image")){let o=r.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=r.getAttribute("formaction")||o.getAttribute("action");if(n=c?Kl(c,e):null,t=r.getAttribute("formmethod")||o.getAttribute("method")||tv,s=d5(r.getAttribute("formenctype"))||d5(o.getAttribute("enctype"))||rv,a=new FormData(o,r),!iG()){let{name:d,type:u,value:h}=r;if(u==="image"){let f=d?`${d}.`:"";a.append(`${f}x`,"0"),a.append(`${f}y`,"0")}else d&&a.append(d,h)}}else{if(e2(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=tv,n=null,s=rv,i=r}return a&&s==="text/plain"&&(i=a,a=void 0),{action:n,method:t.toLowerCase(),encType:s,formData:a,body:i}}function M6(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function cG(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dG(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function uG(r,e,t){let n=await Promise.all(r.map(async s=>{let a=e.routes[s.route.id];if(a){let i=await cG(a,t);return i.links?i.links():[]}return[]}));return gG(n.flat(1).filter(dG).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function i7(r,e,t,n,s,a){let i=(c,d)=>t[d]?c.route.id!==t[d].route.id:!0,o=(c,d)=>{var u;return t[d].pathname!==c.pathname||((u=t[d].route.path)==null?void 0:u.endsWith("*"))&&t[d].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,d)=>i(c,d)||o(c,d)):a==="data"?e.filter((c,d)=>{var h;let u=n.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(i(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(r,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function hG(r,e,{includeHydrateFallback:t}={}){return fG(r.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function fG(r){return[...new Set(r)]}function pG(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function gG(r,e){let t=new Set;return new Set(e),r.reduce((n,s)=>{let a=JSON.stringify(pG(s));return t.has(a)||(t.add(a),n.push({key:a,link:s})),n},[])}function mG(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Kl(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function GD(){let r=b.useContext(Ap);return M6(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function xG(){let r=b.useContext(Qb);return M6(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var R6=b.createContext(void 0);R6.displayName="FrameworkContext";function XD(){let r=b.useContext(R6);return M6(r,"You must render this element inside a <HydratedRouter> element"),r}function vG(r,e){let t=b.useContext(R6),[n,s]=b.useState(!1),[a,i]=b.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=e,f=b.useRef(null);b.useEffect(()=>{if(r==="render"&&i(!0),r==="viewport"){let m=x=>{x.forEach(y=>{i(y.isIntersecting)})},v=new IntersectionObserver(m,{threshold:.5});return f.current&&v.observe(f.current),()=>{v.disconnect()}}},[r]),b.useEffect(()=>{if(n){let m=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(m)}}},[n]);let p=()=>{s(!0)},g=()=>{s(!1),i(!1)};return t?r!=="intent"?[a,f,{}]:[a,f,{onFocus:Tg(o,p),onBlur:Tg(c,g),onMouseEnter:Tg(d,p),onMouseLeave:Tg(u,g),onTouchStart:Tg(h,p)}]:[!1,f,{}]}function Tg(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function yG({page:r,...e}){let{router:t}=GD(),n=b.useMemo(()=>OD(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?b.createElement(wG,{page:r,matches:n,...e}):null}function bG(r){let{manifest:e,routeModules:t}=XD(),[n,s]=b.useState([]);return b.useEffect(()=>{let a=!1;return uG(r,e,t).then(i=>{a||s(i)}),()=>{a=!0}},[r,e,t]),n}function wG({page:r,matches:e,...t}){let n=Qn(),{manifest:s,routeModules:a}=XD(),{basename:i}=GD(),{loaderData:o,matches:c}=xG(),d=b.useMemo(()=>i7(r,e,c,s,n,"data"),[r,e,c,s,n]),u=b.useMemo(()=>i7(r,e,c,s,n,"assets"),[r,e,c,s,n]),h=b.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let g=new Set,m=!1;if(e.forEach(x=>{var w;let y=s.routes[x.route.id];!y||!y.hasLoader||(!d.some(k=>k.route.id===x.route.id)&&x.route.id in o&&((w=a[x.route.id])!=null&&w.shouldRevalidate)||y.hasClientLoader?m=!0:g.add(x.route.id))}),g.size===0)return[];let v=mG(r,i);return m&&g.size>0&&v.searchParams.set("_routes",e.filter(x=>g.has(x.route.id)).map(x=>x.route.id).join(",")),[v.pathname+v.search]},[i,o,n,s,d,e,r,a]),f=b.useMemo(()=>hG(u,s),[u,s]),p=bG(u);return b.createElement(b.Fragment,null,h.map(g=>b.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...t})),f.map(g=>b.createElement("link",{key:g,rel:"modulepreload",href:g,...t})),p.map(({key:g,link:m})=>b.createElement("link",{key:g,...m})))}function kG(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ZD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZD&&(window.__reactRouterVersion="7.4.0")}catch{}function CG({basename:r,children:e,window:t}){let n=b.useRef();n.current==null&&(n.current=dY({window:t,v5Compat:!0}));let s=n.current,[a,i]=b.useState({action:s.action,location:s.location}),o=b.useCallback(c=>{b.startTransition(()=>i(c))},[i]);return b.useLayoutEffect(()=>s.listen(o),[s,o]),b.createElement(QY,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:s})}var JD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hn=b.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:s,reloadDocument:a,replace:i,state:o,target:c,to:d,preventScrollReset:u,viewTransition:h,...f},p){let{basename:g}=b.useContext(jo),m=typeof d=="string"&&JD.test(d),v,x=!1;if(typeof d=="string"&&m&&(v=d,ZD))try{let R=new URL(window.location.href),O=d.startsWith("//")?new URL(R.protocol+d):new URL(d),L=Kl(O.pathname,g);O.origin===R.origin&&L!=null?d=L+O.search+O.hash:x=!0}catch{So(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=IY(d,{relative:s}),[w,k,S]=vG(n,f),N=_G(d,{replace:i,state:o,target:c,preventScrollReset:u,relative:s,viewTransition:h});function A(R){e&&e(R),R.defaultPrevented||N(R)}let E=b.createElement("a",{...f,...S,href:v||y,onClick:x||a?e:A,ref:kG(p,k),target:c,"data-discover":!m&&t==="render"?"true":void 0});return w&&!m?b.createElement(b.Fragment,null,E,b.createElement(yG,{page:y})):E});Hn.displayName="Link";var SG=b.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:s=!1,style:a,to:i,viewTransition:o,children:c,...d},u){let h=P0(i,{relative:d.relative}),f=Qn(),p=b.useContext(Qb),{navigator:g,basename:m}=b.useContext(jo),v=p!=null&&LG(h)&&o===!0,x=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,y=f.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(y=y.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&m&&(w=Kl(w,m)||w);const k=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let S=y===x||!s&&y.startsWith(x)&&y.charAt(k)==="/",N=w!=null&&(w===x||!s&&w.startsWith(x)&&w.charAt(x.length)==="/"),A={isActive:S,isPending:N,isTransitioning:v},E=S?e:void 0,R;typeof n=="function"?R=n(A):R=[n,S?"active":null,N?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(A):a;return b.createElement(Hn,{...d,"aria-current":E,className:R,ref:u,style:O,to:i,viewTransition:o},typeof c=="function"?c(A):c)});SG.displayName="NavLink";var NG=b.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:s,state:a,method:i=tv,action:o,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:h,...f},p)=>{let g=TG(),m=PG(o,{relative:d}),v=i.toLowerCase()==="get"?"get":"post",x=typeof o=="string"&&JD.test(o),y=w=>{if(c&&c(w),w.defaultPrevented)return;w.preventDefault();let k=w.nativeEvent.submitter,S=(k==null?void 0:k.getAttribute("formmethod"))||i;g(k||w.currentTarget,{fetcherKey:e,method:S,navigate:t,replace:s,state:a,relative:d,preventScrollReset:u,viewTransition:h})};return b.createElement("form",{ref:p,method:v,action:m,onSubmit:n?c:y,...f,"data-discover":!x&&r==="render"?"true":void 0})});NG.displayName="Form";function EG(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KD(r){let e=b.useContext(Ap);return gn(e,EG(r)),e}function _G(r,{target:e,replace:t,state:n,preventScrollReset:s,relative:a,viewTransition:i}={}){let o=Sr(),c=Qn(),d=P0(r,{relative:a});return b.useCallback(u=>{if(aG(u,e)){u.preventDefault();let h=t!==void 0?t:Gm(c)===Gm(d);o(r,{replace:h,state:n,preventScrollReset:s,relative:a,viewTransition:i})}},[c,o,d,t,n,e,r,s,a,i])}var jG=0,AG=()=>`__${String(++jG)}__`;function TG(){let{router:r}=KD("useSubmit"),{basename:e}=b.useContext(jo),t=XY();return b.useCallback(async(n,s={})=>{let{action:a,method:i,encType:o,formData:c,body:d}=lG(n,e);if(s.navigate===!1){let u=s.fetcherKey||AG();await r.fetch(u,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||i,formEncType:s.encType||o,flushSync:s.flushSync})}else await r.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||i,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,t])}function PG(r,{relative:e}={}){let{basename:t}=b.useContext(jo),n=b.useContext(Zi);gn(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...P0(r||".",{relative:e})},i=Qn();if(r==null){a.search=i.search;let o=new URLSearchParams(a.search),c=o.getAll("index");if(c.some(u=>u==="")){o.delete("index"),c.filter(h=>h).forEach(h=>o.append("index",h));let u=o.toString();a.search=u?`?${u}`:""}}return(!r||r===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Ul([t,a.pathname])),Gm(a)}function LG(r,e={}){let t=b.useContext(HD);gn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=KD("useViewTransitionState"),s=P0(r,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Kl(t.currentLocation.pathname,n)||t.currentLocation.pathname,i=Kl(t.nextLocation.pathname,n)||t.nextLocation.pathname;return oy(s.pathname,i)!=null||oy(s.pathname,a)!=null}new TextEncoder;const DG="modulepreload",MG=function(r){return"/"+r},o7={},Oa=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(t.map(c=>{if(c=MG(c),c in o7)return;o7[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":DG,d||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),d)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return s.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},RG=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Oa(async()=>{const{default:n}=await Promise.resolve().then(()=>Pp);return{default:n}},[]).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class t2 extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class QD extends t2{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class eM extends t2{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class tM extends t2{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ly;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(ly||(ly={}));var IG=function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?a(u.value):s(u.value).then(o,c)}d((n=n.apply(r,e||[])).next())})};class OG{constructor(e,{headers:t={},customFetch:n,region:s=ly.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=RG(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return IG(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:i}=t;let o={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(o["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(o["Content-Type"]="application/json",d=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(g=>{throw new QD(g)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new eM(u);if(!u.ok)throw new tM(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield u.json():f==="application/octet-stream"?p=yield u.blob():f==="text/event-stream"?p=u:f==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var ja={},I6={},r2={},L0={},n2={},s2={},FG=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ap=FG();const BG=ap.fetch,rM=ap.fetch.bind(ap),nM=ap.Headers,zG=ap.Request,HG=ap.Response,Pp=Object.freeze(Object.defineProperty({__proto__:null,Headers:nM,Request:zG,Response:HG,default:rM,fetch:BG},Symbol.toStringTag,{value:"Module"})),UG=DS(Pp);var a2={};Object.defineProperty(a2,"__esModule",{value:!0});let $G=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};a2.default=$G;var sM=Yi&&Yi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(s2,"__esModule",{value:!0});const VG=sM(UG),WG=sM(a2);let qG=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=VG.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,o,c;let d=null,u=null,h=null,f=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=x:u=JSON.parse(x))}const m=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),v=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");m&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await a.text();try{d=JSON.parse(m),Array.isArray(d)&&a.status===404&&(u=[],d=null,f=200,p="OK")}catch{a.status===404&&m===""?(f=204,p="No Content"):d={message:m}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,p="OK"),d&&this.shouldThrowOnError)throw new WG.default(d)}return{error:d,data:u,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(a=>{var i,o,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}};s2.default=qG;var YG=Yi&&Yi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(n2,"__esModule",{value:!0});const GG=YG(s2);let XG=class extends GG.default{select(e){let t=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var o;const c=[e?"analyze":null,t?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${d}"; options=${c};`,i==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};n2.default=XG;var ZG=Yi&&Yi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(L0,"__esModule",{value:!0});const JG=ZG(n2);let KG=class extends JG.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};L0.default=KG;var QG=Yi&&Yi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(r2,"__esModule",{value:!0});const Pg=QG(L0);let eX=class{constructor(e,{headers:t={},schema:n,fetch:s}){this.url=e,this.headers=t,this.schema=n,this.fetch=s}select(e,{head:t=!1,count:n}={}){const s=t?"HEAD":"GET";let a=!1;const i=(e??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Pg.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),t&&a.push(`count=${t}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const i=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(i.length>0){const o=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Pg.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const i="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Pg.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new Pg.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Pg.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};r2.default=eX;var i2={},o2={};Object.defineProperty(o2,"__esModule",{value:!0});o2.version=void 0;o2.version="0.0.0-automated";Object.defineProperty(i2,"__esModule",{value:!0});i2.DEFAULT_HEADERS=void 0;const tX=o2;i2.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${tX.version}`};var aM=Yi&&Yi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(I6,"__esModule",{value:!0});const rX=aM(r2),nX=aM(L0),sX=i2;let aX=class iM{constructor(e,{headers:t={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},sX.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new rX.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new iM(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:s=!1,count:a}={}){let i;const o=new URL(`${this.url}/rpc/${e}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(t).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{o.searchParams.append(u,h)})):(i="POST",c=t);const d=Object.assign({},this.headers);return a&&(d.Prefer=`count=${a}`),new nX.default({method:i,url:o,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};I6.default=aX;var Lp=Yi&&Yi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ja,"__esModule",{value:!0});ja.PostgrestError=ja.PostgrestBuilder=ja.PostgrestTransformBuilder=ja.PostgrestFilterBuilder=ja.PostgrestQueryBuilder=ja.PostgrestClient=void 0;const oM=Lp(I6);ja.PostgrestClient=oM.default;const lM=Lp(r2);ja.PostgrestQueryBuilder=lM.default;const cM=Lp(L0);ja.PostgrestFilterBuilder=cM.default;const dM=Lp(n2);ja.PostgrestTransformBuilder=dM.default;const uM=Lp(s2);ja.PostgrestBuilder=uM.default;const hM=Lp(a2);ja.PostgrestError=hM.default;var iX=ja.default={PostgrestClient:oM.default,PostgrestQueryBuilder:lM.default,PostgrestFilterBuilder:cM.default,PostgrestTransformBuilder:dM.default,PostgrestBuilder:uM.default,PostgrestError:hM.default};const{PostgrestClient:oX,PostgrestQueryBuilder:xSe,PostgrestFilterBuilder:vSe,PostgrestTransformBuilder:ySe,PostgrestBuilder:bSe,PostgrestError:lX}=iX,cX="2.11.2",dX={"X-Client-Info":`realtime-js/${cX}`},uX="1.0.0",fM=1e4,hX=1e3;var Df;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Df||(Df={}));var Qa;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Qa||(Qa={}));var uo;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(uo||(uo={}));var ok;(function(r){r.websocket="websocket"})(ok||(ok={}));var iu;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(iu||(iu={}));class fX{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const s=t.getUint8(1),a=t.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(e.slice(i,i+s));i=i+s;const c=n.decode(e.slice(i,i+a));i=i+a;const d=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class pM{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var en;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(en||(en={}));const l7=(r,e,t={})=>{var n;const s=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,i)=>(a[i]=pX(i,r,e,s),a),{})},pX=(r,e,t,n)=>{const s=e.find(o=>o.name===r),a=s==null?void 0:s.type,i=t[r];return a&&!n.includes(a)?gM(a,i):lk(i)},gM=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return vX(e,t)}switch(r){case en.bool:return gX(e);case en.float4:case en.float8:case en.int2:case en.int4:case en.int8:case en.numeric:case en.oid:return mX(e);case en.json:case en.jsonb:return xX(e);case en.timestamp:return yX(e);case en.abstime:case en.date:case en.daterange:case en.int4range:case en.int8range:case en.money:case en.reltime:case en.text:case en.time:case en.timestamptz:case en.timetz:case en.tsrange:case en.tstzrange:return lk(e);default:return lk(e)}},lk=r=>r,gX=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},mX=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},xX=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},vX=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let a;const i=r.slice(1,t);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(o=>gM(e,o))}return r},yX=r=>typeof r=="string"?r.replace(" ","T"):r,mM=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class u5{constructor(e,t,n={},s=fM){this.channel=e,this.event=t,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ck;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(ck||(ck={}));class Mf{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mf.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=Mf.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Mf.syncDiff(this.state,s,a,i),o())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,s){const a=this.cloneDeep(e),i=this.transformState(t),o={},c={};return this.map(a,(d,u)=>{i[d]||(c[d]=u)}),this.map(i,(d,u)=>{const h=a[d];if(h){const f=u.map(v=>v.presence_ref),p=h.map(v=>v.presence_ref),g=u.filter(v=>p.indexOf(v.presence_ref)<0),m=h.filter(v=>f.indexOf(v.presence_ref)<0);g.length>0&&(o[d]=g),m.length>0&&(c[d]=m)}else o[d]=u}),this.syncDiff(a,{joins:o,leaves:c},n,s)}static syncDiff(e,t,n,s){const{joins:a,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(o,c)=>{var d;const u=(d=e[o])!==null&&d!==void 0?d:[];if(e[o]=this.cloneDeep(c),u.length>0){const h=e[o].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);e[o].unshift(...f)}n(o,u,c)}),this.map(i,(o,c)=>{let d=e[o];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[o]=d,s(o,d,c),d.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const s=e[n];return"metas"in s?t[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[n]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dk;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(dk||(dk={}));var uk;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(uk||(uk={}));var Xo;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Xo||(Xo={}));class l2{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Qa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new u5(this,uo.join,this.params,this.timeout),this.rejoinTimer=new pM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qa.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Qa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(uo.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Mf(this),this.broadcastEndpointURL=mM(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:i,private:o}}=this.params;this._onError(u=>e==null?void 0:e(Xo.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Xo.CLOSED));const c={},d={broadcast:a,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(Xo.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let m=0;m<p;m++){const v=f[m],{filter:{event:x,schema:y,table:w,filter:k}}=v,S=u&&u[m];if(S&&S.event===x&&S.schema===y&&S.table===w&&S.filter===k)g.push(Object.assign(Object.assign({},v),{id:S.id}));else{this.unsubscribe(),e==null||e(Xo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Xo.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Xo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Xo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:i}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,o,c;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qa.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(uo.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new u5(this,uo.leave,{},e);s.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,t,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(a),i}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new u5(this,e,t,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var s,a;const i=e.toLocaleLowerCase(),{close:o,error:c,leave:d,join:u}=uo;if(n&&[o,c,d,u].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,t,n);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,m,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=p.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(p=>p.callback(f,n)):(a=this.bindings[i])===null||a===void 0||a.filter(p=>{var g,m,v,x,y,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const k=p.id,S=(g=p.filter)===null||g===void 0?void 0:g.event;return k&&((m=t.ids)===null||m===void 0?void 0:m.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=t.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const k=(y=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return k==="*"||k===((w=t==null?void 0:t.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:m,table:v,commit_timestamp:x,type:y,errors:w}=g;f=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:x,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(g))}p.callback(f,n)})}_isClosed(){return this.state===Qa.closed}_isJoined(){return this.state===Qa.joined}_isJoining(){return this.state===Qa.joining}_isLeaving(){return this.state===Qa.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const s=e.toLocaleLowerCase(),a={type:s,filter:t,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&l2.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(uo.close,{},e)}_onError(e){this._on(uo.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qa.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=l7(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=l7(e.columns,e.old_record)),t}}const bX=()=>{},wX=typeof WebSocket<"u",kX=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xM{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=dX,this.params={},this.timeout=fM,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=bX,this.conn=null,this.sendBuffer=[],this.serializer=new fX,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Oa(async()=>{const{default:c}=await Promise.resolve().then(()=>Pp);return{default:c}},void 0).then(({default:c})=>c(...o)):i=fetch,(...o)=>i(...o)},this.endPoint=`${e}/${ok.websocket}`,this.httpEndpoint=mM(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(a,i)=>i(JSON.stringify(a)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new pM(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(wX){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new CX(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Oa(async()=>{const{default:e}=await import("./browser-DrbC7t--.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:uX}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Df.connecting:return iu.Connecting;case Df.open:return iu.Open;case Df.closing:return iu.Closing;default:return iu.Closed}}isConnected(){return this.connectionState()===iu.Open}channel(e,t={config:{}}){const n=new l2(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:s,ref:a}=e,i=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${t} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let n=null;try{n=JSON.parse(atob(t.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=t,this.channels.forEach(s=>{t&&s.updateJoinPayload({access_token:t}),s.joinedOnce&&s._isJoined()&&s._push(uo.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(hX,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:s,payload:a,ref:i}=t;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,a),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,a,i)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(uo.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${n}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([kX],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class CX{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Df.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class O6 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ps(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class SX extends O6{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class hk extends O6{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var NX=function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?a(u.value):s(u.value).then(o,c)}d((n=n.apply(r,e||[])).next())})};const vM=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Oa(async()=>{const{default:n}=await Promise.resolve().then(()=>Pp);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},EX=()=>NX(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Oa(()=>Promise.resolve().then(()=>Pp),void 0)).Response:Response}),fk=r=>{if(Array.isArray(r))return r.map(t=>fk(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const s=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=fk(n)}),e};var ch=function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?a(u.value):s(u.value).then(o,c)}d((n=n.apply(r,e||[])).next())})};const h5=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),_X=(r,e,t)=>ch(void 0,void 0,void 0,function*(){const n=yield EX();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(s=>{e(new SX(h5(s),r.status||500))}).catch(s=>{e(new hk(h5(s),s))}):e(new hk(h5(r),r))}),jX=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),t))};function D0(r,e,t,n,s,a){return ch(this,void 0,void 0,function*(){return new Promise((i,o)=>{r(t,jX(e,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>_X(c,o,n))})})}function cy(r,e,t,n){return ch(this,void 0,void 0,function*(){return D0(r,"GET",e,t,n)})}function Dc(r,e,t,n,s){return ch(this,void 0,void 0,function*(){return D0(r,"POST",e,n,s,t)})}function AX(r,e,t,n,s){return ch(this,void 0,void 0,function*(){return D0(r,"PUT",e,n,s,t)})}function TX(r,e,t,n){return ch(this,void 0,void 0,function*(){return D0(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function yM(r,e,t,n,s){return ch(this,void 0,void 0,function*(){return D0(r,"DELETE",e,n,s,t)})}var Sa=function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?a(u.value):s(u.value).then(o,c)}d((n=n.apply(r,e||[])).next())})};const PX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},c7={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class LX{constructor(e,t={},n,s){this.url=e,this.headers=t,this.bucketId=n,this.fetch=vM(s)}uploadOrUpdate(e,t,n,s){return Sa(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},c7),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const d=this._removeEmptyFolders(t),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:a,headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield h.json();return h.ok?{data:{path:d,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(ps(a))return{data:null,error:a};throw a}})}upload(e,t,n){return Sa(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,s){return Sa(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",t);try{let c;const d=Object.assign({upsert:c7.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:u}),f=yield h.json();return h.ok?{data:{path:a,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(ps(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return Sa(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=yield Dc(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+a.url),o=i.searchParams.get("token");if(!o)throw new O6("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(n){if(ps(n))return{data:null,error:n};throw n}})}update(e,t,n){return Sa(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Sa(this,void 0,void 0,function*(){try{return{data:yield Dc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ps(s))return{data:null,error:s};throw s}})}copy(e,t,n){return Sa(this,void 0,void 0,function*(){try{return{data:{path:(yield Dc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ps(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,n){return Sa(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield Dc(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(ps(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,n){return Sa(this,void 0,void 0,function*(){try{const s=yield Dc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(ps(s))return{data:null,error:s};throw s}})}download(e,t){return Sa(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=a?`?${a}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield cy(this.fetch,`${this.url}/${s}/${o}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ps(o))return{data:null,error:o};throw o}})}info(e){return Sa(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield cy(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:fk(n),error:null}}catch(n){if(ps(n))return{data:null,error:n};throw n}})}exists(e){return Sa(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield TX(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ps(n)&&n instanceof hk){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),s=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&s.push(a);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(e){return Sa(this,void 0,void 0,function*(){try{return{data:yield yM(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(ps(t))return{data:null,error:t};throw t}})}list(e,t,n){return Sa(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},PX),t),{prefix:e||""});return{data:yield Dc(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ps(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const DX="2.7.1",MX={"X-Client-Info":`storage-js/${DX}`};var $h=function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?a(u.value):s(u.value).then(o,c)}d((n=n.apply(r,e||[])).next())})};class RX{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},MX),t),this.fetch=vM(n)}listBuckets(){return $h(this,void 0,void 0,function*(){try{return{data:yield cy(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ps(e))return{data:null,error:e};throw e}})}getBucket(e){return $h(this,void 0,void 0,function*(){try{return{data:yield cy(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(ps(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return $h(this,void 0,void 0,function*(){try{return{data:yield Dc(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ps(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return $h(this,void 0,void 0,function*(){try{return{data:yield AX(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ps(n))return{data:null,error:n};throw n}})}emptyBucket(e){return $h(this,void 0,void 0,function*(){try{return{data:yield Dc(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(ps(t))return{data:null,error:t};throw t}})}deleteBucket(e){return $h(this,void 0,void 0,function*(){try{return{data:yield yM(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(ps(t))return{data:null,error:t};throw t}})}}class IX extends RX{constructor(e,t={},n){super(e,t,n)}from(e){return new LX(this.url,this.headers,e,this.fetch)}}const OX="2.49.1";let qg="";typeof Deno<"u"?qg="deno":typeof document<"u"?qg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qg="react-native":qg="node";const FX={"X-Client-Info":`supabase-js-${qg}/${OX}`},BX={headers:FX},zX={schema:"public"},HX={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},UX={};var $X=function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?a(u.value):s(u.value).then(o,c)}d((n=n.apply(r,e||[])).next())})};const VX=r=>{let e;return r?e=r:typeof fetch>"u"?e=rM:e=fetch,(...t)=>e(...t)},WX=()=>typeof Headers>"u"?nM:Headers,qX=(r,e,t)=>{const n=VX(t),s=WX();return(a,i)=>$X(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:r;let d=new s(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",r),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:d}))})};var YX=function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?a(u.value):s(u.value).then(o,c)}d((n=n.apply(r,e||[])).next())})};function GX(r){return r.replace(/\/$/,"")}function XX(r,e){const{db:t,auth:n,realtime:s,global:a}=r,{db:i,auth:o,realtime:c,global:d}=e,u={db:Object.assign(Object.assign({},i),t),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},d),a),accessToken:()=>YX(this,void 0,void 0,function*(){return""})};return r.accessToken?u.accessToken=r.accessToken:delete u.accessToken,u}const bM="2.68.0",tf=30*1e3,pk=3,f5=pk*tf,ZX="http://localhost:9999",JX="supabase.auth.token",KX={"X-Client-Info":`gotrue-js/${bM}`},gk="X-Supabase-Api-Version",wM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function QX(r){return Math.round(Date.now()/1e3)+r}function eZ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Uo=()=>typeof window<"u"&&typeof document<"u",qd={tested:!1,writable:!1},dm=()=>{if(!Uo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qd.tested)return qd.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),qd.tested=!0,qd.writable=!0}catch{qd.tested=!0,qd.writable=!1}return qd.writable};function tZ(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return t.searchParams.forEach((n,s)=>{e[s]=n}),e}const kM=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Oa(async()=>{const{default:n}=await Promise.resolve().then(()=>Pp);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},rZ=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",CM=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},a1=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},i1=async(r,e)=>{await r.removeItem(e)};function nZ(r){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",n,s,a,i,o,c,d,u=0;for(r=r.replace("-","+").replace("_","/");u<r.length;)i=e.indexOf(r.charAt(u++)),o=e.indexOf(r.charAt(u++)),c=e.indexOf(r.charAt(u++)),d=e.indexOf(r.charAt(u++)),n=i<<2|o>>4,s=(o&15)<<4|c>>2,a=(c&3)<<6|d,t=t+String.fromCharCode(n),c!=64&&s!=0&&(t=t+String.fromCharCode(s)),d!=64&&a!=0&&(t=t+String.fromCharCode(a));return t}class c2{constructor(){this.promise=new c2.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}c2.promiseConstructor=Promise;function d7(r){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=r.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=t[1];return JSON.parse(nZ(n))}async function sZ(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function aZ(r,e){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await r(a);if(!e(a,null,i)){n(i);return}}catch(i){if(!e(a,i)){s(i);return}}})()})}function iZ(r){return("0"+r.toString(16)).substr(-2)}function oZ(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let s="";for(let a=0;a<56;a++)s+=t.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,iZ).join("")}async function lZ(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}function cZ(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dZ(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await lZ(r);return cZ(t)}async function Vh(r,e,t=!1){const n=oZ();let s=n;t&&(s+="/PASSWORD_RECOVERY"),await CM(r,`${e}-code-verifier`,s);const a=await dZ(n);return[a,n===a?"plain":"s256"]}const uZ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hZ(r){const e=r.headers.get(gk);if(!e||!e.match(uZ))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class d2 extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function rr(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class SM extends d2{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function NM(r){return rr(r)&&r.name==="AuthApiError"}class F6 extends d2{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Td extends d2{constructor(e,t,n,s){super(e,n,s),this.name=t,this.status=n}}class Pl extends Td{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function EM(r){return rr(r)&&r.name==="AuthSessionMissingError"}class nv extends Td{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yg extends Td{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Gg extends Td{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _M(r){return rr(r)&&r.name==="AuthImplicitGrantRedirectError"}class mk extends Td{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dy extends Td{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function sv(r){return rr(r)&&r.name==="AuthRetryableFetchError"}class xk extends Td{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}var fZ=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};const Kd=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),pZ=[502,503,504];async function u7(r){var e;if(!rZ(r))throw new dy(Kd(r),0);if(pZ.includes(r.status))throw new dy(Kd(r),r.status);let t;try{t=await r.json()}catch(a){throw new F6(Kd(a),a)}let n;const s=hZ(r);if(s&&s.getTime()>=wM["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new xk(Kd(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Pl}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new xk(Kd(t),r.status,t.weak_password.reasons);throw new SM(Kd(t),r.status||500,n)}const gZ=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),t))};async function mr(r,e,t,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[gk]||(a[gk]=wM["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await mZ(r,e,t+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function mZ(r,e,t,n,s,a){const i=gZ(e,n,s,a);let o;try{o=await r(t,Object.assign({},i))}catch(c){throw console.error(c),new dy(Kd(c),0)}if(o.ok||await u7(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await u7(c)}}function jc(r){var e;let t=null;bZ(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=QX(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function h7(r){const e=jc(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function zc(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function xZ(r){return{data:r,error:null}}function vZ(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:a}=r,i=fZ(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:o,user:c},error:null}}function yZ(r){return r}function bZ(r){return r.access_token&&r.refresh_token&&r.expires_in}var wZ=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};class jM{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=kM(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await mr(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(rr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await mr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:zc})}catch(n){if(rr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=wZ(e,["options"]),s=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await mr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:vZ,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(rr(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await mr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zc})}catch(t){if(rr(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,s,a,i,o,c;try{const d={nextPage:null,lastPage:0,total:0},u=await mr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:yZ});if(u.error)throw u.error;const h=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);d[`${v}Page`]=m}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(rr(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){try{return await mr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zc})}catch(t){if(rr(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await mr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:zc})}catch(n){if(rr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await mr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:zc})}catch(n){if(rr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await mr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:n}}catch(t){if(rr(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await mr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(rr(t))return{data:null,error:t};throw t}}}const kZ={getItem:r=>dm()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{dm()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{dm()&&globalThis.localStorage.removeItem(r)}};function f7(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function CZ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qd={debug:!!(globalThis&&dm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class AM extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class TM extends AM{}async function PM(r,e,t){Qd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Qd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Qd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return await t()}finally{Qd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(e===0)throw Qd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new TM(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Qd.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}CZ();const SZ={url:ZX,storageKey:JX,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:KX,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function p7(r,e,t){return await t()}class ip{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ip.nextInstanceID,ip.nextInstanceID+=1,this.instanceID>0&&Uo()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},SZ),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new jM({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=kM(s.fetch),this.lock=s.lock||p7,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Uo()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=PM:this.lock=p7,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:dm()?this.storage=kZ:(this.memoryStorage={},this.storage=f7(this.memoryStorage)):(this.memoryStorage={},this.storage=f7(this.memoryStorage)),Uo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bM}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=tZ(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Uo()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),_M(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return rr(t)?{error:t}:{error:new F6("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,s;try{const a=await mr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:jc}),{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(rr(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,s;try{let a;if("email"in e){const{email:u,password:h,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Vh(this.storage,this.storageKey)),a=await mr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:jc})}else if("phone"in e){const{phone:u,password:h,options:f}=e;a=await mr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:jc})}else throw new Yg("You must provide either an email or phone number and a password");const{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(rr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:i,options:o}=e;t=await mr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:h7})}else if("phone"in e){const{phone:a,password:i,options:o}=e;t=await mr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:h7})}else throw new Yg("You must provide either an email or phone number and a password");const{data:n,error:s}=t;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new nv}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(t){if(rr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await a1(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(t??"").split("/");try{const{data:a,error:i}=await mr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:jc});if(await i1(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new nv}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(rr(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:s,access_token:a,nonce:i}=e,o=await mr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:jc}),{data:c,error:d}=o;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new nv}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(t){if(rr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,s,a,i;try{if("email"in e){const{email:o,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Vh(this.storage,this.storageKey));const{error:h}=await mr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:c}=e,{data:d,error:u}=await mr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Yg("You must provide either an email or phone number.")}catch(o){if(rr(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let s,a;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await mr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:jc});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,d=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(rr(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,n,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await Vh(this.storage,this.storageKey)),await mr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:xZ})}catch(a){if(rr(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Pl;const{error:s}=await mr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(rr(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:a}=e,{error:i}=await mr(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:s,options:a}=e,{data:i,error:o}=await mr(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o}}throw new Yg("You must provide either an email or phone number and a type")}catch(t){if(rr(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await a1(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<f5:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!i&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await mr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zc}):await this._useSession(async t=>{var n,s,a;const{data:i,error:o}=t;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pl}:await mr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:zc})})}catch(t){if(rr(t))return EM(t)&&(await this._removeSession(),await i1(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Pl;const i=s.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await Vh(this.storage,this.storageKey));const{data:d,error:u}=await mr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:i.access_token,xform:zc});if(u)throw u;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(rr(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return d7(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pl;const t=Date.now()/1e3;let n=t,s=!0,a=null;const i=d7(e.access_token);if(i.exp&&(n=i.exp,s=n<=t),s){const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(rr(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:i,error:o}=t;if(o)throw o;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Pl;const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(rr(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Uo())throw new Gg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Gg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new mk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gg("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new mk("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:o,expires_at:c,token_type:d}=e;if(!a||!o||!i||!d)throw new Gg("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(o);let f=u+h;c&&(f=parseInt(c));const p=f-u;p*1e3<=tf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:m,error:v}=await this._getUser(a);if(v)throw v;const x={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:f,refresh_token:i,token_type:d,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(rr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await a1(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:s,error:a}=t;if(a)return{error:a};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,e);if(o&&!(NM(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await i1(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=eZ(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,s;try{const{data:{session:a},error:i}=t;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Vh(this.storage,this.storageKey,!0));try{return await mr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(rr(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(rr(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:s}=await this._useSession(async a=>{var i,o,c,d,u;const{data:h,error:f}=a;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await mr(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Uo()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(rr(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,s;const{data:a,error:i}=t;if(i)throw i;return await mr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(rr(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await aZ(async s=>(s>0&&await sZ(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await mr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:jc})),(s,a)=>{const i=200*Math.pow(2,s);return a&&sv(a)&&Date.now()+i-n<tf})}catch(n){if(this._debug(t,"error",n),rr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Uo()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await a1(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<f5;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${f5}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),sv(a)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Pl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new c2;const{data:a,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!a.session)throw new Pl;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(s,"error",a),rr(a)){const i={session:null,error:a};return sv(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await CM(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await i1(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Uo()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),tf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/tf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${tf}ms, refresh threshold is ${pk} ticks`),s<=pk&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof AM)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Uo()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const s=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await Vh(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:s,error:a}=t;return a?{data:null,error:a}:await mr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(rr(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,s;const{data:a,error:i}=t;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await mr(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(t){if(rr(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:a}=t;if(a)return{data:null,error:a};const{data:i,error:o}=await mr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(t){if(rr(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:a}=t;return a?{data:null,error:a}:await mr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(rr(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),a=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:s},error:a}=e;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(s.access_token);let o=null;i.aal&&(o=i.aal);let c=o;((n=(t=s.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}}ip.nextInstanceID=0;const LM=ip;class NZ extends LM{constructor(e){super(e)}}var EZ=function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?a(u.value):s(u.value).then(o,c)}d((n=n.apply(r,e||[])).next())})};class DM{constructor(e,t,n){var s,a,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=GX(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:zX,realtime:UX,auth:Object.assign(Object.assign({},HX),{storageKey:c}),global:BX},u=XX(n??{},d);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=qX(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new oX(`${o}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new OG(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new IX(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return EZ(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,storageKey:a,flowType:i,lock:o,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new NZ({url:this.authUrl,headers:Object.assign(Object.assign({},h),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,flowType:i,lock:o,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new xM(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const MM=(r,e,t)=>new DM(r,e,t),_Z=Object.freeze(Object.defineProperty({__proto__:null,AuthApiError:SM,AuthClient:LM,AuthError:d2,AuthImplicitGrantRedirectError:Gg,AuthInvalidCredentialsError:Yg,AuthInvalidTokenResponseError:nv,AuthPKCEGrantCodeExchangeError:mk,AuthRetryableFetchError:dy,AuthSessionMissingError:Pl,AuthUnknownError:F6,AuthWeakPasswordError:xk,CustomAuthError:Td,get FunctionRegion(){return ly},FunctionsError:t2,FunctionsFetchError:QD,FunctionsHttpError:tM,FunctionsRelayError:eM,GoTrueAdminApi:jM,GoTrueClient:ip,NavigatorLockAcquireTimeoutError:TM,PostgrestError:lX,get REALTIME_LISTEN_TYPES(){return uk},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return dk},get REALTIME_PRESENCE_LISTEN_EVENTS(){return ck},get REALTIME_SUBSCRIBE_STATES(){return Xo},RealtimeChannel:l2,RealtimeClient:xM,RealtimePresence:Mf,SupabaseClient:DM,createClient:MM,isAuthApiError:NM,isAuthError:rr,isAuthImplicitGrantRedirectError:_M,isAuthRetryableFetchError:sv,isAuthSessionMissingError:EM,lockInternals:Qd,navigatorLock:PM},Symbol.toStringTag,{value:"Module"}));async function RM(r){const e={authUserExists:!1,adminRecordExists:!1,rolesTableExists:!1,adminRoleExists:!1,adminRoleId:null,constraint_violations:[]};try{const{data:t,error:n}=await G.auth.admin.getUserById(r);e.authUserExists=!!t&&!n,n&&e.constraint_violations.push(`Auth user error: ${n.message}`);const{data:s,error:a}=await G.from("admins").select("id").eq("id",r).maybeSingle();e.adminRecordExists=!!s,a&&e.constraint_violations.push(`Admin check error: ${a.message}`);const{data:i,error:o}=await G.from("roles").select("id, name").eq("name","admin").maybeSingle();e.rolesTableExists=!o||!o.message.includes('relation "roles" does not exist'),e.adminRoleExists=!!i,e.adminRoleId=(i==null?void 0:i.id)||null,o&&e.constraint_violations.push(`Roles error: ${o.message}`)}catch(t){e.constraint_violations.push(`General error: ${t.message}`)}return e}async function jZ(r){const e=await RM(r);if(!e.authUserExists)return{success:!1,error:"Usuário não existe no Supabase Auth",debug:e};if(e.adminRecordExists)return{success:!0,debug:e};if(!e.adminRoleExists)try{const{data:t,error:n}=await G.from("roles").insert([{name:"admin",description:"Administrador com acesso total ao sistema"}]).select().single();if(n)return{success:!1,error:`Erro ao criar role admin: ${n.message}`,debug:e};e.adminRoleId=t.id,e.adminRoleExists=!0}catch(t){return{success:!1,error:`Erro ao criar role admin: ${t.message}`,debug:e}}return{success:!0,debug:e}}async function AZ({firstName:r,lastName:e,email:t,password:n,phone:s}){var a,i;try{const{data:o,error:c}=await G.from("roles").select("id").eq("name","admin").maybeSingle();if(c||!(o!=null&&o.id))return console.error("❌ [AdminRegister] Erro ao buscar role admin:",c),{success:!1,error:"Não foi possível encontrar o role de administrador."};const{data:d}=await G.from("admins").select("id").eq("email",t.trim()).maybeSingle();if(d)return{success:!1,error:"Este e-mail já está cadastrado como administrador."};let u="",h=!1;const{data:f}=await G.auth.admin.listUsers();if(f&&f.users){const v=f.users.find(x=>x.email===t.trim());v&&(console.log("⚠️ [AdminRegister] Usuário já existe no Auth:",v.id),u=v.id,h=!0)}if(!h){console.log("🔍 [AdminRegister] Criando novo usuário no Supabase Auth...");const{data:v,error:x}=await G.auth.signUp({email:t.trim(),password:n.trim(),options:{data:{first_name:r.trim(),last_name:e.trim(),phone:(s==null?void 0:s.trim())||"",role:"admin",role_id:o.id}}});if(x)return console.error("❌ [AdminRegister] Erro ao criar usuário no Auth:",x),(a=x.message)!=null&&a.toLowerCase().includes("user already registered")||(i=x.message)!=null&&i.toLowerCase().includes("email")?{success:!1,error:"Este e-mail já está cadastrado."}:{success:!1,error:x.message||"Erro ao criar usuário."};if(!(v!=null&&v.user))return console.error("❌ [AdminRegister] Usuário não foi criado no Auth"),{success:!1,error:"Erro ao criar usuário."};u=v.user.id,console.log("✅ [AdminRegister] Novo usuário criado no Auth:",u)}console.log("🔍 [AdminRegister] Verificando se admin já existe na tabela...");const{data:p}=await G.from("admins").select("id").eq("id",u).maybeSingle();if(p)return console.log("⚠️ [AdminRegister] Admin já existe na tabela:",p.id),{success:!1,error:"Este usuário já está cadastrado como administrador."};console.log("🔍 [AdminRegister] Inserindo admin na tabela admins..."),console.log("🔍 [AdminRegister] Dados:",{id:u,email:t.trim(),first_name:r.trim(),last_name:e.trim(),phone:(s==null?void 0:s.trim())||"",role:"admin",role_id:o.id});const{data:g,error:m}=await G.from("admins").insert([{id:u,email:t.trim(),first_name:r.trim(),last_name:e.trim(),phone:(s==null?void 0:s.trim())||"",role:"admin",role_id:o.id,is_first_admin:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(m){console.error("❌ [AdminRegister] Erro ao inserir admin:",m),console.log("🔍 [AdminRegister] Iniciando diagnóstico...");const v=await RM(u);if(console.log("🔍 [AdminRegister] Debug info:",v),v.constraint_violations.length>0){console.log("🔧 [AdminRegister] Tentando correção automática...");const x=await jZ(u);if(console.log("🔧 [AdminRegister] Resultado da correção:",x),x.success){const{error:y}=await G.from("admins").insert([{id:u,email:t.trim(),first_name:r.trim(),last_name:e.trim(),phone:(s==null?void 0:s.trim())||"",role:"admin",role_id:x.debug.adminRoleId,is_first_admin:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();return y?{success:!1,error:`Erro após correção: ${y.message}`}:(console.log("✅ [AdminRegister] Admin inserido após correção!"),{success:!0})}}return{success:!1,error:m.message||"Erro ao cadastrar administrador."}}return g?(console.log("✅ [AdminRegister] Admin cadastrado com sucesso:",g.id),{success:!0}):{success:!1,error:"Não foi possível cadastrar o administrador."}}catch(o){return{success:!1,error:o.message||"Erro ao cadastrar administrador."}}}async function TZ({userId:r,email:e,firstName:t,lastName:n,phone:s}){try{const{data:a,error:i}=await G.from("roles").select("id").eq("name","admin").maybeSingle();if(i||!(a!=null&&a.id))throw new Error("Não foi possível encontrar o role de administrador.");const{data:o}=await G.from("admins").select("id").eq("id",r).maybeSingle();if(o)return{success:!0};const{error:c}=await G.from("admins").insert([{id:r,email:e.trim(),first_name:t.trim(),last_name:n.trim(),phone:(s==null?void 0:s.trim())||"",role:"admin",role_id:a.id,is_first_admin:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);if(c)throw c;return{success:!0}}catch(a){return{success:!1,error:a.message||"Erro ao inserir admin."}}}const PZ="https://uxbeaslwirkepnowydfu.supabase.co",LZ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV4YmVhc2x3aXJrZXBub3d5ZGZ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE4MTQwNTUsImV4cCI6MjA1NzM5MDA1NX0.bhPFhXaCgp363YlcAWtNhPlpj82dSNUWwNim2fgYh5s",G=MM(PZ,LZ,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:window.localStorage},global:{headers:{"X-Client-Info":"supabase-js-web"}}}),av={MAX_ATTEMPTS:5,WINDOW_MS:15*60*1e3,RESET_MS:30*60*1e3};function IM(r){const e=Date.now(),t=localStorage.getItem(r);if(!t){const a={attempts:1,firstAttempt:e,lastAttempt:e};return localStorage.setItem(r,JSON.stringify(a)),!0}const n=JSON.parse(t);if(e-n.firstAttempt>av.RESET_MS){const a={attempts:1,firstAttempt:e,lastAttempt:e};return localStorage.setItem(r,JSON.stringify(a)),!0}if(n.attempts>=av.MAX_ATTEMPTS&&e-n.firstAttempt<av.WINDOW_MS)return!1;const s={attempts:n.attempts+1,firstAttempt:n.firstAttempt,lastAttempt:e};return localStorage.setItem(r,JSON.stringify(s)),!0}function OM(r){const e=localStorage.getItem(r);if(!e)return 0;const{firstAttempt:t}=JSON.parse(e),n=Date.now(),s=Math.max(0,av.RESET_MS-(n-t));return Math.ceil(s/1e3/60)}async function DZ(r,e){var t,n,s;try{const a=r.trim().toLowerCase(),i=`auth_attempts_${a}`;if(!IM(i)){const f=OM(i);throw new Error(`Too many attempts. Try again in ${f} minutes.`)}if(!a||!(e!=null&&e.trim()))throw new Error("Email and password are required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a))throw new Error("Invalid email");const{data:{user:o,session:c},error:d}=await G.auth.signInWithPassword({email:a,password:e.trim()});if(d)throw d;if(!o||!c)throw new Error("User data not found");try{await TZ({userId:o.id,email:o.email||"",firstName:((t=o.user_metadata)==null?void 0:t.first_name)||"",lastName:((n=o.user_metadata)==null?void 0:n.last_name)||"",phone:((s=o.user_metadata)==null?void 0:s.phone)||""})}catch(f){console.error("Erro ao garantir admin na tabela admins:",f)}const{data:u,error:h}=await G.from("admins").select("id, email, first_name, last_name, is_first_admin").eq("id",o.id).single();if(h||!u)throw await u2(),new Error("User does not have admin permissions");return localStorage.removeItem(i),{user:o,admin:u,session:c}}catch(a){throw console.error("Login error:",a),a}}async function MZ(r,e){try{const t=r.trim().toLowerCase(),n=`auth_attempts_${t}`;if(!IM(n)){const d=OM(n);throw new Error(`Too many attempts. Try again in ${d} minutes.`)}if(!t||!(e!=null&&e.trim()))throw new Error("Email and password are required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error("Invalid email");const{data:{user:s,session:a},error:i}=await G.auth.signInWithPassword({email:t,password:e.trim()});if(i)throw i;if(!s||!a)throw new Error("User data not found");const{data:o,error:c}=await G.from("platform_users").select("*").eq("id",s.id).maybeSingle();if(c)throw c;if(!o)throw new Error("User not found");if(!s.email_confirmed_at)throw await u2(),new Error("Email não confirmado. Por favor, verifique sua caixa de entrada.");return localStorage.removeItem(n),{user:s,platformUser:o,session:a}}catch(t){throw console.error("Login error:",t),t}}async function u2(){try{const r=localStorage.getItem("theme");localStorage.clear(),r&&localStorage.setItem("theme",r);const{error:e}=await G.auth.signOut();if(e)throw e}catch(r){throw console.error("Logout error:",r),r}}async function RZ(){try{const{data:{session:r},error:e}=await G.auth.getSession();if(e)throw e;return r}catch(r){return console.error("Error getting session:",r),null}}async function IZ(){try{if(!await RZ())return null;const{data:{user:e},error:t}=await G.auth.getUser();if(t)throw t;if(!e)return null;const{data:n}=await G.from("admins").select("*").eq("id",e.id).maybeSingle();if(n)return{user:e,type:"admin",data:n};const{data:s}=await G.from("platform_users").select("*").eq("id",e.id).maybeSingle();return s?{user:e,type:"platform",data:s}:(await u2(),null)}catch(r){return console.error("Error getting user:",r),null}}function OZ({children:r}){const[e,t]=b.useState(null),[n,s]=b.useState(!0);return b.useEffect(()=>{async function a(){s(!0);const{data:{user:i}}=await G.auth.getUser();if(!i){t(!1),s(!1);return}const{data:o}=await G.from("roles").select("id").eq("name","admin").maybeSingle();if(!(o!=null&&o.id)){t(!1),s(!1);return}const{data:c}=await G.from("admins").select("role, role_id").eq("id",i.id).maybeSingle();if(c&&c.role==="admin"&&c.role_id===o.id){t(!0),s(!1);return}const{data:d}=await G.from("platform_users").select("role, role_id").eq("id",i.id).maybeSingle();if(d&&d.role==="admin"&&d.role_id===o.id){t(!0),s(!1);return}t(!1),s(!1)}a()},[]),n?l.jsx("div",{children:"Carregando..."}):e?l.jsx(l.Fragment,{children:r}):l.jsx(qD,{to:"/",replace:!0})}function FM(){return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute right-0 top-0 -z-1 w-full max-w-[250px] xl:max-w-[450px]",children:l.jsx("img",{src:"/images/shape/grid-01.svg",alt:"grid"})}),l.jsx("div",{className:"absolute bottom-0 left-0 -z-1 w-full max-w-[250px] rotate-180 xl:max-w-[450px]",children:l.jsx("img",{src:"/images/shape/grid-01.svg",alt:"grid"})})]})}var FZ=typeof Element<"u",BZ=typeof Map=="function",zZ=typeof Set=="function",HZ=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function iv(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){if(r.constructor!==e.constructor)return!1;var t,n,s;if(Array.isArray(r)){if(t=r.length,t!=e.length)return!1;for(n=t;n--!==0;)if(!iv(r[n],e[n]))return!1;return!0}var a;if(BZ&&r instanceof Map&&e instanceof Map){if(r.size!==e.size)return!1;for(a=r.entries();!(n=a.next()).done;)if(!e.has(n.value[0]))return!1;for(a=r.entries();!(n=a.next()).done;)if(!iv(n.value[1],e.get(n.value[0])))return!1;return!0}if(zZ&&r instanceof Set&&e instanceof Set){if(r.size!==e.size)return!1;for(a=r.entries();!(n=a.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(HZ&&ArrayBuffer.isView(r)&&ArrayBuffer.isView(e)){if(t=r.length,t!=e.length)return!1;for(n=t;n--!==0;)if(r[n]!==e[n])return!1;return!0}if(r.constructor===RegExp)return r.source===e.source&&r.flags===e.flags;if(r.valueOf!==Object.prototype.valueOf&&typeof r.valueOf=="function"&&typeof e.valueOf=="function")return r.valueOf()===e.valueOf();if(r.toString!==Object.prototype.toString&&typeof r.toString=="function"&&typeof e.toString=="function")return r.toString()===e.toString();if(s=Object.keys(r),t=s.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[n]))return!1;if(FZ&&r instanceof Element)return!1;for(n=t;n--!==0;)if(!((s[n]==="_owner"||s[n]==="__v"||s[n]==="__o")&&r.$$typeof)&&!iv(r[s[n]],e[s[n]]))return!1;return!0}return r!==r&&e!==e}var UZ=function(e,t){try{return iv(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const $Z=_o(UZ);var VZ=function(r,e,t,n,s,a,i,o){if(!r){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[t,n,s,a,i,o],u=0;c=new Error(e.replace(/%s/g,function(){return d[u++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},BM=VZ;const g7=_o(BM);var WZ=function(e,t,n,s){var a=n?n.call(s,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),d=0;d<i.length;d++){var u=i[d];if(!c(u))return!1;var h=e[u],f=t[u];if(a=n?n.call(s,h,f,u):void 0,a===!1||a===void 0&&h!==f)return!1}return!0};const qZ=_o(WZ);var zM=(r=>(r.BASE="base",r.BODY="body",r.HEAD="head",r.HTML="html",r.LINK="link",r.META="meta",r.NOSCRIPT="noscript",r.SCRIPT="script",r.STYLE="style",r.TITLE="title",r.FRAGMENT="Symbol(react.fragment)",r))(zM||{}),p5={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},m7=Object.values(zM),B6={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},YZ=Object.entries(B6).reduce((r,[e,t])=>(r[t]=e,r),{}),po="data-rh",Rf={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},If=(r,e)=>{for(let t=r.length-1;t>=0;t-=1){const n=r[t];if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}return null},GZ=r=>{let e=If(r,"title");const t=If(r,Rf.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const n=If(r,Rf.DEFAULT_TITLE);return e||n||void 0},XZ=r=>If(r,Rf.ON_CHANGE_CLIENT_STATE)||(()=>{}),g5=(r,e)=>e.filter(t=>typeof t[r]<"u").map(t=>t[r]).reduce((t,n)=>({...t,...n}),{}),ZZ=(r,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,n)=>{if(!t.length){const s=Object.keys(n);for(let a=0;a<s.length;a+=1){const o=s[a].toLowerCase();if(r.indexOf(o)!==-1&&n[o])return t.concat(n)}}return t},[]),JZ=r=>console&&typeof console.warn=="function"&&console.warn(r),Lg=(r,e,t)=>{const n={};return t.filter(s=>Array.isArray(s[r])?!0:(typeof s[r]<"u"&&JZ(`Helmet: ${r} should be of type "Array". Instead found type "${typeof s[r]}"`),!1)).map(s=>s[r]).reverse().reduce((s,a)=>{const i={};a.filter(c=>{let d;const u=Object.keys(c);for(let f=0;f<u.length;f+=1){const p=u[f],g=p.toLowerCase();e.indexOf(g)!==-1&&!(d==="rel"&&c[d].toLowerCase()==="canonical")&&!(g==="rel"&&c[g].toLowerCase()==="stylesheet")&&(d=g),e.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(d=p)}if(!d||!c[d])return!1;const h=c[d].toLowerCase();return n[d]||(n[d]={}),i[d]||(i[d]={}),n[d][h]?!1:(i[d][h]=!0,!0)}).reverse().forEach(c=>s.push(c));const o=Object.keys(i);for(let c=0;c<o.length;c+=1){const d=o[c],u={...n[d],...i[d]};n[d]=u}return s},[]).reverse()},KZ=(r,e)=>{if(Array.isArray(r)&&r.length){for(let t=0;t<r.length;t+=1)if(r[t][e])return!0}return!1},QZ=r=>({baseTag:ZZ(["href"],r),bodyAttributes:g5("bodyAttributes",r),defer:If(r,Rf.DEFER),encode:If(r,Rf.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:g5("htmlAttributes",r),linkTags:Lg("link",["rel","href"],r),metaTags:Lg("meta",["name","charset","http-equiv","property","itemprop"],r),noscriptTags:Lg("noscript",["innerHTML"],r),onChangeClientState:XZ(r),scriptTags:Lg("script",["src","innerHTML"],r),styleTags:Lg("style",["cssText"],r),title:GZ(r),titleAttributes:g5("titleAttributes",r),prioritizeSeoTags:KZ(r,Rf.PRIORITIZE_SEO_TAGS)}),HM=r=>Array.isArray(r)?r.join(""):r,eJ=(r,e)=>{const t=Object.keys(r);for(let n=0;n<t.length;n+=1)if(e[t[n]]&&e[t[n]].includes(r[t[n]]))return!0;return!1},m5=(r,e)=>Array.isArray(r)?r.reduce((t,n)=>(eJ(n,e)?t.priority.push(n):t.default.push(n),t),{priority:[],default:[]}):{default:r,priority:[]},x7=(r,e)=>({...r,[e]:void 0}),tJ=["noscript","script","style"],vk=(r,e=!0)=>e===!1?String(r):String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),UM=r=>Object.keys(r).reduce((e,t)=>{const n=typeof r[t]<"u"?`${t}="${r[t]}"`:`${t}`;return e?`${e} ${n}`:n},""),rJ=(r,e,t,n)=>{const s=UM(t),a=HM(e);return s?`<${r} ${po}="true" ${s}>${vk(a,n)}</${r}>`:`<${r} ${po}="true">${vk(a,n)}</${r}>`},nJ=(r,e,t=!0)=>e.reduce((n,s)=>{const a=s,i=Object.keys(a).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,u)=>{const h=typeof a[u]>"u"?u:`${u}="${vk(a[u],t)}"`;return d?`${d} ${h}`:h},""),o=a.innerHTML||a.cssText||"",c=tJ.indexOf(r)===-1;return`${n}<${r} ${po}="true" ${i}${c?"/>":`>${o}</${r}>`}`},""),$M=(r,e={})=>Object.keys(r).reduce((t,n)=>{const s=B6[n];return t[s||n]=r[n],t},e),sJ=(r,e,t)=>{const n={key:e,[po]:!0},s=$M(t,n);return[ht.createElement("title",s,e)]},ov=(r,e)=>e.map((t,n)=>{const s={key:n,[po]:!0};return Object.keys(t).forEach(a=>{const o=B6[a]||a;if(o==="innerHTML"||o==="cssText"){const c=t.innerHTML||t.cssText;s.dangerouslySetInnerHTML={__html:c}}else s[o]=t[a]}),ht.createElement(r,s)}),Di=(r,e,t=!0)=>{switch(r){case"title":return{toComponent:()=>sJ(r,e.title,e.titleAttributes),toString:()=>rJ(r,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>$M(e),toString:()=>UM(e)};default:return{toComponent:()=>ov(r,e),toString:()=>nJ(r,e,t)}}},aJ=({metaTags:r,linkTags:e,scriptTags:t,encode:n})=>{const s=m5(r,p5.meta),a=m5(e,p5.link),i=m5(t,p5.script);return{priorityMethods:{toComponent:()=>[...ov("meta",s.priority),...ov("link",a.priority),...ov("script",i.priority)],toString:()=>`${Di("meta",s.priority,n)} ${Di("link",a.priority,n)} ${Di("script",i.priority,n)}`},metaTags:s.default,linkTags:a.default,scriptTags:i.default}},iJ=r=>{const{baseTag:e,bodyAttributes:t,encode:n=!0,htmlAttributes:s,noscriptTags:a,styleTags:i,title:o="",titleAttributes:c,prioritizeSeoTags:d}=r;let{linkTags:u,metaTags:h,scriptTags:f}=r,p={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:p,linkTags:u,metaTags:h,scriptTags:f}=aJ(r)),{priority:p,base:Di("base",e,n),bodyAttributes:Di("bodyAttributes",t,n),htmlAttributes:Di("htmlAttributes",s,n),link:Di("link",u,n),meta:Di("meta",h,n),noscript:Di("noscript",a,n),script:Di("script",f,n),style:Di("style",i,n),title:Di("title",{title:o,titleAttributes:c},n)}},yk=iJ,o1=[],VM=!!(typeof window<"u"&&window.document&&window.document.createElement),bk=class{constructor(r,e){hr(this,"instances",[]);hr(this,"canUseDOM",VM);hr(this,"context");hr(this,"value",{setHelmet:r=>{this.context.helmet=r},helmetInstances:{get:()=>this.canUseDOM?o1:this.instances,add:r=>{(this.canUseDOM?o1:this.instances).push(r)},remove:r=>{const e=(this.canUseDOM?o1:this.instances).indexOf(r);(this.canUseDOM?o1:this.instances).splice(e,1)}}});this.context=r,this.canUseDOM=e||!1,e||(r.helmet=yk({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},oJ={},WM=ht.createContext(oJ),Tu,qM=(Tu=class extends b.Component{constructor(t){super(t);hr(this,"helmetData");this.helmetData=new bk(this.props.context||{},Tu.canUseDOM)}render(){return ht.createElement(WM.Provider,{value:this.helmetData.value},this.props.children)}},hr(Tu,"canUseDOM",VM),Tu),Wh=(r,e)=>{const t=document.head||document.querySelector("head"),n=t.querySelectorAll(`${r}[${po}]`),s=[].slice.call(n),a=[];let i;return e&&e.length&&e.forEach(o=>{const c=document.createElement(r);for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d))if(d==="innerHTML")c.innerHTML=o.innerHTML;else if(d==="cssText")c.styleSheet?c.styleSheet.cssText=o.cssText:c.appendChild(document.createTextNode(o.cssText));else{const u=d,h=typeof o[u]>"u"?"":o[u];c.setAttribute(d,h)}c.setAttribute(po,"true"),s.some((d,u)=>(i=u,c.isEqualNode(d)))?s.splice(i,1):a.push(c)}),s.forEach(o=>{var c;return(c=o.parentNode)==null?void 0:c.removeChild(o)}),a.forEach(o=>t.appendChild(o)),{oldTags:s,newTags:a}},wk=(r,e)=>{const t=document.getElementsByTagName(r)[0];if(!t)return;const n=t.getAttribute(po),s=n?n.split(","):[],a=[...s],i=Object.keys(e);for(const o of i){const c=e[o]||"";t.getAttribute(o)!==c&&t.setAttribute(o,c),s.indexOf(o)===-1&&s.push(o);const d=a.indexOf(o);d!==-1&&a.splice(d,1)}for(let o=a.length-1;o>=0;o-=1)t.removeAttribute(a[o]);s.length===a.length?t.removeAttribute(po):t.getAttribute(po)!==i.join(",")&&t.setAttribute(po,i.join(","))},lJ=(r,e)=>{typeof r<"u"&&document.title!==r&&(document.title=HM(r)),wk("title",e)},v7=(r,e)=>{const{baseTag:t,bodyAttributes:n,htmlAttributes:s,linkTags:a,metaTags:i,noscriptTags:o,onChangeClientState:c,scriptTags:d,styleTags:u,title:h,titleAttributes:f}=r;wk("body",n),wk("html",s),lJ(h,f);const p={baseTag:Wh("base",t),linkTags:Wh("link",a),metaTags:Wh("meta",i),noscriptTags:Wh("noscript",o),scriptTags:Wh("script",d),styleTags:Wh("style",u)},g={},m={};Object.keys(p).forEach(v=>{const{newTags:x,oldTags:y}=p[v];x.length&&(g[v]=x),y.length&&(m[v]=p[v].oldTags)}),e&&e(),c(r,g,m)},Dg=null,cJ=r=>{Dg&&cancelAnimationFrame(Dg),r.defer?Dg=requestAnimationFrame(()=>{v7(r,()=>{Dg=null})}):(v7(r),Dg=null)},dJ=cJ,y7=class extends b.Component{constructor(){super(...arguments);hr(this,"rendered",!1)}shouldComponentUpdate(e){return!qZ(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let n=null;const s=QZ(e.get().map(a=>{const i={...a.props};return delete i.context,i}));qM.canUseDOM?dJ(s):yk&&(n=yk(s)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},h3,b7=(h3=class extends b.Component{shouldComponentUpdate(r){return!$Z(x7(this.props,"helmetData"),x7(r,"helmetData"))}mapNestedChildrenToProps(r,e){if(!e)return null;switch(r.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${r.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(r,e,t,n){return{...e,[r.type]:[...e[r.type]||[],{...t,...this.mapNestedChildrenToProps(r,n)}]}}mapObjectTypeChildren(r,e,t,n){switch(r.type){case"title":return{...e,[r.type]:n,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[r.type]:{...t}}}}mapArrayTypeChildrenToProps(r,e){let t={...e};return Object.keys(r).forEach(n=>{t={...t,[n]:r[n]}}),t}warnOnInvalidChildren(r,e){return g7(m7.some(t=>r.type===t),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${m7.join(", ")} are allowed. Helmet does not support rendering <${r.type}> elements. Refer to our API for more information.`),g7(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${r.type}>. Did you forget to wrap your children in braces? ( <${r.type}>{\`\`}</${r.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(r,e){let t={};return ht.Children.forEach(r,n=>{if(!n||!n.props)return;const{children:s,...a}=n.props,i=Object.keys(a).reduce((c,d)=>(c[YZ[d]||d]=a[d],c),{});let{type:o}=n;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(n,s),o){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(n,t,i,s);break;default:e=this.mapObjectTypeChildren(n,e,i,s);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:r,...e}=this.props;let t={...e},{helmetData:n}=e;if(r&&(t=this.mapChildrenToProps(r,t)),n&&!(n instanceof bk)){const s=n;n=new bk(s.context,!0),delete t.helmetData}return n?ht.createElement(y7,{...t,context:n.value}):ht.createElement(WM.Consumer,null,s=>ht.createElement(y7,{...t,context:s}))}},hr(h3,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),h3);class um{static async getSiteSettings(){try{const{data:e,error:t}=await G.from("settings").select("*").single();if(t){if(t.code==="PGRST116")return await this.createInitialSettings();throw t}return e}catch(e){return console.error("Erro ao buscar configurações do site:",e),null}}static async updateSiteMetaData(e){try{const t=await this.getSiteSettings();if(!t)throw new Error("Configurações não encontradas");const{error:n}=await G.from("settings").update({site_title:e.site_title.trim(),site_description:e.site_description.trim(),updated_at:new Date().toISOString()}).eq("id",t.id);if(n)throw n;return!0}catch(t){return console.error("Erro ao atualizar metadados do site:",t),!1}}static async getSiteMetaData(){try{const{data:e,error:t}=await G.from("settings").select("site_title, site_description").single();if(t){if(t.code==="PGRST116")return await this.createInitialSettings(),{site_title:"Marketplace Platform",site_description:"Plataforma de marketplace para conectar publishers e anunciantes"};throw t}return{site_title:e.site_title||"Marketplace Platform",site_description:e.site_description||"Plataforma de marketplace para conectar publishers e anunciantes"}}catch(e){return console.error("Erro ao buscar metadados do site:",e),null}}static async createInitialSettings(){const{data:e,error:t}=await G.from("settings").insert([{site_title:"Marketplace Platform",site_description:"Plataforma de marketplace para conectar publishers e anunciantes"}]).select().single();if(t)throw t;return e}static validateSiteMetaData(e){const t=[];return(!e.site_title||e.site_title.trim().length===0)&&t.push("Título do site é obrigatório"),e.site_title&&e.site_title.trim().length>100&&t.push("Título do site deve ter no máximo 100 caracteres"),(!e.site_description||e.site_description.trim().length===0)&&t.push("Descrição do site é obrigatória"),e.site_description&&e.site_description.trim().length>300&&t.push("Descrição do site deve ter no máximo 300 caracteres"),t}}const uJ=()=>{const[r,e]=b.useState({site_title:"Marketplace",site_description:"Marketplace de Serviços Digitais"}),[t,n]=b.useState(!0);b.useEffect(()=>{s()},[]);const s=async()=>{try{n(!0);const a=await um.getSiteMetaData();a&&e({site_title:a.site_title||"Marketplace",site_description:a.site_description||"Marketplace de Serviços Digitais"})}catch(a){console.error("Erro ao carregar metadados:",a)}finally{n(!1)}};return{metadata:r,isLoading:t,reloadMetadata:s}},er=({title:r,description:e,pageTitle:t})=>{const{metadata:n,isLoading:s}=uJ();if(s)return l.jsxs(b7,{children:[l.jsx("title",{children:r||`${t?t+" - ":""}Marketplace`}),l.jsx("meta",{name:"description",content:e||"Marketplace de Serviços Digitais"}),l.jsx("meta",{name:"robots",content:"noindex, nofollow"}),l.jsx("meta",{name:"googlebot",content:"noindex, nofollow"})]});const a=r||(t?`${t} - ${n.site_title}`:n.site_title),i=e||n.site_description;return l.jsxs(b7,{children:[l.jsx("title",{children:a}),l.jsx("meta",{name:"description",content:i}),l.jsx("meta",{name:"robots",content:"noindex, nofollow"}),l.jsx("meta",{name:"googlebot",content:"noindex, nofollow"})]})},hJ=({children:r})=>l.jsx(qM,{children:r});async function fJ(r){try{const{data:e,error:t}=await G.from("admins").select("*").eq("id",r).maybeSingle();if(t)throw t;return e}catch(e){return console.error("Erro ao buscar perfil admin:",e),null}}async function pJ(r){try{const{data:e,error:t}=await G.from("platform_users").select("*").eq("id",r).maybeSingle();if(t)throw t;return e}catch(e){return console.error("Erro ao buscar perfil do usuário da plataforma:",e),null}}async function YM(){try{const{data:{user:r}}=await G.auth.getUser();if(!r)return{isAdmin:!1,profile:null};const e=await fJ(r.id);return e?{isAdmin:!0,profile:e}:{isAdmin:!1,profile:await pJ(r.id)}}catch(r){return console.error("Erro ao buscar perfil do usuário atual:",r),{isAdmin:!1,profile:null}}}async function GM(){try{const{isAdmin:r,profile:e}=await YM();return r?"admin":e&&"role"in e?e.role:null}catch(r){return console.error("Erro ao obter role do usuário:",r),null}}const h2={admin:{dashboard:"/dashboard",profile:"/profile",settings:"/settings"},publisher:{dashboard:"/publisher/dashboard",profile:"/publisher/profile",settings:"/publisher/settings"},advertiser:{dashboard:"/advertiser/dashboard",profile:"/advertiser/profile",settings:"/advertiser/settings"}},wo="/",gJ="/";function XM(r){return r?h2[r].dashboard:wo}function mJ(r){return r?h2[r].profile:wo}function xJ(r){return r?h2[r].settings:wo}async function w7(){try{const r=await GM();return XM(r)}catch(r){return console.error("Erro ao obter caminho home:",r),gJ}}function vJ(r){return r?h2[r]:{dashboard:wo,profile:wo,settings:wo}}function f2(){const[r,e]=b.useState(null),[t,n]=b.useState(!0),[s,a]=b.useState({dashboard:"/",profile:"/",settings:"/",home:"/"});b.useEffect(()=>{i()},[]);const i=async()=>{try{n(!0);const c=await GM();e(c);const d=vJ(c),u=await w7();a({dashboard:d.dashboard,profile:d.profile,settings:d.settings,home:u})}catch(c){console.error("Erro ao carregar caminhos do usuário:",c)}finally{n(!1)}};return{userRole:r,paths:s,isLoading:t,refreshPaths:()=>{i()},getDashboard:()=>XM(r),getProfile:()=>mJ(r),getSettings:()=>xJ(r),getHome:w7}}function yJ({tab:r,isActive:e,onClick:t,compact:n=!1,minWidth:s}){const a=()=>{r.disabled||t(r.id)},i=["inline-flex","items-center","gap-2","justify-center","rounded-md","h-full","text-sm","font-medium","transition-colors","duration-200","ease-in-out","whitespace-nowrap","group",n?"px-2 py-1.5":"px-3 py-2"],o=s?"":n?"min-w-[80px]":"min-w-[100px]";o&&i.push(o);const c=r.disabled?["bg-gray-100","text-gray-400","cursor-not-allowed","dark:bg-gray-800","dark:text-gray-600"]:e?["bg-white","text-gray-900","shadow-theme-xs","dark:bg-white/[0.03]","dark:text-white"]:["bg-transparent","text-gray-500","hover:text-gray-700","dark:text-gray-400","dark:hover:text-gray-200","cursor-pointer"],d=[...i,...c].join(" "),u=s?{minWidth:s}:void 0;return l.jsxs("button",{className:d,style:u,onClick:a,disabled:r.disabled,type:"button",role:"tab","aria-selected":e,"aria-disabled":r.disabled,children:[r.icon&&l.jsx("span",{className:"w-4 h-4 flex-shrink-0",children:r.icon}),l.jsx("span",{children:r.label}),typeof r.count=="number"&&l.jsx("span",{className:`inline-flex rounded-full px-2 py-0.5 text-xs font-medium leading-normal transition-colors duration-200 ${r.disabled?"bg-gray-200 text-gray-400 dark:bg-gray-700 dark:text-gray-500":e?"text-brand-500 dark:text-brand-400 bg-brand-50 dark:bg-brand-500/15":"bg-white dark:bg-white/[0.03] text-gray-500 dark:text-gray-400 group-hover:bg-brand-50 group-hover:text-brand-500 dark:group-hover:bg-brand-500/15 dark:group-hover:text-brand-400"}`,children:r.count})]})}function bJ({tabs:r,activeTabId:e,onTabChange:t,className:n="",compact:s=!1}){const a=["flex","rounded-lg","bg-gray-100","dark:bg-gray-900","h-11","items-center",s?"p-0.5":"p-1","gap-1","flex-nowrap","min-w-0",n].filter(Boolean).join(" "),i={minWidth:"max-content"};return r.length===0?null:l.jsx("nav",{className:a,style:i,role:"tablist","aria-label":"Navegação por tabs do marketplace",children:r.map(o=>l.jsx(yJ,{tab:o,isActive:e===o.id,onClick:t,compact:s},o.id))})}function wJ(){const{paths:r}=f2();return l.jsxs(l.Fragment,{children:[l.jsx(er,{pageTitle:"Página não encontrada",description:"A página que você está procurando não foi encontrada"}),l.jsxs("div",{className:"relative flex flex-col items-center justify-center min-h-screen p-6 overflow-hidden z-1",children:[l.jsx(FM,{}),l.jsxs("div",{className:"mx-auto w-full max-w-[242px] text-center sm:max-w-[472px]",children:[l.jsx("h1",{className:"mb-8 font-bold text-gray-800 text-title-md dark:text-white/90 xl:text-title-2xl",children:"ERROR"}),l.jsx("img",{src:"/images/error/404.svg",alt:"404",className:"dark:hidden"}),l.jsx("img",{src:"/images/error/404-dark.svg",alt:"404",className:"hidden dark:block"}),l.jsx("p",{className:"mt-10 mb-6 text-base text-gray-700 dark:text-gray-400 sm:text-lg",children:"We can’t seem to find the page you are looking for!"}),l.jsx(Hn,{to:r.home,className:"inline-flex items-center justify-center rounded-lg border border-gray-300 bg-white px-5 py-3.5 text-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",children:"Voltar ao Painel"})]}),l.jsxs("p",{className:"absolute text-sm text-center text-gray-500 -translate-x-1/2 bottom-6 left-1/2 dark:text-gray-400",children:["© ",new Date().getFullYear()," - TailAdmin"]})]})]})}const Dr=({pageTitle:r})=>{const{paths:e}=f2();return l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white/90","x-text":"pageName",children:r}),l.jsx("nav",{children:l.jsxs("ol",{className:"flex items-center gap-1.5",children:[l.jsx("li",{children:l.jsxs(Hn,{className:"inline-flex items-center gap-1.5 text-sm text-gray-500 dark:text-gray-400",to:e.home,children:["Painel",l.jsx("svg",{className:"stroke-current",width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M6.0765 12.667L10.2432 8.50033L6.0765 4.33366",stroke:"",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),l.jsx("li",{className:"text-sm text-gray-800 dark:text-white/90",children:r})]})})]})},k7=["bg-brand-500","bg-success-500","bg-error-500","bg-warning-500","bg-purple-500","bg-pink-500","bg-cyan-500","bg-amber-500","bg-emerald-500","bg-indigo-500"],kJ=r=>{const e=r.split("").reduce((t,n)=>t+n.charCodeAt(0),0);return k7[e%k7.length]},CJ=r=>r.split(" ").map(e=>e[0]).filter((e,t,n)=>t===0||t===n.length-1).join("").toUpperCase(),SJ=r=>{switch(r){case"sm":return"w-8 h-8 text-sm";case"lg":return"w-16 h-16 text-xl";default:return"w-12 h-12 text-base"}};function z6({userId:r,name:e,size:t="md",onImageChange:n,editable:s=!1}){const[a,i]=b.useState(null),[o,c]=b.useState(!1),[d,u]=b.useState(null),[h,f]=b.useState(null);b.useEffect(()=>{g()},[r]);async function p(w){const{data:k}=await G.from("admins").select("id").eq("id",w).maybeSingle();return k?"admins":"platform_users"}async function g(){try{const w=await p(r);f(w);const{data:k}=await G.from(w).select("avatar_url").eq("id",r).maybeSingle();if(k!=null&&k.avatar_url){const{data:{publicUrl:S}}=G.storage.from("avatars").getPublicUrl(k.avatar_url);i(S)}}catch(w){console.error("Error loading avatar:",w),i(null)}}const m=async w=>{var S;const k=(S=w.target.files)==null?void 0:S[0];if(!(!k||!h)){if(!k.type.startsWith("image/")){u("Please select an image file");return}if(k.size>5*1024*1024){u("Image must be less than 5MB");return}try{c(!0),u(null);const N=k.name.split(".").pop(),A=`${r}-${Date.now()}.${N}`,{error:E}=await G.storage.from("avatars").upload(A,k);if(E)throw E;const{error:R}=await G.from(h).update({avatar_url:A}).eq("id",r);if(R)throw R;await g(),n&&n()}catch(N){console.error("Error uploading avatar:",N),u("Failed to upload image")}finally{c(!1)}}},v=SJ(t),x=kJ(r),y=CJ(e);return l.jsxs("div",{className:"relative group",children:[a?l.jsx("img",{src:a,alt:e,className:`${v} rounded-full object-cover`}):l.jsx("div",{className:`${v} ${x} rounded-full flex items-center justify-center text-white font-medium`,children:y}),s&&l.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-full cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:m,disabled:o}),l.jsxs("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})]}),d&&l.jsx("div",{className:"absolute top-full mt-1 text-sm text-error-500",children:d})]})}function ZM({profile:r}){if(!r)return null;const e=`${r.first_name} ${r.last_name}`,t=r.is_first_admin!==void 0?r.is_first_admin?"Administrador Principal":"Administrador":r.role==="publisher"?"Publisher":"Anunciante",n=()=>{};return l.jsx("div",{className:"p-5 border border-gray-200 rounded-2xl dark:border-gray-800 lg:p-6",children:l.jsx("div",{className:"flex flex-col gap-5 xl:flex-row xl:items-center xl:justify-between",children:l.jsxs("div",{className:"flex flex-col items-center w-full gap-6 xl:flex-row",children:[l.jsx(z6,{userId:r.id,name:e,size:"lg",editable:!0,onImageChange:n}),l.jsxs("div",{className:"order-3 xl:order-2",children:[l.jsx("h4",{className:"mb-2 text-lg font-semibold text-center text-gray-800 dark:text-white/90 xl:text-left",children:e}),l.jsxs("div",{className:"flex flex-col items-center gap-1 text-center xl:flex-row xl:gap-3 xl:text-left",children:[l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.email}),l.jsx("div",{className:"hidden h-3.5 w-px bg-gray-300 dark:bg-gray-700 xl:block"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t})]})]})]})})})}const nt=({children:r,size:e="md",variant:t="primary",startIcon:n,endIcon:s,onClick:a,className:i="",disabled:o=!1})=>{const c={sm:"px-4 py-3 text-sm",md:"px-5 py-3.5 text-sm"},d={primary:"bg-brand-500 text-white shadow-theme-xs hover:bg-brand-600 disabled:bg-brand-300",outline:"bg-white text-gray-700 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-white/[0.03] dark:hover:text-gray-300"};return l.jsxs("button",{className:`inline-flex items-center justify-center gap-2 rounded-lg transition ${i} ${c[e]} ${d[t]} ${o?"cursor-not-allowed opacity-50":""}`,onClick:a,disabled:o,children:[n&&l.jsx("span",{className:"flex items-center",children:n}),r,s&&l.jsx("span",{className:"flex items-center",children:s})]})},st=({type:r="text",id:e,name:t,placeholder:n,value:s,onChange:a,onBlur:i,className:o="",min:c,max:d,step:u,disabled:h=!1,success:f=!1,error:p=!1,hint:g,pattern:m,title:v,required:x=!1,maxLength:y,autoComplete:w})=>{let k=`dark:bg-dark-900 shadow-theme-xs h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 transition-all duration-200 focus:border-[#465fff] focus:ring-[3px] focus:ring-[color-mix(in_oklab,#465fff_10%,transparent)] focus:shadow-[inset_0_0_0_3px_color-mix(in_oklab,#465fff_10%,transparent)] dark:focus:border-[#465fff] ${o}`;h?k+=" text-gray-500 border-gray-300 opacity-40 bg-gray-100 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700 opacity-40":p?k+=" border-error-500 focus:border-error-300 focus:ring-error-500/10 dark:text-error-400 dark:border-error-500 dark:focus:border-error-800":f&&(k+=" border-success-500 focus:border-success-300 focus:ring-success-500/10 dark:text-success-400 dark:border-success-500 dark:focus:border-success-800");const S=N=>{if(r==="url"){let A=N.target.value;if(!A||/^https?:\/\//.test(A)){a==null||a(N);return}/^https?:\/\//.test(A)||(N.target.value=`https://${A}`)}a==null||a(N)};return l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:r,id:e,name:t,placeholder:r==="url"?"https://example.com":n,value:s,onChange:r==="url"?S:a,onBlur:i,min:c,max:d,step:u,disabled:h,className:k,pattern:m||(r==="url"?"^https?://.+":void 0),title:v||(r==="url"?"URL must start with http:// or https://":void 0),required:x,maxLength:y,autoComplete:w}),g&&l.jsx("p",{className:`mt-1.5 text-xs ${p?"text-error-500":f?"text-success-500":"text-gray-500"}`,children:g})]})},H6="-",NJ=r=>{const e=_J(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:i=>{const o=i.split(H6);return o[0]===""&&o.length!==1&&o.shift(),JM(o,e)||EJ(i)},getConflictingClassGroupIds:(i,o)=>{const c=t[i]||[];return o&&n[i]?[...c,...n[i]]:c}}},JM=(r,e)=>{var i;if(r.length===0)return e.classGroupId;const t=r[0],n=e.nextPart.get(t),s=n?JM(r.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const a=r.join(H6);return(i=e.validators.find(({validator:o})=>o(a)))==null?void 0:i.classGroupId},C7=/^\[(.+)\]$/,EJ=r=>{if(C7.test(r)){const e=C7.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},_J=r=>{const{theme:e,classGroups:t}=r,n={nextPart:new Map,validators:[]};for(const s in t)kk(t[s],n,s,e);return n},kk=(r,e,t,n)=>{r.forEach(s=>{if(typeof s=="string"){const a=s===""?e:S7(e,s);a.classGroupId=t;return}if(typeof s=="function"){if(jJ(s)){kk(s(n),e,t,n);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([a,i])=>{kk(i,S7(e,a),t,n)})})},S7=(r,e)=>{let t=r;return e.split(H6).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},jJ=r=>r.isThemeGetter,AJ=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const s=(a,i)=>{t.set(a,i),e++,e>r&&(e=0,n=t,t=new Map)};return{get(a){let i=t.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){t.has(a)?t.set(a,i):s(a,i)}}},Ck="!",Sk=":",TJ=Sk.length,PJ=r=>{const{prefix:e,experimentalParseClassName:t}=r;let n=s=>{const a=[];let i=0,o=0,c=0,d;for(let g=0;g<s.length;g++){let m=s[g];if(i===0&&o===0){if(m===Sk){a.push(s.slice(c,g)),c=g+TJ;continue}if(m==="/"){d=g;continue}}m==="["?i++:m==="]"?i--:m==="("?o++:m===")"&&o--}const u=a.length===0?s:s.substring(c),h=LJ(u),f=h!==u,p=d&&d>c?d-c:void 0;return{modifiers:a,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}};if(e){const s=e+Sk,a=n;n=i=>i.startsWith(s)?a(i.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(t){const s=n;n=a=>t({className:a,parseClassName:s})}return n},LJ=r=>r.endsWith(Ck)?r.substring(0,r.length-1):r.startsWith(Ck)?r.substring(1):r,DJ=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const s=[];let a=[];return n.forEach(i=>{i[0]==="["||e[i]?(s.push(...a.sort(),i),a=[]):a.push(i)}),s.push(...a.sort()),s}},MJ=r=>({cache:AJ(r.cacheSize),parseClassName:PJ(r),sortModifiers:DJ(r),...NJ(r)}),RJ=/\s+/,IJ=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:a}=e,i=[],o=r.trim().split(RJ);let c="";for(let d=o.length-1;d>=0;d-=1){const u=o[d],{isExternal:h,modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}=t(u);if(h){c=u+(c.length>0?" "+c:c);continue}let v=!!m,x=n(v?g.substring(0,m):g);if(!x){if(!v){c=u+(c.length>0?" "+c:c);continue}if(x=n(g),!x){c=u+(c.length>0?" "+c:c);continue}v=!1}const y=a(f).join(":"),w=p?y+Ck:y,k=w+x;if(i.includes(k))continue;i.push(k);const S=s(x,v);for(let N=0;N<S.length;++N){const A=S[N];i.push(w+A)}c=u+(c.length>0?" "+c:c)}return c};function OJ(){let r=0,e,t,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=KM(e))&&(n&&(n+=" "),n+=t);return n}const KM=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=KM(r[n]))&&(t&&(t+=" "),t+=e);return t};function FJ(r,...e){let t,n,s,a=i;function i(c){const d=e.reduce((u,h)=>h(u),r());return t=MJ(d),n=t.cache.get,s=t.cache.set,a=o,o(c)}function o(c){const d=n(c);if(d)return d;const u=IJ(c,t);return s(c,u),u}return function(){return a(OJ.apply(null,arguments))}}const fs=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},QM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,eR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,BJ=/^\d+\/\d+$/,zJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$J=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qh=r=>BJ.test(r),fr=r=>!!r&&!Number.isNaN(Number(r)),Yd=r=>!!r&&Number.isInteger(Number(r)),N7=r=>r.endsWith("%")&&fr(r.slice(0,-1)),Cc=r=>zJ.test(r),WJ=()=>!0,qJ=r=>HJ.test(r)&&!UJ.test(r),U6=()=>!1,YJ=r=>$J.test(r),GJ=r=>VJ.test(r),XJ=r=>!_t(r)&&!jt(r),ZJ=r=>Dp(r,nR,U6),_t=r=>QM.test(r),Gd=r=>Dp(r,sR,qJ),x5=r=>Dp(r,oK,fr),JJ=r=>Dp(r,tR,U6),KJ=r=>Dp(r,rR,GJ),QJ=r=>Dp(r,U6,YJ),jt=r=>eR.test(r),l1=r=>Mp(r,sR),eK=r=>Mp(r,lK),tK=r=>Mp(r,tR),rK=r=>Mp(r,nR),nK=r=>Mp(r,rR),sK=r=>Mp(r,cK,!0),Dp=(r,e,t)=>{const n=QM.exec(r);return n?n[1]?e(n[1]):t(n[2]):!1},Mp=(r,e,t=!1)=>{const n=eR.exec(r);return n?n[1]?e(n[1]):t:!1},tR=r=>r==="position",aK=new Set(["image","url"]),rR=r=>aK.has(r),iK=new Set(["length","size","percentage"]),nR=r=>iK.has(r),sR=r=>r==="length",oK=r=>r==="number",lK=r=>r==="family-name",cK=r=>r==="shadow",dK=()=>{const r=fs("color"),e=fs("font"),t=fs("text"),n=fs("font-weight"),s=fs("tracking"),a=fs("leading"),i=fs("breakpoint"),o=fs("container"),c=fs("spacing"),d=fs("radius"),u=fs("shadow"),h=fs("inset-shadow"),f=fs("drop-shadow"),p=fs("blur"),g=fs("perspective"),m=fs("aspect"),v=fs("ease"),x=fs("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],k=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],N=()=>[qh,"px","full","auto",jt,_t,c],A=()=>[Yd,"none","subgrid",jt,_t],E=()=>["auto",{span:["full",Yd,jt,_t]},jt,_t],R=()=>[Yd,"auto",jt,_t],O=()=>["auto","min","max","fr",jt,_t],L=()=>[jt,_t,c],D=()=>["start","end","center","between","around","evenly","stretch","baseline"],F=()=>["start","end","center","stretch"],M=()=>[jt,_t,c],B=()=>["px",...M()],z=()=>["px","auto",...M()],V=()=>[qh,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",jt,_t,c],W=()=>[r,jt,_t],Z=()=>[N7,Gd],q=()=>["","none","full",d,jt,_t],Q=()=>["",fr,l1,Gd],T=()=>["solid","dashed","dotted","double"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["","none",p,jt,_t],Y=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",jt,_t],K=()=>["none",fr,jt,_t],re=()=>["none",fr,jt,_t],oe=()=>[fr,jt,_t],ue=()=>[qh,"full","px",jt,_t,c];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Cc],breakpoint:[Cc],color:[WJ],container:[Cc],"drop-shadow":[Cc],ease:["in","out","in-out"],font:[XJ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Cc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Cc],shadow:[Cc],spacing:[fr],text:[Cc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",qh,_t,jt,m]}],container:["container"],columns:[{columns:[fr,_t,jt,o]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...w(),_t,jt]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[Yd,"auto",jt,_t]}],basis:[{basis:[qh,"full","auto",jt,_t,o,c]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[fr,qh,"auto","initial","none",_t]}],grow:[{grow:["",fr,jt,_t]}],shrink:[{shrink:["",fr,jt,_t]}],order:[{order:[Yd,"first","last","none",jt,_t]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:E()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:E()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...D(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...D()]}],"align-items":[{items:[...F(),"baseline"]}],"align-self":[{self:["auto",...F(),"baseline"]}],"place-content":[{"place-content":D()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[o,"screen",...V()]}],"min-w":[{"min-w":[o,"screen","none",...V()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[i]},...V()]}],h:[{h:["screen",...V()]}],"min-h":[{"min-h":["screen","none",...V()]}],"max-h":[{"max-h":["screen",...V()]}],"font-size":[{text:["base",t,l1,Gd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,jt,x5]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",N7,_t]}],"font-family":[{font:[eK,_t,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,jt,_t]}],"line-clamp":[{"line-clamp":[fr,"none",jt,x5]}],leading:[{leading:[jt,_t,a,c]}],"list-image":[{"list-image":["none",jt,_t]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",jt,_t]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:[fr,"from-font","auto",jt,Gd]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[fr,"auto",jt,_t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...M()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",jt,_t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",jt,_t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...w(),tK,JJ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",rK,ZJ]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Yd,jt,_t],radial:["",jt,_t],conic:[Yd,jt,_t]},nK,KJ]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:Q()}],"border-w-x":[{"border-x":Q()}],"border-w-y":[{"border-y":Q()}],"border-w-s":[{"border-s":Q()}],"border-w-e":[{"border-e":Q()}],"border-w-t":[{"border-t":Q()}],"border-w-r":[{"border-r":Q()}],"border-w-b":[{"border-b":Q()}],"border-w-l":[{"border-l":Q()}],"divide-x":[{"divide-x":Q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...T(),"hidden","none"]}],"divide-style":[{divide:[...T(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...T(),"none","hidden"]}],"outline-offset":[{"outline-offset":[fr,jt,_t]}],"outline-w":[{outline:["",fr,l1,Gd]}],"outline-color":[{outline:[r]}],shadow:[{shadow:["","none",u,sK,QJ]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",jt,_t,h]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[fr,Gd]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":Q()}],"inset-ring-color":[{"inset-ring":W()}],opacity:[{opacity:[fr,jt,_t]}],"mix-blend":[{"mix-blend":[...H(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none",jt,_t]}],blur:[{blur:$()}],brightness:[{brightness:[fr,jt,_t]}],contrast:[{contrast:[fr,jt,_t]}],"drop-shadow":[{"drop-shadow":["","none",f,jt,_t]}],grayscale:[{grayscale:["",fr,jt,_t]}],"hue-rotate":[{"hue-rotate":[fr,jt,_t]}],invert:[{invert:["",fr,jt,_t]}],saturate:[{saturate:[fr,jt,_t]}],sepia:[{sepia:["",fr,jt,_t]}],"backdrop-filter":[{"backdrop-filter":["","none",jt,_t]}],"backdrop-blur":[{"backdrop-blur":$()}],"backdrop-brightness":[{"backdrop-brightness":[fr,jt,_t]}],"backdrop-contrast":[{"backdrop-contrast":[fr,jt,_t]}],"backdrop-grayscale":[{"backdrop-grayscale":["",fr,jt,_t]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[fr,jt,_t]}],"backdrop-invert":[{"backdrop-invert":["",fr,jt,_t]}],"backdrop-opacity":[{"backdrop-opacity":[fr,jt,_t]}],"backdrop-saturate":[{"backdrop-saturate":[fr,jt,_t]}],"backdrop-sepia":[{"backdrop-sepia":["",fr,jt,_t]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",jt,_t]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[fr,"initial",jt,_t]}],ease:[{ease:["linear","initial",v,jt,_t]}],delay:[{delay:[fr,jt,_t]}],animate:[{animate:["none",x,jt,_t]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,jt,_t]}],"perspective-origin":[{"perspective-origin":Y()}],rotate:[{rotate:K()}],"rotate-x":[{"rotate-x":K()}],"rotate-y":[{"rotate-y":K()}],"rotate-z":[{"rotate-z":K()}],scale:[{scale:re()}],"scale-x":[{"scale-x":re()}],"scale-y":[{"scale-y":re()}],"scale-z":[{"scale-z":re()}],"scale-3d":["scale-3d"],skew:[{skew:oe()}],"skew-x":[{"skew-x":oe()}],"skew-y":[{"skew-y":oe()}],transform:[{transform:[jt,_t,"","none","gpu","cpu"]}],"transform-origin":[{origin:Y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ue()}],"translate-x":[{"translate-x":ue()}],"translate-y":[{"translate-y":ue()}],"translate-z":[{"translate-z":ue()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",jt,_t]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",jt,_t]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[fr,l1,Gd,x5]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},uK=FJ(dK),Me=({htmlFor:r,children:e,className:t})=>l.jsx("label",{htmlFor:r,className:uK("mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",t),children:e}),Xu=({countries:r,placeholder:e="(99) 99999-9999",value:t="",onChange:n,selectPosition:s="start"})=>{const[a,i]=b.useState("BR"),o=u=>{var p;const h=u.target.value;i(h);const f=((p=r.find(g=>g.code===h))==null?void 0:p.label)||"";n&&n(f+t.replace(/^\+\d+\s*/,""))},c=u=>{var g;const h=u.target.value.replace(/[^\d]/g,"");let f=h;a==="BR"&&h.length<=11&&(h.length>2&&(f=`(${h.slice(0,2)}) ${h.slice(2)}`),h.length>7&&(f=`(${h.slice(0,2)}) ${h.slice(2,7)}-${h.slice(7)}`));const p=((g=r.find(m=>m.code===a))==null?void 0:g.label)||"";n&&n(p+" "+f)},d=()=>{var h;const u=((h=r.find(f=>f.code===a))==null?void 0:h.label)||"";return t.replace(u,"").trim()};return l.jsxs("div",{className:"relative flex",children:[s==="start"&&l.jsxs("div",{className:"absolute",children:[l.jsx("select",{value:a,onChange:o,className:"appearance-none bg-none rounded-l-lg border-0 border-r border-gray-200 bg-transparent py-3 pl-3.5 pr-8 leading-tight text-gray-700 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-800 dark:text-gray-400",children:r.map(u=>l.jsx("option",{value:u.code,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:u.label},u.code))}),l.jsx("div",{className:"absolute inset-y-0 flex items-center text-gray-700 pointer-events-none bg-none right-3 dark:text-gray-400",children:l.jsx("svg",{className:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),l.jsx("input",{type:"tel",value:d(),onChange:c,placeholder:e,className:`dark:bg-dark-900 h-11 w-full ${s==="start"?"pl-[84px]":"pr-[84px]"} rounded-lg border border-gray-300 bg-transparent py-3 px-4 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800`}),s==="end"&&l.jsxs("div",{className:"absolute right-0",children:[l.jsx("select",{value:a,onChange:o,className:"appearance-none bg-none rounded-r-lg border-0 border-l border-gray-200 bg-transparent py-3 pl-3.5 pr-8 leading-tight text-gray-700 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-800 dark:text-gray-400",children:r.map(u=>l.jsx("option",{value:u.code,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:u.label},u.code))}),l.jsx("div",{className:"absolute inset-y-0 flex items-center text-gray-700 pointer-events-none right-3 dark:text-gray-400",children:l.jsx("svg",{className:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})},hK=[{code:"BR",label:"+55"},{code:"US",label:"+1"},{code:"GB",label:"+44"},{code:"PT",label:"+351"},{code:"ES",label:"+34"},{code:"FR",label:"+33"},{code:"DE",label:"+49"},{code:"IT",label:"+39"},{code:"JP",label:"+81"},{code:"CN",label:"+86"},{code:"AU",label:"+61"},{code:"CA",label:"+1"},{code:"MX",label:"+52"},{code:"AR",label:"+54"},{code:"CL",label:"+56"},{code:"CO",label:"+57"},{code:"PE",label:"+51"},{code:"UY",label:"+598"},{code:"PY",label:"+595"},{code:"BO",label:"+591"}];function fK({profile:r,onUpdate:e,onClose:t}){const[n,s]=b.useState((r==null?void 0:r.first_name)||""),[a,i]=b.useState((r==null?void 0:r.last_name)||""),[o,c]=b.useState((r==null?void 0:r.phone)||""),[d,u]=b.useState(!1),[h,f]=b.useState(""),[p,g]=b.useState(!1);if(b.useEffect(()=>{r&&(s(r.first_name),i(r.last_name),c(r.phone||""))},[r]),!r)return null;const m=async v=>{v.preventDefault();try{if(u(!0),f(""),g(!1),!n.trim()||!a.trim()){f("Nome e sobrenome são obrigatórios");return}const{error:x}=await G.from("admins").update({first_name:n.trim(),last_name:a.trim(),phone:o.trim()}).eq("id",r.id);if(x)throw x;g(!0),e(),setTimeout(()=>{g(!1)},3e3)}catch(x){console.error("Erro ao atualizar perfil:",x),f("Erro ao atualizar perfil")}finally{u(!1)}};return l.jsx("div",{className:"p-5 border border-gray-200 rounded-2xl dark:border-gray-800 lg:p-6",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Informações Pessoais"}),h&&l.jsx("div",{className:"p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:h}),p&&l.jsx("div",{className:"p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:"Informações atualizadas com sucesso!"}),l.jsxs("form",{onSubmit:m,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsxs("div",{children:[l.jsxs(Me,{children:["Nome ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"text",value:n,onChange:v=>s(v.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Sobrenome ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"text",value:a,onChange:v=>i(v.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Email"}),l.jsx(st,{type:"email",value:r.email,disabled:!0})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Telefone"}),l.jsx(Xu,{countries:hK,value:o,onChange:v=>c(v),placeholder:"(99) 99999-9999"})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Tipo de Conta"}),l.jsx(st,{type:"text",value:r.is_first_admin?"Administrador Principal":"Administrador",disabled:!0})]})]}),l.jsxs("div",{className:"flex justify-end",children:[t&&l.jsx(nt,{variant:"outline",onClick:t,children:"Cancelar"}),l.jsx(nt,{disabled:d,children:d?"Salvando...":"Salvar"})]})]})]})})}const Vr=({label:r,defaultChecked:e=!1,checked:t,disabled:n=!1,onChange:s,color:a="blue"})=>{const[i,o]=b.useState(e);b.useEffect(()=>{t!==void 0&&(console.log(`Switch ${r} - External checked prop changed to:`,t),o(t))},[t,r]);const c=()=>{if(n)return;const u=!i;o(u),s&&(console.log(`Switch ${r} - Calling onChange with:`,u),s(u)),console.log("Switch toggled:",r,"New state:",u)},d=a==="blue"?{background:i?"bg-brand-500":"bg-gray-200 dark:bg-white/10",knob:i?"translate-x-full bg-white":"translate-x-0 bg-white"}:{background:i?"bg-gray-800 dark:bg-white/10":"bg-gray-200 dark:bg-white/10",knob:i?"translate-x-full bg-white":"translate-x-0 bg-white"};return l.jsxs("label",{className:`flex cursor-pointer select-none items-center gap-3 text-sm font-medium ${n?"text-gray-400":"text-gray-700 dark:text-gray-400"}`,onClick:c,children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:`block transition duration-150 ease-linear h-6 w-11 rounded-full ${n?"bg-gray-100 pointer-events-none dark:bg-gray-800":d.background}`}),l.jsx("div",{className:`absolute left-0.5 top-0.5 h-5 w-5 rounded-full shadow-theme-sm duration-150 ease-linear transform ${d.knob}`})]}),r]})},pK="https://uxbeaslwirkepnowydfu.supabase.co/functions/v1",gK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV4YmVhc2x3aXJrZXBub3d5ZGZ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE4MTQwNTUsImV4cCI6MjA1NzM5MDA1NX0.bhPFhXaCgp363YlcAWtNhPlpj82dSNUWwNim2fgYh5s";async function aR(r){const e=`${pK}/delete-user`,t="POST",n={"Content-Type":"application/json",Authorization:`Bearer ${gK}`},s=JSON.stringify({userId:r}),a=await fetch(e,{method:t,headers:n,body:s}),i=await a.json();if(!a.ok)throw new Error(i.error||"Erro ao deletar do Auth");return i}function iR({profile:r,onUpdate:e}){const[t,n]=b.useState(!1),[s,a]=b.useState(""),[i,o]=b.useState(!1),[c,d]=b.useState(!1),[u,h]=b.useState(!1),[f,p]=b.useState(!1),[g,m]=b.useState(!1);if(b.useEffect(()=>{r&&(d(r.marketing_automation||!1),h(r.newsletter||!1),p(r.offer_suggestions||!1))},[r]),!r)return null;const v=async()=>{try{n(!0),a(""),o(!1);const{error:y}=await G.from("admins").update({marketing_automation:c,newsletter:u,offer_suggestions:f}).eq("id",r.id);if(y)throw y;o(!0),e(),setTimeout(()=>{o(!1)},3e3)}catch(y){console.error("Erro ao atualizar preferências:",y),a("Erro ao atualizar preferências")}finally{n(!1)}},x=async()=>{const w=prompt(`⚠️ ATENÇÃO: Esta ação é IRREVERSÍVEL!

Ao excluir sua conta:
• Todos os seus dados serão permanentemente removidos
• Você perderá acesso a todos os serviços
• Não será possível recuperar informações

Digite 'EXCLUIR' para confirmar:`);if(w!=="EXCLUIR"){w!==null&&a("Confirmação incorreta. Operação cancelada.");return}try{n(!0),a(""),o(!1);const{data:{user:k}}=await G.auth.getUser();if(!k)throw new Error("Usuário não autenticado");let S="admins",{data:N,error:A}=await G.from("admins").select("id").eq("id",r.id).single();if(A||!N){S="platform_users";const{data:O,error:L}=await G.from("platform_users").select("id").eq("id",r.id).single();if(L||!O)throw new Error("Perfil não encontrado")}const{error:E}=await G.from(S).delete().eq("id",r.id);if(E)throw new Error(`Erro ao deletar perfil: ${E.message}`);await aR(k.id);const{error:R}=await G.auth.signOut();R&&console.warn("Erro ao fazer logout:",R),typeof window<"u"&&(localStorage.clear(),sessionStorage.clear()),window.location.replace("/signin")}catch(k){console.error("Erro ao excluir conta:",k);let S="Erro inesperado ao excluir conta";k instanceof Error?S=k.message:typeof k=="string"&&(S=k),a(`Falha ao excluir conta: ${S}`)}finally{n(!1)}};return l.jsx("div",{className:"p-5 border border-gray-200 rounded-2xl dark:border-gray-800 lg:p-6",children:l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-800 dark:text-white/90 mb-6",children:"Preferências"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"flex-shrink-0 pt-1",children:l.jsx(Vr,{checked:c,onChange:y=>{d(y),o(!1)},label:""})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800 dark:text-white/90 mb-2",children:"Automação de Marketing"}),l.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[l.jsxs("div",{className:g?"":"line-clamp-2",children:["Como parte da Plataforma, enviamos"," ",l.jsx("b",{children:"emails educacionais"})," aos nossos Usuários e apresentamos ",l.jsx("b",{children:"recursos adicionais da Plataforma"}),","," ",l.jsx("b",{children:"produtos"})," e ",l.jsx("b",{children:"promoções periódicas"})," (",l.jsx("i",{children:"automação de marketing"}),") - marque esta caixa se você concorda em receber mensagens nossas usando sistemas de chamadas automatizados para fins de marketing direto de serviços e produtos oferecidos."]}),l.jsx("button",{onClick:()=>m(!g),className:"text-brand-500 hover:text-brand-600 dark:text-brand-400 mt-1",children:g?"Ler menos ▴":"Ler mais ▾"})]})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"flex-shrink-0 pt-1",children:l.jsx(Vr,{checked:u,onChange:y=>{h(y),o(!1)},label:""})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800 dark:text-white/90 mb-2",children:"Newsletter"}),l.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[l.jsx("strong",{children:"Eu assino a newsletter e concordo com o envio de informações comerciais"})," ","por meio de comunicação eletrônica, incluindo, em particular, e-mail, sobre marketing direto de serviços e produtos oferecidos. A base legal para o processamento de dados é o Artigo 6(1)(a) do GDPR."]})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"flex-shrink-0 pt-1",children:l.jsx(Vr,{checked:f,onChange:y=>{p(y),o(!1)},label:""})}),l.jsx("div",{children:l.jsx("p",{className:"font-medium text-gray-800 dark:text-white/90",children:"Recomendação de Ofertas"})})]})]}),l.jsx("div",{className:"flex justify-end mt-6",children:l.jsx(nt,{onClick:v,disabled:t,children:t?"Salvando...":"Salvar Preferências"})}),s&&l.jsx("div",{className:"mt-4 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:s}),i&&l.jsx("div",{className:"mt-4 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:"Preferências salvas com sucesso!"})]}),l.jsx("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6",children:l.jsx("button",{onClick:x,disabled:t,className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-error-500 rounded-lg hover:bg-error-600 focus:outline-none focus:ring-2 focus:ring-error-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900",children:t?"Excluindo...":"Excluir Conta"})})]})})}const or=({options:r,placeholder:e="Select an option",onChange:t,className:n="",defaultValue:s="",value:a,disabled:i=!1})=>{const[o,c]=b.useState(a||s),d=h=>{const f=h.target.value;c(f),t(f)},u=r.find(h=>h.value===(a||o));return l.jsxs("div",{className:"relative",children:[(u==null?void 0:u.icon)&&l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10",children:u.icon}),l.jsxs("select",{className:`h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 pr-11 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 ${typeof a<"u"&&a!==null?a!==""?"text-gray-800 dark:text-white/90":"text-gray-400 dark:text-gray-400":o?"text-gray-800 dark:text-white/90":"text-gray-400 dark:text-gray-400"} ${u!=null&&u.icon?"pl-12":"pl-4"} ${i?"opacity-50 cursor-not-allowed":""} ${n}`,value:a||o,onChange:d,disabled:i,children:[l.jsx("option",{value:"",disabled:!0,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:e}),r.map(h=>l.jsx("option",{value:h.value,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:h.label},h.value))]}),l.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:l.jsx("svg",{className:"stroke-gray-500 dark:stroke-gray-400",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})};var oR={exports:{}},lR={exports:{}},cR={exports:{}},mK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xK=mK,vK=xK;function dR(){}function uR(){}uR.resetWarningCache=dR;var yK=function(){function r(n,s,a,i,o,c){if(c!==vK){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}r.isRequired=r;function e(){return r}var t={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:e,element:r,elementType:r,instanceOf:e,node:r,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:uR,resetWarningCache:dR};return t.PropTypes=t,t};cR.exports=yK();var $6=cR.exports;const Ut=_o($6);function hR(r){return r&&typeof r=="object"&&"default"in r?r.default:r}var _n=b,uy=hR(_n),bK=Ui,E7=hR(BM);function Xg(){return(Xg=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}).apply(this,arguments)}function wK(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,function(t,n){for(var s=Object.getOwnPropertyNames(n),a=0;a<s.length;a++){var i=s[a],o=Object.getOwnPropertyDescriptor(n,i);o&&o.configurable&&t[i]===void 0&&Object.defineProperty(t,i,o)}}(r,e)}function fR(r,e){if(r==null)return{};var t,n,s={},a=Object.keys(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)>=0||(s[t]=r[t]);return s}function pR(r){return requestAnimationFrame(r)}function _7(r){cancelAnimationFrame(r)}function kf(r){var e=r.ownerDocument;return e.hasFocus()&&e.activeElement===r}function gR(r){return r==null?void 0:r.ownerDocument}function kK(r){var e=function(t){var n;return(n=gR(t))==null?void 0:n.defaultView}(r);return!!e&&r instanceof e.HTMLElement}function V6(r){return _n.useCallback(function(){var e=r.current,t=typeof window<"u"&&kK(e);if(!e||!t)return null;if(e.nodeName!=="INPUT"&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},[r])}function CK(r,e){var t,n,s,a,i=_n.useRef({start:null,end:null}),o=V6(r),c=_n.useCallback(function(){return function(m){var v=m.selectionStart,x=m.selectionEnd;return{start:v,end:x,length:x-v}}(o())},[o]),d=_n.useCallback(function(){return i.current},[]),u=_n.useCallback(function(m){var v=o();v&&kf(v)&&(function(x,y,w){w===void 0&&(w=y),x.setSelectionRange(y,w)}(v,m.start,m.end),i.current=c())},[o,c]),h=_n.useCallback(function(){i.current=c()},[c]),f=(t=h,n=_n.useRef(null),s=_n.useCallback(function(){n.current===null&&function m(){t(),n.current=pR(m)}()},[t]),a=_n.useCallback(function(){_7(n.current),n.current=null},[]),_n.useEffect(function(){n.current&&(a(),s())},[s,a]),_n.useEffect(_7,[]),[s,a]),p=f[0],g=f[1];return _n.useLayoutEffect(function(){if(e){var m=o();return m.addEventListener("focus",p),m.addEventListener("blur",g),kf(m)&&p(),function(){m.removeEventListener("focus",p),m.removeEventListener("blur",g),g()}}}),{getSelection:c,getLastSelection:d,setSelection:u}}function SK(r,e){var t=_n.useRef(),n=CK(t,e),s=n.getSelection,a=n.getLastSelection,i=n.setSelection,o=function(h,f){var p=V6(h),g=_n.useRef(f);return{getValue:_n.useCallback(function(){return p().value},[p]),getLastValue:_n.useCallback(function(){return g.current},[]),setValue:_n.useCallback(function(m){g.current=m;var v=p();v&&(v.value=m)},[p])}}(t,r),c=o.getValue,d=o.getLastValue,u=o.setValue;return{inputRef:t,getInputState:function(){return{value:c(),selection:s()}},getLastInputState:function(){return{value:d(),selection:a()}},setInputState:function(h){var f=h.value,p=h.selection;u(f),i(p)}}}var NK=["disabled","onBlur","onChange","onFocus","onMouseDown","readOnly","value"],j7={9:/[0-9]/,a:/[A-Za-z]/,"*":/[A-Za-z0-9]/},EK=function(r){var e=this;this.isCharacterAllowedAtPosition=function(t,n){var s=e.maskOptions.maskPlaceholder;return!!e.isCharacterFillingPosition(t,n)||!!s&&s[n]===t},this.isCharacterFillingPosition=function(t,n){var s=e.maskOptions.mask;if(!t||n>=s.length)return!1;if(!e.isPositionEditable(n))return s[n]===t;var a=s[n];return new RegExp(a).test(t)},this.isPositionEditable=function(t){var n=e.maskOptions,s=n.mask,a=n.permanents;return t<s.length&&a.indexOf(t)===-1},this.isValueEmpty=function(t){return t.split("").every(function(n,s){return!e.isPositionEditable(s)||!e.isCharacterFillingPosition(n,s)})},this.isValueFilled=function(t){return e.getFilledLength(t)===e.maskOptions.lastEditablePosition+1},this.getDefaultSelectionForValue=function(t){var n=e.getFilledLength(t),s=e.getRightEditablePosition(n);return{start:s,end:s}},this.getFilledLength=function(t){return function(n,s){for(var a=n.length-1;a>=0;a--)if(s(n[a],a))return a;return-1}(t.split(""),function(n,s){return e.isPositionEditable(s)&&e.isCharacterFillingPosition(n,s)})+1},this.getStringFillingLengthAtPosition=function(t,n){return t.split("").reduce(function(s,a){return e.insertCharacterAtPosition(s,a,s.length)},function(s,a){a===void 0&&(a=1);for(var i="",o=0;o<a;o++)i+=s;return i}(" ",n)).length-n},this.getLeftEditablePosition=function(t){for(var n=t;n>=0;n--)if(e.isPositionEditable(n))return n;return null},this.getRightEditablePosition=function(t){for(var n=e.maskOptions.mask,s=t;s<n.length;s++)if(e.isPositionEditable(s))return s;return null},this.formatValue=function(t){var n=e.maskOptions,s=n.maskPlaceholder,a=n.mask;if(!s){for(t=e.insertStringAtPosition("",t,0);t.length<a.length&&!e.isPositionEditable(t.length);)t+=a[t.length];return t}return e.insertStringAtPosition(s,t,0)},this.clearRange=function(t,n,s){if(!s)return t;var a=n+s,i=e.maskOptions,o=i.maskPlaceholder,c=i.mask,d=t.split("").map(function(u,h){var f=e.isPositionEditable(h);return!o&&h>=a&&!f?"":h<n||h>=a?u:f?o?o[h]:"":c[h]}).join("");return e.formatValue(d)},this.insertCharacterAtPosition=function(t,n,s){var a=e.maskOptions,i=a.mask,o=a.maskPlaceholder;if(s>=i.length)return t;var c=e.isCharacterAllowedAtPosition(n,s),d=e.isPositionEditable(s),u=e.getRightEditablePosition(s),h=o&&u?n===o[u]:null,f=t.slice(0,s);return!c&&d||(t=f+(c?n:i[s])),c||d||h||(t=e.insertCharacterAtPosition(t,n,s+1)),t},this.insertStringAtPosition=function(t,n,s){var a=e.maskOptions,i=a.mask,o=a.maskPlaceholder;if(!n||s>=i.length)return t;var c=n.split(""),d=e.isValueFilled(t)||!!o,u=t.slice(s);return t=c.reduce(function(h,f){return e.insertCharacterAtPosition(h,f,h.length)},t.slice(0,s)),d?t+=u.slice(t.length-s):e.isValueFilled(t)?t+=i.slice(t.length).join(""):t=u.split("").filter(function(h,f){return e.isPositionEditable(s+f)}).reduce(function(h,f){var p=e.getRightEditablePosition(h.length);return p===null?h:(e.isPositionEditable(h.length)||(h+=i.slice(h.length,p).join("")),e.insertCharacterAtPosition(h,f,h.length))},t),t},this.processChange=function(t,n){var s=e.maskOptions,a=s.mask,i=s.prefix,o=s.lastEditablePosition,c=t.value,d=t.selection,u=n.value,h=n.selection,f=c,p="",g=0,m=0,v=Math.min(h.start,d.start);return d.end>h.start?(p=f.slice(h.start,d.end),m=(g=e.getStringFillingLengthAtPosition(p,v))?h.length:0):f.length<u.length&&(m=u.length-f.length),f=u,m&&(m===1&&!h.length&&(v=h.start===d.start?e.getRightEditablePosition(d.start):e.getLeftEditablePosition(d.start)),f=e.clearRange(f,v,m)),f=e.insertStringAtPosition(f,p,v),(v+=g)>=a.length?v=a.length:v<i.length&&!g?v=i.length:v>=i.length&&v<o&&g&&(v=e.getRightEditablePosition(v)),{value:f=e.formatValue(f),enteredString:p,selection:{start:v,end:v}}},this.maskOptions=function(t){var n=t.mask,s=t.maskPlaceholder,a=[];if(!n)return{maskPlaceholder:null,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};if(typeof n=="string"){var i=!1,o="";n.split("").forEach(function(u){i||u!=="\\"?(!i&&j7[u]||a.push(o.length),o+=u,i=!1):i=!0}),n=o.split("").map(function(u,h){return a.indexOf(h)===-1?j7[u]:u})}else n.forEach(function(u,h){typeof u=="string"&&a.push(h)});s&&(s=s.length===1?n.map(function(u,h){return a.indexOf(h)!==-1?u:s}):s.split(""),a.forEach(function(u){s[u]=n[u]}),s=s.join(""));for(var c=a.filter(function(u,h){return u===h}).map(function(u){return n[u]}).join(""),d=n.length-1;a.indexOf(d)!==-1;)d--;return{maskPlaceholder:s,prefix:c,mask:n,lastEditablePosition:d,permanents:a}}(r)},_K=function(r){function e(){return r.apply(this,arguments)||this}return wK(e,r),e.prototype.render=function(){var t=this.props,n=t.children,s=fR(t,["children"]);return uy.cloneElement(n,s)},e}(uy.Component),v5=_n.forwardRef(function(r,e){var t=r.alwaysShowMask,n=r.children,s=r.mask,a=r.maskPlaceholder,i=r.beforeMaskedStateChange,o=fR(r,["alwaysShowMask","children","mask","maskPlaceholder","beforeMaskedStateChange"]);(function(L){var D=L.mask,F=L.maskPlaceholder;D&&F&&F.length!==1&&F.length!==D.length&&E7(!1)})(r);var c,d,u=new EK({mask:s,maskPlaceholder:a}),h=!!s,f=!o.disabled&&!o.readOnly,p=r.value!==null&&r.value!==void 0,g=(c=h,d=_n.useRef(),_n.useEffect(function(){d.current=c}),d.current),m=SK(function(L){return""+L}((p?r.value:r.defaultValue)||""),h),v=m.inputRef,x=m.getInputState,y=m.setInputState,w=m.getLastInputState,k=V6(v);if(h&&p){var S=k(),N=S&&kf(S)||t||r.value?u.formatValue(r.value):r.value;i&&(N=i({nextState:{value:N,selection:{start:null,end:null}}}).value),y(Xg({},w(),{value:N}))}var A=w(),E=A.selection,R=A.value;_n.useLayoutEffect(function(){if(h){var L=kf(k()),D=E,F=x(),M=Xg({},F);if(!p){var B=F.value,z=u.formatValue(B),V=u.isValueEmpty(z);!V||L||t?M.value=z:V&&!L&&(M.value="")}L&&!g?M.selection=u.getDefaultSelectionForValue(M.value):p&&L&&D&&D.start!==null&&D.end!==null&&(M.selection=D),i&&(M=i({currentState:F,nextState:M})),y(M)}});var O=Xg({},o,{onFocus:function(L){v.current=L.target;var D=x().value;if(h&&!u.isValueFilled(D)){var F=u.formatValue(D),M=u.getDefaultSelectionForValue(F),B={value:F,selection:M};i&&(F=(B=i({currentState:x(),nextState:B})).value,M=B.selection),y(B),F!==D&&r.onChange&&r.onChange(L),pR(function(){y(w())})}r.onFocus&&r.onFocus(L)},onBlur:function(L){var D=x().value,F=w().value;if(h&&!t&&u.isValueEmpty(F)){var M="",B={value:M,selection:{start:null,end:null}};i&&(M=(B=i({currentState:x(),nextState:B})).value),y(B),M!==D&&r.onChange&&r.onChange(L)}r.onBlur&&r.onBlur(L)},onChange:h&&f?function(L){var D=x(),F=w(),M=u.processChange(D,F);i&&(M=i({currentState:D,previousState:F,nextState:M})),y(M),r.onChange&&r.onChange(L)}:r.onChange,onMouseDown:h&&f?function(L){var D=k(),F=x().value,M=gR(D);if(!kf(D)&&!u.isValueFilled(F)){var B=L.clientX,z=L.clientY,V=new Date().getTime();M.addEventListener("mouseup",function W(Z){if(M.removeEventListener("mouseup",W),kf(D)){var q=Math.abs(Z.clientX-B),Q=Math.abs(Z.clientY-z),T=Math.max(q,Q),H=new Date().getTime()-V;if(T<=10&&H<=200||T<=5&&H<=300){var $=w(),Y=Xg({},$,{selection:u.getDefaultSelectionForValue($.value)});y(Y)}}})}r.onMouseDown&&r.onMouseDown(L)}:r.onMouseDown,ref:function(L){v.current=bK.findDOMNode(L),function(D){return typeof D=="function"}(e)?e(L):e!==null&&typeof e=="object"&&(e.current=L)},value:h&&p?R:r.value});return n?(function(L,D){NK.filter(function(F){return D.props[F]!=null&&D.props[F]!==L[F]}).length&&E7(!1)}(r,n),uy.createElement(_K,O,n)):uy.createElement("input",O)});v5.displayName="InputMask",v5.defaultProps={alwaysShowMask:!1,maskPlaceholder:"_"},lR.exports=v5;var jK=lR.exports;oR.exports=jK;var AK=oR.exports;const Du=_o(AK),TK=[{value:"AC",label:"Acre"},{value:"AL",label:"Alagoas"},{value:"AP",label:"Amapá"},{value:"AM",label:"Amazonas"},{value:"BA",label:"Bahia"},{value:"CE",label:"Ceará"},{value:"DF",label:"Distrito Federal"},{value:"ES",label:"Espírito Santo"},{value:"GO",label:"Goiás"},{value:"MA",label:"Maranhão"},{value:"MT",label:"Mato Grosso"},{value:"MS",label:"Mato Grosso do Sul"},{value:"MG",label:"Minas Gerais"},{value:"PA",label:"Pará"},{value:"PB",label:"Paraíba"},{value:"PR",label:"Paraná"},{value:"PE",label:"Pernambuco"},{value:"PI",label:"Piauí"},{value:"RJ",label:"Rio de Janeiro"},{value:"RN",label:"Rio Grande do Norte"},{value:"RS",label:"Rio Grande do Sul"},{value:"RO",label:"Rondônia"},{value:"RR",label:"Roraima"},{value:"SC",label:"Santa Catarina"},{value:"SP",label:"São Paulo"},{value:"SE",label:"Sergipe"},{value:"TO",label:"Tocantins"}],PK=[{value:"AL",label:"Alabama"},{value:"AK",label:"Alaska"},{value:"AZ",label:"Arizona"},{value:"AR",label:"Arkansas"},{value:"CA",label:"California"},{value:"CO",label:"Colorado"},{value:"CT",label:"Connecticut"},{value:"DE",label:"Delaware"},{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"HI",label:"Hawaii"},{value:"ID",label:"Idaho"},{value:"IL",label:"Illinois"},{value:"IN",label:"Indiana"},{value:"IA",label:"Iowa"},{value:"KS",label:"Kansas"},{value:"KY",label:"Kentucky"},{value:"LA",label:"Louisiana"},{value:"ME",label:"Maine"},{value:"MD",label:"Maryland"},{value:"MA",label:"Massachusetts"},{value:"MI",label:"Michigan"},{value:"MN",label:"Minnesota"},{value:"MS",label:"Mississippi"},{value:"MO",label:"Missouri"},{value:"MT",label:"Montana"},{value:"NE",label:"Nebraska"},{value:"NV",label:"Nevada"},{value:"NH",label:"New Hampshire"},{value:"NJ",label:"New Jersey"},{value:"NM",label:"New Mexico"},{value:"NY",label:"New York"},{value:"NC",label:"North Carolina"},{value:"ND",label:"North Dakota"},{value:"OH",label:"Ohio"},{value:"OK",label:"Oklahoma"},{value:"OR",label:"Oregon"},{value:"PA",label:"Pennsylvania"},{value:"RI",label:"Rhode Island"},{value:"SC",label:"South Carolina"},{value:"SD",label:"South Dakota"},{value:"TN",label:"Tennessee"},{value:"TX",label:"Texas"},{value:"UT",label:"Utah"},{value:"VT",label:"Vermont"},{value:"VA",label:"Virginia"},{value:"WA",label:"Washington"},{value:"WV",label:"West Virginia"},{value:"WI",label:"Wisconsin"},{value:"WY",label:"Wyoming"}],LK=[{value:"B",label:"Buenos Aires"},{value:"C",label:"Ciudad Autónoma de Buenos Aires"},{value:"K",label:"Catamarca"},{value:"H",label:"Chaco"},{value:"U",label:"Chubut"},{value:"X",label:"Córdoba"},{value:"W",label:"Corrientes"},{value:"E",label:"Entre Ríos"},{value:"P",label:"Formosa"},{value:"Y",label:"Jujuy"},{value:"L",label:"La Pampa"},{value:"F",label:"La Rioja"},{value:"M",label:"Mendoza"},{value:"N",label:"Misiones"},{value:"Q",label:"Neuquén"},{value:"R",label:"Río Negro"},{value:"A",label:"Salta"},{value:"J",label:"San Juan"},{value:"D",label:"San Luis"},{value:"Z",label:"Santa Cruz"},{value:"S",label:"Santa Fe"},{value:"G",label:"Santiago del Estero"},{value:"V",label:"Tierra del Fuego"},{value:"T",label:"Tucumán"}],DK=[{value:"L",label:"La Paz"},{value:"C",label:"Cochabamba"},{value:"S",label:"Santa Cruz"},{value:"P",label:"Potosí"},{value:"O",label:"Oruro"},{value:"T",label:"Tarija"},{value:"H",label:"Chuquisaca"},{value:"N",label:"Pando"}],MK=[{value:"XV",label:"Región de Arica y Parinacota"},{value:"I",label:"Región de Tarapacá"},{value:"II",label:"Región de Antofagasta"},{value:"III",label:"Región de Atacama"},{value:"IV",label:"Región de Coquimbo"},{value:"V",label:"Región de Valparaíso"},{value:"RM",label:"Región Metropolitana de Santiago"},{value:"VI",label:"Región del Libertador General Bernardo O'Higgins"},{value:"VII",label:"Región del Maule"},{value:"XVI",label:"Región de Ñuble"},{value:"VIII",label:"Región del Biobío"},{value:"IX",label:"Región de la Araucanía"},{value:"XIV",label:"Región de Los Ríos"},{value:"X",label:"Región de Los Lagos"},{value:"XI",label:"Región Aysén del General Carlos Ibáñez del Campo"},{value:"XII",label:"Región de Magallanes y de la Antártica Chilena"}],RK=[{value:"DC",label:"Bogotá D.C."},{value:"AMA",label:"Amazonas"},{value:"ANT",label:"Antioquia"},{value:"ARA",label:"Arauca"},{value:"ATL",label:"Atlántico"},{value:"BOL",label:"Bolívar"},{value:"BOY",label:"Boyacá"},{value:"CAL",label:"Caldas"},{value:"CAQ",label:"Caquetá"},{value:"CAS",label:"Casanare"},{value:"CAU",label:"Cauca"},{value:"CES",label:"Cesar"},{value:"CHO",label:"Chocó"},{value:"COR",label:"Córdoba"},{value:"CUN",label:"Cundinamarca"},{value:"GUA",label:"Guainía"},{value:"GUV",label:"Guaviare"},{value:"HUI",label:"Huila"},{value:"LAG",label:"La Guajira"},{value:"MAG",label:"Magdalena"},{value:"MET",label:"Meta"},{value:"NAR",label:"Nariño"},{value:"NSA",label:"Norte de Santander"},{value:"PUT",label:"Putumayo"},{value:"QUI",label:"Quindío"},{value:"RIS",label:"Risaralda"},{value:"SAN",label:"Santander"},{value:"SUC",label:"Sucre"},{value:"TOL",label:"Tolima"},{value:"VAC",label:"Valle del Cauca"},{value:"VAU",label:"Vaupés"},{value:"VID",label:"Vichada"}],IK=[{value:"A",label:"Azuay"},{value:"B",label:"Bolívar"},{value:"F",label:"Cañar"},{value:"C",label:"Carchi"},{value:"H",label:"Chimborazo"},{value:"X",label:"Cotopaxi"},{value:"O",label:"El Oro"},{value:"E",label:"Esmeraldas"},{value:"W",label:"Galápagos"},{value:"G",label:"Guayas"},{value:"I",label:"Imbabura"},{value:"L",label:"Loja"},{value:"R",label:"Los Ríos"},{value:"M",label:"Manabí"},{value:"S",label:"Morona-Santiago"},{value:"N",label:"Napo"},{value:"D",label:"Orellana"},{value:"Y",label:"Pastaza"},{value:"P",label:"Pichincha"},{value:"SE",label:"Santa Elena"},{value:"SD",label:"Santo Domingo de los Tsáchilas"},{value:"U",label:"Sucumbíos"},{value:"T",label:"Tungurahua"},{value:"Z",label:"Zamora-Chinchipe"}],OK=[{value:"BA",label:"Barima-Waini"},{value:"CU",label:"Cuyuni-Mazaruni"},{value:"DE",label:"Demerara-Mahaica"},{value:"EB",label:"East Berbice-Corentyne"},{value:"ES",label:"Essequibo Islands-West Demerara"},{value:"MA",label:"Mahaica-Berbice"},{value:"PM",label:"Pomeroon-Supenaam"},{value:"PT",label:"Potaro-Siparuni"},{value:"UD",label:"Upper Demerara-Berbice"},{value:"UT",label:"Upper Takutu-Upper Essequibo"}],FK=[{value:"ASU",label:"Asunción"},{value:"CON",label:"Concepción"},{value:"SAN",label:"San Pedro"},{value:"COR",label:"Cordillera"},{value:"GUA",label:"Guairá"},{value:"CAA",label:"Caaguazú"},{value:"CAZ",label:"Caazapá"},{value:"ITA",label:"Itapúa"},{value:"MIS",label:"Misiones"},{value:"PAR",label:"Paraguarí"},{value:"ATO",label:"Alto Paraná"},{value:"CEN",label:"Central"},{value:"ÑEE",label:"Ñeembucú"},{value:"AMA",label:"Amambay"},{value:"CAN",label:"Canindeyú"},{value:"PRE",label:"Presidente Hayes"},{value:"BOQ",label:"Boquerón"},{value:"APE",label:"Alto Paraguay"}],BK=[{value:"AMA",label:"Amazonas"},{value:"ANC",label:"Áncash"},{value:"APU",label:"Apurímac"},{value:"ARE",label:"Arequipa"},{value:"AYA",label:"Ayacucho"},{value:"CAJ",label:"Cajamarca"},{value:"CAL",label:"Callao"},{value:"CUS",label:"Cusco"},{value:"HUV",label:"Huancavelica"},{value:"HUA",label:"Huánuco"},{value:"ICA",label:"Ica"},{value:"JUN",label:"Junín"},{value:"LAL",label:"La Libertad"},{value:"LAM",label:"Lambayeque"},{value:"LIM",label:"Lima"},{value:"LOR",label:"Loreto"},{value:"MDD",label:"Madre de Dios"},{value:"MOQ",label:"Moquegua"},{value:"PAS",label:"Pasco"},{value:"PIU",label:"Piura"},{value:"PUN",label:"Puno"},{value:"SAM",label:"San Martín"},{value:"TAC",label:"Tacna"},{value:"TUM",label:"Tumbes"},{value:"UCA",label:"Ucayali"}],zK=[{value:"BR",label:"Brokopondo"},{value:"CM",label:"Commewijne"},{value:"CR",label:"Coronie"},{value:"MA",label:"Marowijne"},{value:"NI",label:"Nickerie"},{value:"PR",label:"Para"},{value:"PM",label:"Paramaribo"},{value:"SA",label:"Saramacca"},{value:"SI",label:"Sipaliwini"},{value:"WA",label:"Wanica"}],HK=[{value:"AR",label:"Artigas"},{value:"CA",label:"Canelones"},{value:"CL",label:"Cerro Largo"},{value:"CO",label:"Colonia"},{value:"DU",label:"Durazno"},{value:"FS",label:"Flores"},{value:"FD",label:"Florida"},{value:"LA",label:"Lavalleja"},{value:"MA",label:"Maldonado"},{value:"MO",label:"Montevideo"},{value:"PA",label:"Paysandú"},{value:"RN",label:"Río Negro"},{value:"RV",label:"Rivera"},{value:"RO",label:"Rocha"},{value:"SA",label:"Salto"},{value:"SJ",label:"San José"},{value:"SO",label:"Soriano"},{value:"TA",label:"Tacuarembó"},{value:"TT",label:"Treinta y Tres"}],UK=[{value:"AM",label:"Amazonas"},{value:"AN",label:"Anzoátegui"},{value:"AP",label:"Apure"},{value:"AR",label:"Aragua"},{value:"BA",label:"Barinas"},{value:"BO",label:"Bolívar"},{value:"CA",label:"Carabobo"},{value:"CO",label:"Cojedes"},{value:"DA",label:"Delta Amacuro"},{value:"DC",label:"Distrito Capital"},{value:"FA",label:"Falcón"},{value:"GU",label:"Guárico"},{value:"LA",label:"Lara"},{value:"ME",label:"Mérida"},{value:"MI",label:"Miranda"},{value:"MO",label:"Monagas"},{value:"NE",label:"Nueva Esparta"},{value:"PO",label:"Portuguesa"},{value:"SU",label:"Sucre"},{value:"TA",label:"Táchira"},{value:"TR",label:"Trujillo"},{value:"VA",label:"Vargas"},{value:"YA",label:"Yaracuy"},{value:"ZU",label:"Zulia"}],$K=[{value:"AB",label:"Alberta"},{value:"BC",label:"British Columbia"},{value:"MB",label:"Manitoba"},{value:"NB",label:"New Brunswick"},{value:"NL",label:"Newfoundland and Labrador"},{value:"NS",label:"Nova Scotia"},{value:"ON",label:"Ontario"},{value:"PE",label:"Prince Edward Island"},{value:"QC",label:"Quebec"},{value:"SK",label:"Saskatchewan"},{value:"NT",label:"Northwest Territories"},{value:"NU",label:"Nunavut"},{value:"YT",label:"Yukon"}],VK=[{value:"AG",label:"Aguascalientes"},{value:"BC",label:"Baja California"},{value:"BS",label:"Baja California Sur"},{value:"CM",label:"Campeche"},{value:"CS",label:"Chiapas"},{value:"CH",label:"Chihuahua"},{value:"CX",label:"Ciudad de México"},{value:"CO",label:"Coahuila"},{value:"CL",label:"Colima"},{value:"DG",label:"Durango"},{value:"GT",label:"Guanajuato"},{value:"GR",label:"Guerrero"},{value:"HG",label:"Hidalgo"},{value:"JA",label:"Jalisco"},{value:"EM",label:"Estado de México"},{value:"MI",label:"Michoacán"},{value:"MO",label:"Morelos"},{value:"NA",label:"Nayarit"},{value:"NL",label:"Nuevo León"},{value:"OA",label:"Oaxaca"},{value:"PU",label:"Puebla"},{value:"QT",label:"Querétaro"},{value:"QR",label:"Quintana Roo"},{value:"SL",label:"San Luis Potosí"},{value:"SI",label:"Sinaloa"},{value:"SO",label:"Sonora"},{value:"TB",label:"Tabasco"},{value:"TM",label:"Tamaulipas"},{value:"TL",label:"Tlaxcala"},{value:"VE",label:"Veracruz"},{value:"YU",label:"Yucatán"},{value:"ZA",label:"Zacatecas"}],WK=[{value:"BW",label:"Baden-Württemberg"},{value:"BY",label:"Bayern (Bavaria)"},{value:"BE",label:"Berlin"},{value:"BB",label:"Brandenburg"},{value:"HB",label:"Bremen"},{value:"HH",label:"Hamburg"},{value:"HE",label:"Hessen"},{value:"MV",label:"Mecklenburg-Vorpommern"},{value:"NI",label:"Niedersachsen"},{value:"NW",label:"Nordrhein-Westfalen"},{value:"RP",label:"Rheinland-Pfalz"},{value:"SL",label:"Saarland"},{value:"SN",label:"Sachsen"},{value:"ST",label:"Sachsen-Anhalt"},{value:"SH",label:"Schleswig-Holstein"},{value:"TH",label:"Thüringen"}],qK=[{value:"1",label:"Burgenland"},{value:"2",label:"Kärnten"},{value:"3",label:"Niederösterreich"},{value:"4",label:"Oberösterreich"},{value:"5",label:"Salzburg"},{value:"6",label:"Steiermark"},{value:"7",label:"Tirol"},{value:"8",label:"Vorarlberg"},{value:"9",label:"Wien"}],YK=[{value:"BRU",label:"Brussels-Capital Region"},{value:"VLG",label:"Flemish Region"},{value:"WAL",label:"Walloon Region"}],GK=[{value:"AN",label:"Andalucía"},{value:"AR",label:"Aragón"},{value:"AS",label:"Asturias"},{value:"IB",label:"Islas Baleares"},{value:"CN",label:"Canarias"},{value:"CB",label:"Cantabria"},{value:"CM",label:"Castilla-La Mancha"},{value:"CL",label:"Castilla y León"},{value:"CT",label:"Cataluña"},{value:"EX",label:"Extremadura"},{value:"GA",label:"Galicia"},{value:"MD",label:"Madrid"},{value:"MC",label:"Murcia"},{value:"NC",label:"Navarra"},{value:"PV",label:"País Vasco"},{value:"RI",label:"La Rioja"},{value:"VC",label:"Valencia"},{value:"CE",label:"Ceuta"},{value:"ML",label:"Melilla"}],XK=[{value:"ARA",label:"Auvergne-Rhône-Alpes"},{value:"BFC",label:"Bourgogne-Franche-Comté"},{value:"BRE",label:"Bretagne"},{value:"CVL",label:"Centre-Val de Loire"},{value:"COR",label:"Corse"},{value:"GES",label:"Grand Est"},{value:"HDF",label:"Hauts-de-France"},{value:"IDF",label:"Île-de-France"},{value:"NOR",label:"Normandie"},{value:"NAQ",label:"Nouvelle-Aquitaine"},{value:"OCC",label:"Occitanie"},{value:"PDL",label:"Pays de la Loire"},{value:"PAC",label:"Provence-Alpes-Côte d'Azur"}],ZK=[{value:"ABR",label:"Abruzzo"},{value:"BAS",label:"Basilicata"},{value:"CAL",label:"Calabria"},{value:"CAM",label:"Campania"},{value:"EMR",label:"Emilia-Romagna"},{value:"FVG",label:"Friuli-Venezia Giulia"},{value:"LAZ",label:"Lazio"},{value:"LIG",label:"Liguria"},{value:"LOM",label:"Lombardia"},{value:"MAR",label:"Marche"},{value:"MOL",label:"Molise"},{value:"PIE",label:"Piemonte"},{value:"PUG",label:"Puglia"},{value:"SAR",label:"Sardegna"},{value:"SIC",label:"Sicilia"},{value:"TOS",label:"Toscana"},{value:"TAA",label:"Trentino-Alto Adige"},{value:"UMB",label:"Umbria"},{value:"VDA",label:"Valle d'Aosta"},{value:"VEN",label:"Veneto"}],JK=[{value:"ENG",label:"England"},{value:"SCT",label:"Scotland"},{value:"WLS",label:"Wales"},{value:"NIR",label:"Northern Ireland"}],KK=[{value:"AN",label:"Andaman and Nicobar Islands"},{value:"AP",label:"Andhra Pradesh"},{value:"AR",label:"Arunachal Pradesh"},{value:"AS",label:"Assam"},{value:"BR",label:"Bihar"},{value:"CH",label:"Chandigarh"},{value:"CT",label:"Chhattisgarh"},{value:"DN",label:"Dadra and Nagar Haveli"},{value:"DD",label:"Daman and Diu"},{value:"DL",label:"Delhi"},{value:"GA",label:"Goa"},{value:"GJ",label:"Gujarat"},{value:"HR",label:"Haryana"},{value:"HP",label:"Himachal Pradesh"},{value:"JK",label:"Jammu and Kashmir"},{value:"JH",label:"Jharkhand"},{value:"KA",label:"Karnataka"},{value:"KL",label:"Kerala"},{value:"LD",label:"Lakshadweep"},{value:"MP",label:"Madhya Pradesh"},{value:"MH",label:"Maharashtra"},{value:"MN",label:"Manipur"},{value:"ML",label:"Meghalaya"},{value:"MZ",label:"Mizoram"},{value:"NL",label:"Nagaland"},{value:"OR",label:"Odisha"},{value:"PY",label:"Puducherry"},{value:"PB",label:"Punjab"},{value:"RJ",label:"Rajasthan"},{value:"SK",label:"Sikkim"},{value:"TN",label:"Tamil Nadu"},{value:"TG",label:"Telangana"},{value:"TR",label:"Tripura"},{value:"UP",label:"Uttar Pradesh"},{value:"UT",label:"Uttarakhand"},{value:"WB",label:"West Bengal"}],QK=[{value:"AC",label:"Aceh"},{value:"SU",label:"Sumatera Utara"},{value:"SB",label:"Sumatera Barat"},{value:"RI",label:"Riau"},{value:"JA",label:"Jambi"},{value:"SS",label:"Sumatera Selatan"},{value:"BB",label:"Bangka Belitung"},{value:"BE",label:"Bengkulu"},{value:"LA",label:"Lampung"},{value:"KR",label:"Kepulauan Riau"},{value:"JK",label:"DKI Jakarta"},{value:"JB",label:"Jawa Barat"},{value:"JT",label:"Jawa Tengah"},{value:"YO",label:"DI Yogyakarta"},{value:"JI",label:"Jawa Timur"},{value:"BT",label:"Banten"},{value:"BA",label:"Bali"},{value:"NB",label:"Nusa Tenggara Barat"},{value:"NT",label:"Nusa Tenggara Timur"},{value:"KB",label:"Kalimantan Barat"},{value:"KT",label:"Kalimantan Tengah"},{value:"KS",label:"Kalimantan Selatan"},{value:"KI",label:"Kalimantan Timur"},{value:"KU",label:"Kalimantan Utara"},{value:"SA",label:"Sulawesi Utara"},{value:"ST",label:"Sulawesi Tengah"},{value:"SN",label:"Sulawesi Selatan"},{value:"SG",label:"Sulawesi Tenggara"},{value:"GO",label:"Gorontalo"},{value:"SR",label:"Sulawesi Barat"},{value:"MA",label:"Maluku"},{value:"MU",label:"Maluku Utara"},{value:"PA",label:"Papua"},{value:"PB",label:"Papua Barat"}],eQ=[{value:"01",label:"Hokkaido"},{value:"02",label:"Aomori"},{value:"03",label:"Iwate"},{value:"04",label:"Miyagi"},{value:"05",label:"Akita"},{value:"06",label:"Yamagata"},{value:"07",label:"Fukushima"},{value:"08",label:"Ibaraki"},{value:"09",label:"Tochigi"},{value:"10",label:"Gunma"},{value:"11",label:"Saitama"},{value:"12",label:"Chiba"},{value:"13",label:"Tokyo"},{value:"14",label:"Kanagawa"},{value:"15",label:"Niigata"},{value:"16",label:"Toyama"},{value:"17",label:"Ishikawa"},{value:"18",label:"Fukui"},{value:"19",label:"Yamanashi"},{value:"20",label:"Nagano"},{value:"21",label:"Gifu"},{value:"22",label:"Shizuoka"},{value:"23",label:"Aichi"},{value:"24",label:"Mie"},{value:"25",label:"Shiga"},{value:"26",label:"Kyoto"},{value:"27",label:"Osaka"},{value:"28",label:"Hyogo"},{value:"29",label:"Nara"},{value:"30",label:"Wakayama"},{value:"31",label:"Tottori"},{value:"32",label:"Shimane"},{value:"33",label:"Okayama"},{value:"34",label:"Hiroshima"},{value:"35",label:"Yamaguchi"},{value:"36",label:"Tokushima"},{value:"37",label:"Kagawa"},{value:"38",label:"Ehime"},{value:"39",label:"Kochi"},{value:"40",label:"Fukuoka"},{value:"41",label:"Saga"},{value:"42",label:"Nagasaki"},{value:"43",label:"Kumamoto"},{value:"44",label:"Oita"},{value:"45",label:"Miyazaki"},{value:"46",label:"Kagoshima"},{value:"47",label:"Okinawa"}],tQ=[{value:"JH",label:"Johor"},{value:"KD",label:"Kedah"},{value:"KL",label:"Kelantan"},{value:"ML",label:"Melaka"},{value:"NS",label:"Negeri Sembilan"},{value:"PA",label:"Pahang"},{value:"PK",label:"Perak"},{value:"PR",label:"Perlis"},{value:"PP",label:"Pulau Pinang"},{value:"SB",label:"Sabah"},{value:"SW",label:"Sarawak"},{value:"SL",label:"Selangor"},{value:"TR",label:"Terengganu"},{value:"KU",label:"Kuala Lumpur"},{value:"LB",label:"Labuan"},{value:"PJ",label:"Putrajaya"}],rQ=[{value:"10",label:"Bangkok"},{value:"11",label:"Samut Prakan"},{value:"12",label:"Nonthaburi"},{value:"13",label:"Pathum Thani"},{value:"14",label:"Phra Nakhon Si Ayutthaya"},{value:"15",label:"Ang Thong"},{value:"16",label:"Lopburi"},{value:"17",label:"Sing Buri"},{value:"18",label:"Chai Nat"},{value:"19",label:"Saraburi"},{value:"20",label:"Chonburi"},{value:"21",label:"Rayong"},{value:"22",label:"Chanthaburi"},{value:"23",label:"Trat"},{value:"24",label:"Chachoengsao"},{value:"25",label:"Prachinburi"},{value:"26",label:"Nakhon Nayok"},{value:"27",label:"Sa Kaeo"},{value:"30",label:"Nakhon Ratchasima"},{value:"31",label:"Buriram"},{value:"32",label:"Surin"},{value:"33",label:"Sisaket"},{value:"34",label:"Ubon Ratchathani"},{value:"35",label:"Yasothon"},{value:"36",label:"Chaiyaphum"},{value:"37",label:"Amnat Charoen"},{value:"39",label:"Nong Bua Lamphu"},{value:"40",label:"Khon Kaen"},{value:"41",label:"Udon Thani"},{value:"42",label:"Loei"},{value:"43",label:"Nong Khai"},{value:"44",label:"Maha Sarakham"},{value:"45",label:"Roi Et"},{value:"46",label:"Kalasin"},{value:"47",label:"Sakon Nakhon"},{value:"48",label:"Nakhon Phanom"},{value:"49",label:"Mukdahan"},{value:"50",label:"Chiang Mai"},{value:"51",label:"Lamphun"},{value:"52",label:"Lampang"},{value:"53",label:"Uttaradit"},{value:"54",label:"Phrae"},{value:"55",label:"Nan"},{value:"56",label:"Phayao"},{value:"57",label:"Chiang Rai"},{value:"58",label:"Mae Hong Son"},{value:"60",label:"Nakhon Sawan"},{value:"61",label:"Uthai Thani"},{value:"62",label:"Kamphaeng Phet"},{value:"63",label:"Tak"},{value:"64",label:"Sukhothai"},{value:"65",label:"Phitsanulok"},{value:"66",label:"Phichit"},{value:"67",label:"Phetchabun"},{value:"70",label:"Ratchaburi"},{value:"71",label:"Kanchanaburi"},{value:"72",label:"Suphanburi"},{value:"73",label:"Nakhon Pathom"},{value:"74",label:"Samut Sakhon"},{value:"75",label:"Samut Songkhram"},{value:"76",label:"Phetchaburi"},{value:"77",label:"Prachuap Khiri Khan"},{value:"80",label:"Nakhon Si Thammarat"},{value:"81",label:"Krabi"},{value:"82",label:"Phangnga"},{value:"83",label:"Phuket"},{value:"84",label:"Surat Thani"},{value:"85",label:"Ranong"},{value:"86",label:"Chumphon"},{value:"90",label:"Songkhla"},{value:"91",label:"Satun"},{value:"92",label:"Trang"},{value:"93",label:"Phatthalung"},{value:"94",label:"Pattani"},{value:"95",label:"Yala"},{value:"96",label:"Narathiwat"},{value:"S",label:"Bueng Kan"}],nQ=[{value:"01",label:"Adana"},{value:"02",label:"Adıyaman"},{value:"03",label:"Afyonkarahisar"},{value:"04",label:"Ağrı"},{value:"05",label:"Amasya"},{value:"06",label:"Ankara"},{value:"07",label:"Antalya"},{value:"08",label:"Artvin"},{value:"09",label:"Aydın"},{value:"10",label:"Balıkesir"},{value:"11",label:"Bilecik"},{value:"12",label:"Bingöl"},{value:"13",label:"Bitlis"},{value:"14",label:"Bolu"},{value:"15",label:"Burdur"},{value:"16",label:"Bursa"},{value:"17",label:"Çanakkale"},{value:"18",label:"Çankırı"},{value:"19",label:"Çorum"},{value:"20",label:"Denizli"},{value:"21",label:"Diyarbakır"},{value:"22",label:"Edirne"},{value:"23",label:"Elazığ"},{value:"24",label:"Erzincan"},{value:"25",label:"Erzurum"},{value:"26",label:"Eskişehir"},{value:"27",label:"Gaziantep"},{value:"28",label:"Giresun"},{value:"29",label:"Gümüşhane"},{value:"30",label:"Hakkâri"},{value:"31",label:"Hatay"},{value:"32",label:"Isparta"},{value:"33",label:"Mersin"},{value:"34",label:"İstanbul"},{value:"35",label:"İzmir"},{value:"36",label:"Kars"},{value:"37",label:"Kastamonu"},{value:"38",label:"Kayseri"},{value:"39",label:"Kırklareli"},{value:"40",label:"Kırşehir"},{value:"41",label:"Kocaeli"},{value:"42",label:"Konya"},{value:"43",label:"Kütahya"},{value:"44",label:"Malatya"},{value:"45",label:"Manisa"},{value:"46",label:"Kahramanmaraş"},{value:"47",label:"Mardin"},{value:"48",label:"Muğla"},{value:"49",label:"Muş"},{value:"50",label:"Nevşehir"},{value:"51",label:"Niğde"},{value:"52",label:"Ordu"},{value:"53",label:"Rize"},{value:"54",label:"Sakarya"},{value:"55",label:"Samsun"},{value:"56",label:"Siirt"},{value:"57",label:"Sinop"},{value:"58",label:"Sivas"},{value:"59",label:"Tekirdağ"},{value:"60",label:"Tokat"},{value:"61",label:"Trabzon"},{value:"62",label:"Tunceli"},{value:"63",label:"Şanlıurfa"},{value:"64",label:"Uşak"},{value:"65",label:"Van"},{value:"66",label:"Yozgat"},{value:"67",label:"Zonguldak"},{value:"68",label:"Aksaray"},{value:"69",label:"Bayburt"},{value:"70",label:"Karaman"},{value:"71",label:"Kırıkkale"},{value:"72",label:"Batman"},{value:"73",label:"Şırnak"},{value:"74",label:"Bartın"},{value:"75",label:"Ardahan"},{value:"76",label:"Iğdır"},{value:"77",label:"Yalova"},{value:"78",label:"Karabük"},{value:"79",label:"Kilis"},{value:"80",label:"Osmaniye"},{value:"81",label:"Düzce"}],sQ=[{value:"NSW",label:"New South Wales"},{value:"QLD",label:"Queensland"},{value:"SA",label:"South Australia"},{value:"TAS",label:"Tasmania"},{value:"VIC",label:"Victoria"},{value:"WA",label:"Western Australia"},{value:"ACT",label:"Australian Capital Territory"},{value:"NT",label:"Northern Territory"}],aQ=[{value:"AUK",label:"Auckland"},{value:"BOP",label:"Bay of Plenty"},{value:"CAN",label:"Canterbury"},{value:"GIS",label:"Gisborne"},{value:"HKB",label:"Hawke's Bay"},{value:"MWT",label:"Manawatū-Whanganui"},{value:"MBH",label:"Marlborough"},{value:"NSN",label:"Nelson"},{value:"NTL",label:"Northland"},{value:"OTA",label:"Otago"},{value:"STL",label:"Southland"},{value:"TKI",label:"Taranaki"},{value:"TAS",label:"Tasman"},{value:"WKO",label:"Waikato"},{value:"WGN",label:"Wellington"},{value:"WTC",label:"West Coast"}],iQ=[{value:"EC",label:"Eastern Cape"},{value:"FS",label:"Free State"},{value:"GP",label:"Gauteng"},{value:"KZN",label:"KwaZulu-Natal"},{value:"LP",label:"Limpopo"},{value:"MP",label:"Mpumalanga"},{value:"NC",label:"Northern Cape"},{value:"NW",label:"North West"},{value:"WC",label:"Western Cape"}],mR={BR:TK,US:PK,AR:LK,BO:DK,CL:MK,CO:RK,EC:IK,GY:OK,PY:FK,PE:BK,SR:zK,UY:HK,VE:UK,CA:$K,MX:VK,CR:[{value:"",label:"N/A"}],CU:[{value:"",label:"N/A"}],SV:[{value:"",label:"N/A"}],GT:[{value:"",label:"N/A"}],HT:[{value:"",label:"N/A"}],HN:[{value:"",label:"N/A"}],NI:[{value:"",label:"N/A"}],PA:[{value:"",label:"N/A"}],DO:[{value:"",label:"N/A"}],DE:WK,AT:qK,BE:YK,BG:[{value:"",label:"N/A"}],DK:[{value:"",label:"N/A"}],SK:[{value:"",label:"N/A"}],SI:[{value:"",label:"N/A"}],ES:GK,FI:[{value:"",label:"N/A"}],FR:XK,GR:[{value:"",label:"N/A"}],HU:[{value:"",label:"N/A"}],IE:[{value:"",label:"N/A"}],IT:ZK,LU:[{value:"",label:"N/A"}],NO:[{value:"",label:"N/A"}],NL:[{value:"",label:"N/A"}],PL:[{value:"",label:"N/A"}],PT:[{value:"",label:"N/A"}],GB:JK,CZ:[{value:"",label:"N/A"}],RO:[{value:"",label:"N/A"}],SE:[{value:"",label:"N/A"}],CH:[{value:"",label:"N/A"}],CN:[{value:"",label:"N/A"}],KR:[{value:"",label:"N/A"}],AE:[{value:"",label:"N/A"}],HK:[{value:"",label:"N/A"}],IN:KK,ID:QK,JP:eQ,MY:tQ,TH:rQ,TR:nQ,VN:[{value:"",label:"N/A"}],AU:sQ,NZ:aQ,ZA:iQ,AO:[{value:"",label:"N/A"}],CM:[{value:"",label:"N/A"}],EG:[{value:"",label:"N/A"}],ET:[{value:"",label:"N/A"}],GH:[{value:"",label:"N/A"}],KE:[{value:"",label:"N/A"}],MA:[{value:"",label:"N/A"}],MZ:[{value:"",label:"N/A"}],NG:[{value:"",label:"N/A"}],SN:[{value:"",label:"N/A"}],TN:[{value:"",label:"N/A"}]},oQ=[{value:"BR",label:"Brasil",icon:l.jsx("img",{src:"https://flagcdn.com/br.svg",width:"20",alt:"Brasil",className:"mr-2"})},{value:"AR",label:"Argentina",icon:l.jsx("img",{src:"https://flagcdn.com/ar.svg",width:"20",alt:"Argentina",className:"mr-2"})},{value:"BO",label:"Bolívia",icon:l.jsx("img",{src:"https://flagcdn.com/bo.svg",width:"20",alt:"Bolívia",className:"mr-2"})},{value:"CL",label:"Chile",icon:l.jsx("img",{src:"https://flagcdn.com/cl.svg",width:"20",alt:"Chile",className:"mr-2"})},{value:"CO",label:"Colômbia",icon:l.jsx("img",{src:"https://flagcdn.com/co.svg",width:"20",alt:"Colômbia",className:"mr-2"})},{value:"EC",label:"Equador",icon:l.jsx("img",{src:"https://flagcdn.com/ec.svg",width:"20",alt:"Equador",className:"mr-2"})},{value:"GY",label:"Guiana",icon:l.jsx("img",{src:"https://flagcdn.com/gy.svg",width:"20",alt:"Guiana",className:"mr-2"})},{value:"PY",label:"Paraguai",icon:l.jsx("img",{src:"https://flagcdn.com/py.svg",width:"20",alt:"Paraguai",className:"mr-2"})},{value:"PE",label:"Peru",icon:l.jsx("img",{src:"https://flagcdn.com/pe.svg",width:"20",alt:"Peru",className:"mr-2"})},{value:"SR",label:"Suriname",icon:l.jsx("img",{src:"https://flagcdn.com/sr.svg",width:"20",alt:"Suriname",className:"mr-2"})},{value:"UY",label:"Uruguai",icon:l.jsx("img",{src:"https://flagcdn.com/uy.svg",width:"20",alt:"Uruguai",className:"mr-2"})},{value:"VE",label:"Venezuela",icon:l.jsx("img",{src:"https://flagcdn.com/ve.svg",width:"20",alt:"Venezuela",className:"mr-2"})},{value:"US",label:"Estados Unidos",icon:l.jsx("img",{src:"https://flagcdn.com/us.svg",width:"20",alt:"Estados Unidos",className:"mr-2"})},{value:"CA",label:"Canadá",icon:l.jsx("img",{src:"https://flagcdn.com/ca.svg",width:"20",alt:"Canadá",className:"mr-2"})},{value:"MX",label:"México",icon:l.jsx("img",{src:"https://flagcdn.com/mx.svg",width:"20",alt:"México",className:"mr-2"})},{value:"CR",label:"Costa Rica",icon:l.jsx("img",{src:"https://flagcdn.com/cr.svg",width:"20",alt:"Costa Rica",className:"mr-2"})},{value:"CU",label:"Cuba",icon:l.jsx("img",{src:"https://flagcdn.com/cu.svg",width:"20",alt:"Cuba",className:"mr-2"})},{value:"SV",label:"El Salvador",icon:l.jsx("img",{src:"https://flagcdn.com/sv.svg",width:"20",alt:"El Salvador",className:"mr-2"})},{value:"GT",label:"Guatemala",icon:l.jsx("img",{src:"https://flagcdn.com/gt.svg",width:"20",alt:"Guatemala",className:"mr-2"})},{value:"HT",label:"Haiti",icon:l.jsx("img",{src:"https://flagcdn.com/ht.svg",width:"20",alt:"Haiti",className:"mr-2"})},{value:"HN",label:"Honduras",icon:l.jsx("img",{src:"https://flagcdn.com/hn.svg",width:"20",alt:"Honduras",className:"mr-2"})},{value:"NI",label:"Nicarágua",icon:l.jsx("img",{src:"https://flagcdn.com/ni.svg",width:"20",alt:"Nicarágua",className:"mr-2"})},{value:"PA",label:"Panamá",icon:l.jsx("img",{src:"https://flagcdn.com/pa.svg",width:"20",alt:"Panamá",className:"mr-2"})},{value:"DO",label:"República Dominicana",icon:l.jsx("img",{src:"https://flagcdn.com/do.svg",width:"20",alt:"República Dominicana",className:"mr-2"})},{value:"DE",label:"Alemanha",icon:l.jsx("img",{src:"https://flagcdn.com/de.svg",width:"20",alt:"Alemanha",className:"mr-2"})},{value:"AT",label:"Áustria",icon:l.jsx("img",{src:"https://flagcdn.com/at.svg",width:"20",alt:"Áustria",className:"mr-2"})},{value:"BE",label:"Bélgica",icon:l.jsx("img",{src:"https://flagcdn.com/be.svg",width:"20",alt:"Bélgica",className:"mr-2"})},{value:"BG",label:"Bulgária",icon:l.jsx("img",{src:"https://flagcdn.com/bg.svg",width:"20",alt:"Bulgária",className:"mr-2"})},{value:"DK",label:"Dinamarca",icon:l.jsx("img",{src:"https://flagcdn.com/dk.svg",width:"20",alt:"Dinamarca",className:"mr-2"})},{value:"SK",label:"Eslováquia",icon:l.jsx("img",{src:"https://flagcdn.com/sk.svg",width:"20",alt:"Eslováquia",className:"mr-2"})},{value:"SI",label:"Eslovênia",icon:l.jsx("img",{src:"https://flagcdn.com/si.svg",width:"20",alt:"Eslovênia",className:"mr-2"})},{value:"ES",label:"Espanha",icon:l.jsx("img",{src:"https://flagcdn.com/es.svg",width:"20",alt:"Espanha",className:"mr-2"})},{value:"FI",label:"Finlândia",icon:l.jsx("img",{src:"https://flagcdn.com/fi.svg",width:"20",alt:"Finlândia",className:"mr-2"})},{value:"FR",label:"França",icon:l.jsx("img",{src:"https://flagcdn.com/fr.svg",width:"20",alt:"França",className:"mr-2"})},{value:"GR",label:"Grécia",icon:l.jsx("img",{src:"https://flagcdn.com/gr.svg",width:"20",alt:"Grécia",className:"mr-2"})},{value:"HU",label:"Hungria",icon:l.jsx("img",{src:"https://flagcdn.com/hu.svg",width:"20",alt:"Hungria",className:"mr-2"})},{value:"IE",label:"Irlanda",icon:l.jsx("img",{src:"https://flagcdn.com/ie.svg",width:"20",alt:"Irlanda",className:"mr-2"})},{value:"IT",label:"Itália",icon:l.jsx("img",{src:"https://flagcdn.com/it.svg",width:"20",alt:"Itália",className:"mr-2"})},{value:"LU",label:"Luxemburgo",icon:l.jsx("img",{src:"https://flagcdn.com/lu.svg",width:"20",alt:"Luxemburgo",className:"mr-2"})},{value:"NO",label:"Noruega",icon:l.jsx("img",{src:"https://flagcdn.com/no.svg",width:"20",alt:"Noruega",className:"mr-2"})},{value:"NL",label:"Países Baixos",icon:l.jsx("img",{src:"https://flagcdn.com/nl.svg",width:"20",alt:"Países Baixos",className:"mr-2"})},{value:"PL",label:"Polônia",icon:l.jsx("img",{src:"https://flagcdn.com/pl.svg",width:"20",alt:"Polônia",className:"mr-2"})},{value:"PT",label:"Portugal",icon:l.jsx("img",{src:"https://flagcdn.com/pt.svg",width:"20",alt:"Portugal",className:"mr-2"})},{value:"GB",label:"Reino Unido",icon:l.jsx("img",{src:"https://flagcdn.com/gb.svg",width:"20",alt:"Reino Unido",className:"mr-2"})},{value:"CZ",label:"República Tcheca",icon:l.jsx("img",{src:"https://flagcdn.com/cz.svg",width:"20",alt:"República Tcheca",className:"mr-2"})},{value:"RO",label:"Romênia",icon:l.jsx("img",{src:"https://flagcdn.com/ro.svg",width:"20",alt:"Romênia",className:"mr-2"})},{value:"SE",label:"Suécia",icon:l.jsx("img",{src:"https://flagcdn.com/se.svg",width:"20",alt:"Suécia",className:"mr-2"})},{value:"CH",label:"Suíça",icon:l.jsx("img",{src:"https://flagcdn.com/ch.svg",width:"20",alt:"Suíça",className:"mr-2"})},{value:"CN",label:"China",icon:l.jsx("img",{src:"https://flagcdn.com/cn.svg",width:"20",alt:"China",className:"mr-2"})},{value:"KR",label:"Coreia do Sul",icon:l.jsx("img",{src:"https://flagcdn.com/kr.svg",width:"20",alt:"Coreia do Sul",className:"mr-2"})},{value:"AE",label:"Emirados Árabes Unidos",icon:l.jsx("img",{src:"https://flagcdn.com/ae.svg",width:"20",alt:"Emirados Árabes Unidos",className:"mr-2"})},{value:"HK",label:"Hong Kong",icon:l.jsx("img",{src:"https://flagcdn.com/hk.svg",width:"20",alt:"Hong Kong",className:"mr-2"})},{value:"IN",label:"Índia",icon:l.jsx("img",{src:"https://flagcdn.com/in.svg",width:"20",alt:"Índia",className:"mr-2"})},{value:"ID",label:"Indonésia",icon:l.jsx("img",{src:"https://flagcdn.com/id.svg",width:"20",alt:"Indonésia",className:"mr-2"})},{value:"IL",label:"Israel",icon:l.jsx("img",{src:"https://flagcdn.com/il.svg",width:"20",alt:"Israel",className:"mr-2"})},{value:"JP",label:"Japão",icon:l.jsx("img",{src:"https://flagcdn.com/jp.svg",width:"20",alt:"Japão",className:"mr-2"})},{value:"MY",label:"Malásia",icon:l.jsx("img",{src:"https://flagcdn.com/my.svg",width:"20",alt:"Malásia",className:"mr-2"})},{value:"SG",label:"Singapura",icon:l.jsx("img",{src:"https://flagcdn.com/sg.svg",width:"20",alt:"Singapura",className:"mr-2"})},{value:"TH",label:"Tailândia",icon:l.jsx("img",{src:"https://flagcdn.com/th.svg",width:"20",alt:"Tailândia",className:"mr-2"})},{value:"TR",label:"Turquia",icon:l.jsx("img",{src:"https://flagcdn.com/tr.svg",width:"20",alt:"Turquia",className:"mr-2"})},{value:"VN",label:"Vietnã",icon:l.jsx("img",{src:"https://flagcdn.com/vn.svg",width:"20",alt:"Vietnã",className:"mr-2"})},{value:"AU",label:"Austrália",icon:l.jsx("img",{src:"https://flagcdn.com/au.svg",width:"20",alt:"Austrália",className:"mr-2"})},{value:"NZ",label:"Nova Zelândia",icon:l.jsx("img",{src:"https://flagcdn.com/nz.svg",width:"20",alt:"Nova Zelândia",className:"mr-2"})},{value:"ZA",label:"África do Sul",icon:l.jsx("img",{src:"https://flagcdn.com/za.svg",width:"20",alt:"África do Sul",className:"mr-2"})},{value:"AO",label:"Angola",icon:l.jsx("img",{src:"https://flagcdn.com/ao.svg",width:"20",alt:"Angola",className:"mr-2"})},{value:"CM",label:"Camarões",icon:l.jsx("img",{src:"https://flagcdn.com/cm.svg",width:"20",alt:"Camarões",className:"mr-2"})},{value:"EG",label:"Egito",icon:l.jsx("img",{src:"https://flagcdn.com/eg.svg",width:"20",alt:"Egito",className:"mr-2"})},{value:"ET",label:"Etiópia",icon:l.jsx("img",{src:"https://flagcdn.com/et.svg",width:"20",alt:"Etiópia",className:"mr-2"})},{value:"GH",label:"Gana",icon:l.jsx("img",{src:"https://flagcdn.com/gh.svg",width:"20",alt:"Gana",className:"mr-2"})},{value:"KE",label:"Quênia",icon:l.jsx("img",{src:"https://flagcdn.com/ke.svg",width:"20",alt:"Quênia",className:"mr-2"})},{value:"MA",label:"Marrocos",icon:l.jsx("img",{src:"https://flagcdn.com/ma.svg",width:"20",alt:"Marrocos",className:"mr-2"})},{value:"MZ",label:"Moçambique",icon:l.jsx("img",{src:"https://flagcdn.com/mz.svg",width:"20",alt:"Moçambique",className:"mr-2"})},{value:"NG",label:"Nigéria",icon:l.jsx("img",{src:"https://flagcdn.com/ng.svg",width:"20",alt:"Nigéria",className:"mr-2"})},{value:"SN",label:"Senegal",icon:l.jsx("img",{src:"https://flagcdn.com/sn.svg",width:"20",alt:"Senegal",className:"mr-2"})},{value:"TN",label:"Tunísia",icon:l.jsx("img",{src:"https://flagcdn.com/tn.svg",width:"20",alt:"Tunísia",className:"mr-2"})}].sort((r,e)=>r.label.localeCompare(e.label));function lQ({data:r,onChange:e}){const t=(s,a)=>{e({...r,[s]:a})},n=mR[r.country]||[];return l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsxs("div",{children:[l.jsxs(Me,{children:["Tipo de Pessoa ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(or,{options:[{value:"individual",label:"Pessoa Física"},{value:"business",label:"Pessoa Jurídica"}],value:r.legal_status,onChange:s=>t("legal_status",s)})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["País ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(or,{options:oQ,value:r.country,onChange:s=>t("country",s)})]}),r.legal_status==="business"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsxs(Me,{children:["CNPJ ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(Du,{mask:"99.999.999/9999-99",value:r.document_number,onChange:s=>t("document_number",s.target.value),className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",placeholder:"00.000.000/0000-00",required:!0})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Nome da Empresa ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"text",value:r.company_name||"",onChange:s=>t("company_name",s.target.value),required:!0,placeholder:"Digite o nome da empresa"})]})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Estado ",n.length>0&&l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(or,{options:n.length>0?[{value:"",label:"Selecione o estado"},...n]:[{value:"",label:"Selecione o país primeiro"}],value:r.state||"",onChange:s=>t("state",s),disabled:n.length===0})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Cidade ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"text",value:r.city,onChange:s=>t("city",s.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["CEP ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx("div",{className:"relative",children:l.jsx(Du,{mask:"99999-999",value:r.zip_code,onChange:s=>t("zip_code",s.target.value),className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",placeholder:"00000-000",required:!0})})]}),l.jsxs("div",{className:"lg:col-span-1",children:[l.jsxs(Me,{children:["Endereço ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"text",value:r.address,onChange:s=>t("address",s.target.value),required:!0})]}),r.legal_status==="individual"&&l.jsxs("div",{className:"lg:col-span-1",children:[l.jsxs(Me,{children:["CPF ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(Du,{mask:"999.999.999-99",value:r.document_number,onChange:s=>t("document_number",s.target.value),className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",placeholder:"000.000.000-00",required:!0})]})]})})}function xR({profile:r,onUpdate:e}){const[t,n]=b.useState(""),[s,a]=b.useState(!1),[i,o]=b.useState(!1),[c,d]=b.useState({legal_status:"individual",country:"BR",city:"",zip_code:"",address:"",document_number:""});b.useEffect(()=>{r&&r.id&&u()},[r&&r.id]),b.useEffect(()=>{var f;r&&((f=r.phone)!=null&&f.startsWith("+55"))&&!c.id&&d(p=>({...p,country:"BR"}))},[r==null?void 0:r.phone]);async function u(){var f;try{o(!0),n("");let p=G.from("company_data").select("*");r&&r.role==="admin"?p=p.eq("admin_id",r.id):r&&r.id&&(p=p.eq("user_id",r.id));const{data:g,error:m}=await p.maybeSingle();if(m)throw m;g?d(g):r&&((f=r.phone)!=null&&f.startsWith("+55"))&&d(v=>({...v,country:"BR"}))}catch(p){console.error("Erro ao carregar dados da empresa:",p),n("Erro ao carregar dados da empresa")}finally{o(!1)}}const h=async f=>{f.preventDefault();try{o(!0),n(""),a(!1);let p=null;if(r){let g=G.from("company_data").select("id");r.role==="admin"?g=g.eq("admin_id",r.id):g=g.eq("user_id",r.id);const{data:m}=await g.maybeSingle();p=m}if(p&&p.id){let g=null,m=null;r&&r.id&&(g=r.role==="admin"?r.id:null,m=r.role!=="admin"?r.id:null);const v={...c,updated_at:new Date().toISOString(),admin_id:g,user_id:m},{error:x}=await G.from("company_data").update(v).eq("id",p.id);if(x)throw x}else{let g=null,m=null;r&&r.id&&(g=r.role==="admin"?r.id:null,m=r.role!=="admin"?r.id:null);const v={...c,admin_id:g,user_id:m},{error:x}=await G.from("company_data").insert([v]);if(x)throw x}a(!0),e(),setTimeout(()=>{a(!1)},3e3)}catch(p){console.error("Erro ao salvar dados da empresa:",p),n("Erro ao salvar dados da empresa")}finally{o(!1)}};return r?l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Dados da Empresa"}),t&&l.jsx("div",{className:"p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:t}),s&&l.jsx("div",{className:"p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:"Dados salvos com sucesso!"}),l.jsxs("form",{onSubmit:h,className:"space-y-8",children:[l.jsx(lQ,{data:c,onChange:f=>d({...c,...f})}),l.jsx("div",{className:"flex justify-end pt-6",children:l.jsx(nt,{disabled:i,children:i?"Salvando...":"Salvar"})})]})]})}):null}const vR=(r=!1)=>{const[e,t]=b.useState(r),n=b.useCallback(()=>t(!0),[]),s=b.useCallback(()=>t(!1),[]),a=b.useCallback(()=>t(i=>!i),[]);return{isOpen:e,openModal:n,closeModal:s,toggleModal:a}},ai=({isOpen:r,onClose:e,children:t,className:n,showCloseButton:s=!0,isFullscreen:a=!1})=>{const i=b.useRef(null);if(b.useEffect(()=>{const c=d=>{d.key==="Escape"&&e()};return r&&document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[r,e]),b.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),!r)return null;const o=a?"w-full h-full":"relative w-full rounded-3xl bg-white dark:bg-gray-900";return l.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-99999",children:[!a&&l.jsx("div",{className:"fixed inset-0 h-full w-full bg-gray-400/50 backdrop-blur-[--background-blur]",onClick:e}),l.jsxs("div",{ref:i,className:`${o} ${n} max-h-[calc(100vh-2rem)] overflow-hidden flex flex-col`,onClick:c=>c.stopPropagation(),children:[s&&l.jsx("button",{onClick:e,className:"absolute right-3 top-3 z-999 flex h-9.5 w-9.5 items-center justify-center rounded-full bg-gray-100 text-gray-400 transition-colors hover:bg-gray-200 hover:text-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white sm:right-6 sm:top-6 sm:h-11 sm:w-11",children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.04289 16.5413C5.65237 16.9318 5.65237 17.565 6.04289 17.9555C6.43342 18.346 7.06658 18.346 7.45711 17.9555L11.9987 13.4139L16.5408 17.956C16.9313 18.3466 17.5645 18.3466 17.955 17.956C18.3455 17.5655 18.3455 16.9323 17.955 16.5418L13.4129 11.9997L17.955 7.4576C18.3455 7.06707 18.3455 6.43391 17.955 6.04338C17.5645 5.65286 16.9313 5.65286 16.5408 6.04338L11.9987 10.5855L7.45711 6.0439C7.06658 5.65338 6.43342 5.65338 6.04289 6.0439C5.65237 6.43442 5.65237 7.06759 6.04289 7.45811L10.5845 11.9997L6.04289 16.5413Z",fill:"currentColor"})})}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:t})]})]})};function yR({}){const{isOpen:r,openModal:e,closeModal:t}=vR();return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Tipo de Conta"}),l.jsx(nt,{onClick:e,children:"Editar"})]}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Funcionalidade em desenvolvimento. Em breve você poderá gerenciar seu tipo de conta aqui."}),l.jsx(ai,{isOpen:r,onClose:t,className:"max-w-[700px] m-4",children:l.jsxs("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-11",children:[l.jsxs("div",{className:"px-2 pr-14",children:[l.jsx("h4",{className:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90",children:"Editar Tipo de Conta"}),l.jsx("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7",children:"Atualize seu tipo de conta"})]}),l.jsxs("form",{className:"flex flex-col",children:[l.jsx("div",{className:"px-2 pb-3",children:l.jsx("div",{className:"grid grid-cols-1 gap-x-6 gap-y-5",children:l.jsxs("div",{children:[l.jsx(Me,{children:"Plano Atual"}),l.jsx(st,{type:"text",placeholder:"Em desenvolvimento...",disabled:!0})]})})}),l.jsx("div",{className:"flex items-center gap-3 px-2 mt-6 lg:justify-end",children:l.jsx(nt,{size:"sm",variant:"outline",onClick:t,children:"Fechar"})})]})]})})]})}const cQ=[{value:"pl-PL",label:"Polish",description:"Polski"},{value:"en-GB",label:"English",description:"English"},{value:"de-DE",label:"German",description:"Deutsch"},{value:"cs-CS",label:"Czech",description:"Čeština"},{value:"sk-SK",label:"Slovak",description:"Slovenčina"},{value:"hr-HR",label:"Croatian",description:"Hrvatski"},{value:"hu-HU",label:"Hungarian",description:"Magyar"},{value:"ro-RO",label:"Romanian",description:"Română"},{value:"ua-UA",label:"Ukrainian",description:"Українська"},{value:"ru-RU",label:"Russian",description:"Русский"},{value:"bg-BG",label:"Bulgarian",description:"Български"},{value:"nl-NL",label:"Dutch",description:"Nederlands"},{value:"tr-TR",label:"Turkish",description:"Türkçe"},{value:"gr-GR",label:"Greek",description:"Ελληνικά"},{value:"fr-FR",label:"French",description:"Français"},{value:"it-IT",label:"Italian",description:"Italiano"},{value:"es-ES",label:"Spanish",description:"Español"},{value:"pt-PT",label:"Portuguese",description:"Português"},{value:"pt-BR",label:"Portuguese (Brazil)",description:"Português (Brazil)"}],dQ=[{value:"1",label:"Caracteres com espaços"},{value:"2",label:"Palavras"}],A7=[{value:"BRL",label:"Real (BRL)"},{value:"USD",label:"US Dollar (USD)"},{value:"USDT",label:"Tether (USDT)"}],uQ={BR:"Brasil",US:"Estados Unidos",GB:"Reino Unido",PT:"Portugal",ES:"Espanha",FR:"França",DE:"Alemanha",IT:"Itália",JP:"Japão",CN:"China",AU:"Austrália",CA:"Canadá",MX:"México",AR:"Argentina",CL:"Chile",CO:"Colômbia",PE:"Peru",UY:"Uruguai",PY:"Paraguai",BO:"Bolívia"};function bR({profile:r}){const[e,t]=b.useState(!1),[n,s]=b.useState(""),[a,i]=b.useState(!1),[o,c]=b.useState({language:"pt-BR",counter_type:"1",operational_currency:"BRL",display_currency:"BRL",country:"BR"});b.useEffect(()=>{d()},[r==null?void 0:r.id]);async function d(){var h;try{t(!0),s("");const{data:f,error:p}=await G.from("company_data").select("country").eq("admin_id",r==null?void 0:r.id).maybeSingle();if(p&&p.code!=="PGRST116")throw p;f?c(g=>({...g,country:f.country,language:f.country==="BR"?"pt-BR":g.language,operational_currency:f.country==="BR"?"BRL":g.operational_currency,display_currency:f.country==="BR"?"BRL":g.display_currency})):(h=r==null?void 0:r.phone)!=null&&h.startsWith("+55")&&c(g=>({...g,country:"BR",language:"pt-BR",operational_currency:"BRL",display_currency:"BRL"}))}catch(f){console.error("Erro ao carregar dados:",f),s("Erro ao carregar configurações")}finally{t(!1)}}const u=async h=>{h.preventDefault();try{t(!0),s(""),i(!1),i(!0),setTimeout(()=>{i(!1)},3e3)}catch(f){console.error("Erro ao salvar configurações:",f),s("Erro ao salvar configurações")}finally{t(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Idioma e Moeda"}),n&&l.jsx("div",{className:"p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:n}),a&&l.jsx("div",{className:"p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:"Configurações salvas com sucesso!"}),l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[l.jsxs("div",{children:[l.jsx(Me,{children:"País de Residência"}),l.jsx("div",{className:"p-3 bg-gray-50 rounded-lg dark:bg-gray-800",children:l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:uQ[o.country]||"País não definido"})}),l.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"O país é definido em Dados da Empresa"})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Moeda Operacional ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(or,{options:A7,value:o.operational_currency,onChange:h=>c({...o,operational_currency:h})})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Idioma da Plataforma ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(or,{options:cQ,value:o.language,onChange:h=>c({...o,language:h})})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Número de caracteres/palavras"," ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(or,{options:dQ,value:o.counter_type,onChange:h=>c({...o,counter_type:h})})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Moeda de Exibição ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(or,{options:A7,value:o.display_currency,onChange:h=>c({...o,display_currency:h})})]})]}),l.jsxs("div",{className:"flex justify-end pt-6",children:[l.jsx(nt,{variant:"outline",children:"Cancelar"}),l.jsx(nt,{disabled:e,children:e?"Salvando...":"Salvar"})]})]})]})}function hQ(){const[r,e]=b.useState(null),[t,n]=b.useState(!0),[s,a]=b.useState(""),[i,o]=b.useState("profile");b.useEffect(()=>{c()},[]);async function c(){try{const{data:{user:u}}=await G.auth.getUser();if(!u){a("Usuário não encontrado");return}const{data:h,error:f}=await G.from("admins").select("*").eq("id",u.id).single();if(f)throw f;e(h)}catch(u){console.error("Erro ao carregar perfil:",u),a("Erro ao carregar dados do perfil")}finally{n(!1)}}if(t)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})});if(s)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-error-500",children:s})});const d=[{id:"profile",name:"Perfil"},{id:"company",name:"Dados da Empresa"}];return l.jsxs(l.Fragment,{children:[l.jsx(er,{pageTitle:"Minha Conta",description:"Gerencie suas informações de conta"}),l.jsx(Dr,{pageTitle:"Minha Conta"}),l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]",children:[l.jsx("div",{className:"border-b border-gray-200 dark:border-gray-800",children:l.jsx("div",{className:"flex gap-2 px-5 lg:px-6",children:d.map(u=>l.jsx("button",{onClick:()=>o(u.id),className:`inline-flex items-center gap-2 border-b-2 px-4 py-4 text-sm font-medium hover:text-gray-700 dark:hover:text-gray-300 ${i===u.id?"border-brand-500 text-brand-500 dark:text-brand-400":"border-transparent text-gray-500 dark:text-gray-400"}`,children:u.name},u.id))})}),l.jsxs("div",{className:"p-5 lg:p-6",children:[i==="profile"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx(ZM,{profile:r}),l.jsx(fK,{profile:r,onUpdate:c}),l.jsx(iR,{profile:r,onUpdate:c})]}),i==="company"&&l.jsx(xR,{profile:r,onUpdate:c}),i==="account"&&l.jsx(yR,{profile:r,onUpdate:c}),i==="localization"&&l.jsx(bR,{profile:r})]})]})]})}function fQ(){return l.jsx("div",{className:"relative",children:l.jsx("div",{className:"overflow-hidden",children:l.jsx("img",{src:"/images/grid-image/image-01.png",alt:"Cover",className:"w-full border border-gray-200 rounded-xl dark:border-gray-800"})})})}function pQ(){return l.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2",children:[l.jsx("div",{children:l.jsx("img",{src:"/images/grid-image/image-02.png",alt:" grid",className:"border border-gray-200 rounded-xl dark:border-gray-800"})}),l.jsx("div",{children:l.jsx("img",{src:"/images/grid-image/image-03.png",alt:" grid",className:"border border-gray-200 rounded-xl dark:border-gray-800"})})]})}function gQ(){return l.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 xl:grid-cols-3",children:[l.jsx("div",{children:l.jsx("img",{src:"/images/grid-image/image-04.png",alt:" grid",className:"border border-gray-200 rounded-xl dark:border-gray-800"})}),l.jsx("div",{children:l.jsx("img",{src:"/images/grid-image/image-05.png",alt:" grid",className:"border border-gray-200 rounded-xl dark:border-gray-800"})}),l.jsx("div",{children:l.jsx("img",{src:"/images/grid-image/image-06.png",alt:" grid",className:"border border-gray-200 rounded-xl dark:border-gray-800"})})]})}const pr=({title:r,children:e,className:t="",desc:n=""})=>l.jsxs("div",{className:`rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] ${t}`,children:[l.jsxs("div",{className:"px-6 py-5",children:[l.jsx("h3",{className:"text-base font-medium text-gray-800 dark:text-white/90",children:r}),n&&l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:n})]}),l.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-800 sm:p-6",children:l.jsx("div",{className:"space-y-6",children:e})})]});function mQ(){return l.jsxs(l.Fragment,{children:[l.jsx(er,{title:"React.js Images Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Images page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),l.jsx(Dr,{pageTitle:"Images"}),l.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[l.jsx(pr,{title:"Responsive image",children:l.jsx(fQ,{})}),l.jsx(pr,{title:"Image in 2 Grid",children:l.jsx(pQ,{})}),l.jsx(pr,{title:"Image in 3 Grid",children:l.jsx(gQ,{})})]})]})}const Sc=({variant:r,title:e,message:t,showLink:n=!1,linkHref:s="#",linkText:a="Learn more"})=>{const i={success:{container:"border-success-500 bg-success-50 dark:border-success-500/30 dark:bg-success-500/15",icon:"text-success-500"},error:{container:"border-error-500 bg-error-50 dark:border-error-500/30 dark:bg-error-500/15",icon:"text-error-500"},warning:{container:"border-warning-500 bg-warning-50 dark:border-warning-500/30 dark:bg-warning-500/15",icon:"text-warning-500"},info:{container:"border-blue-light-500 bg-blue-light-50 dark:border-blue-light-500/30 dark:bg-blue-light-500/15",icon:"text-blue-light-500"}},o={success:l.jsx("svg",{className:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.70186 12.0001C3.70186 7.41711 7.41711 3.70186 12.0001 3.70186C16.5831 3.70186 20.2984 7.41711 20.2984 12.0001C20.2984 16.5831 16.5831 20.2984 12.0001 20.2984C7.41711 20.2984 3.70186 16.5831 3.70186 12.0001ZM12.0001 1.90186C6.423 1.90186 1.90186 6.423 1.90186 12.0001C1.90186 17.5772 6.423 22.0984 12.0001 22.0984C17.5772 22.0984 22.0984 17.5772 22.0984 12.0001C22.0984 6.423 17.5772 1.90186 12.0001 1.90186ZM15.6197 10.7395C15.9712 10.388 15.9712 9.81819 15.6197 9.46672C15.2683 9.11525 14.6984 9.11525 14.347 9.46672L11.1894 12.6243L9.6533 11.0883C9.30183 10.7368 8.73198 10.7368 8.38051 11.0883C8.02904 11.4397 8.02904 12.0096 8.38051 12.3611L10.553 14.5335C10.7217 14.7023 10.9507 14.7971 11.1894 14.7971C11.428 14.7971 11.657 14.7023 11.8257 14.5335L15.6197 10.7395Z"})}),error:l.jsx("svg",{className:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.3499 12.0004C20.3499 16.612 16.6115 20.3504 11.9999 20.3504C7.38832 20.3504 3.6499 16.612 3.6499 12.0004C3.6499 7.38881 7.38833 3.65039 11.9999 3.65039C16.6115 3.65039 20.3499 7.38881 20.3499 12.0004ZM11.9999 22.1504C17.6056 22.1504 22.1499 17.6061 22.1499 12.0004C22.1499 6.3947 17.6056 1.85039 11.9999 1.85039C6.39421 1.85039 1.8499 6.3947 1.8499 12.0004C1.8499 17.6061 6.39421 22.1504 11.9999 22.1504ZM13.0008 16.4753C13.0008 15.923 12.5531 15.4753 12.0008 15.4753L11.9998 15.4753C11.4475 15.4753 10.9998 15.923 10.9998 16.4753C10.9998 17.0276 11.4475 17.4753 11.9998 17.4753L12.0008 17.4753C12.5531 17.4753 13.0008 17.0276 13.0008 16.4753ZM11.9998 6.62898C12.414 6.62898 12.7498 6.96476 12.7498 7.37898L12.7498 13.0555C12.7498 13.4697 12.414 13.8055 11.9998 13.8055C11.5856 13.8055 11.2498 13.4697 11.2498 13.0555L11.2498 7.37898C11.2498 6.96476 11.5856 6.62898 11.9998 6.62898Z",fill:"#F04438"})}),warning:l.jsx("svg",{className:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6501 12.0001C3.6501 7.38852 7.38852 3.6501 12.0001 3.6501C16.6117 3.6501 20.3501 7.38852 20.3501 12.0001C20.3501 16.6117 16.6117 20.3501 12.0001 20.3501C7.38852 20.3501 3.6501 16.6117 3.6501 12.0001ZM12.0001 1.8501C6.39441 1.8501 1.8501 6.39441 1.8501 12.0001C1.8501 17.6058 6.39441 22.1501 12.0001 22.1501C17.6058 22.1501 22.1501 17.6058 22.1501 12.0001C22.1501 6.39441 17.6058 1.8501 12.0001 1.8501ZM10.9992 7.52517C10.9992 8.07746 11.4469 8.52517 11.9992 8.52517H12.0002C12.5525 8.52517 13.0002 8.07746 13.0002 7.52517C13.0002 6.97289 12.5525 6.52517 12.0002 6.52517H11.9992C11.4469 6.52517 10.9992 6.97289 10.9992 7.52517ZM12.0002 17.3715C11.586 17.3715 11.2502 17.0357 11.2502 16.6215V10.945C11.2502 10.5308 11.586 10.195 12.0002 10.195C12.4144 10.195 12.7502 10.5308 12.7502 10.945V16.6215C12.7502 17.0357 12.4144 17.3715 12.0002 17.3715Z",fill:""})}),info:l.jsx("svg",{className:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6501 11.9996C3.6501 7.38803 7.38852 3.64961 12.0001 3.64961C16.6117 3.64961 20.3501 7.38803 20.3501 11.9996C20.3501 16.6112 16.6117 20.3496 12.0001 20.3496C7.38852 20.3496 3.6501 16.6112 3.6501 11.9996ZM12.0001 1.84961C6.39441 1.84961 1.8501 6.39392 1.8501 11.9996C1.8501 17.6053 6.39441 22.1496 12.0001 22.1496C17.6058 22.1496 22.1501 17.6053 22.1501 11.9996C22.1501 6.39392 17.6058 1.84961 12.0001 1.84961ZM10.9992 7.52468C10.9992 8.07697 11.4469 8.52468 11.9992 8.52468H12.0002C12.5525 8.52468 13.0002 8.07697 13.0002 7.52468C13.0002 6.9724 12.5525 6.52468 12.0002 6.52468H11.9992C11.4469 6.52468 10.9992 6.9724 10.9992 7.52468ZM12.0002 17.371C11.586 17.371 11.2502 17.0352 11.2502 16.621V10.9445C11.2502 10.5303 11.586 10.1945 12.0002 10.1945C12.4144 10.1945 12.7502 10.5303 12.7502 10.9445V16.621C12.7502 17.0352 12.4144 17.371 12.0002 17.371Z",fill:""})})};return l.jsx("div",{className:`rounded-xl border p-4 ${i[r].container}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`-mt-0.5 ${i[r].icon}`,children:o[r]}),l.jsxs("div",{children:[l.jsx("h4",{className:"mb-1 text-sm font-semibold text-gray-800 dark:text-white/90",children:e}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t}),n&&l.jsx(Hn,{to:s,className:"inline-block mt-3 text-sm font-medium text-gray-500 underline dark:text-gray-400",children:a})]})]})})};function xQ(){const{paths:r}=f2();return l.jsxs(l.Fragment,{children:[l.jsx(er,{title:"React.js Alerts Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Alerts Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),l.jsx(Dr,{pageTitle:"Alerts"}),l.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[l.jsxs(pr,{title:"Success Alert",children:[l.jsx(Sc,{variant:"success",title:"Success Message",message:"Be cautious when performing this action.",showLink:!0,linkHref:r.home,linkText:"Learn more"}),l.jsx(Sc,{variant:"success",title:"Success Message",message:"Be cautious when performing this action.",showLink:!1})]}),l.jsxs(pr,{title:"Warning Alert",children:[l.jsx(Sc,{variant:"warning",title:"Warning Message",message:"Be cautious when performing this action.",showLink:!0,linkHref:r.home,linkText:"Learn more"}),l.jsx(Sc,{variant:"warning",title:"Warning Message",message:"Be cautious when performing this action.",showLink:!1})]})," ",l.jsxs(pr,{title:"Error Alert",children:[l.jsx(Sc,{variant:"error",title:"Error Message",message:"Be cautious when performing this action.",showLink:!0,linkHref:r.home,linkText:"Learn more"}),l.jsx(Sc,{variant:"error",title:"Error Message",message:"Be cautious when performing this action.",showLink:!1})]})," ",l.jsxs(pr,{title:"Info Alert",children:[l.jsx(Sc,{variant:"info",title:"Info Message",message:"Be cautious when performing this action.",showLink:!0,linkHref:r.home,linkText:"Learn more"}),l.jsx(Sc,{variant:"info",title:"Info Message",message:"Be cautious when performing this action.",showLink:!1})]})]})]})}const Dt=({variant:r="light",color:e="primary",size:t="md",startIcon:n,endIcon:s,children:a})=>{const i="inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium",o={sm:"text-theme-xs",md:"text-sm"},c={light:{primary:"bg-brand-50 text-brand-500 dark:bg-brand-500/15 dark:text-brand-400",success:"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500",error:"bg-error-50 text-error-600 dark:bg-error-500/15 dark:text-error-500",warning:"bg-warning-50 text-warning-600 dark:bg-warning-500/15 dark:text-orange-400",info:"bg-blue-light-50 text-blue-light-500 dark:bg-blue-light-500/15 dark:text-blue-light-500",light:"bg-gray-100 text-gray-700 dark:bg-white/5 dark:text-white/80",dark:"bg-gray-500 text-white dark:bg-white/5 dark:text-white"},solid:{primary:"bg-brand-500 text-white dark:text-white",success:"bg-success-500 text-white dark:text-white",error:"bg-error-500 text-white dark:text-white",warning:"bg-warning-500 text-white dark:text-white",info:"bg-blue-light-500 text-white dark:text-white",light:"bg-gray-400 dark:bg-white/5 text-white dark:text-white/80",dark:"bg-gray-700 text-white dark:text-white"}},d=o[t],u=c[r][e];return l.jsxs("span",{className:`${i} ${d} ${u}`,children:[n&&l.jsx("span",{className:"mr-1",children:n}),a,s&&l.jsx("span",{className:"ml-1",children:s})]})},Pr=r=>b.createElement("svg",{className:"fill-current",width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25012 3C5.25012 2.58579 5.58591 2.25 6.00012 2.25C6.41433 2.25 6.75012 2.58579 6.75012 3V5.25012L9.00034 5.25012C9.41455 5.25012 9.75034 5.58591 9.75034 6.00012C9.75034 6.41433 9.41455 6.75012 9.00034 6.75012H6.75012V9.00034C6.75012 9.41455 6.41433 9.75034 6.00012 9.75034C5.58591 9.75034 5.25012 9.41455 5.25012 9.00034L5.25012 6.75012H3C2.58579 6.75012 2.25 6.41433 2.25 6.00012C2.25 5.58591 2.58579 5.25012 3 5.25012H5.25012V3Z",fill:""})),vQ=r=>b.createElement("svg",{className:"size-6       ",width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.04289 16.5418C5.65237 16.9323 5.65237 17.5655 6.04289 17.956C6.43342 18.3465 7.06658 18.3465 7.45711 17.956L11.9987 13.4144L16.5408 17.9565C16.9313 18.347 17.5645 18.347 17.955 17.9565C18.3455 17.566 18.3455 16.9328 17.955 16.5423L13.4129 12.0002L17.955 7.45808C18.3455 7.06756 18.3455 6.43439 17.955 6.04387C17.5645 5.65335 16.9313 5.65335 16.5408 6.04387L11.9987 10.586L7.45711 6.04439C7.06658 5.65386 6.43342 5.65386 6.04289 6.04439C5.65237 6.43491 5.65237 7.06808 6.04289 7.4586L10.5845 12.0002L6.04289 16.5418Z",fill:"currentColor"})),Wo=r=>b.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.77692 3.24224C9.91768 3.17186 10.0834 3.17186 10.2241 3.24224L15.3713 5.81573L10.3359 8.33331C10.1248 8.43888 9.87626 8.43888 9.66512 8.33331L4.6298 5.81573L9.77692 3.24224ZM3.70264 7.0292V13.4124C3.70264 13.6018 3.80964 13.775 3.97903 13.8597L9.25016 16.4952L9.25016 9.7837C9.16327 9.75296 9.07782 9.71671 8.99432 9.67496L3.70264 7.0292ZM10.7502 16.4955V9.78396C10.8373 9.75316 10.923 9.71683 11.0067 9.67496L16.2984 7.0292V13.4124C16.2984 13.6018 16.1914 13.775 16.022 13.8597L10.7502 16.4955ZM9.41463 17.4831L9.10612 18.1002C9.66916 18.3817 10.3319 18.3817 10.8949 18.1002L16.6928 15.2013C17.3704 14.8625 17.7984 14.17 17.7984 13.4124V6.58831C17.7984 5.83076 17.3704 5.13823 16.6928 4.79945L10.8949 1.90059C10.3319 1.61908 9.66916 1.61907 9.10612 1.90059L9.44152 2.57141L9.10612 1.90059L3.30823 4.79945C2.63065 5.13823 2.20264 5.83076 2.20264 6.58831V13.4124C2.20264 14.17 2.63065 14.8625 3.30823 15.2013L9.10612 18.1002L9.41463 17.4831Z",fill:"currentColor"})),Nk=r=>b.createElement("svg",{className:"size-5",xmlns:"http://www.w3.org/2000/svg",width:22,height:22,viewBox:"0 0 22 22",fill:"none",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.70186 11.0001C2.70186 6.41711 6.41711 2.70186 11.0001 2.70186C15.5831 2.70186 19.2984 6.41711 19.2984 11.0001C19.2984 15.5831 15.5831 19.2984 11.0001 19.2984C6.41711 19.2984 2.70186 15.5831 2.70186 11.0001ZM11.0001 0.901855C5.423 0.901855 0.901855 5.423 0.901855 11.0001C0.901855 16.5772 5.423 21.0984 11.0001 21.0984C16.5772 21.0984 21.0984 16.5772 21.0984 11.0001C21.0984 5.423 16.5772 0.901855 11.0001 0.901855ZM14.6197 9.73951C14.9712 9.38804 14.9712 8.81819 14.6197 8.46672C14.2683 8.11525 13.6984 8.11525 13.347 8.46672L10.1894 11.6243L8.6533 10.0883C8.30183 9.7368 7.73198 9.7368 7.38051 10.0883C7.02904 10.4397 7.02904 11.0096 7.38051 11.3611L9.55295 13.5335C9.72174 13.7023 9.95065 13.7971 10.1894 13.7971C10.428 13.7971 10.657 13.7023 10.8257 13.5335L14.6197 9.73951Z",fill:"#12B76A"})),yQ=r=>b.createElement("svg",{className:"size-5",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6501 12.0001C3.6501 7.38852 7.38852 3.6501 12.0001 3.6501C16.6117 3.6501 20.3501 7.38852 20.3501 12.0001C20.3501 16.6117 16.6117 20.3501 12.0001 20.3501C7.38852 20.3501 3.6501 16.6117 3.6501 12.0001ZM12.0001 1.8501C6.39441 1.8501 1.8501 6.39441 1.8501 12.0001C1.8501 17.6058 6.39441 22.1501 12.0001 22.1501C17.6058 22.1501 22.1501 17.6058 22.1501 12.0001C22.1501 6.39441 17.6058 1.8501 12.0001 1.8501ZM10.9992 7.52517C10.9992 8.07746 11.4469 8.52517 11.9992 8.52517H12.0002C12.5525 8.52517 13.0002 8.07746 13.0002 7.52517C13.0002 6.97289 12.5525 6.52517 12.0002 6.52517H11.9992C11.4469 6.52517 10.9992 6.97289 10.9992 7.52517ZM12.0002 17.3715C11.586 17.3715 11.2502 17.0357 11.2502 16.6215V10.945C11.2502 10.5308 11.586 10.195 12.0002 10.195C12.4144 10.195 12.7502 10.5308 12.7502 10.945V16.6215C12.7502 17.0357 12.4144 17.3715 12.0002 17.3715Z",fill:"#F79009"})),bQ=r=>b.createElement("svg",{className:"size-5",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6501 11.9996C3.6501 7.38803 7.38852 3.64961 12.0001 3.64961C16.6117 3.64961 20.3501 7.38803 20.3501 11.9996C20.3501 16.6112 16.6117 20.3496 12.0001 20.3496C7.38852 20.3496 3.6501 16.6112 3.6501 11.9996ZM12.0001 1.84961C6.39441 1.84961 1.8501 6.39392 1.8501 11.9996C1.8501 17.6053 6.39441 22.1496 12.0001 22.1496C17.6058 22.1496 22.1501 17.6053 22.1501 11.9996C22.1501 6.39392 17.6058 1.84961 12.0001 1.84961ZM10.9992 7.52468C10.9992 8.07697 11.4469 8.52468 11.9992 8.52468H12.0002C12.5525 8.52468 13.0002 8.07697 13.0002 7.52468C13.0002 6.9724 12.5525 6.52468 12.0002 6.52468H11.9992C11.4469 6.52468 10.9992 6.9724 10.9992 7.52468ZM12.0002 17.371C11.586 17.371 11.2502 17.0352 11.2502 16.621V10.9445C11.2502 10.5303 11.586 10.1945 12.0002 10.1945C12.4144 10.1945 12.7502 10.5303 12.7502 10.9445V16.621C12.7502 17.0352 12.4144 17.371 12.0002 17.371Z",fill:"#0BA5EC"})),wQ=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.3499 11.9999C20.3499 16.6115 16.6115 20.3499 11.9999 20.3499C7.38832 20.3499 3.6499 16.6115 3.6499 11.9999C3.6499 7.38832 7.38833 3.6499 11.9999 3.6499C16.6115 3.6499 20.3499 7.38832 20.3499 11.9999ZM11.9999 22.1499C17.6056 22.1499 22.1499 17.6056 22.1499 11.9999C22.1499 6.39421 17.6056 1.8499 11.9999 1.8499C6.39421 1.8499 1.8499 6.39421 1.8499 11.9999C1.8499 17.6056 6.39421 22.1499 11.9999 22.1499ZM13.0008 16.4748C13.0008 15.9225 12.5531 15.4748 12.0008 15.4748L11.9998 15.4748C11.4475 15.4748 10.9998 15.9225 10.9998 16.4748C10.9998 17.0271 11.4475 17.4748 11.9998 17.4748L12.0008 17.4748C12.5531 17.4748 13.0008 17.0271 13.0008 16.4748ZM11.9998 6.62849C12.414 6.62849 12.7498 6.96428 12.7498 7.37849L12.7498 13.055C12.7498 13.4692 12.414 13.805 11.9998 13.805C11.5856 13.805 11.2498 13.4692 11.2498 13.055L11.2498 7.37849C11.2498 6.96428 11.5856 6.62849 11.9998 6.62849Z",fill:"#F04438"})),wR=r=>b.createElement("svg",{className:"size-6",width:24,height:26,viewBox:"0 0 24 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{d:"M12.814 4.75L4.78516 16.0352H11.1859L11.1859 23.25L19.2148 11.9648L12.814 11.9648V4.75Z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),kR=r=>b.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.85954 4.0835C9.5834 4.0835 9.35954 4.30735 9.35954 4.5835V15.4161C9.35954 15.6922 9.5834 15.9161 9.85954 15.9161H10.1373C10.4135 15.9161 10.6373 15.6922 10.6373 15.4161V4.5835C10.6373 4.30735 10.4135 4.0835 10.1373 4.0835H9.85954ZM7.85954 4.5835C7.85954 3.47893 8.75497 2.5835 9.85954 2.5835H10.1373C11.2419 2.5835 12.1373 3.47893 12.1373 4.5835V15.4161C12.1373 16.5206 11.2419 17.4161 10.1373 17.4161H9.85954C8.75497 17.4161 7.85954 16.5206 7.85954 15.4161V4.5835ZM4.58203 8.9598C4.30589 8.9598 4.08203 9.18366 4.08203 9.4598V15.4168C4.08203 15.693 4.30589 15.9168 4.58203 15.9168H4.85981C5.13595 15.9168 5.35981 15.693 5.35981 15.4168V9.4598C5.35981 9.18366 5.13595 8.9598 4.85981 8.9598H4.58203ZM2.58203 9.4598C2.58203 8.35523 3.47746 7.4598 4.58203 7.4598H4.85981C5.96438 7.4598 6.85981 8.35523 6.85981 9.4598V15.4168C6.85981 16.5214 5.96438 17.4168 4.85981 17.4168H4.58203C3.47746 17.4168 2.58203 16.5214 2.58203 15.4168V9.4598ZM14.637 12.435C14.637 12.1589 14.8609 11.935 15.137 11.935H15.4148C15.691 11.935 15.9148 12.1589 15.9148 12.435V15.4168C15.9148 15.693 15.691 15.9168 15.4148 15.9168H15.137C14.8609 15.9168 14.637 15.693 14.637 15.4168V12.435ZM15.137 10.435C14.0325 10.435 13.137 11.3304 13.137 12.435V15.4168C13.137 16.5214 14.0325 17.4168 15.137 17.4168H15.4148C16.5194 17.4168 17.4148 16.5214 17.4148 15.4168V12.435C17.4148 11.3304 16.5194 10.435 15.4148 10.435H15.137Z",fill:"currentColor"})),Ek=r=>b.createElement("svg",{className:"fill-current",width:13,height:12,viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.06462 1.62393C6.20193 1.47072 6.40135 1.37432 6.62329 1.37432C6.6236 1.37432 6.62391 1.37432 6.62422 1.37432C6.81631 1.37415 7.00845 1.44731 7.15505 1.5938L10.1551 4.5918C10.4481 4.88459 10.4483 5.35946 10.1555 5.65246C9.86273 5.94546 9.38785 5.94562 9.09486 5.65283L7.37329 3.93247L7.37329 10.125C7.37329 10.5392 7.03751 10.875 6.62329 10.875C6.20908 10.875 5.87329 10.5392 5.87329 10.125L5.87329 3.93578L4.15516 5.65281C3.86218 5.94561 3.3873 5.94546 3.0945 5.65248C2.8017 5.35949 2.80185 4.88462 3.09484 4.59182L6.06462 1.62393Z",fill:""})),_k=r=>b.createElement("svg",{className:"fill-current",width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.31462 10.3761C5.45194 10.5293 5.65136 10.6257 5.87329 10.6257C5.8736 10.6257 5.8739 10.6257 5.87421 10.6257C6.0663 10.6259 6.25845 10.5527 6.40505 10.4062L9.40514 7.4082C9.69814 7.11541 9.69831 6.64054 9.40552 6.34754C9.11273 6.05454 8.63785 6.05438 8.34486 6.34717L6.62329 8.06753L6.62329 1.875C6.62329 1.46079 6.28751 1.125 5.87329 1.125C5.45908 1.125 5.12329 1.46079 5.12329 1.875L5.12329 8.06422L3.40516 6.34719C3.11218 6.05439 2.6373 6.05454 2.3445 6.34752C2.0517 6.64051 2.05185 7.11538 2.34484 7.40818L5.31462 10.3761Z",fill:""})),kQ=r=>b.createElement("svg",{width:20,height:18,viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{d:"M9.05 3.9L8.45 4.35L9.05 3.9ZM2.25 2.25H6.5V0.75H2.25V2.25ZM1.5 15V3H0V15H1.5ZM17.75 15.75H2.25V17.25H17.75V15.75ZM18.5 6V15H20V6H18.5ZM17.75 3.75H10.25V5.25H17.75V3.75ZM9.65 3.45L8.3 1.65L7.1 2.55L8.45 4.35L9.65 3.45ZM10.25 3.75C10.0139 3.75 9.79164 3.63885 9.65 3.45L8.45 4.35C8.87492 4.91656 9.5418 5.25 10.25 5.25V3.75ZM20 6C20 4.75736 18.9926 3.75 17.75 3.75V5.25C18.1642 5.25 18.5 5.58579 18.5 6H20ZM17.75 17.25C18.9926 17.25 20 16.2426 20 15H18.5C18.5 15.4142 18.1642 15.75 17.75 15.75V17.25ZM0 15C0 16.2426 1.00736 17.25 2.25 17.25V15.75C1.83579 15.75 1.5 15.4142 1.5 15H0ZM6.5 2.25C6.73607 2.25 6.95836 2.36115 7.1 2.55L8.3 1.65C7.87508 1.08344 7.2082 0.75 6.5 0.75V2.25ZM2.25 0.75C1.00736 0.75 0 1.75736 0 3H1.5C1.5 2.58579 1.83579 2.25 2.25 2.25V0.75Z",fill:"currentColor"})),CQ=r=>b.createElement("svg",{width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{d:"M6.70825 5.93126L6.70825 18.0687C6.70825 19.2416 7.9937 19.9607 8.99315 19.347L18.8765 13.2783C19.83 12.6928 19.83 11.3072 18.8765 10.7217L8.99315 4.65301C7.9937 4.03931 6.70825 4.75844 6.70825 5.93126Z",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round"})),SQ=r=>b.createElement("svg",{className:"fill-current",width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.4166 4.00001C21.4166 3.77689 21.3173 3.56536 21.1456 3.42287C20.9739 3.28039 20.7477 3.22173 20.5284 3.26285L8.52841 5.51285C8.17368 5.57936 7.91663 5.88909 7.91663 6.25001V9.98484C7.91644 9.99437 7.91644 10.0039 7.91663 10.0135V14.4585C7.3716 14.1636 6.72327 14 6.04163 14C5.16738 14 4.34794 14.2691 3.73094 14.7392C3.11333 15.2098 2.66663 15.9138 2.66663 16.75C2.66663 17.5862 3.11333 18.2902 3.73094 18.7608C4.34794 19.2309 5.16738 19.5 6.04163 19.5C6.91587 19.5 7.73532 19.2309 8.35231 18.7608C8.95774 18.2995 9.39893 17.6139 9.41611 16.7993C9.41645 16.79 9.41663 16.7806 9.41663 16.7712V16.75V10.62L19.9166 8.60938V12.2085C19.3716 11.9136 18.7233 11.75 18.0416 11.75C17.1674 11.75 16.3479 12.0191 15.7309 12.4892C15.1133 12.9598 14.6666 13.6638 14.6666 14.5C14.6666 15.3362 15.1133 16.0402 15.7309 16.5108C16.3479 16.9809 17.1674 17.25 18.0416 17.25C18.9159 17.25 19.7353 16.9809 20.3523 16.5108C20.9577 16.0495 21.3989 15.3639 21.4161 14.5493C21.4165 14.54 21.4166 14.5306 21.4166 14.5212V14.5V4.00001ZM19.9166 14.5C19.9166 14.2316 19.7757 13.9357 19.4432 13.6824C19.1102 13.4286 18.6171 13.25 18.0416 13.25C17.4661 13.25 16.9731 13.4286 16.64 13.6824C16.3076 13.9357 16.1666 14.2316 16.1666 14.5C16.1666 14.7684 16.3076 15.0643 16.64 15.3176C16.9731 15.5714 17.4661 15.75 18.0416 15.75C18.6171 15.75 19.1102 15.5714 19.4432 15.3176C19.7757 15.0643 19.9166 14.7684 19.9166 14.5ZM7.44325 15.9324C7.7757 16.1857 7.91663 16.4816 7.91663 16.75C7.91663 17.0184 7.7757 17.3143 7.44325 17.5676C7.11018 17.8214 6.61713 18 6.04163 18C5.46613 18 4.97307 17.8214 4.64 17.5676C4.30755 17.3143 4.16663 17.0184 4.16663 16.75C4.16663 16.4816 4.30755 16.1857 4.64 15.9324C4.97307 15.6786 5.46613 15.5 6.04163 15.5C6.61713 15.5 7.11018 15.6786 7.44325 15.9324ZM19.9166 7.08212V4.9037L9.41663 6.87245V9.09276L19.9166 7.08212Z",fill:"currentColor"})),Of=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 3.25C4.25736 3.25 3.25 4.25736 3.25 5.5V8.99998C3.25 10.2426 4.25736 11.25 5.5 11.25H9C10.2426 11.25 11.25 10.2426 11.25 8.99998V5.5C11.25 4.25736 10.2426 3.25 9 3.25H5.5ZM4.75 5.5C4.75 5.08579 5.08579 4.75 5.5 4.75H9C9.41421 4.75 9.75 5.08579 9.75 5.5V8.99998C9.75 9.41419 9.41421 9.74998 9 9.74998H5.5C5.08579 9.74998 4.75 9.41419 4.75 8.99998V5.5ZM5.5 12.75C4.25736 12.75 3.25 13.7574 3.25 15V18.5C3.25 19.7426 4.25736 20.75 5.5 20.75H9C10.2426 20.75 11.25 19.7427 11.25 18.5V15C11.25 13.7574 10.2426 12.75 9 12.75H5.5ZM4.75 15C4.75 14.5858 5.08579 14.25 5.5 14.25H9C9.41421 14.25 9.75 14.5858 9.75 15V18.5C9.75 18.9142 9.41421 19.25 9 19.25H5.5C5.08579 19.25 4.75 18.9142 4.75 18.5V15ZM12.75 5.5C12.75 4.25736 13.7574 3.25 15 3.25H18.5C19.7426 3.25 20.75 4.25736 20.75 5.5V8.99998C20.75 10.2426 19.7426 11.25 18.5 11.25H15C13.7574 11.25 12.75 10.2426 12.75 8.99998V5.5ZM15 4.75C14.5858 4.75 14.25 5.08579 14.25 5.5V8.99998C14.25 9.41419 14.5858 9.74998 15 9.74998H18.5C18.9142 9.74998 19.25 9.41419 19.25 8.99998V5.5C19.25 5.08579 18.9142 4.75 18.5 4.75H15ZM15 12.75C13.7574 12.75 12.75 13.7574 12.75 15V18.5C12.75 19.7426 13.7574 20.75 15 20.75H18.5C19.7426 20.75 20.75 19.7427 20.75 18.5V15C20.75 13.7574 19.7426 12.75 18.5 12.75H15ZM14.25 15C14.25 14.5858 14.5858 14.25 15 14.25H18.5C18.9142 14.25 19.25 14.5858 19.25 15V18.5C19.25 18.9142 18.9142 19.25 18.5 19.25H15C14.5858 19.25 14.25 18.9142 14.25 18.5V15Z",fill:"currentColor"})),Ml=r=>b.createElement("svg",{className:"fill-current",width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.8335 19.75C19.8335 20.9926 18.8261 22 17.5835 22H7.0835C5.84086 22 4.8335 20.9926 4.8335 19.75V9.62105C4.8335 9.02455 5.07036 8.45247 5.49201 8.03055L10.8597 2.65951C11.2817 2.23725 11.8542 2 12.4512 2H17.5835C18.8261 2 19.8335 3.00736 19.8335 4.25V19.75ZM17.5835 20.5C17.9977 20.5 18.3335 20.1642 18.3335 19.75V4.25C18.3335 3.83579 17.9977 3.5 17.5835 3.5H12.5815L12.5844 7.49913C12.5853 8.7424 11.5776 9.75073 10.3344 9.75073H6.3335V19.75C6.3335 20.1642 6.66928 20.5 7.0835 20.5H17.5835ZM7.39262 8.25073L11.0823 4.55876L11.0844 7.5002C11.0847 7.91462 10.7488 8.25073 10.3344 8.25073H7.39262ZM8.5835 14.5C8.5835 14.0858 8.91928 13.75 9.3335 13.75H15.3335C15.7477 13.75 16.0835 14.0858 16.0835 14.5C16.0835 14.9142 15.7477 15.25 15.3335 15.25H9.3335C8.91928 15.25 8.5835 14.9142 8.5835 14.5ZM8.5835 17.5C8.5835 17.0858 8.91928 16.75 9.3335 16.75H12.3335C12.7477 16.75 13.0835 17.0858 13.0835 17.5C13.0835 17.9142 12.7477 18.25 12.3335 18.25H9.3335C8.91928 18.25 8.5835 17.9142 8.5835 17.5Z",fill:"currentColor"})),NQ=r=>b.createElement("svg",{className:"fill-current",width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.6686 16.75C12.4526 16.75 12.2579 16.6587 12.1211 16.5126L7.5115 11.9059C7.21851 11.6131 7.21836 11.1382 7.51116 10.8452C7.80396 10.5523 8.27883 10.5521 8.57182 10.8449L11.9186 14.1896V4C11.9186 3.58579 12.2544 3.25 12.6686 3.25C13.0828 3.25 13.4186 3.58579 13.4186 4V14.1854L16.7615 10.8449C17.0545 10.5521 17.5294 10.5523 17.8222 10.8453C18.115 11.1383 18.1148 11.6131 17.8218 11.9059L13.2469 16.4776C13.1093 16.644 12.9013 16.75 12.6686 16.75ZM5.41663 16C5.41663 15.5858 5.08084 15.25 4.66663 15.25C4.25241 15.25 3.91663 15.5858 3.91663 16V18.5C3.91663 19.7426 4.92399 20.75 6.16663 20.75H19.1675C20.4101 20.75 21.4175 19.7426 21.4175 18.5V16C21.4175 15.5858 21.0817 15.25 20.6675 15.25C20.2533 15.25 19.9175 15.5858 19.9175 16V18.5C19.9175 18.9142 19.5817 19.25 19.1675 19.25H6.16663C5.75241 19.25 5.41663 18.9142 5.41663 18.5V16Z",fill:"currentColor"})),CR=r=>b.createElement("svg",{className:"fill-current",width:29,height:28,viewBox:"0 0 29 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5019 3.91699C14.2852 3.91699 14.0899 4.00891 13.953 4.15589L8.57363 9.53186C8.28065 9.82466 8.2805 10.2995 8.5733 10.5925C8.8661 10.8855 9.34097 10.8857 9.63396 10.5929L13.7519 6.47752V18.667C13.7519 19.0812 14.0877 19.417 14.5019 19.417C14.9161 19.417 15.2519 19.0812 15.2519 18.667V6.48234L19.3653 10.5929C19.6583 10.8857 20.1332 10.8855 20.426 10.5925C20.7188 10.2995 20.7186 9.82463 20.4256 9.53184L15.0838 4.19378C14.9463 4.02488 14.7367 3.91699 14.5019 3.91699ZM5.91626 18.667C5.91626 18.2528 5.58047 17.917 5.16626 17.917C4.75205 17.917 4.41626 18.2528 4.41626 18.667V21.8337C4.41626 23.0763 5.42362 24.0837 6.66626 24.0837H22.3339C23.5766 24.0837 24.5839 23.0763 24.5839 21.8337V18.667C24.5839 18.2528 24.2482 17.917 23.8339 17.917C23.4197 17.917 23.0839 18.2528 23.0839 18.667V21.8337C23.0839 22.2479 22.7482 22.5837 22.3339 22.5837H6.66626C6.25205 22.5837 5.91626 22.2479 5.91626 21.8337V18.667Z",fill:"currentColor"})),SR=r=>b.createElement("svg",{className:"fill-current",width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4175 9.9986C17.4178 10.1909 17.3446 10.3832 17.198 10.53L12.2013 15.5301C11.9085 15.8231 11.4337 15.8233 11.1407 15.5305C10.8477 15.2377 10.8475 14.7629 11.1403 14.4699L14.8604 10.7472L3.33301 10.7472C2.91879 10.7472 2.58301 10.4114 2.58301 9.99715C2.58301 9.58294 2.91879 9.24715 3.33301 9.24715L14.8549 9.24715L11.1403 5.53016C10.8475 5.23717 10.8477 4.7623 11.1407 4.4695C11.4336 4.1767 11.9085 4.17685 12.2013 4.46984L17.1588 9.43049C17.3173 9.568 17.4175 9.77087 17.4175 9.99715C17.4175 9.99763 17.4175 9.99812 17.4175 9.9986Z",fill:"currentColor"})),NR=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.80443 5.60156C7.59109 5.60156 6.60749 6.58517 6.60749 7.79851C6.60749 9.01185 7.59109 9.99545 8.80443 9.99545C10.0178 9.99545 11.0014 9.01185 11.0014 7.79851C11.0014 6.58517 10.0178 5.60156 8.80443 5.60156ZM5.10749 7.79851C5.10749 5.75674 6.76267 4.10156 8.80443 4.10156C10.8462 4.10156 12.5014 5.75674 12.5014 7.79851C12.5014 9.84027 10.8462 11.4955 8.80443 11.4955C6.76267 11.4955 5.10749 9.84027 5.10749 7.79851ZM4.86252 15.3208C4.08769 16.0881 3.70377 17.0608 3.51705 17.8611C3.48384 18.0034 3.5211 18.1175 3.60712 18.2112C3.70161 18.3141 3.86659 18.3987 4.07591 18.3987H13.4249C13.6343 18.3987 13.7992 18.3141 13.8937 18.2112C13.9797 18.1175 14.017 18.0034 13.9838 17.8611C13.7971 17.0608 13.4132 16.0881 12.6383 15.3208C11.8821 14.572 10.6899 13.955 8.75042 13.955C6.81096 13.955 5.61877 14.572 4.86252 15.3208ZM3.8071 14.2549C4.87163 13.2009 6.45602 12.455 8.75042 12.455C11.0448 12.455 12.6292 13.2009 13.6937 14.2549C14.7397 15.2906 15.2207 16.5607 15.4446 17.5202C15.7658 18.8971 14.6071 19.8987 13.4249 19.8987H4.07591C2.89369 19.8987 1.73504 18.8971 2.05628 17.5202C2.28015 16.5607 2.76117 15.2906 3.8071 14.2549ZM15.3042 11.4955C14.4702 11.4955 13.7006 11.2193 13.0821 10.7533C13.3742 10.3314 13.6054 9.86419 13.7632 9.36432C14.1597 9.75463 14.7039 9.99545 15.3042 9.99545C16.5176 9.99545 17.5012 9.01185 17.5012 7.79851C17.5012 6.58517 16.5176 5.60156 15.3042 5.60156C14.7039 5.60156 14.1597 5.84239 13.7632 6.23271C13.6054 5.73284 13.3741 5.26561 13.082 4.84371C13.7006 4.37777 14.4702 4.10156 15.3042 4.10156C17.346 4.10156 19.0012 5.75674 19.0012 7.79851C19.0012 9.84027 17.346 11.4955 15.3042 11.4955ZM19.9248 19.8987H16.3901C16.7014 19.4736 16.9159 18.969 16.9827 18.3987H19.9248C20.1341 18.3987 20.2991 18.3141 20.3936 18.2112C20.4796 18.1175 20.5169 18.0034 20.4837 17.861C20.2969 17.0607 19.913 16.088 19.1382 15.3208C18.4047 14.5945 17.261 13.9921 15.4231 13.9566C15.2232 13.6945 14.9995 13.437 14.7491 13.1891C14.5144 12.9566 14.262 12.7384 13.9916 12.5362C14.3853 12.4831 14.8044 12.4549 15.2503 12.4549C17.5447 12.4549 19.1291 13.2008 20.1936 14.2549C21.2395 15.2906 21.7206 16.5607 21.9444 17.5202C22.2657 18.8971 21.107 19.8987 19.9248 19.8987Z",fill:"currentColor"})),ER=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.665 3.75621C11.8762 3.65064 12.1247 3.65064 12.3358 3.75621L18.7807 6.97856L12.3358 10.2009C12.1247 10.3065 11.8762 10.3065 11.665 10.2009L5.22014 6.97856L11.665 3.75621ZM4.29297 8.19203V16.0946C4.29297 16.3787 4.45347 16.6384 4.70757 16.7654L11.25 20.0366V11.6513C11.1631 11.6205 11.0777 11.5843 10.9942 11.5426L4.29297 8.19203ZM12.75 20.037L19.2933 16.7654C19.5474 16.6384 19.7079 16.3787 19.7079 16.0946V8.19202L13.0066 11.5426C12.9229 11.5844 12.8372 11.6208 12.75 11.6516V20.037ZM13.0066 2.41456C12.3732 2.09786 11.6277 2.09786 10.9942 2.41456L4.03676 5.89319C3.27449 6.27432 2.79297 7.05342 2.79297 7.90566V16.0946C2.79297 16.9469 3.27448 17.726 4.03676 18.1071L10.9942 21.5857L11.3296 20.9149L10.9942 21.5857C11.6277 21.9024 12.3732 21.9024 13.0066 21.5857L19.9641 18.1071C20.7264 17.726 21.2079 16.9469 21.2079 16.0946V7.90566C21.2079 7.05342 20.7264 6.27432 19.9641 5.89319L13.0066 2.41456Z",fill:"currentColor"})),EQ=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.3662 1.11216C20.6592 0.8193 21.134 0.819349 21.4269 1.11227C21.7198 1.4052 21.7197 1.88007 21.4268 2.17293L17.0308 6.56803C16.7379 6.8609 16.263 6.86085 15.9701 6.56792C15.6773 6.275 15.6773 5.80013 15.9702 5.50726L20.3662 1.11216ZM16.6592 2.696C16.952 2.40308 16.952 1.9282 16.659 1.63534C16.3661 1.34248 15.8913 1.34253 15.5984 1.63545L14.0987 3.13545C13.8058 3.42837 13.8059 3.90325 14.0988 4.19611C14.3917 4.48897 14.8666 4.48892 15.1595 4.196L16.6592 2.696ZM11.8343 3.45488C11.7079 3.19888 11.4472 3.0368 11.1617 3.0368C10.8762 3.0368 10.6155 3.19888 10.4892 3.45488L8.06431 8.36817L2.64217 9.15605C2.35966 9.19711 2.12495 9.39499 2.03673 9.6665C1.94851 9.93801 2.02208 10.2361 2.22651 10.4353L6.15001 14.2598L5.2238 19.66C5.17554 19.9414 5.29121 20.2258 5.52216 20.3936C5.75312 20.5614 6.05932 20.5835 6.31201 20.4506L11.1617 17.901L16.0114 20.4506C16.2641 20.5835 16.5703 20.5614 16.8013 20.3936C17.0322 20.2258 17.1479 19.9414 17.0996 19.66L16.1734 14.2598L20.0969 10.4353C20.3014 10.2361 20.3749 9.93801 20.2867 9.6665C20.1985 9.39499 19.9638 9.19711 19.6813 9.15605L14.2591 8.36817L11.8343 3.45488ZM9.23491 9.3856L11.1617 5.48147L13.0885 9.3856C13.1978 9.60696 13.4089 9.76039 13.6532 9.79588L17.9617 10.4219L14.8441 13.4609C14.6673 13.6332 14.5866 13.8814 14.6284 14.1247L15.3643 18.4158L11.5107 16.3898C11.2922 16.275 11.0312 16.275 10.8127 16.3898L6.9591 18.4158L7.69508 14.1247C7.7368 13.8814 7.65614 13.6332 7.47938 13.4609L4.36174 10.4219L8.67021 9.79588C8.91449 9.76039 9.12567 9.60696 9.23491 9.3856ZM21.6514 5.12825C21.9443 5.42111 21.9444 5.89598 21.6515 6.18891L20.1518 7.68891C19.8589 7.98183 19.3841 7.98188 19.0912 7.68901C18.7982 7.39615 18.7982 6.92128 19.091 6.62836L20.5907 5.12836C20.8836 4.83543 21.3585 4.83538 21.6514 5.12825Z",fill:"currentColor"})),_Q=r=>b.createElement("svg",{width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4164 2.79175C13.4164 2.37753 13.0806 2.04175 12.6664 2.04175C12.2522 2.04175 11.9164 2.37753 11.9164 2.79175V4.39876C9.94768 4.67329 8.43237 6.36366 8.43237 8.40795C8.43237 10.0954 9.47908 11.6058 11.0591 12.1984L13.7474 13.2066C14.7419 13.5795 15.4008 14.5303 15.4008 15.5925C15.4008 16.9998 14.2599 18.1407 12.8526 18.1407H11.7957C10.7666 18.1407 9.93237 17.3064 9.93237 16.2773C9.93237 15.8631 9.59659 15.5273 9.18237 15.5273C8.76816 15.5273 8.43237 15.8631 8.43237 16.2773C8.43237 18.1348 9.9382 19.6407 11.7957 19.6407H11.9164V21.2083C11.9164 21.6225 12.2522 21.9583 12.6664 21.9583C13.0806 21.9583 13.4164 21.6225 13.4164 21.2083V19.6017C15.3853 19.3274 16.9008 17.6369 16.9008 15.5925C16.9008 13.905 15.8541 12.3946 14.2741 11.8021L11.5858 10.7939C10.5912 10.4209 9.93237 9.47013 9.93237 8.40795C9.93237 7.00063 11.0732 5.85976 12.4806 5.85976H13.5374C14.5665 5.85976 15.4008 6.69401 15.4008 7.72311C15.4008 8.13732 15.7366 8.47311 16.1508 8.47311C16.565 8.47311 16.9008 8.13732 16.9008 7.72311C16.9008 5.86558 15.395 4.35976 13.5374 4.35976H13.4164V2.79175Z",fill:"currentColor"})),Fa=r=>b.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.54142 3.7915C6.54142 2.54886 7.54878 1.5415 8.79142 1.5415H11.2081C12.4507 1.5415 13.4581 2.54886 13.4581 3.7915V4.0415H15.6252H16.666C17.0802 4.0415 17.416 4.37729 17.416 4.7915C17.416 5.20572 17.0802 5.5415 16.666 5.5415H16.3752V8.24638V13.2464V16.2082C16.3752 17.4508 15.3678 18.4582 14.1252 18.4582H5.87516C4.63252 18.4582 3.62516 17.4508 3.62516 16.2082V13.2464V8.24638V5.5415H3.3335C2.91928 5.5415 2.5835 5.20572 2.5835 4.7915C2.5835 4.37729 2.91928 4.0415 3.3335 4.0415H4.37516H6.54142V3.7915ZM14.8752 13.2464V8.24638V5.5415H13.4581H12.7081H7.29142H6.54142H5.12516V8.24638V13.2464V16.2082C5.12516 16.6224 5.46095 16.9582 5.87516 16.9582H14.1252C14.5394 16.9582 14.8752 16.6224 14.8752 16.2082V13.2464ZM8.04142 4.0415H11.9581V3.7915C11.9581 3.37729 11.6223 3.0415 11.2081 3.0415H8.79142C8.37721 3.0415 8.04142 3.37729 8.04142 3.7915V4.0415ZM8.3335 7.99984C8.74771 7.99984 9.0835 8.33562 9.0835 8.74984V13.7498C9.0835 14.1641 8.74771 14.4998 8.3335 14.4998C7.91928 14.4998 7.5835 14.1641 7.5835 13.7498V8.74984C7.5835 8.33562 7.91928 7.99984 8.3335 7.99984ZM12.4168 8.74984C12.4168 8.33562 12.081 7.99984 11.6668 7.99984C11.2526 7.99984 10.9168 8.33562 10.9168 8.74984V13.7498C10.9168 14.1641 11.2526 14.4998 11.6668 14.4998C12.081 14.4998 12.4168 14.1641 12.4168 13.7498V8.74984Z",fill:"currentColor"})),jQ=r=>b.createElement("svg",{className:"w-2 h-[1.5px]",width:8,height:5,viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:"currentColor"})),AQ=r=>b.createElement("svg",{width:8,height:5,viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:"currentColor"})),Ao=r=>b.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.0911 3.53206C16.2124 2.65338 14.7878 2.65338 13.9091 3.53206L5.6074 11.8337C5.29899 12.1421 5.08687 12.5335 4.99684 12.9603L4.26177 16.445C4.20943 16.6931 4.286 16.9508 4.46529 17.1301C4.64458 17.3094 4.90232 17.3859 5.15042 17.3336L8.63507 16.5985C9.06184 16.5085 9.45324 16.2964 9.76165 15.988L18.0633 7.68631C18.942 6.80763 18.942 5.38301 18.0633 4.50433L17.0911 3.53206ZM14.9697 4.59272C15.2626 4.29982 15.7375 4.29982 16.0304 4.59272L17.0027 5.56499C17.2956 5.85788 17.2956 6.33276 17.0027 6.62565L16.1043 7.52402L14.0714 5.49109L14.9697 4.59272ZM13.0107 6.55175L6.66806 12.8944C6.56526 12.9972 6.49455 13.1277 6.46454 13.2699L5.96704 15.6283L8.32547 15.1308C8.46772 15.1008 8.59819 15.0301 8.70099 14.9273L15.0436 8.58468L13.0107 6.55175Z",fill:"currentColor"})),TQ=r=>b.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{d:"M13.4017 4.35986L6.12166 11.6399L2.59833 8.11657",stroke:"currentColor",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"})),PQ=r=>b.createElement("svg",{width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.05394 4.78033C3.76105 4.48744 3.76105 4.01256 4.05394 3.71967C4.34684 3.42678 4.82171 3.42678 5.1146 3.71967L8.33437 6.93944L11.5521 3.72173C11.845 3.42883 12.3199 3.42883 12.6127 3.72173C12.9056 4.01462 12.9056 4.48949 12.6127 4.78239L9.39503 8.0001L12.6127 11.2178C12.9056 11.5107 12.9056 11.9856 12.6127 12.2785C12.3198 12.5713 11.845 12.5713 11.5521 12.2785L8.33437 9.06076L5.11462 12.2805C4.82173 12.5734 4.34685 12.5734 4.05396 12.2805C3.76107 11.9876 3.76107 11.5127 4.05396 11.2199L7.27371 8.0001L4.05394 4.78033Z",fill:"currentColor"})),p2=r=>b.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),LQ=r=>b.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{d:"M15.8333 12.7083L10.6249 7.5L5.41658 12.7083",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),_R=r=>b.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.98481 2.44399C3.11333 1.57147 1.15325 3.46979 1.96543 5.36824L3.82086 9.70527C3.90146 9.89367 3.90146 10.1069 3.82086 10.2953L1.96543 14.6323C1.15326 16.5307 3.11332 18.4291 4.98481 17.5565L16.8184 12.0395C18.5508 11.2319 18.5508 8.76865 16.8184 7.961L4.98481 2.44399ZM3.34453 4.77824C3.0738 4.14543 3.72716 3.51266 4.35099 3.80349L16.1846 9.32051C16.762 9.58973 16.762 10.4108 16.1846 10.68L4.35098 16.197C3.72716 16.4879 3.0738 15.8551 3.34453 15.2223L5.19996 10.8853C5.21944 10.8397 5.23735 10.7937 5.2537 10.7473L9.11784 10.7473C9.53206 10.7473 9.86784 10.4115 9.86784 9.99726C9.86784 9.58304 9.53206 9.24726 9.11784 9.24726L5.25157 9.24726C5.2358 9.20287 5.2186 9.15885 5.19996 9.11528L3.34453 4.77824Z",fill:"currentColor"})),DQ=r=>b.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{d:"M10.6252 13.9582C10.6252 13.613 10.3453 13.3332 10.0002 13.3332C9.65498 13.3332 9.37516 13.613 9.37516 13.9582V15.2082C9.37516 15.5533 9.65498 15.8332 10.0002 15.8332C10.3453 15.8332 10.6252 15.5533 10.6252 15.2082V13.9582Z",fill:"#667085"}),b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0002 1.6665C7.58392 1.6665 5.62516 3.62526 5.62516 6.0415V7.604H4.5835C3.54796 7.604 2.7085 8.44347 2.7085 9.479V16.4578C2.7085 17.4933 3.54796 18.3328 4.5835 18.3328H15.4168C16.4524 18.3328 17.2918 17.4933 17.2918 16.4578V9.479C17.2918 8.44347 16.4524 7.604 15.4168 7.604H14.3752V6.0415C14.3752 3.62526 12.4164 1.6665 10.0002 1.6665ZM13.1252 6.0415V7.604H6.87516V6.0415C6.87516 4.31561 8.27427 2.9165 10.0002 2.9165C11.7261 2.9165 13.1252 4.31561 13.1252 6.0415ZM4.5835 8.854C4.23832 8.854 3.9585 9.13383 3.9585 9.479V16.4578C3.9585 16.8029 4.23832 17.0828 4.5835 17.0828H15.4168C15.762 17.0828 16.0418 16.8029 16.0418 16.4578V9.479C16.0418 9.13383 15.762 8.854 15.4168 8.854H4.5835Z",fill:"currentColor"})),W6=r=>b.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.0415 7.06206V14.375C3.0415 14.6511 3.26536 14.875 3.5415 14.875H16.4582C16.7343 14.875 16.9582 14.6511 16.9582 14.375V7.06245L11.1441 11.1168C10.4568 11.5961 9.54348 11.5961 8.85614 11.1168L3.0415 7.06206ZM16.9582 5.19262C16.9582 5.19341 16.9582 5.1942 16.9582 5.19498V5.20026C16.957 5.22216 16.9458 5.24239 16.9277 5.25501L10.2861 9.88638C10.1143 10.0062 9.88596 10.0062 9.71412 9.88638L3.0723 5.25485C3.05318 5.24151 3.04178 5.21967 3.04177 5.19636C3.04176 5.15695 3.0737 5.125 3.1131 5.125H16.8869C16.925 5.125 16.9562 5.15494 16.9582 5.19262ZM18.4582 5.21428V14.375C18.4582 15.4796 17.5627 16.375 16.4582 16.375H3.5415C2.43693 16.375 1.5415 15.4796 1.5415 14.375V5.19498C1.5415 5.1852 1.54169 5.17546 1.54206 5.16577C1.55834 4.31209 2.25546 3.625 3.1131 3.625H16.8869C17.7546 3.625 18.4582 4.32843 18.4583 5.19622C18.4583 5.20225 18.4582 5.20826 18.4582 5.21428Z",fill:"currentColor"})),jR=r=>b.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.0254 6.17845C8.0254 4.90629 9.05669 3.875 10.3289 3.875C11.601 3.875 12.6323 4.90629 12.6323 6.17845C12.6323 7.45061 11.601 8.48191 10.3289 8.48191C9.05669 8.48191 8.0254 7.45061 8.0254 6.17845ZM10.3289 2.375C8.22827 2.375 6.5254 4.07786 6.5254 6.17845C6.5254 8.27904 8.22827 9.98191 10.3289 9.98191C12.4294 9.98191 14.1323 8.27904 14.1323 6.17845C14.1323 4.07786 12.4294 2.375 10.3289 2.375ZM8.92286 11.03C5.7669 11.03 3.2085 13.5884 3.2085 16.7444V17.0333C3.2085 17.4475 3.54428 17.7833 3.9585 17.7833C4.37271 17.7833 4.7085 17.4475 4.7085 17.0333V16.7444C4.7085 14.4169 6.59533 12.53 8.92286 12.53H11.736C14.0635 12.53 15.9504 14.4169 15.9504 16.7444V17.0333C15.9504 17.4475 16.2861 17.7833 16.7004 17.7833C17.1146 17.7833 17.4504 17.4475 17.4504 17.0333V16.7444C17.4504 13.5884 14.8919 11.03 11.736 11.03H8.92286Z",fill:"currentColor"})),q6=r=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2C8.41421 2 8.75 2.33579 8.75 2.75V3.75H15.25V2.75C15.25 2.33579 15.5858 2 16 2C16.4142 2 16.75 2.33579 16.75 2.75V3.75H18.5C19.7426 3.75 20.75 4.75736 20.75 6V9V19C20.75 20.2426 19.7426 21.25 18.5 21.25H5.5C4.25736 21.25 3.25 20.2426 3.25 19V9V6C3.25 4.75736 4.25736 3.75 5.5 3.75H7.25V2.75C7.25 2.33579 7.58579 2 8 2ZM8 5.25H5.5C5.08579 5.25 4.75 5.58579 4.75 6V8.25H19.25V6C19.25 5.58579 18.9142 5.25 18.5 5.25H16H8ZM19.25 9.75H4.75V19C4.75 19.4142 5.08579 19.75 5.5 19.75H18.5C18.9142 19.75 19.25 19.4142 19.25 19V9.75Z",fill:"currentColor"})),Ql=r=>b.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0002 13.8619C7.23361 13.8619 4.86803 12.1372 3.92328 9.70241C4.86804 7.26761 7.23361 5.54297 10.0002 5.54297C12.7667 5.54297 15.1323 7.26762 16.0771 9.70243C15.1323 12.1372 12.7667 13.8619 10.0002 13.8619ZM10.0002 4.04297C6.48191 4.04297 3.49489 6.30917 2.4155 9.4593C2.3615 9.61687 2.3615 9.78794 2.41549 9.94552C3.49488 13.0957 6.48191 15.3619 10.0002 15.3619C13.5184 15.3619 16.5055 13.0957 17.5849 9.94555C17.6389 9.78797 17.6389 9.6169 17.5849 9.45932C16.5055 6.30919 13.5184 4.04297 10.0002 4.04297ZM9.99151 7.84413C8.96527 7.84413 8.13333 8.67606 8.13333 9.70231C8.13333 10.7286 8.96527 11.5605 9.99151 11.5605H10.0064C11.0326 11.5605 11.8646 10.7286 11.8646 9.70231C11.8646 8.67606 11.0326 7.84413 10.0064 7.84413H9.99151Z"})),vd=r=>b.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.63803 3.57709C4.34513 3.2842 3.87026 3.2842 3.57737 3.57709C3.28447 3.86999 3.28447 4.34486 3.57737 4.63775L4.85323 5.91362C3.74609 6.84199 2.89363 8.06395 2.4155 9.45936C2.3615 9.61694 2.3615 9.78801 2.41549 9.94558C3.49488 13.0957 6.48191 15.3619 10.0002 15.3619C11.255 15.3619 12.4422 15.0737 13.4994 14.5598L15.3625 16.4229C15.6554 16.7158 16.1302 16.7158 16.4231 16.4229C16.716 16.13 16.716 15.6551 16.4231 15.3622L4.63803 3.57709ZM12.3608 13.4212L10.4475 11.5079C10.3061 11.5423 10.1584 11.5606 10.0064 11.5606H9.99151C8.96527 11.5606 8.13333 10.7286 8.13333 9.70237C8.13333 9.5461 8.15262 9.39434 8.18895 9.24933L5.91885 6.97923C5.03505 7.69015 4.34057 8.62704 3.92328 9.70247C4.86803 12.1373 7.23361 13.8619 10.0002 13.8619C10.8326 13.8619 11.6287 13.7058 12.3608 13.4212ZM16.0771 9.70249C15.7843 10.4569 15.3552 11.1432 14.8199 11.7311L15.8813 12.7925C16.6329 11.9813 17.2187 11.0143 17.5849 9.94561C17.6389 9.78803 17.6389 9.61696 17.5849 9.45938C16.5055 6.30925 13.5184 4.04303 10.0002 4.04303C9.13525 4.04303 8.30244 4.17999 7.52218 4.43338L8.75139 5.66259C9.1556 5.58413 9.57311 5.54303 10.0002 5.54303C12.7667 5.54303 15.1323 7.26768 16.0771 9.70249Z"})),Y6=r=>b.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.04175 9.99984C3.04175 6.15686 6.1571 3.0415 10.0001 3.0415C13.8431 3.0415 16.9584 6.15686 16.9584 9.99984C16.9584 13.8428 13.8431 16.9582 10.0001 16.9582C6.1571 16.9582 3.04175 13.8428 3.04175 9.99984ZM10.0001 1.5415C5.32867 1.5415 1.54175 5.32843 1.54175 9.99984C1.54175 14.6712 5.32867 18.4582 10.0001 18.4582C14.6715 18.4582 18.4584 14.6712 18.4584 9.99984C18.4584 5.32843 14.6715 1.5415 10.0001 1.5415ZM9.99998 10.7498C9.58577 10.7498 9.24998 10.4141 9.24998 9.99984V5.4165C9.24998 5.00229 9.58577 4.6665 9.99998 4.6665C10.4142 4.6665 10.75 5.00229 10.75 5.4165V9.24984H13.3334C13.7476 9.24984 14.0834 9.58562 14.0834 9.99984C14.0834 10.4141 13.7476 10.7498 13.3334 10.7498H10.0001H9.99998Z",fill:"currentColor"})),AR=r=>b.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.58822 4.58398C6.58822 4.30784 6.81207 4.08398 7.08822 4.08398H15.4154C15.6915 4.08398 15.9154 4.30784 15.9154 4.58398L15.9154 12.9128C15.9154 13.189 15.6916 13.4128 15.4154 13.4128H7.08821C6.81207 13.4128 6.58822 13.189 6.58822 12.9128V4.58398ZM7.08822 2.58398C5.98365 2.58398 5.08822 3.47942 5.08822 4.58398V5.09416H4.58496C3.48039 5.09416 2.58496 5.98959 2.58496 7.09416V15.4161C2.58496 16.5207 3.48039 17.4161 4.58496 17.4161H12.9069C14.0115 17.4161 14.9069 16.5207 14.9069 15.4161L14.9069 14.9128H15.4154C16.52 14.9128 17.4154 14.0174 17.4154 12.9128L17.4154 4.58398C17.4154 3.47941 16.52 2.58398 15.4154 2.58398H7.08822ZM13.4069 14.9128H7.08821C5.98364 14.9128 5.08822 14.0174 5.08822 12.9128V6.59416H4.58496C4.30882 6.59416 4.08496 6.81801 4.08496 7.09416V15.4161C4.08496 15.6922 4.30882 15.9161 4.58496 15.9161H12.9069C13.183 15.9161 13.4069 15.6922 13.4069 15.4161L13.4069 14.9128Z",fill:"currentColor"})),TR=r=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",...r},b.createElement("path",{d:"M12.7083 5L7.5 10.2083L12.7083 15.4167",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),PR=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 14.1526 4.3002 16.1184 5.61936 17.616C6.17279 15.3096 8.24852 13.5955 10.7246 13.5955H13.2746C15.7509 13.5955 17.8268 15.31 18.38 17.6167C19.6996 16.119 20.5 14.153 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5ZM17.0246 18.8566V18.8455C17.0246 16.7744 15.3457 15.0955 13.2746 15.0955H10.7246C8.65354 15.0955 6.97461 16.7744 6.97461 18.8455V18.856C8.38223 19.8895 10.1198 20.5 12 20.5C13.8798 20.5 15.6171 19.8898 17.0246 18.8566ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM11.9991 7.25C10.8847 7.25 9.98126 8.15342 9.98126 9.26784C9.98126 10.3823 10.8847 11.2857 11.9991 11.2857C13.1135 11.2857 14.0169 10.3823 14.0169 9.26784C14.0169 8.15342 13.1135 7.25 11.9991 7.25ZM8.48126 9.26784C8.48126 7.32499 10.0563 5.75 11.9991 5.75C13.9419 5.75 15.5169 7.32499 15.5169 9.26784C15.5169 11.2107 13.9419 12.7857 11.9991 12.7857C10.0563 12.7857 8.48126 11.2107 8.48126 9.26784Z",fill:"currentColor"})),MQ=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.75586 5.50098C7.75586 5.08676 8.09165 4.75098 8.50586 4.75098H18.4985C18.9127 4.75098 19.2485 5.08676 19.2485 5.50098L19.2485 15.4956C19.2485 15.9098 18.9127 16.2456 18.4985 16.2456H8.50586C8.09165 16.2456 7.75586 15.9098 7.75586 15.4956V5.50098ZM8.50586 3.25098C7.26322 3.25098 6.25586 4.25834 6.25586 5.50098V6.26318H5.50195C4.25931 6.26318 3.25195 7.27054 3.25195 8.51318V18.4995C3.25195 19.7422 4.25931 20.7495 5.50195 20.7495H15.4883C16.7309 20.7495 17.7383 19.7421 17.7383 18.4995L17.7383 17.7456H18.4985C19.7411 17.7456 20.7485 16.7382 20.7485 15.4956L20.7485 5.50097C20.7485 4.25833 19.7411 3.25098 18.4985 3.25098H8.50586ZM16.2383 17.7456H8.50586C7.26322 17.7456 6.25586 16.7382 6.25586 15.4956V7.76318H5.50195C5.08774 7.76318 4.75195 8.09897 4.75195 8.51318V18.4995C4.75195 18.9137 5.08774 19.2495 5.50195 19.2495H15.4883C15.9025 19.2495 16.2383 18.9137 16.2383 18.4995L16.2383 17.7456Z",fill:"currentColor"})),hy=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 3.25C4.25736 3.25 3.25 4.25736 3.25 5.5V18.5C3.25 19.7426 4.25736 20.75 5.5 20.75H18.5001C19.7427 20.75 20.7501 19.7426 20.7501 18.5V5.5C20.7501 4.25736 19.7427 3.25 18.5001 3.25H5.5ZM4.75 5.5C4.75 5.08579 5.08579 4.75 5.5 4.75H18.5001C18.9143 4.75 19.2501 5.08579 19.2501 5.5V18.5C19.2501 18.9142 18.9143 19.25 18.5001 19.25H5.5C5.08579 19.25 4.75 18.9142 4.75 18.5V5.5ZM6.25005 9.7143C6.25005 9.30008 6.58583 8.9643 7.00005 8.9643L17 8.96429C17.4143 8.96429 17.75 9.30008 17.75 9.71429C17.75 10.1285 17.4143 10.4643 17 10.4643L7.00005 10.4643C6.58583 10.4643 6.25005 10.1285 6.25005 9.7143ZM6.25005 14.2857C6.25005 13.8715 6.58583 13.5357 7.00005 13.5357H17C17.4143 13.5357 17.75 13.8715 17.75 14.2857C17.75 14.6999 17.4143 15.0357 17 15.0357H7.00005C6.58583 15.0357 6.25005 14.6999 6.25005 14.2857Z",fill:"currentColor"})),RQ=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.25 5.5C3.25 4.25736 4.25736 3.25 5.5 3.25H18.5C19.7426 3.25 20.75 4.25736 20.75 5.5V18.5C20.75 19.7426 19.7426 20.75 18.5 20.75H5.5C4.25736 20.75 3.25 19.7426 3.25 18.5V5.5ZM5.5 4.75C5.08579 4.75 4.75 5.08579 4.75 5.5V8.58325L19.25 8.58325V5.5C19.25 5.08579 18.9142 4.75 18.5 4.75H5.5ZM19.25 10.0833H15.416V13.9165H19.25V10.0833ZM13.916 10.0833L10.083 10.0833V13.9165L13.916 13.9165V10.0833ZM8.58301 10.0833H4.75V13.9165H8.58301V10.0833ZM4.75 18.5V15.4165H8.58301V19.25H5.5C5.08579 19.25 4.75 18.9142 4.75 18.5ZM10.083 19.25V15.4165L13.916 15.4165V19.25H10.083ZM15.416 19.25V15.4165H19.25V18.5C19.25 18.9142 18.9142 19.25 18.5 19.25H15.416Z",fill:"currentColor"})),LR=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.50391 4.25C8.50391 3.83579 8.83969 3.5 9.25391 3.5H15.2777C15.4766 3.5 15.6674 3.57902 15.8081 3.71967L18.2807 6.19234C18.4214 6.333 18.5004 6.52376 18.5004 6.72268V16.75C18.5004 17.1642 18.1646 17.5 17.7504 17.5H16.248V17.4993H14.748V17.5H9.25391C8.83969 17.5 8.50391 17.1642 8.50391 16.75V4.25ZM14.748 19H9.25391C8.01126 19 7.00391 17.9926 7.00391 16.75V6.49854H6.24805C5.83383 6.49854 5.49805 6.83432 5.49805 7.24854V19.75C5.49805 20.1642 5.83383 20.5 6.24805 20.5H13.998C14.4123 20.5 14.748 20.1642 14.748 19.75L14.748 19ZM7.00391 4.99854V4.25C7.00391 3.00736 8.01127 2 9.25391 2H15.2777C15.8745 2 16.4468 2.23705 16.8687 2.659L19.3414 5.13168C19.7634 5.55364 20.0004 6.12594 20.0004 6.72268V16.75C20.0004 17.9926 18.9931 19 17.7504 19H16.248L16.248 19.75C16.248 20.9926 15.2407 22 13.998 22H6.24805C5.00541 22 3.99805 20.9926 3.99805 19.75V7.24854C3.99805 6.00589 5.00541 4.99854 6.24805 4.99854H7.00391Z",fill:"currentColor"})),T7=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C11.5858 2 11.25 2.33579 11.25 2.75V12C11.25 12.4142 11.5858 12.75 12 12.75H21.25C21.6642 12.75 22 12.4142 22 12C22 6.47715 17.5228 2 12 2ZM12.75 11.25V3.53263C13.2645 3.57761 13.7659 3.66843 14.25 3.80098V3.80099C15.6929 4.19606 16.9827 4.96184 18.0104 5.98959C19.0382 7.01734 19.8039 8.30707 20.199 9.75C20.3316 10.2341 20.4224 10.7355 20.4674 11.25H12.75ZM2 12C2 7.25083 5.31065 3.27489 9.75 2.25415V3.80099C6.14748 4.78734 3.5 8.0845 3.5 12C3.5 16.6944 7.30558 20.5 12 20.5C15.9155 20.5 19.2127 17.8525 20.199 14.25H21.7459C20.7251 18.6894 16.7492 22 12 22C6.47715 22 2 17.5229 2 12Z",fill:"currentColor"})),IQ=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.665 3.75618C11.8762 3.65061 12.1247 3.65061 12.3358 3.75618L18.7807 6.97853L12.3358 10.2009C12.1247 10.3064 11.8762 10.3064 11.665 10.2009L5.22014 6.97853L11.665 3.75618ZM4.29297 8.19199V16.0946C4.29297 16.3787 4.45347 16.6384 4.70757 16.7654L11.25 20.0365V11.6512C11.1631 11.6205 11.0777 11.5843 10.9942 11.5425L4.29297 8.19199ZM12.75 20.037L19.2933 16.7654C19.5474 16.6384 19.7079 16.3787 19.7079 16.0946V8.19199L13.0066 11.5425C12.9229 11.5844 12.8372 11.6207 12.75 11.6515V20.037ZM13.0066 2.41453C12.3732 2.09783 11.6277 2.09783 10.9942 2.41453L4.03676 5.89316C3.27449 6.27429 2.79297 7.05339 2.79297 7.90563V16.0946C2.79297 16.9468 3.27448 17.7259 4.03676 18.1071L10.9942 21.5857L11.3296 20.9149L10.9942 21.5857C11.6277 21.9024 12.3732 21.9024 13.0066 21.5857L19.9641 18.1071C20.7264 17.7259 21.2079 16.9468 21.2079 16.0946V7.90563C21.2079 7.05339 20.7264 6.27429 19.9641 5.89316L13.0066 2.41453Z",fill:"currentColor"})),OQ=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 2.75C14 2.33579 14.3358 2 14.75 2C15.1642 2 15.5 2.33579 15.5 2.75V5.73291L17.75 5.73291H19C19.4142 5.73291 19.75 6.0687 19.75 6.48291C19.75 6.89712 19.4142 7.23291 19 7.23291H18.5L18.5 12.2329C18.5 15.5691 15.9866 18.3183 12.75 18.6901V21.25C12.75 21.6642 12.4142 22 12 22C11.5858 22 11.25 21.6642 11.25 21.25V18.6901C8.01342 18.3183 5.5 15.5691 5.5 12.2329L5.5 7.23291H5C4.58579 7.23291 4.25 6.89712 4.25 6.48291C4.25 6.0687 4.58579 5.73291 5 5.73291L6.25 5.73291L8.5 5.73291L8.5 2.75C8.5 2.33579 8.83579 2 9.25 2C9.66421 2 10 2.33579 10 2.75L10 5.73291L14 5.73291V2.75ZM7 7.23291L7 12.2329C7 14.9943 9.23858 17.2329 12 17.2329C14.7614 17.2329 17 14.9943 17 12.2329L17 7.23291L7 7.23291Z",fill:"currentColor"})),FQ=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5 19.75C19.5 20.9926 18.4926 22 17.25 22H6.75C5.50736 22 4.5 20.9926 4.5 19.75V9.62105C4.5 9.02455 4.73686 8.45247 5.15851 8.03055L10.5262 2.65951C10.9482 2.23725 11.5207 2 12.1177 2H17.25C18.4926 2 19.5 3.00736 19.5 4.25V19.75ZM17.25 20.5C17.6642 20.5 18 20.1642 18 19.75V4.25C18 3.83579 17.6642 3.5 17.25 3.5H12.248L12.2509 7.49913C12.2518 8.7424 11.2442 9.75073 10.0009 9.75073H6V19.75C6 20.1642 6.33579 20.5 6.75 20.5H17.25ZM7.05913 8.25073L10.7488 4.55876L10.7509 7.5002C10.7512 7.91462 10.4153 8.25073 10.0009 8.25073H7.05913ZM8.25 14.5C8.25 14.0858 8.58579 13.75 9 13.75H15C15.4142 13.75 15.75 14.0858 15.75 14.5C15.75 14.9142 15.4142 15.25 15 15.25H9C8.58579 15.25 8.25 14.9142 8.25 14.5ZM8.25 17.5C8.25 17.0858 8.58579 16.75 9 16.75H12C12.4142 16.75 12.75 17.0858 12.75 17.5C12.75 17.9142 12.4142 18.25 12 18.25H9C8.58579 18.25 8.25 17.9142 8.25 17.5Z",fill:"currentColor"})),BQ=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 8.187V17.25C3.5 17.6642 3.83579 18 4.25 18H19.75C20.1642 18 20.5 17.6642 20.5 17.25V8.18747L13.2873 13.2171C12.5141 13.7563 11.4866 13.7563 10.7134 13.2171L3.5 8.187ZM20.5 6.2286C20.5 6.23039 20.5 6.23218 20.5 6.23398V6.24336C20.4976 6.31753 20.4604 6.38643 20.3992 6.42905L12.4293 11.9867C12.1716 12.1664 11.8291 12.1664 11.5713 11.9867L3.60116 6.42885C3.538 6.38481 3.50035 6.31268 3.50032 6.23568C3.50028 6.10553 3.60577 6 3.73592 6H20.2644C20.3922 6 20.4963 6.10171 20.5 6.2286ZM22 6.25648V17.25C22 18.4926 20.9926 19.5 19.75 19.5H4.25C3.00736 19.5 2 18.4926 2 17.25V6.23398C2 6.22371 2.00021 6.2135 2.00061 6.20333C2.01781 5.25971 2.78812 4.5 3.73592 4.5H20.2644C21.2229 4.5 22 5.27697 22.0001 6.23549C22.0001 6.24249 22.0001 6.24949 22 6.25648Z",fill:"currentColor"})),Xm=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.99915 10.2451C6.96564 10.2451 7.74915 11.0286 7.74915 11.9951V12.0051C7.74915 12.9716 6.96564 13.7551 5.99915 13.7551C5.03265 13.7551 4.24915 12.9716 4.24915 12.0051V11.9951C4.24915 11.0286 5.03265 10.2451 5.99915 10.2451ZM17.9991 10.2451C18.9656 10.2451 19.7491 11.0286 19.7491 11.9951V12.0051C19.7491 12.9716 18.9656 13.7551 17.9991 13.7551C17.0326 13.7551 16.2491 12.9716 16.2491 12.0051V11.9951C16.2491 11.0286 17.0326 10.2451 17.9991 10.2451ZM13.7491 11.9951C13.7491 11.0286 12.9656 10.2451 11.9991 10.2451C11.0326 10.2451 10.2491 11.0286 10.2491 11.9951V12.0051C10.2491 12.9716 11.0326 13.7551 11.9991 13.7551C12.9656 13.7551 13.7491 12.9716 13.7491 12.0051V11.9951Z",fill:"currentColor"})),DR=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.00002 12.0957C4.00002 7.67742 7.58174 4.0957 12 4.0957C16.4183 4.0957 20 7.67742 20 12.0957C20 16.514 16.4183 20.0957 12 20.0957H5.06068L6.34317 18.8132C6.48382 18.6726 6.56284 18.4818 6.56284 18.2829C6.56284 18.084 6.48382 17.8932 6.34317 17.7526C4.89463 16.304 4.00002 14.305 4.00002 12.0957ZM12 2.5957C6.75332 2.5957 2.50002 6.849 2.50002 12.0957C2.50002 14.4488 3.35633 16.603 4.77303 18.262L2.71969 20.3154C2.50519 20.5299 2.44103 20.8525 2.55711 21.1327C2.6732 21.413 2.94668 21.5957 3.25002 21.5957H12C17.2467 21.5957 21.5 17.3424 21.5 12.0957C21.5 6.849 17.2467 2.5957 12 2.5957ZM7.62502 10.8467C6.93467 10.8467 6.37502 11.4063 6.37502 12.0967C6.37502 12.787 6.93467 13.3467 7.62502 13.3467H7.62512C8.31548 13.3467 8.87512 12.787 8.87512 12.0967C8.87512 11.4063 8.31548 10.8467 7.62512 10.8467H7.62502ZM10.75 12.0967C10.75 11.4063 11.3097 10.8467 12 10.8467H12.0001C12.6905 10.8467 13.2501 11.4063 13.2501 12.0967C13.2501 12.787 12.6905 13.3467 12.0001 13.3467H12C11.3097 13.3467 10.75 12.787 10.75 12.0967ZM16.375 10.8467C15.6847 10.8467 15.125 11.4063 15.125 12.0967C15.125 12.787 15.6847 13.3467 16.375 13.3467H16.3751C17.0655 13.3467 17.6251 12.787 17.6251 12.0967C17.6251 11.4063 17.0655 10.8467 16.3751 10.8467H16.375Z",fill:"currentColor"})),zQ=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2441 6C10.2441 5.0335 11.0276 4.25 11.9941 4.25H12.0041C12.9706 4.25 13.7541 5.0335 13.7541 6C13.7541 6.9665 12.9706 7.75 12.0041 7.75H11.9941C11.0276 7.75 10.2441 6.9665 10.2441 6ZM10.2441 18C10.2441 17.0335 11.0276 16.25 11.9941 16.25H12.0041C12.9706 16.25 13.7541 17.0335 13.7541 18C13.7541 18.9665 12.9706 19.75 12.0041 19.75H11.9941C11.0276 19.75 10.2441 18.9665 10.2441 18ZM11.9941 10.25C11.0276 10.25 10.2441 11.0335 10.2441 12C10.2441 12.9665 11.0276 13.75 11.9941 13.75H12.0041C12.9706 13.75 13.7541 12.9665 13.7541 12C13.7541 11.0335 12.9706 10.25 12.0041 10.25H11.9941Z",fill:"currentColor"})),HQ=r=>b.createElement("svg",{className:"size-5",width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.9497 3.875C13.0836 2.375 10.9186 2.375 10.0525 3.875L2.54699 16.875C1.68096 18.375 2.76349 20.25 4.49554 20.25H19.5067C21.2387 20.25 22.3212 18.375 21.4552 16.875L13.9497 3.875ZM11.3516 4.625C11.6403 4.125 12.3619 4.125 12.6506 4.625L20.1562 17.625C20.4448 18.125 20.084 18.75 19.5067 18.75H4.49554C3.91819 18.75 3.55735 18.125 3.84603 17.625L11.3516 4.625ZM12.0018 8.56075C12.416 8.56075 12.7518 8.89653 12.7518 9.31075V13.5303C12.7518 13.9445 12.416 14.2803 12.0018 14.2803C11.5876 14.2803 11.2518 13.9445 11.2518 13.5303V9.31075C11.2518 8.89653 11.5876 8.56075 12.0018 8.56075ZM11.0009 16.0803C11.0009 15.528 11.4486 15.0803 12.0009 15.0803H12.0016C12.5539 15.0803 13.0016 15.528 13.0016 16.0803C13.0016 16.6326 12.5539 17.0803 12.0016 17.0803H12.0009C11.4486 17.0803 11.0009 16.6326 11.0009 16.0803Z",fill:"#DC6803"})),UQ=r=>b.createElement("svg",{className:"size-5",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.12454 4.53906L15.8736 4.53906C16.1416 4.53906 16.3892 4.68201 16.5231 4.91406L20.3977 11.625C20.5317 11.857 20.5317 12.1429 20.3977 12.375L16.5231 19.0859C16.3892 19.3179 16.1416 19.4609 15.8736 19.4609H8.12454C7.85659 19.4609 7.609 19.3179 7.47502 19.0859L3.60048 12.375C3.46651 12.1429 3.46651 11.857 3.60048 11.625L7.47502 4.91406C7.609 4.68201 7.85659 4.53906 8.12454 4.53906ZM15.8736 3.03906H8.12454C7.3207 3.03906 6.57791 3.46791 6.17599 4.16406L2.30144 10.875C1.89952 11.5711 1.89952 12.4288 2.30144 13.125L6.17599 19.8359C6.57791 20.532 7.32069 20.9609 8.12454 20.9609H15.8736C16.6775 20.9609 17.4203 20.532 17.8222 19.8359L21.6967 13.125C22.0987 12.4288 22.0987 11.5711 21.6967 10.875L17.8222 4.16406C17.4203 3.46791 16.6775 3.03906 15.8736 3.03906ZM12.0007 7.81075C12.4149 7.81075 12.7507 8.14653 12.7507 8.56075V12.7803C12.7507 13.1945 12.4149 13.5303 12.0007 13.5303C11.5865 13.5303 11.2507 13.1945 11.2507 12.7803V8.56075C11.2507 8.14653 11.5865 7.81075 12.0007 7.81075ZM10.9998 15.3303C10.9998 14.778 11.4475 14.3303 11.9998 14.3303H12.0005C12.5528 14.3303 13.0005 14.778 13.0005 15.3303C13.0005 15.8826 12.5528 16.3303 12.0005 16.3303H11.9998C11.4475 16.3303 10.9998 15.8826 10.9998 15.3303Z",fill:"#D92D20"})),qc=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.2929 5.29289C14.6834 4.90237 15.3166 4.90237 15.7071 5.29289L20.7071 10.2929C21.0976 10.6834 21.0976 11.3166 20.7071 11.7071L15.7071 16.7071C15.3166 17.0976 14.6834 17.0976 14.2929 16.7071C13.9024 16.3166 13.9024 15.6834 14.2929 15.2929L18.5858 11L14.2929 6.70711C13.9024 6.31658 13.9024 5.68342 14.2929 5.29289ZM9.70711 5.29289C10.0976 5.68342 10.0976 6.31658 9.70711 6.70711L5.41421 11L9.70711 15.2929C10.0976 15.6834 10.0976 16.3166 9.70711 16.7071C9.31658 17.0976 8.68342 17.0976 8.29289 16.7071L3.29289 11.7071C2.90237 11.3166 2.90237 10.6834 3.29289 10.2929L8.29289 5.29289C8.68342 4.90237 9.31658 4.90237 9.70711 5.29289Z",fill:"currentColor"})),G6=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{d:"M12 15.5A3.5 3.5 0 1 0 12 8.5a3.5 3.5 0 0 0 0 7z",fill:"none"}),b.createElement("circle",{cx:12,cy:12,r:2.5,fill:"none",stroke:"currentColor",strokeWidth:.5}),b.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.09a1.65 1.65 0 0 0 1-1.51V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h.09a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v.09a1.65 1.65 0 0 0 1.51 1H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"})),X6=r=>b.createElement("svg",{className:"fill-gray-500 group-hover:fill-gray-700 dark:fill-gray-400 dark:group-hover:fill-gray-300",width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4858 3.5L13.5182 3.5C13.9233 3.5 14.2518 3.82851 14.2518 4.23377C14.2518 5.9529 16.1129 7.02795 17.602 6.1682C17.9528 5.96567 18.4014 6.08586 18.6039 6.43667L20.1203 9.0631C20.3229 9.41407 20.2027 9.86286 19.8517 10.0655C18.3625 10.9253 18.3625 13.0747 19.8517 13.9345C20.2026 14.1372 20.3229 14.5859 20.1203 14.9369L18.6039 17.5634C18.4013 17.9142 17.9528 18.0344 17.602 17.8318C16.1129 16.9721 14.2518 18.0471 14.2518 19.7663C14.2518 20.1715 13.9233 20.5 13.5182 20.5H10.4858C10.0804 20.5 9.75182 20.1714 9.75182 19.766C9.75182 18.0461 7.88983 16.9717 6.40067 17.8314C6.04945 18.0342 5.60037 17.9139 5.39767 17.5628L3.88167 14.937C3.67903 14.586 3.79928 14.1372 4.15026 13.9346C5.63949 13.0748 5.63946 10.9253 4.15025 10.0655C3.79926 9.86282 3.67901 9.41401 3.88165 9.06303L5.39764 6.43725C5.60034 6.08617 6.04943 5.96581 6.40065 6.16858C7.88982 7.02836 9.75182 5.9539 9.75182 4.23399C9.75182 3.82862 10.0804 3.5 10.4858 3.5ZM13.5182 2L10.4858 2C9.25201 2 8.25182 3.00019 8.25182 4.23399C8.25182 4.79884 7.64013 5.15215 7.15065 4.86955C6.08213 4.25263 4.71559 4.61859 4.0986 5.68725L2.58261 8.31303C1.96575 9.38146 2.33183 10.7477 3.40025 11.3645C3.88948 11.647 3.88947 12.3531 3.40026 12.6355C2.33184 13.2524 1.96578 14.6186 2.58263 15.687L4.09863 18.3128C4.71562 19.3814 6.08215 19.7474 7.15067 19.1305C7.64015 18.8479 8.25182 19.2012 8.25182 19.766C8.25182 20.9998 9.25201 22 10.4858 22H13.5182C14.7519 22 15.7518 20.9998 15.7518 19.7663C15.7518 19.2015 16.3632 18.8487 16.852 19.1309C17.9202 19.7476 19.2862 19.3816 19.9029 18.3134L21.4193 15.6869C22.0361 14.6185 21.6701 13.2523 20.6017 12.6355C20.1125 12.3531 20.1125 11.647 20.6017 11.3645C21.6701 10.7477 22.0362 9.38152 21.4193 8.3131L19.903 5.68667C19.2862 4.61842 17.9202 4.25241 16.852 4.86917C16.3632 5.15138 15.7518 4.79856 15.7518 4.23377C15.7518 3.00024 14.7519 2 13.5182 2ZM9.6659 11.9999C9.6659 10.7103 10.7113 9.66493 12.0009 9.66493C13.2905 9.66493 14.3359 10.7103 14.3359 11.9999C14.3359 13.2895 13.2905 14.3349 12.0009 14.3349C10.7113 14.3349 9.6659 13.2895 9.6659 11.9999ZM12.0009 8.16493C9.88289 8.16493 8.1659 9.88191 8.1659 11.9999C8.1659 14.1179 9.88289 15.8349 12.0009 15.8349C14.1189 15.8349 15.8359 14.1179 15.8359 11.9999C15.8359 9.88191 14.1189 8.16493 12.0009 8.16493Z",fill:"currentColor"})),$Q=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{d:"M3 20H21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),b.createElement("path",{d:"M3 4L9 10L13 6L21 14",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),b.createElement("circle",{cx:21,cy:14,r:2,fill:"currentColor"}),b.createElement("circle",{cx:13,cy:6,r:2,fill:"currentColor"}),b.createElement("circle",{cx:9,cy:10,r:2,fill:"currentColor"}),b.createElement("circle",{cx:3,cy:4,r:2,fill:"currentColor"})),VQ=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{d:"M3 20H21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),b.createElement("path",{d:"M3 12H7L11 16L15 8L19 12H21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),b.createElement("circle",{cx:21,cy:12,r:2,fill:"currentColor"}),b.createElement("circle",{cx:19,cy:12,r:2,fill:"currentColor"}),b.createElement("circle",{cx:15,cy:8,r:2,fill:"currentColor"}),b.createElement("circle",{cx:11,cy:16,r:2,fill:"currentColor"}),b.createElement("circle",{cx:7,cy:12,r:2,fill:"currentColor"}),b.createElement("circle",{cx:3,cy:12,r:2,fill:"currentColor"})),WQ=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{d:"M3 20H21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),b.createElement("path",{d:"M3 4L8 12L13 8L18 16L21 12",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),b.createElement("circle",{cx:21,cy:12,r:2,fill:"currentColor"}),b.createElement("circle",{cx:18,cy:16,r:2,fill:"currentColor"}),b.createElement("circle",{cx:13,cy:8,r:2,fill:"currentColor"}),b.createElement("circle",{cx:8,cy:12,r:2,fill:"currentColor"}),b.createElement("circle",{cx:3,cy:4,r:2,fill:"currentColor"})),MR=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{d:"M3 7C3 6.44772 3.44772 6 4 6H20C20.5523 6 21 6.44772 21 7C21 7.55228 20.5523 8 20 8H4C3.44772 8 3 7.55228 3 7Z",fill:"currentColor"}),b.createElement("path",{d:"M6 12C6 11.4477 6.44772 11 7 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H7C6.44772 13 6 12.5523 6 12Z",fill:"currentColor"}),b.createElement("path",{d:"M9 17C9 16.4477 9.44772 16 10 16H14C14.5523 16 15 16.4477 15 17C15 17.5523 14.5523 18 14 18H10C9.44772 18 9 17.5523 9 17Z",fill:"currentColor"})),M0=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{d:"M2.83179 4.38657H3.34341C4.20256 4.38657 4.96125 4.94691 5.21392 5.76808L8.27786 15.7259C8.53053 16.547 9.28921 17.1074 10.1484 17.1074H17.1114C17.9373 17.1074 18.6743 16.5889 18.9534 15.8116L20.9925 10.1312C21.679 8.21867 20.2616 6.20383 18.2295 6.20383H10.66",stroke:"currentColor",strokeWidth:1.7,strokeLinecap:"round"}),b.createElement("circle",{cx:10.1707,cy:20.5322,r:1.46779,fill:"currentColor"}),b.createElement("circle",{cx:17.0204,cy:20.5322,r:1.46779,fill:"currentColor"})),RR=r=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"800px",height:"800px",viewBox:"0 0 24 24",...r},b.createElement("path",{fillRule:"evenodd",d:"M11.1758045,11.5299649 C11.7222481,10.7630248 11.6612694,9.95529555 11.2823626,8.50234466 C10.5329929,5.62882187 10.8313891,4.05382867 13.4147321,2.18916004 L14.6756139,1.27904986 L14.9805807,2.80388386 C15.3046861,4.42441075 15.8369398,5.42670671 17.2035766,7.35464078 C17.2578735,7.43122022 17.2578735,7.43122022 17.3124108,7.50814226 C19.2809754,10.2854144 20,11.9596204 20,15 C20,18.6883517 16.2713564,22 12,22 C7.72840879,22 4,18.6888043 4,15 C4,14.9310531 4.00007066,14.9331427 3.98838852,14.6284506 C3.89803284,12.2718054 4.33380946,10.4273676 6.09706666,8.43586022 C6.46961415,8.0150872 6.8930834,7.61067534 7.36962714,7.22370749 L8.42161802,6.36945926 L8.9276612,7.62657706 C9.30157948,8.55546878 9.73969716,9.28566491 10.2346078,9.82150804 C10.6537848,10.2753538 10.9647401,10.8460665 11.1758045,11.5299649 Z M7.59448531,9.76165711 C6.23711779,11.2947332 5.91440928,12.6606068 5.98692012,14.5518252 C6.00041903,14.9039019 6,14.8915108 6,15 C6,17.5278878 8.78360021,20 12,20 C15.2161368,20 18,17.527472 18,15 C18,12.4582072 17.4317321,11.1350292 15.6807305,8.66469725 C15.6264803,8.58818014 15.6264803,8.58818014 15.5719336,8.51124844 C14.5085442,7.0111098 13.8746802,5.96758691 13.4553336,4.8005211 C12.7704786,5.62117775 12.8107447,6.43738988 13.2176374,7.99765534 C13.9670071,10.8711781 13.6686109,12.4461713 11.0852679,14.31084 L9.61227259,15.3740546 L9.50184911,13.5607848 C9.43129723,12.4022487 9.16906461,11.6155508 8.76539217,11.178492 C8.36656566,10.7466798 8.00646835,10.2411426 7.68355027,9.66278925 C7.65342985,9.69565638 7.62374254,9.72861259 7.59448531,9.76165711 Z"}));/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qQ=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YQ=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),P7=r=>{const e=YQ(r);return e.charAt(0).toUpperCase()+e.slice(1)},IR=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),GQ=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=b.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...o},c)=>b.createElement("svg",{ref:c,...XQ,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:IR("lucide",s),...!a&&!GQ(o)&&{"aria-hidden":"true"},...o},[...i.map(([d,u])=>b.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=(r,e)=>{const t=b.forwardRef(({className:n,...s},a)=>b.createElement(ZQ,{ref:a,iconNode:e,className:IR(`lucide-${qQ(P7(r))}`,`lucide-${r}`,n),...s}));return t.displayName=P7(r),t};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],QQ=JQ("ticket",KQ);function OR({className:r="w-5 h-5"}){return l.jsx(QQ,{className:r})}const Z6=({filled:r=!1,...e})=>l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"block",...e,children:l.jsx("path",{d:"M9.99991 3.125L12.2337 7.65114L17.2286 8.37694L13.6142 11.9L14.4675 16.8747L9.99991 14.526L5.53235 16.8747L6.38558 11.9L2.77124 8.37694L7.76613 7.65114L9.99991 3.125Z",fill:r?"currentColor":"none",stroke:"currentColor",strokeWidth:"1.5"})}),J6=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("line",{x1:12,y1:1,x2:12,y2:23,stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),b.createElement("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),K6=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z",fill:"currentColor"})),Q6=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("rect",{width:18,height:18,x:3,y:3,rx:2,ry:2,stroke:"currentColor",strokeWidth:2}),b.createElement("path",{d:"m9 9h.01",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),b.createElement("path",{d:"m15 9h.01",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),b.createElement("path",{d:"m9 15h.01",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),b.createElement("path",{d:"m15 15h.01",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),b.createElement("path",{d:"m12 12h.01",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),eN=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),b.createElement("path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),b.createElement("path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),b.createElement("path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),tN=r=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},b.createElement("polygon",{points:"6,3 20,12 6,21",fill:"currentColor"})),eee=Object.freeze(Object.defineProperty({__proto__:null,CasinoIcon:Q6,EntertainmentIcon:tN,FinanceIcon:J6,HeartIcon:K6,TechIcon:eN},Symbol.toStringTag,{value:"Module"})),fy=Object.freeze(Object.defineProperty({__proto__:null,AhrefsTrafficIcon:$Q,AlertHexaIcon:HQ,AlertIcon:yQ,AnalyticsIcon:kR,AngleDownIcon:AQ,AngleUpIcon:jQ,ArrowDownIcon:_k,ArrowRightIcon:SR,ArrowUpIcon:Ek,AudioIcon:SQ,BoltIcon:wR,BoxCubeIcon:IQ,BoxIcon:Wo,BoxIconLine:ER,CalenderIcon:q6,CasinoIcon:Q6,ChartIcon:T7,ChatIcon:DR,CheckCircleIcon:Nk,CheckLineIcon:TQ,ChevronDownIcon:p2,ChevronLeftIcon:TR,ChevronUpIcon:LQ,CloseIcon:vQ,CloseLineIcon:PQ,CodeIcon:qc,CopyIcon:AR,DocsIcon:FQ,DollarLineIcon:_Q,DownloadIcon:NQ,EntertainmentIcon:tN,EnvelopeIcon:W6,ErrorHexaIcon:UQ,ErrorIcon:wQ,EyeCloseIcon:vd,EyeIcon:Ql,FileIcon:Ml,FilterIcon:MR,FinanceIcon:J6,FireIcon:RR,FolderIcon:kQ,GoogleTrafficIcon:WQ,GridIcon:Of,GroupIcon:NR,HeartIcon:K6,HorizontaLDots:Xm,InfoIcon:bQ,ListIcon:hy,LockIcon:DQ,MailIcon:BQ,MoreDotIcon:zQ,PageIcon:LR,PaperPlaneIcon:_R,PencilIcon:Ao,PieChartIcon:T7,PlugInIcon:OQ,PlusIcon:Pr,SettingsIcon:G6,SettingsMinimalIcon:X6,ShootingStarIcon:EQ,ShoppingCartIcon:M0,SimilarwebTrafficIcon:VQ,StarIcon:Z6,TableIcon:RQ,TaskIcon:MQ,TechIcon:eN,TicketIcon:OR,TimeIcon:Y6,TrashBinIcon:Fa,UploadIcon:CR,UserCircleIcon:PR,UserIcon:jR,VideoIcon:CQ},Symbol.toStringTag,{value:"Module"}));function tee(){return l.jsxs("div",{children:[l.jsx(er,{pageTitle:"Badges"}),l.jsx(Dr,{pageTitle:"Badges"}),l.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[l.jsx(pr,{title:"With Light Background",children:l.jsxs("div",{className:"flex flex-wrap gap-4 sm:items-center sm:justify-center",children:[l.jsx(Dt,{variant:"light",color:"primary",children:"Primary"}),l.jsx(Dt,{variant:"light",color:"success",children:"Success"})," ",l.jsx(Dt,{variant:"light",color:"error",children:"Error"})," ",l.jsx(Dt,{variant:"light",color:"warning",children:"Warning"})," ",l.jsx(Dt,{variant:"light",color:"info",children:"Info"}),l.jsx(Dt,{variant:"light",color:"light",children:"Light"}),l.jsx(Dt,{variant:"light",color:"dark",children:"Dark"})]})}),l.jsx(pr,{title:"With Solid Background",children:l.jsxs("div",{className:"flex flex-wrap gap-4 sm:items-center sm:justify-center",children:[l.jsx(Dt,{variant:"solid",color:"primary",children:"Primary"}),l.jsx(Dt,{variant:"solid",color:"success",children:"Success"})," ",l.jsx(Dt,{variant:"solid",color:"error",children:"Error"})," ",l.jsx(Dt,{variant:"solid",color:"warning",children:"Warning"})," ",l.jsx(Dt,{variant:"solid",color:"info",children:"Info"}),l.jsx(Dt,{variant:"solid",color:"light",children:"Light"}),l.jsx(Dt,{variant:"solid",color:"dark",children:"Dark"})]})}),l.jsx(pr,{title:"Light Background with Left Icon",children:l.jsxs("div",{className:"flex flex-wrap gap-4 sm:items-center sm:justify-center",children:[l.jsx(Dt,{variant:"light",color:"primary",startIcon:l.jsx(Pr,{}),children:"Primary"}),l.jsx(Dt,{variant:"light",color:"success",startIcon:l.jsx(Pr,{}),children:"Success"})," ",l.jsx(Dt,{variant:"light",color:"error",startIcon:l.jsx(Pr,{}),children:"Error"})," ",l.jsx(Dt,{variant:"light",color:"warning",startIcon:l.jsx(Pr,{}),children:"Warning"})," ",l.jsx(Dt,{variant:"light",color:"info",startIcon:l.jsx(Pr,{}),children:"Info"}),l.jsx(Dt,{variant:"light",color:"light",startIcon:l.jsx(Pr,{}),children:"Light"}),l.jsx(Dt,{variant:"light",color:"dark",startIcon:l.jsx(Pr,{}),children:"Dark"})]})}),l.jsx(pr,{title:"Solid Background with Left Icon",children:l.jsxs("div",{className:"flex flex-wrap gap-4 sm:items-center sm:justify-center",children:[l.jsx(Dt,{variant:"solid",color:"primary",startIcon:l.jsx(Pr,{}),children:"Primary"}),l.jsx(Dt,{variant:"solid",color:"success",startIcon:l.jsx(Pr,{}),children:"Success"})," ",l.jsx(Dt,{variant:"solid",color:"error",startIcon:l.jsx(Pr,{}),children:"Error"})," ",l.jsx(Dt,{variant:"solid",color:"warning",startIcon:l.jsx(Pr,{}),children:"Warning"})," ",l.jsx(Dt,{variant:"solid",color:"info",startIcon:l.jsx(Pr,{}),children:"Info"}),l.jsx(Dt,{variant:"solid",color:"light",startIcon:l.jsx(Pr,{}),children:"Light"}),l.jsx(Dt,{variant:"solid",color:"dark",startIcon:l.jsx(Pr,{}),children:"Dark"})]})}),l.jsx(pr,{title:"Light Background with Right Icon",children:l.jsxs("div",{className:"flex flex-wrap gap-4 sm:items-center sm:justify-center",children:[l.jsx(Dt,{variant:"light",color:"primary",endIcon:l.jsx(Pr,{}),children:"Primary"}),l.jsx(Dt,{variant:"light",color:"success",endIcon:l.jsx(Pr,{}),children:"Success"})," ",l.jsx(Dt,{variant:"light",color:"error",endIcon:l.jsx(Pr,{}),children:"Error"})," ",l.jsx(Dt,{variant:"light",color:"warning",endIcon:l.jsx(Pr,{}),children:"Warning"})," ",l.jsx(Dt,{variant:"light",color:"info",endIcon:l.jsx(Pr,{}),children:"Info"}),l.jsx(Dt,{variant:"light",color:"light",endIcon:l.jsx(Pr,{}),children:"Light"}),l.jsx(Dt,{variant:"light",color:"dark",endIcon:l.jsx(Pr,{}),children:"Dark"})]})}),l.jsx(pr,{title:"Solid Background with Right Icon",children:l.jsxs("div",{className:"flex flex-wrap gap-4 sm:items-center sm:justify-center",children:[l.jsx(Dt,{variant:"solid",color:"primary",endIcon:l.jsx(Pr,{}),children:"Primary"}),l.jsx(Dt,{variant:"solid",color:"success",endIcon:l.jsx(Pr,{}),children:"Success"})," ",l.jsx(Dt,{variant:"solid",color:"error",endIcon:l.jsx(Pr,{}),children:"Error"})," ",l.jsx(Dt,{variant:"solid",color:"warning",endIcon:l.jsx(Pr,{}),children:"Warning"})," ",l.jsx(Dt,{variant:"solid",color:"info",endIcon:l.jsx(Pr,{}),children:"Info"}),l.jsx(Dt,{variant:"solid",color:"light",endIcon:l.jsx(Pr,{}),children:"Light"}),l.jsx(Dt,{variant:"solid",color:"dark",endIcon:l.jsx(Pr,{}),children:"Dark"})]})})]})]})}const ree={xsmall:"h-6 w-6 max-w-6",small:"h-8 w-8 max-w-8",medium:"h-10 w-10 max-w-10",large:"h-12 w-12 max-w-12",xlarge:"h-14 w-14 max-w-14",xxlarge:"h-16 w-16 max-w-16"},nee={xsmall:"h-1.5 w-1.5 max-w-1.5",small:"h-2 w-2 max-w-2",medium:"h-2.5 w-2.5 max-w-2.5",large:"h-3 w-3 max-w-3",xlarge:"h-3.5 w-3.5 max-w-3.5",xxlarge:"h-4 w-4 max-w-4"},see={online:"bg-success-500",offline:"bg-error-400",busy:"bg-warning-500"},hn=({src:r,alt:e="User Avatar",size:t="medium",status:n="none"})=>l.jsxs("div",{className:`relative  rounded-full ${ree[t]}`,children:[l.jsx("img",{src:r,alt:e,className:"object-cover rounded-full"}),n!=="none"&&l.jsx("span",{className:`absolute bottom-0 right-0 rounded-full border-[1.5px] border-white dark:border-gray-900 ${nee[t]} ${see[n]||""}`})]});function aee(){return l.jsxs(l.Fragment,{children:[l.jsx(er,{pageTitle:"Avatars"}),l.jsx(Dr,{pageTitle:"Avatars"}),l.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[l.jsx(pr,{title:"Default Avatar",children:l.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 sm:flex-row",children:[l.jsx(hn,{src:"/images/user/user-01.jpg",size:"xsmall"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"small"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"medium"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"large"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"xlarge"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"xxlarge"})]})}),l.jsx(pr,{title:"Avatar with online indicator",children:l.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 sm:flex-row",children:[l.jsx(hn,{src:"/images/user/user-01.jpg",size:"xsmall",status:"online"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"small",status:"online"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"medium",status:"online"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"large",status:"online"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"xlarge",status:"online"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"xxlarge",status:"online"})]})}),l.jsx(pr,{title:"Avatar with Offline indicator",children:l.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 sm:flex-row",children:[l.jsx(hn,{src:"/images/user/user-01.jpg",size:"xsmall",status:"offline"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"small",status:"offline"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"medium",status:"offline"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"large",status:"offline"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"xlarge",status:"offline"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"xxlarge",status:"offline"})]})})," ",l.jsx(pr,{title:"Avatar with busy indicator",children:l.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 sm:flex-row",children:[l.jsx(hn,{src:"/images/user/user-01.jpg",size:"xsmall",status:"busy"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"small",status:"busy"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"medium",status:"busy"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"large",status:"busy"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"xlarge",status:"busy"}),l.jsx(hn,{src:"/images/user/user-01.jpg",size:"xxlarge",status:"busy"})]})})]})]})}function iee(){return l.jsxs("div",{children:[l.jsx(er,{pageTitle:"Buttons"}),l.jsx(Dr,{pageTitle:"Buttons"}),l.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[l.jsx(pr,{title:"Primary Button",children:l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx(nt,{size:"sm",variant:"primary",children:"Button Text"}),l.jsx(nt,{size:"md",variant:"primary",children:"Button Text"})]})}),l.jsx(pr,{title:"Primary Button with Left Icon",children:l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx(nt,{size:"sm",variant:"primary",startIcon:l.jsx(Wo,{className:"size-5"}),children:"Button Text"}),l.jsx(nt,{size:"md",variant:"primary",startIcon:l.jsx(Wo,{className:"size-5"}),children:"Button Text"})]})}),l.jsx(pr,{title:"Primary Button with Right Icon",children:l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx(nt,{size:"sm",variant:"primary",endIcon:l.jsx(Wo,{className:"size-5"}),children:"Button Text"}),l.jsx(nt,{size:"md",variant:"primary",endIcon:l.jsx(Wo,{className:"size-5"}),children:"Button Text"})]})}),l.jsx(pr,{title:"Secondary Button",children:l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx(nt,{size:"sm",variant:"outline",children:"Button Text"}),l.jsx(nt,{size:"md",variant:"outline",children:"Button Text"})]})}),l.jsx(pr,{title:"Outline Button with Left Icon",children:l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx(nt,{size:"sm",variant:"outline",startIcon:l.jsx(Wo,{className:"size-5"}),children:"Button Text"}),l.jsx(nt,{size:"md",variant:"outline",startIcon:l.jsx(Wo,{className:"size-5"}),children:"Button Text"})]})})," ",l.jsx(pr,{title:"Outline Button with Right Icon",children:l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx(nt,{size:"sm",variant:"outline",endIcon:l.jsx(Wo,{className:"size-5"}),children:"Button Text"}),l.jsx(nt,{size:"md",variant:"outline",endIcon:l.jsx(Wo,{className:"size-5"}),children:"Button Text"})]})})]})]})}var FR={};/*!
 * ApexCharts v4.4.0
 * (c) 2018-2025 ApexCharts
 * Released under the MIT License.
 */function jk(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function BR(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function kt(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function L7(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,UR(n.key),n)}}function Ct(r,e,t){return e&&L7(r.prototype,e),t&&L7(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Zg(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=rN(r))||e){t&&(r=t);var n=0,s=function(){};return{s,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,i=!0,o=!1;return{s:function(){t=t.call(r)},n:function(){var c=t.next();return i=c.done,c},e:function(c){o=!0,a=c},f:function(){try{i||t.return==null||t.return()}finally{if(o)throw a}}}}function R0(r){var e=zR();return function(){var t,n=gy(r);if(e){var s=gy(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return function(a,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BR(a)}(this,t)}}function py(r,e,t){return(e=UR(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function gy(r){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gy(r)}function I0(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Ak(r,e)}function zR(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zR=function(){return!!r})()}function D7(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function dt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D7(Object(t),!0).forEach(function(n){py(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):D7(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Ak(r,e){return Ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Ak(r,e)}function HR(r,e){return function(t){if(Array.isArray(t))return t}(r)||function(t,n){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var a,i,o,c,d=[],u=!0,h=!1;try{if(o=(s=s.call(t)).next,n===0){if(Object(s)!==s)return;u=!1}else for(;!(u=(a=o.call(s)).done)&&(d.push(a.value),d.length!==n);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(h)throw i}}return d}}(r,e)||rN(r,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cs(r){return function(e){if(Array.isArray(e))return jk(e)}(r)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(r)||rN(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function UR(r){var e=function(t,n){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}(r,"string");return typeof e=="symbol"?e:e+""}function op(r){return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(r)}function rN(r,e){if(r){if(typeof r=="string")return jk(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?jk(r,e):void 0}}var ye=function(){function r(){kt(this,r)}return Ct(r,[{key:"shadeRGBColor",value:function(e,t){var n=t.split(","),s=e<0?0:255,a=e<0?-1*e:e,i=parseInt(n[0].slice(4),10),o=parseInt(n[1],10),c=parseInt(n[2],10);return"rgb("+(Math.round((s-i)*a)+i)+","+(Math.round((s-o)*a)+o)+","+(Math.round((s-c)*a)+c)+")"}},{key:"shadeHexColor",value:function(e,t){var n=parseInt(t.slice(1),16),s=e<0?0:255,a=e<0?-1*e:e,i=n>>16,o=n>>8&255,c=255&n;return"#"+(16777216+65536*(Math.round((s-i)*a)+i)+256*(Math.round((s-o)*a)+o)+(Math.round((s-c)*a)+c)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return r.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&op(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"listToArray",value:function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n}},{key:"extend",value:function(e,t){var n=this;typeof Object.assign!="function"&&(Object.assign=function(a){if(a==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(a),o=1;o<arguments.length;o++){var c=arguments[o];if(c!=null)for(var d in c)c.hasOwnProperty(d)&&(i[d]=c[d])}return i});var s=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(a){n.isObject(t[a])&&a in e?s[a]=n.extend(e[a],t[a]):Object.assign(s,py({},a,t[a]))}),s}},{key:"extendArray",value:function(e,t){var n=[];return e.map(function(s){n.push(r.extend(t,s))}),e=n}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||op(e)!=="object")return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){t=[],n.set(e,t);for(var s=0;s<e.length;s++)t[s]=this.clone(e[s],n)}else if(e instanceof Date)t=new Date(e.getTime());else for(var a in t={},n.set(e,t),e)e.hasOwnProperty(a)&&(t[a]=this.clone(e[a],n));return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),n=e.clientHeight,s=e.clientWidth;return n-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[s-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),n]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(t,n){return Array.isArray(n)&&(n=n.reduce(function(s,a){return s.length>a.length?s:a})),t.length>n.length?t:n},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var n=e.replace("#","");n=n.match(new RegExp("(.{"+n.length/3+"})","g"));for(var s=0;s<n.length;s++)n[s]=parseInt(n[s].length===1?n[s]+n[s]:n[s],16);return t!==void 0&&n.push(t),"rgba("+n.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var n=[],s=2*Math.PI/t,a=0;a<t;a++){var i={};i.x=e*Math.sin(a*s),i.y=-e*Math.cos(a*s),n.push(i)}return n}},{key:"polarToCartesian",value:function(e,t,n,s){var a=(s-90)*Math.PI/180;return{x:e+n*Math.cos(a),y:t+n*Math.sin(a)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",n=e.toString().slice();return n=n.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,n){if(n>=e.length)for(var s=n-e.length+1;s--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style.key=t[n])}},{key:"preciseAddition",value:function(e,t){var n=(String(e).split(".")[1]||"").length,s=(String(t).split(".")[1]||"").length,a=Math.pow(10,Math.max(n,s));return(Math.round(e*a)+Math.round(t*a))/a}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,s=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,t))));for(e=Math.round(Math.abs(e)*s),t=Math.round(Math.abs(t)*s);t;){var a=t;t=e%t,e=a}return e/s}},{key:"getPrimeFactors",value:function(e){for(var t=[],n=2;e>=2;)e%n==0?(t.push(n),e/=n):n++;return t}},{key:"mod",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,s=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*s))%(t=Math.round(Math.abs(t)*s))/s}}]),r}(),Rp=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return Ct(r,[{key:"animateLine",value:function(e,t,n,s){e.attr(t).animate(s).attr(n)}},{key:"animateMarker",value:function(e,t,n,s){e.attr({opacity:0}).animate(t).attr({opacity:1}).after(function(){s()})}},{key:"animateRect",value:function(e,t,n,s,a){e.attr(t).animate(s).attr(n).after(function(){return a()})}},{key:"animatePathsGradually",value:function(e){var t=e.el,n=e.realIndex,s=e.j,a=e.fill,i=e.pathFrom,o=e.pathTo,c=e.speed,d=e.delay,u=this.w,h=0;u.config.chart.animations.animateGradually.enabled&&(h=u.config.chart.animations.animateGradually.delay),u.config.chart.animations.dynamicAnimation.enabled&&u.globals.dataChanged&&u.config.chart.type!=="bar"&&(h=0),this.morphSVG(t,n,s,u.config.chart.type!=="line"||u.globals.comboCharts?a:"stroke",i,o,c,d*h)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),typeof t.config.chart.events.animationEnd=="function"&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,n,s,a,i,o,c){var d=this,u=this.w;a||(a=e.attr("pathFrom")),i||(i=e.attr("pathTo"));var h=function(f){return u.config.chart.type==="radar"&&(o=1),"M 0 ".concat(u.globals.gridHeight)};(!a||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=h()),(!i.trim()||i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i=h()),u.globals.shouldAnimate||(o=1),e.plot(a).animate(1,c).plot(a).animate(o,c).plot(i).after(function(){ye.isNumber(n)?n===u.globals.series[u.globals.maxValsInArrayIndex].length-2&&u.globals.shouldAnimate&&d.animationCompleted(e):s!=="none"&&u.globals.shouldAnimate&&(!u.globals.comboCharts&&t===u.globals.series.length-1||u.globals.comboCharts)&&d.animationCompleted(e),d.showDelayedElements()})}}]),r}();const Tk={},$R=[];function sr(r,e){if(Array.isArray(r))for(const t of r)sr(t,e);else if(typeof r!="object")VR(Object.getOwnPropertyNames(e)),Tk[r]=Object.assign(Tk[r]||{},e);else for(const t in r)sr(t,r[t])}function Na(r){return Tk[r]||{}}function VR(r){$R.push(...r)}function nN(r,e){let t;const n=r.length,s=[];for(t=0;t<n;t++)s.push(e(r[t]));return s}function y5(r){return r%360*Math.PI/180}function Ip(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Op(r,e,t,n){return e!=null&&t!=null||(n=n||r.bbox(),e==null?e=n.width/n.height*t:t==null&&(t=n.height/n.width*e)),{width:e,height:t}}function Pk(r,e){const t=r.origin;let n=r.ox!=null?r.ox:r.originX!=null?r.originX:"center",s=r.oy!=null?r.oy:r.originY!=null?r.originY:"center";t!=null&&([n,s]=Array.isArray(t)?t:typeof t=="object"?[t.x,t.y]:[t,t]);const a=typeof n=="string",i=typeof s=="string";if(a||i){const{height:o,width:c,x:d,y:u}=e.bbox();a&&(n=n.includes("left")?d:n.includes("right")?d+c:d+c/2),i&&(s=s.includes("top")?u:s.includes("bottom")?u+o:u+o/2)}return[n,s]}const oee=new Set(["desc","metadata","title"]),Lk=r=>oee.has(r.nodeName),WR=(r,e,t={})=>{const n={...e};for(const s in n)n[s].valueOf()===t[s]&&delete n[s];Object.keys(n).length?r.node.setAttribute("data-svgjs",JSON.stringify(n)):(r.node.removeAttribute("data-svgjs"),r.node.removeAttribute("svgjs:data"))},sN="http://www.w3.org/2000/svg",b5="http://www.w3.org/2000/xmlns/",Fp="http://www.w3.org/1999/xlink",yr={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function O0(){return yr.window}let aN=class{};const Mu={},iN="___SYMBOL___ROOT___";function Zm(r,e=sN){return yr.document.createElementNS(e,r)}function ca(r,e=!1){if(r instanceof aN)return r;if(typeof r=="object")return w5(r);if(r==null)return new Mu[iN];if(typeof r=="string"&&r.charAt(0)!=="<")return w5(yr.document.querySelector(r));const t=e?yr.document.createElement("div"):Zm("svg");return t.innerHTML=r,r=w5(t.firstChild),t.removeChild(t.firstChild),r}function qr(r,e){return e&&(e instanceof yr.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:Zm(r)}function Mi(r){if(!r)return null;if(r.instance instanceof aN)return r.instance;if(r.nodeName==="#document-fragment")return new Mu.Fragment(r);let e=Ip(r.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":Mu[e]||(e="Dom"),new Mu[e](r)}let w5=Mi;function br(r,e=r.name,t=!1){return Mu[e]=r,t&&(Mu[iN]=r),VR(Object.getOwnPropertyNames(r.prototype)),r}let lee=1e3;function qR(r){return"Svgjs"+Ip(r)+lee++}function YR(r){for(let e=r.children.length-1;e>=0;e--)YR(r.children[e]);return r.id&&(r.id=qR(r.nodeName)),r}function zt(r,e){let t,n;for(n=(r=Array.isArray(r)?r:[r]).length-1;n>=0;n--)for(t in e)r[n].prototype[t]=e[t]}function Wr(r){return function(...e){const t=e[e.length-1];return!t||t.constructor!==Object||t instanceof Array?r.apply(this,e):r.apply(this,e.slice(0,-1)).attr(t)}}sr("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const r=this.position();return this.parent().add(this.remove(),r+1),this},backward:function(){const r=this.position();return this.parent().add(this.remove(),r?r-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(r){(r=ca(r)).remove();const e=this.position();return this.parent().add(r,e),this},after:function(r){(r=ca(r)).remove();const e=this.position();return this.parent().add(r,e+1),this},insertBefore:function(r){return(r=ca(r)).before(this),this},insertAfter:function(r){return(r=ca(r)).after(this),this}});const GR=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,cee=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,dee=/rgb\((\d+),(\d+),(\d+)\)/,uee=/(#[a-z_][a-z0-9\-_]*)/i,hee=/\)\s*,?\s*/,fee=/\s/g,M7=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,R7=/^rgb\(/,I7=/^(\s+)?$/,O7=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pee=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,sc=/[\s,]+/,oN=/[MLHVCSQTAZ]/i;function gee(r){const e=Math.round(r),t=Math.max(0,Math.min(255,e)).toString(16);return t.length===1?"0"+t:t}function Yh(r,e){for(let t=e.length;t--;)if(r[e[t]]==null)return!1;return!0}function k5(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+6*(e-r)*t:t<.5?e:t<2/3?r+(e-r)*(2/3-t)*6:r}sr("Dom",{classes:function(){const r=this.attr("class");return r==null?[]:r.trim().split(sc)},hasClass:function(r){return this.classes().indexOf(r)!==-1},addClass:function(r){if(!this.hasClass(r)){const e=this.classes();e.push(r),this.attr("class",e.join(" "))}return this},removeClass:function(r){return this.hasClass(r)&&this.attr("class",this.classes().filter(function(e){return e!==r}).join(" ")),this},toggleClass:function(r){return this.hasClass(r)?this.removeClass(r):this.addClass(r)}}),sr("Dom",{css:function(r,e){const t={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(n){return!!n.length}).forEach(function(n){const s=n.split(/\s*:\s*/);t[s[0]]=s[1]}),t;if(arguments.length<2){if(Array.isArray(r)){for(const n of r){const s=n;t[n]=this.node.style.getPropertyValue(s)}return t}if(typeof r=="string")return this.node.style.getPropertyValue(r);if(typeof r=="object")for(const n in r)this.node.style.setProperty(n,r[n]==null||I7.test(r[n])?"":r[n])}return arguments.length===2&&this.node.style.setProperty(r,e==null||I7.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),sr("Dom",{data:function(r,e,t){if(r==null)return this.data(nN(function(n,s){let a;const i=n.length,o=[];for(a=0;a<i;a++)s(n[a])&&o.push(n[a]);return o}(this.node.attributes,n=>n.nodeName.indexOf("data-")===0),n=>n.nodeName.slice(5)));if(r instanceof Array){const n={};for(const s of r)n[s]=this.data(s);return n}if(typeof r=="object")for(e in r)this.data(e,r[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+r))}catch{return this.attr("data-"+r)}else this.attr("data-"+r,e===null?null:t===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),sr("Dom",{remember:function(r,e){if(typeof arguments[0]=="object")for(const t in r)this.remember(t,r[t]);else{if(arguments.length===1)return this.memory()[r];this.memory()[r]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let r=arguments.length-1;r>=0;r--)delete this.memory()[arguments[r]];return this},memory:function(){return this._memory=this._memory||{}}});let sl=class ns{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof ns||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",t){const{random:n,round:s,sin:a,PI:i}=Math;if(e==="vibrant"){const o=24*n()+57,c=38*n()+45,d=360*n();return new ns(o,c,d,"lch")}if(e==="sine"){const o=s(80*a(2*i*(t=t??n())/.5+.01)+150),c=s(50*a(2*i*t/.5+4.6)+200),d=s(100*a(2*i*t/.5+2.3)+150);return new ns(o,c,d)}if(e==="pastel"){const o=8*n()+86,c=17*n()+9,d=360*n();return new ns(o,c,d,"lch")}if(e==="dark"){const o=10+10*n(),c=50*n()+86,d=360*n();return new ns(o,c,d,"lch")}if(e==="rgb"){const o=255*n(),c=255*n(),d=255*n();return new ns(o,c,d)}if(e==="lab"){const o=100*n(),c=256*n()-128,d=256*n()-128;return new ns(o,c,d,"lab")}if(e==="grey"){const o=255*n();return new ns(o,o,o)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(M7.test(e)||R7.test(e))}cmyk(){const{_a:e,_b:t,_c:n}=this.rgb(),[s,a,i]=[e,t,n].map(c=>c/255),o=Math.min(1-s,1-a,1-i);return o===1?new ns(0,0,0,1,"cmyk"):new ns((1-s-o)/(1-o),(1-a-o)/(1-o),(1-i-o)/(1-o),o,"cmyk")}hsl(){const{_a:e,_b:t,_c:n}=this.rgb(),[s,a,i]=[e,t,n].map(f=>f/255),o=Math.max(s,a,i),c=Math.min(s,a,i),d=(o+c)/2,u=o===c,h=o-c;return new ns(360*(u?0:o===s?((a-i)/h+(a<i?6:0))/6:o===a?((i-s)/h+2)/6:o===i?((s-a)/h+4)/6:0),100*(u?0:d>.5?h/(2-o-c):h/(o+c)),100*d,"hsl")}init(e=0,t=0,n=0,s=0,a="rgb"){if(e=e||0,this.space)for(const h in this.space)delete this[this.space[h]];if(typeof e=="number")a=typeof s=="string"?s:a,s=typeof s=="string"?0:s,Object.assign(this,{_a:e,_b:t,_c:n,_d:s,space:a});else if(e instanceof Array)this.space=t||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const h=function(f,p){const g=Yh(f,"rgb")?{_a:f.r,_b:f.g,_c:f.b,_d:0,space:"rgb"}:Yh(f,"xyz")?{_a:f.x,_b:f.y,_c:f.z,_d:0,space:"xyz"}:Yh(f,"hsl")?{_a:f.h,_b:f.s,_c:f.l,_d:0,space:"hsl"}:Yh(f,"lab")?{_a:f.l,_b:f.a,_c:f.b,_d:0,space:"lab"}:Yh(f,"lch")?{_a:f.l,_b:f.c,_c:f.h,_d:0,space:"lch"}:Yh(f,"cmyk")?{_a:f.c,_b:f.m,_c:f.y,_d:f.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return g.space=p||g.space,g}(e,t);Object.assign(this,h)}else if(typeof e=="string")if(R7.test(e)){const h=e.replace(fee,""),[f,p,g]=dee.exec(h).slice(1,4).map(m=>parseInt(m));Object.assign(this,{_a:f,_b:p,_c:g,_d:0,space:"rgb"})}else{if(!M7.test(e))throw Error("Unsupported string format, can't construct Color");{const h=m=>parseInt(m,16),[,f,p,g]=cee.exec(function(m){return m.length===4?["#",m.substring(1,2),m.substring(1,2),m.substring(2,3),m.substring(2,3),m.substring(3,4),m.substring(3,4)].join(""):m}(e)).map(h);Object.assign(this,{_a:f,_b:p,_c:g,_d:0,space:"rgb"})}}const{_a:i,_b:o,_c:c,_d:d}=this,u=this.space==="rgb"?{r:i,g:o,b:c}:this.space==="xyz"?{x:i,y:o,z:c}:this.space==="hsl"?{h:i,s:o,l:c}:this.space==="lab"?{l:i,a:o,b:c}:this.space==="lch"?{l:i,c:o,h:c}:this.space==="cmyk"?{c:i,m:o,y:c,k:d}:{};Object.assign(this,u)}lab(){const{x:e,y:t,z:n}=this.xyz();return new ns(116*t-16,500*(e-t),200*(t-n),"lab")}lch(){const{l:e,a:t,b:n}=this.lab(),s=Math.sqrt(t**2+n**2);let a=180*Math.atan2(n,t)/Math.PI;return a<0&&(a*=-1,a=360-a),new ns(e,s,a,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:t,y:n,z:s}=this;if(this.space==="lab"||this.space==="lch"){let{l:p,a:g,b:m}=this;if(this.space==="lch"){const{c:N,h:A}=this,E=Math.PI/180;g=N*Math.cos(E*A),m=N*Math.sin(E*A)}const v=(p+16)/116,x=g/500+v,y=v-m/200,w=16/116,k=.008856,S=7.787;t=.95047*(x**3>k?x**3:(x-w)/S),n=1*(v**3>k?v**3:(v-w)/S),s=1.08883*(y**3>k?y**3:(y-w)/S)}const a=3.2406*t+-1.5372*n+-.4986*s,i=-.9689*t+1.8758*n+.0415*s,o=.0557*t+-.204*n+1.057*s,c=Math.pow,d=.0031308,u=a>d?1.055*c(a,1/2.4)-.055:12.92*a,h=i>d?1.055*c(i,1/2.4)-.055:12.92*i,f=o>d?1.055*c(o,1/2.4)-.055:12.92*o;return new ns(255*u,255*h,255*f)}if(this.space==="hsl"){let{h:t,s:n,l:s}=this;if(t/=360,n/=100,s/=100,n===0)return s*=255,new ns(s,s,s);const a=s<.5?s*(1+n):s+n-s*n,i=2*s-a,o=255*k5(i,a,t+1/3),c=255*k5(i,a,t),d=255*k5(i,a,t-1/3);return new ns(o,c,d)}if(this.space==="cmyk"){const{c:t,m:n,y:s,k:a}=this,i=255*(1-Math.min(1,t*(1-a)+a)),o=255*(1-Math.min(1,n*(1-a)+a)),c=255*(1-Math.min(1,s*(1-a)+a));return new ns(i,o,c)}return this;var e}toArray(){const{_a:e,_b:t,_c:n,_d:s,space:a}=this;return[e,t,n,s,a]}toHex(){const[e,t,n]=this._clamped().map(gee);return`#${e}${t}${n}`}toRgb(){const[e,t,n]=this._clamped();return`rgb(${e},${t},${n})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:n}=this.rgb(),[s,a,i]=[e,t,n].map(v=>v/255),o=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,c=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,d=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,u=(.4124*o+.3576*c+.1805*d)/.95047,h=(.2126*o+.7152*c+.0722*d)/1,f=(.0193*o+.1192*c+.9505*d)/1.08883,p=u>.008856?Math.pow(u,1/3):7.787*u+16/116,g=h>.008856?Math.pow(h,1/3):7.787*h+16/116,m=f>.008856?Math.pow(f,1/3):7.787*f+16/116;return new ns(p,g,m,"xyz")}_clamped(){const{_a:e,_b:t,_c:n}=this.rgb(),{max:s,min:a,round:i}=Math;return[e,t,n].map(o=>s(0,a(i(o),255)))}},Br=class XR{constructor(...e){this.init(...e)}clone(){return new XR(this)}init(e,t){const a=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:t};return this.x=a.x==null?0:a.x,this.y=a.y==null?0:a.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){cr.isMatrixLike(e)||(e=new cr(e));const{x:t,y:n}=this;return this.x=e.a*t+e.c*n+e.e,this.y=e.b*t+e.d*n+e.f,this}};function Gh(r,e,t){return Math.abs(e-r)<1e-6}let cr=class ss{constructor(...e){this.init(...e)}static formatTransforms(e){const t=e.flip==="both"||e.flip===!0,n=e.flip&&(t||e.flip==="x")?-1:1,s=e.flip&&(t||e.flip==="y")?-1:1,a=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,i=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,o=e.scale&&e.scale.length?e.scale[0]*n:isFinite(e.scale)?e.scale*n:isFinite(e.scaleX)?e.scaleX*n:n,c=e.scale&&e.scale.length?e.scale[1]*s:isFinite(e.scale)?e.scale*s:isFinite(e.scaleY)?e.scaleY*s:s,d=e.shear||0,u=e.rotate||e.theta||0,h=new Br(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),f=h.x,p=h.y,g=new Br(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),m=g.x,v=g.y,x=new Br(e.translate||e.tx||e.translateX,e.ty||e.translateY),y=x.x,w=x.y,k=new Br(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:o,scaleY:c,skewX:a,skewY:i,shear:d,theta:u,rx:k.x,ry:k.y,tx:y,ty:w,ox:f,oy:p,px:m,py:v}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,t,n){const s=e.a*t.a+e.c*t.b,a=e.b*t.a+e.d*t.b,i=e.a*t.c+e.c*t.d,o=e.b*t.c+e.d*t.d,c=e.e+e.a*t.e+e.c*t.f,d=e.f+e.b*t.e+e.d*t.f;return n.a=s,n.b=a,n.c=i,n.d=o,n.e=c,n.f=d,n}around(e,t,n){return this.clone().aroundO(e,t,n)}aroundO(e,t,n){const s=e||0,a=t||0;return this.translateO(-s,-a).lmultiplyO(n).translateO(s,a)}clone(){return new ss(this)}decompose(e=0,t=0){const n=this.a,s=this.b,a=this.c,i=this.d,o=this.e,c=this.f,d=n*i-s*a,u=d>0?1:-1,h=u*Math.sqrt(n*n+s*s),f=Math.atan2(u*s,u*n),p=180/Math.PI*f,g=Math.cos(f),m=Math.sin(f),v=(n*a+s*i)/d,x=a*h/(v*n-s)||i*h/(v*s+n);return{scaleX:h,scaleY:x,shear:v,rotate:p,translateX:o-e+e*g*h+t*(v*g*h-m*x),translateY:c-t+e*m*h+t*(v*m*h+g*x),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new ss(e);return Gh(this.a,t.a)&&Gh(this.b,t.b)&&Gh(this.c,t.c)&&Gh(this.d,t.d)&&Gh(this.e,t.e)&&Gh(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return e==="x"?this.scaleO(-1,1,t,0):e==="y"?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=ss.fromArray([1,0,0,1,0,0]);return e=e instanceof Fs?e.matrixify():typeof e=="string"?ss.fromArray(e.split(sc).map(parseFloat)):Array.isArray(e)?ss.fromArray(e):typeof e=="object"&&ss.isMatrixLike(e)?e:typeof e=="object"?new ss().transform(e):arguments.length===6?ss.fromArray([].slice.call(arguments)):t,this.a=e.a!=null?e.a:t.a,this.b=e.b!=null?e.b:t.b,this.c=e.c!=null?e.c:t.c,this.d=e.d!=null?e.d:t.d,this.e=e.e!=null?e.e:t.e,this.f=e.f!=null?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,n=this.c,s=this.d,a=this.e,i=this.f,o=e*s-t*n;if(!o)throw new Error("Cannot invert "+this);const c=s/o,d=-t/o,u=-n/o,h=e/o,f=-(c*a+u*i),p=-(d*a+h*i);return this.a=c,this.b=d,this.c=u,this.d=h,this.e=f,this.f=p,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof ss?e:new ss(e);return ss.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof ss?e:new ss(e);return ss.matrixMultiply(this,t,this)}rotate(e,t,n){return this.clone().rotateO(e,t,n)}rotateO(e,t=0,n=0){e=y5(e);const s=Math.cos(e),a=Math.sin(e),{a:i,b:o,c,d,e:u,f:h}=this;return this.a=i*s-o*a,this.b=o*s+i*a,this.c=c*s-d*a,this.d=d*s+c*a,this.e=u*s-h*a+n*a-t*s+t,this.f=h*s+u*a-t*a-n*s+n,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,n=0,s=0){arguments.length===3&&(s=n,n=t,t=e);const{a,b:i,c:o,d:c,e:d,f:u}=this;return this.a=a*e,this.b=i*t,this.c=o*e,this.d=c*t,this.e=d*e-n*e+n,this.f=u*t-s*t+s,this}shear(e,t,n){return this.clone().shearO(e,t,n)}shearO(e,t=0,n=0){const{a:s,b:a,c:i,d:o,e:c,f:d}=this;return this.a=s+a*e,this.c=i+o*e,this.e=c+d*e-n*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,n=0,s=0){arguments.length===3&&(s=n,n=t,t=e),e=y5(e),t=y5(t);const a=Math.tan(e),i=Math.tan(t),{a:o,b:c,c:d,d:u,e:h,f}=this;return this.a=o+c*a,this.b=c+o*i,this.c=d+u*a,this.d=u+d*i,this.e=h+f*a-s*a,this.f=f+h*i-n*i,this}skewX(e,t,n){return this.skew(e,0,t,n)}skewY(e,t,n){return this.skew(0,e,t,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(ss.isMatrixLike(e))return new ss(e).multiplyO(this);const t=ss.formatTransforms(e),{x:n,y:s}=new Br(t.ox,t.oy).transform(this),a=new ss().translateO(t.rx,t.ry).lmultiplyO(this).translateO(-n,-s).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(n,s);if(isFinite(t.px)||isFinite(t.py)){const i=new Br(n,s).transform(a),o=isFinite(t.px)?t.px-i.x:0,c=isFinite(t.py)?t.py-i.y:0;a.translateO(o,c)}return a.translateO(t.tx,t.ty),a}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}};function Hc(){if(!Hc.nodes){const r=ca().size(2,0);r.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),r.attr("focusable","false"),r.attr("aria-hidden","true");const e=r.path().node;Hc.nodes={svg:r,path:e}}if(!Hc.nodes.svg.node.parentNode){const r=yr.document.body||yr.document.documentElement;Hc.nodes.svg.addTo(r)}return Hc.nodes}function ZR(r){return!(r.width||r.height||r.x||r.y)}br(cr,"Matrix");let ys=class lv{constructor(...e){this.init(...e)}addOffset(){return this.x+=yr.window.pageXOffset,this.y+=yr.window.pageYOffset,new lv(this)}init(e){return e=typeof e=="string"?e.split(sc).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return ZR(this)}merge(e){const t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),s=Math.max(this.x+this.width,e.x+e.width)-t,a=Math.max(this.y+this.height,e.y+e.height)-n;return new lv(t,n,s,a)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof cr||(e=new cr(e));let t=1/0,n=-1/0,s=1/0,a=-1/0;return[new Br(this.x,this.y),new Br(this.x2,this.y),new Br(this.x,this.y2),new Br(this.x2,this.y2)].forEach(function(i){i=i.transform(e),t=Math.min(t,i.x),n=Math.max(n,i.x),s=Math.min(s,i.y),a=Math.max(a,i.y)}),new lv(t,s,n-t,a-s)}};function F7(r,e,t){let n;try{if(n=e(r.node),ZR(n)&&(s=r.node)!==yr.document&&!(yr.document.documentElement.contains||function(a){for(;a.parentNode;)a=a.parentNode;return a===yr.document}).call(yr.document.documentElement,s))throw new Error("Element not in the dom")}catch{n=t(r)}var s;return n}sr({viewbox:{viewbox(r,e,t,n){return r==null?new ys(this.attr("viewBox")):this.attr("viewBox",new ys(r,e,t,n))},zoom(r,e){let{width:t,height:n}=this.attr(["width","height"]);if((t||n)&&typeof t!="string"&&typeof n!="string"||(t=this.node.clientWidth,n=this.node.clientHeight),!t||!n)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const s=this.viewbox(),a=t/s.width,i=n/s.height,o=Math.min(a,i);if(r==null)return o;let c=o/r;c===1/0&&(c=Number.MAX_SAFE_INTEGER/100),e=e||new Br(t/2/a+s.x,n/2/i+s.y);const d=new ys(s).transform(new cr({scale:c,origin:e}));return this.viewbox(d)}}}),br(ys,"Box");let Zu=class extends Array{constructor(e=[],...t){if(super(e,...t),typeof e=="number")return this;this.length=0,this.push(...e)}};zt([Zu],{each(r,...e){return typeof r=="function"?this.map((t,n,s)=>r.call(t,t,n,s)):this.map(t=>t[r](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const mee=["toArray","constructor","each"];function dh(r,e){return new Zu(nN((e||yr.document).querySelectorAll(r),function(t){return Mi(t)}))}Zu.extend=function(r){r=r.reduce((e,t)=>(mee.includes(t)||t[0]==="_"||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...n){return this.each(t,...n)}),e),{}),zt([Zu],r)};let xee=0;const JR={};function KR(r){let e=r.getEventHolder();return e===yr.window&&(e=JR),e.events||(e.events={}),e.events}function lN(r){return r.getEventTarget()}function Ol(r,e,t,n,s){const a=t.bind(n||r),i=ca(r),o=KR(i),c=lN(i);e=Array.isArray(e)?e:e.split(sc),t._svgjsListenerId||(t._svgjsListenerId=++xee),e.forEach(function(d){const u=d.split(".")[0],h=d.split(".")[1]||"*";o[u]=o[u]||{},o[u][h]=o[u][h]||{},o[u][h][t._svgjsListenerId]=a,c.addEventListener(u,a,s||!1)})}function $i(r,e,t,n){const s=ca(r),a=KR(s),i=lN(s);(typeof t!="function"||(t=t._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(sc)).forEach(function(o){const c=o&&o.split(".")[0],d=o&&o.split(".")[1];let u,h;if(t)a[c]&&a[c][d||"*"]&&(i.removeEventListener(c,a[c][d||"*"][t],n||!1),delete a[c][d||"*"][t]);else if(c&&d){if(a[c]&&a[c][d]){for(h in a[c][d])$i(i,[c,d].join("."),h);delete a[c][d]}}else if(d)for(o in a)for(u in a[o])d===u&&$i(i,[o,d].join("."));else if(c){if(a[c]){for(u in a[c])$i(i,[c,u].join("."));delete a[c]}}else{for(o in a)$i(i,o);(function(f){let p=f.getEventHolder();p===yr.window&&(p=JR),p.events&&(p.events={})})(s)}})}let F0=class extends aN{addEventListener(){}dispatch(e,t,n){return function(s,a,i,o){const c=lN(s);return a instanceof yr.window.Event||(a=new yr.window.CustomEvent(a,{detail:i,cancelable:!0,...o})),c.dispatchEvent(a),a}(this,e,t,n)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const n=t[e.type];for(const s in n)for(const a in n[s])n[s][a](e);return!e.defaultPrevented}fire(e,t,n){return this.dispatch(e,t,n),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,n){return $i(this,e,t,n),this}on(e,t,n,s){return Ol(this,e,t,n,s),this}removeEventListener(){}};function B7(){}br(F0,"EventTarget");const C5=400,vee=">",yee=0,bee={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};let Ju=class extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(sc).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}},Cr=class io{constructor(...e){this.init(...e)}convert(e){return new io(this.value,e)}divide(e){return e=new io(e),new io(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(t=e.match(GR))&&(this.value=parseFloat(t[1]),t[5]==="%"?this.value/=100:t[5]==="s"&&(this.value*=1e3),this.unit=t[5]):e instanceof io&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new io(e),new io(this-e,this.unit||e.unit)}plus(e){return e=new io(e),new io(this+e,this.unit||e.unit)}times(e){return e=new io(e),new io(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}};const wee=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),QR=[];let lp=class eI extends F0{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=ca(e)).removeNamespace&&this.node instanceof yr.window.SVGElement&&e.removeNamespace(),t==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return ca(e).put(this,t)}children(){return new Zu(nN(this.node.children,function(e){return Mi(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let n=this.node.cloneNode(e);return t&&(n=YR(n)),new this.constructor(n)}each(e,t){const n=this.children();let s,a;for(s=0,a=n.length;s<a;s++)e.apply(n[s],[s,n]),t&&n[s].each(e,t);return this}element(e,t){return this.put(new eI(Zm(e),t))}first(){return Mi(this.node.firstChild)}get(e){return Mi(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=qR(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return Mi(this.node.lastChild)}matches(e){const t=this.node,n=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return n&&n.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=Mi(t.node.parentNode),!e)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=Mi(t.node.parentNode));return t}put(e,t){return e=ca(e),this.add(e,t),e}putIn(e,t){return ca(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=ca(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const n=10**e,s=this.attr(t);for(const a in s)typeof s[a]=="number"&&(s[a]=Math.round(s[a]*n)/n);return this.attr(s),this}svg(e,t){return this.xml(e,t,sN)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const n=t.index(this);return t.put(e,n).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,t,n){if(typeof e=="boolean"&&(n=t,t=e,e=null),e==null||typeof e=="function"){t=t==null||t,this.writeDataToDom();let o=this;if(e!=null){if(o=Mi(o.node.cloneNode(!0)),t){const c=e(o);if(o=c||o,c===!1)return""}o.each(function(){const c=e(this),d=c||this;c===!1?this.remove():c&&this!==d&&this.replace(d)},!0)}return t?o.node.outerHTML:o.node.innerHTML}t=t!=null&&t;const s=Zm("wrapper",n),a=yr.document.createDocumentFragment();s.innerHTML=e;for(let o=s.children.length;o--;)a.appendChild(s.firstElementChild);const i=this.parent();return t?this.replace(a)&&i:this.add(a)}};zt(lp,{attr:function(r,e,t){if(r==null){r={},e=this.node.attributes;for(const n of e)r[n.nodeName]=O7.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return r}if(r instanceof Array)return r.reduce((n,s)=>(n[s]=this.attr(s),n),{});if(typeof r=="object"&&r.constructor===Object)for(e in r)this.attr(e,r[e]);else if(e===null)this.node.removeAttribute(r);else{if(e==null)return(e=this.node.getAttribute(r))==null?bee[r]:O7.test(e)?parseFloat(e):e;typeof(e=QR.reduce((n,s)=>s(r,n,this),e))=="number"?e=new Cr(e):wee.has(r)&&sl.isColor(e)?e=new sl(e):e.constructor===Array&&(e=new Ju(e)),r==="leading"?this.leading&&this.leading(e):typeof t=="string"?this.node.setAttributeNS(t,r,e.toString()):this.node.setAttribute(r,e.toString()),!this.rebuild||r!=="font-size"&&r!=="x"||this.rebuild()}return this},find:function(r){return dh(r,this.node)},findOne:function(r){return Mi(this.node.querySelector(r))}}),br(lp,"Dom");let Fs=class extends lp{constructor(e,t){super(e,t),this.dom={},this.node.instance=this,(e.hasAttribute("data-svgjs")||e.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(e.getAttribute("data-svgjs"))??JSON.parse(e.getAttribute("svgjs:data"))??{})}center(e,t){return this.cx(e).cy(t)}cx(e){return e==null?this.x()+this.width()/2:this.x(e-this.width()/2)}cy(e){return e==null?this.y()+this.height()/2:this.y(e-this.height()/2)}defs(){const e=this.root();return e&&e.defs()}dmove(e,t){return this.dx(e).dy(t)}dx(e=0){return this.x(new Cr(e).plus(this.x()))}dy(e=0){return this.y(new Cr(e).plus(this.y()))}getEventHolder(){return this}height(e){return this.attr("height",e)}move(e,t){return this.x(e).y(t)}parents(e=this.root()){const t=typeof e=="string";t||(e=ca(e));const n=new Zu;let s=this;for(;(s=s.parent())&&s.node!==yr.document&&s.nodeName!=="#document-fragment"&&(n.push(s),t||s.node!==e.node)&&(!t||!s.matches(e));)if(s.node===this.root().node)return null;return n}reference(e){if(!(e=this.attr(e)))return null;const t=(e+"").match(uee);return t?ca(t[1]):null}root(){const e=this.parent(function(t){return Mu[t]}(iN));return e&&e.root()}setData(e){return this.dom=e,this}size(e,t){const n=Op(this,e,t);return this.width(new Cr(n.width)).height(new Cr(n.height))}width(e){return this.attr("width",e)}writeDataToDom(){return WR(this,this.dom),super.writeDataToDom()}x(e){return this.attr("x",e)}y(e){return this.attr("y",e)}};zt(Fs,{bbox:function(){const r=F7(this,e=>e.getBBox(),e=>{try{const t=e.clone().addTo(Hc().svg).show(),n=t.node.getBBox();return t.remove(),n}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}});return new ys(r)},rbox:function(r){const e=F7(this,n=>n.getBoundingClientRect(),n=>{throw new Error(`Getting rbox of element "${n.node.nodeName}" is not possible`)}),t=new ys(e);return r?t.transform(r.screenCTM().inverseO()):t.addOffset()},inside:function(r,e){const t=this.bbox();return r>t.x&&e>t.y&&r<t.x+t.width&&e<t.y+t.height},point:function(r,e){return new Br(r,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new cr(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const r=this.rect(1,1),e=r.node.getScreenCTM();return r.remove(),new cr(e)}return new cr(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new cr}}}),br(Fs,"Element");const Mg={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(r,e){return e==="color"?r:r+"-"+e}};["fill","stroke"].forEach(function(r){const e={};let t;e[r]=function(n){if(n===void 0)return this.attr(r);if(typeof n=="string"||n instanceof sl||sl.isRgb(n)||n instanceof Fs)this.attr(r,n);else for(t=Mg[r].length-1;t>=0;t--)n[Mg[r][t]]!=null&&this.attr(Mg.prefix(r,Mg[r][t]),n[Mg[r][t]]);return this},sr(["Element","Runner"],e)}),sr(["Element","Runner"],{matrix:function(r,e,t,n,s,a){return r==null?new cr(this):this.attr("transform",new cr(r,e,t,n,s,a))},rotate:function(r,e,t){return this.transform({rotate:r,ox:e,oy:t},!0)},skew:function(r,e,t,n){return arguments.length===1||arguments.length===3?this.transform({skew:r,ox:e,oy:t},!0):this.transform({skew:[r,e],ox:t,oy:n},!0)},shear:function(r,e,t){return this.transform({shear:r,ox:e,oy:t},!0)},scale:function(r,e,t,n){return arguments.length===1||arguments.length===3?this.transform({scale:r,ox:e,oy:t},!0):this.transform({scale:[r,e],ox:t,oy:n},!0)},translate:function(r,e){return this.transform({translate:[r,e]},!0)},relative:function(r,e){return this.transform({relative:[r,e]},!0)},flip:function(r="both",e="center"){return"xybothtrue".indexOf(r)===-1&&(e=r,r="both"),this.transform({flip:r,origin:e},!0)},opacity:function(r){return this.attr("opacity",r)}}),sr("radius",{radius:function(r,e=r){return(this._element||this).type==="radialGradient"?this.attr("r",new Cr(r)):this.rx(r).ry(e)}}),sr("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(r){return new Br(this.node.getPointAtLength(r))}}),sr(["Element","Runner"],{font:function(r,e){if(typeof r=="object"){for(e in r)this.font(e,r[e]);return this}return r==="leading"?this.leading(e):r==="anchor"?this.attr("text-anchor",e):r==="size"||r==="family"||r==="weight"||r==="stretch"||r==="variant"||r==="style"?this.attr("font-"+r,e):this.attr(r,e)}});sr("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(r,e){return r[e]=function(t){return t===null?this.off(e):this.on(e,t),this},r},{})),sr("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(hee).slice(0,-1).map(function(e){const t=e.trim().split("(");return[t[0],t[1].split(sc).map(function(n){return parseFloat(n)})]}).reverse().reduce(function(e,t){return t[0]==="matrix"?e.lmultiply(cr.fromArray(t[1])):e[t[0]].apply(e,t[1])},new cr)},toParent:function(r,e){if(this===r)return this;if(Lk(this.node))return this.addTo(r,e);const t=this.screenCTM(),n=r.screenCTM().inverse();return this.addTo(r,e).untransform().transform(n.multiply(t)),this},toRoot:function(r){return this.toParent(this.root(),r)},transform:function(r,e){if(r==null||typeof r=="string"){const n=new cr(this).decompose();return r==null?n:n[r]}cr.isMatrixLike(r)||(r={...r,origin:Pk(r,this)});const t=new cr(e===!0?this:e||!1).transform(r);return this.attr("transform",t)}});let fi=class tI extends Fs{flatten(){return this.each(function(){if(this instanceof tI)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),t=e.index(this)){return t=t===-1?e.children().length:t,this.each(function(n,s){return s[s.length-n-1].toParent(e,t)}),this.remove()}};br(fi,"Container");let g2=class extends fi{constructor(e,t=e){super(qr("defs",e),t)}flatten(){return this}ungroup(){return this}};br(g2,"Defs");let pi=class extends Fs{};function cN(r){return this.attr("rx",r)}function dN(r){return this.attr("ry",r)}function rI(r){return r==null?this.cx()-this.rx():this.cx(r+this.rx())}function nI(r){return r==null?this.cy()-this.ry():this.cy(r+this.ry())}function sI(r){return this.attr("cx",r)}function aI(r){return this.attr("cy",r)}function iI(r){return r==null?2*this.rx():this.rx(new Cr(r).divide(2))}function oI(r){return r==null?2*this.ry():this.ry(new Cr(r).divide(2))}br(pi,"Shape");var kee=Object.freeze({__proto__:null,cx:sI,cy:aI,height:oI,rx:cN,ry:dN,width:iI,x:rI,y:nI});let cv=class extends pi{constructor(e,t=e){super(qr("ellipse",e),t)}size(e,t){const n=Op(this,e,t);return this.rx(new Cr(n.width).divide(2)).ry(new Cr(n.height).divide(2))}};zt(cv,kee),sr("Container",{ellipse:Wr(function(r=0,e=r){return this.put(new cv).size(r,e).move(0,0)})}),br(cv,"Ellipse");let lI=class extends lp{constructor(e=yr.document.createDocumentFragment()){super(e)}xml(e,t,n){if(typeof e=="boolean"&&(n=t,t=e,e=null),e==null||typeof e=="function"){const s=new lp(Zm("wrapper",n));return s.add(this.node.cloneNode(!0)),s.xml(!1,n)}return super.xml(e,!1,n)}};function cI(r,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new Cr(r),fy:new Cr(e)}):this.attr({x1:new Cr(r),y1:new Cr(e)})}function dI(r,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new Cr(r),cy:new Cr(e)}):this.attr({x2:new Cr(r),y2:new Cr(e)})}br(lI,"Fragment");var Cee=Object.freeze({__proto__:null,from:cI,to:dI});let hm=class extends fi{constructor(e,t){super(qr(e+"Gradient",typeof e=="string"?null:e),t)}attr(e,t,n){return e==="transform"&&(e="gradientTransform"),super.attr(e,t,n)}bbox(){return new ys}targets(){return dh("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}};zt(hm,Cee),sr({Container:{gradient(...r){return this.defs().gradient(...r)}},Defs:{gradient:Wr(function(r,e){return this.put(new hm(r)).update(e)})}}),br(hm,"Gradient");let Jm=class extends fi{constructor(e,t=e){super(qr("pattern",e),t)}attr(e,t,n){return e==="transform"&&(e="patternTransform"),super.attr(e,t,n)}bbox(){return new ys}targets(){return dh("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}};sr({Container:{pattern(...r){return this.defs().pattern(...r)}},Defs:{pattern:Wr(function(r,e,t){return this.put(new Jm).update(t).attr({x:0,y:0,width:r,height:e,patternUnits:"userSpaceOnUse"})})}}),br(Jm,"Pattern");let dv=class extends pi{constructor(e,t=e){super(qr("image",e),t)}load(e,t){if(!e)return this;const n=new yr.window.Image;return Ol(n,"load",function(s){const a=this.parent(Jm);this.width()===0&&this.height()===0&&this.size(n.width,n.height),a instanceof Jm&&a.width()===0&&a.height()===0&&a.size(this.width(),this.height()),typeof t=="function"&&t.call(this,s)},this),Ol(n,"load error",function(){$i(n)}),this.attr("href",n.src=e,Fp)}};var z7;z7=function(r,e,t){return r!=="fill"&&r!=="stroke"||pee.test(e)&&(e=t.root().defs().image(e)),e instanceof dv&&(e=t.root().defs().pattern(0,0,n=>{n.add(e)})),e},QR.push(z7),sr({Container:{image:Wr(function(r,e){return this.put(new dv).size(0,0).load(r,e)})}}),br(dv,"Image");let yd=class extends Ju{bbox(){let e=-1/0,t=-1/0,n=1/0,s=1/0;return this.forEach(function(a){e=Math.max(a[0],e),t=Math.max(a[1],t),n=Math.min(a[0],n),s=Math.min(a[1],s)}),new ys(n,s,e-n,t-s)}move(e,t){const n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(let s=this.length-1;s>=0;s--)this[s]=[this[s][0]+e,this[s][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(sc).map(parseFloat)).length%2!=0&&e.pop();for(let n=0,s=e.length;n<s;n+=2)t.push([e[n],e[n+1]]);return t}size(e,t){let n;const s=this.bbox();for(n=this.length-1;n>=0;n--)s.width&&(this[n][0]=(this[n][0]-s.x)*e/s.width+s.x),s.height&&(this[n][1]=(this[n][1]-s.y)*t/s.height+s.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,n=this.length;t<n;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){cr.isMatrixLike(e)||(e=new cr(e));for(let t=this.length;t--;){const[n,s]=this[t];this[t][0]=e.a*n+e.c*s+e.e,this[t][1]=e.b*n+e.d*s+e.f}return this}};const See=yd;var uN=Object.freeze({__proto__:null,MorphArray:See,height:function(r){const e=this.bbox();return r==null?e.height:this.size(e.width,r)},width:function(r){const e=this.bbox();return r==null?e.width:this.size(r,e.height)},x:function(r){return r==null?this.bbox().x:this.move(r,this.bbox().y)},y:function(r){return r==null?this.bbox().y:this.move(this.bbox().x,r)}});let ku=class extends pi{constructor(r,e=r){super(qr("line",r),e)}array(){return new yd([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(r,e){return this.attr(this.array().move(r,e).toLine())}plot(r,e,t,n){return r==null?this.array():(r=e!==void 0?{x1:r,y1:e,x2:t,y2:n}:new yd(r).toLine(),this.attr(r))}size(r,e){const t=Op(this,r,e);return this.attr(this.array().size(t.width,t.height).toLine())}};zt(ku,uN),sr({Container:{line:Wr(function(...r){return ku.prototype.plot.apply(this.put(new ku),r[0]!=null?r:[0,0,0,0])})}}),br(ku,"Line");let uv=class extends fi{constructor(e,t=e){super(qr("marker",e),t)}height(e){return this.attr("markerHeight",e)}orient(e){return this.attr("orient",e)}ref(e,t){return this.attr("refX",e).attr("refY",t)}toString(){return"url(#"+this.id()+")"}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}width(e){return this.attr("markerWidth",e)}};function Cf(r,e){return function(t){return t==null?this[r]:(this[r]=t,e&&e.call(this),this)}}sr({Container:{marker(...r){return this.defs().marker(...r)}},Defs:{marker:Wr(function(r,e,t){return this.put(new uv).size(r,e).ref(r/2,e/2).viewbox(0,0,r,e).attr("orient","auto").update(t)})},marker:{marker(r,e,t,n){let s=["marker"];return r!=="all"&&s.push(r),s=s.join("-"),r=arguments[1]instanceof uv?arguments[1]:this.defs().marker(e,t,n),this.attr(s,r)}}}),br(uv,"Marker");const Nee={"-":function(r){return r},"<>":function(r){return-Math.cos(r*Math.PI)/2+.5},">":function(r){return Math.sin(r*Math.PI/2)},"<":function(r){return 1-Math.cos(r*Math.PI/2)},bezier:function(r,e,t,n){return function(s){return s<0?r>0?e/r*s:t>0?n/t*s:0:s>1?t<1?(1-n)/(1-t)*s+(n-t)/(1-t):r<1?(1-e)/(1-r)*s+(e-r)/(1-r):1:3*s*(1-s)**2*e+3*s**2*(1-s)*n+s**3}},steps:function(r,e="end"){e=e.split("-").reverse()[0];let t=r;return e==="none"?--t:e==="both"&&++t,(n,s=!1)=>{let a=Math.floor(n*r);const i=n*a%1==0;return e!=="start"&&e!=="both"||++a,s&&i&&--a,n>=0&&a<0&&(a=0),n<=1&&a>t&&(a=t),a/t}}};let hN=class{done(){return!1}},Dk=class extends hN{constructor(e=vee){super(),this.ease=Nee[e]||e}step(e,t,n){return typeof e!="number"?n<1?e:t:e+(t-e)*this.ease(n)}};class my extends hN{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,n,s){return this.stepper(e,t,n,s)}}function H7(){const r=(this._duration||500)/1e3,e=this._overshoot||0,t=Math.PI,n=Math.log(e/100+1e-10),s=-n/Math.sqrt(t*t+n*n),a=3.9/(s*r);this.d=2*s*a,this.k=a*a}zt(class extends my{constructor(r=500,e=0){super(),this.duration(r).overshoot(e)}step(r,e,t,n){if(typeof r=="string")return r;if(n.done=t===1/0,t===1/0)return e;if(t===0)return r;t>100&&(t=16),t/=1e3;const s=n.velocity||0,a=-this.d*s-this.k*(r-e),i=r+s*t+a*t*t/2;return n.velocity=s+a*t,n.done=Math.abs(e-i)+Math.abs(s)<.002,n.done?e:i}},{duration:Cf("_duration",H7),overshoot:Cf("_overshoot",H7)});zt(class extends my{constructor(r=.1,e=.01,t=0,n=1e3){super(),this.p(r).i(e).d(t).windup(n)}step(r,e,t,n){if(typeof r=="string")return r;if(n.done=t===1/0,t===1/0)return e;if(t===0)return r;const s=e-r;let a=(n.integral||0)+s*t;const i=(s-(n.error||0))/t,o=this._windup;return o!==!1&&(a=Math.max(-o,Math.min(a,o))),n.error=s,n.integral=a,n.done=Math.abs(s)<.001,n.done?e:r+(this.P*s+this.I*a+this.D*i)}},{windup:Cf("_windup"),p:Cf("P"),i:Cf("I"),d:Cf("D")});const Eee={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Mk={M:function(r,e,t){return e.x=t.x=r[0],e.y=t.y=r[1],["M",e.x,e.y]},L:function(r,e){return e.x=r[0],e.y=r[1],["L",r[0],r[1]]},H:function(r,e){return e.x=r[0],["H",r[0]]},V:function(r,e){return e.y=r[0],["V",r[0]]},C:function(r,e){return e.x=r[4],e.y=r[5],["C",r[0],r[1],r[2],r[3],r[4],r[5]]},S:function(r,e){return e.x=r[2],e.y=r[3],["S",r[0],r[1],r[2],r[3]]},Q:function(r,e){return e.x=r[2],e.y=r[3],["Q",r[0],r[1],r[2],r[3]]},T:function(r,e){return e.x=r[0],e.y=r[1],["T",r[0],r[1]]},Z:function(r,e,t){return e.x=t.x,e.y=t.y,["Z"]},A:function(r,e){return e.x=r[5],e.y=r[6],["A",r[0],r[1],r[2],r[3],r[4],r[5],r[6]]}},S5="mlhvqtcsaz".split("");for(let r=0,e=S5.length;r<e;++r)Mk[S5[r]]=function(t){return function(n,s,a){if(t==="H")n[0]=n[0]+s.x;else if(t==="V")n[0]=n[0]+s.y;else if(t==="A")n[5]=n[5]+s.x,n[6]=n[6]+s.y;else for(let i=0,o=n.length;i<o;++i)n[i]=n[i]+(i%2?s.y:s.x);return Mk[t](n,s,a)}}(S5[r].toUpperCase());function Rk(r){return r.segment.length&&r.segment.length-1===Eee[r.segment[0].toUpperCase()]}function _ee(r,e){r.inNumber&&eu(r,!1);const t=oN.test(e);if(t)r.segment=[e];else{const n=r.lastCommand,s=n.toLowerCase(),a=n===s;r.segment=[s==="m"?a?"l":"L":n]}return r.inSegment=!0,r.lastCommand=r.segment[0],t}function eu(r,e){if(!r.inNumber)throw new Error("Parser Error");r.number&&r.segment.push(parseFloat(r.number)),r.inNumber=e,r.number="",r.pointSeen=!1,r.hasExponent=!1,Rk(r)&&Ik(r)}function Ik(r){r.inSegment=!1,r.absolute&&(r.segment=function(e){const t=e.segment[0];return Mk[t](e.segment.slice(1),e.p,e.p0)}(r)),r.segments.push(r.segment)}function jee(r){if(!r.segment.length)return!1;const e=r.segment[0].toUpperCase()==="A",t=r.segment.length;return e&&(t===4||t===5)}function Aee(r){return r.lastToken.toUpperCase()==="E"}const Tee=new Set([" ",",","	",`
`,"\r","\f"]);class go extends Ju{bbox(){return Hc().path.setAttribute("d",this.toString()),new ys(Hc.nodes.path.getBBox())}move(e,t){const n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(let s,a=this.length-1;a>=0;a--)s=this[a][0],s==="M"||s==="L"||s==="T"?(this[a][1]+=e,this[a][2]+=t):s==="H"?this[a][1]+=e:s==="V"?this[a][1]+=t:s==="C"||s==="S"||s==="Q"?(this[a][1]+=e,this[a][2]+=t,this[a][3]+=e,this[a][4]+=t,s==="C"&&(this[a][5]+=e,this[a][6]+=t)):s==="A"&&(this[a][6]+=e,this[a][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(t,n=!0){let s=0,a="";const i={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:n,p0:new Br,p:new Br};for(;i.lastToken=a,a=t.charAt(s++);)if(i.inSegment||!_ee(i,a))if(a!==".")if(isNaN(parseInt(a)))if(Tee.has(a))i.inNumber&&eu(i,!1);else if(a!=="-"&&a!=="+")if(a.toUpperCase()!=="E"){if(oN.test(a)){if(i.inNumber)eu(i,!1);else{if(!Rk(i))throw new Error("parser Error");Ik(i)}--s}}else i.number+=a,i.hasExponent=!0;else{if(i.inNumber&&!Aee(i)){eu(i,!1),--s;continue}i.number+=a,i.inNumber=!0}else{if(i.number==="0"||jee(i)){i.inNumber=!0,i.number=a,eu(i,!0);continue}i.inNumber=!0,i.number+=a}else{if(i.pointSeen||i.hasExponent){eu(i,!1),--s;continue}i.inNumber=!0,i.pointSeen=!0,i.number+=a}return i.inNumber&&eu(i,!1),i.inSegment&&Rk(i)&&Ik(i),i.segments}(e)}size(e,t){const n=this.bbox();let s,a;for(n.width=n.width===0?1:n.width,n.height=n.height===0?1:n.height,s=this.length-1;s>=0;s--)a=this[s][0],a==="M"||a==="L"||a==="T"?(this[s][1]=(this[s][1]-n.x)*e/n.width+n.x,this[s][2]=(this[s][2]-n.y)*t/n.height+n.y):a==="H"?this[s][1]=(this[s][1]-n.x)*e/n.width+n.x:a==="V"?this[s][1]=(this[s][1]-n.y)*t/n.height+n.y:a==="C"||a==="S"||a==="Q"?(this[s][1]=(this[s][1]-n.x)*e/n.width+n.x,this[s][2]=(this[s][2]-n.y)*t/n.height+n.y,this[s][3]=(this[s][3]-n.x)*e/n.width+n.x,this[s][4]=(this[s][4]-n.y)*t/n.height+n.y,a==="C"&&(this[s][5]=(this[s][5]-n.x)*e/n.width+n.x,this[s][6]=(this[s][6]-n.y)*t/n.height+n.y)):a==="A"&&(this[s][1]=this[s][1]*e/n.width,this[s][2]=this[s][2]*t/n.height,this[s][6]=(this[s][6]-n.x)*e/n.width+n.x,this[s][7]=(this[s][7]-n.y)*t/n.height+n.y);return this}toString(){return function(e){let t="";for(let n=0,s=e.length;n<s;n++)t+=e[n][0],e[n][1]!=null&&(t+=e[n][1],e[n][2]!=null&&(t+=" ",t+=e[n][2],e[n][3]!=null&&(t+=" ",t+=e[n][3],t+=" ",t+=e[n][4],e[n][5]!=null&&(t+=" ",t+=e[n][5],t+=" ",t+=e[n][6],e[n][7]!=null&&(t+=" ",t+=e[n][7])))));return t+" "}(this)}}const uI=r=>{const e=typeof r;return e==="number"?Cr:e==="string"?sl.isColor(r)?sl:sc.test(r)?oN.test(r)?go:Ju:GR.test(r)?Cr:Ok:Fk.indexOf(r.constructor)>-1?r.constructor:Array.isArray(r)?Ju:e==="object"?Km:Ok};class tu{constructor(e){this._stepper=e||new Dk("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,t){return e&&t},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(uI(e));let t=new this._type(e);return this._type===sl&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===Km&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map(function(n){return n.done=!0,n}),t}}class Ok{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class B0{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,B0.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}B0.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const Pee=(r,e)=>r[0]<e[0]?-1:r[0]>e[0]?1:0;class Km{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let n=0,s=t.length;n<s;++n){if(t[n+1]===e[n+1]){if(t[n+1]===sl&&e[n+7]!==t[n+7]){const o=e[n+7],c=new sl(this.values.splice(n+3,5))[o]().toArray();this.values.splice(n+3,0,...c)}n+=t[n+2]+2;continue}if(!e[n+1])return this;const a=new e[n+1]().toArray(),i=t[n+2]+3;t.splice(n,i,e[n],e[n+1],e[n+2],...a),n+=t[n+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const n in e){const s=uI(e[n]),a=new s(e[n]).toArray();t.push([n,s,a.length,...a])}return t.sort(Pee),this.values=t.reduce((n,s)=>n.concat(s),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const n=t.shift(),s=t.shift(),a=t.shift(),i=t.splice(0,a);e[n]=new s(i)}return e}}const Fk=[Ok,B0,Km];class Ff extends pi{constructor(e,t=e){super(qr("path",e),t)}array(){return this._array||(this._array=new go(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new go(e))}size(e,t){const n=Op(this,e,t);return this.attr("d",this.array().size(n.width,n.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}Ff.prototype.MorphArray=go,sr({Container:{path:Wr(function(r){return this.put(new Ff).plot(r||new go)})}}),br(Ff,"Path");var hI=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new yd(this.attr("points")))},clear:function(){return delete this._array,this},move:function(r,e){return this.attr("points",this.array().move(r,e))},plot:function(r){return r==null?this.array():this.clear().attr("points",typeof r=="string"?r:this._array=new yd(r))},size:function(r,e){const t=Op(this,r,e);return this.attr("points",this.array().size(t.width,t.height))}});class Cu extends pi{constructor(e,t=e){super(qr("polygon",e),t)}}sr({Container:{polygon:Wr(function(r){return this.put(new Cu).plot(r||new yd)})}}),zt(Cu,uN),zt(Cu,hI),br(Cu,"Polygon");class Su extends pi{constructor(e,t=e){super(qr("polyline",e),t)}}sr({Container:{polyline:Wr(function(r){return this.put(new Su).plot(r||new yd)})}}),zt(Su,uN),zt(Su,hI),br(Su,"Polyline");class hv extends pi{constructor(e,t=e){super(qr("rect",e),t)}}zt(hv,{rx:cN,ry:dN}),sr({Container:{rect:Wr(function(r,e){return this.put(new hv).size(r,e)})}}),br(hv,"Rect");class N5{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const Lr={nextDraw:null,frames:new N5,timeouts:new N5,immediates:new N5,timer:()=>yr.window.performance||yr.window.Date,transforms:[],frame(r){const e=Lr.frames.push({run:r});return Lr.nextDraw===null&&(Lr.nextDraw=yr.window.requestAnimationFrame(Lr._draw)),e},timeout(r,e){e=e||0;const t=Lr.timer().now()+e,n=Lr.timeouts.push({run:r,time:t});return Lr.nextDraw===null&&(Lr.nextDraw=yr.window.requestAnimationFrame(Lr._draw)),n},immediate(r){const e=Lr.immediates.push(r);return Lr.nextDraw===null&&(Lr.nextDraw=yr.window.requestAnimationFrame(Lr._draw)),e},cancelFrame(r){r!=null&&Lr.frames.remove(r)},clearTimeout(r){r!=null&&Lr.timeouts.remove(r)},cancelImmediate(r){r!=null&&Lr.immediates.remove(r)},_draw(r){let e=null;const t=Lr.timeouts.last();for(;(e=Lr.timeouts.shift())&&(r>=e.time?e.run():Lr.timeouts.push(e),e!==t););let n=null;const s=Lr.frames.last();for(;n!==s&&(n=Lr.frames.shift());)n.run(r);let a=null;for(;a=Lr.immediates.shift();)a();Lr.nextDraw=Lr.timeouts.first()||Lr.frames.first()?yr.window.requestAnimationFrame(Lr._draw):null}},Lee=function(r){const e=r.start,t=r.runner.duration();return{start:e,duration:t,end:e+t,runner:r.runner}},Dee=function(){const r=yr.window;return(r.performance||r.Date).now()};class fI extends F0{constructor(e=Dee){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map(t=>t.start+t.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(e==null)return this.speed(-t);const n=Math.abs(t);return this.speed(e?-n:n)}schedule(e,t,n){if(e==null)return this._runners.map(Lee);let s=0;const a=this.getEndTime();if(t=t||0,n==null||n==="last"||n==="after")s=a;else if(n==="absolute"||n==="start")s=t,t=0;else if(n==="now")s=this._time;else if(n==="relative"){const c=this.getRunnerInfoById(e.id);c&&(s=c.start+t,t=0)}else{if(n!=="with-last")throw new Error('Invalid value for the "when" parameter');{const c=this.getLastRunnerInfo();s=c?c.start:this._time}}e.unschedule(),e.timeline(this);const i=e.persist(),o={persist:i===null?this._persist:i,start:s+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(o),this._runners.sort((c,d)=>c.start-d.start),this._runnerIds=this._runners.map(c=>c.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return Lr.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=Lr.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let n=t-this._lastSourceTime;e&&(n=0);const s=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=s,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let i=this._runners.length;i--;){const o=this._runners[i],c=o.runner;this._time-o.start<=0&&c.reset()}let a=!1;for(let i=0,o=this._runners.length;i<o;i++){const c=this._runners[i],d=c.runner;let u=s;const h=this._time-c.start;if(h<=0){a=!0;continue}h<u&&(u=h),d.active()&&(d.step(u).done?c.persist!==!0&&d.duration()-d.time()+this._time+c.persist<this._time&&(d.unschedule(),--i,--o):a=!0)}return a&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}sr({Element:{timeline:function(r){return r==null?(this._timeline=this._timeline||new fI,this._timeline):(this._timeline=r,this)}}});class ii extends F0{constructor(e){super(),this.id=ii.id++,e=typeof(e=e??C5)=="function"?new my(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof my,this._stepper=this._isDeclarative?e:new Dk,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new cr,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,n){let s=1,a=!1,i=0;return t=t??yee,n=n||"last",typeof(e=e??C5)!="object"||e instanceof hN||(t=e.delay??t,n=e.when??n,a=e.swing||a,s=e.times??s,i=e.wait??i,e=e.duration??C5),{duration:e,delay:t,swing:a,times:s,wait:i,when:n}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,n){const s=ii.sanitise(e,t,n),a=new ii(s.duration);return this._timeline&&a.timeline(this._timeline),this._element&&a.element(this._element),a.loop(s).schedule(s.delay,s.when)}clearTransform(){return this.transforms=new cr,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new Dk(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,n){return typeof e=="object"&&(t=e.swing,n=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=n||0,this._times===!0&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(e==null){const a=Math.floor(this._time/t),i=(this._time-a*t)/this._duration;return Math.min(a+i,this._times)}const n=e%1,s=t*Math.floor(e)+this._duration*n;return this.time(s)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const t=this._time,n=this._duration,s=this._wait,a=this._times,i=this._swing,o=this._reverse;let c;if(e==null){const h=function(p){const g=i*Math.floor(p%(2*(s+n))/(s+n)),m=g&&!o||!g&&o,v=Math.pow(-1,m)*(p%(s+n))/n+m;return Math.max(Math.min(v,1),0)},f=a*(s+n)-s;return c=t<=0?Math.round(h(1e-5)):t<f?h(t):Math.round(h(f-1e-5)),c}const d=Math.floor(this.loops()),u=i&&d%2==0;return c=d+(u&&!o||o&&u?e:1-e),this.loops(c)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,n,s){return this._queue.push({initialiser:e||B7,runner:t||B7,retarget:n,isTransform:s,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,t,n){if(e instanceof fI||(n=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,n),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const t=this.position(),n=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const s=this.duration(),a=this._lastTime<=0&&this._time>0,i=this._lastTime<s&&this._time>=s;this._lastTime=this._time,a&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!i&&this._time>=s,this._reseted=!1;let c=!1;return(n||o)&&(this._initialise(n),this.transforms=new cr,c=this._run(o?e:t),this.fire("step",this)),this.done=this.done||c&&o,i&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,n=this._queue.length;t<n;++t){const s=this._queue[t],a=this._isDeclarative||!s.initialised&&e;e=!s.finished,a&&e&&(s.initialiser.call(this),s.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const n=this.timeline();n&&n.play()}}_run(e){let t=!0;for(let n=0,s=this._queue.length;n<s;++n){const a=this._queue[n],i=a.runner.call(this,e);a.finished=a.finished||i===!0,t=t&&a.finished}return t}_tryRetarget(e,t,n){if(this._history[e]){if(!this._history[e].caller.initialised){const a=this._queue.indexOf(this._history[e].caller);return this._queue.splice(a,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,n):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const s=this.timeline();return s&&s.play(),!0}return!1}}ii.id=0;class xy{constructor(e=new cr,t=-1,n=!0){this.transforms=e,this.id=t,this.done=n}clearTransformsFromQueue(){}}zt([ii,xy],{mergeWith(r){return new xy(r.transforms.lmultiply(this.transforms),r.id)}});const pI=(r,e)=>r.lmultiplyO(e),gI=r=>r.transforms;function Mee(){const r=this._transformationRunners.runners.map(gI).reduce(pI,new cr);this.transform(r),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class Ree{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new xy).forEach(n=>n.clearTransformsFromQueue()),this}edit(e,t){const n=this.ids.indexOf(e+1);return this.ids.splice(n,1,e+1),this.runners.splice(n,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const n=this.runners[t];if(e&&n.done&&e.done&&(!n._timeline||!n._timeline._runnerIds.includes(n.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(n.id);const s=n.mergeWith(e);this.edit(e.id,s),e=s,--t}else e=n}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}sr({Element:{animate(r,e,t){const n=ii.sanitise(r,e,t),s=this.timeline();return new ii(n.duration).loop(n).element(this).timeline(s.play()).schedule(n.delay,n.when)},delay(r,e){return this.animate(0,r,e)},_clearTransformRunnersBefore(r){this._transformationRunners.clearBefore(r.id)},_currentTransform(r){return this._transformationRunners.runners.filter(e=>e.id<=r.id).map(gI).reduce(pI,new cr)},_addRunner(r){this._transformationRunners.add(r),Lr.cancelImmediate(this._frameId),this._frameId=Lr.immediate(Mee.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new Ree().add(new xy(new cr(this))))}}});zt(ii,{attr(r,e){return this.styleAttr("attr",r,e)},css(r,e){return this.styleAttr("css",r,e)},styleAttr(r,e,t){if(typeof e=="string")return this.styleAttr(r,{[e]:t});let n=e;if(this._tryRetarget(r,n))return this;let s=new tu(this._stepper).to(n),a=Object.keys(n);return this.queue(function(){s=s.from(this.element()[r](a))},function(i){return this.element()[r](s.at(i).valueOf()),s.done()},function(i){const o=Object.keys(i),c=(d=a,o.filter(h=>!d.includes(h)));var d;if(c.length){const h=this.element()[r](c),f=new Km(s.from()).valueOf();Object.assign(f,h),s.from(f)}const u=new Km(s.to()).valueOf();Object.assign(u,i),s.to(u),a=o,n=i}),this._rememberMorpher(r,s),this},zoom(r,e){if(this._tryRetarget("zoom",r,e))return this;let t=new tu(this._stepper).to(new Cr(r));return this.queue(function(){t=t.from(this.element().zoom())},function(n){return this.element().zoom(t.at(n),e),t.done()},function(n,s){e=s,t.to(n)}),this._rememberMorpher("zoom",t),this},transform(r,e,t){if(e=r.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",r))return this;const n=cr.isMatrixLike(r);t=r.affine!=null?r.affine:t??!n;const s=new tu(this._stepper).type(t?B0:cr);let a,i,o,c,d;return this.queue(function(){i=i||this.element(),a=a||Pk(r,i),d=new cr(e?void 0:i),i._addRunner(this),e||i._clearTransformRunnersBefore(this)},function(u){e||this.clearTransform();const{x:h,y:f}=new Br(a).transform(i._currentTransform(this));let p=new cr({...r,origin:[h,f]}),g=this._isDeclarative&&o?o:d;if(t){p=p.decompose(h,f),g=g.decompose(h,f);const v=p.rotate,x=g.rotate,y=[v-360,v,v+360],w=y.map(N=>Math.abs(N-x)),k=Math.min(...w),S=w.indexOf(k);p.rotate=y[S]}e&&(n||(p.rotate=r.rotate||0),this._isDeclarative&&c&&(g.rotate=c)),s.from(g),s.to(p);const m=s.at(u);return c=m.rotate,o=new cr(m),this.addTransform(o),i._addRunner(this),s.done()},function(u){(u.origin||"center").toString()!==(r.origin||"center").toString()&&(a=Pk(u,i)),r={...u,origin:a}},!0),this._isDeclarative&&this._rememberMorpher("transform",s),this},x(r){return this._queueNumber("x",r)},y(r){return this._queueNumber("y",r)},ax(r){return this._queueNumber("ax",r)},ay(r){return this._queueNumber("ay",r)},dx(r=0){return this._queueNumberDelta("x",r)},dy(r=0){return this._queueNumberDelta("y",r)},dmove(r,e){return this.dx(r).dy(e)},_queueNumberDelta(r,e){if(e=new Cr(e),this._tryRetarget(r,e))return this;const t=new tu(this._stepper).to(e);let n=null;return this.queue(function(){n=this.element()[r](),t.from(n),t.to(n+e)},function(s){return this.element()[r](t.at(s)),t.done()},function(s){t.to(n+new Cr(s))}),this._rememberMorpher(r,t),this},_queueObject(r,e){if(this._tryRetarget(r,e))return this;const t=new tu(this._stepper).to(e);return this.queue(function(){t.from(this.element()[r]())},function(n){return this.element()[r](t.at(n)),t.done()}),this._rememberMorpher(r,t),this},_queueNumber(r,e){return this._queueObject(r,new Cr(e))},cx(r){return this._queueNumber("cx",r)},cy(r){return this._queueNumber("cy",r)},move(r,e){return this.x(r).y(e)},amove(r,e){return this.ax(r).ay(e)},center(r,e){return this.cx(r).cy(e)},size(r,e){let t;return r&&e||(t=this._element.bbox()),r||(r=t.width/t.height*e),e||(e=t.height/t.width*r),this.width(r).height(e)},width(r){return this._queueNumber("width",r)},height(r){return this._queueNumber("height",r)},plot(r,e,t,n){if(arguments.length===4)return this.plot([r,e,t,n]);if(this._tryRetarget("plot",r))return this;const s=new tu(this._stepper).type(this._element.MorphArray).to(r);return this.queue(function(){s.from(this._element.array())},function(a){return this._element.plot(s.at(a)),s.done()}),this._rememberMorpher("plot",s),this},leading(r){return this._queueNumber("leading",r)},viewbox(r,e,t,n){return this._queueObject("viewbox",new ys(r,e,t,n))},update(r){return typeof r!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(r.opacity!=null&&this.attr("stop-opacity",r.opacity),r.color!=null&&this.attr("stop-color",r.color),r.offset!=null&&this.attr("offset",r.offset),this)}}),zt(ii,{rx:cN,ry:dN,from:cI,to:dI}),br(ii,"Runner");class Bk extends fi{constructor(e,t=e){super(qr("svg",e),t),this.namespace()}defs(){return this.isRoot()?Mi(this.node.querySelector("defs"))||this.put(new g2):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof yr.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:sN,version:"1.1"}).attr("xmlns:xlink",Fp,b5):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,b5).attr("xmlns:svgjs",null,b5)}root(){return this.isRoot()?this:super.root()}}sr({Container:{nested:Wr(function(){return this.put(new Bk)})}}),br(Bk,"Svg",!0);let zk=class extends fi{constructor(r,e=r){super(qr("symbol",r),e)}};sr({Container:{symbol:Wr(function(){return this.put(new zk)})}}),br(zk,"Symbol");var mI=Object.freeze({__proto__:null,amove:function(r,e){return this.ax(r).ay(e)},ax:function(r){return this.attr("x",r)},ay:function(r){return this.attr("y",r)},build:function(r){return this._build=!!r,this},center:function(r,e,t=this.bbox()){return this.cx(r,t).cy(e,t)},cx:function(r,e=this.bbox()){return r==null?e.cx:this.attr("x",this.attr("x")+r-e.cx)},cy:function(r,e=this.bbox()){return r==null?e.cy:this.attr("y",this.attr("y")+r-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(r,e,t=this.bbox()){return this.x(r,t).y(e,t)},plain:function(r){return this._build===!1&&this.clear(),this.node.appendChild(yr.document.createTextNode(r)),this},x:function(r,e=this.bbox()){return r==null?e.x:this.attr("x",this.attr("x")+r-e.x)},y:function(r,e=this.bbox()){return r==null?e.y:this.attr("y",this.attr("y")+r-e.y)}});class mo extends pi{constructor(e,t=e){super(qr("text",e),t),this.dom.leading=this.dom.leading??new Cr(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new Cr(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const t=this;let n=0;const s=this.dom.leading;this.each(function(a){if(Lk(this.node))return;const i=yr.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=s*new Cr(i);this.dom.newLined&&(this.attr("x",t.attr("x")),this.text()===`
`?n+=o:(this.attr("dy",a?o+n:0),n=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new Cr(e.leading||1.3),this}writeDataToDom(){return WR(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const t=this.node.childNodes;let n=0;e="";for(let s=0,a=t.length;s<a;++s)t[s].nodeName==="textPath"||Lk(t[s])?s===0&&(n=s+1):(s!==n&&t[s].nodeType!==3&&Mi(t[s]).dom.newLined===!0&&(e+=`
`),e+=t[s].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let t=0,n=(e=(e+"").split(`
`)).length;t<n;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}zt(mo,mI),sr({Container:{text:Wr(function(r=""){return this.put(new mo).text(r)}),plain:Wr(function(r=""){return this.put(new mo).plain(r)})}}),br(mo,"Text");class fv extends pi{constructor(e,t=e){super(qr("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof mo))return this;const t=e.index(this),n=yr.window.getComputedStyle(this.node).getPropertyValue("font-size"),s=e.dom.leading*new Cr(n);return this.dy(t?s:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}zt(fv,mI),sr({Tspan:{tspan:Wr(function(r=""){const e=new fv;return this._build||this.clear(),this.put(e).text(r)})},Text:{newLine:function(r=""){return this.tspan(r).newLine()}}}),br(fv,"Tspan");class E5 extends pi{constructor(e,t=e){super(qr("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new Cr(e).divide(2))}}zt(E5,{x:rI,y:nI,cx:sI,cy:aI,width:iI,height:oI}),sr({Container:{circle:Wr(function(r=0){return this.put(new E5).size(r).move(0,0)})}}),br(E5,"Circle");class _5 extends fi{constructor(e,t=e){super(qr("clipPath",e),t)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return dh("svg [clip-path*="+this.id()+"]")}}sr({Container:{clip:Wr(function(){return this.defs().put(new _5)})},Element:{clipper(){return this.reference("clip-path")},clipWith(r){const e=r instanceof _5?r:this.parent().clip().add(r);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),br(_5,"ClipPath");class U7 extends Fs{constructor(e,t=e){super(qr("foreignObject",e),t)}}sr({Container:{foreignObject:Wr(function(r,e){return this.put(new U7).size(r,e)})}}),br(U7,"ForeignObject");var xI=Object.freeze({__proto__:null,dmove:function(r,e){return this.children().forEach(t=>{let n;try{n=t.node instanceof O0().SVGSVGElement?new ys(t.attr(["x","y","width","height"])):t.bbox()}catch{return}const s=new cr(t),a=s.translate(r,e).transform(s.inverse()),i=new Br(n.x,n.y).transform(a);t.move(i.x,i.y)}),this},dx:function(r){return this.dmove(r,0)},dy:function(r){return this.dmove(0,r)},height:function(r,e=this.bbox()){return r==null?e.height:this.size(e.width,r,e)},move:function(r=0,e=0,t=this.bbox()){const n=r-t.x,s=e-t.y;return this.dmove(n,s)},size:function(r,e,t=this.bbox()){const n=Op(this,r,e,t),s=n.width/t.width,a=n.height/t.height;return this.children().forEach(i=>{const o=new Br(t).transform(new cr(i).inverse());i.scale(s,a,o.x,o.y)}),this},width:function(r,e=this.bbox()){return r==null?e.width:this.size(r,e.height,e)},x:function(r,e=this.bbox()){return r==null?e.x:this.move(r,e.y,e)},y:function(r,e=this.bbox()){return r==null?e.y:this.move(e.x,r,e)}});class ld extends fi{constructor(e,t=e){super(qr("g",e),t)}}zt(ld,xI),sr({Container:{group:Wr(function(){return this.put(new ld)})}}),br(ld,"G");class c1 extends fi{constructor(e,t=e){super(qr("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,Fp)}}zt(c1,xI),sr({Container:{link:Wr(function(r){return this.put(new c1).to(r)})},Element:{unlink(){const r=this.linker();if(!r)return this;const e=r.parent();if(!e)return this.remove();const t=e.index(r);return e.add(this,t),r.remove(),this},linkTo(r){let e=this.linker();return e||(e=new c1,this.wrap(e)),typeof r=="function"?r.call(e,e):e.to(r),this},linker(){const r=this.parent();return r&&r.node.nodeName.toLowerCase()==="a"?r:null}}}),br(c1,"A");class j5 extends fi{constructor(e,t=e){super(qr("mask",e),t)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return dh("svg [mask*="+this.id()+"]")}}sr({Container:{mask:Wr(function(){return this.defs().put(new j5)})},Element:{masker(){return this.reference("mask")},maskWith(r){const e=r instanceof j5?r:this.parent().mask().add(r);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),br(j5,"Mask");class $7 extends Fs{constructor(e,t=e){super(qr("stop",e),t)}update(e){return(typeof e=="number"||e instanceof Cr)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new Cr(e.offset)),this}}sr({Gradient:{stop:function(r,e,t){return this.put(new $7).update(r,e,t)}}}),br($7,"Stop");class A5 extends Fs{constructor(e,t=e){super(qr("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,n={}){return this.rule("@font-face",{fontFamily:e,src:t,...n})}rule(e,t){return this.addText(function(n,s){if(!n)return"";if(!s)return n;let a=n+"{";for(const i in s)a+=i.replace(/([A-Z])/g,function(o,c){return"-"+c.toLowerCase()})+":"+s[i]+";";return a+="}",a}(e,t))}}sr("Dom",{style(r,e){return this.put(new A5).rule(r,e)},fontface(r,e,t){return this.put(new A5).font(r,e,t)}}),br(A5,"Style");class T5 extends mo{constructor(e,t=e){super(qr("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let n=null;return t&&(n=t.plot(e)),e==null?n:this}track(){return this.reference("href")}}sr({Container:{textPath:Wr(function(r,e){return r instanceof mo||(r=this.text(r)),r.path(e)})},Text:{path:Wr(function(r,e=!0){const t=new T5;let n;if(r instanceof Ff||(r=this.defs().path(r)),t.attr("href","#"+r,Fp),e)for(;n=this.node.firstChild;)t.node.appendChild(n);return this.put(t)}),textPath(){return this.findOne("textPath")}},Path:{text:Wr(function(r){return r instanceof mo||(r=new mo().addTo(this.parent()).text(r)),r.path(this)}),targets(){return dh("svg textPath").filter(r=>(r.attr("href")||"").includes(this.id()))}}}),T5.prototype.MorphArray=go,br(T5,"TextPath");class V7 extends pi{constructor(e,t=e){super(qr("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,Fp)}}sr({Container:{use:Wr(function(r,e){return this.put(new V7).use(r,e)})}}),br(V7,"Use");const Iee=ca;zt([Bk,zk,dv,Jm,uv],Na("viewbox")),zt([ku,Su,Cu,Ff],Na("marker")),zt(mo,Na("Text")),zt(Ff,Na("Path")),zt(g2,Na("Defs")),zt([mo,fv],Na("Tspan")),zt([hv,cv,hm,ii],Na("radius")),zt(F0,Na("EventTarget")),zt(lp,Na("Dom")),zt(Fs,Na("Element")),zt(pi,Na("Shape")),zt([fi,lI],Na("Container")),zt(hm,Na("Gradient")),zt(ii,Na("Runner")),Zu.extend([...new Set($R)]),function(r=[]){Fk.push(...[].concat(r))}([Cr,sl,ys,cr,Ju,yd,go,Br]),zt(Fk,{to(r){return new tu().type(this.constructor).from(this.toArray()).to(r)},fromArray(r){return this.init(r),this},toConsumable(){return this.toArray()},morph(r,e,t,n,s){return this.fromArray(r.map(function(a,i){return n.step(a,e[i],t,s[i],s)}))}});class tn extends Fs{constructor(e){super(qr("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,t){return!(e=super.put(e,t)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return dh('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class fN extends Fs{constructor(e,t){super(e,t),this.result(this.id())}in(e){if(e==null){const t=this.attr("in");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const ji=r=>function(...e){for(let t=r.length;t--;)e[t]!=null&&this.attr(r[t],e[t])},Oee={blend:ji(["in","in2","mode"]),colorMatrix:ji(["type","values"]),composite:ji(["in","in2","operator"]),convolveMatrix:function(r){r=new Ju(r).toString(),this.attr({order:Math.sqrt(r.split(" ").length),kernelMatrix:r})},diffuseLighting:ji(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:ji(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:ji(["in","dx","dy","stdDeviation"]),flood:ji(["flood-color","flood-opacity"]),gaussianBlur:function(r=0,e=r){this.attr("stdDeviation",r+" "+e)},image:function(r){this.attr("href",r,Fp)},morphology:ji(["operator","radius"]),offset:ji(["dx","dy"]),specularLighting:ji(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:ji([]),turbulence:ji(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(r=>{const e=Ip(r),t=Oee[r];tn[e+"Effect"]=class extends fN{constructor(n){super(qr("fe"+e,n),n)}update(n){return t.apply(this,n),this}},tn.prototype[r]=Wr(function(n,...s){const a=new tn[e+"Effect"];return n==null?this.put(a):(typeof n=="function"?n.call(a,a):s.unshift(n),this.put(a).update(s))})}),zt(tn,{merge(r){const e=this.put(new tn.MergeEffect);return typeof r=="function"?(r.call(e,e),e):((r instanceof Array?r:[...arguments]).forEach(t=>{t instanceof tn.MergeNode?e.put(t):e.mergeNode(t)}),e)},componentTransfer(r={}){const e=this.put(new tn.ComponentTransferEffect);if(typeof r=="function")return r.call(e,e),e;r.r||r.g||r.b||r.a||(r={r,g:r,b:r,a:r});for(const t in r)e.add(new tn["Func"+t.toUpperCase()](r[t]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(r=>{const e=Ip(r);tn[e]=class extends fN{constructor(t){super(qr("fe"+e,t),t)}}});["funcR","funcG","funcB","funcA"].forEach(function(r){const e=tn[Ip(r)],t=Wr(function(){return this.put(new e)});tn.ComponentTransferEffect.prototype[r]=t});["distantLight","pointLight","spotLight"].forEach(r=>{const e=tn[Ip(r)],t=Wr(function(){return this.put(new e)});tn.DiffuseLightingEffect.prototype[r]=t,tn.SpecularLightingEffect.prototype[r]=t}),zt(tn.MergeEffect,{mergeNode(r){return this.put(new tn.MergeNode).attr("in",r)}}),zt(g2,{filter:function(r){const e=this.put(new tn);return typeof r=="function"&&r.call(e,e),e}}),zt(fi,{filter:function(r){return this.defs().filter(r)}}),zt(Fs,{filterWith:function(r){const e=r instanceof tn?r:this.defs().filter(r);return this.attr("filter",e)},unfilter:function(r){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const Fee={blend:function(r,e){return this.parent()&&this.parent().blend(this,r,e)},colorMatrix:function(r,e){return this.parent()&&this.parent().colorMatrix(r,e).in(this)},componentTransfer:function(r){return this.parent()&&this.parent().componentTransfer(r).in(this)},composite:function(r,e){return this.parent()&&this.parent().composite(this,r,e)},convolveMatrix:function(r){return this.parent()&&this.parent().convolveMatrix(r).in(this)},diffuseLighting:function(r,e,t,n){return this.parent()&&this.parent().diffuseLighting(r,t,n).in(this)},displacementMap:function(r,e,t,n){return this.parent()&&this.parent().displacementMap(this,r,e,t,n)},dropShadow:function(r,e,t){return this.parent()&&this.parent().dropShadow(this,r,e,t).in(this)},flood:function(r,e){return this.parent()&&this.parent().flood(r,e)},gaussianBlur:function(r,e){return this.parent()&&this.parent().gaussianBlur(r,e).in(this)},image:function(r){return this.parent()&&this.parent().image(r)},merge:function(r){return r=r instanceof Array?r:[...r],this.parent()&&this.parent().merge(this,...r)},morphology:function(r,e){return this.parent()&&this.parent().morphology(r,e).in(this)},offset:function(r,e){return this.parent()&&this.parent().offset(r,e).in(this)},specularLighting:function(r,e,t,n,s){return this.parent()&&this.parent().specularLighting(r,t,n,s).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(r,e,t,n,s){return this.parent()&&this.parent().turbulence(r,e,t,n,s).in(this)}};zt(fN,Fee),zt(tn.MergeEffect,{in:function(r){return r instanceof tn.MergeNode?this.add(r,0):this.add(new tn.MergeNode().in(r),0),this}}),zt([tn.CompositeEffect,tn.BlendEffect,tn.DisplacementMapEffect],{in2:function(r){if(r==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",r)}}),tn.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var Rs=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return Ct(r,[{key:"getDefaultFilter",value:function(e,t){var n=this.w;e.unfilter(!0),new tn().size("120%","180%","-5%","-40%"),n.config.chart.dropShadow.enabled&&this.dropShadow(e,n.config.chart.dropShadow,t)}},{key:"applyFilter",value:function(e,t,n){var s,a=this,i=this.w;if(e.unfilter(!0),n!=="none"){var o,c,d=i.config.chart.dropShadow,u=n==="lighten"?2:.3;e.filterWith(function(h){h.colorMatrix({type:"matrix",values:`
          `.concat(u,` 0 0 0 0
          0 `).concat(u,` 0 0 0
          0 0 `).concat(u,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),d.enabled&&a.addShadow(h,t,d,"brightness")}),!d.noUserSpaceOnUse&&((o=e.filterer())===null||o===void 0||(c=o.node)===null||c===void 0||c.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((s=e.filterer())===null||s===void 0?void 0:s.node)}else this.getDefaultFilter(e,t)}},{key:"addShadow",value:function(e,t,n,s){var a,i=this.w,o=n.blur,c=n.top,d=n.left,u=n.color,h=n.opacity;if(u=Array.isArray(u)?u[t]:u,((a=i.config.chart.dropShadow.enabledOnSeries)===null||a===void 0?void 0:a.length)>0&&i.config.chart.dropShadow.enabledOnSeries.indexOf(t)===-1)return e;e.offset({in:s,dx:d,dy:c,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:o,result:"blur"}),e.flood({"flood-color":u,"flood-opacity":h,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",s])}},{key:"dropShadow",value:function(e,t){var n,s,a,i,o,c=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=this.w;return e.unfilter(!0),ye.isMsEdge()&&u.config.chart.type==="radialBar"||((n=u.config.chart.dropShadow.enabledOnSeries)===null||n===void 0?void 0:n.length)>0&&((a=u.config.chart.dropShadow.enabledOnSeries)===null||a===void 0?void 0:a.indexOf(d))===-1?e:(e.filterWith(function(h){c.addShadow(h,d,t,"SourceGraphic")}),t.noUserSpaceOnUse||(i=e.filterer())===null||i===void 0||(o=i.node)===null||o===void 0||o.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((s=e.filterer())===null||s===void 0?void 0:s.node),e)}},{key:"setSelectionFilter",value:function(e,t,n){var s=this.w;if(s.globals.selectedDataPoints[t]!==void 0&&s.globals.selectedDataPoints[t].indexOf(n)>-1){e.node.setAttribute("selected",!0);var a=s.config.states.active.filter;a!=="none"&&this.applyFilter(e,t,a.type)}}},{key:"_scaleFilterSize",value:function(e){e&&function(t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),r}(),Ge=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return Ct(r,[{key:"roundPathCorners",value:function(e,t){function n(E,R,O){var L=R.x-E.x,D=R.y-E.y,F=Math.sqrt(L*L+D*D);return s(E,R,Math.min(1,O/F))}function s(E,R,O){return{x:E.x+(R.x-E.x)*O,y:E.y+(R.y-E.y)*O}}function a(E,R){E.length>2&&(E[E.length-2]=R.x,E[E.length-1]=R.y)}function i(E){return{x:parseFloat(E[E.length-2]),y:parseFloat(E[E.length-1])}}e.indexOf("NaN")>-1&&(e="");var o=e.split(/[,\s]/).reduce(function(E,R){var O=R.match("([a-zA-Z])(.+)");return O?(E.push(O[1]),E.push(O[2])):E.push(R),E},[]).reduce(function(E,R){return parseFloat(R)==R&&E.length?E[E.length-1].push(R):E.push([R]),E},[]),c=[];if(o.length>1){var d=i(o[0]),u=null;o[o.length-1][0]=="Z"&&o[0].length>2&&(u=["L",d.x,d.y],o[o.length-1]=u),c.push(o[0]);for(var h=1;h<o.length;h++){var f=c[c.length-1],p=o[h],g=p==u?o[1]:o[h+1];if(g&&f&&f.length>2&&p[0]=="L"&&g.length>2&&g[0]=="L"){var m,v,x=i(f),y=i(p),w=i(g);m=n(y,x,t),v=n(y,w,t),a(p,m),p.origPoint=y,c.push(p);var k=s(m,y,.5),S=s(y,v,.5),N=["C",k.x,k.y,S.x,S.y,v.x,v.y];N.origPoint=y,c.push(N)}else c.push(p)}if(u){var A=i(c[c.length-1]);c.push(["Z"]),a(c[0],A)}}else c=o;return c.reduce(function(E,R){return E+R.join(" ")+" "},"")}},{key:"drawLine",value:function(e,t,n,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:n,y2:s,stroke:a,"stroke-dasharray":i,"stroke-width":o,"stroke-linecap":c})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,d=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,u=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,h=this.w.globals.dom.Paper.rect();return h.attr({x:e,y:t,width:n>0?n:0,height:s>0?s:0,rx:a,ry:a,opacity:o,"stroke-width":c!==null?c:0,stroke:d!==null?d:"none","stroke-dasharray":u}),h.node.setAttribute("fill",i),h}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:s,stroke:t,"stroke-width":n})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var n=this.w.globals.dom.Paper.circle(2*e);return t!==null&&n.attr(t),n}},{key:"drawPath",value:function(e){var t=e.d,n=t===void 0?"":t,s=e.stroke,a=s===void 0?"#a8a8a8":s,i=e.strokeWidth,o=i===void 0?1:i,c=e.fill,d=e.fillOpacity,u=d===void 0?1:d,h=e.strokeOpacity,f=h===void 0?1:h,p=e.classes,g=e.strokeLinecap,m=g===void 0?null:g,v=e.strokeDashArray,x=v===void 0?0:v,y=this.w;return m===null&&(m=y.config.stroke.lineCap),(n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n="M 0 ".concat(y.globals.gridHeight)),y.globals.dom.Paper.path(n).attr({fill:c,"fill-opacity":u,stroke:a,"stroke-opacity":f,"stroke-linecap":m,"stroke-width":o,"stroke-dasharray":x,class:p})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w.globals.dom.Paper.group();return e!==null&&t.attr(e),t}},{key:"move",value:function(e,t){var n=["M",e,t].join(" ");return n}},{key:"line",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=null;return n===null?s=[" L",e,t].join(" "):n==="H"?s=[" H",e].join(" "):n==="V"&&(s=[" V",t].join(" ")),s}},{key:"curve",value:function(e,t,n,s,a,i){var o=["C",e,t,n,s,a,i].join(" ");return o}},{key:"quadraticCurve",value:function(e,t,n,s){return["Q",e,t,n,s].join(" ")}},{key:"arc",value:function(e,t,n,s,a,i,o){var c="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(c="a");var d=[c,e,t,n,s,a,i,o].join(" ");return d}},{key:"renderPaths",value:function(e){var t,n=e.j,s=e.realIndex,a=e.pathFrom,i=e.pathTo,o=e.stroke,c=e.strokeWidth,d=e.strokeLinecap,u=e.fill,h=e.animationDelay,f=e.initialSpeed,p=e.dataChangeSpeed,g=e.className,m=e.chartType,v=e.shouldClipToGrid,x=v===void 0||v,y=e.bindEventsOnPaths,w=y===void 0||y,k=e.drawShadow,S=k===void 0||k,N=this.w,A=new Rs(this.ctx),E=new Rp(this.ctx),R=this.w.config.chart.animations.enabled,O=R&&this.w.config.chart.animations.dynamicAnimation.enabled,L=!!(R&&!N.globals.resized||O&&N.globals.dataChanged&&N.globals.shouldAnimate);L?t=a:(t=i,N.globals.animationEnded=!0);var D=N.config.stroke.dashArray,F=0;F=Array.isArray(D)?D[s]:N.config.stroke.dashArray;var M=this.drawPath({d:t,stroke:o,strokeWidth:c,fill:u,fillOpacity:1,classes:g,strokeLinecap:d,strokeDashArray:F});M.attr("index",s),x&&(m==="bar"&&!N.globals.isHorizontal||N.globals.comboCharts?M.attr({"clip-path":"url(#gridRectBarMask".concat(N.globals.cuid,")")}):M.attr({"clip-path":"url(#gridRectMask".concat(N.globals.cuid,")")})),N.config.chart.dropShadow.enabled&&S&&A.dropShadow(M,N.config.chart.dropShadow,s),w&&(M.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,M)),M.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,M)),M.node.addEventListener("mousedown",this.pathMouseDown.bind(this,M))),M.attr({pathTo:i,pathFrom:a});var B={el:M,j:n,realIndex:s,pathFrom:a,pathTo:i,fill:u,strokeWidth:c,delay:h};return!R||N.globals.resized||N.globals.dataChanged?!N.globals.resized&&N.globals.dataChanged||E.showDelayedElements():E.animatePathsGradually(dt(dt({},B),{},{speed:f})),N.globals.dataChanged&&O&&L&&E.animatePathsGradually(dt(dt({},B),{},{speed:p})),M}},{key:"drawPattern",value:function(e,t,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,n,function(i){e==="horizontalLines"?i.line(0,0,n,0).stroke({color:s,width:a+1}):e==="verticalLines"?i.line(0,0,0,t).stroke({color:s,width:a+1}):e==="slantedLines"?i.line(0,0,t,n).stroke({color:s,width:a}):e==="squares"?i.rect(t,n).fill("none").stroke({color:s,width:a}):e==="circles"&&i.circle(t).fill("none").stroke({color:s,width:a})})}},{key:"drawGradient",value:function(e,t,n,s,a){var i,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,h=this.w;t.length<9&&t.indexOf("#")===0&&(t=ye.hexToRgba(t,s)),n.length<9&&n.indexOf("#")===0&&(n=ye.hexToRgba(n,a));var f=0,p=1,g=1,m=null;c!==null&&(f=c[0]!==void 0?c[0]/100:0,p=c[1]!==void 0?c[1]/100:1,g=c[2]!==void 0?c[2]/100:1,m=c[3]!==void 0?c[3]/100:null);var v=!(h.config.chart.type!=="donut"&&h.config.chart.type!=="pie"&&h.config.chart.type!=="polarArea"&&h.config.chart.type!=="bubble");if(i=d&&d.length!==0?h.globals.dom.Paper.gradient(v?"radial":"linear",function(w){(Array.isArray(d[u])?d[u]:d).forEach(function(k){w.stop(k.offset/100,k.color,k.opacity)})}):h.globals.dom.Paper.gradient(v?"radial":"linear",function(w){w.stop(f,t,s),w.stop(p,n,a),w.stop(g,n,a),m!==null&&w.stop(m,t,s)}),v){var x=h.globals.gridWidth/2,y=h.globals.gridHeight/2;h.config.chart.type!=="bubble"?i.attr({gradientUnits:"userSpaceOnUse",cx:x,cy:y,r:o}):i.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?i.from(0,0).to(0,1):e==="diagonal"?i.from(0,0).to(1,1):e==="horizontal"?i.from(0,1).to(1,1):e==="diagonal2"&&i.from(1,0).to(0,1);return i}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,n=e.maxWidth,s=e.fontSize,a=e.fontFamily,i=this.getTextRects(t,s,a),o=i.width/t.length,c=Math.floor(n/o);return n<i.width?t.slice(0,c-3)+"...":t}},{key:"drawText",value:function(e){var t=this,n=e.x,s=e.y,a=e.text,i=e.textAnchor,o=e.fontSize,c=e.fontFamily,d=e.fontWeight,u=e.foreColor,h=e.opacity,f=e.maxWidth,p=e.cssClass,g=p===void 0?"":p,m=e.isPlainText,v=m===void 0||m,x=e.dominantBaseline,y=x===void 0?"auto":x,w=this.w;a===void 0&&(a="");var k=a;i||(i="start"),u&&u.length||(u=w.config.chart.foreColor),c=c||w.config.chart.fontFamily,d=d||"regular";var S,N={maxWidth:f,fontSize:o=o||"11px",fontFamily:c};return Array.isArray(a)?S=w.globals.dom.Paper.text(function(A){for(var E=0;E<a.length;E++)k=a[E],f&&(k=t.getTextBasedOnMaxWidth(dt({text:a[E]},N))),E===0?A.tspan(k):A.tspan(k).newLine()}):(f&&(k=this.getTextBasedOnMaxWidth(dt({text:a},N))),S=v?w.globals.dom.Paper.plain(a):w.globals.dom.Paper.text(function(A){return A.tspan(k)})),S.attr({x:n,y:s,"text-anchor":i,"dominant-baseline":y,"font-size":o,"font-family":c,"font-weight":d,fill:u,class:"apexcharts-text "+g}),S.node.style.fontFamily=c,S.node.style.opacity=h,S}},{key:"getMarkerPath",value:function(e,t,n,s){var a="";switch(n){case"cross":a="M ".concat(e-(s/=1.4)," ").concat(t-s," L ").concat(e+s," ").concat(t+s,"  M ").concat(e-s," ").concat(t+s," L ").concat(e+s," ").concat(t-s);break;case"plus":a="M ".concat(e-(s/=1.12)," ").concat(t," L ").concat(e+s," ").concat(t,"  M ").concat(e," ").concat(t-s," L ").concat(e," ").concat(t+s);break;case"star":case"sparkle":var i=5;s*=1.15,n==="sparkle"&&(s/=1.1,i=4);for(var o=Math.PI/i,c=0;c<=2*i;c++){var d=c*o,u=c%2==0?s:s/2;a+=(c===0?"M":"L")+(e+u*Math.sin(d))+","+(t-u*Math.cos(d))}a+="Z";break;case"triangle":a="M ".concat(e," ").concat(t-s,` 
             L `).concat(e+s," ").concat(t+s,` 
             L `).concat(e-s," ").concat(t+s,` 
             Z`);break;case"square":case"rect":a="M ".concat(e-(s/=1.125)," ").concat(t-s,` 
           L `).concat(e+s," ").concat(t-s,` 
           L `).concat(e+s," ").concat(t+s,` 
           L `).concat(e-s," ").concat(t+s,` 
           Z`);break;case"diamond":s*=1.05,a="M ".concat(e," ").concat(t-s,` 
             L `).concat(e+s," ").concat(t,` 
             L `).concat(e," ").concat(t+s,` 
             L `).concat(e-s," ").concat(t,` 
            Z`);break;case"line":a="M ".concat(e-(s/=1.1)," ").concat(t,` 
           L `).concat(e+s," ").concat(t);break;default:s*=2,a="M ".concat(e,", ").concat(t,` 
           m -`).concat(s/2,`, 0 
           a `).concat(s/2,",").concat(s/2," 0 1,0 ").concat(s,`,0 
           a `).concat(s/2,",").concat(s/2," 0 1,0 -").concat(s,",0")}return a}},{key:"drawMarkerShape",value:function(e,t,n,s,a){var i=this.drawPath({d:this.getMarkerPath(e,t,n,s,a),stroke:a.pointStrokeColor,strokeDashArray:a.pointStrokeDashArray,strokeWidth:a.pointStrokeWidth,fill:a.pointFillColor,fillOpacity:a.pointFillOpacity,strokeOpacity:a.pointStrokeOpacity});return i.attr({cx:e,cy:t,shape:a.shape,class:a.class?a.class:""}),i}},{key:"drawMarker",value:function(e,t,n){e=e||0;var s=n.pSize||0;return ye.isNumber(t)||(s=0,t=0),this.drawMarkerShape(e,t,n==null?void 0:n.shape,s,dt(dt({},n),n.shape==="line"||n.shape==="plus"||n.shape==="cross"?{pointStrokeColor:n.pointFillColor,pointStrokeOpacity:n.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var n=this.w,s=new Rs(this.ctx),a=parseInt(e.node.getAttribute("index"),10),i=parseInt(e.node.getAttribute("j"),10);if(typeof n.config.chart.events.dataPointMouseEnter=="function"&&n.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:a,dataPointIndex:i,w:n}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:a,dataPointIndex:i,w:n}]),(n.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&n.config.states.hover.filter.type!=="none"&&!n.globals.isTouchDevice){var o=n.config.states.hover.filter;s.applyFilter(e,a,o.type)}}},{key:"pathMouseLeave",value:function(e,t){var n=this.w,s=new Rs(this.ctx),a=parseInt(e.node.getAttribute("index"),10),i=parseInt(e.node.getAttribute("j"),10);typeof n.config.chart.events.dataPointMouseLeave=="function"&&n.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:a,dataPointIndex:i,w:n}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:a,dataPointIndex:i,w:n}]),n.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||n.config.states.hover.filter.type!=="none"&&s.getDefaultFilter(e,a)}},{key:"pathMouseDown",value:function(e,t){var n=this.w,s=new Rs(this.ctx),a=parseInt(e.node.getAttribute("index"),10),i=parseInt(e.node.getAttribute("j"),10),o="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),n.globals.selectedDataPoints[a].indexOf(i)>-1){var c=n.globals.selectedDataPoints[a].indexOf(i);n.globals.selectedDataPoints[a].splice(c,1)}}else{if(!n.config.states.active.allowMultipleDataPointsSelection&&n.globals.selectedDataPoints.length>0){n.globals.selectedDataPoints=[];var d=n.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),u=n.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),h=function(g){Array.prototype.forEach.call(g,function(m){m.node.setAttribute("selected","false"),s.getDefaultFilter(m,a)})};h(d),h(u)}e.node.setAttribute("selected","true"),o="true",n.globals.selectedDataPoints[a]===void 0&&(n.globals.selectedDataPoints[a]=[]),n.globals.selectedDataPoints[a].push(i)}if(o==="true"){var f=n.config.states.active.filter;if(f!=="none")s.applyFilter(e,a,f.type);else if(n.config.states.hover.filter!=="none"&&!n.globals.isTouchDevice){var p=n.config.states.hover.filter;s.applyFilter(e,a,p.type)}}else n.config.states.active.filter.type!=="none"&&(n.config.states.hover.filter.type==="none"||n.globals.isTouchDevice?s.getDefaultFilter(e,a):(p=n.config.states.hover.filter,s.applyFilter(e,a,p.type)));typeof n.config.chart.events.dataPointSelection=="function"&&n.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:i,w:n}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:i,w:n}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&typeof e.getBBox=="function"&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,n,s){var a=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],i=this.w,o=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:n,foreColor:"#fff",opacity:0});s&&o.attr("transform",s),i.globals.dom.Paper.add(o);var c=o.bbox();return a||(c=o.node.getBoundingClientRect()),o.remove(),{width:c.width,height:c.height}}},{key:"placeTextWithEllipsis",value:function(e,t,n){if(typeof e.getComputedTextLength=="function"&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=n/1.1)){for(var s=t.length-3;s>0;s-=3)if(e.getSubStringLength(0,s)<=n/1.1)return void(e.textContent=t.substring(0,s)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}}]),r}(),Pn=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return Ct(r,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.w,n=[];if(t.globals.series.length===0)return n;for(var s=0;s<t.globals.series[t.globals.maxValsInArrayIndex].length;s++){for(var a=0,i=0;i<t.globals.series.length;i++)t.globals.series[i][s]!==void 0&&e.indexOf(i)===-1&&(a+=t.globals.series[i][s]);n.push(a)}return n}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce(function(t,n){return t+n},0):this.w.globals.series[e].reduce(function(t,n){return t+n},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,n=[];return t.globals.seriesGroups.forEach(function(s){var a=[];t.config.series.forEach(function(o,c){s.indexOf(t.globals.seriesNames[c])>-1&&a.push(c)});var i=t.globals.series.map(function(o,c){return a.indexOf(c)===-1?c:-1}).filter(function(o){return o!==-1});n.push(e.getStackedSeriesTotals(i))}),n}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,n=[],s=[],a=[],i=e.series.length>t.yaxis.length||t.yaxis.some(function(h){return Array.isArray(h.seriesName)});t.series.forEach(function(h,f){a.push(f),s.push(null)}),t.yaxis.forEach(function(h,f){n[f]=[]});var o=[];t.yaxis.forEach(function(h,f){var p=!1;if(h.seriesName){var g=[];Array.isArray(h.seriesName)?g=h.seriesName:g.push(h.seriesName),g.forEach(function(m){t.series.forEach(function(v,x){if(v.name===m){var y=x;f===x||i?!i||a.indexOf(x)>-1?n[f].push([f,x]):console.warn("Series '"+v.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(n[x].push([x,f]),y=f),p=!0,(y=a.indexOf(y))!==-1&&a.splice(y,1)}})})}p||o.push(f)}),n=n.map(function(h,f){var p=[];return h.forEach(function(g){s[g[1]]=g[0],p.push(g[1])}),p});for(var c=t.yaxis.length-1,d=0;d<o.length&&(c=o[d],n[c]=[],a);d++){var u=a[0];a.shift(),n[c].push(u),s[u]=c}a.forEach(function(h){n[c].push(h),s[h]=c}),e.seriesYAxisMap=n.map(function(h){return h}),e.seriesYAxisReverseMap=s.map(function(h){return h}),e.seriesYAxisMap.forEach(function(h,f){h.forEach(function(p){t.series[p]&&t.series[p].group===void 0&&(t.series[p].group="apexcharts-axis-".concat(f.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter(function(t){return t!==null}):this.w.config.series[e].data.filter(function(t){return t!==null})).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(t,n,s){return t===s[0]})}},{key:"getCategoryLabels",value:function(e){var t=this.w,n=e.slice();return t.config.xaxis.convertedCatToNumeric&&(n=e.map(function(s,a){return t.config.xaxis.labels.formatter(s-t.globals.minX+1)})),n}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(t){return t.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(t){return t.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach(function(n){t=Math.max(t,n)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(n){t=Math.max(t,n.size)}),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(t,n){var s=0;if(Array.isArray(t))for(var a=0;a<t.length;a++)s+=t[a];else s+=t;return s})}},{key:"getSeriesTotalsXRange",value:function(e,t){var n=this.w;return n.globals.series.map(function(s,a){for(var i=0,o=0;o<s.length;o++)n.globals.seriesX[a][o]>e&&n.globals.seriesX[a][o]<t&&(i+=s[o]);return i})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(t,n){var s=[];if(Array.isArray(t))for(var a=0;a<t.length;a++){var i=e.globals.stackedSeriesTotals[a],o=0;i&&(o=100*t[a]/i),s.push(o)}else{var c=100*t/e.globals.seriesTotals.reduce(function(d,u){return d+u},0);s.push(c)}return s})}},{key:"getCalculatedRatios",value:function(){var e,t,n,s=this,a=this.w,i=a.globals,o=[],c=0,d=[],u=.1,h=0;if(i.yRange=[],i.isMultipleYAxis)for(var f=0;f<i.minYArr.length;f++)i.yRange.push(Math.abs(i.minYArr[f]-i.maxYArr[f])),d.push(0);else i.yRange.push(Math.abs(i.minY-i.maxY));i.xRange=Math.abs(i.maxX-i.minX),i.zRange=Math.abs(i.maxZ-i.minZ);for(var p=0;p<i.yRange.length;p++)o.push(i.yRange[p]/i.gridHeight);if(t=i.xRange/i.gridWidth,e=i.yRange/i.gridWidth,n=i.xRange/i.gridHeight,(c=i.zRange/i.gridHeight*16)||(c=1),i.minY!==Number.MIN_VALUE&&Math.abs(i.minY)!==0&&(i.hasNegs=!0),a.globals.seriesYAxisReverseMap.length>0){var g=function(v,x){var y=a.config.yaxis[a.globals.seriesYAxisReverseMap[x]],w=v<0?-1:1;return v=Math.abs(v),y.logarithmic&&(v=s.getBaseLog(y.logBase,v)),-w*v/o[x]};if(i.isMultipleYAxis){d=[];for(var m=0;m<o.length;m++)d.push(g(i.minYArr[m],m))}else(d=[]).push(g(i.minY,0)),i.minY!==Number.MIN_VALUE&&Math.abs(i.minY)!==0&&(u=-i.minY/e,h=i.minX/t)}else(d=[]).push(0),u=0,h=0;return{yRatio:o,invertedYRatio:e,zRatio:c,xRatio:t,invertedXRatio:n,baseLineInvertedY:u,baseLineY:d,baseLineX:h}}},{key:"getLogSeries",value:function(e){var t=this,n=this.w;return n.globals.seriesLog=e.map(function(s,a){var i=n.globals.seriesYAxisReverseMap[a];return n.config.yaxis[i]&&n.config.yaxis[i].logarithmic?s.map(function(o){return o===null?null:t.getLogVal(n.config.yaxis[i].logBase,o,a)}):s}),n.globals.invalidLogScale?e:n.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,t){if(e===null)return null;var n=this.w,s=n.globals.seriesYAxisReverseMap[t];return n.config.yaxis[s]&&n.config.yaxis[s].logarithmic?this.getLogVal(n.config.yaxis[s].logBase,e,t):e}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,n){if(t<=0)return 0;var s=this.w,a=s.globals.minYArr[n]===0?-1:this.getBaseLog(e,s.globals.minYArr[n]),i=(s.globals.maxYArr[n]===0?0:this.getBaseLog(e,s.globals.maxYArr[n]))-a;return t<1?t/i:(this.getBaseLog(e,t)-a)/i}},{key:"getLogYRatios",value:function(e){var t=this,n=this.w,s=this.w.globals;return s.yLogRatio=e.slice(),s.logYRange=s.yRange.map(function(a,i){var o=n.globals.seriesYAxisReverseMap[i];if(n.config.yaxis[o]&&t.w.config.yaxis[o].logarithmic){var c,d=-Number.MAX_VALUE,u=Number.MIN_VALUE;return s.seriesLog.forEach(function(h,f){h.forEach(function(p){n.config.yaxis[f]&&n.config.yaxis[f].logarithmic&&(d=Math.max(p,d),u=Math.min(p,u))})}),c=Math.pow(s.yRange[i],Math.abs(u-d)/s.yRange[i]),s.yLogRatio[i]=c/s.gridHeight,c}}),s.invalidLogScale?e.slice():s.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,n,s){var a=this.w,i=[];return e.series.length>0&&t.forEach(function(o){var c=[],d=[];e.i.forEach(function(u,h){a.config.series[u].group===o&&(c.push(e.series[h]),d.push(u))}),c.length>0&&i.push(s.draw(c,n,d))}),i}}],[{key:"checkComboSeries",value:function(e,t){var n=!1,s=0,a=0;return t===void 0&&(t="line"),e.length&&e[0].type!==void 0&&e.forEach(function(i){i.type!=="bar"&&i.type!=="column"&&i.type!=="candlestick"&&i.type!=="boxPlot"||s++,i.type!==void 0&&i.type!==t&&a++}),a>0&&(n=!0),{comboBarCount:s,comboCharts:n}}},{key:"extendArrayProps",value:function(e,t,n){var s,a,i,o,c,d;return(s=t)!==null&&s!==void 0&&s.yaxis&&(t=e.extendYAxis(t,n)),(a=t)!==null&&a!==void 0&&a.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(i=t)!==null&&i!==void 0&&(o=i.annotations)!==null&&o!==void 0&&o.xaxis&&(t=e.extendXAxisAnnotations(t)),(c=t)!==null&&c!==void 0&&(d=c.annotations)!==null&&d!==void 0&&d.points&&(t=e.extendPointAnnotations(t))),t}}]),r}(),m2=function(){function r(e){kt(this,r),this.w=e.w,this.annoCtx=e}return Ct(r,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.w;if(e.label.orientation==="vertical"){var s=t!==null?t:0,a=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(s,"']"));if(a!==null){var i=a.getBoundingClientRect();a.setAttribute("x",parseFloat(a.getAttribute("x"))-i.height+4);var o=e.label.position==="top"?i.width:-i.width;a.setAttribute("y",parseFloat(a.getAttribute("y"))+o);var c=this.annoCtx.graphics.rotateAroundCenter(a),d=c.x,u=c.y;a.setAttribute("transform","rotate(-90 ".concat(d," ").concat(u,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var n=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var s=n.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),a=e.getBoundingClientRect(),i=t.label.style.padding,o=i.left,c=i.right,d=i.top,u=i.bottom;if(t.label.orientation==="vertical"){var h=[o,c,d,u];d=h[0],u=h[1],o=h[2],c=h[3]}var f=a.left-s.left-o,p=a.top-s.top-d,g=this.annoCtx.graphics.drawRect(f-n.globals.barPadForNumericAxis,p,a.width+o+c,a.height+d+u,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&g.node.classList.add(t.id),g}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,n=function(s,a,i){var o=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-annotations .apexcharts-").concat(i,"-annotation-label[rel='").concat(a,"']"));if(o){var c=o.parentNode,d=e.addBackgroundToAnno(o,s);d&&(c.insertBefore(d.node,o),s.label.mouseEnter&&d.node.addEventListener("mouseenter",s.label.mouseEnter.bind(e,s)),s.label.mouseLeave&&d.node.addEventListener("mouseleave",s.label.mouseLeave.bind(e,s)),s.label.click&&d.node.addEventListener("click",s.label.click.bind(e,s)))}};t.config.annotations.xaxis.forEach(function(s,a){return n(s,a,"xaxis")}),t.config.annotations.yaxis.forEach(function(s,a){return n(s,a,"yaxis")}),t.config.annotations.points.forEach(function(s,a){return n(s,a,"point")})}},{key:"getY1Y2",value:function(e,t){var n,s=this.w,a=e==="y1"?t.y:t.y2,i=!1;if(this.annoCtx.invertAxis){var o=s.config.xaxis.convertedCatToNumeric?s.globals.categoryLabels:s.globals.labels,c=o.indexOf(a),d=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(c+1,")"));n=d?parseFloat(d.getAttribute("y")):(s.globals.gridHeight/o.length-1)*(c+1)-s.globals.barHeight,t.seriesIndex!==void 0&&s.globals.barHeight&&(n-=s.globals.barHeight/2*(s.globals.series.length-1)-s.globals.barHeight*t.seriesIndex)}else{var u,h=s.globals.seriesYAxisMap[t.yAxisIndex][0],f=s.config.yaxis[t.yAxisIndex].logarithmic?new Pn(this.annoCtx.ctx).getLogVal(s.config.yaxis[t.yAxisIndex].logBase,a,h)/s.globals.yLogRatio[h]:(a-s.globals.minYArr[h])/(s.globals.yRange[h]/s.globals.gridHeight);n=s.globals.gridHeight-Math.min(Math.max(f,0),s.globals.gridHeight),i=f>s.globals.gridHeight||f<0,!t.marker||t.y!==void 0&&t.y!==null||(n=0),(u=s.config.yaxis[t.yAxisIndex])!==null&&u!==void 0&&u.reversed&&(n=f)}return typeof a=="string"&&a.includes("px")&&(n=parseFloat(a)),{yP:n,clipped:i}}},{key:"getX1X2",value:function(e,t){var n=this.w,s=e==="x1"?t.x:t.x2,a=this.annoCtx.invertAxis?n.globals.minY:n.globals.minX,i=this.annoCtx.invertAxis?n.globals.maxY:n.globals.maxX,o=this.annoCtx.invertAxis?n.globals.yRange[0]:n.globals.xRange,c=!1,d=this.annoCtx.inversedReversedAxis?(i-s)/(o/n.globals.gridWidth):(s-a)/(o/n.globals.gridWidth);return n.config.xaxis.type!=="category"&&!n.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||n.globals.dataFormatXNumeric||n.config.chart.sparkline.enabled||(d=this.getStringX(s)),typeof s=="string"&&s.includes("px")&&(d=parseFloat(s)),s==null&&t.marker&&(d=n.globals.gridWidth),t.seriesIndex!==void 0&&n.globals.barWidth&&!this.annoCtx.invertAxis&&(d-=n.globals.barWidth/2*(n.globals.series.length-1)-n.globals.barWidth*t.seriesIndex),d>n.globals.gridWidth?(d=n.globals.gridWidth,c=!0):d<0&&(d=0,c=!0),{x:d,clipped:c}}},{key:"getStringX",value:function(e){var t=this.w,n=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var s=t.globals.labels.map(function(i){return Array.isArray(i)?i.join(" "):i}).indexOf(e),a=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(s+1,")"));return a&&(n=parseFloat(a.getAttribute("x"))),n}}]),r}(),Bee=function(){function r(e){kt(this,r),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new m2(this.annoCtx)}return Ct(r,[{key:"addXaxisAnnotation",value:function(e,t,n){var s,a=this.w,i=this.helpers.getX1X2("x1",e),o=i.x,c=i.clipped,d=!0,u=e.label.text,h=e.strokeDashArray;if(ye.isNumber(o)){if(e.x2===null||e.x2===void 0){if(!c){var f=this.annoCtx.graphics.drawLine(o+e.offsetX,0+e.offsetY,o+e.offsetX,a.globals.gridHeight+e.offsetY,e.borderColor,h,e.borderWidth);t.appendChild(f.node),e.id&&f.node.classList.add(e.id)}}else{var p=this.helpers.getX1X2("x2",e);if(s=p.x,d=p.clipped,s<o){var g=o;o=s,s=g}var m=this.annoCtx.graphics.drawRect(o+e.offsetX,0+e.offsetY,s-o,a.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,h);m.node.classList.add("apexcharts-annotation-rect"),m.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),t.appendChild(m.node),e.id&&m.node.classList.add(e.id)}if(!c||!d){var v=this.annoCtx.graphics.getTextRects(u,parseFloat(e.label.style.fontSize)),x=e.label.position==="top"?4:e.label.position==="center"?a.globals.gridHeight/2+(e.label.orientation==="vertical"?v.width/2:0):a.globals.gridHeight,y=this.annoCtx.graphics.drawText({x:o+e.label.offsetX,y:x+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?v.width/2-12:-v.width/2:0),text:u,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});y.attr({rel:n}),t.appendChild(y.node),this.annoCtx.helpers.setOrientations(e,n)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(s,a){e.addXaxisAnnotation(s,n.node,a)}),n}}]),r}(),Ls=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return Ct(r,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var n=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return n=this.getTimeStamp(n)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var n=this.w.globals.locale,s=this.w.config.xaxis.labels.datetimeUTC,a=["\0"].concat(cs(n.months)),i=[""].concat(cs(n.shortMonths)),o=[""].concat(cs(n.days)),c=[""].concat(cs(n.shortDays));function d(E,R){var O=E+"";for(R=R||2;O.length<R;)O="0"+O;return O}var u=s?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+u)).replace(/(^|[^\\])yy/g,"$1"+u.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+u);var h=(s?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+a[0])).replace(/(^|[^\\])MMM/g,"$1"+i[0])).replace(/(^|[^\\])MM/g,"$1"+d(h))).replace(/(^|[^\\])M/g,"$1"+h);var f=s?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+o[0])).replace(/(^|[^\\])ddd/g,"$1"+c[0])).replace(/(^|[^\\])dd/g,"$1"+d(f))).replace(/(^|[^\\])d/g,"$1"+f);var p=s?e.getUTCHours():e.getHours(),g=p>12?p-12:p===0?12:p;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+d(p))).replace(/(^|[^\\])H/g,"$1"+p)).replace(/(^|[^\\])hh+/g,"$1"+d(g))).replace(/(^|[^\\])h/g,"$1"+g);var m=s?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+d(m))).replace(/(^|[^\\])m/g,"$1"+m);var v=s?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+d(v))).replace(/(^|[^\\])s/g,"$1"+v);var x=s?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+d(x,3)),x=Math.round(x/10),t=t.replace(/(^|[^\\])ff/g,"$1"+d(x)),x=Math.round(x/10);var y=p<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+x)).replace(/(^|[^\\])TT+/g,"$1"+y)).replace(/(^|[^\\])T/g,"$1"+y.charAt(0));var w=y.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+w)).replace(/(^|[^\\])t/g,"$1"+w.charAt(0));var k=-e.getTimezoneOffset(),S=s||!k?"Z":k>0?"+":"-";if(!s){var N=(k=Math.abs(k))%60;S+=d(Math.floor(k/60))+":"+d(N)}t=t.replace(/(^|[^\\])K/g,"$1"+S);var A=(s?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(o[0],"g"),o[A])).replace(new RegExp(c[0],"g"),c[A])).replace(new RegExp(a[0],"g"),a[h])).replace(new RegExp(i[0],"g"),i[h])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,n){var s=this.w;s.config.xaxis.min!==void 0&&(e=s.config.xaxis.min),s.config.xaxis.max!==void 0&&(t=s.config.xaxis.max);var a=this.getDate(e),i=this.getDate(t),o=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" "),c=this.formatDate(i,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(o[6],10),maxMillisecond:parseInt(c[6],10),minSecond:parseInt(o[5],10),maxSecond:parseInt(c[5],10),minMinute:parseInt(o[4],10),maxMinute:parseInt(c[4],10),minHour:parseInt(o[3],10),maxHour:parseInt(c[3],10),minDate:parseInt(o[2],10),maxDate:parseInt(c[2],10),minMonth:parseInt(o[1],10)-1,maxMonth:parseInt(c[1],10)-1,minYear:parseInt(o[0],10),maxYear:parseInt(c[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,n){return this.determineDaysOfMonths(e,t)-n}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,n){var s=this.daysCntOfYear[t]+n;return t>1&&this.isLeapYear()&&s++,s}},{key:"determineDaysOfMonths",value:function(e,t){var n=30;switch(e=ye.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(n=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:n=31}return n}}]),r}(),z0=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return Ct(r,[{key:"xLabelFormat",value:function(e,t,n,s){var a=this.w;if(a.config.xaxis.type==="datetime"&&a.config.xaxis.labels.formatter===void 0&&a.config.tooltip.x.formatter===void 0){var i=new Ls(this.ctx);return i.formatDate(i.getDate(t),a.config.tooltip.x.format)}return e(t,n,s)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(t){return t}):e}},{key:"defaultYFormatter",value:function(e,t,n){var s=this.w;if(ye.isNumber(e))if(s.globals.yValueDecimal!==0)e=e.toFixed(t.decimalsInFloat!==void 0?t.decimalsInFloat:s.globals.yValueDecimal);else{var a=e.toFixed(0);e=e==a?a:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(n){return e.defaultGeneralFormatter(n)},t.globals.ttKeyFormatter=function(n){return e.defaultGeneralFormatter(n)},t.globals.ttZFormatter=function(n){return n},t.globals.legendFormatter=function(n){return e.defaultGeneralFormatter(n)},t.config.xaxis.labels.formatter!==void 0?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(n){if(ye.isNumber(n)){if(!t.config.xaxis.convertedCatToNumeric&&t.config.xaxis.type==="numeric"){if(ye.isNumber(t.config.xaxis.decimalsInFloat))return n.toFixed(t.config.xaxis.decimalsInFloat);var s=t.globals.maxX-t.globals.minX;return s>0&&s<100?n.toFixed(1):n.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?n.toFixed(1):n.toFixed(0)}return n},typeof t.config.tooltip.x.formatter=="function"?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,typeof t.config.xaxis.tooltip.formatter=="function"&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||t.config.tooltip.y.formatter!==void 0)&&(t.globals.ttVal=t.config.tooltip.y),t.config.tooltip.z.formatter!==void 0&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),t.config.legend.formatter!==void 0&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(n,s){n.labels.formatter!==void 0?t.globals.yLabelFormatters[s]=n.labels.formatter:t.globals.yLabelFormatters[s]=function(a){return t.globals.xyCharts?Array.isArray(a)?a.map(function(i){return e.defaultYFormatter(i,n,s)}):e.defaultYFormatter(a,n,s):a}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce(function(n,s){return n.length>s.length?n:s},0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),r}(),bd=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return Ct(r,[{key:"getLabel",value:function(e,t,n,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",o=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],c=this.w,d=e[s]===void 0?"":e[s],u=d,h=c.globals.xLabelFormatter,f=c.config.xaxis.labels.formatter,p=!1,g=new z0(this.ctx),m=d;o&&(u=g.xLabelFormat(h,d,m,{i:s,dateFormatter:new Ls(this.ctx).formatDate,w:c}),f!==void 0&&(u=f(d,e[s],{i:s,dateFormatter:new Ls(this.ctx).formatDate,w:c})));var v,x;t.length>0?(v=t[s].unit,x=null,t.forEach(function(S){S.unit==="month"?x="year":S.unit==="day"?x="month":S.unit==="hour"?x="day":S.unit==="minute"&&(x="hour")}),p=x===v,n=t[s].position,u=t[s].value):c.config.xaxis.type==="datetime"&&f===void 0&&(u=""),u===void 0&&(u=""),u=Array.isArray(u)?u:u.toString();var y=new Ge(this.ctx),w={};w=c.globals.rotateXLabels&&o?y.getTextRects(u,parseInt(i,10),null,"rotate(".concat(c.config.xaxis.labels.rotate," 0 0)"),!1):y.getTextRects(u,parseInt(i,10));var k=!c.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(u)&&(String(u)==="NaN"||a.indexOf(u)>=0&&k)&&(u=""),{x:n,text:u,textRect:w,isBold:p}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,n){var s=this.w,a=s.config.xaxis.tickAmount;return a==="dataPoints"&&(a=Math.round(s.globals.gridWidth/120)),a>n||e%Math.round(n/(a+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,n,s,a){var i=this.w;if(e===0&&i.globals.skipFirstTimelinelabel&&(t.text=""),e===n-1&&i.globals.skipLastTimelinelabel&&(t.text=""),i.config.xaxis.labels.hideOverlappingLabels&&s.length>0){var o=a[a.length-1];t.x<o.textRect.width/(i.globals.rotateXLabels?Math.abs(i.config.xaxis.labels.rotate)/12:1.01)+o.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var n=this.w;return n.config.yaxis[e]&&n.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some(function(n){return t.collapsedSeriesIndices.indexOf(n)===-1})}},{key:"translateYAxisIndex",value:function(e){var t=this.w,n=t.globals,s=t.config.yaxis;return n.series.length>s.length||s.some(function(a){return Array.isArray(a.seriesName)})?e:n.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,n=t.config.yaxis[e];if(!n.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!n.showForNullSeries){var s=t.globals.seriesYAxisMap[e],a=new Pn(this.ctx);return s.every(function(i){return a.isSeriesNull(i)})}return!1}},{key:"getYAxisForeColor",value:function(e,t){var n=this.w;return Array.isArray(e)&&n.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,n.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,n,s,a,i,o){var c=this.w,d=new Ge(this.ctx),u=c.globals.translateY+c.config.yaxis[a].labels.offsetY;if(c.globals.isBarHorizontal?u=0:c.config.chart.type==="heatmap"&&(u+=i/2),s.show&&t>0){c.config.yaxis[a].opposite===!0&&(e+=s.width);for(var h=t;h>=0;h--){var f=d.drawLine(e+n.offsetX-s.width+s.offsetX,u+s.offsetY,e+n.offsetX+s.offsetX,u+s.offsetY,s.color);o.add(f),u+=i}}}}]),r}(),zee=function(){function r(e){kt(this,r),this.w=e.w,this.annoCtx=e,this.helpers=new m2(this.annoCtx),this.axesUtils=new bd(this.annoCtx)}return Ct(r,[{key:"addYaxisAnnotation",value:function(e,t,n){var s,a=this.w,i=e.strokeDashArray,o=this.helpers.getY1Y2("y1",e),c=o.yP,d=o.clipped,u=!0,h=!1,f=e.label.text;if(e.y2===null||e.y2===void 0){if(!d){h=!0;var p=this.annoCtx.graphics.drawLine(0+e.offsetX,c+e.offsetY,this._getYAxisAnnotationWidth(e),c+e.offsetY,e.borderColor,i,e.borderWidth);t.appendChild(p.node),e.id&&p.node.classList.add(e.id)}}else{if(s=(o=this.helpers.getY1Y2("y2",e)).yP,u=o.clipped,s>c){var g=c;c=s,s=g}if(!d||!u){h=!0;var m=this.annoCtx.graphics.drawRect(0+e.offsetX,s+e.offsetY,this._getYAxisAnnotationWidth(e),c-s,0,e.fillColor,e.opacity,1,e.borderColor,i);m.node.classList.add("apexcharts-annotation-rect"),m.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),t.appendChild(m.node),e.id&&m.node.classList.add(e.id)}}if(h){var v=e.label.position==="right"?a.globals.gridWidth:e.label.position==="center"?a.globals.gridWidth/2:0,x=this.annoCtx.graphics.drawText({x:v+e.label.offsetX,y:(s??c)+e.label.offsetY-3,text:f,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});x.attr({rel:n}),t.appendChild(x.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach(function(s,a){s.yAxisIndex=e.axesUtils.translateYAxisIndex(s.yAxisIndex),e.axesUtils.isYAxisHidden(s.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(s.yAxisIndex)||e.addYaxisAnnotation(s,n.node,a)}),n}}]),r}(),Hee=function(){function r(e){kt(this,r),this.w=e.w,this.annoCtx=e,this.helpers=new m2(this.annoCtx)}return Ct(r,[{key:"addPointAnnotation",value:function(e,t,n){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var s=this.helpers.getX1X2("x1",e),a=s.x,i=s.clipped,o=(s=this.helpers.getY1Y2("y1",e)).yP,c=s.clipped;if(ye.isNumber(a)&&!c&&!i){var d={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},u=this.annoCtx.graphics.drawMarker(a+e.marker.offsetX,o+e.marker.offsetY,d);t.appendChild(u.node);var h=e.label.text?e.label.text:"",f=this.annoCtx.graphics.drawText({x:a+e.label.offsetX,y:o+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:h,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(f.attr({rel:n}),t.appendChild(f.node),e.customSVG.SVG){var p=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});p.attr({transform:"translate(".concat(a+e.customSVG.offsetX,", ").concat(o+e.customSVG.offsetY,")")}),p.node.innerHTML=e.customSVG.SVG,t.appendChild(p.node)}if(e.image.path){var g=e.image.width?e.image.width:20,m=e.image.height?e.image.height:20;u=this.annoCtx.addImage({x:a+e.image.offsetX-g/2,y:o+e.image.offsetY-m/2,width:g,height:m,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&u.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&u.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&u.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(s,a){e.addPointAnnotation(s,n.node,a)}),n}}]),r}(),vI={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},ou=function(){function r(){kt(this,r),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return Ct(r,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[vI],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,n){return t+n},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,n){return t+n},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),r}(),Uee=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.graphics=new Ge(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new m2(this),this.xAxisAnnotations=new Bee(this),this.yAxisAnnotations=new zee(this),this.pointsAnnotations=new Hee(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return Ct(r,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),n=this.xAxisAnnotations.drawXAxisAnnotations(),s=this.pointsAnnotations.drawPointAnnotations(),a=e.config.chart.animations.enabled,i=[t,n,s],o=[n.node,t.node,s.node],c=0;c<3;c++)e.globals.dom.elGraphical.add(i[c]),!a||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&o[c].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:o[c],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(t,n){e.addImage(t,n)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(t,n){e.addText(t,n)})}},{key:"addXaxisAnnotation",value:function(e,t,n){this.xAxisAnnotations.addXaxisAnnotation(e,t,n)}},{key:"addYaxisAnnotation",value:function(e,t,n){this.yAxisAnnotations.addYaxisAnnotation(e,t,n)}},{key:"addPointAnnotation",value:function(e,t,n){this.pointsAnnotations.addPointAnnotation(e,t,n)}},{key:"addText",value:function(e,t){var n=e.x,s=e.y,a=e.text,i=e.textAnchor,o=e.foreColor,c=e.fontSize,d=e.fontFamily,u=e.fontWeight,h=e.cssClass,f=e.backgroundColor,p=e.borderWidth,g=e.strokeDashArray,m=e.borderRadius,v=e.borderColor,x=e.appendTo,y=x===void 0?".apexcharts-svg":x,w=e.paddingLeft,k=w===void 0?4:w,S=e.paddingRight,N=S===void 0?4:S,A=e.paddingBottom,E=A===void 0?2:A,R=e.paddingTop,O=R===void 0?2:R,L=this.w,D=this.graphics.drawText({x:n,y:s,text:a,textAnchor:i||"start",fontSize:c||"12px",fontWeight:u||"regular",fontFamily:d||L.config.chart.fontFamily,foreColor:o||L.config.chart.foreColor,cssClass:h}),F=L.globals.dom.baseEl.querySelector(y);F&&F.appendChild(D.node);var M=D.bbox();if(a){var B=this.graphics.drawRect(M.x-k,M.y-O,M.width+k+N,M.height+E+O,m,f||"transparent",1,p,v,g);F.insertBefore(B.node,D.node)}}},{key:"addImage",value:function(e,t){var n=this.w,s=e.path,a=e.x,i=a===void 0?0:a,o=e.y,c=o===void 0?0:o,d=e.width,u=d===void 0?20:d,h=e.height,f=h===void 0?20:h,p=e.appendTo,g=p===void 0?".apexcharts-svg":p,m=n.globals.dom.Paper.image(s);m.size(u,f).move(i,c);var v=n.globals.dom.baseEl.querySelector(g);return v&&v.appendChild(m.node),m}},{key:"addXaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"xaxis",contextMethod:n.addXaxisAnnotation}),n}},{key:"addYaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"yaxis",contextMethod:n.addYaxisAnnotation}),n}},{key:"addPointAnnotationExternal",value:function(e,t,n){return this.invertAxis===void 0&&(this.invertAxis=n.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"point",contextMethod:n.addPointAnnotation}),n}},{key:"addAnnotationExternal",value:function(e){var t=e.params,n=e.pushToMemory,s=e.context,a=e.type,i=e.contextMethod,o=s,c=o.w,d=c.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations")),u=d.childNodes.length+1,h=new ou,f=Object.assign({},a==="xaxis"?h.xAxisAnnotation:a==="yaxis"?h.yAxisAnnotation:h.pointAnnotation),p=ye.extend(f,t);switch(a){case"xaxis":this.addXaxisAnnotation(p,d,u);break;case"yaxis":this.addYaxisAnnotation(p,d,u);break;case"point":this.addPointAnnotation(p,d,u)}var g=c.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(u,"']")),m=this.helpers.addBackgroundToAnno(g,p);return m&&d.insertBefore(m.node,g),n&&c.globals.memory.methodsToExec.push({context:o,id:p.id?p.id:ye.randomId(),method:i,label:"addAnnotation",params:t}),s}},{key:"clearAnnotations",value:function(e){for(var t=e.w,n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),s=t.globals.memory.methodsToExec.length-1;s>=0;s--)t.globals.memory.methodsToExec[s].label!=="addText"&&t.globals.memory.methodsToExec[s].label!=="addAnnotation"||t.globals.memory.methodsToExec.splice(s,1);n=ye.listToArray(n),Array.prototype.forEach.call(n,function(a){for(;a.firstChild;)a.removeChild(a.firstChild)})}},{key:"removeAnnotation",value:function(e,t){var n=e.w,s=n.globals.dom.baseEl.querySelectorAll(".".concat(t));s&&(n.globals.memory.methodsToExec.map(function(a,i){a.id===t&&n.globals.memory.methodsToExec.splice(i,1)}),Array.prototype.forEach.call(s,function(a){a.parentElement.removeChild(a)}))}}]),r}(),P5=function(r){var e,t=r.isTimeline,n=r.ctx,s=r.seriesIndex,a=r.dataPointIndex,i=r.y1,o=r.y2,c=r.w,d=c.globals.seriesRangeStart[s][a],u=c.globals.seriesRangeEnd[s][a],h=c.globals.labels[a],f=c.config.series[s].name?c.config.series[s].name:"",p=c.globals.ttKeyFormatter,g=c.config.tooltip.y.title.formatter,m={w:c,seriesIndex:s,dataPointIndex:a,start:d,end:u};typeof g=="function"&&(f=g(f,m)),(e=c.config.series[s].data[a])!==null&&e!==void 0&&e.x&&(h=c.config.series[s].data[a].x),t||c.config.xaxis.type==="datetime"&&(h=new z0(n).xLabelFormat(c.globals.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new Ls(n).formatDate,w:c})),typeof p=="function"&&(h=p(h,m)),Number.isFinite(i)&&Number.isFinite(o)&&(d=i,u=o);var v="",x="",y=c.globals.colors[s];if(c.config.tooltip.x.formatter===void 0)if(c.config.xaxis.type==="datetime"){var w=new Ls(n);v=w.formatDate(w.getDate(d),c.config.tooltip.x.format),x=w.formatDate(w.getDate(u),c.config.tooltip.x.format)}else v=d,x=u;else v=c.config.tooltip.x.formatter(d),x=c.config.tooltip.x.formatter(u);return{start:d,end:u,startVal:v,endVal:x,ylabel:h,color:y,seriesName:f}},L5=function(r){var e=r.color,t=r.seriesName,n=r.ylabel,s=r.start,a=r.end,i=r.seriesIndex,o=r.dataPointIndex,c=r.ctx.tooltip.tooltipLabels.getFormatters(i);s=c.yLbFormatter(s),a=c.yLbFormatter(a);var d=c.yLbFormatter(r.w.globals.series[i][o]),u=`<span class="value start-value">
  `.concat(s,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(a,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+n+": </span> "+(r.w.globals.comboCharts?r.w.config.series[i].type==="rangeArea"||r.w.config.series[i].type==="rangeBar"?u:"<span>".concat(d,"</span>"):u)+" </div></div>"},Qm=function(){function r(e){kt(this,r),this.opts=e}return Ct(r,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),ye.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var n=t.w.config.series[t.seriesIndex].name;return e!==null?n+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),dt(dt({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,s=t.dataPointIndex,a=t.w;return e._getBoxTooltip(a,n,s,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,s=t.dataPointIndex,a=t.w;return e._getBoxTooltip(a,n,s,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var n=t.seriesIndex,s=t.dataPointIndex,a=t.w,i=function(){var o=a.globals.seriesRangeStart[n][s];return a.globals.seriesRangeEnd[n][s]-o};return a.globals.comboCharts?a.config.series[n].type==="rangeBar"||a.config.series[n].type==="rangeArea"?i():e:i()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(t){var n=P5(dt(dt({},t),{},{isTimeline:!0})),s=n.color,a=n.seriesName,i=n.ylabel,o=n.startVal,c=n.endVal;return L5(dt(dt({},t),{},{color:s,seriesName:a,ylabel:i,start:o,end:c}))}(e):function(t){var n=P5(t),s=n.color,a=n.seriesName,i=n.ylabel,o=n.start,c=n.end;return L5(dt(dt({},t),{},{color:s,seriesName:a,ylabel:i,start:o,end:c}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,n;return(t=e.plotOptions.bar)!==null&&t!==void 0&&t.barHeight||(e.plotOptions.bar.barHeight=2),(n=e.plotOptions.bar)!==null&&n!==void 0&&n.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(t){var n=P5(t),s=n.color,a=n.seriesName,i=n.ylabel,o=n.start,c=n.end;return L5(dt(dt({},t),{},{color:s,seriesName:a,ylabel:i,start:o,end:c}))}(e)}}}}},{key:"brush",value:function(e){return ye.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach(function(n,s){e.yaxis[s].min=0,e.yaxis[s].max=100}),e.chart.type==="bar"&&(e.dataLabels.formatter=t||function(n){return typeof n=="number"&&n?n.toFixed(0)+"%":n}),e}},{key:"stackedBars",value:function(){var e=this.bar();return dt(dt({},e),{},{plotOptions:dt(dt({},e.plotOptions),{},{bar:dt(dt({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,n){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(i){return ye.isNumber(i)?Math.floor(i):i};var s=e.xaxis.labels.formatter,a=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return n&&n.length&&(a=n.map(function(i){return Array.isArray(i)?i:String(i)})),a&&a.length&&(e.xaxis.labels.formatter=function(i){return ye.isNumber(i)?s(a[Math.floor(i)-1]):s(i)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,n,s,a){var i=e.globals.seriesCandleO[t][n],o=e.globals.seriesCandleH[t][n],c=e.globals.seriesCandleM[t][n],d=e.globals.seriesCandleL[t][n],u=e.globals.seriesCandleC[t][n];return e.config.series[t].type&&e.config.series[t].type!==a?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][n],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(s[0],': <span class="value">')+i+"</span></div>"+"<div>".concat(s[1],': <span class="value">')+o+"</span></div>"+(c?"<div>".concat(s[2],': <span class="value">')+c+"</span></div>":"")+"<div>".concat(s[3],': <span class="value">')+d+"</span></div>"+"<div>".concat(s[4],': <span class="value">')+u+"</span></div></div>"}}]),r}(),e0=function(){function r(e){kt(this,r),this.opts=e}return Ct(r,[{key:"init",value:function(e){var t=e.responsiveOverride,n=this.opts,s=new ou,a=new Qm(n);this.chartType=n.chart.type,n=this.extendYAxis(n),n=this.extendAnnotations(n);var i=s.init(),o={};if(n&&op(n)==="object"){var c,d,u,h,f,p,g,m,v,x,y={};y=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(n.chart.type)!==-1?a[n.chart.type]():a.line(),(c=n.plotOptions)!==null&&c!==void 0&&(d=c.bar)!==null&&d!==void 0&&d.isFunnel&&(y=a.funnel()),n.chart.stacked&&n.chart.type==="bar"&&(y=a.stackedBars()),(u=n.chart.brush)!==null&&u!==void 0&&u.enabled&&(y=a.brush(y)),(h=n.plotOptions)!==null&&h!==void 0&&(f=h.line)!==null&&f!==void 0&&f.isSlopeChart&&(y=a.slope()),n.chart.stacked&&n.chart.stackType==="100%"&&(n=a.stacked100(n)),(p=n.plotOptions)!==null&&p!==void 0&&(g=p.bar)!==null&&g!==void 0&&g.isDumbbell&&(n=a.dumbbell(n)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(n),n.xaxis=n.xaxis||window.Apex.xaxis||{},t||(n.xaxis.convertedCatToNumeric=!1),((m=(n=this.checkForCatToNumericXAxis(this.chartType,y,n)).chart.sparkline)!==null&&m!==void 0&&m.enabled||(v=window.Apex.chart)!==null&&v!==void 0&&(x=v.sparkline)!==null&&x!==void 0&&x.enabled)&&(y=a.sparkline(y)),o=ye.extend(i,y)}var w=ye.extend(o,window.Apex);return i=ye.extend(w,n),i=this.handleUserInputErrors(i)}},{key:"checkForCatToNumericXAxis",value:function(e,t,n){var s,a,i=new Qm(n),o=(e==="bar"||e==="boxPlot")&&((s=n.plotOptions)===null||s===void 0||(a=s.bar)===null||a===void 0?void 0:a.horizontal),c=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",d=n.xaxis.type!=="datetime"&&n.xaxis.type!=="numeric",u=n.xaxis.tickPlacement?n.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return o||c||!d||u==="between"||(n=i.convertCatToNumeric(n)),n}},{key:"extendYAxis",value:function(e,t){var n=new ou;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=ye.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[ye.extend(n.yAxis,e.yaxis)]:e.yaxis=ye.extendArray(e.yaxis,n.yAxis);var s=!1;e.yaxis.forEach(function(i){i.logarithmic&&(s=!0)});var a=e.series;return t&&!a&&(a=t.config.series),s&&a.length!==e.yaxis.length&&a.length&&(e.yaxis=a.map(function(i,o){if(i.name||(a[o].name="series-".concat(o+1)),e.yaxis[o])return e.yaxis[o].seriesName=a[o].name,e.yaxis[o];var c=ye.extend(n.yAxis,e.yaxis[0]);return c.show=!1,c})),s&&a.length>1&&a.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new ou;return e.annotations.yaxis=ye.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new ou;return e.annotations.xaxis=ye.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new ou;return e.annotations.points=ye.extendArray(e.annotations.points!==void 0?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(t.chart.type==="bar"&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return t.chart.type!=="bar"&&t.chart.type!=="rangeBar"||t.tooltip.shared&&t.xaxis.crosshairs.width==="barWidth"&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),t.chart.type!=="candlestick"&&t.chart.type!=="boxPlot"||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),r}(),yI=function(){function r(){kt(this,r)}return Ct(r,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=ye.extend({},e),t.initialSeries=ye.clone(e.series),t.lastXAxis=ye.clone(t.initialConfig.xaxis),t.lastYAxis=ye.clone(t.initialConfig.yaxis),t}}]),r}(),$ee=function(){function r(e){kt(this,r),this.opts=e}return Ct(r,[{key:"init",value:function(){var e=new e0(this.opts).init({responsiveOverride:!1});return{config:e,globals:new yI().init(e)}}}]),r}(),ko=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return Ct(r,[{key:"clippedImgArea",value:function(e){var t=this.w,n=t.config,s=parseInt(t.globals.gridWidth,10),a=parseInt(t.globals.gridHeight,10),i=s>a?s:a,o=e.image,c=0,d=0;e.width===void 0&&e.height===void 0?n.fill.image.width!==void 0&&n.fill.image.height!==void 0?(c=n.fill.image.width+1,d=n.fill.image.height):(c=i+1,d=i):(c=e.width,d=e.height);var u=document.createElementNS(t.globals.SVGNS,"pattern");Ge.setAttrs(u,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:c+"px",height:d+"px"});var h=document.createElementNS(t.globals.SVGNS,"image");u.appendChild(h),h.setAttributeNS(window.SVG.xlink,"href",o),Ge.setAttrs(h,{x:0,y:0,preserveAspectRatio:"none",width:c+"px",height:d+"px"}),h.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(u)}},{key:"getSeriesIndex",value:function(e){var t=this.w,n=t.config.chart.type;return(n==="bar"||n==="rangeBar")&&t.config.plotOptions.bar.distributed||n==="heatmap"||n==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,t){var n,s=this.w,a=null,i=null,o=Zg(e);try{for(o.s();!(n=o.n()).done;){var c=n.value;c>=t.threshold?(a===null||c>a)&&(a=c):(i===null||c<i)&&(i=c)}}catch(h){o.e(h)}finally{o.f()}a===null&&(a=t.threshold),i===null&&(i=t.threshold);var d=a-t.threshold+(t.threshold-i);d===0&&(d=1);var u=100-(t.threshold-i)/d*100;return[{offset:u=Math.max(0,Math.min(u,100)),color:t.colorAboveThreshold,opacity:s.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:s.config.fill.opacity}]}},{key:"fillPath",value:function(e){var t,n,s,a=this.w;this.opts=e;var i,o,c,d=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var u=d.plotOptions.line.colors.colorAboveThreshold&&d.plotOptions.line.colors.colorBelowThreshold,h=this.getFillColors()[this.seriesIndex];a.globals.seriesColors[this.seriesIndex]!==void 0&&(h=a.globals.seriesColors[this.seriesIndex]),typeof h=="function"&&(h=h({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:a}));var f,p,g,m=e.fillType?e.fillType:this.getFillType(this.seriesIndex),v=Array.isArray(d.fill.opacity)?d.fill.opacity[this.seriesIndex]:d.fill.opacity,x=m==="gradient"||u;e.color&&(h=e.color),(t=a.config.series[this.seriesIndex])!==null&&t!==void 0&&(n=t.data)!==null&&n!==void 0&&(s=n[e.dataPointIndex])!==null&&s!==void 0&&s.fillColor&&(h=(f=a.config.series[this.seriesIndex])===null||f===void 0||(p=f.data)===null||p===void 0||(g=p[e.dataPointIndex])===null||g===void 0?void 0:g.fillColor),h||(h="#fff",console.warn("undefined color - ApexCharts"));var y=h;if(h.indexOf("rgb")===-1?h.indexOf("#")===-1?y=h:h.length<9&&(y=ye.hexToRgba(h,v)):h.indexOf("rgba")>-1?v=ye.getOpacityFromRGBA(h):y=ye.hexToRgba(ye.rgb2hex(h),v),e.opacity&&(v=e.opacity),m==="pattern"&&(o=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:o,fillColor:h,fillOpacity:v,defaultColor:y})),x){var w=cs(d.fill.gradient.colorStops)||[],k=d.fill.gradient.type;u&&(w[this.seriesIndex]=this.computeColorStops(a.globals.series[this.seriesIndex],d.plotOptions.line.colors),k="vertical"),c=this.handleGradientFill({type:k,fillConfig:e.fillConfig,fillColor:h,fillOpacity:v,colorStops:w,i:this.seriesIndex})}if(m==="image"){var S=d.fill.image.src,N=e.patternID?e.patternID:"",A="pattern".concat(a.globals.cuid).concat(e.seriesNumber+1).concat(N);this.patternIDs.indexOf(A)===-1&&(this.clippedImgArea({opacity:v,image:Array.isArray(S)?e.seriesNumber<S.length?S[e.seriesNumber]:S[0]:S,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:A}),this.patternIDs.push(A)),i="url(#".concat(A,")")}else i=x?c:m==="pattern"?o:y;return e.solid&&(i=y),i}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,n=this.opts,s=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?s=e.globals.stroke.colors:s.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?s=e.globals.fill.colors:s.push(e.globals.fill.colors):t.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?s=e.globals.stroke.colors:s.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?s=e.globals.fill.colors:s.push(e.globals.fill.colors),n.fillColors!==void 0&&(s=[],Array.isArray(n.fillColors)?s=n.fillColors.slice():s.push(n.fillColors)),s}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,n=e.patternFill,s=e.fillColor,a=e.fillOpacity,i=e.defaultColor,o=this.w.config.fill;t&&(o=t);var c=this.opts,d=new Ge(this.ctx),u=Array.isArray(o.pattern.strokeWidth)?o.pattern.strokeWidth[this.seriesIndex]:o.pattern.strokeWidth,h=s;return Array.isArray(o.pattern.style)?n=o.pattern.style[c.seriesNumber]!==void 0?d.drawPattern(o.pattern.style[c.seriesNumber],o.pattern.width,o.pattern.height,h,u,a):i:n=d.drawPattern(o.pattern.style,o.pattern.width,o.pattern.height,h,u,a),n}},{key:"handleGradientFill",value:function(e){var t=e.type,n=e.fillColor,s=e.fillOpacity,a=e.fillConfig,i=e.colorStops,o=e.i,c=this.w.config.fill;a&&(c=dt(dt({},c),a));var d=this.opts,u=new Ge(this.ctx),h=new ye;t=t||c.gradient.type;var f,p=n,g=c.gradient.opacityFrom===void 0?s:Array.isArray(c.gradient.opacityFrom)?c.gradient.opacityFrom[o]:c.gradient.opacityFrom;p.indexOf("rgba")>-1&&(g=ye.getOpacityFromRGBA(p));var m=c.gradient.opacityTo===void 0?s:Array.isArray(c.gradient.opacityTo)?c.gradient.opacityTo[o]:c.gradient.opacityTo;if(c.gradient.gradientToColors===void 0||c.gradient.gradientToColors.length===0)f=c.gradient.shade==="dark"?h.shadeColor(-1*parseFloat(c.gradient.shadeIntensity),n.indexOf("rgb")>-1?ye.rgb2hex(n):n):h.shadeColor(parseFloat(c.gradient.shadeIntensity),n.indexOf("rgb")>-1?ye.rgb2hex(n):n);else if(c.gradient.gradientToColors[d.seriesNumber]){var v=c.gradient.gradientToColors[d.seriesNumber];f=v,v.indexOf("rgba")>-1&&(m=ye.getOpacityFromRGBA(v))}else f=n;if(c.gradient.gradientFrom&&(p=c.gradient.gradientFrom),c.gradient.gradientTo&&(f=c.gradient.gradientTo),c.gradient.inverseColors){var x=p;p=f,f=x}return p.indexOf("rgb")>-1&&(p=ye.rgb2hex(p)),f.indexOf("rgb")>-1&&(f=ye.rgb2hex(f)),u.drawGradient(t,p,f,g,m,d.size,c.gradient.stops,i,o)}}]),r}(),Bp=function(){function r(e,t){kt(this,r),this.ctx=e,this.w=e.w}return Ct(r,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)e.globals.markers.size[t]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(n){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e){var t=e.pointsPos,n=e.seriesIndex,s=e.j,a=e.pSize,i=e.alwaysDrawMarker,o=i!==void 0&&i,c=e.isVirtualPoint,d=c!==void 0&&c,u=this.w,h=n,f=t,p=null,g=new Ge(this.ctx),m=u.config.markers.discrete&&u.config.markers.discrete.length;if(Array.isArray(f.x))for(var v=0;v<f.x.length;v++){var x=void 0,y=s,w=!ye.isNumber(f.y[v]);u.globals.markers.largestSize===0&&u.globals.hasNullValues&&u.globals.series[h][s+1]!==null&&!d&&(w=!0),s===1&&v===0&&(y=0),s===1&&v===1&&(y=1);var k="apexcharts-marker";if(u.config.chart.type!=="line"&&u.config.chart.type!=="area"||u.globals.comboCharts||u.config.tooltip.intersect||(k+=" no-pointer-events"),(Array.isArray(u.config.markers.size)?u.globals.markers.size[n]>0:u.config.markers.size>0)||o||m){w||(k+=" w".concat(ye.randomId()));var S=this.getMarkerConfig({cssClass:k,seriesIndex:n,dataPointIndex:y});u.config.series[h].data[y]&&(u.config.series[h].data[y].fillColor&&(S.pointFillColor=u.config.series[h].data[y].fillColor),u.config.series[h].data[y].strokeColor&&(S.pointStrokeColor=u.config.series[h].data[y].strokeColor)),a!==void 0&&(S.pSize=a),(f.x[v]<-u.globals.markers.largestSize||f.x[v]>u.globals.gridWidth+u.globals.markers.largestSize||f.y[v]<-u.globals.markers.largestSize||f.y[v]>u.globals.gridHeight+u.globals.markers.largestSize)&&(S.pSize=0),!w&&((u.globals.markers.size[n]>0||o||m)&&!p&&(p=g.group({class:o||m?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(u.globals.cuid,")")),(x=g.drawMarker(f.x[v],f.y[v],S)).attr("rel",y),x.attr("j",y),x.attr("index",n),x.node.setAttribute("default-marker-size",S.pSize),new Rs(this.ctx).setSelectionFilter(x,n,y),this.addEvents(x),p&&p.add(x))}else u.globals.pointsArray[n]===void 0&&(u.globals.pointsArray[n]=[]),u.globals.pointsArray[n].push([f.x[v],f.y[v]])}return p}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,n=e.seriesIndex,s=e.dataPointIndex,a=s===void 0?null:s,i=e.radius,o=i===void 0?null:i,c=e.size,d=c===void 0?null:c,u=e.strokeWidth,h=u===void 0?null:u,f=this.w,p=this.getMarkerStyle(n),g=d===null?f.globals.markers.size[n]:d,m=f.config.markers;return a!==null&&m.discrete.length&&m.discrete.map(function(v){v.seriesIndex===n&&v.dataPointIndex===a&&(p.pointStrokeColor=v.strokeColor,p.pointFillColor=v.fillColor,g=v.size,p.pointShape=v.shape)}),{pSize:o===null?g:o,pRadius:o!==null?o:m.radius,pointStrokeWidth:h!==null?h:Array.isArray(m.strokeWidth)?m.strokeWidth[n]:m.strokeWidth,pointStrokeColor:p.pointStrokeColor,pointFillColor:p.pointFillColor,shape:p.pointShape||(Array.isArray(m.shape)?m.shape[n]:m.shape),class:t,pointStrokeOpacity:Array.isArray(m.strokeOpacity)?m.strokeOpacity[n]:m.strokeOpacity,pointStrokeDashArray:Array.isArray(m.strokeDashArray)?m.strokeDashArray[n]:m.strokeDashArray,pointFillOpacity:Array.isArray(m.fillOpacity)?m.fillOpacity[n]:m.fillOpacity,seriesIndex:n}}},{key:"addEvents",value:function(e){var t=this.w,n=new Ge(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",n.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,n=t.globals.markers.colors,s=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(s)?s[e]:s,pointFillColor:Array.isArray(n)?n[e]:n}}}]),r}(),bI=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return Ct(r,[{key:"draw",value:function(e,t,n){var s=this.w,a=new Ge(this.ctx),i=n.realIndex,o=n.pointsPos,c=n.zRatio,d=n.elParent,u=a.group({class:"apexcharts-series-markers apexcharts-series-".concat(s.config.chart.type)});if(u.attr("clip-path","url(#gridRectMarkerMask".concat(s.globals.cuid,")")),Array.isArray(o.x))for(var h=0;h<o.x.length;h++){var f=t+1,p=!0;t===0&&h===0&&(f=0),t===0&&h===1&&(f=1);var g=s.globals.markers.size[i];if(c!==1/0){var m=s.config.plotOptions.bubble;g=s.globals.seriesZ[i][f],m.zScaling&&(g/=c),m.minBubbleRadius&&g<m.minBubbleRadius&&(g=m.minBubbleRadius),m.maxBubbleRadius&&g>m.maxBubbleRadius&&(g=m.maxBubbleRadius)}var v=o.x[h],x=o.y[h];if(g=g||0,x!==null&&s.globals.series[i][f]!==void 0||(p=!1),p){var y=this.drawPoint(v,x,g,i,f,t);u.add(y)}d.add(u)}}},{key:"drawPoint",value:function(e,t,n,s,a,i){var o=this.w,c=s,d=new Rp(this.ctx),u=new Rs(this.ctx),h=new ko(this.ctx),f=new Bp(this.ctx),p=new Ge(this.ctx),g=f.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:c,dataPointIndex:a,radius:o.config.chart.type==="bubble"||o.globals.comboCharts&&o.config.series[s]&&o.config.series[s].type==="bubble"?n:null}),m=h.fillPath({seriesNumber:s,dataPointIndex:a,color:g.pointFillColor,patternUnits:"objectBoundingBox",value:o.globals.series[s][i]}),v=p.drawMarker(e,t,g);if(o.config.series[c].data[a]&&o.config.series[c].data[a].fillColor&&(m=o.config.series[c].data[a].fillColor),v.attr({fill:m}),o.config.chart.dropShadow.enabled){var x=o.config.chart.dropShadow;u.dropShadow(v,x,s)}if(!this.initialAnim||o.globals.dataChanged||o.globals.resized)o.globals.animationEnded=!0;else{var y=o.config.chart.animations.speed;d.animateMarker(v,y,o.globals.easing,function(){window.setTimeout(function(){d.animationCompleted(v)},100)})}return v.attr({rel:a,j:a,index:s,"default-marker-size":g.pSize}),u.setSelectionFilter(v,s,a),f.addEvents(v),v.node.classList.add("apexcharts-marker"),v}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),r}(),cp=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return Ct(r,[{key:"dataLabelsCorrection",value:function(e,t,n,s,a,i,o){var c=this.w,d=!1,u=new Ge(this.ctx).getTextRects(n,o),h=u.width,f=u.height;t<0&&(t=0),t>c.globals.gridHeight+f&&(t=c.globals.gridHeight+f/2),c.globals.dataLabelsRects[s]===void 0&&(c.globals.dataLabelsRects[s]=[]),c.globals.dataLabelsRects[s].push({x:e,y:t,width:h,height:f});var p=c.globals.dataLabelsRects[s].length-2,g=c.globals.lastDrawnDataLabelsIndexes[s]!==void 0?c.globals.lastDrawnDataLabelsIndexes[s][c.globals.lastDrawnDataLabelsIndexes[s].length-1]:0;if(c.globals.dataLabelsRects[s][p]!==void 0){var m=c.globals.dataLabelsRects[s][g];(e>m.x+m.width||t>m.y+m.height||t+f<m.y||e+h<m.x)&&(d=!0)}return(a===0||i)&&(d=!0),{x:e,y:t,textRects:u,drawnextLabel:d}}},{key:"drawDataLabel",value:function(e){var t=this,n=e.type,s=e.pos,a=e.i,i=e.j,o=e.isRangeStart,c=e.strokeWidth,d=c===void 0?2:c,u=this.w,h=new Ge(this.ctx),f=u.config.dataLabels,p=0,g=0,m=i,v=null;if(u.globals.collapsedSeriesIndices.indexOf(a)!==-1||!f.enabled||!Array.isArray(s.x))return v;v=h.group({class:"apexcharts-data-labels"});for(var x=0;x<s.x.length;x++)if(p=s.x[x]+f.offsetX,g=s.y[x]+f.offsetY+d,!isNaN(p)){i===1&&x===0&&(m=0),i===1&&x===1&&(m=1);var y=u.globals.series[a][m];n==="rangeArea"&&(y=o?u.globals.seriesRangeStart[a][m]:u.globals.seriesRangeEnd[a][m]);var w="",k=function(N){return u.config.dataLabels.formatter(N,{ctx:t.ctx,seriesIndex:a,dataPointIndex:m,w:u})};u.config.chart.type==="bubble"?(w=k(y=u.globals.seriesZ[a][m]),g=s.y[x],g=new bI(this.ctx).centerTextInBubble(g,a,m).y):y!==void 0&&(w=k(y));var S=u.config.dataLabels.textAnchor;u.globals.isSlopeChart&&(S=m===0?"end":m===u.config.series[a].data.length-1?"start":"middle"),this.plotDataLabelsText({x:p,y:g,text:w,i:a,j:m,parent:v,offsetCorrection:!0,dataLabelsConfig:u.config.dataLabels,textAnchor:S})}return v}},{key:"plotDataLabelsText",value:function(e){var t=this.w,n=new Ge(this.ctx),s=e.x,a=e.y,i=e.i,o=e.j,c=e.text,d=e.textAnchor,u=e.fontSize,h=e.parent,f=e.dataLabelsConfig,p=e.color,g=e.alwaysDrawDataLabel,m=e.offsetCorrection,v=e.className,x=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(i)<0)return x;var y={x:s,y:a,drawnextLabel:!0,textRects:null};m&&(y=this.dataLabelsCorrection(s,a,c,i,o,g,parseInt(f.style.fontSize,10))),t.globals.zoomed||(s=y.x,a=y.y),y.textRects&&(s<-20-y.textRects.width||s>t.globals.gridWidth+y.textRects.width+30)&&(c="");var w=t.globals.dataLabels.style.colors[i];((t.config.chart.type==="bar"||t.config.chart.type==="rangeBar")&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(w=t.globals.dataLabels.style.colors[o]),typeof w=="function"&&(w=w({series:t.globals.series,seriesIndex:i,dataPointIndex:o,w:t})),p&&(w=p);var k=f.offsetX,S=f.offsetY;if(t.config.chart.type!=="bar"&&t.config.chart.type!=="rangeBar"||(k=0,S=0),t.globals.isSlopeChart&&(o!==0&&(k=-2*f.offsetX+5),o!==0&&o!==t.config.series[i].data.length-1&&(k=0)),y.drawnextLabel){if((x=n.drawText({width:100,height:parseInt(f.style.fontSize,10),x:s+k,y:a+S,foreColor:w,textAnchor:d||f.textAnchor,text:c,fontSize:u||f.style.fontSize,fontFamily:f.style.fontFamily,fontWeight:f.style.fontWeight||"normal"})).attr({class:v||"apexcharts-datalabel",cx:s,cy:a}),f.dropShadow.enabled){var N=f.dropShadow;new Rs(this.ctx).dropShadow(x,N)}h.add(x),t.globals.lastDrawnDataLabelsIndexes[i]===void 0&&(t.globals.lastDrawnDataLabelsIndexes[i]=[]),t.globals.lastDrawnDataLabelsIndexes[i].push(o)}return x}},{key:"addBackgroundToDataLabel",value:function(e,t){var n=this.w,s=n.config.dataLabels.background,a=s.padding,i=s.padding/2,o=t.width,c=t.height,d=new Ge(this.ctx).drawRect(t.x-a,t.y-i/2,o+2*a,c+i,s.borderRadius,n.config.chart.background!=="transparent"&&n.config.chart.background?n.config.chart.background:"#fff",s.opacity,s.borderWidth,s.borderColor);return s.dropShadow.enabled&&new Rs(this.ctx).dropShadow(d,s.dropShadow),d}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),n=0;n<t.length;n++){var s=t[n],a=s.getBBox(),i=null;if(a.width&&a.height&&(i=this.addBackgroundToDataLabel(s,a)),i){s.parentNode.insertBefore(i.node,s);var o=s.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?i.animate().attr({fill:o}):i.attr({fill:o}),s.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),n=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),s=0;s<t.length;s++)n&&n.insertBefore(t[s],n.nextSibling)}}]),r}(),Wi=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return Ct(r,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(ye.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),n=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:n}}},{key:"addCollapsedClassToSeries",value:function(e,t){var n=this.w;function s(a){for(var i=0;i<a.length;i++)a[i].index===t&&e.node.classList.add("apexcharts-series-collapsed")}s(n.globals.collapsedSeries),s(n.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=this.w,a=ye.clone(s.globals.initialSeries);s.globals.previousPaths=[],n?(s.globals.collapsedSeries=[],s.globals.ancillaryCollapsedSeries=[],s.globals.collapsedSeriesIndices=[],s.globals.ancillaryCollapsedSeriesIndices=[]):a=this.emptyCollapsedSeries(a),s.config.series=a,e&&(t&&(s.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,n=0;n<e.length;n++)t.globals.collapsedSeriesIndices.indexOf(n)>-1&&(e[n].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,n=this.getSeriesByName(e),s=parseInt(n==null?void 0:n.getAttribute("data:realIndex"),10),a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),i=null,o=null,c=null;if(t.globals.axisCharts||t.config.chart.type==="radialBar")if(t.globals.axisCharts){i=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(s,"']")),o=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(s,"']"));var d=t.globals.seriesYAxisReverseMap[s];c=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(d,"']"))}else i=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(s+1,"']"));else i=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(s+1,"'] path"));for(var u=0;u<a.length;u++)a[u].classList.add(this.legendInactiveClass);if(i)t.globals.axisCharts||i.parentNode.classList.remove(this.legendInactiveClass),i.classList.remove(this.legendInactiveClass),o!==null&&o.classList.remove(this.legendInactiveClass),c!==null&&c.classList.remove(this.legendInactiveClass);else for(var h=0;h<a.length;h++)a[h].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var n=this.w;t||(t=e.target);var s=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var a=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(n.globals.seriesNames[a])}else if(e.type==="mouseout")for(var i=0;i<s.length;i++)s[i].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var n=this,s=this.w,a=s.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),i=function(d){for(var u=0;u<a.length;u++)a[u].classList[d](n.legendInactiveClass)};if(e.type==="mousemove"){var o=parseInt(t.getAttribute("rel"),10)-1;i("add");var c=s.config.plotOptions.heatmap.colorScale.ranges;(function(d,u){for(var h=0;h<a.length;h++){var f=Number(a[h].getAttribute("val"));f>=d.from&&(f<d.to||d.to===u&&f===u)&&a[h].classList.remove(n.legendInactiveClass)}})(c[o],c.reduce(function(d,u){return Math.max(d,u.to)},0))}else e.type==="mouseout"&&i("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=this.w,s=0;if(n.config.series.length>1){for(var a=n.config.series.map(function(o,c){return o.data&&o.data.length>0&&n.globals.collapsedSeriesIndices.indexOf(c)===-1&&(!n.globals.comboCharts||t.length===0||t.length&&t.indexOf(n.config.series[c].type)>-1)?c:-1}),i=e==="asc"?0:a.length-1;e==="asc"?i<a.length:i>=0;e==="asc"?i++:i--)if(a[i]!==-1){s=a[i];break}}return s}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,t){return e.type==="bar"||e.type==="column"?t:-1}).filter(function(e){return e!==-1}):this.w.config.series.map(function(e,t){return t})}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(i,o,c){for(var d=i[o].childNodes,u={type:c,paths:[],realIndex:i[o].getAttribute("data:realIndex")},h=0;h<d.length;h++)if(d[h].hasAttribute("pathTo")){var f=d[h].getAttribute("pathTo");u.paths.push({d:f})}e.globals.previousPaths.push(u)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(i){for(var o,c=(o=i,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series"))),d=0;d<c.length;d++)t(c,d,i)});var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(n.length>0)for(var s=function(i){for(var o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(i,"'] rect")),c=[],d=function(h){var f=function(g){return o[h].getAttribute(g)},p={x:parseFloat(f("x")),y:parseFloat(f("y")),width:parseFloat(f("width")),height:parseFloat(f("height"))};c.push({rect:p,color:o[h].getAttribute("color")})},u=0;u<o.length;u++)d(u);e.globals.previousPaths.push(c)},a=0;a<n.length;a++)s(a);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,n=new Ge(this.ctx),s=e.globals.svgWidth/2,a=e.globals.svgHeight/2,i="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,t.align==="left"?(s=10,i="start"):t.align==="right"&&(s=e.globals.svgWidth-10,i="end"),t.verticalAlign==="top"?a=50:t.verticalAlign==="bottom"&&(a=e.globals.svgHeight-50),s+=t.offsetX,a=a+parseInt(t.style.fontSize,10)+2+t.offsetY,t.text!==void 0&&t.text!==""){var o=n.drawText({x:s,y:a,text:t.text,textAnchor:i,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(o)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,n=0;n<e.length;n++)if(e[n].length===0)for(var s=0;s<e[t.globals.maxValsInArrayIndex].length;s++)e[n].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,n=this.filteredSeriesX(),s=0;s<n.length-1;s++)if(n[s][0]!==n[s+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map(function(t){return t.length>0?t:[]});return e}}]),r}(),pN=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Pn(this.ctx)}return Ct(r,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new Wi(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new Wi(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var n=this.w.config,s=this.w.globals,a=n.chart.type==="boxPlot"||n.series[t].type==="boxPlot",i=0;i<e[t].data.length;i++)if(e[t].data[i][1]!==void 0&&(Array.isArray(e[t].data[i][1])&&e[t].data[i][1].length===4&&!a?this.twoDSeries.push(ye.parseNumber(e[t].data[i][1][3])):e[t].data[i].length>=5?this.twoDSeries.push(ye.parseNumber(e[t].data[i][4])):this.twoDSeries.push(ye.parseNumber(e[t].data[i][1])),s.dataFormatXNumeric=!0),n.xaxis.type==="datetime"){var o=new Date(e[t].data[i][0]);o=new Date(o).getTime(),this.twoDSeriesX.push(o)}else this.twoDSeriesX.push(e[t].data[i][0]);for(var c=0;c<e[t].data.length;c++)e[t].data[c][2]!==void 0&&(this.threeDSeries.push(e[t].data[c][2]),s.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var n=this.w.config,s=this.w.globals,a=new Ls(this.ctx),i=t;s.collapsedSeriesIndices.indexOf(t)>-1&&(i=this.activeSeriesIndex);for(var o=0;o<e[t].data.length;o++)e[t].data[o].y!==void 0&&(Array.isArray(e[t].data[o].y)?this.twoDSeries.push(ye.parseNumber(e[t].data[o].y[e[t].data[o].y.length-1])):this.twoDSeries.push(ye.parseNumber(e[t].data[o].y))),e[t].data[o].goals!==void 0&&Array.isArray(e[t].data[o].goals)?(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[o].goals)):(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var c=0;c<e[i].data.length;c++){var d=typeof e[i].data[c].x=="string",u=Array.isArray(e[i].data[c].x),h=!u&&!!a.isValidDate(e[i].data[c].x);if(d||h)if(d||n.xaxis.convertedCatToNumeric){var f=s.isBarHorizontal&&s.isRangeData;n.xaxis.type!=="datetime"||f?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[i].data[c].x),isNaN(e[i].data[c].x)||this.w.config.xaxis.type==="category"||typeof e[i].data[c].x=="string"||(s.isXNumeric=!0)):this.twoDSeriesX.push(a.parseDate(e[i].data[c].x))}else n.xaxis.type==="datetime"?this.twoDSeriesX.push(a.parseDate(e[i].data[c].x.toString())):(s.dataFormatXNumeric=!0,s.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[i].data[c].x)));else u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[i].data[c].x)):(s.isXNumeric=!0,s.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[i].data[c].x))}if(e[t].data[0]&&e[t].data[0].z!==void 0){for(var p=0;p<e[t].data.length;p++)this.threeDSeries.push(e[t].data[p].z);s.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var n=this.w.globals,s={};return this.isFormat2DArray()?s=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(s=this.handleRangeDataFormat("xy",e,t)),n.seriesRangeStart.push(s.start===void 0?[]:s.start),n.seriesRangeEnd.push(s.end===void 0?[]:s.end),n.seriesRange.push(s.rangeUniques),n.seriesRange.forEach(function(a,i){a&&a.forEach(function(o,c){o.y.forEach(function(d,u){for(var h=0;h<o.y.length;h++)if(u!==h){var f=d.y1,p=d.y2,g=o.y[h].y1;f<=o.y[h].y2&&g<=p&&(o.overlaps.indexOf(d.rangeName)<0&&o.overlaps.push(d.rangeName),o.overlaps.indexOf(o.y[h].rangeName)<0&&o.overlaps.push(o.y[h].rangeName))}})})}),s}},{key:"handleCandleStickBoxData",value:function(e,t){var n=this.w.globals,s={};return this.isFormat2DArray()?s=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(s=this.handleCandleStickBoxDataFormat("xy",e,t)),n.seriesCandleO[t]=s.o,n.seriesCandleH[t]=s.h,n.seriesCandleM[t]=s.m,n.seriesCandleL[t]=s.l,n.seriesCandleC[t]=s.c,s}},{key:"handleRangeDataFormat",value:function(e,t,n){var s=[],a=[],i=t[n].data.filter(function(u,h,f){return h===f.findIndex(function(p){return p.x===u.x})}).map(function(u,h){return{x:u.x,overlaps:[],y:[]}});if(e==="array")for(var o=0;o<t[n].data.length;o++)Array.isArray(t[n].data[o])?(s.push(t[n].data[o][1][0]),a.push(t[n].data[o][1][1])):(s.push(t[n].data[o]),a.push(t[n].data[o]));else if(e==="xy")for(var c=function(u){var h=Array.isArray(t[n].data[u].y),f=ye.randomId(),p=t[n].data[u].x,g={y1:h?t[n].data[u].y[0]:t[n].data[u].y,y2:h?t[n].data[u].y[1]:t[n].data[u].y,rangeName:f};t[n].data[u].rangeName=f;var m=i.findIndex(function(v){return v.x===p});i[m].y.push(g),s.push(g.y1),a.push(g.y2)},d=0;d<t[n].data.length;d++)c(d);return{start:s,end:a,rangeUniques:i}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,n){var s=this.w,a=s.config.chart.type==="boxPlot"||s.config.series[n].type==="boxPlot",i=[],o=[],c=[],d=[],u=[];if(e==="array")if(a&&t[n].data[0].length===6||!a&&t[n].data[0].length===5)for(var h=0;h<t[n].data.length;h++)i.push(t[n].data[h][1]),o.push(t[n].data[h][2]),a?(c.push(t[n].data[h][3]),d.push(t[n].data[h][4]),u.push(t[n].data[h][5])):(d.push(t[n].data[h][3]),u.push(t[n].data[h][4]));else for(var f=0;f<t[n].data.length;f++)Array.isArray(t[n].data[f][1])&&(i.push(t[n].data[f][1][0]),o.push(t[n].data[f][1][1]),a?(c.push(t[n].data[f][1][2]),d.push(t[n].data[f][1][3]),u.push(t[n].data[f][1][4])):(d.push(t[n].data[f][1][2]),u.push(t[n].data[f][1][3])));else if(e==="xy")for(var p=0;p<t[n].data.length;p++)Array.isArray(t[n].data[p].y)&&(i.push(t[n].data[p].y[0]),o.push(t[n].data[p].y[1]),a?(c.push(t[n].data[p].y[2]),d.push(t[n].data[p].y[3]),u.push(t[n].data[p].y[4])):(d.push(t[n].data[p].y[2]),u.push(t[n].data[p].y[3])));return{o:i,h:o,m:c,l:d,c:u}}},{key:"parseDataAxisCharts",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,s=this.w.config,a=this.w.globals,i=new Ls(n),o=s.labels.length>0?s.labels.slice():s.xaxis.categories.slice();a.isRangeBar=s.chart.type==="rangeBar"&&a.isBarHorizontal,a.hasXaxisGroups=s.xaxis.type==="category"&&s.xaxis.group.groups.length>0,a.hasXaxisGroups&&(a.groups=s.xaxis.group.groups),e.forEach(function(p,g){p.name!==void 0?a.seriesNames.push(p.name):a.seriesNames.push("series-"+parseInt(g+1,10))}),this.coreUtils.setSeriesYAxisMappings();var c=[],d=cs(new Set(s.series.map(function(p){return p.group})));s.series.forEach(function(p,g){var m=d.indexOf(p.group);c[m]||(c[m]=[]),c[m].push(a.seriesNames[g])}),a.seriesGroups=c;for(var u=function(){for(var p=0;p<o.length;p++)if(typeof o[p]=="string"){if(!i.isValidDate(o[p]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(i.parseDate(o[p]))}else t.twoDSeriesX.push(o[p])},h=0;h<e.length;h++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[h].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(s.chart.type!=="rangeBar"&&s.chart.type!=="rangeArea"&&e[h].type!=="rangeBar"&&e[h].type!=="rangeArea"||(a.isRangeData=!0,s.chart.type!=="rangeBar"&&s.chart.type!=="rangeArea"||this.handleRangeData(e,h)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,h):this.isFormatXY()&&this.handleFormatXY(e,h),s.chart.type!=="candlestick"&&e[h].type!=="candlestick"&&s.chart.type!=="boxPlot"&&e[h].type!=="boxPlot"||this.handleCandleStickBoxData(e,h),a.series.push(this.twoDSeries),a.labels.push(this.twoDSeriesX),a.seriesX.push(this.twoDSeriesX),a.seriesGoals=this.seriesGoals,h!==this.activeSeriesIndex||this.fallbackToCategory||(a.isXNumeric=!0);else{s.xaxis.type==="datetime"?(a.isXNumeric=!0,u(),a.seriesX.push(this.twoDSeriesX)):s.xaxis.type==="numeric"&&(a.isXNumeric=!0,o.length>0&&(this.twoDSeriesX=o,a.seriesX.push(this.twoDSeriesX))),a.labels.push(this.twoDSeriesX);var f=e[h].data.map(function(p){return ye.parseNumber(p)});a.series.push(f)}a.seriesZ.push(this.threeDSeries),e[h].color!==void 0?a.seriesColors.push(e[h].color):a.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,n=this.w.config;t.series=e.slice(),t.seriesNames=n.labels.slice();for(var s=0;s<t.series.length;s++)t.seriesNames[s]===void 0&&t.seriesNames.push("series-"+(s+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,n=this.w.globals;t.xaxis.categories.length>0?n.labels=t.xaxis.categories:t.labels.length>0?n.labels=t.labels.slice():this.fallbackToCategory?(n.labels=n.labels[0],n.seriesRange.length&&(n.seriesRange.map(function(s){s.forEach(function(a){n.labels.indexOf(a.x)<0&&a.x&&n.labels.push(a.x)})}),n.labels=Array.from(new Set(n.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new Qm(t).convertCatToNumericXaxis(t,this.ctx,n.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,n=this.w.config,s=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var a=n.series.map(function(h,f){return h.data.filter(function(p,g,m){return m.findIndex(function(v){return v.x===p.x})===g})}),i=a.reduce(function(h,f,p,g){return g[h].length>f.length?h:p},0),o=0;o<a[i].length;o++)s.push(o+1);else for(var c=0;c<t.series[t.maxValsInArrayIndex].length;c++)s.push(c+1);t.seriesX=[];for(var d=0;d<e.length;d++)t.seriesX.push(s);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(s.length===0){s=t.axisCharts?[]:t.series.map(function(h,f){return f+1});for(var u=0;u<e.length;u++)t.seriesX.push(s)}t.labels=s,n.xaxis.convertedCatToNumeric&&(t.categoryLabels=s.map(function(h){return n.xaxis.labels.formatter(h)})),t.noLabelsProvided=!0}},{key:"parseData",value:function(e){var t=this.w,n=t.config,s=t.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),s.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),n.chart.stacked){var a=new Wi(this.ctx);s.series=a.setNullSeriesToZeroValues(s.series)}this.coreUtils.getSeriesTotals(),s.axisCharts&&(s.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),s.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),s.dataFormatXNumeric||s.isXNumeric&&(n.xaxis.type!=="numeric"||n.labels.length!==0||n.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var i=this.coreUtils.getCategoryLabels(s.labels),o=0;o<i.length;o++)if(Array.isArray(i[o])){s.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach(function(n,s){var a=0;n.forEach(function(i){e.globals.collapsedSeriesIndices.indexOf(i)!==-1&&a++}),a>0&&a==n.length&&t.push(s)}),e.globals.ignoreYAxisIndexes=t.map(function(n){return n})}}]),r}(),vy=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return Ct(r,[{key:"scaleSvgNode",value:function(e,t){var n=parseFloat(e.getAttributeNS(null,"width")),s=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",n*t),e.setAttributeNS(null,"height",s*t),e.setAttributeNS(null,"viewBox","0 0 "+n+" "+s)}},{key:"getSvgString",value:function(e){var t=this;return new Promise(function(n){var s=t.w,a=e||s.config.chart.toolbar.export.scale||s.config.chart.toolbar.export.width/s.globals.svgWidth;a||(a=1);var i=t.w.globals.dom.Paper.svg(),o=t.w.globals.dom.Paper.node.cloneNode(!0);a!==1&&t.scaleSvgNode(o,a),t.convertImagesToBase64(o).then(function(){i=new XMLSerializer().serializeToString(o),n(i.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var t=this,n=e.getElementsByTagName("image"),s=Array.from(n).map(function(a){var i=a.getAttributeNS("http://www.w3.org/1999/xlink","href");return i&&!i.startsWith("data:")?t.getBase64FromUrl(i).then(function(o){a.setAttributeNS("http://www.w3.org/1999/xlink","href",o)}).catch(function(o){console.error("Error converting image to base64:",o)}):Promise.resolve()});return Promise.all(s)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(t,n){var s=new Image;s.crossOrigin="Anonymous",s.onload=function(){var a=document.createElement("canvas");a.width=s.width,a.height=s.height,a.getContext("2d").drawImage(s,0,0),t(a.toDataURL())},s.onerror=n,s.src=e})}},{key:"cleanup",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),n=e.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(s,function(a){a.setAttribute("width",0)}),t&&t[0]&&(t[0].setAttribute("x",-500),t[0].setAttribute("x1",-500),t[0].setAttribute("x2",-500)),n&&n[0]&&(n[0].setAttribute("y",-100),n[0].setAttribute("y1",-100),n[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(t){e.cleanup(),e.getSvgString().then(function(n){var s=new Blob([n],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(s))})})}},{key:"dataURI",value:function(e){var t=this;return new Promise(function(n){var s=t.w,a=e?e.scale||e.width/s.globals.svgWidth:1;t.cleanup();var i=document.createElement("canvas");i.width=s.globals.svgWidth*a,i.height=parseInt(s.globals.dom.elWrap.style.height,10)*a;var o=s.config.chart.background!=="transparent"&&s.config.chart.background?s.config.chart.background:"#fff",c=i.getContext("2d");c.fillStyle=o,c.fillRect(0,0,i.width*a,i.height*a),t.getSvgString(a).then(function(d){var u="data:image/svg+xml,"+encodeURIComponent(d),h=new Image;h.crossOrigin="anonymous",h.onload=function(){if(c.drawImage(h,0,0),i.msToBlob){var f=i.msToBlob();n({blob:f})}else{var p=i.toDataURL("image/png");n({imgURI:p})}},h.src=u})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,n=this.w.config.chart.toolbar.export.width,s=t?{scale:t}:n?{width:n}:void 0;this.dataURI(s).then(function(a){var i=a.imgURI,o=a.blob;o?navigator.msSaveOrOpenBlob(o,e.w.globals.chartID+".png"):e.triggerDownload(i,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var t=this,n=e.series,s=e.fileName,a=e.columnDelimiter,i=a===void 0?",":a,o=e.lineDelimiter,c=o===void 0?`
`:o,d=this.w;n||(n=d.config.series);var u=[],h=[],f="",p=d.globals.series.map(function(S,N){return d.globals.collapsedSeriesIndices.indexOf(N)===-1?S:[]}),g=function(S){return typeof d.config.chart.toolbar.export.csv.categoryFormatter=="function"?d.config.chart.toolbar.export.csv.categoryFormatter(S):d.config.xaxis.type==="datetime"&&String(S).length>=10?new Date(S).toDateString():ye.isNumber(S)?S:S.split(i).join("")},m=function(S){return typeof d.config.chart.toolbar.export.csv.valueFormatter=="function"?d.config.chart.toolbar.export.csv.valueFormatter(S):S},v=Math.max.apply(Math,cs(n.map(function(S){return S.data?S.data.length:0}))),x=new pN(this.ctx),y=new bd(this.ctx),w=function(S){var N="";if(d.globals.axisCharts){if(d.config.xaxis.type==="category"||d.config.xaxis.convertedCatToNumeric)if(d.globals.isBarHorizontal){var A=d.globals.yLabelFormatters[0],E=new Wi(t.ctx).getActiveConfigSeriesIndex();N=A(d.globals.labels[S],{seriesIndex:E,dataPointIndex:S,w:d})}else N=y.getLabel(d.globals.labels,d.globals.timescaleLabels,0,S).text;d.config.xaxis.type==="datetime"&&(d.config.xaxis.categories.length?N=d.config.xaxis.categories[S]:d.config.labels.length&&(N=d.config.labels[S]))}else N=d.config.labels[S];return N===null?"nullvalue":(Array.isArray(N)&&(N=N.join(" ")),ye.isNumber(N)?N:N.split(i).join(""))},k=function(S,N){if(u.length&&N===0&&h.push(u.join(i)),S.data){S.data=S.data.length&&S.data||cs(Array(v)).map(function(){return""});for(var A=0;A<S.data.length;A++){u=[];var E=w(A);if(E!=="nullvalue"){if(E||(x.isFormatXY()?E=n[N].data[A].x:x.isFormat2DArray()&&(E=n[N].data[A]?n[N].data[A][0]:"")),N===0){u.push(g(E));for(var R=0;R<d.globals.series.length;R++){var O,L=x.isFormatXY()?(O=n[R].data[A])===null||O===void 0?void 0:O.y:p[R][A];u.push(m(L))}}(d.config.chart.type==="candlestick"||S.type&&S.type==="candlestick")&&(u.pop(),u.push(d.globals.seriesCandleO[N][A]),u.push(d.globals.seriesCandleH[N][A]),u.push(d.globals.seriesCandleL[N][A]),u.push(d.globals.seriesCandleC[N][A])),(d.config.chart.type==="boxPlot"||S.type&&S.type==="boxPlot")&&(u.pop(),u.push(d.globals.seriesCandleO[N][A]),u.push(d.globals.seriesCandleH[N][A]),u.push(d.globals.seriesCandleM[N][A]),u.push(d.globals.seriesCandleL[N][A]),u.push(d.globals.seriesCandleC[N][A])),d.config.chart.type==="rangeBar"&&(u.pop(),u.push(d.globals.seriesRangeStart[N][A]),u.push(d.globals.seriesRangeEnd[N][A])),u.length&&h.push(u.join(i))}}}};u.push(d.config.chart.toolbar.export.csv.headerCategory),d.config.chart.type==="boxPlot"?(u.push("minimum"),u.push("q1"),u.push("median"),u.push("q3"),u.push("maximum")):d.config.chart.type==="candlestick"?(u.push("open"),u.push("high"),u.push("low"),u.push("close")):d.config.chart.type==="rangeBar"?(u.push("minimum"),u.push("maximum")):n.map(function(S,N){var A=(S.name?S.name:"series-".concat(N))+"";d.globals.axisCharts&&u.push(A.split(i).join("")?A.split(i).join(""):"series-".concat(N))}),d.globals.axisCharts||(u.push(d.config.chart.toolbar.export.csv.headerValue),h.push(u.join(i))),d.globals.allSeriesHasEqualX||!d.globals.axisCharts||d.config.xaxis.categories.length||d.config.labels.length?n.map(function(S,N){d.globals.axisCharts?k(S,N):((u=[]).push(g(d.globals.labels[N])),u.push(m(p[N])),h.push(u.join(i)))}):function(){var S=new Set,N={};n.forEach(function(A,E){A==null||A.data.forEach(function(R){var O,L;if(x.isFormatXY())O=R.x,L=R.y;else{if(!x.isFormat2DArray())return;O=R[0],L=R[1]}N[O]||(N[O]=Array(n.length).fill("")),N[O][E]=m(L),S.add(O)})}),u.length&&h.push(u.join(i)),Array.from(S).sort().forEach(function(A){h.push([g(A),N[A].join(i)])})}(),f+=h.join(c),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+f),s||d.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,n){var s=document.createElement("a");s.href=e,s.download=(t||this.w.globals.chartID)+n,document.body.appendChild(s),s.click(),document.body.removeChild(s)}}]),r}(),t0=function(){function r(e,t){kt(this,r),this.ctx=e,this.elgrid=t,this.w=e.w;var n=this.w;this.axesUtils=new bd(e),this.xaxisLabels=n.globals.labels.slice(),n.globals.timescaleLabels.length>0&&!n.globals.isBarHorizontal&&(this.xaxisLabels=n.globals.timescaleLabels.slice()),n.config.xaxis.overwriteCategories&&(this.xaxisLabels=n.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],n.config.xaxis.position==="top"?this.offY=0:this.offY=n.globals.gridHeight,this.offY=this.offY+n.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=n.config.chart.type==="bar"&&n.config.plotOptions.bar.horizontal,this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.xaxisBorderWidth=n.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=n.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=n.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=n.config.xaxis.axisBorder.height,this.yaxis=n.config.yaxis[0]}return Ct(r,[{key:"drawXaxis",value:function(){var e=this.w,t=new Ge(this.ctx),n=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),s=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});n.add(s);for(var a=[],i=0;i<this.xaxisLabels.length;i++)a.push(this.xaxisLabels[i]);if(this.drawXAxisLabelAndGroup(!0,t,s,a,e.globals.isXNumeric,function(g,m){return m}),e.globals.hasXaxisGroups){var o=e.globals.groups;a=[];for(var c=0;c<o.length;c++)a.push(o[c].title);var d={};e.config.xaxis.group.style&&(d.xaxisFontSize=e.config.xaxis.group.style.fontSize,d.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,d.xaxisForeColors=e.config.xaxis.group.style.colors,d.fontWeight=e.config.xaxis.group.style.fontWeight,d.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,s,a,!1,function(g,m){return o[g].cols*m},d)}if(e.config.xaxis.title.text!==void 0){var u=t.group({class:"apexcharts-xaxis-title"}),h=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});u.add(h),n.add(u)}if(e.config.xaxis.axisBorder.show){var f=e.globals.barPadForNumericAxis,p=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-f,this.offY,this.xaxisBorderWidth+f,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(p):n.add(p)}return n}},{key:"drawXAxisLabelAndGroup",value:function(e,t,n,s,a,i){var o,c=this,d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},u=[],h=[],f=this.w,p=d.xaxisFontSize||this.xaxisFontSize,g=d.xaxisFontFamily||this.xaxisFontFamily,m=d.xaxisForeColors||this.xaxisForeColors,v=d.fontWeight||f.config.xaxis.labels.style.fontWeight,x=d.cssClass||f.config.xaxis.labels.style.cssClass,y=f.globals.padHorizontal,w=s.length,k=f.config.xaxis.type==="category"?f.globals.dataPoints:w;if(k===0&&w>k&&(k=w),a){var S=Math.max(Number(f.config.xaxis.tickAmount)||1,k>1?k-1:k);o=f.globals.gridWidth/Math.min(S,w-1),y=y+i(0,o)/2+f.config.xaxis.labels.offsetX}else o=f.globals.gridWidth/k,y=y+i(0,o)+f.config.xaxis.labels.offsetX;for(var N=function(E){var R=y-i(E,o)/2+f.config.xaxis.labels.offsetX;E===0&&w===1&&o/2===y&&k===1&&(R=f.globals.gridWidth/2);var O=c.axesUtils.getLabel(s,f.globals.timescaleLabels,R,E,u,p,e),L=28;if(f.globals.rotateXLabels&&e&&(L=22),f.config.xaxis.title.text&&f.config.xaxis.position==="top"&&(L+=parseFloat(f.config.xaxis.title.style.fontSize)+2),e||(L=L+parseFloat(p)+(f.globals.xAxisLabelsHeight-f.globals.xAxisGroupLabelsHeight)+(f.globals.rotateXLabels?10:0)),O=f.config.xaxis.tickAmount!==void 0&&f.config.xaxis.tickAmount!=="dataPoints"&&f.config.xaxis.type!=="datetime"?c.axesUtils.checkLabelBasedOnTickamount(E,O,w):c.axesUtils.checkForOverflowingLabels(E,O,w,u,h),f.config.xaxis.labels.show){var D=t.drawText({x:O.x,y:c.offY+f.config.xaxis.labels.offsetY+L-(f.config.xaxis.position==="top"?f.globals.xAxisHeight+f.config.xaxis.axisTicks.height-2:0),text:O.text,textAnchor:"middle",fontWeight:O.isBold?600:v,fontSize:p,fontFamily:g,foreColor:Array.isArray(m)?e&&f.config.xaxis.convertedCatToNumeric?m[f.globals.minX+E-1]:m[E]:m,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+x});if(n.add(D),D.on("click",function(M){if(typeof f.config.chart.events.xAxisLabelClick=="function"){var B=Object.assign({},f,{labelIndex:E});f.config.chart.events.xAxisLabelClick(M,c.ctx,B)}}),e){var F=document.createElementNS(f.globals.SVGNS,"title");F.textContent=Array.isArray(O.text)?O.text.join(" "):O.text,D.node.appendChild(F),O.text!==""&&(u.push(O.text),h.push(O))}}E<w-1&&(y+=i(E+1,o))},A=0;A<=w-1;A++)N(A)}},{key:"drawXaxisInversed",value:function(e){var t,n,s=this,a=this.w,i=new Ge(this.ctx),o=a.config.yaxis[0].opposite?a.globals.translateYAxisX[e]:0,c=i.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),d=i.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+o+", 0)"});c.add(d);var u=[];if(a.config.yaxis[e].show)for(var h=0;h<this.xaxisLabels.length;h++)u.push(this.xaxisLabels[h]);t=a.globals.gridHeight/u.length,n=-t/2.2;var f=a.globals.yLabelFormatters[0],p=a.config.yaxis[0].labels;if(p.show)for(var g=function(S){var N=u[S]===void 0?"":u[S];N=f(N,{seriesIndex:e,dataPointIndex:S,w:a});var A=s.axesUtils.getYAxisForeColor(p.style.colors,e),E=0;Array.isArray(N)&&(E=N.length/2*parseInt(p.style.fontSize,10));var R=p.offsetX-15,O="end";s.yaxis.opposite&&(O="start"),a.config.yaxis[0].labels.align==="left"?(R=p.offsetX,O="start"):a.config.yaxis[0].labels.align==="center"?(R=p.offsetX,O="middle"):a.config.yaxis[0].labels.align==="right"&&(O="end");var L=i.drawText({x:R,y:n+t+p.offsetY-E,text:N,textAnchor:O,foreColor:Array.isArray(A)?A[S]:A,fontSize:p.style.fontSize,fontFamily:p.style.fontFamily,fontWeight:p.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+p.style.cssClass,maxWidth:p.maxWidth});d.add(L),L.on("click",function(M){if(typeof a.config.chart.events.xAxisLabelClick=="function"){var B=Object.assign({},a,{labelIndex:S});a.config.chart.events.xAxisLabelClick(M,s.ctx,B)}});var D=document.createElementNS(a.globals.SVGNS,"title");if(D.textContent=Array.isArray(N)?N.join(" "):N,L.node.appendChild(D),a.config.yaxis[e].labels.rotate!==0){var F=i.rotateAroundCenter(L.node);L.node.setAttribute("transform","rotate(".concat(a.config.yaxis[e].labels.rotate," 0 ").concat(F.y,")"))}n+=t},m=0;m<=u.length-1;m++)g(m);if(a.config.yaxis[0].title.text!==void 0){var v=i.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+o+", 0)"}),x=i.drawText({x:a.config.yaxis[0].title.offsetX,y:a.globals.gridHeight/2+a.config.yaxis[0].title.offsetY,text:a.config.yaxis[0].title.text,textAnchor:"middle",foreColor:a.config.yaxis[0].title.style.color,fontSize:a.config.yaxis[0].title.style.fontSize,fontWeight:a.config.yaxis[0].title.style.fontWeight,fontFamily:a.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+a.config.yaxis[0].title.style.cssClass});v.add(x),c.add(v)}var y=0;this.isCategoryBarHorizontal&&a.config.yaxis[0].opposite&&(y=a.globals.gridWidth);var w=a.config.xaxis.axisBorder;if(w.show){var k=i.drawLine(a.globals.padHorizontal+w.offsetX+y,1+w.offsetY,a.globals.padHorizontal+w.offsetX+y,a.globals.gridHeight+w.offsetY,w.color,0);this.elgrid&&this.elgrid.elGridBorders&&a.config.grid.show?this.elgrid.elGridBorders.add(k):c.add(k)}return a.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(y,u.length,a.config.yaxis[0].axisBorder,a.config.yaxis[0].axisTicks,0,t,c),c}},{key:"drawXaxisTicks",value:function(e,t,n){var s=this.w,a=e;if(!(e<0||e-2>s.globals.gridWidth)){var i=this.offY+s.config.xaxis.axisTicks.offsetY;if(t=t+i+s.config.xaxis.axisTicks.height,s.config.xaxis.position==="top"&&(t=i-s.config.xaxis.axisTicks.height),s.config.xaxis.axisTicks.show){var o=new Ge(this.ctx).drawLine(e+s.config.xaxis.axisTicks.offsetX,i+s.config.xaxis.offsetY,a+s.config.xaxis.axisTicks.offsetX,t+s.config.xaxis.offsetY,s.config.xaxis.axisTicks.color);n.add(o),o.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],n=this.xaxisLabels.length,s=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var a=0;a<n;a++)s=this.xaxisLabels[a].position,t.push(s);else for(var i=n,o=0;o<i;o++){var c=i;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(c-=1),s+=e.globals.gridWidth/c,t.push(s)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new Ge(this.ctx),n=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var o=0;o<s.length;o++){var c=t.rotateAroundCenter(s[o]);c.y=c.y-1,c.x=c.x+1,s[o].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(c.x," ").concat(c.y,")")),s[o].setAttribute("text-anchor","end"),n.setAttribute("transform","translate(0, ".concat(-10,")"));var d=s[o].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(d,function(p){t.placeTextWithEllipsis(p,p.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))})}else(function(){for(var p=e.globals.gridWidth/(e.globals.labels.length+1),g=0;g<s.length;g++){var m=s[g].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(m,function(v){t.placeTextWithEllipsis(v,v.textContent,p)})}})();if(a.length>0){var u=a[a.length-1].getBBox(),h=a[0].getBBox();u.x<-20&&a[a.length-1].parentNode.removeChild(a[a.length-1]),h.x+h.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&a[0].parentNode.removeChild(a[0]);for(var f=0;f<i.length;f++)t.placeTextWithEllipsis(i[f],i[f].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),r}(),wI=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new bd(e),this.isRangeBar=t.globals.seriesRange.length&&t.globals.isBarHorizontal,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return Ct(r,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w,n=new Ge(this.ctx);e||(e=n.group({class:"apexcharts-grid"}));var s=n.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),a=n.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(a),e.add(s),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,n=new Ge(this.ctx),s=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,cs(e.config.stroke.width)):e.config.stroke.width,a=function(u){var h=document.createElementNS(t.SVGNS,"clipPath");return h.setAttribute("id",u),h};t.dom.elGridRectMask=a("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=a("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=a("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=a("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=a("nonForecastMask".concat(t.cuid));var i=0,o=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(i=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),o=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=n.drawRect(-s/2-2,-s/2-2,t.gridWidth+s+4,t.gridHeight+s+4,0,"#fff"),t.dom.elGridRectBar=n.drawRect(-s/2-i-2,-s/2-2,t.gridWidth+s+o+i+4,t.gridHeight+s+4,0,"#fff");var c=e.globals.markers.largestSize;t.dom.elGridRectMarker=n.drawRect(-c,-c,t.gridWidth+2*c,t.gridHeight+2*c,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var d=t.dom.baseEl.querySelector("defs");d.appendChild(t.dom.elGridRectMask),d.appendChild(t.dom.elGridRectBarMask),d.appendChild(t.dom.elGridRectMarkerMask),d.appendChild(t.dom.elForecastMask),d.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,n=e.x1,s=e.y1,a=e.x2,i=e.y2,o=e.xCount,c=e.parent,d=this.w;if(!(t===0&&d.globals.skipFirstTimelinelabel||t===o-1&&d.globals.skipLastTimelinelabel&&!d.config.xaxis.labels.formatter||d.config.chart.type==="radar")){d.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:n,y1:s,x2:a,y2:i,xCount:o,parent:c});var u=0;if(d.globals.hasXaxisGroups&&d.config.xaxis.tickPlacement==="between"){var h=d.globals.groups;if(h){for(var f=0,p=0;f<t&&p<h.length;p++)f+=h[p].cols;f===t&&(u=.6*d.globals.xAxisLabelsHeight)}}new t0(this.ctx).drawXaxisTicks(n,u,d.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,n=e.x1,s=e.y1,a=e.x2,i=e.y2,o=e.xCount,c=e.parent,d=this.w,u=c.node.classList.contains("apexcharts-gridlines-horizontal"),h=d.globals.barPadForNumericAxis,f=s===0&&i===0||n===0&&a===0||s===d.globals.gridHeight&&i===d.globals.gridHeight||d.globals.isBarHorizontal&&(t===0||t===o-1),p=new Ge(this).drawLine(n-(u?h:0),s,a+(u?h:0),i,d.config.grid.borderColor,d.config.grid.strokeDashArray);p.node.classList.add("apexcharts-gridline"),f&&d.config.grid.show?this.elGridBorders.add(p):c.add(p)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,n=e.x1,s=e.y1,a=e.x2,i=e.y2,o=e.type,c=this.w,d=new Ge(this.ctx),u=c.globals.barPadForNumericAxis,h=c.config.grid[o].colors[t],f=d.drawRect(n-(o==="row"?u:0),s,a+(o==="row"?2*u:0),i,0,h,c.config.grid[o].opacity);this.elg.add(f),f.attr("clip-path","url(#gridRectMask".concat(c.globals.cuid,")")),f.node.classList.add("apexcharts-grid-".concat(o))}},{key:"_drawXYLines",value:function(e){var t=this,n=e.xCount,s=e.tickAmount,a=this.w;if(a.config.grid.xaxis.lines.show||a.config.xaxis.axisTicks.show){var i,o=a.globals.padHorizontal,c=a.globals.gridHeight;a.globals.timescaleLabels.length?function(g){for(var m=g.xC,v=g.x1,x=g.y1,y=g.x2,w=g.y2,k=0;k<m;k++)v=t.xaxisLabels[k].position,y=t.xaxisLabels[k].position,t._drawGridLines({i:k,x1:v,y1:x,x2:y,y2:w,xCount:n,parent:t.elgridLinesV})}({xC:n,x1:o,y1:0,x2:i,y2:c}):(a.globals.isXNumeric&&(n=a.globals.xAxisScale.result.length),function(g){for(var m=g.xC,v=g.x1,x=g.y1,y=g.x2,w=g.y2,k=0;k<m+(a.globals.isXNumeric?0:1);k++)k===0&&m===1&&a.globals.dataPoints===1&&(y=v=a.globals.gridWidth/2),t._drawGridLines({i:k,x1:v,y1:x,x2:y,y2:w,xCount:n,parent:t.elgridLinesV}),y=v+=a.globals.gridWidth/(a.globals.isXNumeric?m-1:m)}({xC:n,x1:o,y1:0,x2:i,y2:c}))}if(a.config.grid.yaxis.lines.show){var d=0,u=0,h=a.globals.gridWidth,f=s+1;this.isRangeBar&&(f=a.globals.labels.length);for(var p=0;p<f+(this.isRangeBar?1:0);p++)this._drawGridLine({i:p,xCount:f+(this.isRangeBar?1:0),x1:0,y1:d,x2:h,y2:u,parent:this.elgridLinesH}),u=d+=a.globals.gridHeight/(this.isRangeBar?f:s)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show)for(var s,a=n.globals.padHorizontal,i=n.globals.gridHeight,o=0;o<t+1;o++)n.config.grid.xaxis.lines.show&&this._drawGridLine({i:o,xCount:t+1,x1:a,y1:0,x2:s,y2:i,parent:this.elgridLinesV}),new t0(this.ctx).drawXaxisTicks(a,0,n.globals.dom.elGraphical),s=a+=n.globals.gridWidth/t;if(n.config.grid.yaxis.lines.show)for(var c=0,d=0,u=n.globals.gridWidth,h=0;h<n.globals.dataPoints+1;h++)this._drawGridLine({i:h,xCount:n.globals.dataPoints+1,x1:0,y1:c,x2:u,y2:d,parent:this.elgridLinesH}),d=c+=n.globals.gridHeight/n.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,n=new Ge(this.ctx);this.elg=n.group({class:"apexcharts-grid"}),this.elgridLinesH=n.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=n.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=n.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var s=0;s<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(s);)s++;s===t.seriesYAxisMap.length&&(s=0);var a,i=t.yAxisScale[s].result.length-1;if(!t.isBarHorizontal||this.isRangeBar){var o,c,d;a=this.xaxisLabels.length,this.isRangeBar&&(i=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(a=e.config.xaxis.tickAmount),((o=t.yAxisScale)===null||o===void 0||(c=o[s])===null||c===void 0||(d=c.result)===null||d===void 0?void 0:d.length)>0&&e.config.xaxis.type!=="datetime"&&(a=t.yAxisScale[s].result.length-1)),this._drawXYLines({xCount:a,tickAmount:i})}else a=i,i=t.xTickAmount,this._drawInvertedXYLines({xCount:a,tickAmount:i});return this.drawGridBands(a,i),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/a}}},{key:"drawGridBands",value:function(e,t){var n,s,a=this,i=this.w;if(((n=i.config.grid.row.colors)===null||n===void 0?void 0:n.length)>0&&function(g,m,v,x,y,w){for(var k=0,S=0;k<m;k++,S++)S>=i.config.grid[g].colors.length&&(S=0),a._drawGridBandRect({c:S,x1:v,y1:x,x2:y,y2:w,type:g}),x+=i.globals.gridHeight/t}("row",t,0,0,i.globals.gridWidth,i.globals.gridHeight/t),((s=i.config.grid.column.colors)===null||s===void 0?void 0:s.length)>0){var o=i.globals.isBarHorizontal||i.config.xaxis.tickPlacement!=="on"||i.config.xaxis.type!=="category"&&!i.config.xaxis.convertedCatToNumeric?e:e-1;i.globals.isXNumeric&&(o=i.globals.xAxisScale.result.length-1);for(var c=i.globals.padHorizontal,d=i.globals.padHorizontal+i.globals.gridWidth/o,u=i.globals.gridHeight,h=0,f=0;h<e;h++,f++){var p;f>=i.config.grid.column.colors.length&&(f=0),i.config.xaxis.type==="datetime"&&(c=this.xaxisLabels[h].position,d=(((p=this.xaxisLabels[h+1])===null||p===void 0?void 0:p.position)||i.globals.gridWidth)-this.xaxisLabels[h].position),this._drawGridBandRect({c:f,x1:c,y1:0,x2:d,y2:u,type:"column"}),c+=i.globals.gridWidth/o}}}}]),r}(),kI=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.coreUtils=new Pn(this.ctx)}return Ct(r,[{key:"niceScale",value:function(e,t){var n,s,a,i,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=1e-11,d=this.w,u=d.globals;u.isBarHorizontal?(n=d.config.xaxis,s=Math.max((u.svgWidth-100)/25,2)):(n=d.config.yaxis[o],s=Math.max((u.svgHeight-100)/15,2)),ye.isNumber(s)||(s=10),a=n.min!==void 0&&n.min!==null,i=n.max!==void 0&&n.min!==null;var h=n.stepSize!==void 0&&n.stepSize!==null,f=n.tickAmount!==void 0&&n.tickAmount!==null,p=f?n.tickAmount:u.niceScaleDefaultTicks[Math.min(Math.round(s/2),u.niceScaleDefaultTicks.length-1)];if(u.isMultipleYAxis&&!f&&u.multiAxisTickAmount>0&&(p=u.multiAxisTickAmount,f=!0),p=p==="dataPoints"?u.dataPoints-1:Math.abs(Math.round(p)),(e===Number.MIN_VALUE&&t===0||!ye.isNumber(e)&&!ye.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=ye.isNumber(n.min)?n.min:0,t=ye.isNumber(n.max)?n.max:e+p,u.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var g=t;t=e,e=g}else e===t&&(e=e===0?0:e-1,t=t===0?2:t+1);var m=[];p<1&&(p=1);var v=p,x=Math.abs(t-e);!a&&e>0&&e/x<.15&&(e=0,a=!0),!i&&t<0&&-t/x<.15&&(t=0,i=!0);var y=(x=Math.abs(t-e))/v,w=y,k=Math.floor(Math.log10(w)),S=Math.pow(10,k),N=Math.ceil(w/S);if(y=w=(N=u.niceScaleAllowedMagMsd[u.yValueDecimal===0?0:1][N])*S,u.isBarHorizontal&&n.stepSize&&n.type!=="datetime"?(y=n.stepSize,h=!0):h&&(y=n.stepSize),h&&n.forceNiceScale){var A=Math.floor(Math.log10(y));y*=Math.pow(10,k-A)}if(a&&i){var E=x/v;if(f)if(h)if(ye.mod(x,y)!=0){var R=ye.getGCD(y,E);y=E/R<10?R:E}else ye.mod(y,E)==0?y=E:(E=y,f=!1);else y=E;else if(h)ye.mod(x,y)==0?E=y:y=E;else if(ye.mod(x,y)==0)E=y;else{E=x/(v=Math.ceil(x/y));var O=ye.getGCD(x,y);x/O<s&&(E=O),y=E}v=Math.round(x/y)}else{if(a||i){if(i)if(f)e=t-y*v;else{var L=e;e=y*Math.floor(e/y),Math.abs(t-e)/ye.getGCD(x,y)>s&&(e=t-y*p,e+=y*Math.floor((L-e)/y))}else if(a)if(f)t=e+y*v;else{var D=t;t=y*Math.ceil(t/y),Math.abs(t-e)/ye.getGCD(x,y)>s&&(t=e+y*p,t+=y*Math.ceil((D-t)/y))}}else if(u.isMultipleYAxis&&f){var F=y*Math.floor(e/y),M=F+y*v;M<t&&(y*=2),M=t,t=(e=F)+y*v,x=Math.abs(t-e),e>0&&e<Math.abs(M-t)&&(e=0,t=y*v),t<0&&-t<Math.abs(F-e)&&(t=0,e=-y*v)}else e=y*Math.floor(e/y),t=y*Math.ceil(t/y);x=Math.abs(t-e),y=ye.getGCD(x,y),v=Math.round(x/y)}if(f||a||i||(v=Math.ceil((x-c)/(y+c)))>16&&ye.getPrimeFactors(v).length<2&&v++,!f&&n.forceNiceScale&&u.yValueDecimal===0&&v>x&&(v=x,y=Math.round(x/v)),v>s&&(!f&&!h||n.forceNiceScale)){var B=ye.getPrimeFactors(v),z=B.length-1,V=v;e:for(var W=0;W<z;W++)for(var Z=0;Z<=z-W;Z++){for(var q=Math.min(Z+W,z),Q=V,T=1,H=Z;H<=q;H++)T*=B[H];if((Q/=T)<s){V=Q;break e}}y=V===v?x:x/V,v=Math.round(x/y)}u.isMultipleYAxis&&u.multiAxisTickAmount==0&&u.ignoreYAxisIndexes.indexOf(o)<0&&(u.multiAxisTickAmount=v);var $=e-y,Y=y*c;do $+=y,m.push(ye.stripNumber($,7));while(t-$>Y);return{result:m,niceMin:m[0],niceMax:m[m.length-1]}}},{key:"linearScale",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,i=Math.abs(t-e),o=[];if(e===t)return{result:o=[e],niceMin:o[0],niceMax:o[o.length-1]};(n=this._adjustTicksForSmallRange(n,s,i))==="dataPoints"&&(n=this.w.globals.dataPoints-1),a||(a=i/n),a=Math.round(10*(a+Number.EPSILON))/10,n===Number.MAX_VALUE&&(n=5,a=1);for(var c=e;n>=0;)o.push(c),c=ye.preciseAddition(c,a),n-=1;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var s=[],a=Math.ceil(Math.log(t)/Math.log(n)+1),i=Math.floor(Math.log(e)/Math.log(n));i<a;i++)s.push(Math.pow(n,i));return{result:s,niceMin:s[0],niceMax:s[s.length-1]}}},{key:"logarithmicScale",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var s=[],a=Math.log(t)/Math.log(n),i=Math.log(e)/Math.log(n),o=a-i,c=Math.round(o),d=o/c,u=0,h=i;u<c;u++,h+=d)s.push(Math.pow(n,h));return s.push(Math.pow(n,a)),{result:s,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,n){var s=e;if(t!==void 0&&this.w.config.yaxis[t].labels.formatter&&this.w.config.yaxis[t].tickAmount===void 0){var a=Number(this.w.config.yaxis[t].labels.formatter(1));ye.isNumber(a)&&this.w.globals.yValueDecimal===0&&(s=Math.ceil(n))}return s<e?s:e}},{key:"setYScaleForIndex",value:function(e,t,n){var s=this.w.globals,a=this.w.config,i=s.isBarHorizontal?a.xaxis:a.yaxis[e];s.yAxisScale[e]===void 0&&(s.yAxisScale[e]=[]);var o=Math.abs(n-t);i.logarithmic&&o<=5&&(s.invalidLogScale=!0),i.logarithmic&&o>5?(s.allSeriesCollapsed=!1,s.yAxisScale[e]=i.forceNiceScale?this.logarithmicScaleNice(t,n,i.logBase):this.logarithmicScale(t,n,i.logBase)):n!==-Number.MAX_VALUE&&ye.isNumber(n)&&t!==Number.MAX_VALUE&&ye.isNumber(t)?(s.allSeriesCollapsed=!1,s.yAxisScale[e]=this.niceScale(t,n,e)):s.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var n=this.w,s=n.globals,a=Math.abs(t-e);if(t!==-Number.MAX_VALUE&&ye.isNumber(t)){var i=s.xTickAmount;a<10&&a>1&&(i=a),s.xAxisScale=this.linearScale(e,t,i,0,n.config.xaxis.stepSize)}else s.xAxisScale=this.linearScale(0,10,10);return s.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,n=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var s=n.seriesYAxisMap,a=n.minYArr,i=n.maxYArr;n.allSeriesCollapsed=!0,n.barGroups=[],s.forEach(function(o,c){var d=[];o.forEach(function(u){var h,f=(h=t.series[u])===null||h===void 0?void 0:h.group;d.indexOf(f)<0&&d.push(f)}),o.length>0?function(){var u,h,f=Number.MAX_VALUE,p=-Number.MAX_VALUE,g=f,m=p;if(t.chart.stacked)(function(){var y=new Array(n.dataPoints).fill(0),w=[],k=[],S=[];d.forEach(function(){w.push(y.map(function(){return Number.MIN_VALUE})),k.push(y.map(function(){return Number.MIN_VALUE})),S.push(y.map(function(){return Number.MIN_VALUE}))});for(var N=function(E){!u&&t.series[o[E]].type&&(u=t.series[o[E]].type);var R=o[E];h=t.series[R].group?t.series[R].group:"axis-".concat(c),!(n.collapsedSeriesIndices.indexOf(R)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(R)<0)||(n.allSeriesCollapsed=!1,d.forEach(function(O,L){if(t.series[R].group===O)for(var D=0;D<n.series[R].length;D++){var F=n.series[R][D];F>=0?k[L][D]+=F:S[L][D]+=F,w[L][D]+=F,g=Math.min(g,F),m=Math.max(m,F)}})),u!=="bar"&&u!=="column"||n.barGroups.push(h)},A=0;A<o.length;A++)N(A);u||(u=t.chart.type),u==="bar"||u==="column"?d.forEach(function(E,R){f=Math.min(f,Math.min.apply(null,S[R])),p=Math.max(p,Math.max.apply(null,k[R]))}):(d.forEach(function(E,R){g=Math.min(g,Math.min.apply(null,w[R])),m=Math.max(m,Math.max.apply(null,w[R]))}),f=g,p=m),f===Number.MIN_VALUE&&p===Number.MIN_VALUE&&(p=-Number.MAX_VALUE)})();else for(var v=0;v<o.length;v++){var x=o[v];f=Math.min(f,a[x]),p=Math.max(p,i[x]),!(n.collapsedSeriesIndices.indexOf(x)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(x)<0)||(n.allSeriesCollapsed=!1)}t.yaxis[c].min!==void 0&&(f=typeof t.yaxis[c].min=="function"?t.yaxis[c].min(f):t.yaxis[c].min),t.yaxis[c].max!==void 0&&(p=typeof t.yaxis[c].max=="function"?t.yaxis[c].max(p):t.yaxis[c].max),n.barGroups=n.barGroups.filter(function(y,w,k){return k.indexOf(y)===w}),e.setYScaleForIndex(c,f,p),o.forEach(function(y){a[y]=n.yAxisScale[c].niceMin,i[y]=n.yAxisScale[c].niceMax})}():e.setYScaleForIndex(c,0,-Number.MAX_VALUE)})}}]),r}(),Hk=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.scales=new kI(e)}return Ct(r,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=this.w.config,i=this.w.globals,o=-Number.MAX_VALUE,c=Number.MIN_VALUE;s===null&&(s=e+1);var d=i.series,u=d,h=d;a.chart.type==="candlestick"?(u=i.seriesCandleL,h=i.seriesCandleH):a.chart.type==="boxPlot"?(u=i.seriesCandleO,h=i.seriesCandleC):i.isRangeData&&(u=i.seriesRangeStart,h=i.seriesRangeEnd);var f=!1;if(i.seriesX.length>=s){var p,g=(p=i.brushSource)===null||p===void 0?void 0:p.w.config.chart.brush;(a.chart.zoom.enabled&&a.chart.zoom.autoScaleYaxis||g!=null&&g.enabled&&g!=null&&g.autoScaleYaxis)&&(f=!0)}for(var m=e;m<s;m++){i.dataPoints=Math.max(i.dataPoints,d[m].length);var v=a.series[m].type;i.categoryLabels.length&&(i.dataPoints=i.categoryLabels.filter(function(S){return S!==void 0}).length),i.labels.length&&a.xaxis.type!=="datetime"&&i.series.reduce(function(S,N){return S+N.length},0)!==0&&(i.dataPoints=Math.max(i.dataPoints,i.labels.length));var x=0,y=d[m].length-1;if(f){if(a.xaxis.min)for(;x<y&&i.seriesX[m][x]<a.xaxis.min;x++);if(a.xaxis.max)for(;y>x&&i.seriesX[m][y]>a.xaxis.max;y--);}for(var w=x;w<=y&&w<i.series[m].length;w++){var k=d[m][w];if(k!==null&&ye.isNumber(k)){switch(h[m][w]!==void 0&&(o=Math.max(o,h[m][w]),t=Math.min(t,h[m][w])),u[m][w]!==void 0&&(t=Math.min(t,u[m][w]),n=Math.max(n,u[m][w])),v){case"candlestick":i.seriesCandleC[m][w]!==void 0&&(o=Math.max(o,i.seriesCandleH[m][w]),t=Math.min(t,i.seriesCandleL[m][w]));break;case"boxPlot":i.seriesCandleC[m][w]!==void 0&&(o=Math.max(o,i.seriesCandleC[m][w]),t=Math.min(t,i.seriesCandleO[m][w]))}v&&v!=="candlestick"&&v!=="boxPlot"&&v!=="rangeArea"&&v!=="rangeBar"&&(o=Math.max(o,i.series[m][w]),t=Math.min(t,i.series[m][w])),i.seriesGoals[m]&&i.seriesGoals[m][w]&&Array.isArray(i.seriesGoals[m][w])&&i.seriesGoals[m][w].forEach(function(S){o=Math.max(o,S.value),t=Math.min(t,S.value)}),n=o,k=ye.noExponents(k),ye.isFloat(k)&&(i.yValueDecimal=Math.max(i.yValueDecimal,k.toString().split(".")[1].length)),c>u[m][w]&&u[m][w]<0&&(c=u[m][w])}else i.hasNullValues=!0}v!=="bar"&&v!=="column"||(c<0&&o<0&&(o=0,n=Math.max(n,0)),c===Number.MIN_VALUE&&(c=0,t=Math.min(t,0)))}return a.chart.type==="rangeBar"&&i.seriesRangeStart.length&&i.isBarHorizontal&&(c=t),a.chart.type==="bar"&&(c<0&&o<0&&(o=0),c===Number.MIN_VALUE&&(c=0)),{minY:c,maxY:o,lowestY:t,highestY:n}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var n,s=Number.MAX_VALUE;if(e.isMultipleYAxis){s=Number.MAX_VALUE;for(var a=0;a<e.series.length;a++)n=this.getMinYMaxY(a),e.minYArr[a]=n.lowestY,e.maxYArr[a]=n.highestY,s=Math.min(s,n.lowestY)}return n=this.getMinYMaxY(0,s,null,e.series.length),t.chart.type==="bar"?(e.minY=n.minY,e.maxY=n.maxY):(e.minY=n.lowestY,e.maxY=n.highestY),s=n.lowestY,t.chart.stacked&&this._setStackedMinMax(),t.chart.type==="line"||t.chart.type==="area"||t.chart.type==="scatter"||t.chart.type==="candlestick"||t.chart.type==="boxPlot"||t.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&s!==-Number.MAX_VALUE&&s!==e.maxY&&(e.minY=s):e.minY=e.minY!==Number.MIN_VALUE?Math.min(n.minY,e.minY):n.minY,t.yaxis.forEach(function(i,o){i.max!==void 0&&(typeof i.max=="number"?e.maxYArr[o]=i.max:typeof i.max=="function"&&(e.maxYArr[o]=i.max(e.isMultipleYAxis?e.maxYArr[o]:e.maxY)),e.maxY=e.maxYArr[o]),i.min!==void 0&&(typeof i.min=="number"?e.minYArr[o]=i.min:typeof i.min=="function"&&(e.minYArr[o]=i.min(e.isMultipleYAxis?e.minYArr[o]===Number.MIN_VALUE?0:e.minYArr[o]:e.minY)),e.minY=e.minYArr[o])}),e.isBarHorizontal&&["min","max"].forEach(function(i){t.xaxis[i]!==void 0&&typeof t.xaxis[i]=="number"&&(i==="min"?e.minY=t.xaxis[i]:e.maxY=t.xaxis[i])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=s):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach(function(i){switch(i.type||t.chart.type){case"bar":case"column":e.barGroups.push(i.group);break;case"line":e.lineGroups.push(i.group);break;case"area":e.areaGroups.push(i.group)}}),e.barGroups=e.barGroups.filter(function(i,o,c){return c.indexOf(i)===o}),e.lineGroups=e.lineGroups.filter(function(i,o,c){return c.indexOf(i)===o}),e.areaGroups=e.areaGroups.filter(function(i,o,c){return c.indexOf(i)===o}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,n=t.xaxis.type==="numeric"||t.xaxis.type==="datetime"||t.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var c=0;c<e.series.length;c++)if(e.labels[c])for(var d=0;d<e.labels[c].length;d++)e.labels[c][d]!==null&&ye.isNumber(e.labels[c][d])&&(e.maxX=Math.max(e.maxX,e.labels[c][d]),e.initialMaxX=Math.max(e.maxX,e.labels[c][d]),e.minX=Math.min(e.minX,e.labels[c][d]),e.initialMinX=Math.min(e.minX,e.labels[c][d]))}(),e.noLabelsProvided&&t.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var s=10;if(t.xaxis.tickAmount===void 0)s=Math.round(e.svgWidth/150),t.xaxis.type==="numeric"&&e.dataPoints<30&&(s=e.dataPoints-1),s>e.dataPoints&&e.dataPoints!==0&&(s=e.dataPoints-1);else if(t.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(s=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var a=e.maxX-e.minX;a<30&&(s=a-1)}}else s=t.xaxis.tickAmount;if(e.xTickAmount=s,t.xaxis.max!==void 0&&typeof t.xaxis.max=="number"&&(e.maxX=t.xaxis.max),t.xaxis.min!==void 0&&typeof t.xaxis.min=="number"&&(e.minX=t.xaxis.min),t.xaxis.range!==void 0&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var i=[],o=e.minX-1;o<e.maxX;o++)i.push(o+1);e.xAxisScale={result:i,niceMin:i[0],niceMax:i[i.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,s,s,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,s-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());n&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var t=0;t<e.series.length;t++)if(e.seriesZ[t]!==void 0)for(var n=0;n<e.seriesZ[t].length;n++)e.seriesZ[t][n]!==null&&ye.isNumber(e.seriesZ[t][n])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][n]),e.minZ=Math.min(e.minZ,e.seriesZ[t][n]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var n=new Ls(this.ctx);if(t.xaxis.type==="datetime"){var s=n.getDate(e.minX);t.xaxis.labels.datetimeUTC?s.setUTCDate(s.getUTCDate()-2):s.setDate(s.getDate()-2),e.minX=new Date(s).getTime();var a=n.getDate(e.maxX);t.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()+2):a.setDate(a.getDate()+2),e.maxX=new Date(a).getTime()}else(t.xaxis.type==="numeric"||t.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(t,n){if(t.length){t.length===1&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var s=t.slice();s.sort(function(a,i){return a-i}),s.forEach(function(a,i){if(i>0){var o=a-s[i-1];o>0&&(e.minXDiff=Math.min(o,e.minXDiff))}}),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var n=t.seriesGroups;n.length||(n=[this.w.globals.seriesNames.map(function(i){return i})]);var s={},a={};n.forEach(function(i){s[i]=[],a[i]=[],e.w.config.series.map(function(o,c){return i.indexOf(t.seriesNames[c])>-1?c:null}).filter(function(o){return o!==null}).forEach(function(o){for(var c=0;c<t.series[t.maxValsInArrayIndex].length;c++){var d,u,h,f;s[i][c]===void 0&&(s[i][c]=0,a[i][c]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||((d=e.w.config.series)===null||d===void 0||(u=d[o])===null||u===void 0?void 0:u.type)==="bar"||((h=e.w.config.series)===null||h===void 0||(f=h[o])===null||f===void 0?void 0:f.type)==="column"))&&t.series[o][c]!==null&&ye.isNumber(t.series[o][c])&&(t.series[o][c]>0?s[i][c]+=parseFloat(t.series[o][c])+1e-4:a[i][c]+=parseFloat(t.series[o][c]))}})}),Object.entries(s).forEach(function(i){var o=HR(i,1)[0];s[o].forEach(function(c,d){t.maxY=Math.max(t.maxY,s[o][d]),t.minY=Math.min(t.minY,a[o][d])})})}}}]),r}(),gN=function(){function r(e,t){kt(this,r),this.ctx=e,this.elgrid=t,this.w=e.w;var n=this.w;this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.axisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=n.config.chart.type==="bar"&&n.config.plotOptions.bar.horizontal,this.xAxisoffX=n.config.xaxis.position==="bottom"?n.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new bd(e)}return Ct(r,[{key:"drawYaxis",value:function(e){var t=this.w,n=new Ge(this.ctx),s=t.config.yaxis[e].labels.style,a=s.fontSize,i=s.fontFamily,o=s.fontWeight,c=n.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return c;var d=n.group({class:"apexcharts-yaxis-texts-g"});c.add(d);var u=t.globals.yAxisScale[e].result.length-1,h=t.globals.gridHeight/u,f=t.globals.yLabelFormatters[e],p=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var g=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?g=0:t.config.chart.type==="heatmap"&&(g-=h/2),g+=parseInt(a,10)/3;for(var m=u;m>=0;m--){var v=f(p[m],m,t),x=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&t.config.yaxis.length!==0&&(x*=-1);var y=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),w=this.axesUtils.getYAxisForeColor(s.colors,e),k=Array.isArray(w)?w[m]:w,S=ye.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(A){return A.textContent}),N=n.drawText({x,y:g,text:S.includes(v)&&!t.config.yaxis[e].labels.showDuplicates?"":v,textAnchor:y,fontSize:a,fontFamily:i,fontWeight:o,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:k,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(s.cssClass)});d.add(N),this.addTooltip(N,v),t.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(n,N,firstLabel,t.config.yaxis[e].labels.rotate),g+=h}}return this.addYAxisTitle(n,c,e),this.addAxisBorder(n,c,e,u,h),c}},{key:"getTextAnchor",value:function(e,t){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var n=document.createElementNS(this.w.globals.SVGNS,"title");n.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(n)}},{key:"rotateLabel",value:function(e,t,n,s){var a=e.rotateAroundCenter(n.node),i=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(s," ").concat(a.x," ").concat(i.y,")"))}},{key:"addYAxisTitle",value:function(e,t,n){var s=this.w;if(s.config.yaxis[n].title.text!==void 0){var a=e.group({class:"apexcharts-yaxis-title"}),i=s.config.yaxis[n].opposite?s.globals.translateYAxisX[n]:0,o=e.drawText({x:i,y:s.globals.gridHeight/2+s.globals.translateY+s.config.yaxis[n].title.offsetY,text:s.config.yaxis[n].title.text,textAnchor:"end",foreColor:s.config.yaxis[n].title.style.color,fontSize:s.config.yaxis[n].title.style.fontSize,fontWeight:s.config.yaxis[n].title.style.fontWeight,fontFamily:s.config.yaxis[n].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(s.config.yaxis[n].title.style.cssClass)});a.add(o),t.add(a)}}},{key:"addAxisBorder",value:function(e,t,n,s,a){var i=this.w,o=i.config.yaxis[n].axisBorder,c=31+o.offsetX;if(i.config.yaxis[n].opposite&&(c=-31-o.offsetX),o.show){var d=e.drawLine(c,i.globals.translateY+o.offsetY-2,c,i.globals.gridHeight+i.globals.translateY+o.offsetY+2,o.color,0,o.width);t.add(d)}i.config.yaxis[n].axisTicks.show&&this.axesUtils.drawYAxisTicks(c,s,o,i.config.yaxis[n].axisTicks,n,a,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,n=new Ge(this.ctx),s=n.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),a=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});s.add(a);var i=t.globals.yAxisScale[e].result.length-1,o=t.globals.gridWidth/i+.1,c=o+t.config.xaxis.labels.offsetX,d=t.globals.xLabelFormatter,u=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),h=t.globals.timescaleLabels;if(h.length>0&&(this.xaxisLabels=h.slice(),i=(u=h.slice()).length),t.config.xaxis.labels.show)for(var f=h.length?0:i;h.length?f<h.length:f>=0;h.length?f++:f--){var p=d(u[f],f,t),g=t.globals.gridWidth+t.globals.padHorizontal-(c-o+t.config.xaxis.labels.offsetX);if(h.length){var m=this.axesUtils.getLabel(u,h,g,f,this.drawnLabels,this.xaxisFontSize);g=m.x,p=m.text,this.drawnLabels.push(m.text),f===0&&t.globals.skipFirstTimelinelabel&&(p=""),f===u.length-1&&t.globals.skipLastTimelinelabel&&(p="")}var v=n.drawText({x:g,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-(t.config.xaxis.position==="top"?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:p,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});a.add(v),v.tspan(p),this.addTooltip(v,p),c+=o}return this.inversedYAxisTitleText(s),this.inversedYAxisBorder(s),s}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,n=new Ge(this.ctx),s=t.config.xaxis.axisBorder;if(s.show){var a=0;t.config.chart.type==="bar"&&t.globals.isXNumeric&&(a-=15);var i=n.drawLine(t.globals.padHorizontal+a+s.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,s.color,0,s.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(i):e.add(i)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,n=new Ge(this.ctx);if(t.config.xaxis.title.text!==void 0){var s=n.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),a=n.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});s.add(a),e.add(s)}}},{key:"yAxisTitleRotate",value:function(e,t){var n=this.w,s=new Ge(this.ctx),a=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),i=a?a.getBoundingClientRect():{width:0,height:0},o=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),c=o?o.getBoundingClientRect():{width:0,height:0};if(o){var d=this.xPaddingForYAxisTitle(e,i,c,t);o.setAttribute("x",d.xPos-(t?10:0));var u=s.rotateAroundCenter(o);o.setAttribute("transform","rotate(".concat(t?-1*n.config.yaxis[e].title.rotate:n.config.yaxis[e].title.rotate," ").concat(u.x," ").concat(u.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,n,s){var a=this.w,i=0,o=10;return a.config.yaxis[e].title.text===void 0||e<0?{xPos:i,padd:0}:(s?i=t.width+a.config.yaxis[e].title.offsetX+n.width/2+o/2:(i=-1*t.width+a.config.yaxis[e].title.offsetX+o/2+n.width/2,a.globals.isBarHorizontal&&(o=25,i=-1*t.width-a.config.yaxis[e].title.offsetX-o)),{xPos:i,padd:o})}},{key:"setYAxisXPosition",value:function(e,t){var n=this.w,s=0,a=0,i=18,o=1;n.config.yaxis.length>1&&(this.multipleYs=!0),n.config.yaxis.forEach(function(c,d){var u=n.globals.ignoreYAxisIndexes.includes(d)||!c.show||c.floating||e[d].width===0,h=e[d].width+t[d].width;c.opposite?n.globals.isBarHorizontal?(a=n.globals.gridWidth+n.globals.translateX-1,n.globals.translateYAxisX[d]=a-c.labels.offsetX):(a=n.globals.gridWidth+n.globals.translateX+o,u||(o+=h+20),n.globals.translateYAxisX[d]=a-c.labels.offsetX+20):(s=n.globals.translateX-i,u||(i+=h+20),n.globals.translateYAxisX[d]=s+c.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;ye.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(t,n){var s=e.config.yaxis[n];if(s&&!s.floating&&s.labels.align!==void 0){var a=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g")),i=ye.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-label"))),o=a.getBoundingClientRect();i.forEach(function(c){c.setAttribute("text-anchor",s.labels.align)}),s.labels.align!=="left"||s.opposite?s.labels.align==="center"?a.setAttribute("transform","translate(".concat(o.width/2*(s.opposite?1:-1),", 0)")):s.labels.align==="right"&&s.opposite&&a.setAttribute("transform","translate(".concat(o.width,", 0)")):a.setAttribute("transform","translate(-".concat(o.width,", 0)"))}})}}]),r}(),Vee=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.documentEvent=ye.bind(this.documentEvent,this)}return Ct(r,[{key:"addEventListener",value:function(e,t){var n=this.w;n.globals.events.hasOwnProperty(e)?n.globals.events[e].push(t):n.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){var s=n.globals.events[e].indexOf(t);s!==-1&&n.globals.events[e].splice(s,1)}}},{key:"fireEvent",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var s=n.globals.events[e],a=s.length,i=0;i<a;i++)s[i].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,n=this.ctx,s=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(a){s.addEventListener(a,function(i){var o=Object.assign({},t,{seriesIndex:t.globals.axisCharts?t.globals.capturedSeriesIndex:0,dataPointIndex:t.globals.capturedDataPointIndex});i.type==="mousemove"||i.type==="touchmove"?typeof t.config.chart.events.mouseMove=="function"&&t.config.chart.events.mouseMove(i,n,o):i.type==="mouseleave"||i.type==="touchleave"?typeof t.config.chart.events.mouseLeave=="function"&&t.config.chart.events.mouseLeave(i,n,o):(i.type==="mouseup"&&i.which===1||i.type==="touchend")&&(typeof t.config.chart.events.click=="function"&&t.config.chart.events.click(i,n,o),n.ctx.events.fireEvent("click",[i,n,o]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(a){t.globals.dom.baseEl.addEventListener(a,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,n=e.target.className;if(e.type==="click"){var s=t.globals.dom.baseEl.querySelector(".apexcharts-menu");s&&s.classList.contains("apexcharts-menu-open")&&n!=="apexcharts-menu-icon"&&s.classList.remove("apexcharts-menu-open")}t.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,t.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),r}(),Wee=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return Ct(r,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var n=t.filter(function(a){return a.name===e})[0];if(!n)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var s=ye.extend(vI,n);this.w.globals.locale=s.options}}]),r}(),qee=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return Ct(r,[{key:"drawAxis",value:function(e,t){var n,s,a=this,i=this.w.globals,o=this.w.config,c=new t0(this.ctx,t),d=new gN(this.ctx,t);i.axisCharts&&e!=="radar"&&(i.isBarHorizontal?(s=d.drawYaxisInversed(0),n=c.drawXaxisInversed(0),i.dom.elGraphical.add(n),i.dom.elGraphical.add(s)):(n=c.drawXaxis(),i.dom.elGraphical.add(n),o.yaxis.map(function(u,h){if(i.ignoreYAxisIndexes.indexOf(h)===-1&&(s=d.drawYaxis(h),i.dom.Paper.add(s),a.w.config.grid.position==="back")){var f=i.dom.Paper.children()[1];f.remove(),i.dom.Paper.add(f)}})))}}]),r}(),Uk=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return Ct(r,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new Ge(this.ctx),n=new Rs(this.ctx),s=e.config.xaxis.crosshairs.fill.gradient,a=e.config.xaxis.crosshairs.dropShadow,i=e.config.xaxis.crosshairs.fill.type,o=s.colorFrom,c=s.colorTo,d=s.opacityFrom,u=s.opacityTo,h=s.stops,f=a.enabled,p=a.left,g=a.top,m=a.blur,v=a.color,x=a.opacity,y=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){i==="gradient"&&(y=t.drawGradient("vertical",o,c,d,u,null,h,null));var w=t.drawRect();e.config.xaxis.crosshairs.width===1&&(w=t.drawLine());var k=e.globals.gridHeight;(!ye.isNumber(k)||k<0)&&(k=0);var S=e.config.xaxis.crosshairs.width;(!ye.isNumber(S)||S<0)&&(S=0),w.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:k,width:S,height:k,fill:y,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),f&&(w=n.dropShadow(w,{left:p,top:g,blur:m,color:v,opacity:x})),e.globals.dom.elGraphical.add(w)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new Ge(this.ctx),n=e.config.yaxis[0].crosshairs,s=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var a=t.drawLine(-s,0,e.globals.gridWidth+s,0,n.stroke.color,n.stroke.dashArray,n.stroke.width);a.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(a)}var i=t.drawLine(-s,0,e.globals.gridWidth+s,0,n.stroke.color,0,0);i.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(i)}}]),r}(),Yee=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return Ct(r,[{key:"checkResponsiveConfig",value:function(e){var t=this,n=this.w,s=n.config;if(s.responsive.length!==0){var a=s.responsive.slice();a.sort(function(d,u){return d.breakpoint>u.breakpoint?1:u.breakpoint>d.breakpoint?-1:0}).reverse();var i=new e0({}),o=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=a[0].breakpoint,h=window.innerWidth>0?window.innerWidth:screen.width;if(h>u){var f=ye.clone(n.globals.initialConfig);f.series=ye.clone(n.config.series);var p=Pn.extendArrayProps(i,f,n);d=ye.extend(p,d),d=ye.extend(n.config,d),t.overrideResponsiveOptions(d)}else for(var g=0;g<a.length;g++)h<a[g].breakpoint&&(d=Pn.extendArrayProps(i,a[g].options,n),d=ye.extend(n.config,d),t.overrideResponsiveOptions(d))};if(e){var c=Pn.extendArrayProps(i,e,n);c=ye.extend(n.config,c),o(c=ye.extend(c,e))}else o({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new e0(e).init({responsiveOverride:!0});this.w.config=t}}]),r}(),Gee=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return Ct(r,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,n=e.plotOptions;return t.type==="treemap"&&n.treemap&&n.treemap.distributed||t.type==="heatmap"&&n.heatmap&&n.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,n=e.plotOptions;return n.bar&&n.bar.distributed&&(t.type==="bar"||t.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new ye;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode));var n=cs(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(n),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var s=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],s),this.applyDataLabelsColors(s),this.applyRadarPolygonsColors(),this.applyMarkersColors(s)}},{key:"getColors",value:function(e){var t=this,n=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,n.config.series.map(function(s,a){var i=e[a]||e[0];return typeof i=="function"?i({value:n.globals.axisCharts?n.globals.series[a][0]||0:n.globals.series[a],seriesIndex:a,dataPointIndex:a,w:t.w}):i})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach(function(n,s){n&&(t[s]=n)})}},{key:"getMonochromeColors",value:function(e,t,n){var s=e.color,a=e.shadeIntensity,i=e.shadeTo,o=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,c=1/(o/a),d=0;return Array.from({length:o},function(){var u=i==="dark"?n.shadeColor(-1*d,s):n.shadeColor(d,s);return d+=c,u})}},{key:"applyColorTypes",value:function(e,t){var n=this,s=this.w;e.forEach(function(a){s.globals[a].colors=s.config[a].colors===void 0?n.isColorFn?s.config.colors:t:s.config[a].colors.slice(),n.pushExtraColors(s.globals[a].colors)})}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors===void 0?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#424242":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=t.config.markers.colors===void 0?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.w,a=t||s.globals.series.length;if(n===null&&(n=this.isBarDistributed||this.isHeatmapDistributed||s.config.chart.type==="heatmap"&&s.config.plotOptions.heatmap&&s.config.plotOptions.heatmap.colorScale.inverse),n&&s.globals.series.length&&(a=s.globals.series[s.globals.maxValsInArrayIndex].length*s.globals.series.length),e.length<a)for(var i=a-e.length,o=0;o<i;o++)e.push(e[o])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,n=t==="dark"?"palette4":t==="light"?"palette1":e.theme.palette||"palette1",s=t==="dark"?"#f6f7f8":t==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=s,e.theme.palette=n,e}},{key:"predefined",value:function(){var e={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return e[this.w.config.theme.palette]||e.default}}]),r}(),Xee=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return Ct(r,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,n=e==="title"?t.config.title:t.config.subtitle,s=t.globals.svgWidth/2,a=n.offsetY,i="middle";if(n.align==="left"?(s=10,i="start"):n.align==="right"&&(s=t.globals.svgWidth-10,i="end"),s+=n.offsetX,a=a+parseInt(n.style.fontSize,10)+n.margin/2,n.text!==void 0){var o=new Ge(this.ctx).drawText({x:s,y:a,text:n.text,textAnchor:i,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,fontWeight:n.style.fontWeight,foreColor:n.style.color,opacity:1});o.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(o)}}}]),r}(),Zee=function(){function r(e){kt(this,r),this.w=e.w,this.dCtx=e}return Ct(r,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,n=0,s=0,a=e==="title"?t.config.title.floating:t.config.subtitle.floating,i=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(i!==null&&!a){var o=i.getBoundingClientRect();n=o.width,s=t.globals.axisCharts?o.height+5:o.height}return{width:n,height:s}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(t.style.maxHeight=e.globals.svgHeight/2+"px");var n=Object.assign({},ye.getBoundingClientRect(t));return t!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:n.x,y:n.y,height:n.height,width:n.height===0?0:n.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,n=[];t.config.series.forEach(function(c,d){c.data.forEach(function(u,h){var f;f=t.globals.series[d][h],s=t.config.dataLabels.formatter(f,{ctx:e.dCtx.ctx,seriesIndex:d,dataPointIndex:h,w:t}),n.push(s)})});var s=ye.getLargestStringFromArr(n),a=new Ge(this.dCtx.ctx),i=t.config.dataLabels.style,o=a.getTextRects(s,parseInt(i.fontSize),i.fontFamily);return{width:1.05*o.width,height:o.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var n=e;if(this.w.globals.isMultiLineX){var s=t.map(function(i,o){return Array.isArray(i)?i.length:1}),a=Math.max.apply(Math,cs(s));n=t[s.indexOf(a)]}return n}}]),r}(),Jee=function(){function r(e){kt(this,r),this.w=e.w,this.dCtx=e}return Ct(r,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,n=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&n.length===0&&(n=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var s=this.getxAxisTimeScaleLabelsCoords();e={width:s.width,height:s.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=t.config.legend.position!=="left"&&t.config.legend.position!=="right"||t.config.legend.floating?0:this.dCtx.lgRect.width;var a=t.globals.xLabelFormatter,i=ye.getLargestStringFromArr(n),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(i,n);t.globals.isBarHorizontal&&(o=i=t.globals.yAxisScale[0].result.reduce(function(g,m){return g.length>m.length?g:m},0));var c=new z0(this.dCtx.ctx),d=i;i=c.xLabelFormat(a,i,d,{i:void 0,dateFormatter:new Ls(this.dCtx.ctx).formatDate,w:t}),o=c.xLabelFormat(a,o,d,{i:void 0,dateFormatter:new Ls(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&i===void 0||String(i).trim()==="")&&(o=i="1");var u=new Ge(this.dCtx.ctx),h=u.getTextRects(i,t.config.xaxis.labels.style.fontSize),f=h;if(i!==o&&(f=u.getTextRects(o,t.config.xaxis.labels.style.fontSize)),(e={width:h.width>=f.width?h.width:f.width,height:h.height>=f.height?h.height:f.height}).width*n.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&t.config.xaxis.labels.rotate!==0||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var p=function(g){return u.getTextRects(g,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};h=p(i),i!==o&&(f=p(o)),e.height=(h.height>f.height?h.height:f.height)/1.5,e.width=h.width>f.width?h.width:f.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var n,s=((e=t.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,a=t.globals.groups.map(function(h){return h.title}),i=ye.getLargestStringFromArr(a),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(i,a),c=new Ge(this.dCtx.ctx),d=c.getTextRects(i,s),u=d;return i!==o&&(u=c.getTextRects(o,s)),n={width:d.width>=u.width?d.width:u.width,height:d.height>=u.height?d.height:u.height},t.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,n=0;if(e.config.xaxis.title.text!==void 0){var s=new Ge(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=s.width,n=s.height}return{width:t,height:n}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var n=this.dCtx.timescaleLabels.map(function(a){return a.value}),s=n.reduce(function(a,i){return a===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):a.length>i.length?a:i},0);return 1.05*(e=new Ge(this.dCtx.ctx).getTextRects(s,t.config.xaxis.labels.style.fontSize)).width*n.length>t.globals.gridWidth&&t.config.xaxis.labels.rotate!==0&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,n=this.w,s=n.globals,a=n.config,i=a.xaxis.type,o=e.width;s.skipLastTimelinelabel=!1,s.skipFirstTimelinelabel=!1;var c=n.config.yaxis[0].opposite&&n.globals.isBarHorizontal,d=function(u,h){a.yaxis.length>1&&function(f){return s.collapsedSeriesIndices.indexOf(f)!==-1}(h)||function(f){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var p=t.dCtx.timescaleLabels[0],g=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+o/1.75-t.dCtx.yAxisWidthRight,m=p.position-o/1.75+t.dCtx.yAxisWidthLeft,v=n.config.legend.position==="right"&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;g>s.svgWidth-s.translateX-v&&(s.skipLastTimelinelabel=!0),m<-(f.show&&!f.floating||a.chart.type!=="bar"&&a.chart.type!=="candlestick"&&a.chart.type!=="rangeBar"&&a.chart.type!=="boxPlot"?10:o/1.75)&&(s.skipFirstTimelinelabel=!0)}else i==="datetime"?t.dCtx.gridPad.right<o&&!s.rotateXLabels&&(s.skipLastTimelinelabel=!0):i!=="datetime"&&t.dCtx.gridPad.right<o/2-t.dCtx.yAxisWidthRight&&!s.rotateXLabels&&!n.config.xaxis.labels.trim&&(t.dCtx.xPadRight=o/2+1)}(u)};a.yaxis.forEach(function(u,h){c?(t.dCtx.gridPad.left<o&&(t.dCtx.xPadLeft=o/2+1),t.dCtx.xPadRight=o/2+1):d(u,h)})}}]),r}(),Kee=function(){function r(e){kt(this,r),this.w=e.w,this.dCtx=e}return Ct(r,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,n=[],s=10,a=new bd(this.dCtx.ctx);return t.config.yaxis.map(function(i,o){var c={seriesIndex:o,dataPointIndex:-1,w:t},d=t.globals.yAxisScale[o],u=0;if(!a.isYAxisHidden(o)&&i.labels.show&&i.labels.minWidth!==void 0&&(u=i.labels.minWidth),!a.isYAxisHidden(o)&&i.labels.show&&d.result.length){var h=t.globals.yLabelFormatters[o],f=d.niceMin===Number.MIN_VALUE?0:d.niceMin,p=d.result.reduce(function(k,S){var N,A;return((N=String(h(k,c)))===null||N===void 0?void 0:N.length)>((A=String(h(S,c)))===null||A===void 0?void 0:A.length)?k:S},f),g=p=h(p,c);if(p!==void 0&&p.length!==0||(p=d.niceMax),t.globals.isBarHorizontal){s=0;var m=t.globals.labels.slice();p=ye.getLargestStringFromArr(m),p=h(p,{seriesIndex:o,dataPointIndex:-1,w:t}),g=e.dCtx.dimHelpers.getLargestStringFromMultiArr(p,m)}var v=new Ge(e.dCtx.ctx),x="rotate(".concat(i.labels.rotate," 0 0)"),y=v.getTextRects(p,i.labels.style.fontSize,i.labels.style.fontFamily,x,!1),w=y;p!==g&&(w=v.getTextRects(g,i.labels.style.fontSize,i.labels.style.fontFamily,x,!1)),n.push({width:(u>w.width||u>y.width?u:w.width>y.width?w.width:y.width)+s,height:w.height>y.height?w.height:y.height})}else n.push({width:0,height:0})}),n}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,n=[];return t.config.yaxis.map(function(s,a){if(s.show&&s.title.text!==void 0){var i=new Ge(e.dCtx.ctx),o="rotate(".concat(s.title.rotate," 0 0)"),c=i.getTextRects(s.title.text,s.title.style.fontSize,s.title.style.fontFamily,o,!1);n.push({width:c.width,height:c.height})}else n.push({width:0,height:0})}),n}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,n=0,s=0,a=e.globals.yAxisScale.length>1?10:0,i=new bd(this.dCtx.ctx),o=function(c,d){var u=e.config.yaxis[d].floating,h=0;c.width>0&&!u?(h=c.width+a,function(f){return e.globals.ignoreYAxisIndexes.indexOf(f)>-1}(d)&&(h=h-c.width-a)):h=u||i.isYAxisHidden(d)?0:5,e.config.yaxis[d].opposite?s+=h:n+=h,t+=h};return e.globals.yLabelsCoords.map(function(c,d){o(c,d)}),e.globals.yTitleCoords.map(function(c,d){o(c,d)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=n,this.dCtx.yAxisWidthRight=s,t}}]),r}(),Qee=function(){function r(e){kt(this,r),this.w=e.w,this.dCtx=e}return Ct(r,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,n=t.config,s=t.globals;if(s.noData||s.collapsedSeries.length+s.ancillaryCollapsedSeries.length===n.series.length)return 0;var a=function(p){return["bar","rangeBar","candlestick","boxPlot"].includes(p)},i=n.chart.type,o=0,c=a(i)?n.series.length:1;s.comboBarCount>0&&(c=s.comboBarCount),s.collapsedSeries.forEach(function(p){a(p.type)&&(c-=1)}),n.chart.stacked&&(c=1);var d=a(i)||s.comboBarCount>0,u=Math.abs(s.initialMaxX-s.initialMinX);if(d&&s.isXNumeric&&!s.isBarHorizontal&&c>0&&u!==0){u<=3&&(u=s.dataPoints);var h=u/e,f=s.minXDiff&&s.minXDiff/h>0?s.minXDiff/h:0;f>e/2&&(f/=2),(o=f*parseInt(n.plotOptions.bar.columnWidth,10)/100)<1&&(o=1),s.barPadForNumericAxis=o}return o}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,n=t.globals,s=this.dCtx.isSparkline||!n.axisCharts?0:10;["title","subtitle"].forEach(function(o){t.config[o].text!==void 0?s+=t.config[o].margin:s+=e.dCtx.isSparkline||!n.axisCharts?0:5}),!t.config.legend.show||t.config.legend.position!=="bottom"||t.config.legend.floating||n.axisCharts||(s+=10);var a=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),i=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");n.gridHeight-=a.height+i.height+s,n.translateY+=a.height+i.height+s}},{key:"setGridXPosForDualYAxis",value:function(e,t){var n=this.w,s=new bd(this.dCtx.ctx);n.config.yaxis.forEach(function(a,i){n.globals.ignoreYAxisIndexes.indexOf(i)!==-1||a.floating||s.isYAxisHidden(i)||(a.opposite&&(n.globals.translateX-=t[i].width+e[i].width+parseInt(a.labels.style.fontSize,10)/1.2+12),n.globals.translateX<2&&(n.globals.translateX=2))})}}]),r}(),yy=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Zee(this),this.dimYAxis=new Kee(this),this.dimXAxis=new Jee(this),this.dimGrid=new Qee(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return Ct(r,[{key:"plotCoords",value:function(){var e=this,t=this.w,n=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var s=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,cs(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(i){var o=HR(i,2),c=o[0],d=o[1];e.gridPad[c]=Math.max(d,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(s/2,this.gridPad.top),this.gridPad.bottom=Math.max(s/2,this.gridPad.bottom)),n.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),n.gridHeight=n.gridHeight-this.gridPad.top-this.gridPad.bottom,n.gridWidth=n.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var a=this.dimGrid.gridPadForColumnsInNumericAxis(n.gridWidth);n.gridWidth=n.gridWidth-2*a,n.translateX=n.translateX+this.gridPad.left+this.xPadLeft+(a>0?a:0),n.translateY=n.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,n=t.globals,s=this.dimYAxis.getyAxisLabelsCoords(),a=this.dimYAxis.getyAxisTitleCoords();n.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(p,g){t.globals.yLabelsCoords.push({width:s[g].width,index:g}),t.globals.yTitleCoords.push({width:a[g].width,index:g})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var i=this.dimXAxis.getxAxisLabelsCoords(),o=this.dimXAxis.getxAxisGroupLabelsCoords(),c=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(i,c,o),n.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,n.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(n.rotateXLabels=!1,n.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),n.translateXAxisY=n.translateXAxisY+t.config.xaxis.labels.offsetY,n.translateXAxisX=n.translateXAxisX+t.config.xaxis.labels.offsetX;var d=this.yAxisWidth,u=this.xAxisHeight;n.xAxisLabelsHeight=this.xAxisHeight-c.height,n.xAxisGroupLabelsHeight=n.xAxisLabelsHeight-i.height,n.xAxisLabelsWidth=this.xAxisWidth,n.xAxisHeight=this.xAxisHeight;var h=10;(t.config.chart.type==="radar"||this.isSparkline)&&(d=0,u=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||t.config.chart.type==="treemap")&&(d=0,u=0,h=0),this.isSparkline||t.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(i);var f=function(){n.translateX=d+e.datalabelsCoords.width,n.gridHeight=n.svgHeight-e.lgRect.height-u-(e.isSparkline||t.config.chart.type==="treemap"?0:t.globals.rotateXLabels?10:15),n.gridWidth=n.svgWidth-d-2*e.datalabelsCoords.width};switch(t.config.xaxis.position==="top"&&(h=n.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":n.translateY=h,f();break;case"top":n.translateY=this.lgRect.height+h,f();break;case"left":n.translateY=h,n.translateX=this.lgRect.width+d+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-u-12,n.gridWidth=n.svgWidth-this.lgRect.width-d-2*this.datalabelsCoords.width;break;case"right":n.translateY=h,n.translateX=d+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-u-12,n.gridWidth=n.svgWidth-this.lgRect.width-d-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(a,s),new gN(this.ctx).setYAxisXPosition(s,a)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=e.config,s=0;e.config.legend.show&&!e.config.legend.floating&&(s=20);var a=n.chart.type==="pie"||n.chart.type==="polarArea"||n.chart.type==="donut"?"pie":"radialBar",i=n.plotOptions[a].offsetY,o=n.plotOptions[a].offsetX;if(!n.legend.show||n.legend.floating){t.gridHeight=t.svgHeight;var c=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(c,t.gridHeight),t.translateY=i,void(t.translateX=o+(t.svgWidth-t.gridWidth)/2)}switch(n.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=i-10,t.translateX=o+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+i+10,t.translateX=o+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-s,t.gridHeight=n.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=i,t.translateX=o+this.lgRect.width+s;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-s-5,t.gridHeight=n.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=i,t.translateX=o+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,n){var s=this.w,a=s.globals.hasXaxisGroups?2:1,i=n.height+e.height+t.height,o=s.globals.isMultiLineX?1.2:s.globals.LINE_HEIGHT_RATIO,c=s.globals.rotateXLabels?22:10,d=s.globals.rotateXLabels&&s.config.legend.position==="bottom"?10:0;this.xAxisHeight=i*o+a*c+d,this.xAxisWidth=e.width,this.xAxisHeight-t.height>s.config.xaxis.labels.maxHeight&&(this.xAxisHeight=s.config.xaxis.labels.maxHeight),s.config.xaxis.labels.minHeight&&this.xAxisHeight<s.config.xaxis.labels.minHeight&&(this.xAxisHeight=s.config.xaxis.labels.minHeight),s.config.xaxis.floating&&(this.xAxisHeight=0);var u=0,h=0;s.config.yaxis.forEach(function(f){u+=f.labels.minWidth,h+=f.labels.maxWidth}),this.yAxisWidth<u&&(this.yAxisWidth=u),this.yAxisWidth>h&&(this.yAxisWidth=h)}}]),r}(),ete=function(){function r(e){kt(this,r),this.w=e.w,this.lgCtx=e}return Ct(r,[{key:"getLegendStyles",value:function(){var e,t,n,s=document.createElement("style");s.setAttribute("type","text/css");var a=((e=this.lgCtx.ctx)===null||e===void 0||(t=e.opts)===null||t===void 0||(n=t.chart)===null||n===void 0?void 0:n.nonce)||this.w.config.chart.nonce;a&&s.setAttribute("nonce",a);var i=document.createTextNode(`
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apexcharts-legend-group-horizontal {
        flex-direction: column;
      }
      .apexcharts-legend-group {
        display: flex;
      }
      .apexcharts-legend-group-vertical {
        flex-direction: column-reverse;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
        align-items: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
        align-items: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
        align-items: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }

    `);return s.appendChild(i),s}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var n=this,s=this.w;if(s.globals.axisCharts||s.config.chart.type==="radialBar"){s.globals.resized=!0;var a=null,i=null;s.globals.risingSeries=[],s.globals.axisCharts?(a=s.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),i=parseInt(a.getAttribute("data:realIndex"),10)):(a=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),i=parseInt(a.getAttribute("rel"),10)-1),t?[{cs:s.globals.collapsedSeries,csi:s.globals.collapsedSeriesIndices},{cs:s.globals.ancillaryCollapsedSeries,csi:s.globals.ancillaryCollapsedSeriesIndices}].forEach(function(u){n.riseCollapsedSeries(u.cs,u.csi,i)}):this.hideSeries({seriesEl:a,realIndex:i})}else{var o=s.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),c=s.config.chart.type;if(c==="pie"||c==="polarArea"||c==="donut"){var d=s.config.plotOptions.pie.donut.labels;new Ge(this.lgCtx.ctx).pathMouseDown(o,null),this.lgCtx.ctx.pie.printDataLabelsInner(o.node,d)}o.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,n=this.w,s=n.globals,a=ye.clone(n.config.series);if(s.axisCharts){var i=n.config.yaxis[s.seriesYAxisReverseMap[t]],o={index:t,data:a[t].data.slice(),type:a[t].type||n.config.chart.type};if(i&&i.show&&i.showAlways)s.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(s.ancillaryCollapsedSeries.push(o),s.ancillaryCollapsedSeriesIndices.push(t));else if(s.collapsedSeriesIndices.indexOf(t)<0){s.collapsedSeries.push(o),s.collapsedSeriesIndices.push(t);var c=s.risingSeries.indexOf(t);s.risingSeries.splice(c,1)}}else s.collapsedSeries.push({index:t,data:a[t]}),s.collapsedSeriesIndices.push(t);return s.allSeriesCollapsed=s.collapsedSeries.length+s.ancillaryCollapsedSeries.length===n.config.series.length,this._getSeriesBasedOnCollapsedState(a)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,n=e.realIndex,s=this.w,a=this.getSeriesAfterCollapsing({realIndex:n}),i=t.childNodes,o=0;o<i.length;o++)i[o].classList.contains("apexcharts-series-markers-wrap")&&(i[o].classList.contains("apexcharts-hide")?i[o].classList.remove("apexcharts-hide"):i[o].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,n){var s=this.w,a=ye.clone(s.config.series);if(e.length>0){for(var i=0;i<e.length;i++)e[i].index===n&&(s.globals.axisCharts?a[n].data=e[i].data.slice():a[n]=e[i].data,typeof a[n]!="number"&&(a[n].hidden=!1),e.splice(i,1),t.splice(i,1),s.globals.risingSeries.push(n));a=this._getSeriesBasedOnCollapsedState(a),this.lgCtx.ctx.updateHelpers._updateSeries(a,s.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,n=0;return t.globals.axisCharts?e.forEach(function(s,a){t.globals.collapsedSeriesIndices.indexOf(a)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(a)<0||(e[a].data=[],n++)}):e.forEach(function(s,a){!t.globals.collapsedSeriesIndices.indexOf(a)<0&&(e[a]=0,n++)}),t.globals.allSeriesCollapsed=n===e.length,e}}]),r}(),CI=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new ete(this)}return Ct(r,[{key:"init",value:function(){var e=this.w,t=e.globals,n=e.config,s=n.legend.showForSingleSeries&&t.series.length===1||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(s||!t.axisCharts)&&n.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),n.legend.position==="bottom"||n.legend.position==="top"?this.legendAlignHorizontal():n.legend.position!=="right"&&n.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,n=e.fillcolor,s=this.w,a=document.createElement("span");a.classList.add("apexcharts-legend-marker");var i=s.config.legend.markers.shape||s.config.markers.shape,o=i;Array.isArray(i)&&(o=i[t]);var c=Array.isArray(s.config.legend.markers.size)?parseFloat(s.config.legend.markers.size[t]):parseFloat(s.config.legend.markers.size),d=Array.isArray(s.config.legend.markers.offsetX)?parseFloat(s.config.legend.markers.offsetX[t]):parseFloat(s.config.legend.markers.offsetX),u=Array.isArray(s.config.legend.markers.offsetY)?parseFloat(s.config.legend.markers.offsetY[t]):parseFloat(s.config.legend.markers.offsetY),h=Array.isArray(s.config.legend.markers.strokeWidth)?parseFloat(s.config.legend.markers.strokeWidth[t]):parseFloat(s.config.legend.markers.strokeWidth),f=a.style;if(f.height=2*(c+h)+"px",f.width=2*(c+h)+"px",f.left=d+"px",f.top=u+"px",s.config.legend.markers.customHTML)f.background="transparent",f.color=n[t],Array.isArray(s.config.legend.markers.customHTML)?s.config.legend.markers.customHTML[t]&&(a.innerHTML=s.config.legend.markers.customHTML[t]()):a.innerHTML=s.config.legend.markers.customHTML();else{var p=new Bp(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(o),seriesIndex:t,strokeWidth:h,size:c}),g=window.SVG().addTo(a).size("100%","100%"),m=new Ge(this.ctx).drawMarker(0,0,dt(dt({},p),{},{pointFillColor:Array.isArray(n)?n[t]:p.pointFillColor,shape:o}));s.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(v){v.node.classList.contains("apexcharts-marker-triangle")?v.node.style.transform="translate(50%, 45%)":v.node.style.transform="translate(50%, 50%)"}),g.add(m)}return a}},{key:"drawLegends",value:function(){var e=this,t=this,n=this.w,s=n.config.legend.fontFamily,a=n.globals.seriesNames,i=n.config.legend.markers.fillColors?n.config.legend.markers.fillColors.slice():n.globals.colors.slice();if(n.config.chart.type==="heatmap"){var o=n.config.plotOptions.heatmap.colorScale.ranges;a=o.map(function(p){return p.name?p.name:p.from+" - "+p.to}),i=o.map(function(p){return p.color})}else this.isBarsDistributed&&(a=n.globals.labels.slice());n.config.legend.customLegendItems.length&&(a=n.config.legend.customLegendItems);var c=n.globals.legendFormatter,d=n.config.legend.inverseOrder,u=[];n.globals.seriesGroups.length>1&&n.config.legend.clusterGroupedSeries&&n.globals.seriesGroups.forEach(function(p,g){u[g]=document.createElement("div"),u[g].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(g)),n.config.legend.clusterGroupedSeriesOrientation==="horizontal"?n.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):u[g].classList.add("apexcharts-legend-group-vertical")});for(var h=function(p){var g,m=c(a[p],{seriesIndex:p,w:n}),v=!1,x=!1;if(n.globals.collapsedSeries.length>0)for(var y=0;y<n.globals.collapsedSeries.length;y++)n.globals.collapsedSeries[y].index===p&&(v=!0);if(n.globals.ancillaryCollapsedSeriesIndices.length>0)for(var w=0;w<n.globals.ancillaryCollapsedSeriesIndices.length;w++)n.globals.ancillaryCollapsedSeriesIndices[w]===p&&(x=!0);var k=e.createLegendMarker({i:p,fillcolor:i});Ge.setAttrs(k,{rel:p+1,"data:collapsed":v||x}),(v||x)&&k.classList.add("apexcharts-inactive-legend");var S=document.createElement("div"),N=document.createElement("span");N.classList.add("apexcharts-legend-text"),N.innerHTML=Array.isArray(m)?m.join(" "):m;var A=n.config.legend.labels.useSeriesColors?n.globals.colors[p]:Array.isArray(n.config.legend.labels.colors)?(g=n.config.legend.labels.colors)===null||g===void 0?void 0:g[p]:n.config.legend.labels.colors;A||(A=n.config.chart.foreColor),N.style.color=A,N.style.fontSize=parseFloat(n.config.legend.fontSize)+"px",N.style.fontWeight=n.config.legend.fontWeight,N.style.fontFamily=s||n.config.chart.fontFamily,Ge.setAttrs(N,{rel:p+1,i:p,"data:default-text":encodeURIComponent(m),"data:collapsed":v||x}),S.appendChild(k),S.appendChild(N);var E=new Pn(e.ctx);n.config.legend.showForZeroSeries||E.getSeriesTotalByIndex(p)===0&&E.seriesHaveSameValues(p)&&!E.isSeriesNull(p)&&n.globals.collapsedSeriesIndices.indexOf(p)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(p)===-1&&S.classList.add("apexcharts-hidden-zero-series"),n.config.legend.showForNullSeries||E.isSeriesNull(p)&&n.globals.collapsedSeriesIndices.indexOf(p)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(p)===-1&&S.classList.add("apexcharts-hidden-null-series"),u.length?n.globals.seriesGroups.forEach(function(R,O){var L;R.includes((L=n.config.series[p])===null||L===void 0?void 0:L.name)&&(n.globals.dom.elLegendWrap.appendChild(u[O]),u[O].appendChild(S))}):n.globals.dom.elLegendWrap.appendChild(S),n.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(n.config.legend.horizontalAlign)),n.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+n.config.legend.position),S.classList.add("apexcharts-legend-series"),S.style.margin="".concat(n.config.legend.itemMargin.vertical,"px ").concat(n.config.legend.itemMargin.horizontal,"px"),n.globals.dom.elLegendWrap.style.width=n.config.legend.width?n.config.legend.width+"px":"",n.globals.dom.elLegendWrap.style.height=n.config.legend.height?n.config.legend.height+"px":"",Ge.setAttrs(S,{rel:p+1,seriesName:ye.escapeString(a[p]),"data:collapsed":v||x}),(v||x)&&S.classList.add("apexcharts-inactive-legend"),n.config.legend.onItemClick.toggleDataSeries||S.classList.add("apexcharts-no-click")},f=d?a.length-1:0;d?f>=0:f<=a.length-1;d?f--:f++)h(f);n.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),n.config.legend.onItemHover.highlightDataSeries&&n.config.legend.customLegendItems.length===0&&(n.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),n.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var n=this.w,s=n.globals.dom.elLegendWrap,a=s.clientHeight,i=0,o=0;if(n.config.legend.position==="bottom")o=n.globals.svgHeight-Math.min(a,n.globals.svgHeight/2)-5;else if(n.config.legend.position==="top"){var c=new yy(this.ctx),d=c.dimHelpers.getTitleSubtitleCoords("title").height,u=c.dimHelpers.getTitleSubtitleCoords("subtitle").height;o=(d>0?d-10:0)+(u>0?u-10:0)}s.style.position="absolute",i=i+e+n.config.legend.offsetX,o=o+t+n.config.legend.offsetY,s.style.left=i+"px",s.style.top=o+"px",n.config.legend.position==="right"&&(s.style.left="auto",s.style.right=25+n.config.legend.offsetX+"px"),["width","height"].forEach(function(h){s.style[h]&&(s.style[h]=parseInt(n.config.legend[h],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new yy(this.ctx),n=t.dimHelpers.getTitleSubtitleCoords("title"),s=t.dimHelpers.getTitleSubtitleCoords("subtitle"),a=0;e.config.legend.position==="top"&&(a=n.height+s.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,a)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),n=0;e.config.legend.position==="left"&&(n=20),e.config.legend.position==="right"&&(n=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(n,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,n=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(t.config.chart.type==="heatmap"||this.isBarsDistributed){if(n){var s=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,s,this.w]),new Wi(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&n&&new Wi(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var n=parseInt(e.target.getAttribute("rel"),10)-1,s=e.target.getAttribute("data:collapsed")==="true",a=this.w.config.chart.events.legendClick;typeof a=="function"&&a(this.ctx,n,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,n,this.w]);var i=this.w.config.legend.markers.onClick;typeof i=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(i(this.ctx,n,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,n,this.w])),t.config.chart.type!=="treemap"&&t.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(n,s)}}}]),r}(),SI=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return Ct(r,[{key:"createToolbar",value:function(){var e=this,t=this.w,n=function(){return document.createElement("div")},s=n();if(s.setAttribute("class","apexcharts-toolbar"),s.style.top=t.config.chart.toolbar.offsetY+"px",s.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(s),this.elZoom=n(),this.elZoomIn=n(),this.elZoomOut=n(),this.elPan=n(),this.elSelection=n(),this.elZoomReset=n(),this.elMenuIcon=n(),this.elMenu=n(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var a=0;a<this.t.customIcons.length;a++)this.elCustomIcons.push(n());var i=[],o=function(h,f,p){var g=h.toLowerCase();e.t[g]&&t.config.chart.zoom.enabled&&i.push({el:f,icon:typeof e.t[g]=="string"?e.t[g]:p,title:e.localeValues[h],class:"apexcharts-".concat(g,"-icon")})};o("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),o("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var c=function(h){e.t[h]&&t.config.chart[h].enabled&&i.push({el:h==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[h]=="string"?e.t[h]:h==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[h==="zoom"?"selectionZoom":"selection"],class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(h,"-icon")})};c("zoom"),c("selection"),this.t.pan&&t.config.chart.zoom.enabled&&i.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),o("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&i.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var d=0;d<this.elCustomIcons.length;d++)i.push({el:this.elCustomIcons[d],icon:this.t.customIcons[d].icon,title:this.t.customIcons[d].title,index:this.t.customIcons[d].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[d].class});i.forEach(function(h,f){h.index&&ye.moveIndexInArray(i,f,h.index)});for(var u=0;u<i.length;u++)Ge.setAttrs(i[u].el,{class:i[u].class,title:i[u].title}),i[u].el.innerHTML=i[u].icon,s.appendChild(i[u].el);this._createHamburgerMenu(s),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),Ge.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],n=0;n<t.length;n++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[n].innerHTML=t[n].title,Ge.setAttrs(this.elMenuItems[n],{class:"apexcharts-menu-item ".concat(t[n].name),title:t[n].title}),this.elMenu.appendChild(this.elMenuItems[n])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(n){n.classList.contains("exportSVG")?n.addEventListener("click",e.handleDownload.bind(e,"svg")):n.classList.contains("exportPNG")?n.addEventListener("click",e.handleDownload.bind(e,"png")):n.classList.contains("exportCSV")&&n.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var n=e==="selection"?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,s=e==="selection"?"selectionEnabled":"zoomEnabled";t.w.globals[s]=!t.w.globals[s],n.classList.contains(t.ctx.toolbar.selectedClass)?n.classList.remove(t.ctx.toolbar.selectedClass):n.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t=e==="pan"?this.elPan:this.elZoom,n=e==="pan"?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),n&&n.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(n){n&&n.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,n=(this.minX+t)/2,s=(this.maxX+t)/2,a=this._getNewMinXMaxX(n,s);e.globals.disableZoomIn||this.zoomUpdateOptions(a.minX,a.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,n=this.minX-(t-this.minX),s=this.maxX-(t-this.maxX),a=this._getNewMinXMaxX(n,s);e.globals.disableZoomOut||this.zoomUpdateOptions(a.minX,a.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var n=this.w.config.xaxis.convertedCatToNumeric;return{minX:n?Math.floor(e):e,maxX:n?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var n=this.w;if(e!==void 0||t!==void 0){if(!(n.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=n.globals.dataPoints),t-e<2))){var s={min:e,max:t},a=this.getBeforeZoomRange(s);a&&(s=a.xaxis);var i={xaxis:s},o=ye.clone(n.globals.initialConfig.yaxis);n.config.chart.group||(i.yaxis=o),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(i,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(s,o)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t})}},{key:"getBeforeZoomRange",value:function(e,t){var n=null;return typeof this.ev.beforeZoom=="function"&&(n=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),n}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var t=this.w,n=new vy(this.ctx);switch(e){case"svg":n.exportToSVG(this.ctx);break;case"png":n.exportToPng(this.ctx);break;case"csv":n.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){var n=t.w;if(n.globals.lastXAxis.min=n.globals.initialConfig.xaxis.min,n.globals.lastXAxis.max=n.globals.initialConfig.xaxis.max,t.updateHelpers.revertDefaultAxisMinMax(),typeof n.config.chart.events.beforeResetZoom=="function"){var s=n.config.chart.events.beforeResetZoom(t,n);s&&t.updateHelpers.revertDefaultAxisMinMax(s)}typeof n.config.chart.events.zoomed=="function"&&t.ctx.toolbar.zoomCallback({min:n.config.xaxis.min,max:n.config.xaxis.max}),n.globals.zoomed=!1;var a=t.ctx.series.emptyCollapsedSeries(ye.clone(n.globals.initialSeries));t.updateHelpers._updateSeries(a,n.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),r}(),tte=function(r){I0(t,SI);var e=R0(t);function t(n){var s;return kt(this,t),(s=e.call(this,n)).ctx=n,s.w=n.w,s.dragged=!1,s.graphics=new Ge(s.ctx),s.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],s.clientX=0,s.clientY=0,s.startX=0,s.endX=0,s.dragX=0,s.startY=0,s.endY=0,s.dragY=0,s.moveDirection="none",s.debounceTimer=null,s.debounceDelay=100,s.wheelDelay=400,s}return Ct(t,[{key:"init",value:function(n){var s=this,a=n.xyRatios,i=this.w,o=this;this.xyRatios=a,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=i.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new ys(0,0,i.globals.gridWidth,i.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),i.globals.dom.Paper.add(this.zoomRect),i.globals.dom.Paper.add(this.selectionRect),i.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:i.globals.gridWidth,maxY:i.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):i.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:i.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=i.globals.dom.baseEl.querySelector("".concat(i.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(c){s.hoverArea.addEventListener(c,o.svgMouseEvents.bind(o,a),{capture:!1,passive:!0})}),i.config.chart.zoom.enabled&&i.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",o.mouseWheelEvent.bind(o),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(n,s){var a=this.w,i=this.ctx.toolbar,o=a.globals.zoomEnabled?a.config.chart.zoom.type:a.config.chart.selection.type,c=a.config.chart.toolbar.autoSelected;if(s.shiftKey?(this.shiftWasPressed=!0,i.enableZoomPanFromToolbar(c==="pan"?"zoom":"pan")):this.shiftWasPressed&&(i.enableZoomPanFromToolbar(c),this.shiftWasPressed=!1),s.target){var d,u=s.target.classList;if(s.target.parentNode&&s.target.parentNode!==null&&(d=s.target.parentNode.classList),!(u.contains("apexcharts-legend-marker")||u.contains("apexcharts-legend-text")||d&&d.contains("apexcharts-toolbar"))){if(this.clientX=s.type==="touchmove"||s.type==="touchstart"?s.touches[0].clientX:s.type==="touchend"?s.changedTouches[0].clientX:s.clientX,this.clientY=s.type==="touchmove"||s.type==="touchstart"?s.touches[0].clientY:s.type==="touchend"?s.changedTouches[0].clientY:s.clientY,s.type==="mousedown"&&s.which===1||s.type==="touchstart"){var h=this.gridRect.getBoundingClientRect();this.startX=this.clientX-h.left-a.globals.barPadForNumericAxis,this.startY=this.clientY-h.top,this.dragged=!1,this.w.globals.mousedown=!0}(s.type==="mousemove"&&s.which===1||s.type==="touchmove")&&(this.dragged=!0,a.globals.panEnabled?(a.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:o,xyRatios:n})):(this.w.globals.mousedown&&a.globals.zoomEnabled||this.w.globals.mousedown&&a.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:o}))),s.type!=="mouseup"&&s.type!=="touchend"&&s.type!=="mouseleave"||this.handleMouseUp({zoomtype:o}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(n){var s,a=n.zoomtype,i=n.isResized,o=this.w,c=(s=this.gridRect)===null||s===void 0?void 0:s.getBoundingClientRect();c&&(this.w.globals.mousedown||i)&&(this.endX=this.clientX-c.left-o.globals.barPadForNumericAxis,this.endY=this.clientY-c.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(o.globals.zoomEnabled||o.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:a}),o.globals.panEnabled&&o.config.xaxis.convertedCatToNumeric&&this.delayedPanScrolled()),o.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(n){var s=this,a=this.w;n.preventDefault();var i=Date.now();i-a.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(n),a.globals.lastWheelExecution=i),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){i-a.globals.lastWheelExecution>s.wheelDelay&&(s.executeMouseWheelZoom(n),a.globals.lastWheelExecution=i)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(n){var s,a=this.w;this.minX=a.globals.isRangeBar?a.globals.minY:a.globals.minX,this.maxX=a.globals.isRangeBar?a.globals.maxY:a.globals.maxX;var i=(s=this.gridRect)===null||s===void 0?void 0:s.getBoundingClientRect();if(i){var o,c,d,u=(n.clientX-i.left)/i.width,h=this.minX,f=this.maxX,p=f-h;if(n.deltaY<0){var g=h+u*p;c=g-(o=.5*p)/2,d=g+o/2}else c=h-(o=1.5*p)/2,d=f+o/2;if(!a.globals.isRangeBar){c=Math.max(c,a.globals.initialMinX),d=Math.min(d,a.globals.initialMaxX);var m=.01*(a.globals.initialMaxX-a.globals.initialMinX);if(d-c<m){var v=(c+d)/2;c=v-m/2,d=v+m/2}}var x=this._getNewMinXMaxX(c,d);isNaN(x.minX)||isNaN(x.maxX)||this.zoomUpdateOptions(x.minX,x.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var n=this,s=this.w;if(this.selectionRect){var a=this.selectionRect.node.getBoundingClientRect();a.width>0&&a.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(i,o,c,d,u){return u==="l"||u==="r"?i.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):i.circle(0)},updateHandle:function(i,o){return i.center(o[0],o[1])}}).resize().on("resize",function(){var i=s.globals.zoomEnabled?s.config.chart.zoom.type:s.config.chart.selection.type;n.handleMouseUp({zoomtype:i,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var n=this.w,s=this.xyRatios;if(!n.globals.zoomEnabled){if(n.globals.selection!==void 0&&n.globals.selection!==null)this.drawSelectionRect(dt(dt({},n.globals.selection),{},{translateX:n.globals.translateX,translateY:n.globals.translateY}));else if(n.config.chart.selection.xaxis.min!==void 0&&n.config.chart.selection.xaxis.max!==void 0){var a=(n.config.chart.selection.xaxis.min-n.globals.minX)/s.xRatio,i=n.globals.gridWidth-(n.globals.maxX-n.config.chart.selection.xaxis.max)/s.xRatio-a;n.globals.isRangeBar&&(a=(n.config.chart.selection.xaxis.min-n.globals.yAxisScale[0].niceMin)/s.invertedYRatio,i=(n.config.chart.selection.xaxis.max-n.config.chart.selection.xaxis.min)/s.invertedYRatio);var o={x:a,y:0,width:i,height:n.globals.gridHeight,translateX:n.globals.translateX,translateY:n.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(o),this.makeSelectionRectDraggable(),typeof n.config.chart.events.selection=="function"&&n.config.chart.events.selection(this.ctx,{xaxis:{min:n.config.chart.selection.xaxis.min,max:n.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(n){var s=n.x,a=n.y,i=n.width,o=n.height,c=n.translateX,d=c===void 0?0:c,u=n.translateY,h=u===void 0?0:u,f=this.w,p=this.zoomRect,g=this.selectionRect;if(this.dragged||f.globals.selection!==null){var m={transform:"translate("+d+", "+h+")"};f.globals.zoomEnabled&&this.dragged&&(i<0&&(i=1),p.attr({x:s,y:a,width:i,height:o,fill:f.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":f.config.chart.zoom.zoomedArea.fill.opacity,stroke:f.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":f.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":f.config.chart.zoom.zoomedArea.stroke.opacity}),Ge.setAttrs(p.node,m)),f.globals.selectionEnabled&&(g.attr({x:s,y:a,width:i>0?i:0,height:o>0?o:0,fill:f.config.chart.selection.fill.color,"fill-opacity":f.config.chart.selection.fill.opacity,stroke:f.config.chart.selection.stroke.color,"stroke-width":f.config.chart.selection.stroke.width,"stroke-dasharray":f.config.chart.selection.stroke.dashArray,"stroke-opacity":f.config.chart.selection.stroke.opacity}),Ge.setAttrs(g.node,m))}}},{key:"hideSelectionRect",value:function(n){n&&n.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(n){var s=n.context,a=n.zoomtype,i=this.w,o=s,c=this.gridRect.getBoundingClientRect(),d=o.startX-1,u=o.startY,h=!1,f=!1,p=o.clientX-c.left-i.globals.barPadForNumericAxis,g=o.clientY-c.top,m=p-d,v=g-u,x={translateX:i.globals.translateX,translateY:i.globals.translateY};return Math.abs(m+d)>i.globals.gridWidth?m=i.globals.gridWidth-d:p<0&&(m=d),d>p&&(h=!0,m=Math.abs(m)),u>g&&(f=!0,v=Math.abs(v)),x=dt(dt({},x=a==="x"?{x:h?d-m:d,y:0,width:m,height:i.globals.gridHeight}:a==="y"?{x:0,y:f?u-v:u,width:i.globals.gridWidth,height:v}:{x:h?d-m:d,y:f?u-v:u,width:m,height:v}),{},{translateX:i.globals.translateX,translateY:i.globals.translateY}),o.drawSelectionRect(x),o.selectionDragging("resizing"),x}},{key:"selectionDragging",value:function(n,s){var a=this,i=this.w;if(s){s.preventDefault();var o=s.detail,c=o.handler,d=o.box,u=d.x,h=d.y;u<this.constraints.x&&(u=this.constraints.x),h<this.constraints.y&&(h=this.constraints.y),d.x2>this.constraints.x2&&(u=this.constraints.x2-d.w),d.y2>this.constraints.y2&&(h=this.constraints.y2-d.h),c.move(u,h);var f=this.xyRatios,p=this.selectionRect,g=0;n==="resizing"&&(g=30);var m=function(x){return parseFloat(p.node.getAttribute(x))},v={x:m("x"),y:m("y"),width:m("width"),height:m("height")};i.globals.selection=v,typeof i.config.chart.events.selection=="function"&&i.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var x,y,w,k,S=a.gridRect.getBoundingClientRect(),N=p.node.getBoundingClientRect();i.globals.isRangeBar?(x=i.globals.yAxisScale[0].niceMin+(N.left-S.left)*f.invertedYRatio,y=i.globals.yAxisScale[0].niceMin+(N.right-S.left)*f.invertedYRatio,w=0,k=1):(x=i.globals.xAxisScale.niceMin+(N.left-S.left)*f.xRatio,y=i.globals.xAxisScale.niceMin+(N.right-S.left)*f.xRatio,w=i.globals.yAxisScale[0].niceMin+(S.bottom-N.bottom)*f.yRatio[0],k=i.globals.yAxisScale[0].niceMax-(N.top-S.top)*f.yRatio[0]);var A={xaxis:{min:x,max:y},yaxis:{min:w,max:k}};i.config.chart.events.selection(a.ctx,A),i.config.chart.brush.enabled&&i.config.chart.events.brushScrolled!==void 0&&i.config.chart.events.brushScrolled(a.ctx,A)},g))}}},{key:"selectionDrawn",value:function(n){var s,a,i=n.context,o=n.zoomtype,c=this.w,d=i,u=this.xyRatios,h=this.ctx.toolbar,f=c.globals.zoomEnabled?d.zoomRect.node.getBoundingClientRect():d.selectionRect.node.getBoundingClientRect(),p=d.gridRect.getBoundingClientRect(),g=f.left-p.left-c.globals.barPadForNumericAxis,m=f.right-p.left-c.globals.barPadForNumericAxis,v=f.top-p.top,x=f.bottom-p.top;c.globals.isRangeBar?(s=c.globals.yAxisScale[0].niceMin+g*u.invertedYRatio,a=c.globals.yAxisScale[0].niceMin+m*u.invertedYRatio):(s=c.globals.xAxisScale.niceMin+g*u.xRatio,a=c.globals.xAxisScale.niceMin+m*u.xRatio);var y=[],w=[];if(c.config.yaxis.forEach(function(O,L){var D=c.globals.seriesYAxisMap[L][0],F=c.globals.yAxisScale[L].niceMax-u.yRatio[D]*v,M=c.globals.yAxisScale[L].niceMax-u.yRatio[D]*x;y.push(F),w.push(M)}),d.dragged&&(d.dragX>10||d.dragY>10)&&s!==a){if(c.globals.zoomEnabled){var k=ye.clone(c.globals.initialConfig.yaxis),S=ye.clone(c.globals.initialConfig.xaxis);if(c.globals.zoomed=!0,c.config.xaxis.convertedCatToNumeric&&(s=Math.floor(s),a=Math.floor(a),s<1&&(s=1,a=c.globals.dataPoints),a-s<2&&(a=s+1)),o!=="xy"&&o!=="x"||(S={min:s,max:a}),o!=="xy"&&o!=="y"||k.forEach(function(O,L){k[L].min=w[L],k[L].max=y[L]}),h){var N=h.getBeforeZoomRange(S,k);N&&(S=N.xaxis?N.xaxis:S,k=N.yaxis?N.yaxis:k)}var A={xaxis:S};c.config.chart.group||(A.yaxis=k),d.ctx.updateHelpers._updateOptions(A,!1,d.w.config.chart.animations.dynamicAnimation.enabled),typeof c.config.chart.events.zoomed=="function"&&h.zoomCallback(S,k)}else if(c.globals.selectionEnabled){var E,R=null;E={min:s,max:a},o!=="xy"&&o!=="y"||(R=ye.clone(c.config.yaxis)).forEach(function(O,L){R[L].min=w[L],R[L].max=y[L]}),c.globals.selection=d.selection,typeof c.config.chart.events.selection=="function"&&c.config.chart.events.selection(d.ctx,{xaxis:E,yaxis:R})}}}},{key:"panDragging",value:function(n){var s=n.context,a=this.w,i=s;if(a.globals.lastClientPosition.x!==void 0){var o=a.globals.lastClientPosition.x-i.clientX,c=a.globals.lastClientPosition.y-i.clientY;Math.abs(o)>Math.abs(c)&&o>0?this.moveDirection="left":Math.abs(o)>Math.abs(c)&&o<0?this.moveDirection="right":Math.abs(c)>Math.abs(o)&&c>0?this.moveDirection="up":Math.abs(c)>Math.abs(o)&&c<0&&(this.moveDirection="down")}a.globals.lastClientPosition={x:i.clientX,y:i.clientY};var d=a.globals.isRangeBar?a.globals.minY:a.globals.minX,u=a.globals.isRangeBar?a.globals.maxY:a.globals.maxX;a.config.xaxis.convertedCatToNumeric||i.panScrolled(d,u)}},{key:"delayedPanScrolled",value:function(){var n=this.w,s=n.globals.minX,a=n.globals.maxX,i=(n.globals.maxX-n.globals.minX)/2;this.moveDirection==="left"?(s=n.globals.minX+i,a=n.globals.maxX+i):this.moveDirection==="right"&&(s=n.globals.minX-i,a=n.globals.maxX-i),s=Math.floor(s),a=Math.floor(a),this.updateScrolledChart({xaxis:{min:s,max:a}},s,a)}},{key:"panScrolled",value:function(n,s){var a=this.w,i=this.xyRatios,o=ye.clone(a.globals.initialConfig.yaxis),c=i.xRatio,d=a.globals.minX,u=a.globals.maxX;a.globals.isRangeBar&&(c=i.invertedYRatio,d=a.globals.minY,u=a.globals.maxY),this.moveDirection==="left"?(n=d+a.globals.gridWidth/15*c,s=u+a.globals.gridWidth/15*c):this.moveDirection==="right"&&(n=d-a.globals.gridWidth/15*c,s=u-a.globals.gridWidth/15*c),a.globals.isRangeBar||(n<a.globals.initialMinX||s>a.globals.initialMaxX)&&(n=d,s=u);var h={xaxis:{min:n,max:s}};a.config.chart.group||(h.yaxis=o),this.updateScrolledChart(h,n,s)}},{key:"updateScrolledChart",value:function(n,s,a){var i=this.w;this.ctx.updateHelpers._updateOptions(n,!1,!1),typeof i.config.chart.events.scrolled=="function"&&i.config.chart.events.scrolled(this.ctx,{xaxis:{min:s,max:a}})}}]),t}(),NI=function(){function r(e){kt(this,r),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return Ct(r,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,n=e.elGrid,s=e.clientX,a=e.clientY,i=this.w,o=n.getBoundingClientRect(),c=o.width,d=o.height,u=c/(i.globals.dataPoints-1),h=d/i.globals.dataPoints,f=this.hasBars();!i.globals.comboCharts&&!f||i.config.xaxis.convertedCatToNumeric||(u=c/i.globals.dataPoints);var p=s-o.left-i.globals.barPadForNumericAxis,g=a-o.top;p<0||g<0||p>c||g>d?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):i.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):i.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var m=Math.round(p/u),v=Math.floor(g/h);f&&!i.config.xaxis.convertedCatToNumeric&&(m=Math.ceil(p/u),m-=1);var x=null,y=null,w=i.globals.seriesXvalues.map(function(E){return E.filter(function(R){return ye.isNumber(R)})}),k=i.globals.seriesYvalues.map(function(E){return E.filter(function(R){return ye.isNumber(R)})});if(i.globals.isXNumeric){var S=this.ttCtx.getElGrid().getBoundingClientRect(),N=p*(S.width/c),A=g*(S.height/d);x=(y=this.closestInMultiArray(N,A,w,k)).index,m=y.j,x!==null&&i.globals.hasNullValues&&(w=i.globals.seriesXvalues[x],m=(y=this.closestInArray(N,w)).j)}return i.globals.capturedSeriesIndex=x===null?-1:x,(!m||m<1)&&(m=0),i.globals.isBarHorizontal?i.globals.capturedDataPointIndex=v:i.globals.capturedDataPointIndex=m,{capturedSeries:x,j:i.globals.isBarHorizontal?v:m,hoverX:p,hoverY:g}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,n=0,s=e.map(function(i,o){return i.length>0?o:-1}),a=0;a<s.length;a++)if(s[a]!==-1&&t.globals.collapsedSeriesIndices.indexOf(a)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(a)===-1){n=s[a];break}return n}},{key:"closestInMultiArray",value:function(e,t,n,s){for(var a,i=this.w,o=1/0,c=null,d=null,u=0;u<n.length;u++)if(a=u,i.globals.collapsedSeriesIndices.indexOf(a)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(a)===-1)for(var h=n[u],f=s[u],p=Math.min(h.length,f.length),g=0;g<p;g++){var m=e-h[g],v=Math.sqrt(m*m);if(!i.globals.allSeriesHasEqualX){var x=t-f[g];v=Math.sqrt(m*m+x*x)}v<o&&(o=v,c=u,d=g)}return{index:c,j:d}}},{key:"closestInArray",value:function(e,t){for(var n=t[0],s=null,a=Math.abs(e-n),i=0;i<t.length;i++){var o=Math.abs(e-t[i]);o<a&&(a=o,s=i)}return{j:s}}},{key:"isXoverlap",value:function(e){var t=[],n=this.w.globals.seriesX.filter(function(a){return a[0]!==void 0});if(n.length>0)for(var s=0;s<n.length-1;s++)n[s][e]!==void 0&&n[s+1][e]!==void 0&&n[s][e]!==n[s+1][e]&&t.push("unEqual");return t.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,n=0;n<t.length-1;n++)if(t[n].data.length!==t[n+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return cs(e).reduce(function(t,n){return t+n.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");n=cs(n),t&&(n=n.filter(function(a){var i=Number(a.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(i)===-1})),n.sort(function(a,i){var o=Number(a.getAttribute("data:realIndex")),c=Number(i.getAttribute("data:realIndex"));return c<o?1:c>o?-1:0});var s=[];return n.forEach(function(a){s.push(a.querySelector(".apexcharts-marker"))}),s}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var n=Number(e.getAttribute("cx")),s=Number(e.getAttribute("cy")),a=e.getAttribute("shape");return new Ge(this.ctx).getMarkerPath(n,s,a,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,n=t.config.markers.hover.size;return n===void 0&&(n=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),n}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,n=this.ttCtx;n.allTooltipSeriesGroups.length===0&&(n.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var s=n.allTooltipSeriesGroups,a=0;a<s.length;a++)e==="enable"?(s[a].classList.add("apexcharts-active"),s[a].style.display=t.config.tooltip.items.display):(s[a].classList.remove("apexcharts-active"),s[a].style.display="none")}}]),r}(),rte=function(){function r(e){kt(this,r),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new NI(e)}return Ct(r,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,n=t===void 0||t,s=e.ttItems,a=e.i,i=a===void 0?0:a,o=e.j,c=o===void 0?null:o,d=e.y1,u=e.y2,h=e.e,f=this.w;f.config.tooltip.custom!==void 0?this.handleCustomTooltip({i,j:c,y1:d,y2:u,w:f}):this.toggleActiveInactiveSeries(n,i);var p=this.getValuesToPrint({i,j:c});this.printLabels({i,j:c,values:p,ttItems:s,shared:n,e:h});var g=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=g.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=g.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,n=this,s=e.i,a=e.j,i=e.values,o=e.ttItems,c=e.shared,d=e.e,u=this.w,h=[],f=function(S){return u.globals.seriesGoals[S]&&u.globals.seriesGoals[S][a]&&Array.isArray(u.globals.seriesGoals[S][a])},p=i.xVal,g=i.zVal,m=i.xAxisTTVal,v="",x=u.globals.colors[s];a!==null&&u.config.plotOptions.bar.distributed&&(x=u.globals.colors[a]);for(var y=function(S,N){var A=n.getFormatters(s);v=n.getSeriesName({fn:A.yLbTitleFormatter,index:s,seriesIndex:s,j:a}),u.config.chart.type==="treemap"&&(v=A.yLbTitleFormatter(String(u.config.series[s].data[a].x),{series:u.globals.series,seriesIndex:s,dataPointIndex:a,w:u}));var E=u.config.tooltip.inverseOrder?N:S;if(u.globals.axisCharts){var R=function(D){var F,M,B,z;return u.globals.isRangeData?A.yLbFormatter((F=u.globals.seriesRangeStart)===null||F===void 0||(M=F[D])===null||M===void 0?void 0:M[a],{series:u.globals.seriesRangeStart,seriesIndex:D,dataPointIndex:a,w:u})+" - "+A.yLbFormatter((B=u.globals.seriesRangeEnd)===null||B===void 0||(z=B[D])===null||z===void 0?void 0:z[a],{series:u.globals.seriesRangeEnd,seriesIndex:D,dataPointIndex:a,w:u}):A.yLbFormatter(u.globals.series[D][a],{series:u.globals.series,seriesIndex:D,dataPointIndex:a,w:u})};if(c)A=n.getFormatters(E),v=n.getSeriesName({fn:A.yLbTitleFormatter,index:E,seriesIndex:s,j:a}),x=u.globals.colors[E],t=R(E),f(E)&&(h=u.globals.seriesGoals[E][a].map(function(D){return{attrs:D,val:A.yLbFormatter(D.value,{seriesIndex:E,dataPointIndex:a,w:u})}}));else{var O,L=d==null||(O=d.target)===null||O===void 0?void 0:O.getAttribute("fill");L&&(L.indexOf("url")!==-1?L.indexOf("Pattern")!==-1&&(x=u.globals.dom.baseEl.querySelector(L.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):x=L),t=R(s),f(s)&&Array.isArray(u.globals.seriesGoals[s][a])&&(h=u.globals.seriesGoals[s][a].map(function(D){return{attrs:D,val:A.yLbFormatter(D.value,{seriesIndex:s,dataPointIndex:a,w:u})}}))}}a===null&&(t=A.yLbFormatter(u.globals.series[s],dt(dt({},u),{},{seriesIndex:s,dataPointIndex:s}))),n.DOMHandling({i:s,t:E,j:a,ttItems:o,values:{val:t,goalVals:h,xVal:p,xAxisTTVal:m,zVal:g},seriesName:v,shared:c,pColor:x})},w=0,k=u.globals.series.length-1;w<u.globals.series.length;w++,k--)y(w,k)}},{key:"getFormatters",value:function(e){var t,n=this.w,s=n.globals.yLabelFormatters[e];return n.globals.ttVal!==void 0?Array.isArray(n.globals.ttVal)?(s=n.globals.ttVal[e]&&n.globals.ttVal[e].formatter,t=n.globals.ttVal[e]&&n.globals.ttVal[e].title&&n.globals.ttVal[e].title.formatter):(s=n.globals.ttVal.formatter,typeof n.globals.ttVal.title.formatter=="function"&&(t=n.globals.ttVal.title.formatter)):t=n.config.tooltip.y.title.formatter,typeof s!="function"&&(s=n.globals.yLabelFormatters[0]?n.globals.yLabelFormatters[0]:function(a){return a}),typeof t!="function"&&(t=function(a){return a?a+": ":""}),{yLbFormatter:s,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,n=e.index,s=e.seriesIndex,a=e.j,i=this.w;return t(String(i.globals.seriesNames[n]),{series:i.globals.series,seriesIndex:s,dataPointIndex:a,w:i})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,n=e.j,s=e.ttItems,a=e.values,i=e.seriesName,o=e.shared,c=e.pColor,d=this.w,u=this.ttCtx,h=a.val,f=a.goalVals,p=a.xVal,g=a.xAxisTTVal,m=a.zVal,v=null;v=s[t].children,d.config.tooltip.fillSeriesColor&&(s[t].style.color=c,v[0].style.display="none"),u.showTooltipTitle&&(u.tooltipTitle===null&&(u.tooltipTitle=d.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),u.tooltipTitle.innerHTML=p),u.isXAxisTooltipEnabled&&(u.xaxisTooltipText.innerHTML=g!==""?g:p);var x=s[t].querySelector(".apexcharts-tooltip-text-y-label");x&&(x.innerHTML=i||"");var y=s[t].querySelector(".apexcharts-tooltip-text-y-value");y&&(y.innerHTML=h!==void 0?h:""),v[0]&&v[0].classList.contains("apexcharts-tooltip-marker")&&(d.config.tooltip.marker.fillColors&&Array.isArray(d.config.tooltip.marker.fillColors)&&(c=d.config.tooltip.marker.fillColors[t]),v[0].style.color=c),d.config.tooltip.marker.show||(v[0].style.display="none");var w=s[t].querySelector(".apexcharts-tooltip-text-goals-label"),k=s[t].querySelector(".apexcharts-tooltip-text-goals-value");if(f.length&&d.globals.seriesGoals[t]){var S=function(){var E="<div>",R="<div>";f.forEach(function(O,L){E+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(O.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(O.attrs.name,"</div>"),R+="<div>".concat(O.val,"</div>")}),w.innerHTML=E+"</div>",k.innerHTML=R+"</div>"};o?d.globals.seriesGoals[t][n]&&Array.isArray(d.globals.seriesGoals[t][n])?S():(w.innerHTML="",k.innerHTML=""):S()}else w.innerHTML="",k.innerHTML="";if(m!==null&&(s[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=d.config.tooltip.z.title,s[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=m!==void 0?m:""),o&&v[0]){if(d.config.tooltip.hideEmptySeries){var N=s[t].querySelector(".apexcharts-tooltip-marker"),A=s[t].querySelector(".apexcharts-tooltip-text");parseFloat(h)==0?(N.style.display="none",A.style.display="none"):(N.style.display="block",A.style.display="block")}h==null||d.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||d.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(t)===-1?v[0].parentNode.style.display="none":v[0].parentNode.style.display=d.config.tooltip.items.display}else Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(t)===-1&&(v[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var n=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var s=n.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));s&&(s.classList.add("apexcharts-active"),s.style.display=n.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,n=e.j,s=this.w,a=this.ctx.series.filteredSeriesX(),i="",o="",c=null,d=null,u={series:s.globals.series,seriesIndex:t,dataPointIndex:n,w:s},h=s.globals.ttZFormatter;n===null?d=s.globals.series[t]:s.globals.isXNumeric&&s.config.chart.type!=="treemap"?(i=a[t][n],a[t].length===0&&(i=a[this.tooltipUtil.getFirstActiveXArray(a)][n])):i=new pN(this.ctx).isFormatXY()?s.config.series[t].data[n]!==void 0?s.config.series[t].data[n].x:"":s.globals.labels[n]!==void 0?s.globals.labels[n]:"";var f=i;return s.globals.isXNumeric&&s.config.xaxis.type==="datetime"?i=new z0(this.ctx).xLabelFormat(s.globals.ttKeyFormatter,f,f,{i:void 0,dateFormatter:new Ls(this.ctx).formatDate,w:this.w}):i=s.globals.isBarHorizontal?s.globals.yLabelFormatters[0](f,u):s.globals.xLabelFormatter(f,u),s.config.tooltip.x.formatter!==void 0&&(i=s.globals.ttKeyFormatter(f,u)),s.globals.seriesZ.length>0&&s.globals.seriesZ[t].length>0&&(c=h(s.globals.seriesZ[t][n],s)),o=typeof s.config.xaxis.tooltip.formatter=="function"?s.globals.xaxisTooltipFormatter(f,u):i,{val:Array.isArray(d)?d.join(" "):d,xVal:Array.isArray(i)?i.join(" "):i,xAxisTTVal:Array.isArray(o)?o.join(" "):o,zVal:c}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,n=e.j,s=e.y1,a=e.y2,i=e.w,o=this.ttCtx.getElTooltip(),c=i.config.tooltip.custom;Array.isArray(c)&&c[t]&&(c=c[t]);var d=c({ctx:this.ctx,series:i.globals.series,seriesIndex:t,dataPointIndex:n,y1:s,y2:a,w:i});typeof d=="string"?o.innerHTML=d:(d instanceof Element||typeof d.nodeName=="string")&&(o.innerHTML="",o.appendChild(d.cloneNode(!0)))}}]),r}(),EI=function(){function r(e){kt(this,r),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return Ct(r,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.ttCtx,s=this.w,a=n.getElXCrosshairs(),i=e-n.xcrosshairsWidth/2,o=s.globals.labels.slice().length;if(t!==null&&(i=s.globals.gridWidth/o*t),a===null||s.globals.isBarHorizontal||(a.setAttribute("x",i),a.setAttribute("x1",i),a.setAttribute("x2",i),a.setAttribute("y2",s.globals.gridHeight),a.classList.add("apexcharts-active")),i<0&&(i=0),i>s.globals.gridWidth&&(i=s.globals.gridWidth),n.isXAxisTooltipEnabled){var c=i;s.config.xaxis.crosshairs.width!=="tickWidth"&&s.config.xaxis.crosshairs.width!=="barWidth"||(c=i+n.xcrosshairsWidth/2),this.moveXAxisTooltip(c)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;t.ycrosshairs!==null&&Ge.setAttrs(t.ycrosshairs,{y1:e,y2:e}),t.ycrosshairsHidden!==null&&Ge.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;if(n.xaxisTooltip!==null&&n.xcrosshairsWidth!==0){n.xaxisTooltip.classList.add("apexcharts-active");var s=n.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=n.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.globals.translateX;var a;a=new Ge(this.ctx).getTextRects(n.xaxisTooltipText.innerHTML),n.xaxisTooltipText.style.minWidth=a.width+"px",n.xaxisTooltip.style.left=e+"px",n.xaxisTooltip.style.top=s+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;n.yaxisTTEls===null&&(n.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var s=parseInt(n.ycrosshairsHidden.getAttribute("y1"),10),a=t.globals.translateY+s,i=n.yaxisTTEls[e].getBoundingClientRect().height,o=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(o-=26),a-=i/2,t.globals.ignoreYAxisIndexes.indexOf(e)===-1?(n.yaxisTTEls[e].classList.add("apexcharts-active"),n.yaxisTTEls[e].style.top=a+"px",n.yaxisTTEls[e].style.left=o+t.config.yaxis[e].tooltip.offsetX+"px"):n.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.w,a=this.ttCtx,i=a.getElTooltip(),o=a.tooltipRect,c=n!==null?parseFloat(n):1,d=parseFloat(e)+c+5,u=parseFloat(t)+c/2;if(d>s.globals.gridWidth/2&&(d=d-o.ttWidth-c-10),d>s.globals.gridWidth-o.ttWidth-10&&(d=s.globals.gridWidth-o.ttWidth),d<-20&&(d=-20),s.config.tooltip.followCursor){var h=a.getElGrid().getBoundingClientRect();(d=a.e.clientX-h.left)>s.globals.gridWidth/2&&(d-=a.tooltipRect.ttWidth),(u=a.e.clientY+s.globals.translateY-h.top)>s.globals.gridHeight/2&&(u-=a.tooltipRect.ttHeight)}else s.globals.isBarHorizontal||o.ttHeight/2+u>s.globals.gridHeight&&(u=s.globals.gridHeight-o.ttHeight+s.globals.translateY);isNaN(d)||(d+=s.globals.translateX,i.style.left=d+"px",i.style.top=u+"px")}},{key:"moveMarkers",value:function(e,t){var n=this.w,s=this.ttCtx;if(n.globals.markers.size[e]>0)for(var a=n.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),i=0;i<a.length;i++)parseInt(a[i].getAttribute("rel"),10)===t&&(s.marker.resetPointsSize(),s.marker.enlargeCurrentPoint(t,a[i]));else s.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var n,s,a,i,o=this.w,c=this.ttCtx,d=new Ge(this.ctx),u=o.globals.pointsArray,h=c.tooltipUtil.getHoverMarkerSize(t),f=o.config.series[t].type;if(!f||f!=="column"&&f!=="candlestick"&&f!=="boxPlot"){a=(n=u[t][e])===null||n===void 0?void 0:n[0],i=((s=u[t][e])===null||s===void 0?void 0:s[1])||0;var p=o.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(p&&i<o.globals.gridHeight&&i>0){var g=p.getAttribute("shape"),m=d.getMarkerPath(a,i,g,1.5*h);p.setAttribute("d",m)}this.moveXCrosshairs(a),c.fixedTooltip||this.moveTooltip(a,i,h)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,n=this.ttCtx,s=n.w,a=0,i=0,o=s.globals.pointsArray,c=new Wi(this.ctx),d=new Ge(this.ctx);t=c.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var u=n.tooltipUtil.getHoverMarkerSize(t);if(o[t]&&(a=o[t][e][0],i=o[t][e][1]),!isNaN(a)){var h=n.tooltipUtil.getAllMarkers();if(h.length)for(var f=0;f<s.globals.series.length;f++){var p=o[f];if(s.globals.comboCharts&&p===void 0&&h.splice(f,0,null),p&&p.length){var g=o[f][e][1],m=void 0;h[f].setAttribute("cx",a);var v=h[f].getAttribute("shape");if(s.config.chart.type==="rangeArea"&&!s.globals.comboCharts){var x=e+s.globals.series[f].length;m=o[f][x][1],g-=Math.abs(g-m)/2}if(g!==null&&!isNaN(g)&&g<s.globals.gridHeight+u&&g+u>0){var y=d.getMarkerPath(a,g,v,u);h[f].setAttribute("d",y)}else h[f].setAttribute("d","")}}this.moveXCrosshairs(a),n.fixedTooltip||this.moveTooltip(a,i||s.globals.gridHeight,u)}}},{key:"moveStickyTooltipOverBars",value:function(e,t){var n=this.w,s=this.ttCtx,a=n.globals.columnSeries?n.globals.columnSeries.length:n.globals.series.length;n.config.chart.stacked&&(a=n.globals.barGroups.length);var i=a>=2&&a%2==0?Math.floor(a/2):Math.floor(a/2)+1;n.globals.isBarHorizontal&&(i=new Wi(this.ctx).getActiveConfigSeriesIndex("desc")+1);var o=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(i,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(i,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(i,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(i,"'] path[j='").concat(e,"']"));o||typeof t!="number"||(o=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,"']")));var c=o?parseFloat(o.getAttribute("cx")):0,d=o?parseFloat(o.getAttribute("cy")):0,u=o?parseFloat(o.getAttribute("barWidth")):0,h=s.getElGrid().getBoundingClientRect(),f=o&&(o.classList.contains("apexcharts-candlestick-area")||o.classList.contains("apexcharts-boxPlot-area"));n.globals.isXNumeric?(o&&!f&&(c-=a%2!=0?u/2:0),o&&f&&(c-=u/2)):n.globals.isBarHorizontal||(c=s.xAxisTicksPositions[e-1]+s.dataPointsDividedWidth/2,isNaN(c)&&(c=s.xAxisTicksPositions[e]-s.dataPointsDividedWidth/2)),n.globals.isBarHorizontal?d-=s.tooltipRect.ttHeight:n.config.tooltip.followCursor?d=s.e.clientY-h.top-s.tooltipRect.ttHeight/2:d+s.tooltipRect.ttHeight+15>n.globals.gridHeight&&(d=n.globals.gridHeight),n.globals.isBarHorizontal||this.moveXCrosshairs(c),s.fixedTooltip||this.moveTooltip(c,d||n.globals.gridHeight)}}]),r}(),nte=function(){function r(e){kt(this,r),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new EI(e)}return Ct(r,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new Ge(this.ctx),n=new Bp(this.ctx),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");s=cs(s),e.config.chart.stacked&&s.sort(function(h,f){return parseFloat(h.getAttribute("data:realIndex"))-parseFloat(f.getAttribute("data:realIndex"))});for(var a=0;a<s.length;a++){var i=s[a].querySelector(".apexcharts-series-markers-wrap");if(i!==null){var o=void 0,c="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(c+=" no-pointer-events");var d=n.getMarkerConfig({cssClass:c,seriesIndex:Number(i.getAttribute("data:realIndex"))});(o=t.drawMarker(0,0,d)).node.setAttribute("default-marker-size",0);var u=document.createElementNS(e.globals.SVGNS,"g");u.classList.add("apexcharts-series-markers"),u.appendChild(o.node),i.appendChild(u)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=this.w;a.config.chart.type!=="bubble"&&this.newPointSize(e,t);var i=t.getAttribute("cx"),o=t.getAttribute("cy");if(n!==null&&s!==null&&(i=n,o=s),this.tooltipPosition.moveXCrosshairs(i),!this.fixedTooltip){if(a.config.chart.type==="radar"){var c=this.ttCtx.getElGrid().getBoundingClientRect();i=this.ttCtx.e.clientX-c.left}this.tooltipPosition.moveTooltip(i,o,a.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,n=this,s=this.ttCtx,a=e,i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=t.config.markers.hover.size,c=0;c<i.length;c++){var d=i[c].getAttribute("rel"),u=i[c].getAttribute("index");if(o===void 0&&(o=t.globals.markers.size[u]+t.config.markers.hover.sizeOffset),a===parseInt(d,10)){n.newPointSize(a,i[c]);var h=i[c].getAttribute("cx"),f=i[c].getAttribute("cy");n.tooltipPosition.moveXCrosshairs(h),s.fixedTooltip||n.tooltipPosition.moveTooltip(h,f,o)}else n.oldPointSize(i[c])}}},{key:"newPointSize",value:function(e,t){var n=this.w,s=n.config.markers.hover.size,a=e===0?t.parentNode.firstChild:t.parentNode.lastChild;if(a.getAttribute("default-marker-size")!=="0"){var i=parseInt(a.getAttribute("index"),10);s===void 0&&(s=n.globals.markers.size[i]+n.config.markers.hover.sizeOffset),s<0&&(s=0);var o=this.ttCtx.tooltipUtil.getPathFromPoint(t,s);t.setAttribute("d",o)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),n=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",n)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var n=parseFloat(e[t].getAttribute("default-marker-size"));if(ye.isNumber(n)&&n>0){var s=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],n);e[t].setAttribute("d",s)}else e[t].setAttribute("d","M0,0")}}}]),r}(),ste=function(){function r(e){kt(this,r),this.w=e.w;var t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.config.chart.type==="rangeBar"&&t.config.plotOptions.bar.rangeBarGroupRows}return Ct(r,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,n=e.opt,s=e.x,a=e.y,i=e.type,o=this.ttCtx,c=this.w;if(t.target.classList.contains("apexcharts-".concat(i,"-rect"))){var d=this.getAttr(t,"i"),u=this.getAttr(t,"j"),h=this.getAttr(t,"cx"),f=this.getAttr(t,"cy"),p=this.getAttr(t,"width"),g=this.getAttr(t,"height");if(o.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:d,j:u,shared:!1,e:t}),c.globals.capturedSeriesIndex=d,c.globals.capturedDataPointIndex=u,s=h+o.tooltipRect.ttWidth/2+p,a=f+o.tooltipRect.ttHeight/2-g/2,o.tooltipPosition.moveXCrosshairs(h+p/2),s>c.globals.gridWidth/2&&(s=h-o.tooltipRect.ttWidth/2+p),o.w.config.tooltip.followCursor){var m=c.globals.dom.elWrap.getBoundingClientRect();s=c.globals.clientX-m.left-(s>c.globals.gridWidth/2?o.tooltipRect.ttWidth:0),a=c.globals.clientY-m.top-(a>c.globals.gridHeight/2?o.tooltipRect.ttHeight:0)}}return{x:s,y:a}}},{key:"handleMarkerTooltip",value:function(e){var t,n,s=e.e,a=e.opt,i=e.x,o=e.y,c=this.w,d=this.ttCtx;if(s.target.classList.contains("apexcharts-marker")){var u=parseInt(a.paths.getAttribute("cx"),10),h=parseInt(a.paths.getAttribute("cy"),10),f=parseFloat(a.paths.getAttribute("val"));if(n=parseInt(a.paths.getAttribute("rel"),10),t=parseInt(a.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,d.intersect){var p=ye.findAncestor(a.paths,"apexcharts-series");p&&(t=parseInt(p.getAttribute("data:realIndex"),10))}if(d.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:t,j:n,shared:!d.showOnIntersect&&c.config.tooltip.shared,e:s}),s.type==="mouseup"&&d.markerClick(s,t,n),c.globals.capturedSeriesIndex=t,c.globals.capturedDataPointIndex=n,i=u,o=h+c.globals.translateY-1.4*d.tooltipRect.ttHeight,d.w.config.tooltip.followCursor){var g=d.getElGrid().getBoundingClientRect();o=d.e.clientY+c.globals.translateY-g.top}f<0&&(o=h),d.marker.enlargeCurrentPoint(n,a.paths,i,o)}return{x:i,y:o}}},{key:"handleBarTooltip",value:function(e){var t,n,s=e.e,a=e.opt,i=this.w,o=this.ttCtx,c=o.getElTooltip(),d=0,u=0,h=0,f=this.getBarTooltipXY({e:s,opt:a});if(f.j!==null||f.barHeight!==0||f.barWidth!==0){t=f.i;var p=f.j;if(i.globals.capturedSeriesIndex=t,i.globals.capturedDataPointIndex=p,i.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||!i.config.tooltip.shared?(u=f.x,h=f.y,n=Array.isArray(i.config.stroke.width)?i.config.stroke.width[t]:i.config.stroke.width,d=u):i.globals.comboCharts||i.config.tooltip.shared||(d/=2),isNaN(h)&&(h=i.globals.svgHeight-o.tooltipRect.ttHeight),parseInt(a.paths.parentNode.getAttribute("data:realIndex"),10),u+o.tooltipRect.ttWidth>i.globals.gridWidth?u-=o.tooltipRect.ttWidth:u<0&&(u=0),o.w.config.tooltip.followCursor){var g=o.getElGrid().getBoundingClientRect();h=o.e.clientY-g.top}o.tooltip===null&&(o.tooltip=i.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),i.config.tooltip.shared||(i.globals.comboBarCount>0?o.tooltipPosition.moveXCrosshairs(d+n/2):o.tooltipPosition.moveXCrosshairs(d)),!o.fixedTooltip&&(!i.config.tooltip.shared||i.globals.isBarHorizontal&&o.tooltipUtil.hasBars())&&(h=h+i.globals.translateY-o.tooltipRect.ttHeight/2,c.style.left=u+i.globals.translateX+"px",c.style.top=h+"px")}}},{key:"getBarTooltipXY",value:function(e){var t=this,n=e.e,s=e.opt,a=this.w,i=null,o=this.ttCtx,c=0,d=0,u=0,h=0,f=0,p=n.target.classList;if(p.contains("apexcharts-bar-area")||p.contains("apexcharts-candlestick-area")||p.contains("apexcharts-boxPlot-area")||p.contains("apexcharts-rangebar-area")){var g=n.target,m=g.getBoundingClientRect(),v=s.elGrid.getBoundingClientRect(),x=m.height;f=m.height;var y=m.width,w=parseInt(g.getAttribute("cx"),10),k=parseInt(g.getAttribute("cy"),10);h=parseFloat(g.getAttribute("barWidth"));var S=n.type==="touchmove"?n.touches[0].clientX:n.clientX;i=parseInt(g.getAttribute("j"),10),c=parseInt(g.parentNode.getAttribute("rel"),10)-1;var N=g.getAttribute("data-range-y1"),A=g.getAttribute("data-range-y2");a.globals.comboCharts&&(c=parseInt(g.parentNode.getAttribute("data:realIndex"),10));var E=function(O){return a.globals.isXNumeric?w-y/2:t.isVerticalGroupedRangeBar?w+y/2:w-o.dataPointsDividedWidth+y/2},R=function(){return k-o.dataPointsDividedHeight+x/2-o.tooltipRect.ttHeight/2};o.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:c,j:i,y1:N?parseInt(N,10):null,y2:A?parseInt(A,10):null,shared:!o.showOnIntersect&&a.config.tooltip.shared,e:n}),a.config.tooltip.followCursor?a.globals.isBarHorizontal?(d=S-v.left+15,u=R()):(d=E(),u=n.clientY-v.top-o.tooltipRect.ttHeight/2-15):a.globals.isBarHorizontal?((d=w)<o.xyRatios.baseLineInvertedY&&(d=w-o.tooltipRect.ttWidth),u=R()):(d=E(),u=k)}return{x:d,y:u,barHeight:f,barWidth:h,i:c,j:i}}}]),r}(),ate=function(){function r(e){kt(this,r),this.w=e.w,this.ttCtx=e}return Ct(r,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,n=e.config.xaxis.position==="bottom";t.xaxisOffY=n?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var s=n?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",a=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",s+" apexcharts-theme-"+e.config.tooltip.theme),a.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,n=0;n<e.config.yaxis.length;n++){var s=e.config.yaxis[n].opposite||e.config.yaxis[n].crosshairs.opposite;t.yaxisOffX=s?e.globals.gridWidth+1:1;var a="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n,s?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),i=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n))===null&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+e.config.tooltip.theme),i.appendChild(t.yaxisTooltip),n===0&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[n]=document.createElement("div"),t.yaxisTooltipText[n].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[n]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,n=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var s=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(s!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var a=parseFloat(s.getAttribute("barWidth"));t.xcrosshairsWidth=a}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var i=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/i}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var o=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/o}else if(e.config.xaxis.crosshairs.width==="barWidth"){var c=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(c!==null){var d=parseFloat(c.getAttribute("barWidth"));t.xcrosshairsWidth=d}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),n!==null&&t.xcrosshairsWidth>0&&n.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,n){var s=this.ttCtx,a=this.w,i=a.globals,o=i.seriesYAxisMap[e];if(s.yaxisTooltips[e]&&o.length>0){var c=i.yLabelFormatters[e],d=s.getElGrid().getBoundingClientRect(),u=o[0],h=0;n.yRatio.length>1&&(h=u);var f=(t-d.top)*n.yRatio[h],p=i.maxYArr[u]-i.minYArr[u],g=i.minYArr[u]+(p-f);a.config.yaxis[e].reversed&&(g=i.maxYArr[u]-(p-f)),s.tooltipPosition.moveYCrosshairs(t-d.top),s.yaxisTooltipText[e].innerHTML=c(g),s.tooltipPosition.moveYAxisTooltip(e)}}}]),r}(),W7=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new NI(this),this.tooltipLabels=new rte(this),this.tooltipPosition=new EI(this),this.marker=new nte(this),this.intersect=new ste(this),this.axesTooltip=new ate(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return Ct(r,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(i,o){return!!(i.show&&i.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var n=document.createElement("div");if(n.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&n.classList.add(t.config.tooltip.cssClass),n.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),t.globals.dom.elWrap.appendChild(n),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var s=new t0(this.ctx);this.xAxisTicksPositions=s.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&t.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),t.config.markers.size!==0&&t.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,n.appendChild(this.tooltipTitle));var a=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(a=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(a),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,n=this.w,s=[],a=this.getElTooltip(),i=function(c){var d=document.createElement("div");d.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(c)),d.style.order=n.config.tooltip.inverseOrder?e-c:c+1;var u=document.createElement("span");u.classList.add("apexcharts-tooltip-marker"),u.style.color=n.globals.colors[c];var h=n.config.markers.shape,f=h;Array.isArray(h)&&(f=h[c]),u.setAttribute("shape",f),d.appendChild(u);var p=document.createElement("div");p.classList.add("apexcharts-tooltip-text"),p.style.fontFamily=t.tConfig.style.fontFamily||n.config.chart.fontFamily,p.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(g){var m=document.createElement("div");m.classList.add("apexcharts-tooltip-".concat(g,"-group"));var v=document.createElement("span");v.classList.add("apexcharts-tooltip-text-".concat(g,"-label")),m.appendChild(v);var x=document.createElement("span");x.classList.add("apexcharts-tooltip-text-".concat(g,"-value")),m.appendChild(x),p.appendChild(m)}),d.appendChild(p),a.appendChild(d),s.push(d)},o=0;o<e;o++)i(o);return s}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,n=this.getElTooltip(),s=!(t!=="bar"&&t!=="candlestick"&&t!=="boxPlot"&&t!=="rangeBar"),a=t==="area"||t==="line"||t==="scatter"||t==="bubble"||t==="radar",i=e.globals.dom.Paper.node,o=this.getElGrid();o&&(this.seriesBound=o.getBoundingClientRect());var c,d=[],u=[],h={hoverArea:i,elGrid:o,tooltipEl:n,tooltipY:d,tooltipX:u,ttItems:this.ttItems};if(e.globals.axisCharts&&(a?c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):s?c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):t!=="heatmap"&&t!=="treemap"||(c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),c&&c.length))for(var f=0;f<c.length;f++)d.push(c[f].getAttribute("cy")),u.push(c[f].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||s&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([i],h);else if(s&&!e.globals.comboCharts||a&&this.showOnIntersect)this.addDatapointEventsListeners(h);else if(!e.globals.axisCharts||t==="heatmap"||t==="treemap"){var p=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(p,h)}if(this.showOnIntersect){var g=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");g.length>0&&this.addPathsEventListeners(g,h),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(h)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),n=t.getBoundingClientRect(),s=n.width+10,a=n.height+10,i=this.tConfig.fixed.offsetX,o=this.tConfig.fixed.offsetY,c=this.tConfig.fixed.position.toLowerCase();return c.indexOf("right")>-1&&(i=i+e.globals.svgWidth-s+10),c.indexOf("bottom")>-1&&(o=o+e.globals.svgHeight-a-10),t.style.left=i+"px",t.style.top=o+"px",{x:i,y:o,ttWidth:s,ttHeight:a}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var n=this,s=function(i){var o={paths:e[i],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(c){return e[i].addEventListener(c,n.onSeriesHover.bind(n,o),{capture:!1,passive:!0})})},a=0;a<e.length;a++)s(a)}},{key:"onSeriesHover",value:function(e,t){var n=this,s=Date.now()-this.lastHoverTime;s>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){n.seriesHover(e,t)},20-s))}},{key:"seriesHover",value:function(e,t){var n=this;this.lastHoverTime=Date.now();var s=[],a=this.w;a.config.chart.group&&(s=this.ctx.getGroupedCharts()),a.globals.axisCharts&&(a.globals.minX===-1/0&&a.globals.maxX===1/0||a.globals.dataPoints===0)||(s.length?s.forEach(function(i){var o=n.getElTooltip(i),c={paths:e.paths,tooltipEl:o,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:i.w.globals.tooltip.ttItems};i.w.globals.minX===n.w.globals.minX&&i.w.globals.maxX===n.w.globals.maxX&&i.w.globals.tooltip.seriesHoverByContext({chartCtx:i,ttCtx:i.w.globals.tooltip,opt:c,e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,n=e.ttCtx,s=e.opt,a=e.e,i=t.w,o=this.getElTooltip(t);o&&(n.tooltipRect={x:0,y:0,ttWidth:o.getBoundingClientRect().width,ttHeight:o.getBoundingClientRect().height},n.e=a,n.tooltipUtil.hasBars()&&!i.globals.comboCharts&&!n.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Wi(t).toggleSeriesOnHover(a,a.target.parentNode),n.fixedTooltip&&n.drawFixedTooltipRect(),i.globals.axisCharts?n.axisChartsTooltips({e:a,opt:s,tooltipRect:n.tooltipRect}):n.nonAxisChartsTooltips({e:a,opt:s,tooltipRect:n.tooltipRect}))}},{key:"axisChartsTooltips",value:function(e){var t,n,s=e.e,a=e.opt,i=this.w,o=a.elGrid.getBoundingClientRect(),c=s.type==="touchmove"?s.touches[0].clientX:s.clientX,d=s.type==="touchmove"?s.touches[0].clientY:s.clientY;if(this.clientY=d,this.clientX=c,i.globals.capturedSeriesIndex=-1,i.globals.capturedDataPointIndex=-1,d<o.top||d>o.top+o.height)this.handleMouseOut(a);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!i.config.tooltip.shared){var u=parseInt(a.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(u)<0)return void this.handleMouseOut(a)}var h=this.getElTooltip(),f=this.getElXCrosshairs(),p=[];i.config.chart.group&&(p=this.ctx.getSyncedCharts());var g=i.globals.xyCharts||i.config.chart.type==="bar"&&!i.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||i.globals.comboCharts&&this.tooltipUtil.hasBars();if(s.type==="mousemove"||s.type==="touchmove"||s.type==="mouseup"){if(i.globals.collapsedSeries.length+i.globals.ancillaryCollapsedSeries.length===i.globals.series.length)return;f!==null&&f.classList.add("apexcharts-active");var m=this.yaxisTooltips.filter(function(y){return y===!0});if(this.ycrosshairs!==null&&m.length&&this.ycrosshairs.classList.add("apexcharts-active"),g&&!this.showOnIntersect||p.length>1)this.handleStickyTooltip(s,c,d,a);else if(i.config.chart.type==="heatmap"||i.config.chart.type==="treemap"){var v=this.intersect.handleHeatTreeTooltip({e:s,opt:a,x:t,y:n,type:i.config.chart.type});t=v.x,n=v.y,h.style.left=t+"px",h.style.top=n+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:s,opt:a}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:s,opt:a,x:t,y:n});if(this.yaxisTooltips.length)for(var x=0;x<i.config.yaxis.length;x++)this.axesTooltip.drawYaxisTooltipText(x,d,this.xyRatios);i.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),a.tooltipEl.classList.add("apexcharts-active")}else s.type!=="mouseout"&&s.type!=="touchend"||this.handleMouseOut(a)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,n=e.opt,s=e.tooltipRect,a=this.w,i=n.paths.getAttribute("rel"),o=this.getElTooltip(),c=a.globals.dom.elWrap.getBoundingClientRect();if(t.type==="mousemove"||t.type==="touchmove"){a.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),o.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:parseInt(i,10)-1,shared:!1});var d=a.globals.clientX-c.left-s.ttWidth/2,u=a.globals.clientY-c.top-s.ttHeight-10;if(o.style.left=d+"px",o.style.top=u+"px",a.config.legend.tooltipHoverFormatter){var h=i-1,f=(0,a.config.legend.tooltipHoverFormatter)(this.legendLabels[h].getAttribute("data:default-text"),{seriesIndex:h,dataPointIndex:h,w:a});this.legendLabels[h].innerHTML=f}}else t.type!=="mouseout"&&t.type!=="touchend"||(o.classList.remove("apexcharts-active"),a.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),a.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(p){var g=p.getAttribute("data:default-text");p.innerHTML=decodeURIComponent(g)}))}},{key:"handleStickyTooltip",value:function(e,t,n,s){var a=this.w,i=this.tooltipUtil.getNearestValues({context:this,hoverArea:s.hoverArea,elGrid:s.elGrid,clientX:t,clientY:n}),o=i.j,c=i.capturedSeries;a.globals.collapsedSeriesIndices.includes(c)&&(c=null);var d=s.elGrid.getBoundingClientRect();if(i.hoverX<0||i.hoverX>d.width)this.handleMouseOut(s);else if(c!==null)this.handleStickyCapturedSeries(e,c,s,o);else if(this.tooltipUtil.isXoverlap(o)||a.globals.isBarHorizontal){var u=a.globals.series.findIndex(function(h,f){return!a.globals.collapsedSeriesIndices.includes(f)});this.create(e,this,u,o,s.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,n,s){var a=this.w;if(!this.tConfig.shared&&a.globals.series[t][s]===null)return void this.handleMouseOut(n);if(a.globals.series[t][s]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(s)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,s,n.ttItems):this.create(e,this,t,s,n.ttItems,!1);else if(this.tooltipUtil.isXoverlap(s)){var i=a.globals.series.findIndex(function(o,c){return!a.globals.collapsedSeriesIndices.includes(c)});this.create(e,this,i,s,n.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new Ge(this.ctx),n=e.globals.dom.Paper.find(".apexcharts-bar-area"),s=0;s<n.length;s++)t.pathMouseLeave(n[s])}},{key:"handleMouseOut",value:function(e){var t=this.w,n=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),t.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),n!==null&&n.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var s=0;s<this.yaxisTTEls.length;s++)this.yaxisTTEls[s].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(a){var i=a.getAttribute("data:default-text");a.innerHTML=decodeURIComponent(i)})}},{key:"markerClick",value:function(e,t,n){var s=this.w;typeof s.config.chart.events.markerClick=="function"&&s.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:s}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:s}])}},{key:"create",value:function(e,t,n,s,a){var i,o,c,d,u,h,f,p,g,m,v,x,y,w,k,S,N=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,A=this.w,E=t;e.type==="mouseup"&&this.markerClick(e,n,s),N===null&&(N=this.tConfig.shared);var R=this.tooltipUtil.hasMarkers(n),O=this.tooltipUtil.getElBars(),L=function(){A.globals.markers.largestSize>0?E.marker.enlargePoints(s):E.tooltipPosition.moveDynamicPointsOnHover(s)};if(A.config.legend.tooltipHoverFormatter){var D=A.config.legend.tooltipHoverFormatter,F=Array.from(this.legendLabels);F.forEach(function(H){var $=H.getAttribute("data:default-text");H.innerHTML=decodeURIComponent($)});for(var M=0;M<F.length;M++){var B=F[M],z=parseInt(B.getAttribute("i"),10),V=decodeURIComponent(B.getAttribute("data:default-text")),W=D(V,{seriesIndex:N?z:n,dataPointIndex:s,w:A});if(N)B.innerHTML=A.globals.collapsedSeriesIndices.indexOf(z)<0?W:V;else if(B.innerHTML=z===n?W:V,n===z)break}}var Z=dt(dt({ttItems:a,i:n,j:s},((i=A.globals.seriesRange)===null||i===void 0||(o=i[n])===null||o===void 0||(c=o[s])===null||c===void 0||(d=c.y[0])===null||d===void 0?void 0:d.y1)!==void 0&&{y1:(u=A.globals.seriesRange)===null||u===void 0||(h=u[n])===null||h===void 0||(f=h[s])===null||f===void 0||(p=f.y[0])===null||p===void 0?void 0:p.y1}),((g=A.globals.seriesRange)===null||g===void 0||(m=g[n])===null||m===void 0||(v=m[s])===null||v===void 0||(x=v.y[0])===null||x===void 0?void 0:x.y2)!==void 0&&{y2:(y=A.globals.seriesRange)===null||y===void 0||(w=y[n])===null||w===void 0||(k=w[s])===null||k===void 0||(S=k.y[0])===null||S===void 0?void 0:S.y2});if(N){if(E.tooltipLabels.drawSeriesTexts(dt(dt({},Z),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),R)L();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(O),this.barSeriesHeight>0)){var q=new Ge(this.ctx),Q=A.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(s,"']"));this.deactivateHoverFilter(),E.tooltipPosition.moveStickyTooltipOverBars(s,n),E.tooltipUtil.getAllMarkers(!0).length&&L();for(var T=0;T<Q.length;T++)q.pathMouseEnter(Q[T])}}else E.tooltipLabels.drawSeriesTexts(dt({shared:!1},Z)),this.tooltipUtil.hasBars()&&E.tooltipPosition.moveStickyTooltipOverBars(s,n),R&&E.tooltipPosition.moveMarkers(n,s)}}]),r}(),ite=function(){function r(e){kt(this,r),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return Ct(r,[{key:"handleBarDataLabels",value:function(e){var t,n,s=e.x,a=e.y,i=e.y1,o=e.y2,c=e.i,d=e.j,u=e.realIndex,h=e.columnGroupIndex,f=e.series,p=e.barHeight,g=e.barWidth,m=e.barXPosition,v=e.barYPosition,x=e.visibleSeries,y=e.renderedPath,w=this.w,k=new Ge(this.barCtx.ctx),S=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[u]:this.barCtx.strokeWidth;w.globals.isXNumeric&&!w.globals.isBarHorizontal?(t=s+parseFloat(g*(x+1)),n=a+parseFloat(p*(x+1))-S):(t=s+parseFloat(g*x),n=a+parseFloat(p*x));var N,A=null,E=s,R=a,O={},L=w.config.dataLabels,D=this.barCtx.barOptions.dataLabels,F=this.barCtx.barOptions.dataLabels.total;v!==void 0&&this.barCtx.isRangeBar&&(n=v,R=v),m!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(t=m,E=m);var M=L.offsetX,B=L.offsetY,z={width:0,height:0};if(w.config.dataLabels.enabled){var V=w.globals.series[c][d];z=k.getTextRects(w.config.dataLabels.formatter?w.config.dataLabels.formatter(V,dt(dt({},w),{},{seriesIndex:c,dataPointIndex:d,w})):w.globals.yLabelFormatters[0](V),parseFloat(L.style.fontSize))}var W={x:s,y:a,i:c,j:d,realIndex:u,columnGroupIndex:h,renderedPath:y,bcx:t,bcy:n,barHeight:p,barWidth:g,textRects:z,strokeWidth:S,dataLabelsX:E,dataLabelsY:R,dataLabelsConfig:L,barDataLabelsConfig:D,barTotalDataLabelsConfig:F,offX:M,offY:B};return O=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(W):this.calculateColumnsDataLabelsPosition(W),y.attr({cy:O.bcy,cx:O.bcx,j:d,val:w.globals.series[c][d],barHeight:p,barWidth:g}),N=this.drawCalculatedDataLabels({x:O.dataLabelsX,y:O.dataLabelsY,val:this.barCtx.isRangeBar?[i,o]:w.config.chart.stackType==="100%"?f[u][d]:w.globals.series[u][d],i:u,j:d,barWidth:g,barHeight:p,textRects:z,dataLabelsConfig:L}),w.config.chart.stacked&&F.enabled&&(A=this.drawTotalDataLabels({x:O.totalDataLabelsX,y:O.totalDataLabelsY,barWidth:g,barHeight:p,realIndex:u,textAnchor:O.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:u,j:d}),dataLabelsConfig:L,barTotalDataLabelsConfig:F})),{dataLabels:N,totalDataLabels:A}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,n=e.j,s=this.w,a=this.barCtx.stackedSeriesTotals[n];return this.totalFormatter&&(a=this.totalFormatter(a,dt(dt({},s),{},{seriesIndex:t,dataPointIndex:n,w:s}))),a}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this,n=this.w,s=e.i,a=e.j,i=e.realIndex;e.columnGroupIndex;var o,c,d=e.y,u=e.bcx,h=e.barWidth,f=e.barHeight,p=e.textRects,g=e.dataLabelsX,m=e.dataLabelsY,v=e.dataLabelsConfig,x=e.barDataLabelsConfig,y=e.barTotalDataLabelsConfig,w=e.strokeWidth,k=e.offX,S=e.offY,N=u;f=Math.abs(f);var A=n.config.plotOptions.bar.dataLabels.orientation==="vertical",E=this.barCtx.barHelpers.getZeroValueEncounters({i:s,j:a}).zeroEncounters;u-=w/2;var R=n.globals.gridWidth/n.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?g+=h/2:(g=n.globals.isXNumeric?u-h/2+k:u-R+h/2+k,E>0&&n.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(g-=h*E)),A&&(g=g+p.height/2-w/2-2);var O=n.globals.series[s][a]<0,L=d;switch(this.barCtx.isReversed&&(L=d+(O?f:-f)),x.position){case"center":m=A?O?L-f/2+S:L+f/2-S:O?L-f/2+p.height/2+S:L+f/2+p.height/2-S;break;case"bottom":m=A?O?L-f+S:L+f-S:O?L-f+p.height+w+S:L+f-p.height/2+w-S;break;case"top":m=A?O?L+S:L-S:O?L-p.height/2-S:L+p.height+S}var D=L;if(n.globals.seriesGroups.forEach(function(B){var z;(z=t.barCtx[B.join(",")])===null||z===void 0||z.prevY.forEach(function(V){D=O?Math.max(V[a],D):Math.min(V[a],D)})}),this.barCtx.lastActiveBarSerieIndex===i&&y.enabled){var F=new Ge(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:i,j:a}),v.fontSize);o=O?D-F.height/2-S-y.offsetY+18:D+F.height+S+y.offsetY-18;var M=R;c=N+(n.globals.isXNumeric?-h*n.globals.barGroups.length/2:n.globals.barGroups.length*h/2-(n.globals.barGroups.length-1)*h-M)+y.offsetX}return n.config.chart.stacked||(m<0?m=0+w:m+p.height/3>n.globals.gridHeight&&(m=n.globals.gridHeight-w)),{bcx:u,bcy:d,dataLabelsX:g,dataLabelsY:m,totalDataLabelsX:c,totalDataLabelsY:o,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this,n=this.w,s=e.x,a=e.i,i=e.j,o=e.realIndex,c=e.bcy,d=e.barHeight,u=e.barWidth,h=e.textRects,f=e.dataLabelsX,p=e.strokeWidth,g=e.dataLabelsConfig,m=e.barDataLabelsConfig,v=e.barTotalDataLabelsConfig,x=e.offX,y=e.offY,w=n.globals.gridHeight/n.globals.dataPoints;u=Math.abs(u);var k,S,N=c-(this.barCtx.isRangeBar?0:w)+d/2+h.height/2+y-3,A="start",E=n.globals.series[a][i]<0,R=s;switch(this.barCtx.isReversed&&(R=s+(E?-u:u),A=E?"start":"end"),m.position){case"center":f=E?R+u/2-x:Math.max(h.width/2,R-u/2)+x;break;case"bottom":f=E?R+u-p-x:R-u+p+x;break;case"top":f=E?R-p-x:R-p+x}var O=R;if(n.globals.seriesGroups.forEach(function(D){var F;(F=t.barCtx[D.join(",")])===null||F===void 0||F.prevX.forEach(function(M){O=E?Math.min(M[i],O):Math.max(M[i],O)})}),this.barCtx.lastActiveBarSerieIndex===o&&v.enabled){var L=new Ge(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:i}),g.fontSize);E?(k=O-p-x-v.offsetX,A="end"):k=O+x+v.offsetX+(this.barCtx.isReversed?-(u+p):p),S=N-h.height/2+L.height/2+v.offsetY+p,n.globals.barGroups.length>1&&(S-=n.globals.barGroups.length/2*(d/2))}return n.config.chart.stacked||(g.textAnchor==="start"?f-h.width<0?f=E?h.width+p:p:f+h.width>n.globals.gridWidth&&(f=E?n.globals.gridWidth-p:n.globals.gridWidth-h.width-p):g.textAnchor==="middle"?f-h.width/2<0?f=h.width/2+p:f+h.width/2>n.globals.gridWidth&&(f=n.globals.gridWidth-h.width/2-p):g.textAnchor==="end"&&(f<1?f=h.width+p:f+1>n.globals.gridWidth&&(f=n.globals.gridWidth-h.width-p))),{bcx:s,bcy:c,dataLabelsX:f,dataLabelsY:N,totalDataLabelsX:k,totalDataLabelsY:S,totalDataLabelsAnchor:A}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,n=e.y,s=e.val,a=e.i,i=e.j,o=e.textRects,c=e.barHeight,d=e.barWidth,u=e.dataLabelsConfig,h=this.w,f="rotate(0)";h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(f="rotate(-90, ".concat(t,", ").concat(n,")"));var p=new cp(this.barCtx.ctx),g=new Ge(this.barCtx.ctx),m=u.formatter,v=null,x=h.globals.collapsedSeriesIndices.indexOf(a)>-1;if(u.enabled&&!x){v=g.group({class:"apexcharts-data-labels",transform:f});var y="";s!==void 0&&(y=m(s,dt(dt({},h),{},{seriesIndex:a,dataPointIndex:i,w:h}))),!s&&h.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(y="");var w=h.globals.series[a][i]<0,k=h.config.plotOptions.bar.dataLabels.position;h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(k==="top"&&(u.textAnchor=w?"end":"start"),k==="center"&&(u.textAnchor="middle"),k==="bottom"&&(u.textAnchor=w?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&d<g.getTextRects(y,parseFloat(u.style.fontSize)).width&&(y=""),h.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?o.width/1.6>Math.abs(d)&&(y=""):o.height/1.6>Math.abs(c)&&(y=""));var S=dt({},u);this.barCtx.isHorizontal&&s<0&&(u.textAnchor==="start"?S.textAnchor="end":u.textAnchor==="end"&&(S.textAnchor="start")),p.plotDataLabelsText({x:t,y:n,text:y,i:a,j:i,parent:v,dataLabelsConfig:S,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return v}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,n=e.y,s=e.val,a=e.realIndex,i=e.textAnchor,o=e.barTotalDataLabelsConfig;this.w;var c,d=new Ge(this.barCtx.ctx);return o.enabled&&t!==void 0&&n!==void 0&&this.barCtx.lastActiveBarSerieIndex===a&&(c=d.drawText({x:t,y:n,foreColor:o.style.color,text:s,textAnchor:i,fontFamily:o.style.fontFamily,fontSize:o.style.fontSize,fontWeight:o.style.fontWeight})),c}}]),r}(),ote=function(){function r(e){kt(this,r),this.w=e.w,this.barCtx=e}return Ct(r,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var n=0;n<e.length;n++)if(e[n].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[n].length),t.globals.isXNumeric)for(var s=0;s<e[n].length;s++)t.globals.seriesX[n][s]>t.globals.minX&&t.globals.seriesX[n][s]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var t,n,s,a,i,o,c,d,u=this.w,h=u.globals.dataPoints;this.barCtx.isRangeBar&&(h=u.globals.labels.length);var f=this.barCtx.seriesLen;if(u.config.plotOptions.bar.rangeBarGroupRows&&(f=1),this.barCtx.isHorizontal)i=(s=u.globals.gridHeight/h)/f,u.globals.isXNumeric&&(i=(s=u.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),i=i*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(i=parseInt(this.barCtx.barOptions.barHeight,10)),d=this.barCtx.baseLineInvertedY+u.globals.padHorizontal+(this.barCtx.isReversed?u.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(d=u.globals.gridWidth/2),n=(s-i*this.barCtx.seriesLen)/2;else{if(a=u.globals.gridWidth/this.barCtx.visibleItems,u.config.xaxis.convertedCatToNumeric&&(a=u.globals.gridWidth/u.globals.dataPoints),o=a/f*parseInt(this.barCtx.barOptions.columnWidth,10)/100,u.globals.isXNumeric){var p=this.barCtx.xRatio;u.globals.minXDiff&&u.globals.minXDiff!==.5&&u.globals.minXDiff/p>0&&(a=u.globals.minXDiff/p),(o=a/f*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.columnWidth,10)),c=u.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?u.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),u.globals.isXNumeric?t=this.barCtx.getBarXForNumericXAxis({x:t,j:0,realIndex:e,barWidth:o}).x:t=u.globals.padHorizontal+ye.noExponents(a-o*this.barCtx.seriesLen)/2}return u.globals.barHeight=i,u.globals.barWidth=o,{x:t,y:n,yDivision:s,xDivision:a,barHeight:i,barWidth:o,zeroH:c,zeroW:d}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,t,n,s){var a,i,o,c,d=this.w,u=this.barCtx.ctx.fill,h=null,f=this.barCtx.barOptions.distributed?n:t,p=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(g){e[t][n]>=g.from&&e[t][n]<=g.to&&(h=g.color,p=!0)}),{color:u.fillPath({seriesNumber:this.barCtx.barOptions.distributed?f:s,dataPointIndex:n,color:h,value:e[t][n],fillConfig:(a=d.config.series[t].data[n])===null||a===void 0?void 0:a.fill,fillType:(i=d.config.series[t].data[n])!==null&&i!==void 0&&(o=i.fill)!==null&&o!==void 0&&o.type?(c=d.config.series[t].data[n])===null||c===void 0?void 0:c.fill.type:Array.isArray(d.config.fill.type)?d.config.fill.type[s]:d.config.fill.type}),useRangeColor:p}}},{key:"getStrokeWidth",value:function(e,t,n){var s=0,a=this.w;return this.barCtx.series[e][t]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,a.config.stroke.show&&(this.barCtx.isNullValue||(s=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[n]:this.barCtx.strokeWidth)),s}},{key:"createBorderRadiusArr",value:function(e){var t,n=this.w,s=!this.w.config.chart.stacked||n.config.plotOptions.bar.borderRadius<=0,a=e.length,i=0|((t=e[0])===null||t===void 0?void 0:t.length),o=Array.from({length:a},function(){return Array(i).fill(s?"top":"none")});if(s)return o;for(var c=0;c<i;c++){for(var d=[],u=[],h=0,f=0;f<a;f++){var p=e[f][c];p>0?(d.push(f),h++):p<0&&(u.push(f),h++)}if(d.length>0&&u.length===0)if(d.length===1)o[d[0]][c]="both";else{var g,m=d[0],v=d[d.length-1],x=Zg(d);try{for(x.s();!(g=x.n()).done;){var y=g.value;o[y][c]=y===m?"bottom":y===v?"top":"none"}}catch(z){x.e(z)}finally{x.f()}}else if(u.length>0&&d.length===0)if(u.length===1)o[u[0]][c]="both";else{var w,k=Math.max.apply(Math,u),S=Math.min.apply(Math,u),N=Zg(u);try{for(N.s();!(w=N.n()).done;){var A=w.value;o[A][c]=A===k?"bottom":A===S?"top":"none"}}catch(z){N.e(z)}finally{N.f()}}else if(d.length>0&&u.length>0){var E,R=d[d.length-1],O=Zg(d);try{for(O.s();!(E=O.n()).done;){var L=E.value;o[L][c]=L===R?"top":"none"}}catch(z){O.e(z)}finally{O.f()}var D,F=Math.max.apply(Math,u),M=Zg(u);try{for(M.s();!(D=M.n()).done;){var B=D.value;o[B][c]=B===F?"bottom":"none"}}catch(z){M.e(z)}finally{M.f()}}else h===1&&(o[d[0]||u[0]][c]="both")}return o}},{key:"barBackground",value:function(e){var t=e.j,n=e.i,s=e.x1,a=e.x2,i=e.y1,o=e.y2,c=e.elSeries,d=this.w,u=new Ge(this.barCtx.ctx),h=new Wi(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&h===n){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var f=this.barCtx.barOptions.colors.backgroundBarColors[t],p=u.drawRect(s!==void 0?s:0,i!==void 0?i:0,a!==void 0?a:d.globals.gridWidth,o!==void 0?o:d.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,f,this.barCtx.barOptions.colors.backgroundBarOpacity);c.add(p),p.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,n=e.barWidth,s=e.barXPosition,a=e.y1,i=e.y2,o=e.strokeWidth,c=e.isReversed,d=e.series,u=e.seriesGroup,h=e.realIndex,f=e.i,p=e.j,g=e.w,m=new Ge(this.barCtx.ctx);(o=Array.isArray(o)?o[h]:o)||(o=0);var v=n,x=s;(t=g.config.series[h].data[p])!==null&&t!==void 0&&t.columnWidthOffset&&(x=s-g.config.series[h].data[p].columnWidthOffset/2,v=n+g.config.series[h].data[p].columnWidthOffset);var y=o/2,w=x+y,k=x+v-y,S=(d[f][p]>=0?1:-1)*(c?-1:1);a+=.001-y*S,i+=.001+y*S;var N=m.move(w,a),A=m.move(w,a),E=m.line(k,a);if(g.globals.previousPaths.length>0&&(A=this.barCtx.getPreviousPath(h,p,!1)),N=N+m.line(w,i)+m.line(k,i)+E+(g.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][p]==="both"?" Z":" z"),A=A+m.line(w,a)+E+E+E+E+E+m.line(w,a)+(g.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][p]==="both"?" Z":" z"),this.arrBorderRadius[h][p]!=="none"&&(N=m.roundPathCorners(N,g.config.plotOptions.bar.borderRadius)),g.config.chart.stacked){var R=this.barCtx;(R=this.barCtx[u]).yArrj.push(i-y*S),R.yArrjF.push(Math.abs(a-i+o*S)),R.yArrjVal.push(this.barCtx.series[f][p])}return{pathTo:N,pathFrom:A}}},{key:"getBarpaths",value:function(e){var t,n=e.barYPosition,s=e.barHeight,a=e.x1,i=e.x2,o=e.strokeWidth,c=e.isReversed,d=e.series,u=e.seriesGroup,h=e.realIndex,f=e.i,p=e.j,g=e.w,m=new Ge(this.barCtx.ctx);(o=Array.isArray(o)?o[h]:o)||(o=0);var v=n,x=s;(t=g.config.series[h].data[p])!==null&&t!==void 0&&t.barHeightOffset&&(v=n-g.config.series[h].data[p].barHeightOffset/2,x=s+g.config.series[h].data[p].barHeightOffset);var y=o/2,w=v+y,k=v+x-y,S=(d[f][p]>=0?1:-1)*(c?-1:1);a+=.001+y*S,i+=.001-y*S;var N=m.move(a,w),A=m.move(a,w);g.globals.previousPaths.length>0&&(A=this.barCtx.getPreviousPath(h,p,!1));var E=m.line(a,k);if(N=N+m.line(i,w)+m.line(i,k)+E+(g.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][p]==="both"?" Z":" z"),A=A+m.line(a,w)+E+E+E+E+E+m.line(a,w)+(g.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][p]==="both"?" Z":" z"),this.arrBorderRadius[h][p]!=="none"&&(N=m.roundPathCorners(N,g.config.plotOptions.bar.borderRadius)),g.config.chart.stacked){var R=this.barCtx;(R=this.barCtx[u]).xArrj.push(i+y*S),R.xArrjF.push(Math.abs(a-i-o*S)),R.xArrjVal.push(this.barCtx.series[f][p])}return{pathTo:N,pathFrom:A}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,n=this.w,s=0;s<t.length;s++){for(var a=0,i=0;i<t[n.globals.maxValsInArrayIndex].length;i++)a+=t[s][i];a===0&&this.barCtx.zeroSerieses.push(s)}}},{key:"getXForValue",value:function(e,t){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?t:null;return e!=null&&(n=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),n}},{key:"getYForValue",value:function(e,t,n){var s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?t:null;return e!=null&&(s=t-e/this.barCtx.yRatio[n]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[n]:0)),s}},{key:"getGoalValues",value:function(e,t,n,s,a,i){var o=this,c=this.w,d=[],u=function(p,g){var m;d.push((py(m={},e,e==="x"?o.getXForValue(p,t,!1):o.getYForValue(p,n,i,!1)),py(m,"attrs",g),m))};if(c.globals.seriesGoals[s]&&c.globals.seriesGoals[s][a]&&Array.isArray(c.globals.seriesGoals[s][a])&&c.globals.seriesGoals[s][a].forEach(function(p){u(p.value,p)}),this.barCtx.barOptions.isDumbbell&&c.globals.seriesRange.length){var h=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:c.globals.colors,f={strokeHeight:e==="x"?0:c.globals.markers.size[s],strokeWidth:e==="x"?c.globals.markers.size[s]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(h[s])?h[s][0]:h[s]};u(c.globals.seriesRangeStart[s][a],f),u(c.globals.seriesRangeEnd[s][a],dt(dt({},f),{},{strokeColor:Array.isArray(h[s])?h[s][1]:h[s]}))}return d}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,n=e.barYPosition,s=e.goalX,a=e.goalY,i=e.barWidth,o=e.barHeight,c=new Ge(this.barCtx.ctx),d=c.group({className:"apexcharts-bar-goals-groups"});d.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:d.node}),d.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var u=null;return this.barCtx.isHorizontal?Array.isArray(s)&&s.forEach(function(h){if(h.x>=-1&&h.x<=c.w.globals.gridWidth+1){var f=h.attrs.strokeHeight!==void 0?h.attrs.strokeHeight:o/2,p=n+f+o/2;u=c.drawLine(h.x,p-2*f,h.x,p,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeWidth?h.attrs.strokeWidth:2,h.attrs.strokeLineCap),d.add(u)}}):Array.isArray(a)&&a.forEach(function(h){if(h.y>=-1&&h.y<=c.w.globals.gridHeight+1){var f=h.attrs.strokeWidth!==void 0?h.attrs.strokeWidth:i/2,p=t+f+i/2;u=c.drawLine(p-2*f,h.y,p,h.y,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeHeight?h.attrs.strokeHeight:2,h.attrs.strokeLineCap),d.add(u)}}),d}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,n=e.currPaths,s=e.color,a=this.w,i=t.x,o=t.x1,c=t.barYPosition,d=n.x,u=n.x1,h=n.barYPosition,f=c+n.barHeight,p=new Ge(this.barCtx.ctx),g=new ye,m=p.move(o,f)+p.line(i,f)+p.line(d,h)+p.line(u,h)+p.line(o,f)+(a.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return p.drawPath({d:m,fill:g.shadeColor(.5,ye.rgb2hex(s)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var t,n=e.i,s=e.j,a=this.w,i=0,o=0;return(a.config.plotOptions.bar.horizontal?a.globals.series.map(function(c,d){return d}):((t=a.globals.columnSeries)===null||t===void 0?void 0:t.i.map(function(c){return c}))||[]).forEach(function(c){var d=a.globals.seriesPercent[c][s];d&&i++,c<n&&d===0&&o++}),{nonZeroColumns:i,zeroEncounters:o}}},{key:"getGroupIndex",value:function(e){var t=this.w,n=t.globals.seriesGroups.findIndex(function(i){return i.indexOf(t.globals.seriesNames[e])>-1}),s=this.barCtx.columnGroupIndices,a=s.indexOf(n);return a<0&&(s.push(n),a=s.length-1),{groupIndex:n,columnGroupIndex:a}}}]),r}(),dp=function(){function r(e,t){kt(this,r),this.ctx=e,this.w=e.w;var n=this.w;this.barOptions=n.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=n.config.stroke.width,this.isNullValue=!1,this.isRangeBar=n.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!n.globals.isBarHorizontal&&n.globals.seriesRange.length&&n.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=t,this.xyRatios!==null&&(this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var s=new Wi(this.ctx);this.lastActiveBarSerieIndex=s.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var a=s.getBarSeriesIndices(),i=new Pn(this.ctx);this.stackedSeriesTotals=i.getStackedSeriesTotals(this.w.config.series.map(function(o,c){return a.indexOf(c)===-1?c:-1}).filter(function(o){return o!==-1})),this.barHelpers=new ote(this)}return Ct(r,[{key:"draw",value:function(e,t){var n=this.w,s=new Ge(this.ctx),a=new Pn(this.ctx,n);e=a.getLogSeries(e),this.series=e,this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var i=s.group({class:"apexcharts-bar-series apexcharts-plot-series"});n.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var o=0,c=0;o<e.length;o++,c++){var d,u,h,f,p=void 0,g=void 0,m=[],v=[],x=n.globals.comboCharts?t[o]:o,y=this.barHelpers.getGroupIndex(x).columnGroupIndex,w=s.group({class:"apexcharts-series",rel:o+1,seriesName:ye.escapeString(n.globals.seriesNames[x]),"data:realIndex":x});this.ctx.series.addCollapsedClassToSeries(w,x),e[o].length>0&&(this.visibleI=this.visibleI+1);var k=0,S=0;this.yRatio.length>1&&(this.yaxisIndex=n.globals.seriesYAxisReverseMap[x],this.translationsIndex=x);var N=this.translationsIndex;this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed;var A=this.barHelpers.initialPositions(x);g=A.y,k=A.barHeight,u=A.yDivision,f=A.zeroW,p=A.x,S=A.barWidth,d=A.xDivision,h=A.zeroH,this.isHorizontal||v.push(p+S/2);var E=s.group({class:"apexcharts-datalabels","data:realIndex":x});n.globals.delayedElements.push({el:E.node}),E.node.classList.add("apexcharts-element-hidden");var R=s.group({class:"apexcharts-bar-goals-markers"}),O=s.group({class:"apexcharts-bar-shadows"});n.globals.delayedElements.push({el:O.node}),O.node.classList.add("apexcharts-element-hidden");for(var L=0;L<e[o].length;L++){var D=this.barHelpers.getStrokeWidth(o,L,x),F=null,M={indexes:{i:o,j:L,realIndex:x,translationsIndex:N,bc:c},x:p,y:g,strokeWidth:D,elSeries:w};this.isHorizontal?(F=this.drawBarPaths(dt(dt({},M),{},{barHeight:k,zeroW:f,yDivision:u})),S=this.series[o][L]/this.invertedYRatio):(F=this.drawColumnPaths(dt(dt({},M),{},{xDivision:d,barWidth:S,zeroH:h})),k=this.series[o][L]/this.yRatio[N]);var B=this.barHelpers.getPathFillColor(e,o,L,x);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&L>0){var z,V=this.barHelpers.drawBarShadow({color:typeof B.color=="string"&&((z=B.color)===null||z===void 0?void 0:z.indexOf("url"))===-1?B.color:ye.hexToRgba(n.globals.colors[o]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:F});O.add(V),n.config.chart.dropShadow.enabled&&new Rs(this.ctx).dropShadow(V,n.config.chart.dropShadow,x)}this.pathArr.push(F);var W=this.barHelpers.drawGoalLine({barXPosition:F.barXPosition,barYPosition:F.barYPosition,goalX:F.goalX,goalY:F.goalY,barHeight:k,barWidth:S});W&&R.add(W),g=F.y,p=F.x,L>0&&v.push(p+S/2),m.push(g),this.renderSeries(dt(dt({realIndex:x,pathFill:B.color},B.useRangeColor?{lineFill:B.color}:{}),{},{j:L,i:o,columnGroupIndex:y,pathFrom:F.pathFrom,pathTo:F.pathTo,strokeWidth:D,elSeries:w,x:p,y:g,series:e,barHeight:Math.abs(F.barHeight?F.barHeight:k),barWidth:Math.abs(F.barWidth?F.barWidth:S),elDataLabelsWrap:E,elGoalsMarkers:R,elBarShadows:O,visibleSeries:this.visibleI,type:"bar"}))}n.globals.seriesXvalues[x]=v,n.globals.seriesYvalues[x]=m,i.add(w)}return i}},{key:"renderSeries",value:function(e){var t=e.realIndex,n=e.pathFill,s=e.lineFill,a=e.j,i=e.i,o=e.columnGroupIndex,c=e.pathFrom,d=e.pathTo,u=e.strokeWidth,h=e.elSeries,f=e.x,p=e.y,g=e.y1,m=e.y2,v=e.series,x=e.barHeight,y=e.barWidth,w=e.barXPosition,k=e.barYPosition,S=e.elDataLabelsWrap,N=e.elGoalsMarkers,A=e.elBarShadows,E=e.visibleSeries,R=e.type,O=e.classes,L=this.w,D=new Ge(this.ctx);if(!s){var F=typeof L.globals.stroke.colors[t]=="function"?function(W){var Z,q=L.config.stroke.colors;return Array.isArray(q)&&q.length>0&&((Z=q[W])||(Z=""),typeof Z=="function")?Z({value:L.globals.series[W][a],dataPointIndex:a,w:L}):Z}(t):L.globals.stroke.colors[t];s=this.barOptions.distributed?L.globals.stroke.colors[a]:F}L.config.series[i].data[a]&&L.config.series[i].data[a].strokeColor&&(s=L.config.series[i].data[a].strokeColor),this.isNullValue&&(n="none");var M=a/L.config.chart.animations.animateGradually.delay*(L.config.chart.animations.speed/L.globals.dataPoints)/2.4,B=D.renderPaths({i,j:a,realIndex:t,pathFrom:c,pathTo:d,stroke:s,strokeWidth:u,strokeLineCap:L.config.stroke.lineCap,fill:n,animationDelay:M,initialSpeed:L.config.chart.animations.speed,dataChangeSpeed:L.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(R,"-area ").concat(O),chartType:R});B.attr("clip-path","url(#gridRectBarMask".concat(L.globals.cuid,")"));var z=L.config.forecastDataPoints;z.count>0&&a>=L.globals.dataPoints-z.count&&(B.node.setAttribute("stroke-dasharray",z.dashArray),B.node.setAttribute("stroke-width",z.strokeWidth),B.node.setAttribute("fill-opacity",z.fillOpacity)),g!==void 0&&m!==void 0&&(B.attr("data-range-y1",g),B.attr("data-range-y2",m)),new Rs(this.ctx).setSelectionFilter(B,t,a),h.add(B);var V=new ite(this).handleBarDataLabels({x:f,y:p,y1:g,y2:m,i,j:a,series:v,realIndex:t,columnGroupIndex:o,barHeight:x,barWidth:y,barXPosition:w,barYPosition:k,renderedPath:B,visibleSeries:E});return V.dataLabels!==null&&S.add(V.dataLabels),V.totalDataLabels&&S.add(V.totalDataLabels),h.add(S),N&&h.add(N),A&&h.add(A),h}},{key:"drawBarPaths",value:function(e){var t,n=e.indexes,s=e.barHeight,a=e.strokeWidth,i=e.zeroW,o=e.x,c=e.y,d=e.yDivision,u=e.elSeries,h=this.w,f=n.i,p=n.j;if(h.globals.isXNumeric)t=(c=(h.globals.seriesX[f][p]-h.globals.minX)/this.invertedXRatio-s)+s*this.visibleI;else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var g=0,m=0;h.globals.seriesPercent.forEach(function(x,y){x[p]&&g++,y<f&&x[p]===0&&m++}),g>0&&(s=this.seriesLen*s/g),t=c+s*this.visibleI,t-=s*m}else t=c+s*this.visibleI;this.isFunnel&&(i-=(this.barHelpers.getXForValue(this.series[f][p],i)-i)/2),o=this.barHelpers.getXForValue(this.series[f][p],i);var v=this.barHelpers.getBarpaths({barYPosition:t,barHeight:s,x1:i,x2:o,strokeWidth:a,isReversed:this.isReversed,series:this.series,realIndex:n.realIndex,i:f,j:p,w:h});return h.globals.isXNumeric||(c+=d),this.barHelpers.barBackground({j:p,i:f,y1:t-s*this.visibleI,y2:s*this.seriesLen,elSeries:u}),{pathTo:v.pathTo,pathFrom:v.pathFrom,x1:i,x:o,y:c,goalX:this.barHelpers.getGoalValues("x",i,null,f,p),barYPosition:t,barHeight:s}}},{key:"drawColumnPaths",value:function(e){var t,n=e.indexes,s=e.x,a=e.y,i=e.xDivision,o=e.barWidth,c=e.zeroH,d=e.strokeWidth,u=e.elSeries,h=this.w,f=n.realIndex,p=n.translationsIndex,g=n.i,m=n.j,v=n.bc;if(h.globals.isXNumeric){var x=this.getBarXForNumericXAxis({x:s,j:m,realIndex:f,barWidth:o});s=x.x,t=x.barXPosition}else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var y=this.barHelpers.getZeroValueEncounters({i:g,j:m}),w=y.nonZeroColumns,k=y.zeroEncounters;w>0&&(o=this.seriesLen*o/w),t=s+o*this.visibleI,t-=o*k}else t=s+o*this.visibleI;a=this.barHelpers.getYForValue(this.series[g][m],c,p);var S=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:o,y1:c,y2:a,strokeWidth:d,isReversed:this.isReversed,series:this.series,realIndex:f,i:g,j:m,w:h});return h.globals.isXNumeric||(s+=i),this.barHelpers.barBackground({bc:v,j:m,i:g,x1:t-d/2-o*this.visibleI,x2:o*this.seriesLen+d/2,elSeries:u}),{pathTo:S.pathTo,pathFrom:S.pathFrom,x:s,y:a,goalY:this.barHelpers.getGoalValues("y",null,c,g,m,p),barXPosition:t,barWidth:o}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,n=e.barWidth,s=e.realIndex,a=e.j,i=this.w,o=s;return i.globals.seriesX[s].length||(o=i.globals.maxValsInArrayIndex),ye.isNumber(i.globals.seriesX[o][a])&&(t=(i.globals.seriesX[o][a]-i.globals.minX)/this.xRatio-n*this.seriesLen/2),{barXPosition:t+n*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var n,s=this.w,a=0;a<s.globals.previousPaths.length;a++){var i=s.globals.previousPaths[a];i.paths&&i.paths.length>0&&parseInt(i.realIndex,10)===parseInt(e,10)&&s.globals.previousPaths[a].paths[t]!==void 0&&(n=s.globals.previousPaths[a].paths[t].d)}return n}}]),r}(),q7=function(r){I0(t,dp);var e=R0(t);function t(){return kt(this,t),e.apply(this,arguments)}return Ct(t,[{key:"draw",value:function(n,s){var a=this,i=this.w;this.graphics=new Ge(this.ctx),this.bar=new dp(this.ctx,this.xyRatios);var o=new Pn(this.ctx,i);n=o.getLogSeries(n),this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n),i.config.chart.stackType==="100%"&&(n=i.globals.comboCharts?s.map(function(g){return i.globals.seriesPercent[g]}):i.globals.seriesPercent.slice()),this.series=n,this.barHelpers.initializeStackedPrevVars(this);for(var c=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),d=0,u=0,h=function(g,m){var v=void 0,x=void 0,y=void 0,w=void 0,k=i.globals.comboCharts?s[g]:g,S=a.barHelpers.getGroupIndex(k),N=S.groupIndex,A=S.columnGroupIndex;a.groupCtx=a[i.globals.seriesGroups[N]];var E=[],R=[],O=0;a.yRatio.length>1&&(a.yaxisIndex=i.globals.seriesYAxisReverseMap[k][0],O=k),a.isReversed=i.config.yaxis[a.yaxisIndex]&&i.config.yaxis[a.yaxisIndex].reversed;var L=a.graphics.group({class:"apexcharts-series",seriesName:ye.escapeString(i.globals.seriesNames[k]),rel:g+1,"data:realIndex":k});a.ctx.series.addCollapsedClassToSeries(L,k);var D=a.graphics.group({class:"apexcharts-datalabels","data:realIndex":k}),F=a.graphics.group({class:"apexcharts-bar-goals-markers"}),M=0,B=0,z=a.initialPositions(d,u,v,x,y,w,O);u=z.y,M=z.barHeight,x=z.yDivision,w=z.zeroW,d=z.x,B=z.barWidth,v=z.xDivision,y=z.zeroH,i.globals.barHeight=M,i.globals.barWidth=B,a.barHelpers.initializeStackedXYVars(a),a.groupCtx.prevY.length===1&&a.groupCtx.prevY[0].every(function(Y){return isNaN(Y)})&&(a.groupCtx.prevY[0]=a.groupCtx.prevY[0].map(function(){return y}),a.groupCtx.prevYF[0]=a.groupCtx.prevYF[0].map(function(){return 0}));for(var V=0;V<i.globals.dataPoints;V++){var W=a.barHelpers.getStrokeWidth(g,V,k),Z={indexes:{i:g,j:V,realIndex:k,translationsIndex:O,bc:m},strokeWidth:W,x:d,y:u,elSeries:L,columnGroupIndex:A,seriesGroup:i.globals.seriesGroups[N]},q=null;a.isHorizontal?(q=a.drawStackedBarPaths(dt(dt({},Z),{},{zeroW:w,barHeight:M,yDivision:x})),B=a.series[g][V]/a.invertedYRatio):(q=a.drawStackedColumnPaths(dt(dt({},Z),{},{xDivision:v,barWidth:B,zeroH:y})),M=a.series[g][V]/a.yRatio[O]);var Q=a.barHelpers.drawGoalLine({barXPosition:q.barXPosition,barYPosition:q.barYPosition,goalX:q.goalX,goalY:q.goalY,barHeight:M,barWidth:B});Q&&F.add(Q),u=q.y,d=q.x,E.push(d),R.push(u);var T=a.barHelpers.getPathFillColor(n,g,V,k),H="",$=i.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(a.barHelpers.arrBorderRadius[k][V]==="bottom"&&i.globals.series[k][V]>0||a.barHelpers.arrBorderRadius[k][V]==="top"&&i.globals.series[k][V]<0)&&(H=$),L=a.renderSeries(dt(dt({realIndex:k,pathFill:T.color},T.useRangeColor?{lineFill:T.color}:{}),{},{j:V,i:g,columnGroupIndex:A,pathFrom:q.pathFrom,pathTo:q.pathTo,strokeWidth:W,elSeries:L,x:d,y:u,series:n,barHeight:M,barWidth:B,elDataLabelsWrap:D,elGoalsMarkers:F,type:"bar",visibleSeries:A,classes:H}))}i.globals.seriesXvalues[k]=E,i.globals.seriesYvalues[k]=R,a.groupCtx.prevY.push(a.groupCtx.yArrj),a.groupCtx.prevYF.push(a.groupCtx.yArrjF),a.groupCtx.prevYVal.push(a.groupCtx.yArrjVal),a.groupCtx.prevX.push(a.groupCtx.xArrj),a.groupCtx.prevXF.push(a.groupCtx.xArrjF),a.groupCtx.prevXVal.push(a.groupCtx.xArrjVal),c.add(L)},f=0,p=0;f<n.length;f++,p++)h(f,p);return c}},{key:"initialPositions",value:function(n,s,a,i,o,c,d){var u,h,f=this.w;if(this.isHorizontal){i=f.globals.gridHeight/f.globals.dataPoints;var p=f.config.plotOptions.bar.barHeight;u=String(p).indexOf("%")===-1?parseInt(p,10):i*parseInt(p,10)/100,c=f.globals.padHorizontal+(this.isReversed?f.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),s=(i-u)/2}else{h=a=f.globals.gridWidth/f.globals.dataPoints;var g=f.config.plotOptions.bar.columnWidth;f.globals.isXNumeric&&f.globals.dataPoints>1?h=(a=f.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(g).indexOf("%")===-1?h=parseInt(g,10):h*=parseInt(g,10)/100,o=this.isReversed?this.baseLineY[d]:f.globals.gridHeight-this.baseLineY[d],n=f.globals.padHorizontal+(a-h)/2}var m=f.globals.barGroups.length||1;return{x:n,y:s,yDivision:i,xDivision:a,barHeight:u/m,barWidth:h/m,zeroH:o,zeroW:c}}},{key:"drawStackedBarPaths",value:function(n){for(var s,a=n.indexes,i=n.barHeight,o=n.strokeWidth,c=n.zeroW,d=n.x,u=n.y,h=n.columnGroupIndex,f=n.seriesGroup,p=n.yDivision,g=n.elSeries,m=this.w,v=u+h*i,x=a.i,y=a.j,w=a.realIndex,k=a.translationsIndex,S=0,N=0;N<this.groupCtx.prevXF.length;N++)S+=this.groupCtx.prevXF[N][y];var A;if((A=f.indexOf(m.config.series[w].name))>0){var E=c;this.groupCtx.prevXVal[A-1][y]<0?E=this.series[x][y]>=0?this.groupCtx.prevX[A-1][y]+S-2*(this.isReversed?S:0):this.groupCtx.prevX[A-1][y]:this.groupCtx.prevXVal[A-1][y]>=0&&(E=this.series[x][y]>=0?this.groupCtx.prevX[A-1][y]:this.groupCtx.prevX[A-1][y]-S+2*(this.isReversed?S:0)),s=E}else s=c;d=this.series[x][y]===null?s:s+this.series[x][y]/this.invertedYRatio-2*(this.isReversed?this.series[x][y]/this.invertedYRatio:0);var R=this.barHelpers.getBarpaths({barYPosition:v,barHeight:i,x1:s,x2:d,strokeWidth:o,isReversed:this.isReversed,series:this.series,realIndex:a.realIndex,seriesGroup:f,i:x,j:y,w:m});return this.barHelpers.barBackground({j:y,i:x,y1:v,y2:i,elSeries:g}),u+=p,{pathTo:R.pathTo,pathFrom:R.pathFrom,goalX:this.barHelpers.getGoalValues("x",c,null,x,y,k),barXPosition:s,barYPosition:v,x:d,y:u}}},{key:"drawStackedColumnPaths",value:function(n){var s=n.indexes,a=n.x,i=n.y,o=n.xDivision,c=n.barWidth,d=n.zeroH,u=n.columnGroupIndex,h=n.seriesGroup,f=n.elSeries,p=this.w,g=s.i,m=s.j,v=s.bc,x=s.realIndex,y=s.translationsIndex;if(p.globals.isXNumeric){var w=p.globals.seriesX[x][m];w||(w=0),a=(w-p.globals.minX)/this.xRatio-c/2*p.globals.barGroups.length}for(var k,S=a+u*c,N=0,A=0;A<this.groupCtx.prevYF.length;A++)N+=isNaN(this.groupCtx.prevYF[A][m])?0:this.groupCtx.prevYF[A][m];var E=g;if(h&&(E=h.indexOf(p.globals.seriesNames[x])),E>0&&!p.globals.isXNumeric||E>0&&p.globals.isXNumeric&&p.globals.seriesX[x-1][m]===p.globals.seriesX[x][m]){var R,O,L,D=Math.min(this.yRatio.length+1,x+1);if(this.groupCtx.prevY[E-1]!==void 0&&this.groupCtx.prevY[E-1].length)for(var F=1;F<D;F++){var M;if(!isNaN((M=this.groupCtx.prevY[E-F])===null||M===void 0?void 0:M[m])){L=this.groupCtx.prevY[E-F][m];break}}for(var B=1;B<D;B++){var z,V;if(((z=this.groupCtx.prevYVal[E-B])===null||z===void 0?void 0:z[m])<0){O=this.series[g][m]>=0?L-N+2*(this.isReversed?N:0):L;break}if(((V=this.groupCtx.prevYVal[E-B])===null||V===void 0?void 0:V[m])>=0){O=this.series[g][m]>=0?L:L+N-2*(this.isReversed?N:0);break}}O===void 0&&(O=p.globals.gridHeight),k=(R=this.groupCtx.prevYF[0])!==null&&R!==void 0&&R.every(function(Z){return Z===0})&&this.groupCtx.prevYF.slice(1,E).every(function(Z){return Z.every(function(q){return isNaN(q)})})?d:O}else k=d;i=this.series[g][m]?k-this.series[g][m]/this.yRatio[y]+2*(this.isReversed?this.series[g][m]/this.yRatio[y]:0):k;var W=this.barHelpers.getColumnPaths({barXPosition:S,barWidth:c,y1:k,y2:i,yRatio:this.yRatio[y],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:h,realIndex:s.realIndex,i:g,j:m,w:p});return this.barHelpers.barBackground({bc:v,j:m,i:g,x1:S,x2:c,elSeries:f}),{pathTo:W.pathTo,pathFrom:W.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,d,g,m),barXPosition:S,x:p.globals.isXNumeric?a:a+o,y:i}}}]),t}(),D5=function(r){I0(t,dp);var e=R0(t);function t(){return kt(this,t),e.apply(this,arguments)}return Ct(t,[{key:"draw",value:function(n,s,a){var i=this,o=this.w,c=new Ge(this.ctx),d=o.globals.comboCharts?s:o.config.chart.type,u=new ko(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=o.config.plotOptions.bar.horizontal;var h=new Pn(this.ctx,o);n=h.getLogSeries(n),this.series=n,this.yRatio=h.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n);for(var f=c.group({class:"apexcharts-".concat(d,"-series apexcharts-plot-series")}),p=function(m){i.isBoxPlot=o.config.chart.type==="boxPlot"||o.config.series[m].type==="boxPlot";var v,x,y,w,k=void 0,S=void 0,N=[],A=[],E=o.globals.comboCharts?a[m]:m,R=i.barHelpers.getGroupIndex(E).columnGroupIndex,O=c.group({class:"apexcharts-series",seriesName:ye.escapeString(o.globals.seriesNames[E]),rel:m+1,"data:realIndex":E});i.ctx.series.addCollapsedClassToSeries(O,E),n[m].length>0&&(i.visibleI=i.visibleI+1);var L,D,F=0;i.yRatio.length>1&&(i.yaxisIndex=o.globals.seriesYAxisReverseMap[E][0],F=E);var M=i.barHelpers.initialPositions(E);S=M.y,L=M.barHeight,x=M.yDivision,w=M.zeroW,k=M.x,D=M.barWidth,v=M.xDivision,y=M.zeroH,A.push(k+D/2);for(var B=c.group({class:"apexcharts-datalabels","data:realIndex":E}),z=c.group({class:"apexcharts-bar-goals-markers"}),V=function(Z){var q=i.barHelpers.getStrokeWidth(m,Z,E),Q=null,T={indexes:{i:m,j:Z,realIndex:E,translationsIndex:F},x:k,y:S,strokeWidth:q,elSeries:O};Q=i.isHorizontal?i.drawHorizontalBoxPaths(dt(dt({},T),{},{yDivision:x,barHeight:L,zeroW:w})):i.drawVerticalBoxPaths(dt(dt({},T),{},{xDivision:v,barWidth:D,zeroH:y})),S=Q.y,k=Q.x;var H=i.barHelpers.drawGoalLine({barXPosition:Q.barXPosition,barYPosition:Q.barYPosition,goalX:Q.goalX,goalY:Q.goalY,barHeight:L,barWidth:D});H&&z.add(H),Z>0&&A.push(k+D/2),N.push(S),Q.pathTo.forEach(function($,Y){var K=!i.isBoxPlot&&i.candlestickOptions.wick.useFillColor?Q.color[Y]:o.globals.stroke.colors[m],re=u.fillPath({seriesNumber:E,dataPointIndex:Z,color:Q.color[Y],value:n[m][Z]});i.renderSeries({realIndex:E,pathFill:re,lineFill:K,j:Z,i:m,pathFrom:Q.pathFrom,pathTo:$,strokeWidth:q,elSeries:O,x:k,y:S,series:n,columnGroupIndex:R,barHeight:L,barWidth:D,elDataLabelsWrap:B,elGoalsMarkers:z,visibleSeries:i.visibleI,type:o.config.chart.type})})},W=0;W<o.globals.dataPoints;W++)V(W);o.globals.seriesXvalues[E]=A,o.globals.seriesYvalues[E]=N,f.add(O)},g=0;g<n.length;g++)p(g);return f}},{key:"drawVerticalBoxPaths",value:function(n){var s=n.indexes,a=n.x;n.y;var i=n.xDivision,o=n.barWidth,c=n.zeroH,d=n.strokeWidth,u=this.w,h=new Ge(this.ctx),f=s.i,p=s.j,g=u.config.plotOptions.candlestick.colors,m=this.boxOptions.colors,v=s.realIndex,x=function(B){return Array.isArray(B)?B[v]:B},y=x(g.upward),w=x(g.downward),k=this.yRatio[s.translationsIndex],S=this.getOHLCValue(v,p),N=c,A=c,E=S.o<S.c?[y]:[w];this.isBoxPlot&&(E=[x(m.lower),x(m.upper)]);var R=Math.min(S.o,S.c),O=Math.max(S.o,S.c),L=S.m;u.globals.isXNumeric&&(a=(u.globals.seriesX[v][p]-u.globals.minX)/this.xRatio-o/2);var D=a+o*this.visibleI;this.series[f][p]===void 0||this.series[f][p]===null?(R=c,O=c):(R=c-R/k,O=c-O/k,N=c-S.h/k,A=c-S.l/k,L=c-S.m/k);var F=h.move(D,c),M=h.move(D+o/2,R);return u.globals.previousPaths.length>0&&(M=this.getPreviousPath(v,p,!0)),F=this.isBoxPlot?[h.move(D,R)+h.line(D+o/2,R)+h.line(D+o/2,N)+h.line(D+o/4,N)+h.line(D+o-o/4,N)+h.line(D+o/2,N)+h.line(D+o/2,R)+h.line(D+o,R)+h.line(D+o,L)+h.line(D,L)+h.line(D,R+d/2),h.move(D,L)+h.line(D+o,L)+h.line(D+o,O)+h.line(D+o/2,O)+h.line(D+o/2,A)+h.line(D+o-o/4,A)+h.line(D+o/4,A)+h.line(D+o/2,A)+h.line(D+o/2,O)+h.line(D,O)+h.line(D,L)+"z"]:[h.move(D,O)+h.line(D+o/2,O)+h.line(D+o/2,N)+h.line(D+o/2,O)+h.line(D+o,O)+h.line(D+o,R)+h.line(D+o/2,R)+h.line(D+o/2,A)+h.line(D+o/2,R)+h.line(D,R)+h.line(D,O-d/2)],M+=h.move(D,R),u.globals.isXNumeric||(a+=i),{pathTo:F,pathFrom:M,x:a,y:O,goalY:this.barHelpers.getGoalValues("y",null,c,f,p,s.translationsIndex),barXPosition:D,color:E}}},{key:"drawHorizontalBoxPaths",value:function(n){var s=n.indexes;n.x;var a=n.y,i=n.yDivision,o=n.barHeight,c=n.zeroW,d=n.strokeWidth,u=this.w,h=new Ge(this.ctx),f=s.i,p=s.j,g=this.boxOptions.colors.lower;this.isBoxPlot&&(g=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var m=this.invertedYRatio,v=s.realIndex,x=this.getOHLCValue(v,p),y=c,w=c,k=Math.min(x.o,x.c),S=Math.max(x.o,x.c),N=x.m;u.globals.isXNumeric&&(a=(u.globals.seriesX[v][p]-u.globals.minX)/this.invertedXRatio-o/2);var A=a+o*this.visibleI;this.series[f][p]===void 0||this.series[f][p]===null?(k=c,S=c):(k=c+k/m,S=c+S/m,y=c+x.h/m,w=c+x.l/m,N=c+x.m/m);var E=h.move(c,A),R=h.move(k,A+o/2);return u.globals.previousPaths.length>0&&(R=this.getPreviousPath(v,p,!0)),E=[h.move(k,A)+h.line(k,A+o/2)+h.line(y,A+o/2)+h.line(y,A+o/2-o/4)+h.line(y,A+o/2+o/4)+h.line(y,A+o/2)+h.line(k,A+o/2)+h.line(k,A+o)+h.line(N,A+o)+h.line(N,A)+h.line(k+d/2,A),h.move(N,A)+h.line(N,A+o)+h.line(S,A+o)+h.line(S,A+o/2)+h.line(w,A+o/2)+h.line(w,A+o-o/4)+h.line(w,A+o/4)+h.line(w,A+o/2)+h.line(S,A+o/2)+h.line(S,A)+h.line(N,A)+"z"],R+=h.move(k,A),u.globals.isXNumeric||(a+=i),{pathTo:E,pathFrom:R,x:S,y:a,goalX:this.barHelpers.getGoalValues("x",c,null,f,p),barYPosition:A,color:g}}},{key:"getOHLCValue",value:function(n,s){var a=this.w,i=new Pn(this.ctx,a),o=i.getLogValAtSeriesIndex(a.globals.seriesCandleH[n][s],n),c=i.getLogValAtSeriesIndex(a.globals.seriesCandleO[n][s],n),d=i.getLogValAtSeriesIndex(a.globals.seriesCandleM[n][s],n),u=i.getLogValAtSeriesIndex(a.globals.seriesCandleC[n][s],n),h=i.getLogValAtSeriesIndex(a.globals.seriesCandleL[n][s],n);return{o:this.isBoxPlot?o:c,h:this.isBoxPlot?c:o,m:d,l:this.isBoxPlot?u:h,c:this.isBoxPlot?h:u}}}]),t}(),_I=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return Ct(r,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,n=e.config.plotOptions[e.config.chart.type];return n.colorScale.ranges.length>0&&n.colorScale.ranges.map(function(s,a){s.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(e,t,n,s){var a=this.w,i=1,o=a.config.plotOptions[e].shadeIntensity,c=this.determineColor(e,t,n);a.globals.hasNegs||s?i=a.config.plotOptions[e].reverseNegativeShade?c.percent<0?c.percent/100*(1.25*o):(1-c.percent/100)*(1.25*o):c.percent<=0?1-(1+c.percent/100)*o:(1-c.percent/100)*o:(i=1-c.percent/100,e==="treemap"&&(i=(1-c.percent/100)*(1.25*o)));var d=c.color,u=new ye;if(a.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var h=u.shadeColor(-1*i,c.color);d=ye.hexToRgba(ye.isColorHex(h)?h:ye.rgb2hex(h),a.config.fill.opacity)}else{var f=u.shadeColor(i,c.color);d=ye.hexToRgba(ye.isColorHex(f)?f:ye.rgb2hex(f),a.config.fill.opacity)}return{color:d,colorProps:c}}},{key:"determineColor",value:function(e,t,n){var s=this.w,a=s.globals.series[t][n],i=s.config.plotOptions[e],o=i.colorScale.inverse?n:t;i.distributed&&s.config.chart.type==="treemap"&&(o=n);var c=s.globals.colors[o],d=null,u=Math.min.apply(Math,cs(s.globals.series[t])),h=Math.max.apply(Math,cs(s.globals.series[t]));i.distributed||e!=="heatmap"||(u=s.globals.minY,h=s.globals.maxY),i.colorScale.min!==void 0&&(u=i.colorScale.min<s.globals.minY?i.colorScale.min:s.globals.minY,h=i.colorScale.max>s.globals.maxY?i.colorScale.max:s.globals.maxY);var f=Math.abs(h)+Math.abs(u),p=100*a/(f===0?f-1e-6:f);return i.colorScale.ranges.length>0&&i.colorScale.ranges.map(function(g,m){if(a>=g.from&&a<=g.to){c=g.color,d=g.foreColor?g.foreColor:null,u=g.from,h=g.to;var v=Math.abs(h)+Math.abs(u);p=100*a/(v===0?v-1e-6:v)}}),{color:c,foreColor:d,percent:p}}},{key:"calculateDataLabels",value:function(e){var t=e.text,n=e.x,s=e.y,a=e.i,i=e.j,o=e.colorProps,c=e.fontSize,d=this.w.config.dataLabels,u=new Ge(this.ctx),h=new cp(this.ctx),f=null;if(d.enabled){f=u.group({class:"apexcharts-data-labels"});var p=d.offsetX,g=d.offsetY,m=n+p,v=s+parseFloat(d.style.fontSize)/3+g;h.plotDataLabelsText({x:m,y:v,text:t,i:a,j:i,color:o.foreColor,parent:f,fontSize:c,dataLabelsConfig:d})}return f}},{key:"addListeners",value:function(e){var t=new Ge(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),r}(),lte=function(){function r(e,t){kt(this,r),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new _I(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return Ct(r,[{key:"draw",value:function(e){var t=this.w,n=new Ge(this.ctx),s=n.group({class:"apexcharts-heatmap"});s.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var a=t.globals.gridWidth/t.globals.dataPoints,i=t.globals.gridHeight/t.globals.series.length,o=0,c=!1;this.negRange=this.helpers.checkColorRange();var d=e.slice();t.config.yaxis[0].reversed&&(c=!0,d.reverse());for(var u=c?0:d.length-1;c?u<d.length:u>=0;c?u++:u--){var h=n.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:ye.escapeString(t.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});if(this.ctx.series.addCollapsedClassToSeries(h,u),t.config.chart.dropShadow.enabled){var f=t.config.chart.dropShadow;new Rs(this.ctx).dropShadow(h,f,u)}for(var p=0,g=t.config.plotOptions.heatmap.shadeIntensity,m=0,v=0;v<t.globals.dataPoints;v++)if(t.globals.seriesX.length&&!t.globals.allSeriesHasEqualX&&t.globals.minX+t.globals.minXDiff*v<t.globals.seriesX[u][m])p+=a;else{if(m>=d[u].length)break;var x=this.helpers.getShadeColor(t.config.chart.type,u,m,this.negRange),y=x.color,w=x.colorProps;t.config.fill.type==="image"&&(y=new ko(this.ctx).fillPath({seriesNumber:u,dataPointIndex:m,opacity:t.globals.hasNegs?w.percent<0?1-(1+w.percent/100):g+w.percent/100:w.percent/100,patternID:ye.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:a,height:t.config.fill.image.height?t.config.fill.image.height:i}));var k=this.rectRadius,S=n.drawRect(p,o,a,i,k);if(S.attr({cx:p,cy:o}),S.node.classList.add("apexcharts-heatmap-rect"),h.add(S),S.attr({fill:y,i:u,index:u,j:m,val:e[u][m],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?y:t.globals.stroke.colors[0],color:y}),this.helpers.addListeners(S),t.config.chart.animations.enabled&&!t.globals.dataChanged){var N=1;t.globals.resized||(N=t.config.chart.animations.speed),this.animateHeatMap(S,p,o,a,i,N)}if(t.globals.dataChanged){var A=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){A=this.dynamicAnim.speed;var E=t.globals.previousPaths[u]&&t.globals.previousPaths[u][m]&&t.globals.previousPaths[u][m].color;E||(E="rgba(255, 255, 255, 0)"),this.animateHeatColor(S,ye.isColorHex(E)?E:ye.rgb2hex(E),ye.isColorHex(y)?y:ye.rgb2hex(y),A)}}var R=(0,t.config.dataLabels.formatter)(t.globals.series[u][m],{value:t.globals.series[u][m],seriesIndex:u,dataPointIndex:m,w:t}),O=this.helpers.calculateDataLabels({text:R,x:p+a/2,y:o+i/2,i:u,j:m,colorProps:w,series:d});O!==null&&h.add(O),p+=a,m++}o+=i,s.add(h)}var L=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?L.unshift(""):L.push(""),t.globals.yAxisScale[0].result=L,s}},{key:"animateHeatMap",value:function(e,t,n,s,a,i){var o=new Rp(this.ctx);o.animateRect(e,{x:t+s/2,y:n+a/2,width:0,height:0},{x:t,y:n,width:s,height:a},i,function(){o.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,t,n,s){e.attr({fill:t}).animate(s).attr({fill:n})}}]),r}(),jI=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return Ct(r,[{key:"drawYAxisTexts",value:function(e,t,n,s){var a=this.w,i=a.config.yaxis[0],o=a.globals.yLabelFormatters[0];return new Ge(this.ctx).drawText({x:e+i.labels.offsetX,y:t+i.labels.offsetY,text:o(s,n),textAnchor:"middle",fontSize:i.labels.style.fontSize,fontFamily:i.labels.style.fontFamily,foreColor:Array.isArray(i.labels.style.colors)?i.labels.style.colors[n]:i.labels.style.colors})}}]),r}(),AI=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,t.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100;var n=t.config.plotOptions.pie.customScale,s=t.globals.gridWidth/2,a=t.globals.gridHeight/2;this.translateX=s-s*n,this.translateY=a-a*n,this.dataLabelsGroup=new Ge(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return Ct(r,[{key:"draw",value:function(e){var t=this,n=this.w,s=new Ge(this.ctx),a=s.group({class:"apexcharts-pie"});if(n.globals.noData)return a;for(var i=0,o=0;o<e.length;o++)i+=ye.negToZero(e[o]);var c=[],d=s.group();i===0&&(i=1e-5),e.forEach(function(w){t.maxY=Math.max(t.maxY,w)}),n.config.yaxis[0].max&&(this.maxY=n.config.yaxis[0].max),n.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(a);for(var u=0;u<e.length;u++){var h=this.fullAngle*ye.negToZero(e[u])/i;c.push(h),this.chartType==="polarArea"?(c[u]=this.fullAngle/e.length,this.sliceSizes.push(n.globals.radialSize*e[u]/this.maxY)):this.sliceSizes.push(n.globals.radialSize)}if(n.globals.dataChanged){for(var f,p=0,g=0;g<n.globals.previousPaths.length;g++)p+=ye.negToZero(n.globals.previousPaths[g]);for(var m=0;m<n.globals.previousPaths.length;m++)f=this.fullAngle*ye.negToZero(n.globals.previousPaths[m])/p,this.prevSectorAngleArr.push(f)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var v=s.drawCircle(this.donutSize);v.attr({cx:this.centerX,cy:this.centerY,fill:n.config.plotOptions.pie.donut.background?n.config.plotOptions.pie.donut.background:"transparent"}),d.add(v)}var x=this.drawArcs(c,e);if(this.sliceLabels.forEach(function(w){x.add(w)}),d.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n.config.plotOptions.pie.customScale,")")}),d.add(x),a.add(d),this.donutDataLabels.show){var y=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});a.add(y)}return n.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(a),a}},{key:"drawArcs",value:function(e,t){var n=this.w,s=new Rs(this.ctx),a=new Ge(this.ctx),i=new ko(this.ctx),o=a.group({class:"apexcharts-slices"}),c=this.initialAngle,d=this.initialAngle,u=this.initialAngle,h=this.initialAngle;this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0;for(var f=0;f<e.length;f++){var p=a.group({class:"apexcharts-series apexcharts-pie-series",seriesName:ye.escapeString(n.globals.seriesNames[f]),rel:f+1,"data:realIndex":f});o.add(p),d=h,u=(c=u)+e[f],h=d+this.prevSectorAngleArr[f];var g=u<c?this.fullAngle+u-c:u-c,m=i.fillPath({seriesNumber:f,size:this.sliceSizes[f],value:t[f]}),v=this.getChangedPath(d,h),x=a.drawPath({d:v,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[f]:this.lineColorArr,strokeWidth:0,fill:m,fillOpacity:n.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(f)});if(x.attr({index:0,j:f}),s.setSelectionFilter(x,0,f),n.config.chart.dropShadow.enabled){var y=n.config.chart.dropShadow;s.dropShadow(x,y,f)}this.addListeners(x,this.donutDataLabels),Ge.setAttrs(x.node,{"data:angle":g,"data:startAngle":c,"data:strokeWidth":this.strokeWidth,"data:value":t[f]});var w={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?w=ye.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize/1.25+n.config.plotOptions.pie.dataLabels.offset,(c+g/2)%this.fullAngle):this.chartType==="donut"&&(w=ye.polarToCartesian(this.centerX,this.centerY,(n.globals.radialSize+this.donutSize)/2+n.config.plotOptions.pie.dataLabels.offset,(c+g/2)%this.fullAngle)),p.add(x);var k=0;if(!this.initialAnim||n.globals.resized||n.globals.dataChanged?this.animBeginArr.push(0):((k=g/this.fullAngle*n.config.chart.animations.speed)===0&&(k=1),this.animDur=k+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&n.globals.dataChanged?this.animatePaths(x,{size:this.sliceSizes[f],endAngle:u,startAngle:c,prevStartAngle:d,prevEndAngle:h,animateStartingPos:!0,i:f,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:n.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(x,{size:this.sliceSizes[f],endAngle:u,startAngle:c,i:f,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:k}),n.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&x.node.addEventListener("mouseup",this.pieClicked.bind(this,f)),n.globals.selectedDataPoints[0]!==void 0&&n.globals.selectedDataPoints[0].indexOf(f)>-1&&this.pieClicked(f),n.config.dataLabels.enabled){var S=w.x,N=w.y,A=100*g/this.fullAngle+"%";if(g!==0&&n.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[f]){var E=n.config.dataLabels.formatter;E!==void 0&&(A=E(n.globals.seriesPercent[f][0],{seriesIndex:f,w:n}));var R=n.globals.dataLabels.style.colors[f],O=a.group({class:"apexcharts-datalabels"}),L=a.drawText({x:S,y:N,text:A,textAnchor:"middle",fontSize:n.config.dataLabels.style.fontSize,fontFamily:n.config.dataLabels.style.fontFamily,fontWeight:n.config.dataLabels.style.fontWeight,foreColor:R});if(O.add(L),n.config.dataLabels.dropShadow.enabled){var D=n.config.dataLabels.dropShadow;s.dropShadow(L,D)}L.node.classList.add("apexcharts-pie-label"),n.config.chart.animations.animate&&n.globals.resized===!1&&(L.node.classList.add("apexcharts-pie-label-delay"),L.node.style.animationDelay=n.config.chart.animations.speed/940+"s"),this.sliceLabels.push(O)}}}return o}},{key:"addListeners",value:function(e,t){var n=new Ge(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var n=this.w,s=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,a=s,i=t.startAngle,o=t.startAngle;t.prevStartAngle!==void 0&&t.prevEndAngle!==void 0&&(i=t.prevEndAngle,a=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===n.config.series.length-1&&(s+o>this.fullAngle?t.endAngle=t.endAngle-(s+o):s+o<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(s+o)))),s===this.fullAngle&&(s=this.fullAngle-.01),this.animateArc(e,i,o,s,a,t)}},{key:"animateArc",value:function(e,t,n,s,a,i){var o,c=this,d=this.w,u=new Rp(this.ctx),h=i.size;(isNaN(t)||isNaN(a))&&(t=n,a=s,i.dur=0);var f=s,p=n,g=t<n?this.fullAngle+t-n:t-n;d.globals.dataChanged&&i.shouldSetPrevPaths&&i.prevEndAngle&&(o=c.getPiePath({me:c,startAngle:i.prevStartAngle,angle:i.prevEndAngle<i.prevStartAngle?this.fullAngle+i.prevEndAngle-i.prevStartAngle:i.prevEndAngle-i.prevStartAngle,size:h}),e.attr({d:o})),i.dur!==0?e.animate(i.dur,i.animBeginArr[i.i]).after(function(){c.chartType!=="pie"&&c.chartType!=="donut"&&c.chartType!=="polarArea"||this.animate(d.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":c.strokeWidth}),i.i===d.config.series.length-1&&u.animationCompleted(e)}).during(function(m){f=g+(s-g)*m,i.animateStartingPos&&(f=a+(s-a)*m,p=t-a+(n-(t-a))*m),o=c.getPiePath({me:c,startAngle:p,angle:f,size:h}),e.node.setAttribute("data:pathOrig",o),e.attr({d:o})}):(o=c.getPiePath({me:c,startAngle:p,angle:s,size:h}),i.isTrack||(d.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",o),e.attr({d:o,"stroke-width":c.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,n=this.w,s=this,a=s.sliceSizes[e]+(n.config.plotOptions.pie.expandOnClick?4:0),i=n.globals.dom.Paper.findOne(".apexcharts-".concat(s.chartType.toLowerCase(),"-slice-").concat(e));if(i.attr("data:pieClicked")!=="true"){var o=n.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(o,function(h){h.setAttribute("data:pieClicked","false");var f=h.getAttribute("data:pathOrig");f&&h.setAttribute("d",f)}),n.globals.capturedDataPointIndex=e,i.attr("data:pieClicked","true");var c=parseInt(i.attr("data:startAngle"),10),d=parseInt(i.attr("data:angle"),10);t=s.getPiePath({me:s,startAngle:c,angle:d,size:a}),d!==360&&i.plot(t)}else{i.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(i.node,this.donutDataLabels);var u=i.attr("data:pathOrig");i.attr({d:u})}}},{key:"getChangedPath",value:function(e,t){var n="";return this.dynamicAnim&&this.w.globals.dataChanged&&(n=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),n}},{key:"getPiePath",value:function(e){var t,n=e.me,s=e.startAngle,a=e.angle,i=e.size,o=new Ge(this.ctx),c=s,d=Math.PI*(c-90)/180,u=a+s;Math.ceil(u)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(u=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(u)>this.fullAngle&&(u-=this.fullAngle);var h=Math.PI*(u-90)/180,f=n.centerX+i*Math.cos(d),p=n.centerY+i*Math.sin(d),g=n.centerX+i*Math.cos(h),m=n.centerY+i*Math.sin(h),v=ye.polarToCartesian(n.centerX,n.centerY,n.donutSize,u),x=ye.polarToCartesian(n.centerX,n.centerY,n.donutSize,c),y=a>180?1:0,w=["M",f,p,"A",i,i,0,y,1,g,m];return t=n.chartType==="donut"?[].concat(w,["L",v.x,v.y,"A",n.donutSize,n.donutSize,0,y,0,x.x,x.y,"L",f,p,"z"]).join(" "):n.chartType==="pie"||n.chartType==="polarArea"?[].concat(w,["L",n.centerX,n.centerY,"L",f,p]).join(" "):[].concat(w).join(" "),o.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,n=new kI(this.ctx),s=new Ge(this.ctx),a=new jI(this.ctx),i=s.group(),o=s.group(),c=n.niceScale(0,Math.ceil(this.maxY),0),d=c.result.reverse(),u=c.result.length;this.maxY=c.niceMax;for(var h=t.globals.radialSize,f=h/(u-1),p=0;p<u-1;p++){var g=s.drawCircle(h);if(g.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var m=a.drawYAxisTexts(this.centerX,this.centerY-h+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,p,d[p]);o.add(m)}i.add(g),h-=f}this.drawSpokes(e),e.add(i),e.add(o)}},{key:"renderInnerDataLabels",value:function(e,t,n){var s=this.w,a=new Ge(this.ctx),i=t.total.show;e.node.innerHTML="",e.node.style.opacity=n.opacity;var o,c,d=n.centerX,u=this.donutDataLabels.total.label?n.centerY:n.centerY-n.centerY/6;o=t.name.color===void 0?s.globals.colors[0]:t.name.color;var h=t.name.fontSize,f=t.name.fontFamily,p=t.name.fontWeight;c=t.value.color===void 0?s.config.chart.foreColor:t.value.color;var g=t.value.formatter,m="",v="";if(i?(o=t.total.color,h=t.total.fontSize,f=t.total.fontFamily,p=t.total.fontWeight,v=this.donutDataLabels.total.label?t.total.label:"",m=t.total.formatter(s)):s.globals.series.length===1&&(m=g(s.globals.series[0],s),v=s.globals.seriesNames[0]),v&&(v=t.name.formatter(v,t.total.show,s)),t.name.show){var x=a.drawText({x:d,y:u+parseFloat(t.name.offsetY),text:v,textAnchor:"middle",foreColor:o,fontSize:h,fontWeight:p,fontFamily:f});x.node.classList.add("apexcharts-datalabel-label"),e.add(x)}if(t.value.show){var y=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,w=a.drawText({x:d,y:u+y,text:m,textAnchor:"middle",foreColor:c,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});w.node.classList.add("apexcharts-datalabel-value"),e.add(w)}return e}},{key:"printInnerLabels",value:function(e,t,n,s){var a,i=this.w;s?a=e.name.color===void 0?i.globals.colors[parseInt(s.parentNode.getAttribute("rel"),10)-1]:e.name.color:i.globals.series.length>1&&e.total.show&&(a=e.total.color);var o=i.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),c=i.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");n=(0,e.value.formatter)(n,i),s||typeof e.total.formatter!="function"||(n=e.total.formatter(i));var d=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,d,i):"",o!==null&&(o.textContent=t),c!==null&&(c.textContent=n),o!==null&&(o.style.fill=a)}},{key:"printDataLabelsInner",value:function(e,t){var n=this.w,s=e.getAttribute("data:value"),a=n.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];n.globals.series.length>1&&this.printInnerLabels(t,a,s,e);var i=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");i!==null&&(i.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,n=this.w,s=new Ge(this.ctx),a=n.config.plotOptions.polarArea.spokes;if(a.strokeWidth!==0){for(var i=[],o=360/n.globals.series.length,c=0;c<n.globals.series.length;c++)i.push(ye.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize,n.config.plotOptions.pie.startAngle+o*c));i.forEach(function(d,u){var h=s.drawLine(d.x,d.y,t.centerX,t.centerY,Array.isArray(a.connectorColors)?a.connectorColors[u]:a.connectorColors);e.add(h)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),n=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(n)}}}]),r}(),cte=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new Ge(this.ctx),this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.logBase=t.config.yaxis[0].logBase,this.coreUtils=new Pn(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),t.config.plotOptions.radar.size!==void 0&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return Ct(r,[{key:"draw",value:function(e){var t=this,n=this.w,s=new ko(this.ctx),a=[],i=new cp(this.ctx);e.length&&(this.dataPointsLen=e[n.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var o=n.globals.gridWidth/2,c=n.globals.gridHeight/2,d=o+n.config.plotOptions.radar.offsetX,u=c+n.config.plotOptions.radar.offsetY,h=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(d||0,", ").concat(u||0,")")}),f=[],p=null,g=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(v,x){var y=v.length===n.globals.dataPoints,w=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":y,seriesName:ye.escapeString(n.globals.seriesNames[x]),rel:x+1,"data:realIndex":x});t.dataRadiusOfPercent[x]=[],t.dataRadius[x]=[],t.angleArr[x]=[],v.forEach(function(F,M){var B=Math.abs(t.maxValue-t.minValue);F-=t.minValue,t.isLog&&(F=t.coreUtils.getLogVal(t.logBase,F,0)),t.dataRadiusOfPercent[x][M]=F/B,t.dataRadius[x][M]=t.dataRadiusOfPercent[x][M]*t.size,t.angleArr[x][M]=M*t.disAngle}),f=t.getDataPointsPos(t.dataRadius[x],t.angleArr[x]);var k=t.createPaths(f,{x:0,y:0});p=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),g=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":x}),n.globals.delayedElements.push({el:p.node,index:x});var S={i:x,realIndex:x,animationDelay:x,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:n.globals.stroke.colors[x],strokeLineCap:n.config.stroke.lineCap},N=null;n.globals.previousPaths.length>0&&(N=t.getPreviousPath(x));for(var A=0;A<k.linePathsTo.length;A++){var E=t.graphics.renderPaths(dt(dt({},S),{},{pathFrom:N===null?k.linePathsFrom[A]:N,pathTo:k.linePathsTo[A],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[x]:t.strokeWidth,fill:"none",drawShadow:!1}));w.add(E);var R=s.fillPath({seriesNumber:x}),O=t.graphics.renderPaths(dt(dt({},S),{},{pathFrom:N===null?k.areaPathsFrom[A]:N,pathTo:k.areaPathsTo[A],strokeWidth:0,fill:R,drawShadow:!1}));if(n.config.chart.dropShadow.enabled){var L=new Rs(t.ctx),D=n.config.chart.dropShadow;L.dropShadow(O,Object.assign({},D,{noUserSpaceOnUse:!0}),x)}w.add(O)}v.forEach(function(F,M){var B=new Bp(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:x,dataPointIndex:M}),z=t.graphics.drawMarker(f[M].x,f[M].y,B);z.attr("rel",M),z.attr("j",M),z.attr("index",x),z.node.setAttribute("default-marker-size",B.pSize);var V=t.graphics.group({class:"apexcharts-series-markers"});V&&V.add(z),p.add(V),w.add(p);var W=n.config.dataLabels;if(W.enabled){var Z=W.formatter(n.globals.series[x][M],{seriesIndex:x,dataPointIndex:M,w:n});i.plotDataLabelsText({x:f[M].x,y:f[M].y,text:Z,textAnchor:"middle",i:x,j:x,parent:g,offsetCorrection:!1,dataLabelsConfig:dt({},W)})}w.add(g)}),a.push(w)}),this.drawPolygons({parent:h}),n.config.xaxis.labels.show){var m=this.drawXAxisTexts();h.add(m)}return a.forEach(function(v){h.add(v)}),h.add(this.yaxisLabels),h}},{key:"drawPolygons",value:function(e){for(var t=this,n=this.w,s=e.parent,a=new jI(this.ctx),i=n.globals.yAxisScale[0].result.reverse(),o=i.length,c=[],d=this.size/(o-1),u=0;u<o;u++)c[u]=d*u;c.reverse();var h=[],f=[];c.forEach(function(p,g){var m=ye.getPolygonPos(p,t.dataPointsLen),v="";m.forEach(function(x,y){if(g===0){var w=t.graphics.drawLine(x.x,x.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[y]:t.polygons.connectorColors);f.push(w)}y===0&&t.yaxisLabelsTextsPos.push({x:x.x,y:x.y}),v+=x.x+","+x.y+" "}),h.push(v)}),h.forEach(function(p,g){var m=t.polygons.strokeColors,v=t.polygons.strokeWidth,x=t.graphics.drawPolygon(p,Array.isArray(m)?m[g]:m,Array.isArray(v)?v[g]:v,n.globals.radarPolygons.fill.colors[g]);s.add(x)}),f.forEach(function(p){s.add(p)}),n.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(p,g){var m=a.drawYAxisTexts(p.x,p.y,g,i[g]);t.yaxisLabels.add(m)})}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,n=t.config.xaxis.labels,s=this.graphics.group({class:"apexcharts-xaxis"}),a=ye.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(i,o){var c=t.config.xaxis.labels.formatter,d=new cp(e.ctx);if(a[o]){var u=e.getTextPos(a[o],e.size),h=c(i,{seriesIndex:-1,dataPointIndex:o,w:t});d.plotDataLabelsText({x:u.newX,y:u.newY,text:h,textAnchor:u.textAnchor,i:o,j:o,parent:s,className:"apexcharts-xaxis-label",color:Array.isArray(n.style.colors)&&n.style.colors[o]?n.style.colors[o]:"#a8a8a8",dataLabelsConfig:dt({textAnchor:u.textAnchor,dropShadow:{enabled:!1}},n),offsetCorrection:!1}).on("click",function(f){if(typeof t.config.chart.events.xAxisLabelClick=="function"){var p=Object.assign({},t,{labelIndex:o});t.config.chart.events.xAxisLabelClick(f,e.ctx,p)}})}}),s}},{key:"createPaths",value:function(e,t){var n=this,s=[],a=[],i=[],o=[];if(e.length){a=[this.graphics.move(t.x,t.y)],o=[this.graphics.move(t.x,t.y)];var c=this.graphics.move(e[0].x,e[0].y),d=this.graphics.move(e[0].x,e[0].y);e.forEach(function(u,h){c+=n.graphics.line(u.x,u.y),d+=n.graphics.line(u.x,u.y),h===e.length-1&&(c+="Z",d+="Z")}),s.push(c),i.push(d)}return{linePathsFrom:a,linePathsTo:s,areaPathsFrom:o,areaPathsTo:i}}},{key:"getTextPos",value:function(e,t){var n="middle",s=e.x,a=e.y;return Math.abs(e.x)>=10?e.x>0?(n="start",s+=10):e.x<0&&(n="end",s-=10):n="middle",Math.abs(e.y)>=t-10&&(e.y<0?a-=10:e.y>0&&(a+=10)),{textAnchor:n,newX:s,newY:a}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,n=null,s=0;s<t.globals.previousPaths.length;s++){var a=t.globals.previousPaths[s];a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(e,10)&&t.globals.previousPaths[s].paths[0]!==void 0&&(n=t.globals.previousPaths[s].paths[0].d)}return n}},{key:"getDataPointsPos",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var s=[],a=0;a<n;a++){var i={};i.x=e[a]*Math.sin(t[a]),i.y=-e[a]*Math.cos(t[a]),s.push(i)}return s}}]),r}(),dte=function(r){I0(t,AI);var e=R0(t);function t(n){var s;kt(this,t),(s=e.call(this,n)).ctx=n,s.w=n.w,s.animBeginArr=[0],s.animDur=0;var a=s.w;return s.startAngle=a.config.plotOptions.radialBar.startAngle,s.endAngle=a.config.plotOptions.radialBar.endAngle,s.totalAngle=Math.abs(a.config.plotOptions.radialBar.endAngle-a.config.plotOptions.radialBar.startAngle),s.trackStartAngle=a.config.plotOptions.radialBar.track.startAngle,s.trackEndAngle=a.config.plotOptions.radialBar.track.endAngle,s.barLabels=s.w.config.plotOptions.radialBar.barLabels,s.donutDataLabels=s.w.config.plotOptions.radialBar.dataLabels,s.radialDataLabels=s.donutDataLabels,s.trackStartAngle||(s.trackStartAngle=s.startAngle),s.trackEndAngle||(s.trackEndAngle=s.endAngle),s.endAngle===360&&(s.endAngle=359.99),s.margin=parseInt(a.config.plotOptions.radialBar.track.margin,10),s.onBarLabelClick=s.onBarLabelClick.bind(BR(s)),s}return Ct(t,[{key:"draw",value:function(n){var s=this.w,a=new Ge(this.ctx),i=a.group({class:"apexcharts-radialbar"});if(s.globals.noData)return i;var o=a.group(),c=this.defaultSize/2,d=s.globals.gridWidth/2,u=this.defaultSize/2.05;s.config.chart.sparkline.enabled||(u=u-s.config.stroke.width-s.config.chart.dropShadow.blur);var h=s.globals.fill.colors;if(s.config.plotOptions.radialBar.track.show){var f=this.drawTracks({size:u,centerX:d,centerY:c,colorArr:h,series:n});o.add(f)}var p=this.drawArcs({size:u,centerX:d,centerY:c,colorArr:h,series:n}),g=360;s.config.plotOptions.radialBar.startAngle<0&&(g=this.totalAngle);var m=(360-g)/360;if(s.globals.radialSize=u-u*m,this.radialDataLabels.value.show){var v=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);s.globals.radialSize+=v*m}return o.add(p.g),s.config.plotOptions.radialBar.hollow.position==="front"&&(p.g.add(p.elHollow),p.dataLabels&&p.g.add(p.dataLabels)),i.add(o),i}},{key:"drawTracks",value:function(n){var s=this.w,a=new Ge(this.ctx),i=a.group({class:"apexcharts-tracks"}),o=new Rs(this.ctx),c=new ko(this.ctx),d=this.getStrokeWidth(n);n.size=n.size-d/2;for(var u=0;u<n.series.length;u++){var h=a.group({class:"apexcharts-radialbar-track apexcharts-track"});i.add(h),h.attr({rel:u+1}),n.size=n.size-d-this.margin;var f=s.config.plotOptions.radialBar.track,p=c.fillPath({seriesNumber:0,size:n.size,fillColors:Array.isArray(f.background)?f.background[u]:f.background,solid:!0}),g=this.trackStartAngle,m=this.trackEndAngle;Math.abs(m)+Math.abs(g)>=360&&(m=360-Math.abs(this.startAngle)-.1);var v=a.drawPath({d:"",stroke:p,strokeWidth:d*parseInt(f.strokeWidth,10)/100,fill:"none",strokeOpacity:f.opacity,classes:"apexcharts-radialbar-area"});if(f.dropShadow.enabled){var x=f.dropShadow;o.dropShadow(v,x)}h.add(v),v.attr("id","apexcharts-radialbarTrack-"+u),this.animatePaths(v,{centerX:n.centerX,centerY:n.centerY,endAngle:m,startAngle:g,size:n.size,i:u,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return i}},{key:"drawArcs",value:function(n){var s=this.w,a=new Ge(this.ctx),i=new ko(this.ctx),o=new Rs(this.ctx),c=a.group(),d=this.getStrokeWidth(n);n.size=n.size-d/2;var u=s.config.plotOptions.radialBar.hollow.background,h=n.size-d*n.series.length-this.margin*n.series.length-d*parseInt(s.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,f=h-s.config.plotOptions.radialBar.hollow.margin;s.config.plotOptions.radialBar.hollow.image!==void 0&&(u=this.drawHollowImage(n,c,h,u));var p=this.drawHollow({size:f,centerX:n.centerX,centerY:n.centerY,fill:u||"transparent"});if(s.config.plotOptions.radialBar.hollow.dropShadow.enabled){var g=s.config.plotOptions.radialBar.hollow.dropShadow;o.dropShadow(p,g)}var m=1;!this.radialDataLabels.total.show&&s.globals.series.length>1&&(m=0);var v=null;if(this.radialDataLabels.show){var x=s.globals.dom.Paper.findOne(".apexcharts-datalabels-group");v=this.renderInnerDataLabels(x,this.radialDataLabels,{hollowSize:h,centerX:n.centerX,centerY:n.centerY,opacity:m})}s.config.plotOptions.radialBar.hollow.position==="back"&&(c.add(p),v&&c.add(v));var y=!1;s.config.plotOptions.radialBar.inverseOrder&&(y=!0);for(var w=y?n.series.length-1:0;y?w>=0:w<n.series.length;y?w--:w++){var k=a.group({class:"apexcharts-series apexcharts-radial-series",seriesName:ye.escapeString(s.globals.seriesNames[w])});c.add(k),k.attr({rel:w+1,"data:realIndex":w}),this.ctx.series.addCollapsedClassToSeries(k,w),n.size=n.size-d-this.margin;var S=i.fillPath({seriesNumber:w,size:n.size,value:n.series[w]}),N=this.startAngle,A=void 0,E=ye.negToZero(n.series[w]>100?100:n.series[w])/100,R=Math.round(this.totalAngle*E)+this.startAngle,O=void 0;s.globals.dataChanged&&(A=this.startAngle,O=Math.round(this.totalAngle*ye.negToZero(s.globals.previousPaths[w])/100)+A),Math.abs(R)+Math.abs(N)>360&&(R-=.01),Math.abs(O)+Math.abs(A)>360&&(O-=.01);var L=R-N,D=Array.isArray(s.config.stroke.dashArray)?s.config.stroke.dashArray[w]:s.config.stroke.dashArray,F=a.drawPath({d:"",stroke:S,strokeWidth:d,fill:"none",fillOpacity:s.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+w,strokeDashArray:D});if(Ge.setAttrs(F.node,{"data:angle":L,"data:value":n.series[w]}),s.config.chart.dropShadow.enabled){var M=s.config.chart.dropShadow;o.dropShadow(F,M,w)}if(o.setSelectionFilter(F,0,w),this.addListeners(F,this.radialDataLabels),k.add(F),F.attr({index:0,j:w}),this.barLabels.enabled){var B=ye.polarToCartesian(n.centerX,n.centerY,n.size,N),z=this.barLabels.formatter(s.globals.seriesNames[w],{seriesIndex:w,w:s}),V=["apexcharts-radialbar-label"];this.barLabels.onClick||V.push("apexcharts-no-click");var W=this.barLabels.useSeriesColors?s.globals.colors[w]:s.config.chart.foreColor;W||(W=s.config.chart.foreColor);var Z=B.x+this.barLabels.offsetX,q=B.y+this.barLabels.offsetY,Q=a.drawText({x:Z,y:q,text:z,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:W,cssClass:V.join(" ")});Q.on("click",this.onBarLabelClick),Q.attr({rel:w+1}),N!==0&&Q.attr({"transform-origin":"".concat(Z," ").concat(q),transform:"rotate(".concat(N," 0 0)")}),k.add(Q)}var T=0;!this.initialAnim||s.globals.resized||s.globals.dataChanged||(T=s.config.chart.animations.speed),s.globals.dataChanged&&(T=s.config.chart.animations.dynamicAnimation.speed),this.animDur=T/(1.2*n.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(F,{centerX:n.centerX,centerY:n.centerY,endAngle:R,startAngle:N,prevEndAngle:O,prevStartAngle:A,size:n.size,i:w,totalItems:2,animBeginArr:this.animBeginArr,dur:T,shouldSetPrevPaths:!0})}return{g:c,elHollow:p,dataLabels:v}}},{key:"drawHollow",value:function(n){var s=new Ge(this.ctx).drawCircle(2*n.size);return s.attr({class:"apexcharts-radialbar-hollow",cx:n.centerX,cy:n.centerY,r:n.size,fill:n.fill}),s}},{key:"drawHollowImage",value:function(n,s,a,i){var o=this.w,c=new ko(this.ctx),d=ye.randomId(),u=o.config.plotOptions.radialBar.hollow.image;if(o.config.plotOptions.radialBar.hollow.imageClipped)c.clippedImgArea({width:a,height:a,image:u,patternID:"pattern".concat(o.globals.cuid).concat(d)}),i="url(#pattern".concat(o.globals.cuid).concat(d,")");else{var h=o.config.plotOptions.radialBar.hollow.imageWidth,f=o.config.plotOptions.radialBar.hollow.imageHeight;if(h===void 0&&f===void 0){var p=o.globals.dom.Paper.image(u,function(m){this.move(n.centerX-m.width/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-m.height/2+o.config.plotOptions.radialBar.hollow.imageOffsetY)});s.add(p)}else{var g=o.globals.dom.Paper.image(u,function(m){this.move(n.centerX-h/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-f/2+o.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(h,f)});s.add(g)}}return i}},{key:"getStrokeWidth",value:function(n){var s=this.w;return n.size*(100-parseInt(s.config.plotOptions.radialBar.hollow.size,10))/100/(n.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(n){var s=parseInt(n.target.getAttribute("rel"),10)-1,a=this.barLabels.onClick,i=this.w;a&&a(i.globals.seriesNames[s],{w:i,seriesIndex:s})}}]),t}(),ute=function(r){I0(t,dp);var e=R0(t);function t(){return kt(this,t),e.apply(this,arguments)}return Ct(t,[{key:"draw",value:function(n,s){var a=this.w,i=new Ge(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=n,this.seriesRangeStart=a.globals.seriesRangeStart,this.seriesRangeEnd=a.globals.seriesRangeEnd,this.barHelpers.initVariables(n);for(var o=i.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),c=0;c<n.length;c++){var d,u,h,f,p=void 0,g=void 0,m=a.globals.comboCharts?s[c]:c,v=this.barHelpers.getGroupIndex(m).columnGroupIndex,x=i.group({class:"apexcharts-series",seriesName:ye.escapeString(a.globals.seriesNames[m]),rel:c+1,"data:realIndex":m});this.ctx.series.addCollapsedClassToSeries(x,m),n[c].length>0&&(this.visibleI=this.visibleI+1);var y=0,w=0,k=0;this.yRatio.length>1&&(this.yaxisIndex=a.globals.seriesYAxisReverseMap[m][0],k=m);var S=this.barHelpers.initialPositions(m);g=S.y,f=S.zeroW,p=S.x,w=S.barWidth,y=S.barHeight,d=S.xDivision,u=S.yDivision,h=S.zeroH;for(var N=i.group({class:"apexcharts-datalabels","data:realIndex":m}),A=i.group({class:"apexcharts-rangebar-goals-markers"}),E=0;E<a.globals.dataPoints;E++){var R=this.barHelpers.getStrokeWidth(c,E,m),O=this.seriesRangeStart[c][E],L=this.seriesRangeEnd[c][E],D=null,F=null,M=null,B={x:p,y:g,strokeWidth:R,elSeries:x},z=this.seriesLen;if(a.config.plotOptions.bar.rangeBarGroupRows&&(z=1),a.config.series[c].data[E]===void 0)break;if(this.isHorizontal){M=g+y*this.visibleI;var V=(u-y*z)/2;if(a.config.series[c].data[E].x){var W=this.detectOverlappingBars({i:c,j:E,barYPosition:M,srty:V,barHeight:y,yDivision:u,initPositions:S});y=W.barHeight,M=W.barYPosition}w=(D=this.drawRangeBarPaths(dt({indexes:{i:c,j:E,realIndex:m},barHeight:y,barYPosition:M,zeroW:f,yDivision:u,y1:O,y2:L},B))).barWidth}else{a.globals.isXNumeric&&(p=(a.globals.seriesX[c][E]-a.globals.minX)/this.xRatio-w/2),F=p+w*this.visibleI;var Z=(d-w*z)/2;if(a.config.series[c].data[E].x){var q=this.detectOverlappingBars({i:c,j:E,barXPosition:F,srtx:Z,barWidth:w,xDivision:d,initPositions:S});w=q.barWidth,F=q.barXPosition}y=(D=this.drawRangeColumnPaths(dt({indexes:{i:c,j:E,realIndex:m,translationsIndex:k},barWidth:w,barXPosition:F,zeroH:h,xDivision:d},B))).barHeight}var Q=this.barHelpers.drawGoalLine({barXPosition:D.barXPosition,barYPosition:M,goalX:D.goalX,goalY:D.goalY,barHeight:y,barWidth:w});Q&&A.add(Q),g=D.y,p=D.x;var T=this.barHelpers.getPathFillColor(n,c,E,m);this.renderSeries({realIndex:m,pathFill:T.color,lineFill:T.useRangeColor?T.color:a.globals.stroke.colors[m],j:E,i:c,x:p,y:g,y1:O,y2:L,pathFrom:D.pathFrom,pathTo:D.pathTo,strokeWidth:R,elSeries:x,series:n,barHeight:y,barWidth:w,barXPosition:F,barYPosition:M,columnGroupIndex:v,elDataLabelsWrap:N,elGoalsMarkers:A,visibleSeries:this.visibleI,type:"rangebar"})}o.add(x)}return o}},{key:"detectOverlappingBars",value:function(n){var s=n.i,a=n.j,i=n.barYPosition,o=n.barXPosition,c=n.srty,d=n.srtx,u=n.barHeight,h=n.barWidth,f=n.yDivision,p=n.xDivision,g=n.initPositions,m=this.w,v=[],x=m.config.series[s].data[a].rangeName,y=m.config.series[s].data[a].x,w=Array.isArray(y)?y.join(" "):y,k=m.globals.labels.map(function(N){return Array.isArray(N)?N.join(" "):N}).indexOf(w),S=m.globals.seriesRange[s].findIndex(function(N){return N.x===w&&N.overlaps.length>0});return this.isHorizontal?(i=m.config.plotOptions.bar.rangeBarGroupRows?c+f*k:c+u*this.visibleI+f*k,S>-1&&!m.config.plotOptions.bar.rangeBarOverlap&&(v=m.globals.seriesRange[s][S].overlaps).indexOf(x)>-1&&(i=(u=g.barHeight/v.length)*this.visibleI+f*(100-parseInt(this.barOptions.barHeight,10))/100/2+u*(this.visibleI+v.indexOf(x))+f*k)):(k>-1&&!m.globals.timescaleLabels.length&&(o=m.config.plotOptions.bar.rangeBarGroupRows?d+p*k:d+h*this.visibleI+p*k),S>-1&&!m.config.plotOptions.bar.rangeBarOverlap&&(v=m.globals.seriesRange[s][S].overlaps).indexOf(x)>-1&&(o=(h=g.barWidth/v.length)*this.visibleI+p*(100-parseInt(this.barOptions.barWidth,10))/100/2+h*(this.visibleI+v.indexOf(x))+p*k)),{barYPosition:i,barXPosition:o,barHeight:u,barWidth:h}}},{key:"drawRangeColumnPaths",value:function(n){var s=n.indexes,a=n.x,i=n.xDivision,o=n.barWidth,c=n.barXPosition,d=n.zeroH,u=this.w,h=s.i,f=s.j,p=s.realIndex,g=s.translationsIndex,m=this.yRatio[g],v=this.getRangeValue(p,f),x=Math.min(v.start,v.end),y=Math.max(v.start,v.end);this.series[h][f]===void 0||this.series[h][f]===null?x=d:(x=d-x/m,y=d-y/m);var w=Math.abs(y-x),k=this.barHelpers.getColumnPaths({barXPosition:c,barWidth:o,y1:x,y2:y,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:p,i:p,j:f,w:u});if(u.globals.isXNumeric){var S=this.getBarXForNumericXAxis({x:a,j:f,realIndex:p,barWidth:o});a=S.x,c=S.barXPosition}else a+=i;return{pathTo:k.pathTo,pathFrom:k.pathFrom,barHeight:w,x:a,y:v.start<0&&v.end<0?x:y,goalY:this.barHelpers.getGoalValues("y",null,d,h,f,g),barXPosition:c}}},{key:"preventBarOverflow",value:function(n){var s=this.w;return n<0&&(n=0),n>s.globals.gridWidth&&(n=s.globals.gridWidth),n}},{key:"drawRangeBarPaths",value:function(n){var s=n.indexes,a=n.y,i=n.y1,o=n.y2,c=n.yDivision,d=n.barHeight,u=n.barYPosition,h=n.zeroW,f=this.w,p=s.realIndex,g=s.j,m=this.preventBarOverflow(h+i/this.invertedYRatio),v=this.preventBarOverflow(h+o/this.invertedYRatio),x=this.getRangeValue(p,g),y=Math.abs(v-m),w=this.barHelpers.getBarpaths({barYPosition:u,barHeight:d,x1:m,x2:v,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:p,realIndex:p,j:g,w:f});return f.globals.isXNumeric||(a+=c),{pathTo:w.pathTo,pathFrom:w.pathFrom,barWidth:y,x:x.start<0&&x.end<0?m:v,goalX:this.barHelpers.getGoalValues("x",h,null,p,g),y:a}}},{key:"getRangeValue",value:function(n,s){var a=this.w;return{start:a.globals.seriesRangeStart[n][s],end:a.globals.seriesRangeEnd[n][s]}}}]),t}(),hte=function(){function r(e){kt(this,r),this.w=e.w,this.lineCtx=e}return Ct(r,[{key:"sameValueSeriesFix",value:function(e,t){var n=this.w;if((n.config.fill.type==="gradient"||n.config.fill.type[e]==="gradient")&&new Pn(this.lineCtx.ctx,n).seriesHaveSameValues(e)){var s=t[e].slice();s[s.length-1]=s[s.length-1]+1e-6,t[e]=s}return t}},{key:"calculatePoints",value:function(e){var t=e.series,n=e.realIndex,s=e.x,a=e.y,i=e.i,o=e.j,c=e.prevY,d=this.w,u=[],h=[],f=this.lineCtx.categoryAxisCorrection+d.config.markers.offsetX;return d.globals.isXNumeric&&(f=(d.globals.seriesX[n][0]-d.globals.minX)/this.lineCtx.xRatio+d.config.markers.offsetX),o===0&&(u.push(f),h.push(ye.isNumber(t[i][0])?c+d.config.markers.offsetY:null)),u.push(s+d.config.markers.offsetX),h.push(ye.isNumber(t[i][o+1])?a+d.config.markers.offsetY:null),{x:u,y:h}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,n=e.pathFromArea,s=e.realIndex,a=this.w,i=0;i<a.globals.previousPaths.length;i++){var o=a.globals.previousPaths[i];(o.type==="line"||o.type==="area")&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(s,10)&&(o.type==="line"?(this.lineCtx.appendPathFrom=!1,t=a.globals.previousPaths[i].paths[0].d):o.type==="area"&&(this.lineCtx.appendPathFrom=!1,n=a.globals.previousPaths[i].paths[0].d,a.config.stroke.show&&a.globals.previousPaths[i].paths[1]&&(t=a.globals.previousPaths[i].paths[1].d)))}return{pathFromLine:t,pathFromArea:n}}},{key:"determineFirstPrevY",value:function(e){var t,n,s,a=e.i,i=e.realIndex,o=e.series,c=e.prevY,d=e.lineYPosition,u=e.translationsIndex,h=this.w,f=h.config.chart.stacked&&!h.globals.comboCharts||h.config.chart.stacked&&h.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[i])===null||t===void 0?void 0:t.type)==="bar"||((n=this.w.config.series[i])===null||n===void 0?void 0:n.type)==="column");if(((s=o[a])===null||s===void 0?void 0:s[0])!==void 0)c=(d=f&&a>0?this.lineCtx.prevSeriesY[a-1][0]:this.lineCtx.zeroY)-o[a][0]/this.lineCtx.yRatio[u]+2*(this.lineCtx.isReversed?o[a][0]/this.lineCtx.yRatio[u]:0);else if(f&&a>0&&o[a][0]===void 0){for(var p=a-1;p>=0;p--)if(o[p][0]!==null&&o[p][0]!==void 0){c=d=this.lineCtx.prevSeriesY[p][0];break}}return{prevY:c,lineYPosition:d}}}]),r}(),fte=function(r){for(var e,t,n,s,a=function(u){for(var h=[],f=u[0],p=u[1],g=h[0]=M5(f,p),m=1,v=u.length-1;m<v;m++)f=p,p=u[m+1],h[m]=.5*(g+(g=M5(f,p)));return h[m]=g,h}(r),i=r.length-1,o=[],c=0;c<i;c++)n=M5(r[c],r[c+1]),Math.abs(n)<1e-6?a[c]=a[c+1]=0:(s=(e=a[c]/n)*e+(t=a[c+1]/n)*t)>9&&(s=3*n/Math.sqrt(s),a[c]=s*e,a[c+1]=s*t);for(var d=0;d<=i;d++)s=(r[Math.min(i,d+1)][0]-r[Math.max(0,d-1)][0])/(6*(1+a[d]*a[d])),o.push([s||0,a[d]*s||0]);return o},pte=function(r){var e=fte(r),t=r[1],n=r[0],s=[],a=e[1],i=e[0];s.push(n,[n[0]+i[0],n[1]+i[1],t[0]-a[0],t[1]-a[1],t[0],t[1]]);for(var o=2,c=e.length;o<c;o++){var d=r[o],u=e[o];s.push([d[0]-u[0],d[1]-u[1],d[0],d[1]])}return s},gte=function(r,e,t){var n=r.slice(e,t);if(e){if(t-e>1&&n[1].length<6){var s=n[0].length;n[1]=[2*n[0][s-2]-n[0][s-4],2*n[0][s-1]-n[0][s-3]].concat(n[1])}n[0]=n[0].slice(-2)}return n};function M5(r,e){return(e[1]-r[1])/(e[0]-r[0])}var R5=function(){function r(e,t,n){kt(this,r),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||n,this.scatter=new bI(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new hte(this),this.markers=new Bp(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return Ct(r,[{key:"draw",value:function(e,t,n,s){var a,i=this.w,o=new Ge(this.ctx),c=i.globals.comboCharts?t:i.config.chart.type,d=o.group({class:"apexcharts-".concat(c,"-series apexcharts-plot-series")}),u=new Pn(this.ctx,i);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=u.getLogSeries(e),this.yRatio=u.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var h=[],f=0;f<e.length;f++){e=this.lineHelpers.sameValueSeriesFix(f,e);var p=i.globals.comboCharts?n[f]:f,g=this.yRatio.length>1?p:0;this._initSerieVariables(e,f,p);var m=[],v=[],x=[],y=i.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,p),i.globals.isXNumeric&&i.globals.seriesX.length>0&&(y=(i.globals.seriesX[p][0]-i.globals.minX)/this.xRatio),x.push(y);var w,k=y,S=void 0,N=k,A=this.zeroY,E=this.zeroY;A=this.lineHelpers.determineFirstPrevY({i:f,realIndex:p,series:e,prevY:A,lineYPosition:0,translationsIndex:g}).prevY,i.config.stroke.curve==="monotoneCubic"&&e[f][0]===null?m.push(null):m.push(A),w=A,c==="rangeArea"&&(S=E=this.lineHelpers.determineFirstPrevY({i:f,realIndex:p,series:s,prevY:E,lineYPosition:0,translationsIndex:g}).prevY,v.push(m[0]!==null?E:null));var R=this._calculatePathsFrom({type:c,series:e,i:f,realIndex:p,translationsIndex:g,prevX:N,prevY:A,prevY2:E}),O=[m[0]],L=[v[0]],D={type:c,series:e,realIndex:p,translationsIndex:g,i:f,x:y,y:1,pX:k,pY:w,pathsFrom:R,linePaths:[],areaPaths:[],seriesIndex:n,lineYPosition:0,xArrj:x,yArrj:m,y2Arrj:v,seriesRangeEnd:s},F=this._iterateOverDataPoints(dt(dt({},D),{},{iterations:c==="rangeArea"?e[f].length-1:void 0,isRangeStart:!0}));if(c==="rangeArea"){for(var M=this._calculatePathsFrom({series:s,i:f,realIndex:p,prevX:N,prevY:E}),B=this._iterateOverDataPoints(dt(dt({},D),{},{series:s,xArrj:[y],yArrj:O,y2Arrj:L,pY:S,areaPaths:F.areaPaths,pathsFrom:M,iterations:s[f].length-1,isRangeStart:!1})),z=F.linePaths.length/2,V=0;V<z;V++)F.linePaths[V]=B.linePaths[V+z]+F.linePaths[V];F.linePaths.splice(z),F.pathFromLine=B.pathFromLine+F.pathFromLine}else F.pathFromArea+="z";this._handlePaths({type:c,realIndex:p,i:f,paths:F}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),h.push(this.elSeries)}if(((a=i.config.series[0])===null||a===void 0?void 0:a.zIndex)!==void 0&&h.sort(function(q,Q){return Number(q.node.getAttribute("zIndex"))-Number(Q.node.getAttribute("zIndex"))}),i.config.chart.stacked)for(var W=h.length-1;W>=0;W--)d.add(h[W]);else for(var Z=0;Z<h.length;Z++)d.add(h[Z]);return d}},{key:"_initSerieVariables",value:function(e,t,n){var s=this.w,a=new Ge(this.ctx);this.xDivision=s.globals.gridWidth/(s.globals.dataPoints-(s.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(s.config.stroke.width)?s.config.stroke.width[n]:s.config.stroke.width;var i=0;if(this.yRatio.length>1&&(this.yaxisIndex=s.globals.seriesYAxisReverseMap[n],i=n),this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed,this.zeroY=s.globals.gridHeight-this.baseLineY[i]-(this.isReversed?s.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[i]:0),this.areaBottomY=this.zeroY,(this.zeroY>s.globals.gridHeight||s.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=s.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=a.group({class:"apexcharts-series",zIndex:s.config.series[n].zIndex!==void 0?s.config.series[n].zIndex:n,seriesName:ye.escapeString(s.globals.seriesNames[n])}),this.elPointsMain=a.group({class:"apexcharts-series-markers-wrap","data:realIndex":n}),s.globals.hasNullValues){var o=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[s.globals.gridHeight+s.globals.markers.largestSize]},seriesIndex:t,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});o!==null&&this.elPointsMain.add(o)}this.elDataLabelsWrap=a.group({class:"apexcharts-datalabels","data:realIndex":n});var c=e[t].length===s.globals.dataPoints;this.elSeries.attr({"data:longestSeries":c,rel:t+1,"data:realIndex":n}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,n,s,a,i=e.type,o=e.series,c=e.i,d=e.realIndex,u=e.translationsIndex,h=e.prevX,f=e.prevY,p=e.prevY2,g=this.w,m=new Ge(this.ctx);if(o[c][0]===null){for(var v=0;v<o[c].length;v++)if(o[c][v]!==null){h=this.xDivision*v,f=this.zeroY-o[c][v]/this.yRatio[u],t=m.move(h,f),n=m.move(h,this.areaBottomY);break}}else t=m.move(h,f),i==="rangeArea"&&(t=m.move(h,p)+m.line(h,f)),n=m.move(h,this.areaBottomY)+m.line(h,f);if(s=m.move(0,this.areaBottomY)+m.line(0,this.areaBottomY),a=m.move(0,this.areaBottomY)+m.line(0,this.areaBottomY),g.globals.previousPaths.length>0){var x=this.lineHelpers.checkPreviousPaths({pathFromLine:s,pathFromArea:a,realIndex:d});s=x.pathFromLine,a=x.pathFromArea}return{prevX:h,prevY:f,linePath:t,areaPath:n,pathFromLine:s,pathFromArea:a}}},{key:"_handlePaths",value:function(e){var t=e.type,n=e.realIndex,s=e.i,a=e.paths,i=this.w,o=new Ge(this.ctx),c=new ko(this.ctx);this.prevSeriesY.push(a.yArrj),i.globals.seriesXvalues[n]=a.xArrj,i.globals.seriesYvalues[n]=a.yArrj;var d=i.config.forecastDataPoints;if(d.count>0&&t!=="rangeArea"){var u=i.globals.seriesXvalues[n][i.globals.seriesXvalues[n].length-d.count-1],h=o.drawRect(u,0,i.globals.gridWidth,i.globals.gridHeight,0);i.globals.dom.elForecastMask.appendChild(h.node);var f=o.drawRect(0,0,u,i.globals.gridHeight,0);i.globals.dom.elNonForecastMask.appendChild(f.node)}this.pointsChart||i.globals.delayedElements.push({el:this.elPointsMain.node,index:n});var p={i:s,realIndex:n,animationDelay:s,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if(t==="area")for(var g=c.fillPath({seriesNumber:n}),m=0;m<a.areaPaths.length;m++){var v=o.renderPaths(dt(dt({},p),{},{pathFrom:a.pathFromArea,pathTo:a.areaPaths[m],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:g}));this.elSeries.add(v)}if(i.config.stroke.show&&!this.pointsChart){var x=null;if(t==="line")x=c.fillPath({seriesNumber:n,i:s});else if(i.config.stroke.fill.type==="solid")x=i.globals.stroke.colors[n];else{var y=i.config.fill;i.config.fill=i.config.stroke.fill,x=c.fillPath({seriesNumber:n,i:s}),i.config.fill=y}for(var w=0;w<a.linePaths.length;w++){var k=x;t==="rangeArea"&&(k=c.fillPath({seriesNumber:n}));var S=dt(dt({},p),{},{pathFrom:a.pathFromLine,pathTo:a.linePaths[w],stroke:x,strokeWidth:this.strokeWidth,strokeLineCap:i.config.stroke.lineCap,fill:t==="rangeArea"?k:"none"}),N=o.renderPaths(S);if(this.elSeries.add(N),N.attr("fill-rule","evenodd"),d.count>0&&t!=="rangeArea"){var A=o.renderPaths(S);A.node.setAttribute("stroke-dasharray",d.dashArray),d.strokeWidth&&A.node.setAttribute("stroke-width",d.strokeWidth),this.elSeries.add(A),A.attr("clip-path","url(#forecastMask".concat(i.globals.cuid,")")),N.attr("clip-path","url(#nonForecastMask".concat(i.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,n,s=this,a=e.type,i=e.series,o=e.iterations,c=e.realIndex,d=e.translationsIndex,u=e.i,h=e.x,f=e.y,p=e.pX,g=e.pY,m=e.pathsFrom,v=e.linePaths,x=e.areaPaths,y=e.seriesIndex,w=e.lineYPosition,k=e.xArrj,S=e.yArrj,N=e.y2Arrj,A=e.isRangeStart,E=e.seriesRangeEnd,R=this.w,O=new Ge(this.ctx),L=this.yRatio,D=m.prevY,F=m.linePath,M=m.areaPath,B=m.pathFromLine,z=m.pathFromArea,V=ye.isNumber(R.globals.minYArr[c])?R.globals.minYArr[c]:R.globals.minY;o||(o=R.globals.dataPoints>1?R.globals.dataPoints-1:R.globals.dataPoints);var W=function(ue,be){return be-ue/L[d]+2*(s.isReversed?ue/L[d]:0)},Z=f,q=R.config.chart.stacked&&!R.globals.comboCharts||R.config.chart.stacked&&R.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[c])===null||t===void 0?void 0:t.type)==="bar"||((n=this.w.config.series[c])===null||n===void 0?void 0:n.type)==="column"),Q=R.config.stroke.curve;Array.isArray(Q)&&(Q=Array.isArray(y)?Q[y[u]]:Q[u]);for(var T,H=0,$=0;$<o&&i[u].length!==0;$++){var Y=i[u][$+1]===void 0||i[u][$+1]===null;if(R.globals.isXNumeric){var K=R.globals.seriesX[c][$+1];R.globals.seriesX[c][$+1]===void 0&&(K=R.globals.seriesX[c][o-1]),h=(K-R.globals.minX)/this.xRatio}else h+=this.xDivision;q?u>0&&R.globals.collapsedSeries.length<R.config.series.length-1?w=this.prevSeriesY[function(ue){for(var be=ue;be>0;be--){if(!(R.globals.collapsedSeriesIndices.indexOf((y==null?void 0:y[be])||be)>-1))return be;be--}return 0}(u-1)][$+1]:w=this.zeroY:w=this.zeroY,Y?f=W(V,w):(f=W(i[u][$+1],w),a==="rangeArea"&&(Z=W(E[u][$+1],w))),k.push(i[u][$+1]===null?null:h),!Y||R.config.stroke.curve!=="smooth"&&R.config.stroke.curve!=="monotoneCubic"?(S.push(f),N.push(Z)):(S.push(null),N.push(null));var re=this.lineHelpers.calculatePoints({series:i,x:h,y:f,realIndex:c,i:u,j:$,prevY:D}),oe=this._createPaths({type:a,series:i,i:u,realIndex:c,j:$,x:h,y:f,y2:Z,xArrj:k,yArrj:S,y2Arrj:N,pX:p,pY:g,pathState:H,segmentStartX:T,linePath:F,areaPath:M,linePaths:v,areaPaths:x,curve:Q,isRangeStart:A});x=oe.areaPaths,v=oe.linePaths,p=oe.pX,g=oe.pY,H=oe.pathState,T=oe.segmentStartX,M=oe.areaPath,F=oe.linePath,!this.appendPathFrom||R.globals.hasNullValues||Q==="monotoneCubic"&&a==="rangeArea"||(B+=O.line(h,this.areaBottomY),z+=O.line(h,this.areaBottomY)),this.handleNullDataPoints(i,re,u,$,c),this._handleMarkersAndLabels({type:a,pointsPos:re,i:u,j:$,realIndex:c,isRangeStart:A})}return{yArrj:S,xArrj:k,pathFromArea:z,areaPaths:x,pathFromLine:B,linePaths:v,linePath:F,areaPath:M}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,n=e.pointsPos,s=e.isRangeStart,a=e.i,i=e.j,o=e.realIndex,c=this.w,d=new cp(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,i,{realIndex:o,pointsPos:n,zRatio:this.zRatio,elParent:this.elPointsMain});else{c.globals.series[a].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var u=this.markers.plotChartMarkers({pointsPos:n,seriesIndex:o,j:i+1});u!==null&&this.elPointsMain.add(u)}var h=d.drawDataLabel({type:t,isRangeStart:s,pos:n,i:o,j:i+1});h!==null&&this.elDataLabelsWrap.add(h)}},{key:"_createPaths",value:function(e){var t=e.type,n=e.series,s=e.i;e.realIndex;var a,i=e.j,o=e.x,c=e.y,d=e.xArrj,u=e.yArrj,h=e.y2,f=e.y2Arrj,p=e.pX,g=e.pY,m=e.pathState,v=e.segmentStartX,x=e.linePath,y=e.areaPath,w=e.linePaths,k=e.areaPaths,S=e.curve,N=e.isRangeStart,A=new Ge(this.ctx),E=this.areaBottomY,R=t==="rangeArea",O=t==="rangeArea"&&N;switch(S){case"monotoneCubic":var L=N?u:f;switch(m){case 0:if(L[i+1]===null)break;m=1;case 1:if(!(R?d.length===n[s].length:i===n[s].length-2))break;case 2:var D=N?d:d.slice().reverse(),F=N?L:L.slice().reverse(),M=(a=F,D.map(function(K,re){return[K,a[re]]}).filter(function(K){return K[1]!==null})),B=M.length>1?pte(M):M,z=[];R&&(O?k=M:z=k.reverse());var V=0,W=0;if(function(K,re){for(var oe=function(Se){var De=[],at=0;return Se.forEach(function(_e){_e!==null?at++:at>0&&(De.push(at),at=0)}),at>0&&De.push(at),De}(K),ue=[],be=0,Ce=0;be<oe.length;Ce+=oe[be++])ue[be]=gte(re,Ce,Ce+oe[be]);return ue}(F,B).forEach(function(K){V++;var re=function(be){for(var Ce="",Se=0;Se<be.length;Se++){var De=be[Se],at=De.length;at>4?(Ce+="C".concat(De[0],", ").concat(De[1]),Ce+=", ".concat(De[2],", ").concat(De[3]),Ce+=", ".concat(De[4],", ").concat(De[5])):at>2&&(Ce+="S".concat(De[0],", ").concat(De[1]),Ce+=", ".concat(De[2],", ").concat(De[3]))}return Ce}(K),oe=W,ue=(W+=K.length)-1;O?x=A.move(M[oe][0],M[oe][1])+re:R?x=A.move(z[oe][0],z[oe][1])+A.line(M[oe][0],M[oe][1])+re+A.line(z[ue][0],z[ue][1]):(x=A.move(M[oe][0],M[oe][1])+re,y=x+A.line(M[ue][0],E)+A.line(M[oe][0],E)+"z",k.push(y)),w.push(x)}),R&&V>1&&!O){var Z=w.slice(V).reverse();w.splice(V),Z.forEach(function(K){return w.push(K)})}m=0}break;case"smooth":var q=.35*(o-p);if(n[s][i]===null)m=0;else switch(m){case 0:if(v=p,x=O?A.move(p,f[i])+A.line(p,g):A.move(p,g),y=A.move(p,g),n[s][i+1]===null||n[s][i+1]===void 0){w.push(x),k.push(y);break}if(m=1,i<n[s].length-2){var Q=A.curve(p+q,g,o-q,c,o,c);x+=Q,y+=Q;break}case 1:if(n[s][i+1]===null)x+=O?A.line(p,h):A.move(p,g),y+=A.line(p,E)+A.line(v,E)+"z",w.push(x),k.push(y),m=-1;else{var T=A.curve(p+q,g,o-q,c,o,c);x+=T,y+=T,i>=n[s].length-2&&(O&&(x+=A.curve(o,c,o,c,o,h)+A.move(o,h)),y+=A.curve(o,c,o,c,o,E)+A.line(v,E)+"z",w.push(x),k.push(y),m=-1)}}p=o,g=c;break;default:var H=function(K,re,oe){var ue=[];switch(K){case"stepline":ue=A.line(re,null,"H")+A.line(null,oe,"V");break;case"linestep":ue=A.line(null,oe,"V")+A.line(re,null,"H");break;case"straight":ue=A.line(re,oe)}return ue};if(n[s][i]===null)m=0;else switch(m){case 0:if(v=p,x=O?A.move(p,f[i])+A.line(p,g):A.move(p,g),y=A.move(p,g),n[s][i+1]===null||n[s][i+1]===void 0){w.push(x),k.push(y);break}if(m=1,i<n[s].length-2){var $=H(S,o,c);x+=$,y+=$;break}case 1:if(n[s][i+1]===null)x+=O?A.line(p,h):A.move(p,g),y+=A.line(p,E)+A.line(v,E)+"z",w.push(x),k.push(y),m=-1;else{var Y=H(S,o,c);x+=Y,y+=Y,i>=n[s].length-2&&(O&&(x+=A.line(o,h)),y+=A.line(o,E)+A.line(v,E)+"z",w.push(x),k.push(y),m=-1)}}p=o,g=c}return{linePaths:w,areaPaths:k,pX:p,pY:g,pathState:m,segmentStartX:v,linePath:x,areaPath:y}}},{key:"handleNullDataPoints",value:function(e,t,n,s,a){var i=this.w;if(e[n][s]===null&&i.config.markers.showNullDataPoints||e[n].length===1){var o=this.strokeWidth-i.config.markers.strokeWidth/2;o>0||(o=0);var c=this.markers.plotChartMarkers({pointsPos:t,seriesIndex:a,j:s+1,pSize:o,alwaysDrawMarker:!0});c!==null&&this.elPointsMain.add(c)}}}]),r}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function r(o,c,d,u){this.xoffset=o,this.yoffset=c,this.height=u,this.width=d,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(h){var f,p=[],g=this.xoffset,m=this.yoffset,v=a(h)/this.height,x=a(h)/this.width;if(this.width>=this.height)for(f=0;f<h.length;f++)p.push([g,m,g+v,m+h[f]/v]),m+=h[f]/v;else for(f=0;f<h.length;f++)p.push([g,m,g+h[f]/x,m+x]),g+=h[f]/x;return p},this.cutArea=function(h){var f;if(this.width>=this.height){var p=h/this.height,g=this.width-p;f=new r(this.xoffset+p,this.yoffset,g,this.height)}else{var m=h/this.width,v=this.height-m;f=new r(this.xoffset,this.yoffset+m,this.width,v)}return f}}function e(o,c,d,u,h){u=u===void 0?0:u,h=h===void 0?0:h;var f=t(function(p,g){var m,v=[],x=g/a(p);for(m=0;m<p.length;m++)v[m]=p[m]*x;return v}(o,c*d),[],new r(u,h,c,d),[]);return function(p){var g,m,v=[];for(g=0;g<p.length;g++)for(m=0;m<p[g].length;m++)v.push(p[g][m]);return v}(f)}function t(o,c,d,u){var h,f,p;if(o.length!==0)return h=d.shortestEdge(),function(g,m,v){var x;if(g.length===0)return!0;(x=g.slice()).push(m);var y=n(g,v),w=n(x,v);return y>=w}(c,f=o[0],h)?(c.push(f),t(o.slice(1),c,d,u)):(p=d.cutArea(a(c),u),u.push(d.getCoordinates(c)),t(o,[],p,u)),u;u.push(d.getCoordinates(c))}function n(o,c){var d=Math.min.apply(Math,o),u=Math.max.apply(Math,o),h=a(o);return Math.max(Math.pow(c,2)*u/Math.pow(h,2),Math.pow(h,2)/(Math.pow(c,2)*d))}function s(o){return o&&o.constructor===Array}function a(o){var c,d=0;for(c=0;c<o.length;c++)d+=o[c];return d}function i(o){var c,d=0;if(s(o[0]))for(c=0;c<o.length;c++)d+=i(o[c]);else d=a(o);return d}return function o(c,d,u,h,f){h=h===void 0?0:h,f=f===void 0?0:f;var p,g,m=[],v=[];if(s(c[0])){for(g=0;g<c.length;g++)m[g]=i(c[g]);for(p=e(m,d,u,h,f),g=0;g<c.length;g++)v.push(o(c[g],p[g][2]-p[g][0],p[g][3]-p[g][1],p[g][0],p[g][1]))}else v=e(c,d,u,h,f);return v}}();var mte=function(){function r(e,t){kt(this,r),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new _I(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return Ct(r,[{key:"draw",value:function(e){var t=this,n=this.w,s=new Ge(this.ctx),a=new ko(this.ctx),i=s.group({class:"apexcharts-treemap"});if(n.globals.noData)return i;var o=[];return e.forEach(function(c){var d=c.map(function(u){return Math.abs(u)});o.push(d)}),this.negRange=this.helpers.checkColorRange(),n.config.series.forEach(function(c,d){c.data.forEach(function(u){Array.isArray(t.labels[d])||(t.labels[d]=[]),t.labels[d].push(u.x)})}),window.TreemapSquared.generate(o,n.globals.gridWidth,n.globals.gridHeight).forEach(function(c,d){var u=s.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:ye.escapeString(n.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});if(n.config.chart.dropShadow.enabled){var h=n.config.chart.dropShadow;new Rs(t.ctx).dropShadow(i,h,d)}var f=s.group({class:"apexcharts-data-labels"}),p={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};c.forEach(function(B,z){var V=B[0],W=B[1],Z=B[2],q=B[3];p.xMin=Math.min(p.xMin,V),p.yMin=Math.min(p.yMin,W),p.xMax=Math.max(p.xMax,Z),p.yMax=Math.max(p.yMax,q);var Q=t.helpers.getShadeColor(n.config.chart.type,d,z,t.negRange),T=Q.color,H=a.fillPath({color:T,seriesNumber:d,dataPointIndex:z}),$=s.drawRect(V,W,Z-V,q-W,n.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,n.config.plotOptions.treemap.useFillColorAsStroke?T:n.globals.stroke.colors[d]);$.attr({cx:V,cy:W,index:d,i:d,j:z,width:Z-V,height:q-W,fill:H}),$.node.classList.add("apexcharts-treemap-rect"),t.helpers.addListeners($);var Y={x:V+(Z-V)/2,y:W+(q-W)/2,width:0,height:0},K={x:V,y:W,width:Z-V,height:q-W};if(n.config.chart.animations.enabled&&!n.globals.dataChanged){var re=1;n.globals.resized||(re=n.config.chart.animations.speed),t.animateTreemap($,Y,K,re)}if(n.globals.dataChanged){var oe=1;t.dynamicAnim.enabled&&n.globals.shouldAnimate&&(oe=t.dynamicAnim.speed,n.globals.previousPaths[d]&&n.globals.previousPaths[d][z]&&n.globals.previousPaths[d][z].rect&&(Y=n.globals.previousPaths[d][z].rect),t.animateTreemap($,Y,K,oe))}var ue=t.getFontSize(B),be=n.config.dataLabels.formatter(t.labels[d][z],{value:n.globals.series[d][z],seriesIndex:d,dataPointIndex:z,w:n});n.config.plotOptions.treemap.dataLabels.format==="truncate"&&(ue=parseInt(n.config.dataLabels.style.fontSize,10),be=t.truncateLabels(be,ue,V,W,Z,q));var Ce=null;n.globals.series[d][z]&&(Ce=t.helpers.calculateDataLabels({text:be,x:(V+Z)/2,y:(W+q)/2+t.strokeWidth/2+ue/3,i:d,j:z,colorProps:Q,fontSize:ue,series:e})),n.config.dataLabels.enabled&&Ce&&t.rotateToFitLabel(Ce,ue,be,V,W,Z,q),u.add($),Ce!==null&&u.add(Ce)});var g=n.config.plotOptions.treemap.seriesTitle;if(n.config.series.length>1&&g&&g.show){var m=n.config.series[d].name||"";if(m&&p.xMin<1/0&&p.yMin<1/0){var v=g.offsetX,x=g.offsetY,y=g.borderColor,w=g.borderWidth,k=g.borderRadius,S=g.style,N=S.color||n.config.chart.foreColor,A={left:S.padding.left,right:S.padding.right,top:S.padding.top,bottom:S.padding.bottom},E=s.getTextRects(m,S.fontSize,S.fontFamily),R=E.width+A.left+A.right,O=E.height+A.top+A.bottom,L=p.xMin+(v||0),D=p.yMin+(x||0),F=s.drawRect(L,D,R,O,k,S.background,1,w,y),M=s.drawText({x:L+A.left,y:D+A.top+.75*E.height,text:m,fontSize:S.fontSize,fontFamily:S.fontFamily,fontWeight:S.fontWeight,foreColor:N,cssClass:S.cssClass||""});u.add(F),u.add(M)}}u.add(f),i.add(u)}),i}},{key:"getFontSize",value:function(e){var t=this.w,n=function s(a){var i,o=0;if(Array.isArray(a[0]))for(i=0;i<a.length;i++)o+=s(a[i]);else for(i=0;i<a.length;i++)o+=a[i].length;return o}(this.labels)/function s(a){var i,o=0;if(Array.isArray(a[0]))for(i=0;i<a.length;i++)o+=s(a[i]);else for(i=0;i<a.length;i++)o+=1;return o}(this.labels);return function(s,a){var i=s*a,o=Math.pow(i,.5);return Math.min(o/n,parseInt(t.config.dataLabels.style.fontSize,10))}(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,t,n,s,a,i,o){var c=new Ge(this.ctx),d=c.getTextRects(n,t);if(d.width+this.w.config.stroke.width+5>i-s&&d.width<=o-a){var u=c.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(u.x," ").concat(u.y,") translate(").concat(d.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,n,s,a,i){var o=new Ge(this.ctx),c=o.getTextRects(e,t).width+this.w.config.stroke.width+5>a-n&&i-s>a-n?i-s:a-n,d=o.getTextBasedOnMaxWidth({text:e,maxWidth:c,fontSize:t});return e.length!==d.length&&c/t<5?"":d}},{key:"animateTreemap",value:function(e,t,n,s){var a=new Rp(this.ctx);a.animateRect(e,t,n,s,function(){a.animationCompleted(e)})}}]),r}(),TI=86400,xte=10/TI,vte=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return Ct(r,[{key:"calculateTimeScaleTicks",value:function(e,t){var n=this,s=this.w;if(s.globals.allSeriesCollapsed)return s.globals.labels=[],s.globals.timescaleLabels=[],[];var a=new Ls(this.ctx),i=(t-e)/864e5;this.determineInterval(i),s.globals.disableZoomIn=!1,s.globals.disableZoomOut=!1,i<xte?s.globals.disableZoomIn=!0:i>5e4&&(s.globals.disableZoomOut=!0);var o=a.getTimeUnitsfromTimestamp(e,t,this.utc),c=s.globals.gridWidth/i,d=c/24,u=d/60,h=u/60,f=Math.floor(24*i),p=Math.floor(1440*i),g=Math.floor(i*TI),m=Math.floor(i),v=Math.floor(i/30),x=Math.floor(i/365),y={minMillisecond:o.minMillisecond,minSecond:o.minSecond,minMinute:o.minMinute,minHour:o.minHour,minDate:o.minDate,minMonth:o.minMonth,minYear:o.minYear},w={firstVal:y,currentMillisecond:y.minMillisecond,currentSecond:y.minSecond,currentMinute:y.minMinute,currentHour:y.minHour,currentMonthDate:y.minDate,currentDate:y.minDate,currentMonth:y.minMonth,currentYear:y.minYear,daysWidthOnXAxis:c,hoursWidthOnXAxis:d,minutesWidthOnXAxis:u,secondsWidthOnXAxis:h,numberOfSeconds:g,numberOfMinutes:p,numberOfHours:f,numberOfDays:m,numberOfMonths:v,numberOfYears:x};switch(this.tickInterval){case"years":this.generateYearScale(w);break;case"months":case"half_year":this.generateMonthScale(w);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(w);break;case"hours":this.generateHourScale(w);break;case"minutes_fives":case"minutes":this.generateMinuteScale(w);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(w)}var k=this.timeScaleArray.map(function(S){var N={position:S.position,unit:S.unit,year:S.year,day:S.day?S.day:1,hour:S.hour?S.hour:0,month:S.month+1};return S.unit==="month"?dt(dt({},N),{},{day:1,value:S.value+1}):S.unit==="day"||S.unit==="hour"?dt(dt({},N),{},{value:S.value}):S.unit==="minute"?dt(dt({},N),{},{value:S.value,minute:S.value}):S.unit==="second"?dt(dt({},N),{},{value:S.value,minute:S.minute,second:S.second}):S});return k.filter(function(S){var N=1,A=Math.ceil(s.globals.gridWidth/120),E=S.value;s.config.xaxis.tickAmount!==void 0&&(A=s.config.xaxis.tickAmount),k.length>A&&(N=Math.floor(k.length/A));var R=!1,O=!1;switch(n.tickInterval){case"years":S.unit==="year"&&(R=!0);break;case"half_year":N=7,S.unit==="year"&&(R=!0);break;case"months":N=1,S.unit==="year"&&(R=!0);break;case"months_fortnight":N=15,S.unit!=="year"&&S.unit!=="month"||(R=!0),E===30&&(O=!0);break;case"months_days":N=10,S.unit==="month"&&(R=!0),E===30&&(O=!0);break;case"week_days":N=8,S.unit==="month"&&(R=!0);break;case"days":N=1,S.unit==="month"&&(R=!0);break;case"hours":S.unit==="day"&&(R=!0);break;case"minutes_fives":case"seconds_fives":E%5!=0&&(O=!0);break;case"seconds_tens":E%10!=0&&(O=!0)}if(n.tickInterval==="hours"||n.tickInterval==="minutes_fives"||n.tickInterval==="seconds_tens"||n.tickInterval==="seconds_fives"){if(!O)return!0}else if((E%N==0||R)&&!O)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var n=this.w,s=this.formatDates(e),a=this.removeOverlappingTS(s);n.globals.timescaleLabels=a.slice(),new yy(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,n=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case n>15:this.tickInterval="minutes_fives";break;case n>5:this.tickInterval="minutes";break;case n>1:this.tickInterval="seconds_tens";break;case 60*n>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,n=e.currentMonth,s=e.currentYear,a=e.daysWidthOnXAxis,i=e.numberOfYears,o=t.minYear,c=0,d=new Ls(this.ctx),u="year";if(t.minDate>1||t.minMonth>0){var h=d.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);c=(d.determineDaysOfYear(t.minYear)-h+1)*a,o=t.minYear+1,this.timeScaleArray.push({position:c,value:o,unit:u,year:o,month:ye.monthMod(n+1)})}else t.minDate===1&&t.minMonth===0&&this.timeScaleArray.push({position:c,value:o,unit:u,year:s,month:ye.monthMod(n+1)});for(var f=o,p=c,g=0;g<i;g++)f++,p=d.determineDaysOfYear(f-1)*a+p,this.timeScaleArray.push({position:p,value:f,unit:u,year:f,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,n=e.currentMonthDate,s=e.currentMonth,a=e.currentYear,i=e.daysWidthOnXAxis,o=e.numberOfMonths,c=s,d=0,u=new Ls(this.ctx),h="month",f=0;if(t.minDate>1){d=(u.determineDaysOfMonths(s+1,t.minYear)-n+1)*i,c=ye.monthMod(s+1);var p=a+f,g=ye.monthMod(c),m=c;c===0&&(h="year",m=p,g=1,p+=f+=1),this.timeScaleArray.push({position:d,value:m,unit:h,year:p,month:g})}else this.timeScaleArray.push({position:d,value:c,unit:h,year:a,month:ye.monthMod(s)});for(var v=c+1,x=d,y=0,w=1;y<o;y++,w++){(v=ye.monthMod(v))===0?(h="year",f+=1):h="month";var k=this._getYear(a,v,f);x=u.determineDaysOfMonths(v,k)*i+x;var S=v===0?k:v;this.timeScaleArray.push({position:x,value:S,unit:h,year:k,month:v===0?1:v}),v++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,n=e.currentMonth,s=e.currentYear,a=e.hoursWidthOnXAxis,i=e.numberOfDays,o=new Ls(this.ctx),c="day",d=t.minDate+1,u=d,h=function(w,k,S){return w>o.determineDaysOfMonths(k+1,S)&&(u=1,c="month",p=k+=1),k},f=(24-t.minHour)*a,p=d,g=h(u,n,s);t.minHour===0&&t.minDate===1?(f=0,p=ye.monthMod(t.minMonth),c="month",u=t.minDate):t.minDate!==1&&t.minHour===0&&t.minMinute===0&&(f=0,d=t.minDate,p=d,g=h(u=d,n,s),p!==1&&(c="day")),this.timeScaleArray.push({position:f,value:p,unit:c,year:this._getYear(s,g,0),month:ye.monthMod(g),day:u});for(var m=f,v=0;v<i;v++){c="day",g=h(u+=1,g,this._getYear(s,g,0));var x=this._getYear(s,g,0);m=24*a+m;var y=u===1?ye.monthMod(g):u;this.timeScaleArray.push({position:m,value:y,unit:c,year:x,month:ye.monthMod(g),day:y})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,n=e.currentDate,s=e.currentMonth,a=e.currentYear,i=e.minutesWidthOnXAxis,o=e.numberOfHours,c=new Ls(this.ctx),d="hour",u=function(N,A){return N>c.determineDaysOfMonths(A+1,a)&&(v=1,A+=1),{month:A,date:v}},h=function(N,A){return N>c.determineDaysOfMonths(A+1,a)?A+=1:A},f=60-(t.minMinute+t.minSecond/60),p=f*i,g=t.minHour+1,m=g;f===60&&(p=0,m=g=t.minHour);var v=n;m>=24&&(m=0,d="day",g=v+=1);var x=u(v,s).month;x=h(v,x),g>31&&(g=v=1),this.timeScaleArray.push({position:p,value:g,unit:d,day:v,hour:m,year:a,month:ye.monthMod(x)}),m++;for(var y=p,w=0;w<o;w++){d="hour",m>=24&&(m=0,d="day",x=u(v+=1,x).month,x=h(v,x));var k=this._getYear(a,x,0);y=60*i+y;var S=m===0?v:m;this.timeScaleArray.push({position:y,value:S,unit:d,hour:m,day:v,year:k,month:ye.monthMod(x)}),m++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,s=e.currentMinute,a=e.currentHour,i=e.currentDate,o=e.currentMonth,c=e.currentYear,d=e.minutesWidthOnXAxis,u=e.secondsWidthOnXAxis,h=e.numberOfMinutes,f=s+1,p=i,g=o,m=c,v=a,x=(60-n-t/1e3)*u,y=0;y<h;y++)f>=60&&(f=0,(v+=1)===24&&(v=0)),this.timeScaleArray.push({position:x,value:f,unit:"minute",hour:v,minute:f,day:p,year:this._getYear(m,g,0),month:ye.monthMod(g)}),x+=d,f++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,s=e.currentMinute,a=e.currentHour,i=e.currentDate,o=e.currentMonth,c=e.currentYear,d=e.secondsWidthOnXAxis,u=e.numberOfSeconds,h=n+1,f=s,p=i,g=o,m=c,v=a,x=(1e3-t)/1e3*d,y=0;y<u;y++)h>=60&&(h=0,++f>=60&&(f=0,++v===24&&(v=0))),this.timeScaleArray.push({position:x,value:h,unit:"second",hour:v,minute:f,second:h,day:p,year:this._getYear(m,g,0),month:ye.monthMod(g)}),x+=d,h++}},{key:"createRawDateString",value:function(e,t){var n=e.year;return e.month===0&&(e.month=1),n+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?n+=e.unit==="day"?"-"+("0"+t).slice(-2):"-01":n+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?n+=e.unit==="hour"?"T"+("0"+t).slice(-2):"T00":n+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?n+=":"+("0"+t).slice(-2):n+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?n+=":"+("0"+t).slice(-2):n+=":00",this.utc&&(n+=".000Z"),n}},{key:"formatDates",value:function(e){var t=this,n=this.w;return e.map(function(s){var a=s.value.toString(),i=new Ls(t.ctx),o=t.createRawDateString(s,a),c=i.getDate(i.parseDate(o));if(t.utc||(c=i.getDate(i.parseDateWithTimezone(o))),n.config.xaxis.labels.format===void 0){var d="dd MMM",u=n.config.xaxis.labels.datetimeFormatter;s.unit==="year"&&(d=u.year),s.unit==="month"&&(d=u.month),s.unit==="day"&&(d=u.day),s.unit==="hour"&&(d=u.hour),s.unit==="minute"&&(d=u.minute),s.unit==="second"&&(d=u.second),a=i.formatDate(c,d)}else a=i.formatDate(c,n.config.xaxis.labels.format);return{dateString:o,position:s.position,value:a,unit:s.unit,year:s.year,month:s.month}})}},{key:"removeOverlappingTS",value:function(e){var t,n=this,s=new Ge(this.ctx),a=!1;e.length>0&&e[0].value&&e.every(function(c){return c.value.length===e[0].value.length})&&(a=!0,t=s.getTextRects(e[0].value).width);var i=0,o=e.map(function(c,d){if(d>0&&n.w.config.xaxis.labels.hideOverlappingLabels){var u=a?t:s.getTextRects(e[i].value).width,h=e[i].position;return c.position>h+u+10?(i=d,c):null}return c});return o=o.filter(function(c){return c!==null})}},{key:"_getYear",value:function(e,t,n){return e+Math.floor(t/12)+n}}]),r}(),yte=function(){function r(e,t){kt(this,r),this.ctx=t,this.w=t.w,this.el=e}return Ct(r,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,n=e.config,s=n.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(s),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(s),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(s)&&n.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),Ge.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=window.SVG().addTo(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(n.chart.offsetX,", ").concat(n.chart.offsetY,")")}),t.dom.Paper.node.style.background=n.theme.mode!=="dark"||n.chart.background?n.theme.mode!=="light"||n.chart.background?n.chart.background:"#fff":"#424242",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),Ge.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),t.dom.elLegendForeign.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var n=this.w,s=this.ctx,a=n.config,i=n.globals,o={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},column:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},c=a.chart.type||"line",d=null,u=0;i.series.forEach(function(N,A){var E=e[A].type||c;o[E]?(E==="rangeArea"?(o[E].series.push(i.seriesRangeStart[A]),o[E].seriesRangeEnd.push(i.seriesRangeEnd[A])):o[E].series.push(N),o[E].i.push(A),E!=="column"&&E!=="bar"||(n.globals.columnSeries=o.column)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(E)?d=E:E==="bar"?(o.column.series.push(N),o.column.i.push(A)):console.warn("You have specified an unrecognized series type (".concat(E,").")),c!==E&&E!=="scatter"&&u++}),u>0&&(d&&console.warn("Chart or series type ".concat(d," cannot appear with other chart or series types.")),o.column.series.length>0&&a.plotOptions.bar.horizontal&&(u-=o.column.series.length,o.column={series:[],i:[]},n.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),i.comboCharts||(i.comboCharts=u>0);var h=new R5(s,t),f=new D5(s,t);s.pie=new AI(s);var p=new dte(s);s.rangeBar=new ute(s,t);var g=new cte(s),m=[];if(i.comboCharts){var v,x,y=new Pn(s);if(o.area.series.length>0&&(v=m).push.apply(v,cs(y.drawSeriesByGroup(o.area,i.areaGroups,"area",h))),o.column.series.length>0)if(a.chart.stacked){var w=new q7(s,t);m.push(w.draw(o.column.series,o.column.i))}else s.bar=new dp(s,t),m.push(s.bar.draw(o.column.series,o.column.i));if(o.rangeArea.series.length>0&&m.push(h.draw(o.rangeArea.series,"rangeArea",o.rangeArea.i,o.rangeArea.seriesRangeEnd)),o.line.series.length>0&&(x=m).push.apply(x,cs(y.drawSeriesByGroup(o.line,i.lineGroups,"line",h))),o.candlestick.series.length>0&&m.push(f.draw(o.candlestick.series,"candlestick",o.candlestick.i)),o.boxPlot.series.length>0&&m.push(f.draw(o.boxPlot.series,"boxPlot",o.boxPlot.i)),o.rangeBar.series.length>0&&m.push(s.rangeBar.draw(o.rangeBar.series,o.rangeBar.i)),o.scatter.series.length>0){var k=new R5(s,t,!0);m.push(k.draw(o.scatter.series,"scatter",o.scatter.i))}if(o.bubble.series.length>0){var S=new R5(s,t,!0);m.push(S.draw(o.bubble.series,"bubble",o.bubble.i))}}else switch(a.chart.type){case"line":m=h.draw(i.series,"line");break;case"area":m=h.draw(i.series,"area");break;case"bar":a.chart.stacked?m=new q7(s,t).draw(i.series):(s.bar=new dp(s,t),m=s.bar.draw(i.series));break;case"candlestick":m=new D5(s,t).draw(i.series,"candlestick");break;case"boxPlot":m=new D5(s,t).draw(i.series,a.chart.type);break;case"rangeBar":m=s.rangeBar.draw(i.series);break;case"rangeArea":m=h.draw(i.seriesRangeStart,"rangeArea",void 0,i.seriesRangeEnd);break;case"heatmap":m=new lte(s,t).draw(i.series);break;case"treemap":m=new mte(s,t).draw(i.series);break;case"pie":case"donut":case"polarArea":m=s.pie.draw(i.series);break;case"radialBar":m=p.draw(i.series);break;case"radar":m=g.draw(i.series);break;default:m=h.draw(i.series)}return m}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,n=e.config;n.chart.width=n.chart.width||"100%",n.chart.height=n.chart.height||"auto",t.svgWidth=n.chart.width,t.svgHeight=n.chart.height;var s=ye.getDimensions(this.el),a=n.chart.width.toString().split(/[0-9]+/g).pop();a==="%"?ye.isNumber(s[0])&&(s[0].width===0&&(s=ye.getDimensions(this.el.parentNode)),t.svgWidth=s[0]*parseInt(n.chart.width,10)/100):a!=="px"&&a!==""||(t.svgWidth=parseInt(n.chart.width,10));var i=String(n.chart.height).toString().split(/[0-9]+/g).pop();if(t.svgHeight!=="auto"&&t.svgHeight!=="")if(i==="%"){var o=ye.getDimensions(this.el.parentNode);t.svgHeight=o[1]*parseInt(n.chart.height,10)/100}else t.svgHeight=parseInt(n.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),Ge.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),i!=="%"){var c=n.chart.sparkline.enabled?0:t.axisCharts?n.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+c,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,n=e.translateX;Ge.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(n,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=0,s=e.config.chart.sparkline.enabled?1:15;s+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(n=new CI(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var a=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),i=2.05*e.globals.radialSize;if(a&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var o=ye.getBoundingClientRect(a);i=o.bottom;var c=o.bottom-o.top;i=Math.max(2.05*e.globals.radialSize,c)}var d=Math.ceil(i+t.translateY+n+s);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",d),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(d,"px"),Ge.setAttrs(t.dom.Paper.node,{height:d}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(d,"px"))}},{key:"coreCalculations",value:function(){new Hk(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map(function(){return[]})},n=new yI,s=this.w.globals;n.initGlobalVars(s),s.seriesXvalues=t(),s.seriesYvalues=t()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new Uk(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new Uk(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new vte(this.ctx);var n=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(n)}t=new Pn(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.ctx,n=this.w;if(n.config.chart.brush.enabled&&typeof n.config.chart.events.selection!="function"){var s=Array.isArray(n.config.chart.brush.targets)?n.config.chart.brush.targets:[n.config.chart.brush.target];s.forEach(function(a){var i=t.constructor.getChartByID(a);i.w.globals.brushSource=e.ctx,typeof i.w.config.chart.events.zoomed!="function"&&(i.w.config.chart.events.zoomed=function(){return e.updateSourceChart(i)}),typeof i.w.config.chart.events.scrolled!="function"&&(i.w.config.chart.events.scrolled=function(){return e.updateSourceChart(i)})}),n.config.chart.events.selection=function(a,i){s.forEach(function(o){t.constructor.getChartByID(o).ctx.updateHelpers._updateOptions({xaxis:{min:i.xaxis.min,max:i.xaxis.max}},!1,!1,!1,!1)})}}}}]),r}(),bte=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return Ct(r,[{key:"_updateOptions",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],i=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(o){var c=[t.ctx];a&&(c=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(c=[t.ctx],t.ctx.w.globals.isExecCalled=!1),c.forEach(function(d,u){var h=d.w;if(h.globals.shouldAnimate=s,n||(h.globals.resized=!0,h.globals.dataChanged=!0,s&&d.series.getPreviousPaths()),e&&op(e)==="object"&&(d.config=new e0(e),e=Pn.extendArrayProps(d.config,e,h),d.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,h.config=ye.extend(h.config,e),i&&(h.globals.lastXAxis=e.xaxis?ye.clone(e.xaxis):[],h.globals.lastYAxis=e.yaxis?ye.clone(e.yaxis):[],h.globals.initialConfig=ye.extend({},h.config),h.globals.initialSeries=ye.clone(h.config.series),e.series))){for(var f=0;f<h.globals.collapsedSeriesIndices.length;f++){var p=h.config.series[h.globals.collapsedSeriesIndices[f]];h.globals.collapsedSeries[f].data=h.globals.axisCharts?p.data.slice():p}for(var g=0;g<h.globals.ancillaryCollapsedSeriesIndices.length;g++){var m=h.config.series[h.globals.ancillaryCollapsedSeriesIndices[g]];h.globals.ancillaryCollapsedSeries[g].data=h.globals.axisCharts?m.data.slice():m}d.series.emptyCollapsedSeries(h.config.series)}return d.update(e).then(function(){u===c.length-1&&o(d)})})})}},{key:"_updateSeries",value:function(e,t){var n=this,s=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(a){var i,o=n.w;return o.globals.shouldAnimate=t,o.globals.dataChanged=!0,t&&n.ctx.series.getPreviousPaths(),o.globals.axisCharts?((i=e.map(function(c,d){return n._extendSeries(c,d)})).length===0&&(i=[{data:[]}]),o.config.series=i):o.config.series=e.slice(),s&&(o.globals.initialConfig.series=ye.clone(o.config.series),o.globals.initialSeries=ye.clone(o.config.series)),n.ctx.update().then(function(){a(n.ctx)})})}},{key:"_extendSeries",value:function(e,t){var n=this.w,s=n.config.series[t];return dt(dt({},n.config.series[t]),{},{name:e.name?e.name:s==null?void 0:s.name,color:e.color?e.color:s==null?void 0:s.color,type:e.type?e.type:s==null?void 0:s.type,group:e.group?e.group:s==null?void 0:s.group,hidden:e.hidden!==void 0?e.hidden:s==null?void 0:s.hidden,data:e.data?e.data:s==null?void 0:s.data,zIndex:e.zIndex!==void 0?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var n=this.w,s=null,a=".apexcharts-series[data\\:realIndex='".concat(e,"']");return n.globals.axisCharts?s=n.globals.dom.Paper.findOne("".concat(a," path[j='").concat(t,"'], ").concat(a," circle[j='").concat(t,"'], ").concat(a," rect[j='").concat(t,"']")):t===void 0&&(s=n.globals.dom.Paper.findOne("".concat(a," path[j='").concat(e,"']")),n.config.chart.type!=="pie"&&n.config.chart.type!=="polarArea"&&n.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),s?(new Ge(this.ctx).pathMouseDown(s,null),s.node?s.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach(function(s){e.xaxis[s]!==void 0&&(t.config.xaxis[s]=e.xaxis[s],t.globals.lastXAxis[s]=e.xaxis[s])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var n=new Qm(e);e=n.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(t,n){e.yaxis[n].min=0,e.yaxis[n].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,n=this.w,s=n.globals.lastXAxis,a=n.globals.lastYAxis;e&&e.xaxis&&(s=e.xaxis),e&&e.yaxis&&(a=e.yaxis),n.config.xaxis.min=s.min,n.config.xaxis.max=s.max;var i=function(o){a[o]!==void 0&&(n.config.yaxis[o].min=a[o].min,n.config.yaxis[o].max=a[o].max)};n.config.yaxis.map(function(o,c){n.globals.zoomed||a[c]!==void 0?i(c):t.ctx.opts.yaxis[c]!==void 0&&(o.min=t.ctx.opts.yaxis[c].min,o.max=t.ctx.opts.yaxis[c].max)})}}]),r}();(function(){function r(){for(var a=arguments.length>0&&arguments[0]!==h?arguments[0]:[],i=arguments.length>1?arguments[1]:h,o=arguments.length>2?arguments[2]:h,c=arguments.length>3?arguments[3]:h,d=arguments.length>4?arguments[4]:h,u=arguments.length>5?arguments[5]:h,h=arguments.length>6?arguments[6]:h,f=a.slice(i,o||h),p=c.slice(d,u||h),g=0,m={pos:[0,0],start:[0,0]},v={pos:[0,0],start:[0,0]};f[g]=e.call(m,f[g]),p[g]=e.call(v,p[g]),f[g][0]!=p[g][0]||f[g][0]=="M"||f[g][0]=="A"&&(f[g][4]!=p[g][4]||f[g][5]!=p[g][5])?(Array.prototype.splice.apply(f,[g,1].concat(n.call(m,f[g]))),Array.prototype.splice.apply(p,[g,1].concat(n.call(v,p[g])))):(f[g]=t.call(m,f[g]),p[g]=t.call(v,p[g])),!(++g==f.length&&g==p.length);)g==f.length&&f.push(["C",m.pos[0],m.pos[1],m.pos[0],m.pos[1],m.pos[0],m.pos[1]]),g==p.length&&p.push(["C",v.pos[0],v.pos[1],v.pos[0],v.pos[1],v.pos[0],v.pos[1]]);return{start:f,dest:p}}function e(a){switch(a[0]){case"z":case"Z":a[0]="L",a[1]=this.start[0],a[2]=this.start[1];break;case"H":a[0]="L",a[2]=this.pos[1];break;case"V":a[0]="L",a[2]=a[1],a[1]=this.pos[0];break;case"T":a[0]="Q",a[3]=a[1],a[4]=a[2],a[1]=this.reflection[1],a[2]=this.reflection[0];break;case"S":a[0]="C",a[6]=a[4],a[5]=a[3],a[4]=a[2],a[3]=a[1],a[2]=this.reflection[1],a[1]=this.reflection[0]}return a}function t(a){var i=a.length;return this.pos=[a[i-2],a[i-1]],"SCQT".indexOf(a[0])!=-1&&(this.reflection=[2*this.pos[0]-a[i-4],2*this.pos[1]-a[i-3]]),a}function n(a){var i=[a];switch(a[0]){case"M":return this.pos=this.start=[a[1],a[2]],i;case"L":a[5]=a[3]=a[1],a[6]=a[4]=a[2],a[1]=this.pos[0],a[2]=this.pos[1];break;case"Q":a[6]=a[4],a[5]=a[3],a[4]=1*a[4]/3+2*a[2]/3,a[3]=1*a[3]/3+2*a[1]/3,a[2]=1*this.pos[1]/3+2*a[2]/3,a[1]=1*this.pos[0]/3+2*a[1]/3;break;case"A":i=function(o,c){var d,u,h,f,p,g,m,v,x,y,w,k,S,N,A,E,R,O,L,D,F,M,B,z,V,W,Z=Math.abs(c[1]),q=Math.abs(c[2]),Q=c[3]%360,T=c[4],H=c[5],$=c[6],Y=c[7],K=new Br(o),re=new Br($,Y),oe=[];if(Z===0||q===0||K.x===re.x&&K.y===re.y)return[["C",K.x,K.y,re.x,re.y,re.x,re.y]];for(d=new Br((K.x-re.x)/2,(K.y-re.y)/2).transform(new cr().rotate(Q)),u=d.x*d.x/(Z*Z)+d.y*d.y/(q*q),u>1&&(Z*=u=Math.sqrt(u),q*=u),h=new cr().rotate(Q).scale(1/Z,1/q).rotate(-Q),K=K.transform(h),re=re.transform(h),f=[re.x-K.x,re.y-K.y],g=f[0]*f[0]+f[1]*f[1],p=Math.sqrt(g),f[0]/=p,f[1]/=p,m=g<4?Math.sqrt(1-g/4):0,T===H&&(m*=-1),v=new Br((re.x+K.x)/2+m*-f[1],(re.y+K.y)/2+m*f[0]),x=new Br(K.x-v.x,K.y-v.y),y=new Br(re.x-v.x,re.y-v.y),w=Math.acos(x.x/Math.sqrt(x.x*x.x+x.y*x.y)),x.y<0&&(w*=-1),k=Math.acos(y.x/Math.sqrt(y.x*y.x+y.y*y.y)),y.y<0&&(k*=-1),H&&w>k&&(k+=2*Math.PI),!H&&w<k&&(k-=2*Math.PI),N=Math.ceil(2*Math.abs(w-k)/Math.PI),E=[],R=w,S=(k-w)/N,A=4*Math.tan(S/4)/3,F=0;F<=N;F++)L=Math.cos(R),O=Math.sin(R),D=new Br(v.x+L,v.y+O),E[F]=[new Br(D.x+A*O,D.y-A*L),D,new Br(D.x-A*O,D.y+A*L)],R+=S;for(E[0][0]=E[0][1].clone(),E[E.length-1][2]=E[E.length-1][1].clone(),h=new cr().rotate(Q).scale(Z,q).rotate(-Q),F=0,M=E.length;F<M;F++)E[F][0]=E[F][0].transform(h),E[F][1]=E[F][1].transform(h),E[F][2]=E[F][2].transform(h);for(F=1,M=E.length;F<M;F++)B=(D=E[F-1][2]).x,z=D.y,V=(D=E[F][0]).x,W=D.y,$=(D=E[F][1]).x,Y=D.y,oe.push(["C",B,z,V,W,$,Y]);return oe}(this.pos,a),a=i[0]}return a[0]="C",this.pos=[a[5],a[6]],this.reflection=[2*a[5]-a[3],2*a[6]-a[4]],i}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0;if(i===!1)return!1;for(var o=i,c=a.length;o<c;++o)if(a[o][0]=="M")return o;return!1}zt(go,{morph:function(a,i,o,c,d){for(var u=this.parse(a),h=this.parse(i),f=0,p=0,g=!1,m=!1;f!==!1||p!==!1;){var v;g=s(u,f!==!1&&f+1),m=s(h,p!==!1&&p+1),f===!1&&(f=(v=new go(x.start).bbox()).height==0||v.width==0?u.push(u[0])-1:u.push(["M",v.x+v.width/2,v.y+v.height/2])-1),p===!1&&(p=(v=new go(x.dest).bbox()).height==0||v.width==0?h.push(h[0])-1:h.push(["M",v.x+v.width/2,v.y+v.height/2])-1);var x=r(u,f,g,h,p,m);u=u.slice(0,f).concat(x.start,g===!1?[]:u.slice(g)),h=h.slice(0,p).concat(x.dest,m===!1?[]:h.slice(m)),f=g!==!1&&f+x.start.length,p=m!==!1&&p+x.dest.length}this._array=u,this.destination=new go,this.destination._array=h;var y=this.fromArray(u.map(function(w,k){var S=h[k].map(function(N,A){return A===0?N:c.step(w[A],h[k][A],o,d[k],d)});return S}));return y}})})();const Y7=r=>(r.changedTouches&&(r=r.changedTouches[0]),{x:r.clientX,y:r.clientY});class wte{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(Y7(e));const n=(t?"mouseup":"touchend")+".drag";Ol(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),Ol(window,n,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:n}=this,s=this.el.point(Y7(e)),a=s.x-n.x,i=s.y-n.y;if(!a&&!i)return t;const o=t.x+a,c=t.y+i;this.box=new ys(o,c,t.w,t.h),this.lastClick=s,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(o,c)}move(e,t){this.el.type==="svg"?ld.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),$i(window,"mousemove.drag"),$i(window,"touchmove.drag"),$i(window,"mouseup.drag"),$i(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function $k(r,e,t,n=null){return function(s){s.preventDefault(),s.stopPropagation();var a=s.pageX||s.touches[0].pageX,i=s.pageY||s.touches[0].pageY;e.fire(r,{x:a,y:i,event:s,index:n,points:t})}}function Vk([r,e],{a:t,b:n,c:s,d:a,e:i,f:o}){return[r*t+e*s+i,r*n+e*a+o]}zt(Fs,{draggable(r=!0){return(this.remember("_draggable")||new wte(this)).init(r),this}});let PI=class{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new ld,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=O0();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,t,n)=>{const s=this.order[t];this.createHandle.call(this,this.selection,e,t,n,s),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+s).on("mousedown.selection touchstart.selection",$k(s,this.el,this.handlePoints,t))})}createHandleFn(e){e.polyline()}updateHandleFn(e,t,n,s){const a=s.at(n-1),i=s[(n+1)%s.length],o=t,c=[o[0]-a[0],o[1]-a[1]],d=[o[0]-i[0],o[1]-i[1]],u=Math.sqrt(c[0]*c[0]+c[1]*c[1]),h=Math.sqrt(d[0]*d[0]+d[1]*d[1]),f=[c[0]/u,c[1]/u],p=[d[0]/h,d[1]/h],g=[o[0]-10*f[0],o[1]-10*f[1]],m=[o[0]-10*p[0],o[1]-10*p[1]];e.plot([g,o,m])}updateResizeHandles(){this.handlePoints.forEach((e,t,n)=>{const s=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,n,s)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const n=this.getPoint("t");e.get(0).plot(n[0],n[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",$k("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(n=>Vk(n,t)),this.rotationPoint=Vk(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:n,y2:s,cx:a,cy:i}=this.el.bbox()){return[[e,n],[a,n],[t,n],[t,i],[t,s],[a,s],[e,s],[e,i]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const G7=r=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let n=this.remember("_"+r.name);return n||(e.prototype instanceof PI?(n=new e(this),e=!0):n=new r(this),this.remember("_"+r.name,n)),n.active(e,t),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function Wk(r,e,t,n=null){return function(s){s.preventDefault(),s.stopPropagation();var a=s.pageX||s.touches[0].pageX,i=s.pageY||s.touches[0].pageY;e.fire(r,{x:a,y:i,event:s,index:n,points:t})}}function qk([r,e],{a:t,b:n,c:s,d:a,e:i,f:o}){return[r*t+e*s+i,r*n+e*a+o]}zt(Fs,{select:G7(PI)}),zt([Cu,Su,ku],{pointSelect:G7(class{constructor(r){this.el=r,r.remember("_pointSelectHandler",this),this.selection=new ld,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=O0();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((r,e,t)=>{this.createHandle.call(this,this.selection,r,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",$k("point",this.el,this.points,e))})}createHandleFn(r){r.circle(5)}updateHandleFn(r,e){r.center(e[0],e[1])}updatePointHandles(){this.points.forEach((r,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),r,e,t)})}updatePoints(){const r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>Vk(e,r))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class LI{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new ld,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=O0();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,t,n)=>{const s=this.order[t];this.createHandle.call(this,this.selection,e,t,n,s),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+s).on("mousedown.selection touchstart.selection",Wk(s,this.el,this.handlePoints,t))})}createHandleFn(e){e.polyline()}updateHandleFn(e,t,n,s){const a=s.at(n-1),i=s[(n+1)%s.length],o=t,c=[o[0]-a[0],o[1]-a[1]],d=[o[0]-i[0],o[1]-i[1]],u=Math.sqrt(c[0]*c[0]+c[1]*c[1]),h=Math.sqrt(d[0]*d[0]+d[1]*d[1]),f=[c[0]/u,c[1]/u],p=[d[0]/h,d[1]/h],g=[o[0]-10*f[0],o[1]-10*f[1]],m=[o[0]-10*p[0],o[1]-10*p[1]];e.plot([g,o,m])}updateResizeHandles(){this.handlePoints.forEach((e,t,n)=>{const s=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,n,s)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const n=this.getPoint("t");e.get(0).plot(n[0],n[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Wk("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(n=>qk(n,t)),this.rotationPoint=qk(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:n,y2:s,cx:a,cy:i}=this.el.bbox()){return[[e,n],[a,n],[t,n],[t,i],[t,s],[a,s],[e,s],[e,i]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const X7=r=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let n=this.remember("_"+r.name);return n||(e.prototype instanceof LI?(n=new e(this),e=!0):n=new r(this),this.remember("_"+r.name,n)),n.active(e,t),this};zt(Fs,{select:X7(LI)}),zt([Cu,Su,ku],{pointSelect:X7(class{constructor(r){this.el=r,r.remember("_pointSelectHandler",this),this.selection=new ld,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=O0();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((r,e,t)=>{this.createHandle.call(this,this.selection,r,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Wk("point",this.el,this.points,e))})}createHandleFn(r){r.circle(5)}updateHandleFn(r,e){r.center(e[0],e[1])}updatePointHandles(){this.points.forEach((r,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),r,e,t)})}updatePoints(){const r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>qk(e,r))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const d1=r=>(r.changedTouches&&(r=r.changedTouches[0]),{x:r.clientX,y:r.clientY}),Z7=r=>{let e=1/0,t=1/0,n=-1/0,s=-1/0;for(let a=0;a<r.length;a++){const i=r[a];e=Math.min(e,i[0]),t=Math.min(t,i[1]),n=Math.max(n,i[0]),s=Math.max(s,i[1])}return new ys(e,t,n-e,s-t)};class J7{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,t){this.preserveAspectRatio=t.preserveAspectRatio??!1,this.aroundCenter=t.aroundCenter??!1,this.grid=t.grid??0,this.degree=t.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:t,index:n,points:s}=e.detail,a=!t.type.indexOf("mouse");if(a&&(t.which||t.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(d1(t)),this.index=n,this.points=s.slice();const i=(a?"mousemove":"touchmove")+".resize",o=(a?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?Ol(window,i,this.movePoint):e.type==="rot"?Ol(window,i,this.rotate):Ol(window,i,this.resize),Ol(window,o,this.endResize)}resize(e){this.lastEvent=e;const t=this.snapToGrid(this.el.point(d1(e)));let n=t.x-this.startPoint.x,s=t.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(n*=2,s*=2);const a=this.box.x+n,i=this.box.y+s,o=this.box.x2+n,c=this.box.y2+s;let d=new ys(this.box);if(this.eventType.includes("l")&&(d.x=Math.min(a,this.box.x2),d.x2=Math.max(a,this.box.x2)),this.eventType.includes("r")&&(d.x=Math.min(o,this.box.x),d.x2=Math.max(o,this.box.x)),this.eventType.includes("t")&&(d.y=Math.min(i,this.box.y2),d.y2=Math.max(i,this.box.y2)),this.eventType.includes("b")&&(d.y=Math.min(c,this.box.y),d.y2=Math.max(c,this.box.y)),d.width=d.x2-d.x,d.height=d.y2-d.y,this.preserveAspectRatio){const u=d.width/this.box.width,h=d.height/this.box.height,f=["lt","t","rt","r","rb","b","lb","l"],p=(f.indexOf(this.eventType)+4)%f.length,g=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[p];let m=this.eventType.includes("t")||this.eventType.includes("b")?h:u;m=this.eventType.length===2?Math.max(u,h):m,d=function(v,x,y){const w=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]].map(([k,S])=>{const N=k-x[0],A=(S-x[1])*y;return[N*y+x[0],A+x[1]]});return Z7(w)}(this.box,g,m)}this.el.dispatch("resize",{box:new ys(d),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(d.width,d.height).move(d.x,d.y)}movePoint(e){this.lastEvent=e;const{x:t,y:n}=this.snapToGrid(this.el.point(d1(e))),s=this.el.array().slice();s[this.index]=[t,n],this.el.dispatch("resize",{box:Z7(s),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(s)}rotate(e){this.lastEvent=e;const t=this.startPoint,n=this.el.point(d1(e)),{cx:s,cy:a}=this.box,i=t.x-s,o=t.y-a,c=n.x-s,d=n.y-a,u=Math.sqrt(i*i+o*o)*Math.sqrt(c*c+d*d);if(u===0)return;let h=Math.acos((i*c+o*d)/u)/Math.PI*180;if(!h)return;n.x<t.x&&(h=-h);const f=new cr(this.el),{x:p,y:g}=new Br(s,a).transformO(f),{rotate:m}=f.decompose(),v=this.snapToAngle(m+h)-m;this.el.dispatch("resize",{box:this.box,angle:v,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(f.rotateO(v,p,g))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",$i(window,"mousemove.resize touchmove.resize"),$i(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}zt(Fs,{resize:function(r=!0,e={}){typeof r=="object"&&(e=r,r=!0);let t=this.remember("_ResizeHandler");return t||(r.prototype instanceof J7?(t=new r(this),r=!0):t=new J7(this),this.remember("_resizeHandler",t)),t.active(r,e),this}}),window.SVG===void 0&&(window.SVG=Iee),window.Apex===void 0&&(window.Apex={});var K7=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return Ct(r,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new Rp(this.ctx),this.ctx.axes=new qee(this.ctx),this.ctx.core=new yte(this.ctx.el,this.ctx),this.ctx.config=new e0({}),this.ctx.data=new pN(this.ctx),this.ctx.grid=new wI(this.ctx),this.ctx.graphics=new Ge(this.ctx),this.ctx.coreUtils=new Pn(this.ctx),this.ctx.crosshairs=new Uk(this.ctx),this.ctx.events=new Vee(this.ctx),this.ctx.exports=new vy(this.ctx),this.ctx.fill=new ko(this.ctx),this.ctx.localization=new Wee(this.ctx),this.ctx.options=new ou,this.ctx.responsive=new Yee(this.ctx),this.ctx.series=new Wi(this.ctx),this.ctx.theme=new Gee(this.ctx),this.ctx.formatters=new z0(this.ctx),this.ctx.titleSubtitle=new Xee(this.ctx),this.ctx.legend=new CI(this.ctx),this.ctx.toolbar=new SI(this.ctx),this.ctx.tooltip=new W7(this.ctx),this.ctx.dimensions=new yy(this.ctx),this.ctx.updateHelpers=new bte(this.ctx),this.ctx.zoomPanSelection=new tte(this.ctx),this.ctx.w.globals.tooltip=new W7(this.ctx)}}]),r}(),Q7=function(){function r(e){kt(this,r),this.ctx=e,this.w=e.w}return Ct(r,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,n=e.isUpdating,s=this.w.globals.dom.Paper.node;s.parentNode&&s.parentNode.parentNode&&!n&&(s.parentNode.parentNode.style.minHeight="unset");var a=this.w.globals.dom.baseEl;a&&this.ctx.eventList.forEach(function(o){a.removeEventListener(o,t.ctx.events.documentEvent)});var i=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(i.Paper),i.Paper.remove(),i.elWrap=null,i.elGraphical=null,i.elLegendWrap=null,i.elLegendForeign=null,i.baseEl=null,i.elGridRect=null,i.elGridRectMask=null,i.elGridRectBarMask=null,i.elGridRectMarkerMask=null,i.elForecastMask=null,i.elNonForecastMask=null,i.elDefs=null}}]),r}(),I5=new WeakMap,kte=function(){function r(e,t){kt(this,r),this.opts=t,this.ctx=this,this.w=new $ee(t).init(),this.el=e,this.w.globals.cuid=ye.randomId(),this.w.globals.chartID=this.w.config.chart.id?ye.escapeString(this.w.config.chart.id):this.w.globals.cuid,new K7(this).initModules(),this.create=ye.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return Ct(r,[{key:"render",value:function(){var e=this;return new Promise(function(t,n){if(ye.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var s=e.w.config.chart.events.beforeMount;typeof s=="function"&&s(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(f,p){var g=!1;if(f.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var m=f.getBoundingClientRect();f.style.display!=="none"&&m.width!==0||(g=!0)}var v=new ResizeObserver(function(x){g&&p.call(f,x),g=!0});f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(f.children).forEach(function(x){return v.observe(x)}):v.observe(f),I5.set(p,v)}(e.el.parentNode,e.parentResizeHandler);var a=e.el.getRootNode&&e.el.getRootNode(),i=ye.is("ShadowRoot",a),o=e.el.ownerDocument,c=i?a.getElementById("apexcharts-css"):o.getElementById("apexcharts-css");if(!c){var d;(c=document.createElement("style")).id="apexcharts-css",c.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}`;var u=((d=e.opts.chart)===null||d===void 0?void 0:d.nonce)||e.w.config.chart.nonce;u&&c.setAttribute("nonce",u),i?a.prepend(c):o.head.appendChild(c)}var h=e.create(e.w.config.series,{});if(!h)return t(e);e.mount(h).then(function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(h)}).catch(function(f){n(f)})}else n(new Error("Element not found"))})}},{key:"create",value:function(e,t){var n=this,s=this.w;new K7(this).initModules();var a=this.w.globals;if(a.noData=!1,a.animationEnded=!1,!ye.elementExists(this.el))return a.animationEnded=!0,this.destroy(),null;if(this.responsive.checkResponsiveConfig(t),s.config.xaxis.convertedCatToNumeric&&new Qm(s.config).convertCatToNumericXaxis(s.config,this.ctx),this.core.setupElements(),s.config.chart.type==="treemap"&&(s.config.grid.show=!1,s.config.yaxis[0].show=!1),a.svgWidth===0)return a.animationEnded=!0,null;var i=e;e.forEach(function(f,p){f.hidden&&(i=n.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:p}))});var o=Pn.checkComboSeries(i,s.config.chart.type);a.comboCharts=o.comboCharts,a.comboBarCount=o.comboBarCount;var c=i.every(function(f){return f.data&&f.data.length===0});(i.length===0||c&&a.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(i),this.theme.init(),new Bp(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),a.noData&&a.collapsedSeries.length!==a.series.length&&!s.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),a.axisCharts&&(this.core.coreCalculations(),s.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=s.globals.minX,this.ctx.toolbar.maxX=s.globals.maxX),this.formatters.heatmapLabelFormatters(),new Pn(this).getLargestMarkerSize(),this.dimensions.plotCoords();var d=this.core.xySettings();this.grid.createGridMask();var u=this.core.plotChartType(i,d),h=new cp(this);return h.bringForward(),s.config.dataLabels.background.enabled&&h.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:u,xyRatios:d,dimensions:{plot:{left:s.globals.translateX,top:s.globals.translateY,width:s.globals.gridWidth,height:s.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=this,s=n.w;return new Promise(function(a,i){if(n.el===null)return i(new Error("Not enough data to display or target element not found"));(t===null||s.globals.allSeriesCollapsed)&&n.series.handleNoData(),n.grid=new wI(n);var o,c,d=n.grid.drawGrid();if(n.annotations=new Uee(n),n.annotations.drawImageAnnos(),n.annotations.drawTextAnnos(),s.config.grid.position==="back"&&(d&&s.globals.dom.elGraphical.add(d.el),d!=null&&(o=d.elGridBorders)!==null&&o!==void 0&&o.node&&s.globals.dom.elGraphical.add(d.elGridBorders)),Array.isArray(t.elGraph))for(var u=0;u<t.elGraph.length;u++)s.globals.dom.elGraphical.add(t.elGraph[u]);else s.globals.dom.elGraphical.add(t.elGraph);s.config.grid.position==="front"&&(d&&s.globals.dom.elGraphical.add(d.el),d!=null&&(c=d.elGridBorders)!==null&&c!==void 0&&c.node&&s.globals.dom.elGraphical.add(d.elGridBorders)),s.config.xaxis.crosshairs.position==="front"&&n.crosshairs.drawXCrosshairs(),s.config.yaxis[0].crosshairs.position==="front"&&n.crosshairs.drawYCrosshairs(),s.config.chart.type!=="treemap"&&n.axes.drawAxis(s.config.chart.type,d);var h=new t0(e.ctx,d),f=new gN(e.ctx,d);if(d!==null&&(h.xAxisLabelCorrections(d.xAxisTickWidth),f.setYAxisTextAlignments(),s.config.yaxis.map(function(g,m){s.globals.ignoreYAxisIndexes.indexOf(m)===-1&&f.yAxisTitleRotate(m,g.opposite)})),n.annotations.drawAxesAnnotations(),!s.globals.noData){if(s.config.tooltip.enabled&&!s.globals.noData&&n.w.globals.tooltip.drawTooltip(t.xyRatios),s.globals.axisCharts&&(s.globals.isXNumeric||s.config.xaxis.convertedCatToNumeric||s.globals.isRangeBar))(s.config.chart.zoom.enabled||s.config.chart.selection&&s.config.chart.selection.enabled||s.config.chart.pan&&s.config.chart.pan.enabled)&&n.zoomPanSelection.init({xyRatios:t.xyRatios});else{var p=s.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(g){p[g]=!1})}s.config.chart.toolbar.show&&!s.globals.allSeriesCollapsed&&n.toolbar.createToolbar()}s.globals.memory.methodsToExec.length>0&&s.globals.memory.methodsToExec.forEach(function(g){g.method(g.params,!1,g.context)}),s.globals.axisCharts||s.globals.noData||n.core.resizeNonAxisCharts(),a(n)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(t,n){var s=I5.get(n);s&&(s.disconnect(),I5.delete(n))}(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach(function(t,n){t.id===ye.escapeString(e)&&Apex._chartInstances.splice(n,1)}),new Q7(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w;return o.globals.selection=void 0,e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(c,d){return t.updateHelpers._extendSeries(c,d)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),o.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,n,s,a,i)}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,n)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=this.w.config.series.slice();return s.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(s,t,n)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=this;n.w.globals.dataChanged=!0,n.series.getPreviousPaths();for(var s=n.w.config.series.slice(),a=0;a<s.length;a++)if(e[a]!==null&&e[a]!==void 0)for(var i=0;i<e[a].data.length;i++)s[a].data.push(e[a].data[i]);return n.w.config.series=s,t&&(n.w.globals.initialSeries=ye.clone(n.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise(function(n,s){new Q7(t.ctx).clear({isUpdating:!0});var a=t.create(t.w.config.series,e);if(!a)return n(t);t.mount(a).then(function(){typeof t.w.config.chart.events.updated=="function"&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,n(t)}).catch(function(i){s(i)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach(function(n){t.push(n)})),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(t){if(t.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=this;n&&(s=n),s.annotations.addXaxisAnnotationExternal(e,t,s)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=this;n&&(s=n),s.annotations.addYaxisAnnotationExternal(e,t,s)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=this;n&&(s=n),s.annotations.addPointAnnotationExternal(e,t,s)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=this;t&&(n=t),n.annotations.removeAnnotation(n,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Hk(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Hk(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new vy(this.ctx).dataURI(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new vy(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=ye.escapeString(e);if(Apex._chartInstances){var n=Apex._chartInstances.filter(function(s){return s.id===t})[0];return n&&n.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new r(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var n=this.getChartByID(e);if(n){n.w.globals.isExecCalled=!0;var s=null;if(n.publicMethods.indexOf(t)!==-1){for(var a=arguments.length,i=new Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];s=n[t].apply(n,i)}return s}}},{key:"merge",value:function(e,t){return ye.extend(e,t)}}]),r}();const Cte=Object.freeze(Object.defineProperty({__proto__:null,default:kte},Symbol.toStringTag,{value:"Module"})),Ste=DS(Cte);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=w;var e=o(b),t=a(Ste),n=a($6),s=["type","width","height","series","options"];function a(k){return k&&k.__esModule?k:{default:k}}function i(k){var S,N;return typeof WeakMap!="function"?null:(S=new WeakMap,N=new WeakMap,(i=function(A){return A?N:S})(k))}function o(k,S){if(!S&&k&&k.__esModule)return k;if(k===null||h(k)!="object"&&typeof k!="function")return{default:k};if(S=i(S),S&&S.has(k))return S.get(k);var N,A,E={__proto__:null},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in k)N!=="default"&&{}.hasOwnProperty.call(k,N)&&((A=R?Object.getOwnPropertyDescriptor(k,N):null)&&(A.get||A.set)?Object.defineProperty(E,N,A):E[N]=k[N]);return E.default=k,S&&S.set(k,E),E}function c(){return(c=Object.assign?Object.assign.bind():function(k){for(var S=1;S<arguments.length;S++){var N,A=arguments[S];for(N in A)!{}.hasOwnProperty.call(A,N)||(k[N]=A[N])}return k}).apply(null,arguments)}function d(k,S){if(k==null)return{};var N,A=u(k,S);if(Object.getOwnPropertySymbols)for(var E=Object.getOwnPropertySymbols(k),R=0;R<E.length;R++)N=E[R],S.includes(N)||{}.propertyIsEnumerable.call(k,N)&&(A[N]=k[N]);return A}function u(k,S){if(k==null)return{};var N,A={};for(N in k)if({}.hasOwnProperty.call(k,N)){if(S.includes(N))continue;A[N]=k[N]}return A}function h(k){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(k)}function f(k,S){var N,A=Object.keys(k);return Object.getOwnPropertySymbols&&(N=Object.getOwnPropertySymbols(k),S&&(N=N.filter(function(E){return Object.getOwnPropertyDescriptor(k,E).enumerable})),A.push.apply(A,N)),A}function p(k){for(var S=1;S<arguments.length;S++){var N=arguments[S]!=null?arguments[S]:{};S%2?f(Object(N),!0).forEach(function(A){g(k,A,N[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(N)):f(Object(N)).forEach(function(A){Object.defineProperty(k,A,Object.getOwnPropertyDescriptor(N,A))})}return k}function g(k,S,N){return(S=m(S))in k?Object.defineProperty(k,S,{value:N,enumerable:!0,configurable:!0,writable:!0}):k[S]=N,k}function m(k){return k=v(k,"string"),h(k)=="symbol"?k:k+""}function v(k,S){if(h(k)!="object"||!k)return k;var N=k[Symbol.toPrimitive];if(N===void 0)return(S==="string"?String:Number)(k);if(N=N.call(k,S),h(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}function x(k,S){var N=p({},k);return S.forEach(function(A){delete N[A]}),N}function y(k,S){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(k!==S){if(h(k)!=="object"||k===null||h(S)!=="object"||S===null)return!1;if(!N.has(k)&&!N.has(S)){N.add(k),N.add(S);var A=Object.keys(k),E=Object.keys(S);if(A.length!==E.length)return!1;for(var R=0,O=A;R<O.length;R++){var L=O[R];if(!E.includes(L)||!y(k[L],S[L],N))return!1}}}return!0}function w(V){function S(W){return W&&h(W)==="object"&&!Array.isArray(W)}var L=V.type,N=L===void 0?"line":L,L=V.width,A=L===void 0?"100%":L,L=V.height,E=L===void 0?"auto":L,R=V.series,O=V.options,L=d(V,s),D=(0,e.useRef)(null),F=(0,e.useRef)(null),M=(0,e.useRef)(),B=((0,e.useEffect)(function(){M.current=O;var W=D.current;return F.current=new t.default(W,B()),F.current.render(),function(){F.current&&typeof F.current.destroy=="function"&&F.current.destroy()}},[]),(0,e.useEffect)(function(){var W=!y(F.current.w.config.series,R),Z=!y(M.current,O)||E!==F.current.opts.chart.height||A!==F.current.opts.chart.width;(W||Z)&&(!W||Z?F.current.updateOptions(B()):F.current.updateSeries(R)),M.current=O},[O,R,E,A]),function(){return z(O,{chart:{type:N,height:E,width:A},series:R})}),z=function(W,Z){var q=p({},W);return S(W)&&S(Z)&&Object.keys(Z).forEach(function(Q){S(Z[Q])&&Q in W?q[Q]=z(W[Q],Z[Q]):Object.assign(q,g({},Q,Z[Q]))}),q},V=x(L,Object.keys(w.propTypes));return e.default.createElement("div",c({ref:D},V))}w.propTypes={type:n.default.string.isRequired,series:n.default.array.isRequired,options:n.default.object.isRequired,width:n.default.oneOfType([n.default.string,n.default.number]),height:n.default.oneOfType([n.default.string,n.default.number])}})(FR);const mN=_o(FR);function Nte(){const r={legend:{show:!1,position:"top",horizontalAlign:"left"},colors:["#465FFF","#9CB9FF"],chart:{fontFamily:"Outfit, sans-serif",height:310,type:"line",toolbar:{show:!1}},stroke:{curve:"straight",width:[2,2]},fill:{type:"gradient",gradient:{opacityFrom:.55,opacityTo:0}},markers:{size:0,strokeColors:"#fff",strokeWidth:2,hover:{size:6}},grid:{xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},tooltip:{enabled:!0,x:{format:"dd MMM yyyy"}},xaxis:{type:"category",categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisBorder:{show:!1},axisTicks:{show:!1},tooltip:{enabled:!1}},yaxis:{labels:{style:{fontSize:"12px",colors:["#6B7280"]}},title:{text:"",style:{fontSize:"0px"}}}},e=[{name:"Sales",data:[180,190,170,160,175,165,170,205,230,210,240,235]},{name:"Revenue",data:[40,30,50,40,55,40,70,100,110,120,150,140]}];return l.jsx("div",{className:"max-w-full overflow-x-auto custom-scrollbar",children:l.jsx("div",{id:"chartEight",className:"min-w-[1000px]",children:l.jsx(mN,{options:r,series:e,type:"area",height:310})})})}function Ete(){return l.jsxs(l.Fragment,{children:[l.jsx(er,{pageTitle:"Gráfico de Linhas"}),l.jsx(Dr,{pageTitle:"Line Chart"}),l.jsx("div",{className:"space-y-6",children:l.jsx(pr,{title:"Line Chart 1",children:l.jsx(Nte,{})})})]})}function _te(){const r={colors:["#465fff"],chart:{fontFamily:"Outfit, sans-serif",type:"bar",height:180,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"39%",borderRadius:5,borderRadiusApplication:"end"}},dataLabels:{enabled:!1},stroke:{show:!0,width:4,colors:["transparent"]},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisBorder:{show:!1},axisTicks:{show:!1}},legend:{show:!0,position:"top",horizontalAlign:"left",fontFamily:"Outfit"},yaxis:{title:{text:void 0}},grid:{yaxis:{lines:{show:!0}}},fill:{opacity:1},tooltip:{x:{show:!1},y:{formatter:t=>`${t}`}}},e=[{name:"Sales",data:[168,385,201,298,187,195,291,110,215,390,280,112]}];return l.jsx("div",{className:"max-w-full overflow-x-auto custom-scrollbar",children:l.jsx("div",{id:"chartOne",className:"min-w-[1000px]",children:l.jsx(mN,{options:r,series:e,type:"bar",height:180})})})}function jte(){return l.jsxs("div",{children:[l.jsx(er,{title:"React.js Chart Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Chart Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),l.jsx(Dr,{pageTitle:"Bar Chart"}),l.jsx("div",{className:"space-y-6",children:l.jsx(pr,{title:"Bar Chart 1",children:l.jsx(_te,{})})})]})}var x2,Ht,DI,MI,up,lu,ej,RI,II,by={},OI=[],Ate=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Yc(r,e){for(var t in e)r[t]=e[t];return r}function FI(r){var e=r.parentNode;e&&e.removeChild(r)}function pe(r,e,t){var n,s,a,i={};for(a in e)a=="key"?n=e[a]:a=="ref"?s=e[a]:i[a]=e[a];if(arguments.length>2&&(i.children=arguments.length>3?x2.call(arguments,2):t),typeof r=="function"&&r.defaultProps!=null)for(a in r.defaultProps)i[a]===void 0&&(i[a]=r.defaultProps[a]);return pv(r,i,n,s,null)}function pv(r,e,t,n,s){var a={type:r,props:e,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++DI};return s==null&&Ht.vnode!=null&&Ht.vnode(a),a}function ha(){return{current:null}}function cn(r){return r.children}function Tte(r,e,t,n,s){var a;for(a in t)a==="children"||a==="key"||a in e||wy(r,a,null,t[a],n);for(a in e)s&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||t[a]===e[a]||wy(r,a,e[a],t[a],n)}function tj(r,e,t){e[0]==="-"?r.setProperty(e,t??""):r[e]=t==null?"":typeof t!="number"||Ate.test(e)?t:t+"px"}function wy(r,e,t,n,s){var a;e:if(e==="style")if(typeof t=="string")r.style.cssText=t;else{if(typeof n=="string"&&(r.style.cssText=n=""),n)for(e in n)t&&e in t||tj(r.style,e,"");if(t)for(e in t)n&&t[e]===n[e]||tj(r.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in r?e.toLowerCase().slice(2):e.slice(2),r.l||(r.l={}),r.l[e+a]=t,t?n||r.addEventListener(e,a?nj:rj,a):r.removeEventListener(e,a?nj:rj,a);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in r)try{r[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?r.removeAttribute(e):r.setAttribute(e,t))}}function rj(r){up=!0;try{return this.l[r.type+!1](Ht.event?Ht.event(r):r)}finally{up=!1}}function nj(r){up=!0;try{return this.l[r.type+!0](Ht.event?Ht.event(r):r)}finally{up=!1}}function oi(r,e){this.props=r,this.context=e}function r0(r,e){if(e==null)return r.__?r0(r.__,r.__.__k.indexOf(r)+1):null;for(var t;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null)return t.__e;return typeof r.type=="function"?r0(r):null}function BI(r){var e,t;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,e=0;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null){r.__e=r.__c.base=t.__e;break}return BI(r)}}function Pte(r){up?setTimeout(r):RI(r)}function Yk(r){(!r.__d&&(r.__d=!0)&&lu.push(r)&&!ky.__r++||ej!==Ht.debounceRendering)&&((ej=Ht.debounceRendering)||Pte)(ky)}function ky(){var r,e,t,n,s,a,i,o;for(lu.sort(function(c,d){return c.__v.__b-d.__v.__b});r=lu.shift();)r.__d&&(e=lu.length,n=void 0,s=void 0,i=(a=(t=r).__v).__e,(o=t.__P)&&(n=[],(s=Yc({},a)).__v=a.__v+1,xN(o,a,s,t.__n,o.ownerSVGElement!==void 0,a.__h!=null?[i]:null,n,i??r0(a),a.__h),VI(n,a),a.__e!=i&&BI(a)),lu.length>e&&lu.sort(function(c,d){return c.__v.__b-d.__v.__b}));ky.__r=0}function zI(r,e,t,n,s,a,i,o,c,d){var u,h,f,p,g,m,v,x=n&&n.__k||OI,y=x.length;for(t.__k=[],u=0;u<e.length;u++)if((p=t.__k[u]=(p=e[u])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?pv(null,p,null,null,p):Array.isArray(p)?pv(cn,{children:p},null,null,null):p.__b>0?pv(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=t,p.__b=t.__b+1,(f=x[u])===null||f&&p.key==f.key&&p.type===f.type)x[u]=void 0;else for(h=0;h<y;h++){if((f=x[h])&&p.key==f.key&&p.type===f.type){x[h]=void 0;break}f=null}xN(r,p,f=f||by,s,a,i,o,c,d),g=p.__e,(h=p.ref)&&f.ref!=h&&(v||(v=[]),f.ref&&v.push(f.ref,null,p),v.push(h,p.__c||g,p)),g!=null?(m==null&&(m=g),typeof p.type=="function"&&p.__k===f.__k?p.__d=c=HI(p,c,r):c=UI(r,p,f,x,g,c),typeof t.type=="function"&&(t.__d=c)):c&&f.__e==c&&c.parentNode!=r&&(c=r0(f))}for(t.__e=m,u=y;u--;)x[u]!=null&&(typeof t.type=="function"&&x[u].__e!=null&&x[u].__e==t.__d&&(t.__d=$I(n).nextSibling),qI(x[u],x[u]));if(v)for(u=0;u<v.length;u++)WI(v[u],v[++u],v[++u])}function HI(r,e,t){for(var n,s=r.__k,a=0;s&&a<s.length;a++)(n=s[a])&&(n.__=r,e=typeof n.type=="function"?HI(n,e,t):UI(t,n,n,s,n.__e,e));return e}function Cy(r,e){return e=e||[],r==null||typeof r=="boolean"||(Array.isArray(r)?r.some(function(t){Cy(t,e)}):e.push(r)),e}function UI(r,e,t,n,s,a){var i,o,c;if(e.__d!==void 0)i=e.__d,e.__d=void 0;else if(t==null||s!=a||s.parentNode==null)e:if(a==null||a.parentNode!==r)r.appendChild(s),i=null;else{for(o=a,c=0;(o=o.nextSibling)&&c<n.length;c+=1)if(o==s)break e;r.insertBefore(s,a),i=a}return i!==void 0?i:s.nextSibling}function $I(r){var e,t,n;if(r.type==null||typeof r.type=="string")return r.__e;if(r.__k){for(e=r.__k.length-1;e>=0;e--)if((t=r.__k[e])&&(n=$I(t)))return n}return null}function xN(r,e,t,n,s,a,i,o,c){var d,u,h,f,p,g,m,v,x,y,w,k,S,N,A,E=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(c=t.__h,o=e.__e=t.__e,e.__h=null,a=[o]),(d=Ht.__b)&&d(e);try{e:if(typeof E=="function"){if(v=e.props,x=(d=E.contextType)&&n[d.__c],y=d?x?x.props.value:d.__:n,t.__c?m=(u=e.__c=t.__c).__=u.__E:("prototype"in E&&E.prototype.render?e.__c=u=new E(v,y):(e.__c=u=new oi(v,y),u.constructor=E,u.render=Dte),x&&x.sub(u),u.props=v,u.state||(u.state={}),u.context=y,u.__n=n,h=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),E.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Yc({},u.__s)),Yc(u.__s,E.getDerivedStateFromProps(v,u.__s))),f=u.props,p=u.state,u.__v=e,h)E.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(E.getDerivedStateFromProps==null&&v!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(v,y),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(v,u.__s,y)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(u.props=v,u.state=u.__s,u.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(R){R&&(R.__=e)}),w=0;w<u._sb.length;w++)u.__h.push(u._sb[w]);u._sb=[],u.__h.length&&i.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(v,u.__s,y),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,p,g)})}if(u.context=y,u.props=v,u.__P=r,k=Ht.__r,S=0,"prototype"in E&&E.prototype.render){for(u.state=u.__s,u.__d=!1,k&&k(e),d=u.render(u.props,u.state,u.context),N=0;N<u._sb.length;N++)u.__h.push(u._sb[N]);u._sb=[]}else do u.__d=!1,k&&k(e),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++S<25);u.state=u.__s,u.getChildContext!=null&&(n=Yc(Yc({},n),u.getChildContext())),h||u.getSnapshotBeforeUpdate==null||(g=u.getSnapshotBeforeUpdate(f,p)),A=d!=null&&d.type===cn&&d.key==null?d.props.children:d,zI(r,Array.isArray(A)?A:[A],e,t,n,s,a,i,o,c),u.base=e.__e,e.__h=null,u.__h.length&&i.push(u),m&&(u.__E=u.__=null),u.__e=!1}else a==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=Lte(t.__e,e,t,n,s,a,i,c);(d=Ht.diffed)&&d(e)}catch(R){e.__v=null,(c||a!=null)&&(e.__e=o,e.__h=!!c,a[a.indexOf(o)]=null),Ht.__e(R,e,t)}}function VI(r,e){Ht.__c&&Ht.__c(e,r),r.some(function(t){try{r=t.__h,t.__h=[],r.some(function(n){n.call(t)})}catch(n){Ht.__e(n,t.__v)}})}function Lte(r,e,t,n,s,a,i,o){var c,d,u,h=t.props,f=e.props,p=e.type,g=0;if(p==="svg"&&(s=!0),a!=null){for(;g<a.length;g++)if((c=a[g])&&"setAttribute"in c==!!p&&(p?c.localName===p:c.nodeType===3)){r=c,a[g]=null;break}}if(r==null){if(p===null)return document.createTextNode(f);r=s?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,f.is&&f),a=null,o=!1}if(p===null)h===f||o&&r.data===f||(r.data=f);else{if(a=a&&x2.call(r.childNodes),d=(h=t.props||by).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!o){if(a!=null)for(h={},g=0;g<r.attributes.length;g++)h[r.attributes[g].name]=r.attributes[g].value;(u||d)&&(u&&(d&&u.__html==d.__html||u.__html===r.innerHTML)||(r.innerHTML=u&&u.__html||""))}if(Tte(r,f,h,s,o),u)e.__k=[];else if(g=e.props.children,zI(r,Array.isArray(g)?g:[g],e,t,n,s&&p!=="foreignObject",a,i,a?a[0]:t.__k&&r0(t,0),o),a!=null)for(g=a.length;g--;)a[g]!=null&&FI(a[g]);o||("value"in f&&(g=f.value)!==void 0&&(g!==r.value||p==="progress"&&!g||p==="option"&&g!==h.value)&&wy(r,"value",g,h.value,!1),"checked"in f&&(g=f.checked)!==void 0&&g!==r.checked&&wy(r,"checked",g,h.checked,!1))}return r}function WI(r,e,t){try{typeof r=="function"?r(e):r.current=e}catch(n){Ht.__e(n,t)}}function qI(r,e,t){var n,s;if(Ht.unmount&&Ht.unmount(r),(n=r.ref)&&(n.current&&n.current!==r.__e||WI(n,null,e)),(n=r.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){Ht.__e(a,e)}n.base=n.__P=null,r.__c=void 0}if(n=r.__k)for(s=0;s<n.length;s++)n[s]&&qI(n[s],e,t||typeof r.type!="function");t||r.__e==null||FI(r.__e),r.__=r.__e=r.__d=void 0}function Dte(r,e,t){return this.constructor(r,t)}function n0(r,e,t){var n,s,a;Ht.__&&Ht.__(r,e),s=(n=!1)?null:e.__k,a=[],xN(e,r=e.__k=pe(cn,null,[r]),s||by,by,e.ownerSVGElement!==void 0,s?null:e.firstChild?x2.call(e.childNodes):null,a,s?s.__e:e.firstChild,n),VI(a,r)}function Mte(r,e){var t={__c:e="__cC"+II++,__:r,Consumer:function(n,s){return n.children(s)},Provider:function(n){var s,a;return this.getChildContext||(s=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(i){this.props.value!==i.value&&s.some(function(o){o.__e=!0,Yk(o)})},this.sub=function(i){s.push(i);var o=i.componentWillUnmount;i.componentWillUnmount=function(){s.splice(s.indexOf(i),1),o&&o.call(i)}}),n.children}};return t.Provider.__=t.Consumer.contextType=t}x2=OI.slice,Ht={__e:function(r,e,t,n){for(var s,a,i;e=e.__;)if((s=e.__c)&&!s.__)try{if((a=s.constructor)&&a.getDerivedStateFromError!=null&&(s.setState(a.getDerivedStateFromError(r)),i=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(r,n||{}),i=s.__d),i)return s.__E=s}catch(o){r=o}throw r}},DI=0,MI=function(r){return r!=null&&r.constructor===void 0},up=!1,oi.prototype.setState=function(r,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Yc({},this.state),typeof r=="function"&&(r=r(Yc({},t),this.props)),r&&Yc(t,r),r!=null&&this.__v&&(e&&this._sb.push(e),Yk(this))},oi.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),Yk(this))},oi.prototype.render=cn,lu=[],RI=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ky.__r=0,II=0;var Zo,O5,sj,YI=[],F5=[],aj=Ht.__b,ij=Ht.__r,oj=Ht.diffed,lj=Ht.__c,cj=Ht.unmount;function Rte(){for(var r;r=YI.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(gv),r.__H.__h.forEach(Gk),r.__H.__h=[]}catch(e){r.__H.__h=[],Ht.__e(e,r.__v)}}Ht.__b=function(r){Zo=null,aj&&aj(r)},Ht.__r=function(r){ij&&ij(r);var e=(Zo=r.__c).__H;e&&(O5===Zo?(e.__h=[],Zo.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=F5,t.__N=t.i=void 0})):(e.__h.forEach(gv),e.__h.forEach(Gk),e.__h=[])),O5=Zo},Ht.diffed=function(r){oj&&oj(r);var e=r.__c;e&&e.__H&&(e.__H.__h.length&&(YI.push(e)!==1&&sj===Ht.requestAnimationFrame||((sj=Ht.requestAnimationFrame)||Ite)(Rte)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==F5&&(t.__=t.__V),t.i=void 0,t.__V=F5})),O5=Zo=null},Ht.__c=function(r,e){e.some(function(t){try{t.__h.forEach(gv),t.__h=t.__h.filter(function(n){return!n.__||Gk(n)})}catch(n){e.some(function(s){s.__h&&(s.__h=[])}),e=[],Ht.__e(n,t.__v)}}),lj&&lj(r,e)},Ht.unmount=function(r){cj&&cj(r);var e,t=r.__c;t&&t.__H&&(t.__H.__.forEach(function(n){try{gv(n)}catch(s){e=s}}),t.__H=void 0,e&&Ht.__e(e,t.__v))};var dj=typeof requestAnimationFrame=="function";function Ite(r){var e,t=function(){clearTimeout(n),dj&&cancelAnimationFrame(e),setTimeout(r)},n=setTimeout(t,100);dj&&(e=requestAnimationFrame(t))}function gv(r){var e=Zo,t=r.__c;typeof t=="function"&&(r.__c=void 0,t()),Zo=e}function Gk(r){var e=Zo;r.__c=r.__(),Zo=e}function Ote(r,e){for(var t in e)r[t]=e[t];return r}function uj(r,e){for(var t in r)if(t!=="__source"&&!(t in e))return!0;for(var n in e)if(n!=="__source"&&r[n]!==e[n])return!0;return!1}function hj(r){this.props=r}(hj.prototype=new oi).isPureReactComponent=!0,hj.prototype.shouldComponentUpdate=function(r,e){return uj(this.props,r)||uj(this.state,e)};var fj=Ht.__b;Ht.__b=function(r){r.type&&r.type.__f&&r.ref&&(r.props.ref=r.ref,r.ref=null),fj&&fj(r)};var Fte=Ht.__e;Ht.__e=function(r,e,t,n){if(r.then){for(var s,a=e;a=a.__;)if((s=a.__c)&&s.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),s.__c(r,e)}Fte(r,e,t,n)};var pj=Ht.unmount;function GI(r,e,t){return r&&(r.__c&&r.__c.__H&&(r.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),r.__c.__H=null),(r=Ote({},r)).__c!=null&&(r.__c.__P===t&&(r.__c.__P=e),r.__c=null),r.__k=r.__k&&r.__k.map(function(n){return GI(n,e,t)})),r}function XI(r,e,t){return r&&(r.__v=null,r.__k=r.__k&&r.__k.map(function(n){return XI(n,e,t)}),r.__c&&r.__c.__P===e&&(r.__e&&t.insertBefore(r.__e,r.__d),r.__c.__e=!0,r.__c.__P=t)),r}function B5(){this.__u=0,this.t=null,this.__b=null}function ZI(r){var e=r.__.__c;return e&&e.__a&&e.__a(r)}function u1(){this.u=null,this.o=null}Ht.unmount=function(r){var e=r.__c;e&&e.__R&&e.__R(),e&&r.__h===!0&&(r.type=null),pj&&pj(r)},(B5.prototype=new oi).__c=function(r,e){var t=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(t);var s=ZI(n.__v),a=!1,i=function(){a||(a=!0,t.__R=null,s?s(o):o())};t.__R=i;var o=function(){if(!--n.__u){if(n.state.__a){var d=n.state.__a;n.__v.__k[0]=XI(d,d.__c.__P,d.__c.__O)}var u;for(n.setState({__a:n.__b=null});u=n.t.pop();)u.forceUpdate()}},c=e.__h===!0;n.__u++||c||n.setState({__a:n.__b=n.__v.__k[0]}),r.then(i,i)},B5.prototype.componentWillUnmount=function(){this.t=[]},B5.prototype.render=function(r,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=GI(this.__b,t,n.__O=n.__P)}this.__b=null}var s=e.__a&&pe(cn,null,r.fallback);return s&&(s.__h=null),[pe(cn,null,e.__a?null:r.children),s]};var gj=function(r,e,t){if(++t[1]===t[0]&&r.o.delete(e),r.props.revealOrder&&(r.props.revealOrder[0]!=="t"||!r.o.size))for(t=r.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;r.u=t=t[2]}};function Bte(r){return this.getChildContext=function(){return r.context},r.children}function zte(r){var e=this,t=r.i;e.componentWillUnmount=function(){n0(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),r.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,s){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),n0(pe(Bte,{context:e.context},r.__v),e.l)):e.l&&e.componentWillUnmount()}function Hte(r,e){var t=pe(zte,{__v:r,i:e});return t.containerInfo=e,t}(u1.prototype=new oi).__a=function(r){var e=this,t=ZI(e.__v),n=e.o.get(r);return n[0]++,function(s){var a=function(){e.props.revealOrder?(n.push(s),gj(e,r,n)):s()};t?t(a):a()}},u1.prototype.render=function(r){this.u=null,this.o=new Map;var e=Cy(r.children);r.revealOrder&&r.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return r.children},u1.prototype.componentDidUpdate=u1.prototype.componentDidMount=function(){var r=this;this.o.forEach(function(e,t){gj(r,t,e)})};var Ute=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,$te=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Vte=typeof document<"u",Wte=function(r){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(r)};oi.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(r){Object.defineProperty(oi.prototype,r,{configurable:!0,get:function(){return this["UNSAFE_"+r]},set:function(e){Object.defineProperty(this,r,{configurable:!0,writable:!0,value:e})}})});var mj=Ht.event;function qte(){}function Yte(){return this.cancelBubble}function Gte(){return this.defaultPrevented}Ht.event=function(r){return mj&&(r=mj(r)),r.persist=qte,r.isPropagationStopped=Yte,r.isDefaultPrevented=Gte,r.nativeEvent=r};var xj={configurable:!0,get:function(){return this.class}},vj=Ht.vnode;Ht.vnode=function(r){var e=r.type,t=r.props,n=t;if(typeof e=="string"){var s=e.indexOf("-")===-1;for(var a in n={},t){var i=t[a];Vte&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in t&&i==null||(a==="defaultValue"&&"value"in t&&t.value==null?a="value":a==="download"&&i===!0?i="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!Wte(t.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():s&&$te.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():i===null&&(i=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),n[a]&&(a="oninputCapture")),n[a]=i)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=Cy(t.children).forEach(function(o){o.props.selected=n.value.indexOf(o.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=Cy(t.children).forEach(function(o){o.props.selected=n.multiple?n.defaultValue.indexOf(o.props.value)!=-1:n.defaultValue==o.props.value})),r.props=n,t.class!=t.className&&(xj.enumerable="className"in t,t.className!=null&&(n.class=t.className),Object.defineProperty(n,"className",xj))}r.$$typeof=Ute,vj&&vj(r)};var yj=Ht.__r;Ht.__r=function(r){yj&&yj(r),r.__c};const JI=[],Xk=new Map;function vN(r){JI.push(r),Xk.forEach(e=>{QI(e,r)})}function Xte(r){r.isConnected&&r.getRootNode&&KI(r.getRootNode())}function KI(r){let e=Xk.get(r);if(!e||!e.isConnected){if(e=r.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=Jte();t&&(e.nonce=t);const n=r===document?document.head:r,s=r===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(e,s)}Xk.set(r,e),Zte(e)}}function Zte(r){for(const e of JI)QI(r,e)}function QI(r,e){const{sheet:t}=r,n=t.cssRules.length;e.split("}").forEach((s,a)=>{s=s.trim(),s&&t.insertRule(s+"}",n+a)})}let z5;function Jte(){return z5===void 0&&(z5=Kte()),z5}function Kte(){const r=document.querySelector('meta[name="csp-nonce"]');if(r&&r.hasAttribute("content"))return r.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&KI(document);var Qte=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';vN(Qte);class yN{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:n}=this;e in n&&(t?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function bN(r){r.parentNode&&r.parentNode.removeChild(r)}function Zs(r,e){if(r.closest)return r.closest(e);if(!document.documentElement.contains(r))return null;do{if(ere(r,e))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null}function ere(r,e){return(r.matches||r.matchesSelector||r.msMatchesSelector).call(r,e)}function tre(r,e){let t=r instanceof HTMLElement?[r]:r,n=[];for(let s=0;s<t.length;s+=1){let a=t[s].querySelectorAll(e);for(let i=0;i<a.length;i+=1)n.push(a[i])}return n}const rre=/(top|left|right|bottom|width|height)$/i;function fm(r,e){for(let t in e)eO(r,t,e[t])}function eO(r,e,t){t==null?r.style[e]="":typeof t=="number"&&rre.test(e)?r.style[e]=`${t}px`:r.style[e]=t}function tO(r){var e,t;return(t=(e=r.composedPath)===null||e===void 0?void 0:e.call(r)[0])!==null&&t!==void 0?t:r.target}let bj=0;function v2(){return bj+=1,"fc-dom-"+bj}function y2(r){r.preventDefault()}function nre(r,e){return t=>{let n=Zs(t.target,r);n&&e.call(n,t,n)}}function rO(r,e,t,n){let s=nre(t,n);return r.addEventListener(e,s),()=>{r.removeEventListener(e,s)}}function sre(r,e,t,n){let s;return rO(r,"mouseover",e,(a,i)=>{if(i!==s){s=i,t(a,i);let o=c=>{s=null,n(c,i),i.removeEventListener("mouseleave",o)};i.addEventListener("mouseleave",o)}})}const wj=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function are(r,e){let t=n=>{e(n),wj.forEach(s=>{r.removeEventListener(s,t)})};wj.forEach(n=>{r.addEventListener(n,t)})}function nO(r){return Object.assign({onClick:r},sO(r))}function sO(r){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(r(e),e.preventDefault())}}}let kj=0;function uh(){return kj+=1,String(kj)}function wN(){document.body.classList.add("fc-not-allowed")}function kN(){document.body.classList.remove("fc-not-allowed")}function ire(r){r.style.userSelect="none",r.style.webkitUserSelect="none",r.addEventListener("selectstart",y2)}function ore(r){r.style.userSelect="",r.style.webkitUserSelect="",r.removeEventListener("selectstart",y2)}function lre(r){r.addEventListener("contextmenu",y2)}function cre(r){r.removeEventListener("contextmenu",y2)}function dre(r){let e=[],t=[],n,s;for(typeof r=="string"?t=r.split(/\s*,\s*/):typeof r=="function"?t=[r]:Array.isArray(r)&&(t=r),n=0;n<t.length;n+=1)s=t[n],typeof s=="string"?e.push(s.charAt(0)==="-"?{field:s.substring(1),order:-1}:{field:s,order:1}):typeof s=="function"&&e.push({func:s});return e}function ure(r,e,t){let n,s;for(n=0;n<t.length;n+=1)if(s=hre(r,e,t[n]),s)return s;return 0}function hre(r,e,t){return t.func?t.func(r,e):fre(r[t.field],e[t.field])*(t.order||1)}function fre(r,e){return!r&&!e?0:e==null?-1:r==null?1:typeof r=="string"||typeof e=="string"?String(r).localeCompare(String(e)):r-e}function Bf(r,e){let t=String(r);return"000".substr(0,e-t.length)+t}function pm(r,e,t){return typeof r=="function"?r(...e):typeof r=="string"?e.reduce((n,s,a)=>n.replace("$"+a,s||""),r):t}function pre(r,e){return r-e}function mv(r){return r%1===0}function gre(r){let e=r.querySelector(".fc-scrollgrid-shrink-frame"),t=r.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return r.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const Cj=["years","months","days","milliseconds"],mre=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function xr(r,e){return typeof r=="string"?xre(r):typeof r=="object"&&r?Sj(r):typeof r=="number"?Sj({[e||"milliseconds"]:r}):null}function xre(r){let e=mre.exec(r);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function Sj(r){let e={years:r.years||r.year||0,months:r.months||r.month||0,days:r.days||r.day||0,milliseconds:(r.hours||r.hour||0)*60*60*1e3+(r.minutes||r.minute||0)*60*1e3+(r.seconds||r.second||0)*1e3+(r.milliseconds||r.millisecond||r.ms||0)},t=r.weeks||r.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function vre(r,e){return r.years===e.years&&r.months===e.months&&r.days===e.days&&r.milliseconds===e.milliseconds}function Zk(r,e){return{years:r.years+e.years,months:r.months+e.months,days:r.days+e.days,milliseconds:r.milliseconds+e.milliseconds}}function yre(r,e){return{years:r.years-e.years,months:r.months-e.months,days:r.days-e.days,milliseconds:r.milliseconds-e.milliseconds}}function bre(r,e){return{years:r.years*e,months:r.months*e,days:r.days*e,milliseconds:r.milliseconds*e}}function wre(r){return zf(r)/365}function kre(r){return zf(r)/30}function zf(r){return xo(r)/864e5}function xo(r){return r.years*(365*864e5)+r.months*(30*864e5)+r.days*864e5+r.milliseconds}function CN(r,e){let t=null;for(let n=0;n<Cj.length;n+=1){let s=Cj[n];if(e[s]){let a=r[s]/e[s];if(!mv(a)||t!==null&&t!==a)return null;t=a}else if(r[s])return null}return t}function Jk(r){let e=r.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return r.days?r.specifiedWeeks&&r.days%7===0?{unit:"week",value:r.days/7}:{unit:"day",value:r.days}:r.months?{unit:"month",value:r.months}:r.years?{unit:"year",value:r.years}:{unit:"millisecond",value:0}}function wd(r,e,t){if(r===e)return!0;let n=r.length,s;if(n!==e.length)return!1;for(s=0;s<n;s+=1)if(!(t?t(r[s],e[s]):r[s]===e[s]))return!1;return!0}const Cre=["sun","mon","tue","wed","thu","fri","sat"];function Nj(r,e){let t=Gc(r);return t[2]+=e*7,Pa(t)}function Qs(r,e){let t=Gc(r);return t[2]+=e,Pa(t)}function kd(r,e){let t=Gc(r);return t[6]+=e,Pa(t)}function Sre(r,e){return hh(r,e)/7}function hh(r,e){return(e.valueOf()-r.valueOf())/(1e3*60*60*24)}function Nre(r,e){return(e.valueOf()-r.valueOf())/(1e3*60*60)}function Ere(r,e){return(e.valueOf()-r.valueOf())/(1e3*60)}function _re(r,e){return(e.valueOf()-r.valueOf())/1e3}function jre(r,e){let t=nn(r),n=nn(e);return{years:0,months:0,days:Math.round(hh(t,n)),milliseconds:e.valueOf()-n.valueOf()-(r.valueOf()-t.valueOf())}}function Are(r,e){let t=Sy(r,e);return t!==null&&t%7===0?t/7:null}function Sy(r,e){return Xc(r)===Xc(e)?Math.round(hh(r,e)):null}function nn(r){return Pa([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()])}function Tre(r){return Pa([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours()])}function Pre(r){return Pa([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes()])}function Lre(r){return Pa([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds()])}function Dre(r,e,t){let n=r.getUTCFullYear(),s=H5(r,n,e,t);if(s<1)return H5(r,n-1,e,t);let a=H5(r,n+1,e,t);return a>=1?Math.min(s,a):s}function H5(r,e,t,n){let s=Pa([e,0,1+Mre(e,t,n)]),a=nn(r),i=Math.round(hh(s,a));return Math.floor(i/7)+1}function Mre(r,e,t){let n=7+e-t;return-((7+Pa([r,0,n]).getUTCDay()-e)%7)+n-1}function Ej(r){return[r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()]}function _j(r){return new Date(r[0],r[1]||0,r[2]==null?1:r[2],r[3]||0,r[4]||0,r[5]||0)}function Gc(r){return[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()]}function Pa(r){return r.length===1&&(r=r.concat([0])),new Date(Date.UTC(...r))}function aO(r){return!isNaN(r.valueOf())}function Xc(r){return r.getUTCHours()*1e3*60*60+r.getUTCMinutes()*1e3*60+r.getUTCSeconds()*1e3+r.getUTCMilliseconds()}function iO(r,e,t=!1){let n=r.toISOString();return n=n.replace(".000",""),t&&(n=n.replace("T00:00:00Z","")),n.length>10&&(e==null?n=n.replace("Z",""):e!==0&&(n=n.replace("Z",NN(e,!0)))),n}function SN(r){return r.toISOString().replace(/T.*$/,"")}function Rre(r){return r.toISOString().match(/^\d{4}-\d{2}/)[0]}function Ire(r){return Bf(r.getUTCHours(),2)+":"+Bf(r.getUTCMinutes(),2)+":"+Bf(r.getUTCSeconds(),2)}function NN(r,e=!1){let t=r<0?"-":"+",n=Math.abs(r),s=Math.floor(n/60),a=Math.round(n%60);return e?`${t+Bf(s,2)}:${Bf(a,2)}`:`GMT${t}${s}${a?`:${Bf(a,2)}`:""}`}function Vt(r,e,t){let n,s;return function(...a){if(!n)s=r.apply(this,a);else if(!wd(n,a)){let i=r.apply(this,a);(!e||!e(i,s))&&(s=i)}return n=a,s}}function xv(r,e,t){let n,s;return a=>(n?al(n,a)||(s=r.call(this,a)):s=r.call(this,a),n=a,s)}const jj={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Ny={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},h1=/\s*([ap])\.?m\.?/i,Ore=/,/g,Fre=/\s+/g,Bre=/\u200e/g,zre=/UTC|GMT/;class Hre{constructor(e){let t={},n={},s=0;for(let a in e)a in jj?(n[a]=e[a],s=Math.max(jj[a],s)):(t[a]=e[a],a in Ny&&(s=Math.max(Ny[a],s)));this.standardDateProps=t,this.extendedSettings=n,this.severity=s,this.buildFormattingFunc=Vt(Aj)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,n,s){let{standardDateProps:a,extendedSettings:i}=this,o=Yre(e.marker,t.marker,n.calendarSystem);if(!o)return this.format(e,n);let c=o;c>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(c=1);let d=this.format(e,n),u=this.format(t,n);if(d===u)return d;let h=Gre(a,c),f=Aj(h,i,n),p=f(e),g=f(t),m=Xre(d,p,u,g),v=i.separator||s||n.defaultSeparator||"";return m?m.before+p+v+g+m.after:d+v+u}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function Aj(r,e,t){let n=Object.keys(r).length;return n===1&&r.timeZoneName==="short"?s=>NN(s.timeZoneOffset):n===0&&e.week?s=>qre(t.computeWeekNumber(s.marker),t.weekText,t.weekTextLong,t.locale,e.week):Ure(r,e,t)}function Ure(r,e,t){r=Object.assign({},r),e=Object.assign({},e),$re(r,e),r.timeZone="UTC";let n=new Intl.DateTimeFormat(t.locale.codes,r),s;if(e.omitZeroMinute){let a=Object.assign({},r);delete a.minute,s=new Intl.DateTimeFormat(t.locale.codes,a)}return a=>{let{marker:i}=a,o;s&&!i.getUTCMinutes()?o=s:o=n;let c=o.format(i);return Vre(c,a,r,e,t)}}function $re(r,e){r.timeZoneName&&(r.hour||(r.hour="2-digit"),r.minute||(r.minute="2-digit")),r.timeZoneName==="long"&&(r.timeZoneName="short"),e.omitZeroMinute&&(r.second||r.millisecond)&&delete e.omitZeroMinute}function Vre(r,e,t,n,s){return r=r.replace(Bre,""),t.timeZoneName==="short"&&(r=Wre(r,s.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":NN(e.timeZoneOffset))),n.omitCommas&&(r=r.replace(Ore,"").trim()),n.omitZeroMinute&&(r=r.replace(":00","")),n.meridiem===!1?r=r.replace(h1,"").trim():n.meridiem==="narrow"?r=r.replace(h1,(a,i)=>i.toLocaleLowerCase()):n.meridiem==="short"?r=r.replace(h1,(a,i)=>`${i.toLocaleLowerCase()}m`):n.meridiem==="lowercase"&&(r=r.replace(h1,a=>a.toLocaleLowerCase())),r=r.replace(Fre," "),r=r.trim(),r}function Wre(r,e){let t=!1;return r=r.replace(zre,()=>(t=!0,e)),t||(r+=` ${e}`),r}function qre(r,e,t,n,s){let a=[];return s==="long"?a.push(t):(s==="short"||s==="narrow")&&a.push(e),(s==="long"||s==="short")&&a.push(" "),a.push(n.simpleNumberFormat.format(r)),n.options.direction==="rtl"&&a.reverse(),a.join("")}function Yre(r,e,t){return t.getMarkerYear(r)!==t.getMarkerYear(e)?5:t.getMarkerMonth(r)!==t.getMarkerMonth(e)?4:t.getMarkerDay(r)!==t.getMarkerDay(e)?2:Xc(r)!==Xc(e)?1:0}function Gre(r,e){let t={};for(let n in r)(!(n in Ny)||Ny[n]<=e)&&(t[n]=r[n]);return t}function Xre(r,e,t,n){let s=0;for(;s<r.length;){let a=r.indexOf(e,s);if(a===-1)break;let i=r.substr(0,a);s=a+e.length;let o=r.substr(s),c=0;for(;c<t.length;){let d=t.indexOf(n,c);if(d===-1)break;let u=t.substr(0,d);c=d+n.length;let h=t.substr(c);if(i===u&&o===h)return{before:i,after:o}}}return null}function Tj(r,e){let t=e.markerToArray(r.marker);return{marker:r.marker,timeZoneOffset:r.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Ey(r,e,t,n){let s=Tj(r,t.calendarSystem),a=e?Tj(e,t.calendarSystem):null;return{date:s,start:s,end:a,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:n||t.defaultSeparator}}class Zre{constructor(e){this.cmdStr=e}format(e,t,n){return t.cmdFormatter(this.cmdStr,Ey(e,null,t,n))}formatRange(e,t,n,s){return n.cmdFormatter(this.cmdStr,Ey(e,t,n,s))}}class Jre{constructor(e){this.func=e}format(e,t,n){return this.func(Ey(e,null,t,n))}formatRange(e,t,n,s){return this.func(Ey(e,t,n,s))}}function bn(r){return typeof r=="object"&&r?new Hre(r):typeof r=="string"?new Zre(r):typeof r=="function"?new Jre(r):null}const Pj={navLinkDayClick:Ie,navLinkWeekClick:Ie,duration:xr,bootstrapFontAwesome:Ie,buttonIcons:Ie,customButtons:Ie,defaultAllDayEventDuration:xr,defaultTimedEventDuration:xr,nextDayThreshold:xr,scrollTime:xr,scrollTimeReset:Boolean,slotMinTime:xr,slotMaxTime:xr,dayPopoverFormat:bn,slotDuration:xr,snapDuration:xr,headerToolbar:Ie,footerToolbar:Ie,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:bn,dayHeaderClassNames:Ie,dayHeaderContent:Ie,dayHeaderDidMount:Ie,dayHeaderWillUnmount:Ie,dayCellClassNames:Ie,dayCellContent:Ie,dayCellDidMount:Ie,dayCellWillUnmount:Ie,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Ie,weekNumbers:Boolean,weekNumberClassNames:Ie,weekNumberContent:Ie,weekNumberDidMount:Ie,weekNumberWillUnmount:Ie,editable:Boolean,viewClassNames:Ie,viewDidMount:Ie,viewWillUnmount:Ie,nowIndicator:Boolean,nowIndicatorClassNames:Ie,nowIndicatorContent:Ie,nowIndicatorDidMount:Ie,nowIndicatorWillUnmount:Ie,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Ie,locale:Ie,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Ie,eventOrder:dre,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Ie,contentHeight:Ie,direction:String,weekNumberFormat:bn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Ie,initialDate:Ie,now:Ie,eventDataTransform:Ie,stickyHeaderDates:Ie,stickyFooterScrollbar:Ie,viewHeight:Ie,defaultAllDay:Boolean,eventSourceFailure:Ie,eventSourceSuccess:Ie,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Ie,eventConstraint:Ie,eventAllow:Ie,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Ie,eventContent:Ie,eventDidMount:Ie,eventWillUnmount:Ie,selectConstraint:Ie,selectOverlap:Ie,selectAllow:Ie,droppable:Boolean,unselectCancel:String,slotLabelFormat:Ie,slotLaneClassNames:Ie,slotLaneContent:Ie,slotLaneDidMount:Ie,slotLaneWillUnmount:Ie,slotLabelClassNames:Ie,slotLabelContent:Ie,slotLabelDidMount:Ie,slotLabelWillUnmount:Ie,dayMaxEvents:Ie,dayMaxEventRows:Ie,dayMinWidth:Number,slotLabelInterval:xr,allDayText:String,allDayClassNames:Ie,allDayContent:Ie,allDayDidMount:Ie,allDayWillUnmount:Ie,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:bn,rerenderDelay:Number,moreLinkText:Ie,moreLinkHint:Ie,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Ie,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:xr,hiddenDays:Ie,fixedWeekCount:Boolean,validRange:Ie,visibleRange:Ie,titleFormat:Ie,eventInteractive:Boolean,noEventsText:String,viewHint:Ie,navLinkHint:Ie,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Ie,moreLinkClassNames:Ie,moreLinkContent:Ie,moreLinkDidMount:Ie,moreLinkWillUnmount:Ie,monthStartFormat:bn,handleCustomRendering:Ie,customRenderingMetaMap:Ie,customRenderingReplaces:Boolean},gm={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},Lj={datesSet:Ie,eventsSet:Ie,eventAdd:Ie,eventChange:Ie,eventRemove:Ie,windowResize:Ie,eventClick:Ie,eventMouseEnter:Ie,eventMouseLeave:Ie,select:Ie,unselect:Ie,loading:Ie,_unmount:Ie,_beforeprint:Ie,_afterprint:Ie,_noEventDrop:Ie,_noEventResize:Ie,_resize:Ie,_scrollRequest:Ie},Dj={buttonText:Ie,buttonHints:Ie,views:Ie,plugins:Ie,initialEvents:Ie,events:Ie,eventSources:Ie},ru={headerToolbar:nu,footerToolbar:nu,buttonText:nu,buttonHints:nu,buttonIcons:nu,dateIncrement:nu,plugins:f1,events:f1,eventSources:f1,resources:f1};function nu(r,e){return typeof r=="object"&&typeof e=="object"&&r&&e?al(r,e):r===e}function f1(r,e){return Array.isArray(r)&&Array.isArray(e)?wd(r,e):r===e}const Kre={type:String,component:Ie,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Ie,usesMinMaxTime:Boolean,classNames:Ie,content:Ie,didMount:Ie,willUnmount:Ie};function U5(r){return _N(r,ru)}function EN(r,e){let t={},n={};for(let s in e)s in r&&(t[s]=e[s](r[s]));for(let s in r)s in e||(n[s]=r[s]);return{refined:t,extra:n}}function Ie(r){return r}const{hasOwnProperty:_y}=Object.prototype;function _N(r,e){let t={};if(e){for(let n in e)if(e[n]===nu){let s=[];for(let a=r.length-1;a>=0;a-=1){let i=r[a][n];if(typeof i=="object"&&i)s.unshift(i);else if(i!==void 0){t[n]=i;break}}s.length&&(t[n]=_N(s))}}for(let n=r.length-1;n>=0;n-=1){let s=r[n];for(let a in s)a in t||(t[a]=s[a])}return t}function Ku(r,e){let t={};for(let n in r)e(r[n],n)&&(t[n]=r[n]);return t}function ec(r,e){let t={};for(let n in r)t[n]=e(r[n],n);return t}function oO(r){let e={};for(let t of r)e[t]=!0;return e}function jN(r){let e=[];for(let t in r)e.push(r[t]);return e}function al(r,e){if(r===e)return!0;for(let t in r)if(_y.call(r,t)&&!(t in e))return!1;for(let t in e)if(_y.call(e,t)&&r[t]!==e[t])return!1;return!0}const Qre=/^on[A-Z]/;function ene(r,e){const t=Kk(r,e);for(let n of t)if(!Qre.test(n))return!1;return!0}function Kk(r,e){let t=[];for(let n in r)_y.call(r,n)&&(n in e||t.push(n));for(let n in e)_y.call(e,n)&&r[n]!==e[n]&&t.push(n);return t}function $5(r,e,t={}){if(r===e)return!0;for(let n in e)if(!(n in r&&tne(r[n],e[n],t[n])))return!1;for(let n in r)if(!(n in e))return!1;return!0}function tne(r,e,t){return r===e||t===!0?!0:t?t(r,e):!1}function rne(r,e=0,t,n=1){let s=[];t==null&&(t=Object.keys(r).length);for(let a=e;a<t;a+=n){let i=r[a];i!==void 0&&s.push(i)}return s}let lO={};function nne(r,e){lO[r]=e}function sne(r){return new lO[r]}class ane{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Pa(e)}markerToArray(e){return Gc(e)}}nne("gregory",ane);const ine=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function one(r){let e=ine.exec(r);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(aO(t)){let n=null;return e[13]&&(n=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:n}}}return null}class lne{constructor(e){let t=this.timeZone=e.timeZone,n=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=sne(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Pa(Ej(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Pa(e)),t===null||!aO(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=one(e);if(t===null)return null;let{marker:n}=t,s=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-t.timeZoneOffset*60*1e3):s=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:s}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)}addMonths(e,t){let n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,t){let{calendarSystem:n}=this;return Xc(e)===Xc(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:n}=this;return Xc(e)===Xc(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+(n.getMarkerYear(t)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let n=this.diffWholeYears(e,t);return n!==null?{unit:"year",value:n}:(n=this.diffWholeMonths(e,t),n!==null?{unit:"month",value:n}:(n=Are(e,t),n!==null?{unit:"week",value:n}:(n=Sy(e,t),n!==null?{unit:"day",value:n}:(n=Nre(e,t),mv(n)?{unit:"hour",value:n}:(n=Ere(e,t),mv(n)?{unit:"minute",value:n}:(n=_re(e,t),mv(n)?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,n){let s;return n.years&&(s=this.diffWholeYears(e,t),s!==null)?s/wre(n):n.months&&(s=this.diffWholeMonths(e,t),s!==null)?s/kre(n):n.days&&(s=Sy(e,t),s!==null)?s/zf(n):(t.valueOf()-e.valueOf())/xo(n)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?nn(e):t==="hour"?Tre(e):t==="minute"?Pre(e):t==="second"?Lre(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Dre(e,this.weekDow,this.weekDoy)}format(e,t,n={}){return t.format({marker:e,timeZoneOffset:n.forcedTzo!=null?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,n,s={}){return s.isEndExclusive&&(t=kd(t,-1)),n.formatRange({marker:e,timeZoneOffset:s.forcedStartTzo!=null?s.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:s.forcedEndTzo!=null?s.forcedEndTzo:this.offsetForMarker(t)},this,s.defaultSeparator)}formatIso(e,t={}){let n=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?n=t.forcedTzo:n=this.offsetForMarker(e)),iO(e,n,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Pa(Ej(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Pa(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-_j(Gc(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Gc(e)):null}toDate(e,t){return this.timeZone==="local"?_j(Gc(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Gc(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class H0{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,n;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(n in e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let n;return t&&this.rtlIconClasses?n=this.rtlIconClasses[e]||this.iconClasses[e]:n=this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}H0.prototype.classes={};H0.prototype.iconClasses={};H0.prototype.baseIconClass="";H0.prototype.iconOverridePrefix="";function jy(r){r();let e=Ht.debounceRendering,t=[];function n(s){t.push(s)}for(Ht.debounceRendering=n,n0(pe(cne,{}),document.createElement("div"));t.length;)t.shift()();Ht.debounceRendering=e}class cne extends oi{render(){return pe("div",{})}componentDidMount(){this.setState({})}}function cO(r){let e=Mte(r),t=e.Provider;return e.Provider=function(){let n=!this.getChildContext,s=t.apply(this,arguments);if(n){let a=[];this.shouldComponentUpdate=i=>{this.props.value!==i.value&&a.forEach(o=>{o.context=i.value,o.forceUpdate()})},this.sub=i=>{a.push(i);let o=i.componentWillUnmount;i.componentWillUnmount=()=>{a.splice(a.indexOf(i),1),o&&o.call(i)}}}return s},e}class dne{constructor(e,t,n,s){this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=s,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const ac=cO({});function une(r,e,t,n,s,a,i,o,c,d,u,h,f){return{dateEnv:s,options:t,pluginHooks:i,emitter:d,dispatch:o,getCurrentData:c,calendarApi:u,viewSpec:r,viewApi:e,dateProfileGenerator:n,theme:a,isRtl:t.direction==="rtl",addResizeHandler(p){d.on("_resize",p)},removeResizeHandler(p){d.off("_resize",p)},createScrollResponder(p){return new dne(p,d,xr(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:f}}class fh extends oi{shouldComponentUpdate(e,t){return this.debug&&console.log(Kk(e,this.props),Kk(t,this.state)),!$5(this.props,e,this.propEquality)||!$5(this.state,t,this.stateEquality)}safeSetState(e){$5(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}fh.addPropsEquality=hne;fh.addStateEquality=fne;fh.contextType=ac;fh.prototype.propEquality={};fh.prototype.stateEquality={};class Rr extends fh{}Rr.contextType=ac;function hne(r){let e=Object.create(this.prototype.propEquality);Object.assign(e,r),this.prototype.propEquality=e}function fne(r){let e=Object.create(this.prototype.stateEquality);Object.assign(e,r),this.prototype.stateEquality=e}function tc(r,e){typeof r=="function"?r(e):r&&(r.current=e)}class AN extends Rr{constructor(){super(...arguments),this.id=uh(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:n}=this.props;(!t.customRenderingReplaces||!Qk(n,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&tc(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:n}=t,{customGenerator:s,defaultGenerator:a,renderProps:i}=e,o=dO(e,[],this.handleEl);let c=!1,d,u=[],h;if(s!=null){const f=typeof s=="function"?s(i,pe):s;if(f===!0)c=!0;else{const p=f&&typeof f=="object";p&&"html"in f?o.dangerouslySetInnerHTML={__html:f.html}:p&&"domNodes"in f?u=Array.prototype.slice.call(f.domNodes):(p?MI(f):typeof f!="function")?d=f:h=f}}else c=!Qk(e.generatorName,n);return c&&a&&(d=a(i)),this.queuedDomNodes=u,this.currentGeneratorMeta=h,pe(e.elTag,o,d)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:n,context:s}=this,{handleCustomRendering:a,customRenderingMetaMap:i}=s.options;if(a){const o=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:i==null?void 0:i[n.generatorName];o&&a(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:o},n),{elClasses:(n.elClasses||[]).filter(pne)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,n=this.base;if(!wd(e,t)){t.forEach(bN);for(let s of e)n.appendChild(s);this.currentDomNodes=e}}}AN.addPropsEquality({elClasses:wd,elStyle:al,elAttrs:ene,renderProps:al});function Qk(r,e){var t;return!!(e.handleCustomRendering&&r&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[r]))}function dO(r,e,t){const n=Object.assign(Object.assign({},r.elAttrs),{ref:t});return(r.elClasses||e)&&(n.className=(r.elClasses||[]).concat(e||[]).concat(n.className||[]).filter(Boolean).join(" ")),r.elStyle&&(n.style=r.elStyle),n}function pne(r){return!!r}const uO=cO(0);class gi extends oi{constructor(){super(...arguments),this.InnerContent=gne.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(tc(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=mne(e.classNameGenerator,e.renderProps);if(e.children){const n=dO(e,t,this.handleEl),s=e.children(this.InnerContent,e.renderProps,n);return e.elTag?pe(e.elTag,n,s):s}else return pe(AN,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}gi.contextType=uO;function gne(r,e){const t=r.props;return pe(AN,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:r.context},e))}function mne(r,e){const t=typeof r=="function"?r(e):r||[];return typeof t=="string"?[t]:t}class Ay extends Rr{render(){let{props:e,context:t}=this,{options:n}=t,s={view:t.viewApi};return pe(gi,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...hO(e.viewSpec),...e.elClasses||[]],renderProps:s,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount}),()=>e.children)}}function hO(r){return[`fc-${r.type}-view`,"fc-view"]}function xne(r,e){let t=null,n=null;return r.start&&(t=e.createMarker(r.start)),r.end&&(n=e.createMarker(r.end)),!t&&!n||t&&n&&n<t?null:{start:t,end:n}}function Mj(r,e){let t=[],{start:n}=e,s,a;for(r.sort(vne),s=0;s<r.length;s+=1)a=r[s],a.start>n&&t.push({start:n,end:a.start}),a.end>n&&(n=a.end);return n<e.end&&t.push({start:n,end:e.end}),t}function vne(r,e){return r.start.valueOf()-e.start.valueOf()}function Qu(r,e){let{start:t,end:n}=r,s=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(n===null?n=e.end:n=new Date(Math.min(n.valueOf(),e.end.valueOf()))),(t===null||n===null||t<n)&&(s={start:t,end:n}),s}function yne(r,e){return(r.start===null?null:r.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(r.end===null?null:r.end.valueOf())===(e.end===null?null:e.end.valueOf())}function TN(r,e){return(r.end===null||e.start===null||r.end>e.start)&&(r.start===null||e.end===null||r.start<e.end)}function b2(r,e){return(r.start===null||e.start!==null&&e.start>=r.start)&&(r.end===null||e.end!==null&&e.end<=r.end)}function $l(r,e){return(r.start===null||e>=r.start)&&(r.end===null||e<r.end)}function bne(r,e){return e.start!=null&&r<e.start?e.start:e.end!=null&&r>=e.end?new Date(e.end.valueOf()-1):r}function fO(r){let e=Math.floor(hh(r.start,r.end))||1,t=nn(r.start),n=Qs(t,e);return{start:t,end:n}}function pO(r,e=xr(0)){let t=null,n=null;if(r.end){n=nn(r.end);let s=r.end.valueOf()-n.valueOf();s&&s>=xo(e)&&(n=Qs(n,1))}return r.start&&(t=nn(r.start),n&&n<=t&&(n=Qs(t,1))),{start:t,end:n}}function Sf(r,e,t,n){return n==="year"?xr(t.diffWholeYears(r,e),"year"):n==="month"?xr(t.diffWholeMonths(r,e),"month"):jre(r,e)}function wne(r,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return r}}function kne(r,e){let t=r.initialDate;return t!=null?e.createMarker(t):U0(r.now,e)}function U0(r,e){return typeof r=="function"&&(r=r()),r==null?e.createNowMarker():e.createMarker(r)}class gO{constructor(e){this.props=e,this.nowDate=U0(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,n){let{dateEnv:s}=this.props,a=s.subtract(s.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,n)}buildNext(e,t,n){let{dateEnv:s}=this.props,a=s.add(s.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,n)}build(e,t,n=!0){let{props:s}=this,a,i,o,c,d,u;return a=this.buildValidRange(),a=this.trimHiddenDays(a),n&&(e=bne(e,a)),i=this.buildCurrentRangeInfo(e,t),o=/^(year|month|week|day)$/.test(i.unit),c=this.buildRenderRange(this.trimHiddenDays(i.range),i.unit,o),c=this.trimHiddenDays(c),d=c,s.showNonCurrentDates||(d=Qu(d,i.range)),d=this.adjustActiveRange(d),d=Qu(d,a),u=TN(i.range,a),$l(c,e)||(e=c.start),{currentDate:e,validRange:a,currentRange:i.range,currentRangeUnit:i.unit,isRangeAllDay:o,activeRange:d,renderRange:c,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(i.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:n}=this,s=null,a=null,i=null,o;return n.duration?(s=n.duration,a=n.durationUnit,i=this.buildRangeFromDuration(e,t,s,a)):(o=this.props.dayCount)?(a="day",i=this.buildRangeFromDayCount(e,t,o)):(i=this.buildCustomVisibleRange(e))?a=n.dateEnv.greatestWholeUnit(i.start,i.end).unit:(s=this.getFallbackDuration(),a=Jk(s).unit,i=this.buildRangeFromDuration(e,t,s,a)),{duration:s,unit:a,range:i}}getFallbackDuration(){return xr({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:n,slotMinTime:s,slotMaxTime:a}=this.props,{start:i,end:o}=e;return n&&(zf(s)<0&&(i=nn(i),i=t.add(i,s)),zf(a)>1&&(o=nn(o),o=Qs(o,-1),o=t.add(o,a))),{start:i,end:o}}buildRangeFromDuration(e,t,n,s){let{dateEnv:a,dateAlignment:i}=this.props,o,c,d;if(!i){let{dateIncrement:h}=this.props;h&&xo(h)<xo(n)?i=Jk(h).unit:i=s}zf(n)<=1&&this.isHiddenDay(o)&&(o=this.skipHiddenDays(o,t),o=nn(o));function u(){o=a.startOf(e,i),c=a.add(o,n),d={start:o,end:c}}return u(),this.trimHiddenDays(d)||(e=this.skipHiddenDays(e,t),u()),d}buildRangeFromDayCount(e,t,n){let{dateEnv:s,dateAlignment:a}=this.props,i=0,o=e,c;a&&(o=s.startOf(o,a)),o=nn(o),o=this.skipHiddenDays(o,t),c=o;do c=Qs(c,1),this.isHiddenDay(c)||(i+=1);while(i<n);return{start:o,end:c}}buildCustomVisibleRange(e){let{props:t}=this,n=t.visibleRangeInput,s=typeof n=="function"?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,a=this.refineRange(s);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(e,t,n){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,n;return t||((n=this.props.dateAlignment)?xr(1,n):e||xr({days:1}))}refineRange(e){if(e){let t=xne(e,this.props.dateEnv);return t&&(t=pO(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],n=0,s;for(this.props.weekends===!1&&e.push(0,6),s=0;s<7;s+=1)(t[s]=e.indexOf(s)!==-1)||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:n}=e;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),t==null||n==null||t<n?{start:t,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=Qs(e,t);return e}}function PN(r,e,t,n){return{instanceId:uh(),defId:r,range:e,forcedStartTzo:t??null,forcedEndTzo:n??null}}function Cne(r,e,t,n){for(let s=0;s<n.length;s+=1){let a=n[s].parse(r,t);if(a){let{allDay:i}=r;return i==null&&(i=e,i==null&&(i=a.allDayGuess,i==null&&(i=!1))),{allDay:i,duration:a.duration,typeData:a.typeData,typeId:s}}}return null}function eh(r,e,t){let{dateEnv:n,pluginHooks:s,options:a}=t,{defs:i,instances:o}=r;o=Ku(o,c=>!i[c.defId].recurringDef);for(let c in i){let d=i[c];if(d.recurringDef){let{duration:u}=d.recurringDef;u||(u=d.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let h=Sne(d,u,e,n,s.recurringTypes);for(let f of h){let p=PN(c,{start:f,end:n.add(f,u)});o[p.instanceId]=p}}}return{defs:i,instances:o}}function Sne(r,e,t,n,s){let i=s[r.recurringDef.typeId].expand(r.recurringDef.typeData,{start:n.subtract(t.start,e),end:t.end},n);return r.allDay&&(i=i.map(nn)),i}const vv={id:String,groupId:String,title:String,url:String,interactive:Boolean},mO={start:Ie,end:Ie,date:Ie,allDay:Boolean},Nne=Object.assign(Object.assign(Object.assign({},vv),mO),{extendedProps:Ie});function xO(r,e,t,n,s=LN(t),a,i){let{refined:o,extra:c}=vO(r,t,s),d=_ne(e,t),u=Cne(o,d,t.dateEnv,t.pluginHooks.recurringTypes);if(u){let f=eC(o,c,e?e.sourceId:"",u.allDay,!!u.duration,t,a);return f.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:f,instance:null}}let h=Ene(o,d,t,n);if(h){let f=eC(o,c,e?e.sourceId:"",h.allDay,h.hasEnd,t,a),p=PN(f.defId,h.range,h.forcedStartTzo,h.forcedEndTzo);return i&&f.publicId&&i[f.publicId]&&(p.instanceId=i[f.publicId]),{def:f,instance:p}}return null}function vO(r,e,t=LN(e)){return EN(r,t)}function LN(r){return Object.assign(Object.assign(Object.assign({},Ty),Nne),r.pluginHooks.eventRefiners)}function eC(r,e,t,n,s,a,i){let o={title:r.title||"",groupId:r.groupId||"",publicId:r.id||"",url:r.url||"",recurringDef:null,defId:(i&&r.id?i[r.id]:"")||uh(),sourceId:t,allDay:n,hasEnd:s,interactive:r.interactive,ui:Py(r,a),extendedProps:Object.assign(Object.assign({},r.extendedProps||{}),e)};for(let c of a.pluginHooks.eventDefMemberAdders)Object.assign(o,c(r));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function Ene(r,e,t,n){let{allDay:s}=r,a,i=null,o=!1,c,d=null,u=r.start!=null?r.start:r.date;if(a=t.dateEnv.createMarkerMeta(u),a)i=a.marker;else if(!n)return null;return r.end!=null&&(c=t.dateEnv.createMarkerMeta(r.end)),s==null&&(e!=null?s=e:s=(!a||a.isTimeUnspecified)&&(!c||c.isTimeUnspecified)),s&&i&&(i=nn(i)),c&&(d=c.marker,s&&(d=nn(d)),i&&d<=i&&(d=null)),d?o=!0:n||(o=t.options.forceEventDuration||!1,d=t.dateEnv.add(i,s?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:s,hasEnd:o,range:{start:i,end:d},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:c?c.forcedTzo:null}}function _ne(r,e){let t=null;return r&&(t=r.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function s0(r,e,t,n,s,a){let i=li(),o=LN(t);for(let c of r){let d=xO(c,e,t,n,o,s,a);d&&tC(d,i)}return i}function tC(r,e=li()){return e.defs[r.def.defId]=r.def,r.instance&&(e.instances[r.instance.instanceId]=r.instance),e}function DN(r,e){let t=r.instances[e];if(t){let n=r.defs[t.defId],s=w2(r,a=>jne(n,a));return s.defs[n.defId]=n,s.instances[t.instanceId]=t,s}return li()}function jne(r,e){return!!(r.groupId&&r.groupId===e.groupId)}function li(){return{defs:{},instances:{}}}function MN(r,e){return{defs:Object.assign(Object.assign({},r.defs),e.defs),instances:Object.assign(Object.assign({},r.instances),e.instances)}}function w2(r,e){let t=Ku(r.defs,e),n=Ku(r.instances,s=>t[s.defId]);return{defs:t,instances:n}}function Ane(r,e){let{defs:t,instances:n}=r,s={},a={};for(let i in t)e.defs[i]||(s[i]=t[i]);for(let i in n)!e.instances[i]&&s[n[i].defId]&&(a[i]=n[i]);return{defs:s,instances:a}}function Tne(r,e){return Array.isArray(r)?s0(r,null,e,!0):typeof r=="object"&&r?s0([r],null,e,!0):r!=null?String(r):null}function Rj(r){return Array.isArray(r)?r:typeof r=="string"?r.split(/\s+/):[]}const Ty={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Ie,overlap:Ie,allow:Ie,className:Rj,classNames:Rj,color:String,backgroundColor:String,borderColor:String,textColor:String},Pne={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Py(r,e){let t=Tne(r.constraint,e);return{display:r.display||null,startEditable:r.startEditable!=null?r.startEditable:r.editable,durationEditable:r.durationEditable!=null?r.durationEditable:r.editable,constraints:t!=null?[t]:[],overlap:r.overlap!=null?r.overlap:null,allows:r.allow!=null?[r.allow]:[],backgroundColor:r.backgroundColor||r.color||"",borderColor:r.borderColor||r.color||"",textColor:r.textColor||"",classNames:(r.className||[]).concat(r.classNames||[])}}function yO(r){return r.reduce(Lne,Pne)}function Lne(r,e){return{display:e.display!=null?e.display:r.display,startEditable:e.startEditable!=null?e.startEditable:r.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:r.durationEditable,constraints:r.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:r.overlap,allows:r.allows.concat(e.allows),backgroundColor:e.backgroundColor||r.backgroundColor,borderColor:e.borderColor||r.borderColor,textColor:e.textColor||r.textColor,classNames:r.classNames.concat(e.classNames)}}const Dne={id:String,defaultAllDay:Boolean,url:String,format:String,events:Ie,eventDataTransform:Ie,success:Ie,failure:Ie};function bO(r,e,t=wO(e)){let n;if(typeof r=="string"?n={url:r}:typeof r=="function"||Array.isArray(r)?n={events:r}:typeof r=="object"&&r&&(n=r),n){let{refined:s,extra:a}=EN(n,t),i=Mne(s,e);if(i)return{_raw:r,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:uh(),sourceDefId:i.sourceDefId,meta:i.meta,ui:Py(s,e),extendedProps:a}}return null}function wO(r){return Object.assign(Object.assign(Object.assign({},Ty),Dne),r.pluginHooks.eventSourceRefiners)}function Mne(r,e){let t=e.pluginHooks.eventSourceDefs;for(let n=t.length-1;n>=0;n-=1){let a=t[n].parseMeta(r);if(a)return{sourceDefId:n,meta:a}}return null}function Rne(r,e,t,n,s){switch(e.type){case"RECEIVE_EVENTS":return Ine(r,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,s);case"RESET_RAW_EVENTS":return One(r,t[e.sourceId],e.rawEvents,n.activeRange,s);case"ADD_EVENTS":return Fne(r,e.eventStore,n?n.activeRange:null,s);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return MN(r,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?eh(r,n.activeRange,s):r;case"REMOVE_EVENTS":return Ane(r,e.eventStore);case"REMOVE_EVENT_SOURCE":return CO(r,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return w2(r,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return li();default:return r}}function Ine(r,e,t,n,s,a){if(e&&t===e.latestFetchId){let i=s0(kO(s,e,a),e,a);return n&&(i=eh(i,n,a)),MN(CO(r,e.sourceId),i)}return r}function One(r,e,t,n,s){const{defIdMap:a,instanceIdMap:i}=zne(r);let o=s0(kO(t,e,s),e,s,!1,a,i);return eh(o,n,s)}function kO(r,e,t){let n=t.options.eventDataTransform,s=e?e.eventDataTransform:null;return s&&(r=Ij(r,s)),n&&(r=Ij(r,n)),r}function Ij(r,e){let t;if(!e)t=r;else{t=[];for(let n of r){let s=e(n);s?t.push(s):s==null&&t.push(n)}}return t}function Fne(r,e,t,n){return t&&(e=eh(e,t,n)),MN(r,e)}function Oj(r,e,t){let{defs:n}=r,s=ec(r.instances,a=>n[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:t.createMarker(e.toDate(a.range.start,a.forcedStartTzo)),end:t.createMarker(e.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:a.forcedEndTzo}));return{defs:n,instances:s}}function CO(r,e){return w2(r,t=>t.sourceId!==e)}function Bne(r,e){return{defs:r.defs,instances:Ku(r.instances,t=>!e[t.instanceId])}}function zne(r){const{defs:e,instances:t}=r,n={},s={};for(let a in e){const i=e[a],{publicId:o}=i;o&&(n[o]=a)}for(let a in t){const i=t[a],o=e[i.defId],{publicId:c}=o;c&&(s[c]=a)}return{defIdMap:n,instanceIdMap:s}}class k2{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){Hne(this.handlers,e,t)}off(e,t){Une(this.handlers,e,t)}trigger(e,...t){let n=this.handlers[e]||[],s=this.options&&this.options[e],a=[].concat(s||[],n);for(let i of a)i.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function Hne(r,e,t){(r[e]||(r[e]=[])).push(t)}function Une(r,e,t){t?r[e]&&(r[e]=r[e].filter(n=>n!==t)):delete r[e]}const $ne={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Vne(r,e){return s0(Wne(r),null,e)}function Wne(r){let e;return r===!0?e=[{}]:Array.isArray(r)?e=r.filter(t=>t.daysOfWeek):typeof r=="object"&&r?e=[r]:e=[],e=e.map(t=>Object.assign(Object.assign({},$ne),t)),e}function SO(r,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},RN(r,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function qne(r,e){e.emitter.trigger("unselect",{jsEvent:r?r.origEvent:null,view:e.viewApi||e.calendarApi.view})}function RN(r,e){let t={};for(let n of e.pluginHooks.dateSpanTransforms)Object.assign(t,n(r,e));return Object.assign(t,ise(r,e.dateEnv)),t}function Fj(r,e,t){let{dateEnv:n,options:s}=t,a=e;return r?(a=nn(a),a=n.add(a,s.defaultAllDayEventDuration)):a=n.add(a,s.defaultTimedEventDuration),a}function IN(r,e,t,n){let s=Ly(r.defs,e),a=li();for(let i in r.defs){let o=r.defs[i];a.defs[i]=Yne(o,s[i],t,n)}for(let i in r.instances){let o=r.instances[i],c=a.defs[o.defId];a.instances[i]=Gne(o,c,s[o.defId],t,n)}return a}function Yne(r,e,t,n){let s=t.standardProps||{};s.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(s.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},r),s),{ui:Object.assign(Object.assign({},r.ui),s.ui)});t.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),t.extendedProps));for(let i of n.pluginHooks.eventDefMutationAppliers)i(a,t,n);return!a.hasEnd&&n.options.forceEventDuration&&(a.hasEnd=!0),a}function Gne(r,e,t,n,s){let{dateEnv:a}=s,i=n.standardProps&&n.standardProps.allDay===!0,o=n.standardProps&&n.standardProps.hasEnd===!1,c=Object.assign({},r);return i&&(c.range=fO(c.range)),n.datesDelta&&t.startEditable&&(c.range={start:a.add(c.range.start,n.datesDelta),end:a.add(c.range.end,n.datesDelta)}),n.startDelta&&t.durationEditable&&(c.range={start:a.add(c.range.start,n.startDelta),end:c.range.end}),n.endDelta&&t.durationEditable&&(c.range={start:c.range.start,end:a.add(c.range.end,n.endDelta)}),o&&(c.range={start:c.range.start,end:Fj(e.allDay,c.range.start,s)}),e.allDay&&(c.range={start:nn(c.range.start),end:nn(c.range.end)}),c.range.end<c.range.start&&(c.range.end=Fj(e.allDay,c.range.start,s)),c}class rf{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class pn{constructor(e,t,n){this._context=e,this._def=t,this._instance=n||null}setProp(e,t){if(e in mO)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=vv[e](t),this.mutate({standardProps:{publicId:t}});else if(e in vv)t=vv[e](t),this.mutate({standardProps:{[e]:t}});else if(e in Ty){let n=Ty[e](t);e==="color"?n={backgroundColor:t,borderColor:t}:e==="editable"?n={startEditable:t,durationEditable:t}:n={[e]:t},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:n}=this._context,s=n.createMarker(e);if(s&&this._instance){let a=this._instance.range,i=Sf(a.start,s,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:i}):this.mutate({startDelta:i})}}setEnd(e,t={}){let{dateEnv:n}=this._context,s;if(!(e!=null&&(s=n.createMarker(e),!s))&&this._instance)if(s){let a=Sf(this._instance.range.end,s,n,t.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,n={}){let{dateEnv:s}=this._context,a={allDay:n.allDay},i=s.createMarker(e),o;if(i&&!(t!=null&&(o=s.createMarker(t),!o))&&this._instance){let c=this._instance.range;n.allDay===!0&&(c=fO(c));let d=Sf(c.start,i,s,n.granularity);if(o){let u=Sf(c.end,o,s,n.granularity);vre(d,u)?this.mutate({datesDelta:d,standardProps:a}):this.mutate({startDelta:d,endDelta:u,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:d,standardProps:a})}}moveStart(e){let t=xr(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=xr(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=xr(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let n={allDay:e},{maintainDuration:s}=t;s==null&&(s=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=s),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:t}=this._context,n=this._instance,s=bn(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,s,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,s,{forcedTzo:n.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let n=this._def,s=this._context,{eventStore:a}=s.getCurrentData(),i=DN(a,t.instanceId);i=IN(i,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,s);let c=new pn(s,n,t);this._def=i.defs[n.defId],this._instance=i.instances[t.instanceId],s.dispatch({type:"MERGE_EVENTS",eventStore:i}),s.emitter.trigger("eventChange",{oldEvent:c,event:this,relatedEvents:Ru(i,s,t),revert(){s.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let e=this._context,t=NO(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new rf(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:n}=t,{startStr:s,endStr:a}=this,i={allDay:t.allDay};return t.title&&(i.title=t.title),s&&(i.start=s),a&&(i.end=a),t.publicId&&(i.id=t.publicId),t.groupId&&(i.groupId=t.groupId),t.url&&(i.url=t.url),n.display&&n.display!=="auto"&&(i.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?i.color=n.backgroundColor:(n.backgroundColor&&(i.backgroundColor=n.backgroundColor),n.borderColor&&(i.borderColor=n.borderColor)),n.textColor&&(i.textColor=n.textColor),n.classNames.length&&(i.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(i,t.extendedProps):i.extendedProps=t.extendedProps),i}toJSON(){return this.toPlainObject()}}function NO(r){let e=r._def,t=r._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function Ru(r,e,t){let{defs:n,instances:s}=r,a=[],i=t?t.instanceId:"";for(let o in s){let c=s[o],d=n[c.defId];c.instanceId!==i&&a.push(new pn(e,d,c))}return a}function Bj(r,e,t,n){let s={},a={},i={},o=[],c=[],d=Ly(r.defs,e);for(let u in r.defs){let h=r.defs[u];d[h.defId].display==="inverse-background"&&(h.groupId?(s[h.groupId]=[],i[h.groupId]||(i[h.groupId]=h)):a[u]=[])}for(let u in r.instances){let h=r.instances[u],f=r.defs[h.defId],p=d[f.defId],g=h.range,m=!f.allDay&&n?pO(g,n):g,v=Qu(m,t);v&&(p.display==="inverse-background"?f.groupId?s[f.groupId].push(v):a[h.defId].push(v):p.display!=="none"&&(p.display==="background"?o:c).push({def:f,ui:p,instance:h,range:v,isStart:m.start&&m.start.valueOf()===v.start.valueOf(),isEnd:m.end&&m.end.valueOf()===v.end.valueOf()}))}for(let u in s){let h=s[u],f=Mj(h,t);for(let p of f){let g=i[u],m=d[g.defId];o.push({def:g,ui:m,instance:null,range:p,isStart:!1,isEnd:!1})}}for(let u in a){let h=a[u],f=Mj(h,t);for(let p of f)o.push({def:r.defs[u],ui:d[u],instance:null,range:p,isStart:!1,isEnd:!1})}return{bg:o,fg:c}}function Xne(r){return r.ui.display==="background"||r.ui.display==="inverse-background"}function zj(r,e){r.fcSeg=e}function hp(r){return r.fcSeg||r.parentNode.fcSeg||null}function Ly(r,e){return ec(r,t=>EO(t,e))}function EO(r,e){let t=[];return e[""]&&t.push(e[""]),e[r.defId]&&t.push(e[r.defId]),t.push(r.ui),yO(t)}function _O(r,e){let t=r.map(Zne);return t.sort((n,s)=>ure(n,s,e)),t.map(n=>n._seg)}function Zne(r){let{eventRange:e}=r,t=e.def,n=e.instance?e.instance.range:e.range,s=n.start?n.start.valueOf():0,a=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:s,end:a,duration:a-s,allDay:Number(t.allDay),_seg:r})}function Jne(r,e){let{pluginHooks:t}=e,n=t.isDraggableTransformers,{def:s,ui:a}=r.eventRange,i=a.startEditable;for(let o of n)i=o(i,s,a,e);return i}function Kne(r,e){return r.isStart&&r.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function Qne(r,e){return r.isEnd&&r.eventRange.ui.durationEditable}function jO(r,e,t,n,s,a,i){let{dateEnv:o,options:c}=t,{displayEventTime:d,displayEventEnd:u}=c,h=r.eventRange.def,f=r.eventRange.instance;d==null&&(d=n!==!1),u==null&&(u=s!==!1);let p=f.range.start,g=f.range.end,m=r.start||r.eventRange.range.start,v=r.end||r.eventRange.range.end,x=nn(p).valueOf()===nn(m).valueOf(),y=nn(kd(g,-1)).valueOf()===nn(kd(v,-1)).valueOf();return d&&!h.allDay&&(x||y)?(m=x?p:m,v=y?g:v,u&&h.hasEnd?o.formatRange(m,v,e,{forcedStartTzo:f.forcedStartTzo,forcedEndTzo:f.forcedEndTzo}):o.format(m,e,{forcedTzo:f.forcedStartTzo})):""}function cd(r,e,t){let n=r.eventRange.range;return{isPast:n.end<=(t||e.start),isFuture:n.start>=(t||e.end),isToday:e&&$l(e,n.start)}}function ese(r){let e=["fc-event"];return r.isMirror&&e.push("fc-event-mirror"),r.isDraggable&&e.push("fc-event-draggable"),(r.isStartResizable||r.isEndResizable)&&e.push("fc-event-resizable"),r.isDragging&&e.push("fc-event-dragging"),r.isResizing&&e.push("fc-event-resizing"),r.isSelected&&e.push("fc-event-selected"),r.isStart&&e.push("fc-event-start"),r.isEnd&&e.push("fc-event-end"),r.isPast&&e.push("fc-event-past"),r.isToday&&e.push("fc-event-today"),r.isFuture&&e.push("fc-event-future"),e}function AO(r){return r.instance?r.instance.instanceId:`${r.def.defId}:${r.range.start.toISOString()}`}function TO(r,e){let{def:t,instance:n}=r.eventRange,{url:s}=t;if(s)return{href:s};let{emitter:a,options:i}=e,{eventInteractive:o}=i;return o==null&&(o=t.interactive,o==null&&(o=!!a.hasHandlers("eventClick"))),o?sO(c=>{a.trigger("eventClick",{el:c.target,event:new pn(e,t,n),jsEvent:c,view:e.viewApi})}):{}}const tse={start:Ie,end:Ie,allDay:Boolean};function rse(r,e,t){let n=nse(r,e),{range:s}=n;if(!s.start)return null;if(!s.end){if(t==null)return null;s.end=e.add(s.start,t)}return n}function nse(r,e){let{refined:t,extra:n}=EN(r,tse),s=t.start?e.createMarkerMeta(t.start):null,a=t.end?e.createMarkerMeta(t.end):null,{allDay:i}=t;return i==null&&(i=s&&s.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:s?s.marker:null,end:a?a.marker:null},allDay:i},n)}function sse(r,e){return yne(r.range,e.range)&&r.allDay===e.allDay&&ase(r,e)}function ase(r,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&r[t]!==e[t])return!1;for(let t in r)if(!(t in e))return!1;return!0}function ise(r,e){return Object.assign(Object.assign({},LO(r.range,e,r.allDay)),{allDay:r.allDay})}function PO(r,e,t){return Object.assign(Object.assign({},LO(r,e,t)),{timeZone:e.timeZone})}function LO(r,e,t){return{start:e.toDate(r.start),end:e.toDate(r.end),startStr:e.formatIso(r.start,{omitTime:t}),endStr:e.formatIso(r.end,{omitTime:t})}}function ose(r,e,t){let n=vO({editable:!1},t),s=eC(n.refined,n.extra,"",r.allDay,!0,t);return{def:s,ui:EO(s,e),instance:PN(s.defId,r.range),range:r.range,isStart:!0,isEnd:!0}}function lse(r,e,t){let n=!1,s=function(o){n||(n=!0,e(o))},a=function(o){n||(n=!0,t(o))},i=r(s,a);i&&typeof i.then=="function"&&i.then(s,a)}class Hj extends Error{constructor(e,t){super(e),this.response=t}}function cse(r,e,t){r=r.toUpperCase();const n={method:r};return r==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(n.body=new URLSearchParams(t),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,n).then(s=>{if(s.ok)return s.json().then(a=>[a,s],()=>{throw new Hj("Failure parsing JSON",s)});throw new Hj("Request failed",s)})}let V5;function DO(){return V5==null&&(V5=dse()),V5}function dse(){if(typeof document>"u")return!0;let r=document.createElement("div");r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.innerHTML="<table><tr><td><div></div></td></tr></table>",r.querySelector("table").style.height="100px",r.querySelector("div").style.height="100%",document.body.appendChild(r);let t=r.querySelector("div").offsetHeight>0;return document.body.removeChild(r),t}class use extends Rr{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{jy(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{jy(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:n}=this.state,s=n||t.height==="auto"||t.contentHeight==="auto",a=!s&&t.height!=null?t.height:"",i=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return DO()||i.push("fc-liquid-hack"),e.children(i,a,s,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class zp{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function hse(r,e){return{component:r,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function ON(r){return{[r.component.uid]:r}}const rC={};class fse{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let n=this.getCurrentData(),s;t=t||"day",s=n.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),s?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:s.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:n}=this.getCurrentData(),s=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),a,i;for(let o in t)s.push(o);for(a=0;a<s.length;a+=1)if(i=t[s[a]],i&&i.singleUnit===e)return i;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:U0(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),n=xr(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),bn(t))}formatRange(e,t,n){let{dateEnv:s}=this.getCurrentData();return s.formatRange(s.createMarker(e),s.createMarker(t),bn(n),n)}formatIso(e,t){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:t})}select(e,t){let n;t==null?e.start!=null?n=e:n={start:e,end:null}:n={start:e,end:t};let s=this.getCurrentData(),a=rse(n,s.dateEnv,xr({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),SO(a,null,s))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),qne(e,t))}addEvent(e,t){if(e instanceof pn){let i=e._def,o=e._instance;return this.getCurrentData().eventStore.defs[i.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:tC({def:i,instance:o})}),this.triggerEventAdd(e)),e}let n=this.getCurrentData(),s;if(t instanceof rf)s=t.internalEventSource;else if(typeof t=="boolean")t&&([s]=jN(n.eventSources));else if(t!=null){let i=this.getEventSourceById(t);if(!i)return console.warn(`Could not find an event source with ID "${t}"`),null;s=i.internalEventSource}let a=xO(e,s,n,!1);if(a){let i=new pn(n,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:tC(a)}),this.triggerEventAdd(i),i}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:NO(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:n,instances:s}=t.eventStore;e=String(e);for(let a in n){let i=n[a];if(i.publicId===e){if(i.recurringDef)return new pn(t,i,null);for(let o in s){let c=s[o];if(c.defId===i.defId)return new pn(t,i,c)}}}return null}getEvents(){let e=this.getCurrentData();return Ru(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,n=[];for(let s in t)n.push(new rf(e,t[s]));return n}getEventSourceById(e){let t=this.getCurrentData(),n=t.eventSources;e=String(e);for(let s in n)if(n[s].publicId===e)return new rf(t,n[s]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof rf)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=bO(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new rf(t,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=xr(e);t&&this.trigger("_scrollRequest",{time:t})}}function pse(r,e){return r.left>=e.left&&r.left<e.right&&r.top>=e.top&&r.top<e.bottom}function MO(r,e){let t={left:Math.max(r.left,e.left),right:Math.min(r.right,e.right),top:Math.max(r.top,e.top),bottom:Math.min(r.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function gse(r,e){return{left:Math.min(Math.max(r.left,e.left),e.right),top:Math.min(Math.max(r.top,e.top),e.bottom)}}function mse(r){return{left:(r.left+r.right)/2,top:(r.top+r.bottom)/2}}function xse(r,e){return{left:r.left-e.left,top:r.top-e.top}}const W5=li();class vse{constructor(){this.getKeysForEventDefs=Vt(this._getKeysForEventDefs),this.splitDateSelection=Vt(this._splitDateSpan),this.splitEventStore=Vt(this._splitEventStore),this.splitIndividualUi=Vt(this._splitIndividualUi),this.splitEventDrag=Vt(this._splitInteraction),this.splitEventResize=Vt(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),s=this.splitDateSelection(e.dateSelection),a=this.splitIndividualUi(e.eventUiBases,n),i=this.splitEventStore(e.eventStore,n),o=this.splitEventDrag(e.eventDrag),c=this.splitEventResize(e.eventResize),d={};this.eventUiBuilders=ec(t,(u,h)=>this.eventUiBuilders[h]||Vt(yse));for(let u in t){let h=t[u],f=i[u]||W5,p=this.eventUiBuilders[u];d[u]={businessHours:h.businessHours||e.businessHours,dateSelection:s[u]||null,eventStore:f,eventUiBases:p(e.eventUiBases[""],h.ui,a[u]),eventSelection:f.instances[e.eventSelection]?e.eventSelection:"",eventDrag:o[u]||null,eventResize:c[u]||null}}return d}_splitDateSpan(e){let t={};if(e){let n=this.getKeysForDateSpan(e);for(let s of n)t[s]=e}return t}_getKeysForEventDefs(e){return ec(e.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(e,t){let{defs:n,instances:s}=e,a={};for(let i in n)for(let o of t[i])a[o]||(a[o]=li()),a[o].defs[i]=n[i];for(let i in s){let o=s[i];for(let c of t[o.defId])a[c]&&(a[c].instances[i]=o)}return a}_splitIndividualUi(e,t){let n={};for(let s in e)if(s)for(let a of t[s])n[a]||(n[a]={}),n[a][s]=e[s];return n}_splitInteraction(e){let t={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),s=this._getKeysForEventDefs(e.mutatedEvents),a=this._splitEventStore(e.mutatedEvents,s),i=o=>{t[o]||(t[o]={affectedEvents:n[o]||W5,mutatedEvents:a[o]||W5,isEvent:e.isEvent})};for(let o in n)i(o);for(let o in a)i(o)}return t}}function yse(r,e,t){let n=[];r&&n.push(r),e&&n.push(e);let s={"":yO(n)};return t&&Object.assign(s,t),s}function RO(r,e,t,n){return{dow:r.getUTCDay(),isDisabled:!!(n&&!$l(n.activeRange,r)),isOther:!!(n&&!$l(n.currentRange,r)),isToday:!!(e&&$l(e,r)),isPast:!!(e&&r<e.start),isFuture:!!(e&&r>=e.end)}}function FN(r,e){let t=["fc-day",`fc-day-${Cre[r.dow]}`];return r.isDisabled?t.push("fc-day-disabled"):(r.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),r.isPast&&t.push("fc-day-past"),r.isFuture&&t.push("fc-day-future"),r.isOther&&t.push("fc-day-other")),t}const bse=bn({year:"numeric",month:"long",day:"numeric"}),wse=bn({week:"long"});function Dy(r,e,t="day",n=!0){const{dateEnv:s,options:a,calendarApi:i}=r;let o=s.format(e,t==="week"?wse:bse);if(a.navLinks){let c=s.toDate(e);const d=u=>{let h=t==="day"?a.navLinkDayClick:t==="week"?a.navLinkWeekClick:null;typeof h=="function"?h.call(i,s.toDate(e),u):(typeof h=="string"&&(t=h),i.zoomTo(e,t))};return Object.assign({title:pm(a.navLinkHint,[o,c],o),"data-navlink":""},n?nO(d):{onClick:d})}return{"aria-label":o}}let q5=null;function kse(){return q5===null&&(q5=Cse()),q5}function Cse(){let r=document.createElement("div");fm(r,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),r.innerHTML="<div></div>",document.body.appendChild(r);let t=r.firstChild.getBoundingClientRect().left>r.getBoundingClientRect().left;return bN(r),t}let Y5;function Sse(){return Y5||(Y5=Nse()),Y5}function Nse(){let r=document.createElement("div");r.style.overflow="scroll",r.style.position="absolute",r.style.top="-9999px",r.style.left="-9999px",document.body.appendChild(r);let e=IO(r);return document.body.removeChild(r),e}function IO(r){return{x:r.offsetHeight-r.clientHeight,y:r.offsetWidth-r.clientWidth}}function Ese(r,e=!1){let t=window.getComputedStyle(r),n=parseInt(t.borderLeftWidth,10)||0,s=parseInt(t.borderRightWidth,10)||0,a=parseInt(t.borderTopWidth,10)||0,i=parseInt(t.borderBottomWidth,10)||0,o=IO(r),c=o.y-n-s,d=o.x-a-i,u={borderLeft:n,borderRight:s,borderTop:a,borderBottom:i,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return kse()&&t.direction==="rtl"?u.scrollbarLeft=c:u.scrollbarRight=c,e&&(u.paddingLeft=parseInt(t.paddingLeft,10)||0,u.paddingRight=parseInt(t.paddingRight,10)||0,u.paddingTop=parseInt(t.paddingTop,10)||0,u.paddingBottom=parseInt(t.paddingBottom,10)||0),u}function _se(r,e=!1,t){let n=BN(r),s=Ese(r,e),a={left:n.left+s.borderLeft+s.scrollbarLeft,right:n.right-s.borderRight-s.scrollbarRight,top:n.top+s.borderTop,bottom:n.bottom-s.borderBottom-s.scrollbarBottom};return e&&(a.left+=s.paddingLeft,a.right-=s.paddingRight,a.top+=s.paddingTop,a.bottom-=s.paddingBottom),a}function BN(r){let e=r.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function jse(r){let e=OO(r),t=r.getBoundingClientRect();for(let n of e){let s=MO(t,n.getBoundingClientRect());if(s)t=s;else return null}return t}function OO(r){let e=[];for(;r instanceof HTMLElement;){let t=window.getComputedStyle(r);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(r),r=r.parentNode}return e}class fp{constructor(e,t,n,s){this.els=t;let a=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(a.left),s&&this.buildElVerticals(a.top)}buildElHorizontals(e){let t=[],n=[];for(let s of this.els){let a=s.getBoundingClientRect();t.push(a.left-e),n.push(a.right-e)}this.lefts=t,this.rights=n}buildElVerticals(e){let t=[],n=[];for(let s of this.els){let a=s.getBoundingClientRect();t.push(a.top-e),n.push(a.bottom-e)}this.tops=t,this.bottoms=n}leftToIndex(e){let{lefts:t,rights:n}=this,s=t.length,a;for(a=0;a<s;a+=1)if(e>=t[a]&&e<n[a])return a}topToIndex(e){let{tops:t,bottoms:n}=this,s=t.length,a;for(a=0;a<s;a+=1)if(e>=t[a]&&e<n[a])return a}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return p1(this.tops||[],e.tops||[])&&p1(this.bottoms||[],e.bottoms||[])&&p1(this.lefts||[],e.lefts||[])&&p1(this.rights||[],e.rights||[])}}function p1(r,e){const t=r.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(Math.round(r[n])!==Math.round(e[n]))return!1;return!0}class zN{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Ase extends zN{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Tse extends zN{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class cl extends Rr{constructor(){super(...arguments),this.uid=uh()}prepareHits(){}queryHit(e,t,n,s){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Zs(e,".fc-event-mirror")}isValidDateDownEl(e){return!Zs(e,".fc-event:not(.fc-bg-event)")&&!Zs(e,".fc-more-link")&&!Zs(e,"a[data-navlink]")&&!Zs(e,".fc-popover")}}class FO{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let n of e)this.insertEntry(n,t);return t}insertEntry(e,t){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,n){if(this.allowReslicing&&e.touchingEntry){const s=Object.assign(Object.assign({},t),{span:HN(t.span,e.touchingEntry.span)});n.push(s),this.splitEntry(t,e.touchingEntry,n)}else n.push(t)}splitEntry(e,t,n){let s=e.span,a=t.span;s.start<a.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.start,end:a.start}},n),s.end>a.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:s.end}},n)}insertEntryAt(e,t){let{entriesByLevel:n,levelCoords:s}=this;t.lateral===-1?(G5(s,t.level,t.levelCoord),G5(n,t.level,[e])):G5(n[t.level],t.lateral,e),this.stackCnts[Iu(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:n,strictOrder:s,stackCnts:a}=this,i=t.length,o=0,c=-1,d=-1,u=null,h=0;for(let g=0;g<i;g+=1){const m=t[g];if(!s&&m>=o+this.getEntryThickness(e))break;let v=n[g],x,y=sC(v,e.span.start,nC),w=y[0]+y[1];for(;(x=v[w])&&x.span.start<e.span.end;){let k=m+this.getEntryThickness(x);k>o&&(o=k,u=x,c=g,d=w),k===o&&(h=Math.max(h,a[Iu(x)]+1)),w+=1}}let f=0;if(u)for(f=c+1;f<i&&t[f]<o;)f+=1;let p=-1;return f<i&&t[f]===o&&(p=sC(n[f],e.span.end,nC)[0]),{touchingLevel:c,touchingLateral:d,touchingEntry:u,stackCnt:h,levelCoord:o,level:f,lateral:p}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,n=e.length,s=[];for(let a=0;a<n;a+=1){let i=e[a],o=t[a];for(let c of i)s.push(Object.assign(Object.assign({},c),{thickness:this.getEntryThickness(c),levelCoord:o}))}return s}}function nC(r){return r.span.end}function Iu(r){return r.index+":"+r.span.start}function Pse(r){let e=[];for(let t of r){let n=[],s={span:t.span,entries:[t]};for(let a of e)HN(a.span,s.span)?s={entries:a.entries.concat(s.entries),span:Lse(a.span,s.span)}:n.push(a);n.push(s),e=n}return e}function Lse(r,e){return{start:Math.min(r.start,e.start),end:Math.max(r.end,e.end)}}function HN(r,e){let t=Math.max(r.start,e.start),n=Math.min(r.end,e.end);return t<n?{start:t,end:n}:null}function G5(r,e,t){r.splice(e,0,t)}function sC(r,e,t){let n=0,s=r.length;if(!s||e<t(r[n]))return[0,0];if(e>t(r[s-1]))return[s,0];for(;n<s;){let a=Math.floor(n+(s-n)/2),i=t(r[a]);if(e<i)s=a;else if(e>i)n=a+1;else return[a,1]}return[n,0]}class Dse{constructor(e,t){this.emitter=new k2}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const UN={};function Mse(r,e){return!r||e>10?bn({weekday:"short"}):e>1?bn({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):bn({weekday:"long"})}const BO="fc-col-header-cell";function zO(r){return r.text}class Rse extends Rr{render(){let{dateEnv:e,options:t,theme:n,viewApi:s}=this.context,{props:a}=this,{date:i,dateProfile:o}=a,c=RO(i,a.todayRange,null,o),d=[BO].concat(FN(c,n)),u=e.format(i,a.dayHeaderFormat),h=!c.isDisabled&&a.colCnt>1?Dy(this.context,i):{},f=Object.assign(Object.assign(Object.assign({date:e.toDate(i),view:s},a.extraRenderProps),{text:u}),c);return pe(gi,{elTag:"th",elClasses:d,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":c.isDisabled?void 0:SN(i)},a.extraDataAttrs),renderProps:f,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:zO,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},p=>pe("div",{className:"fc-scrollgrid-sync-inner"},!c.isDisabled&&pe(p,{elTag:"a",elAttrs:h,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}}const Ise=bn({weekday:"long"});class Ose extends Rr{render(){let{props:e}=this,{dateEnv:t,theme:n,viewApi:s,options:a}=this.context,i=Qs(new Date(2592e5),e.dow),o={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},c=t.format(i,e.dayHeaderFormat),d=Object.assign(Object.assign(Object.assign(Object.assign({date:i},o),{view:s}),e.extraRenderProps),{text:c});return pe(gi,{elTag:"th",elClasses:[BO,...FN(o,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:zO,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},u=>pe("div",{className:"fc-scrollgrid-sync-inner"},pe(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(i,Ise)}})))}}class $0 extends oi{constructor(e,t){super(e,t),this.initialNowDate=U0(t.options.now,t.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:t}=this,n=kd(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),s=t.dateEnv.startOf(n,e.unit),a=t.dateEnv.add(s,xr(1,e.unit)),i=a.valueOf()-n.valueOf();return i=Math.min(1e3*60*60*24,i),{currentState:{nowDate:s,todayRange:Uj(s)},nextState:{nowDate:a,todayRange:Uj(a)},waitMs:i}}setTimeout(){let{nextState:e,waitMs:t}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}$0.contextType=ac;function Uj(r){let e=nn(r),t=Qs(e,1);return{start:e,end:t}}class HO extends Rr{constructor(){super(...arguments),this.createDayHeaderFormatter=Vt(Fse)}render(){let{context:e}=this,{dates:t,dateProfile:n,datesRepDistinctDays:s,renderIntro:a}=this.props,i=this.createDayHeaderFormatter(e.options.dayHeaderFormat,s,t.length);return pe($0,{unit:"day"},(o,c)=>pe("tr",{role:"row"},a&&a("day"),t.map(d=>s?pe(Rse,{key:d.toISOString(),date:d,dateProfile:n,todayRange:c,colCnt:t.length,dayHeaderFormat:i}):pe(Ose,{key:d.getUTCDay(),dow:d.getUTCDay(),dayHeaderFormat:i}))))}}function Fse(r,e,t){return r||Mse(e,t)}class UO{constructor(e,t){let n=e.start,{end:s}=e,a=[],i=[],o=-1;for(;n<s;)t.isHiddenDay(n)?a.push(o+.5):(o+=1,a.push(o),i.push(n)),n=Qs(n,1);this.dates=i,this.indices=a,this.cnt=i.length}sliceRange(e){let t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(Qs(e.end,-1)),s=Math.max(0,t),a=Math.min(this.cnt-1,n);return s=Math.ceil(s),a=Math.floor(a),s<=a?{firstIndex:s,lastIndex:a,isStart:t===s,isEnd:n===a}:null}getDateDayIndex(e){let{indices:t}=this,n=Math.floor(hh(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]}}class $O{constructor(e,t){let{dates:n}=e,s,a,i;if(t){for(a=n[0].getUTCDay(),s=1;s<n.length&&n[s].getUTCDay()!==a;s+=1);i=Math.ceil(n.length/s)}else i=1,s=n.length;this.rowCnt=i,this.colCnt=s,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let n=[];for(let s=0;s<this.colCnt;s+=1)n.push(this.buildCell(t,s));e.push(n)}return e}buildCell(e,t){let n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,n=this.daySeries.sliceRange(e),s=[];if(n){let{firstIndex:a,lastIndex:i}=n,o=a;for(;o<=i;){let c=Math.floor(o/t),d=Math.min((c+1)*t,i+1);s.push({row:c,firstCol:o%t,lastCol:(d-1)%t,isStart:n.isStart&&o===a,isEnd:n.isEnd&&d-1===i}),o=d}}return s}}class VO{constructor(){this.sliceBusinessHours=Vt(this._sliceBusinessHours),this.sliceDateSelection=Vt(this._sliceDateSpan),this.sliceEventStore=Vt(this._sliceEventStore),this.sliceEventDrag=Vt(this._sliceInteraction),this.sliceEventResize=Vt(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,n,s,...a){let{eventUiBases:i}=e,o=this.sliceEventStore(e.eventStore,i,t,n,...a);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,n,i,s,...a),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,n,s,...a),fgEventSegs:o.fg,bgEventSegs:o.bg,eventDrag:this.sliceEventDrag(e.eventDrag,i,t,n,...a),eventResize:this.sliceEventResize(e.eventResize,i,t,n,...a),eventSelection:e.eventSelection}}sliceNowDate(e,t,n,s,...a){return this._sliceDateSpan({range:{start:e,end:kd(e,1)},allDay:!1},t,n,{},s,...a)}_sliceBusinessHours(e,t,n,s,...a){return e?this._sliceEventStore(eh(e,g1(t,!!n),s),{},t,n,...a).bg:[]}_sliceEventStore(e,t,n,s,...a){if(e){let i=Bj(e,t,g1(n,!!s),s);return{bg:this.sliceEventRanges(i.bg,a),fg:this.sliceEventRanges(i.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,n,s,...a){if(!e)return null;let i=Bj(e.mutatedEvents,t,g1(n,!!s),s);return{segs:this.sliceEventRanges(i.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,n,s,a,...i){if(!e)return[];let o=g1(t,!!n),c=Qu(e.range,o);if(c){e=Object.assign(Object.assign({},e),{range:c});let d=ose(e,s,a),u=this.sliceRange(e.range,...i);for(let h of u)h.eventRange=d;return u}return[]}sliceEventRanges(e,t){let n=[];for(let s of e)n.push(...this.sliceEventRange(s,t));return n}sliceEventRange(e,t){let n=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(n={start:n.start,end:Qs(n.start,1)});let s=this.sliceRange(n,...t);for(let a of s)a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd;return s}}function g1(r,e){let t=r.activeRange;return e?t:{start:kd(t.start,r.slotMinTime.milliseconds),end:kd(t.end,r.slotMaxTime.milliseconds-864e5)}}function WO(r,e,t){let{instances:n}=r.mutatedEvents;for(let s in n)if(!b2(e.validRange,n[s].range))return!1;return qO({eventDrag:r},t)}function Bse(r,e,t){return b2(e.validRange,r.range)?qO({dateSelection:r},t):!1}function qO(r,e){let t=e.getCurrentData(),n=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},r);return(e.pluginHooks.isPropsValid||zse)(n,e)}function zse(r,e,t={},n){return!(r.eventDrag&&!Hse(r,e,t,n)||r.dateSelection&&!Use(r,e,t,n))}function Hse(r,e,t,n){let s=e.getCurrentData(),a=r.eventDrag,i=a.mutatedEvents,o=i.defs,c=i.instances,d=Ly(o,a.isEvent?r.eventUiBases:{"":s.selectionConfig});n&&(d=ec(d,n));let u=Bne(r.eventStore,a.affectedEvents.instances),h=u.defs,f=u.instances,p=Ly(h,r.eventUiBases);for(let g in c){let m=c[g],v=m.range,x=d[m.defId],y=o[m.defId];if(!YO(x.constraints,v,u,r.businessHours,e))return!1;let{eventOverlap:w}=e.options,k=typeof w=="function"?w:null;for(let N in f){let A=f[N];if(TN(v,A.range)&&(p[A.defId].overlap===!1&&a.isEvent||x.overlap===!1||k&&!k(new pn(e,h[A.defId],A),new pn(e,y,m))))return!1}let S=s.eventStore;for(let N of x.allows){let A=Object.assign(Object.assign({},t),{range:m.range,allDay:y.allDay}),E=S.defs[y.defId],R=S.instances[g],O;if(E?O=new pn(e,E,R):O=new pn(e,y),!N(RN(A,e),O))return!1}}return!0}function Use(r,e,t,n){let s=r.eventStore,a=s.defs,i=s.instances,o=r.dateSelection,c=o.range,{selectionConfig:d}=e.getCurrentData();if(n&&(d=n(d)),!YO(d.constraints,c,s,r.businessHours,e))return!1;let{selectOverlap:u}=e.options,h=typeof u=="function"?u:null;for(let f in i){let p=i[f];if(TN(c,p.range)&&(d.overlap===!1||h&&!h(new pn(e,a[p.defId],p),null)))return!1}for(let f of d.allows){let p=Object.assign(Object.assign({},t),o);if(!f(RN(p,e),null))return!1}return!0}function YO(r,e,t,n,s){for(let a of r)if(!Vse($se(a,e,t,n,s),e))return!1;return!0}function $se(r,e,t,n,s){return r==="businessHours"?X5(eh(n,e,s)):typeof r=="string"?X5(w2(t,a=>a.groupId===r)):typeof r=="object"&&r?X5(eh(r,e,s)):[]}function X5(r){let{instances:e}=r,t=[];for(let n in e)t.push(e[n].range);return t}function Vse(r,e){for(let t of r)if(b2(t,e))return!0;return!1}const m1=/^(visible|hidden)$/;class Wse extends Rr{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,tc(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:n}=e,s=t&&n,a=["fc-scroller"];return t&&(n?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),pe("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:s&&-(e.overcomeLeft||0)||"",right:s&&-(e.overcomeRight||0)||"",bottom:s&&-(e.overcomeBottom||0)||"",marginLeft:!s&&-(e.overcomeLeft||0)||"",marginRight:!s&&-(e.overcomeRight||0)||"",marginBottom:!s&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(m1.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let s=0;s<n.length;s+=1)if(n[s].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(m1.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let s=0;s<n.length;s+=1)if(n[s].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return m1.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return m1.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Fl{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,n)=>{let{depths:s,currentMap:a}=this,i=!1,o=!1;t!==null?(i=n in a,a[n]=t,s[n]=(s[n]||0)+1,o=!0):(s[n]-=1,s[n]||(delete a[n],delete this.callbackMap[n],i=!0)),this.masterCallback&&(i&&this.masterCallback(null,String(n)),o&&this.masterCallback(t,String(n)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=n=>{this.handleValue(n,String(e))}),t}collect(e,t,n){return rne(this.currentMap,e,t,n)}getAll(){return jN(this.currentMap)}}function qse(r){let e=tre(r,".fc-scrollgrid-shrink"),t=0;for(let n of e)t=Math.max(t,gre(n));return Math.ceil(t)}function GO(r,e){return r.liquid&&e.liquid}function Yse(r,e){return e.maxHeight!=null||GO(r,e)}function Gse(r,e,t,n){let{expandRows:s}=t;return typeof e.content=="function"?e.content(t):pe("table",{role:"presentation",className:[e.tableClassName,r.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:s?t.clientHeight:""}},t.tableColGroupNode,pe(n?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function Xse(r,e){return wd(r,e,al)}function Zse(r,e){let t=[];for(let n of r){let s=n.span||1;for(let a=0;a<s;a+=1)t.push(pe("col",{style:{width:n.width==="shrink"?Jse(e):n.width||"",minWidth:n.minWidth||""}}))}return pe("colgroup",{},...t)}function Jse(r){return r??4}function Kse(r){for(let e of r)if(e.width==="shrink")return!0;return!1}function Qse(r,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return r&&t.push("fc-scrollgrid-liquid"),t}function eae(r,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${r.type}`,r.className];return e&&r.liquid&&r.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),r.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function aC(r){return pe("div",{className:"fc-scrollgrid-sticky-shim",style:{width:r.clientWidth,minWidth:r.tableMinWidth}})}function My(r){let{stickyHeaderDates:e}=r;return(e==null||e==="auto")&&(e=r.height==="auto"||r.viewHeight==="auto"),e}function XO(r){let{stickyFooterScrollbar:e}=r;return(e==null||e==="auto")&&(e=r.height==="auto"||r.viewHeight==="auto"),e}class $N extends Rr{constructor(){super(...arguments),this.processCols=Vt(e=>e,Xse),this.renderMicroColGroup=Vt(Zse),this.scrollerRefs=new Fl,this.scrollerElRefs=new Fl(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:n}=this,s=e.sections||[],a=this.processCols(e.cols),i=this.renderMicroColGroup(a,t.shrinkWidth),o=Qse(e.liquid,n);e.collapsibleWidth&&o.push("fc-scrollgrid-collapsible");let c=s.length,d=0,u,h=[],f=[],p=[];for(;d<c&&(u=s[d]).type==="header";)h.push(this.renderSection(u,i,!0)),d+=1;for(;d<c&&(u=s[d]).type==="body";)f.push(this.renderSection(u,i,!1)),d+=1;for(;d<c&&(u=s[d]).type==="footer";)p.push(this.renderSection(u,i,!0)),d+=1;let g=!DO();const m={role:"rowgroup"};return pe("table",{role:"grid",className:o.join(" "),style:{height:e.height}},!!(!g&&h.length)&&pe("thead",m,...h),!!(!g&&f.length)&&pe("tbody",m,...f),!!(!g&&p.length)&&pe("tfoot",m,...p),g&&pe("tbody",m,...h,...f,...p))}renderSection(e,t,n){return"outerContent"in e?pe(cn,{key:e.key},e.outerContent):pe("tr",{key:e.key,role:"presentation",className:eae(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,n))}renderChunkTd(e,t,n,s){if("outerContent"in n)return n.outerContent;let{props:a}=this,{forceYScrollbars:i,scrollerClientWidths:o,scrollerClientHeights:c}=this.state,d=Yse(a,e),u=GO(a,e),h=a.liquid?i?"scroll":d?"auto":"hidden":"visible",f=e.key,p=Gse(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&o[f]!==void 0?o[f]:null,clientHeight:c[f]!==void 0?c[f]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},s);return pe(s?"th":"td",{ref:n.elRef,role:"presentation"},pe("div",{className:`fc-scroller-harness${u?" fc-scroller-harness-liquid":""}`},pe(Wse,{ref:this.scrollerRefs.createRef(f),elRef:this.scrollerElRefs.createRef(f),overflowY:h,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},p)))}_handleScrollerEl(e,t){let n=tae(this.props.sections,t);n&&tc(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return Kse(this.props.cols)?qse(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=Sse(),{scrollerRefs:t,scrollerElRefs:n}=this,s=!1,a={},i={};for(let o in t.currentMap){let c=t.currentMap[o];if(c&&c.needsYScrolling()){s=!0;break}}for(let o of this.props.sections){let c=o.key,d=n.currentMap[c];if(d){let u=d.parentNode;a[c]=Math.floor(u.getBoundingClientRect().width-(s?e.y:0)),i[c]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:s,scrollerClientWidths:a,scrollerClientHeights:i}}}$N.addStateEquality({scrollerClientWidths:al,scrollerClientHeights:al});function tae(r,e){for(let t of r)if(t.key===e)return t;return null}class VN extends Rr{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&zj(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:n}=t,{seg:s}=e,{eventRange:a}=s,{ui:i}=a,o={event:new pn(t,a.def,a.instance),view:t.viewApi,timeText:e.timeText,textColor:i.textColor,backgroundColor:i.backgroundColor,borderColor:i.borderColor,isDraggable:!e.disableDragging&&Jne(s,t),isStartResizable:!e.disableResizing&&Kne(s,t),isEndResizable:!e.disableResizing&&Qne(s),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!s.isStart,isEnd:!!s.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return pe(gi,Object.assign({},e,{elRef:this.handleEl,elClasses:[...ese(o),...s.eventRange.ui.classNames,...e.elClasses||[]],renderProps:o,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&zj(this.el,this.props.seg)}}class ZO extends Rr{render(){let{props:e,context:t}=this,{options:n}=t,{seg:s}=e,{ui:a}=s.eventRange,i=n.eventTimeFormat||e.defaultTimeFormat,o=jO(s,i,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return pe(VN,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:TO(s,t),defaultGenerator:rae,timeText:o}),(c,d)=>pe(cn,null,pe(c,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:d.textColor}}),!!d.isStartResizable&&pe("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!d.isEndResizable&&pe("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function rae(r){return pe("div",{className:"fc-event-main-frame"},r.timeText&&pe("div",{className:"fc-event-time"},r.timeText),pe("div",{className:"fc-event-title-container"},pe("div",{className:"fc-event-title fc-sticky"},r.event.title||pe(cn,null," "))))}const WN=r=>pe(ac.Consumer,null,e=>{let{options:t}=e,n={isAxis:r.isAxis,date:e.dateEnv.toDate(r.date),view:e.viewApi};return pe(gi,Object.assign({},r,{elTag:r.elTag||"div",renderProps:n,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount}))}),nae=bn({day:"numeric"});class qN extends Rr{constructor(){super(...arguments),this.refineRenderProps=xv(sae)}render(){let{props:e,context:t}=this,{options:n}=t,s=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:n.monthStartFormat});return pe(gi,Object.assign({},e,{elClasses:[...FN(s,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),s.isDisabled?{}:{"data-date":SN(e.date)}),renderProps:s,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:s.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount}))}}function YN(r){return!!(r.dayCellContent||Qk("dayCellContent",r))}function sae(r){let{date:e,dateEnv:t,dateProfile:n,isMonthStart:s}=r,a=RO(e,r.todayRange,null,n),i=r.showDayNumber?t.format(e,s?r.monthStartFormat:nae):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:r.viewApi},a),{isMonthStart:s,dayNumberText:i}),r.extraRenderProps)}class JO extends Rr{render(){let{props:e}=this,{seg:t}=e;return pe(VN,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:aae,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function aae(r){let{title:e}=r.event;return e&&pe("div",{className:"fc-event-title"},r.event.title)}function KO(r){return pe("div",{className:`fc-${r}`})}const QO=r=>pe(ac.Consumer,null,e=>{let{dateEnv:t,options:n}=e,{date:s}=r,a=n.weekNumberFormat||r.defaultFormat,i=t.computeWeekNumber(s),o=t.format(s,a);return pe(gi,Object.assign({},r,{renderProps:{num:i,text:o,date:s},generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:iae,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount}))});function iae(r){return r.text}const Z5=10;class oae extends Rr{constructor(){super(...arguments),this.state={titleId:v2()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&tc(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=tO(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:n,state:s}=this,a=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return Hte(pe("div",Object.assign({},n.extraAttrs,{id:n.id,className:a.join(" "),"aria-labelledby":s.titleId,ref:this.handleRootEl}),pe("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},pe("span",{className:"fc-popover-title",id:s.titleId},n.title),pe("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),pe("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:n}=this.props,{rootEl:s}=this,a=jse(t);if(a){let i=s.getBoundingClientRect(),o=n?Zs(t,".fc-scrollgrid").getBoundingClientRect().top:a.top,c=e?a.right-i.width:a.left;o=Math.max(o,Z5),c=Math.min(c,document.documentElement.clientWidth-Z5-i.width),c=Math.max(c,Z5);let d=s.offsetParent.getBoundingClientRect();fm(s,{top:o-d.top,left:c-d.left})}}}class lae extends cl{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:n}=this,{startDate:s,todayRange:a,dateProfile:i}=n,o=t.format(s,e.dayPopoverFormat);return pe(qN,{elRef:this.handleRootEl,date:s,dateProfile:i,todayRange:a},(c,d,u)=>pe(oae,{elRef:u.ref,id:n.id,title:o,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},YN(e)&&pe(c,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,t,n,s){let{rootEl:a,props:i}=this;return e>=0&&e<n&&t>=0&&t<s?{dateProfile:i.dateProfile,dateSpan:Object.assign({allDay:!i.forceTimed,range:{start:i.startDate,end:i.endDate}},i.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:n,bottom:s},layer:1}:null}}class eF extends Rr{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:v2()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&tc(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:n}=this,{moreLinkClick:s}=n.options,a=$j(t).start;function i(o){let{def:c,instance:d,range:u}=o.eventRange;return{event:new pn(n,c,d),start:n.dateEnv.toDate(u.start),end:n.dateEnv.toDate(u.end),isStart:o.isStart,isEnd:o.isEnd}}typeof s=="function"&&(s=s({date:a,allDay:!!t.allDayDate,allSegs:t.allSegs.map(i),hiddenSegs:t.hiddenSegs.map(i),jsEvent:e,view:n.viewApi})),!s||s==="popover"?this.setState({isPopoverOpen:!0}):typeof s=="string"&&n.calendarApi.zoomTo(a,s)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return pe(ac.Consumer,null,n=>{let{viewApi:s,options:a,calendarApi:i}=n,{moreLinkText:o}=a,{moreCnt:c}=e,d=$j(e),u=typeof o=="function"?o.call(i,c):`+${c} ${o}`,h=pm(a.moreLinkHint,[c],u),f={num:c,shortText:`+${c}`,text:u,view:s};return pe(cn,null,!!e.moreCnt&&pe(gi,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),nO(this.handleClick)),{title:h,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:f,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||cae,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),t.isPopoverOpen&&pe(lae,{id:t.popoverId,startDate:d.start,endDate:d.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Zs(this.linkEl,".fc-view-harness"))}}function cae(r){return r.text}function $j(r){if(r.allDayDate)return{start:r.allDayDate,end:Qs(r.allDayDate,1)};let{hiddenSegs:e}=r;return{start:tF(e),end:uae(e)}}function tF(r){return r.reduce(dae).eventRange.range.start}function dae(r,e){return r.eventRange.range.start<e.eventRange.range.start?r:e}function uae(r){return r.reduce(hae).eventRange.range.end}function hae(r,e){return r.eventRange.range.end>e.eventRange.range.end?r:e}class fae{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class pae extends fae{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let n=!1;e.isActive?(t.set(e.id,e),n=!0):t.has(e.id)&&(t.delete(e.id),n=!0),n&&this.set(t)}}const gae=[],rF={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},nF=Object.assign(Object.assign({},rF),{buttonHints:{prev:"Previous $0",next:"Next $0",today(r,e){return e==="day"?"Today":`This ${r}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(r){return`Show ${r} more event${r===1?"":"s"}`}});function mae(r){let e=r.length>0?r[0].code:"en",t=gae.concat(r),n={en:nF};for(let s of t)n[s.code]=s;return{map:n,defaultCode:e}}function sF(r,e){return typeof r=="object"&&!Array.isArray(r)?aF(r.code,[r.code],r):xae(r,e)}function xae(r,e){let t=[].concat(r||[]),n=vae(t,e)||nF;return aF(r,t,n)}function vae(r,e){for(let t=0;t<r.length;t+=1){let n=r[t].toLocaleLowerCase().split("-");for(let s=n.length;s>0;s-=1){let a=n.slice(0,s).join("-");if(e[a])return e[a]}}return null}function aF(r,e,t){let n=_N([rF,t],["buttonText"]);delete n.code;let{week:s}=n;return delete n.week,{codeArg:r,codes:e,week:s,simpleNumberFormat:new Intl.NumberFormat(r),options:n}}function ic(r){return{id:uh(),name:r.name,premiumReleaseDate:r.premiumReleaseDate?new Date(r.premiumReleaseDate):void 0,deps:r.deps||[],reducers:r.reducers||[],isLoadingFuncs:r.isLoadingFuncs||[],contextInit:[].concat(r.contextInit||[]),eventRefiners:r.eventRefiners||{},eventDefMemberAdders:r.eventDefMemberAdders||[],eventSourceRefiners:r.eventSourceRefiners||{},isDraggableTransformers:r.isDraggableTransformers||[],eventDragMutationMassagers:r.eventDragMutationMassagers||[],eventDefMutationAppliers:r.eventDefMutationAppliers||[],dateSelectionTransformers:r.dateSelectionTransformers||[],datePointTransforms:r.datePointTransforms||[],dateSpanTransforms:r.dateSpanTransforms||[],views:r.views||{},viewPropsTransformers:r.viewPropsTransformers||[],isPropsValid:r.isPropsValid||null,externalDefTransforms:r.externalDefTransforms||[],viewContainerAppends:r.viewContainerAppends||[],eventDropTransformers:r.eventDropTransformers||[],componentInteractions:r.componentInteractions||[],calendarInteractions:r.calendarInteractions||[],themeClasses:r.themeClasses||{},eventSourceDefs:r.eventSourceDefs||[],cmdFormatter:r.cmdFormatter,recurringTypes:r.recurringTypes||[],namedTimeZonedImpl:r.namedTimeZonedImpl,initialView:r.initialView||"",elementDraggingImpl:r.elementDraggingImpl,optionChangeHandlers:r.optionChangeHandlers||{},scrollGridImpl:r.scrollGridImpl||null,listenerRefiners:r.listenerRefiners||{},optionRefiners:r.optionRefiners||{},propSetHandlers:r.propSetHandlers||{}}}function yae(r,e){let t={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(a){for(let i of a){const o=i.name,c=t[o];c===void 0?(t[o]=i.id,s(i.deps),n=wae(n,i)):c!==i.id&&console.warn(`Duplicate plugin '${o}'`)}}return r&&s(r),s(e),n}function bae(){let r=[],e=[],t;return(n,s)=>((!t||!wd(n,r)||!wd(s,e))&&(t=yae(n,s)),r=n,e=s,t)}function wae(r,e){return{premiumReleaseDate:kae(r.premiumReleaseDate,e.premiumReleaseDate),reducers:r.reducers.concat(e.reducers),isLoadingFuncs:r.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:r.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},r.eventRefiners),e.eventRefiners),eventDefMemberAdders:r.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},r.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:r.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:r.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:r.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:r.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:r.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:r.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},r.views),e.views),viewPropsTransformers:r.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||r.isPropsValid,externalDefTransforms:r.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:r.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:r.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:r.calendarInteractions.concat(e.calendarInteractions),componentInteractions:r.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},r.themeClasses),e.themeClasses),eventSourceDefs:r.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||r.cmdFormatter,recurringTypes:r.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||r.namedTimeZonedImpl,initialView:r.initialView||e.initialView,elementDraggingImpl:r.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},r.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||r.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},r.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},r.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},r.propSetHandlers),e.propSetHandlers)}}function kae(r,e){return r===void 0?e:e===void 0?r:new Date(Math.max(r.valueOf(),e.valueOf()))}class Pd extends H0{}Pd.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Pd.prototype.baseIconClass="fc-icon";Pd.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Pd.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Pd.prototype.iconOverrideOption="buttonIcons";Pd.prototype.iconOverrideCustomButtonOption="icon";Pd.prototype.iconOverridePrefix="fc-icon-";function Cae(r,e){let t={},n;for(n in r)iC(n,t,r,e);for(n in e)iC(n,t,r,e);return t}function iC(r,e,t,n){if(e[r])return e[r];let s=Sae(r,e,t,n);return s&&(e[r]=s),s}function Sae(r,e,t,n){let s=t[r],a=n[r],i=u=>s&&s[u]!==null?s[u]:a&&a[u]!==null?a[u]:null,o=i("component"),c=i("superType"),d=null;if(c){if(c===r)throw new Error("Can't have a custom view type that references itself");d=iC(c,e,t,n)}return!o&&d&&(o=d.component),o?{type:r,component:o,defaults:Object.assign(Object.assign({},d?d.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},d?d.overrides:{}),a?a.rawOptions:{})}:null}function Vj(r){return ec(r,Nae)}function Nae(r){let e=typeof r=="function"?{component:r}:r,{component:t}=e;return e.content?t=Wj(e):t&&!(t.prototype instanceof Rr)&&(t=Wj(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function Wj(r){return e=>pe(ac.Consumer,null,t=>pe(gi,{elTag:"div",elClasses:hO(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:r.content,classNameGenerator:r.classNames,didMount:r.didMount,willUnmount:r.willUnmount}))}function Eae(r,e,t,n){let s=Vj(r),a=Vj(e.views),i=Cae(s,a);return ec(i,o=>_ae(o,a,e,t,n))}function _ae(r,e,t,n,s){let a=r.overrides.duration||r.defaults.duration||n.duration||t.duration,i=null,o="",c="",d={};if(a&&(i=jae(a),i)){let f=Jk(i);o=f.unit,f.value===1&&(c=o,d=e[o]?e[o].rawOptions:{})}let u=f=>{let p=f.buttonText||{},g=r.defaults.buttonTextKey;return g!=null&&p[g]!=null?p[g]:p[r.type]!=null?p[r.type]:p[c]!=null?p[c]:null},h=f=>{let p=f.buttonHints||{},g=r.defaults.buttonTextKey;return g!=null&&p[g]!=null?p[g]:p[r.type]!=null?p[r.type]:p[c]!=null?p[c]:null};return{type:r.type,component:r.component,duration:i,durationUnit:o,singleUnit:c,optionDefaults:r.defaults,optionOverrides:Object.assign(Object.assign({},d),r.overrides),buttonTextOverride:u(n)||u(t)||r.overrides.buttonText,buttonTextDefault:u(s)||r.defaults.buttonText||u(gm)||r.type,buttonTitleOverride:h(n)||h(t)||r.overrides.buttonHint,buttonTitleDefault:h(s)||r.defaults.buttonHint||h(gm)}}let qj={};function jae(r){let e=JSON.stringify(r),t=qj[e];return t===void 0&&(t=xr(r),qj[e]=t),t}function Aae(r,e){switch(e.type){case"CHANGE_VIEW_TYPE":r=e.viewType}return r}function Tae(r,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},r),{[e.optionName]:e.rawOptionValue});default:return r}}function Pae(r,e,t,n){let s;switch(e.type){case"CHANGE_VIEW_TYPE":return n.build(e.dateMarker||t);case"CHANGE_DATE":return n.build(e.dateMarker);case"PREV":if(s=n.buildPrev(r,t),s.isValid)return s;break;case"NEXT":if(s=n.buildNext(r,t),s.isValid)return s;break}return r}function Lae(r,e,t){let n=e?e.activeRange:null;return oF({},Bae(r,t),n,t)}function Dae(r,e,t,n){let s=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return oF(r,e.sources,s,n);case"REMOVE_EVENT_SOURCE":return Rae(r,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?lF(r,s,n):r;case"FETCH_EVENT_SOURCES":return GN(r,e.sourceIds?oO(e.sourceIds):cF(r,n),s,e.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Fae(r,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return r}}function Mae(r,e,t){let n=e?e.activeRange:null;return GN(r,cF(r,t),n,!0,t)}function iF(r){for(let e in r)if(r[e].isFetching)return!0;return!1}function oF(r,e,t,n){let s={};for(let a of e)s[a.sourceId]=a;return t&&(s=lF(s,t,n)),Object.assign(Object.assign({},r),s)}function Rae(r,e){return Ku(r,t=>t.sourceId!==e)}function lF(r,e,t){return GN(r,Ku(r,n=>Iae(n,e,t)),e,!1,t)}function Iae(r,e,t){return dF(r,t)?!t.options.lazyFetching||!r.fetchRange||r.isFetching||e.start<r.fetchRange.start||e.end>r.fetchRange.end:!r.latestFetchId}function GN(r,e,t,n,s){let a={};for(let i in r){let o=r[i];e[i]?a[i]=Oae(o,t,n,s):a[i]=o}return a}function Oae(r,e,t,n){let{options:s,calendarApi:a}=n,i=n.pluginHooks.eventSourceDefs[r.sourceDefId],o=uh();return i.fetch({eventSource:r,range:e,isRefetch:t,context:n},c=>{let{rawEvents:d}=c;s.eventSourceSuccess&&(d=s.eventSourceSuccess.call(a,d,c.response)||d),r.success&&(d=r.success.call(a,d,c.response)||d),n.dispatch({type:"RECEIVE_EVENTS",sourceId:r.sourceId,fetchId:o,fetchRange:e,rawEvents:d})},c=>{let d=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(a,c),d=!0),r.failure&&(r.failure(c),d=!0),d||console.warn(c.message,c),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:r.sourceId,fetchId:o,fetchRange:e,error:c})}),Object.assign(Object.assign({},r),{isFetching:!0,latestFetchId:o})}function Fae(r,e,t,n){let s=r[e];return s&&t===s.latestFetchId?Object.assign(Object.assign({},r),{[e]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:n})}):r}function cF(r,e){return Ku(r,t=>dF(t,e))}function Bae(r,e){let t=wO(e),n=[].concat(r.eventSources||[]),s=[];r.initialEvents&&n.unshift(r.initialEvents),r.events&&n.unshift(r.events);for(let a of n){let i=bO(a,e,t);i&&s.push(i)}return s}function dF(r,e){return!e.pluginHooks.eventSourceDefs[r.sourceDefId].ignoreRange}function zae(r,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return r}}function Hae(r,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return r}}function Uae(r,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return r}}function $ae(r,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return r}}function Vae(r,e,t,n,s){let a=r.headerToolbar?Yj(r.headerToolbar,r,e,t,n,s):null,i=r.footerToolbar?Yj(r.footerToolbar,r,e,t,n,s):null;return{header:a,footer:i}}function Yj(r,e,t,n,s,a){let i={},o=[],c=!1;for(let d in r){let u=r[d],h=Wae(u,e,t,n,s,a);i[d]=h.widgets,o.push(...h.viewsWithButtons),c=c||h.hasTitle}return{sectionWidgets:i,viewsWithButtons:o,hasTitle:c}}function Wae(r,e,t,n,s,a){let i=e.direction==="rtl",o=e.customButtons||{},c=t.buttonText||{},d=e.buttonText||{},u=t.buttonHints||{},h=e.buttonHints||{},f=r?r.split(" "):[],p=[],g=!1;return{widgets:f.map(v=>v.split(",").map(x=>{if(x==="title")return g=!0,{buttonName:x};let y,w,k,S,N,A;if(y=o[x])k=E=>{y.click&&y.click.call(E.target,E,E.target)},(S=n.getCustomButtonIconClass(y))||(S=n.getIconClass(x,i))||(N=y.text),A=y.hint||y.text;else if(w=s[x]){p.push(x),k=()=>{a.changeView(x)},(N=w.buttonTextOverride)||(S=n.getIconClass(x,i))||(N=w.buttonTextDefault);let E=w.buttonTextOverride||w.buttonTextDefault;A=pm(w.buttonTitleOverride||w.buttonTitleDefault||e.viewHint,[E,x],E)}else if(a[x])if(k=()=>{a[x]()},(N=c[x])||(S=n.getIconClass(x,i))||(N=d[x]),x==="prevYear"||x==="nextYear"){let E=x==="prevYear"?"prev":"next";A=pm(u[E]||h[E],[d.year||"year","year"],d[x])}else A=E=>pm(u[x]||h[x],[d[E]||E,E],d[x]);return{buttonName:x,buttonClick:k,buttonIcon:S,buttonText:N,buttonHint:A}})),viewsWithButtons:p,hasTitle:g}}class qae{constructor(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let Yae={ignoreRange:!0,parseMeta(r){return Array.isArray(r.events)?r.events:null},fetch(r,e){e({rawEvents:r.eventSource.meta})}};const Gae=ic({name:"array-event-source",eventSourceDefs:[Yae]});let Xae={parseMeta(r){return typeof r.events=="function"?r.events:null},fetch(r,e,t){const{dateEnv:n}=r.context,s=r.eventSource.meta;lse(s.bind(null,PO(r.range,n)),a=>e({rawEvents:a}),t)}};const Zae=ic({name:"func-event-source",eventSourceDefs:[Xae]}),Jae={method:String,extraParams:Ie,startParam:String,endParam:String,timeZoneParam:String};let Kae={parseMeta(r){return r.url&&(r.format==="json"||!r.format)?{url:r.url,format:"json",method:(r.method||"GET").toUpperCase(),extraParams:r.extraParams,startParam:r.startParam,endParam:r.endParam,timeZoneParam:r.timeZoneParam}:null},fetch(r,e,t){const{meta:n}=r.eventSource,s=eie(n,r.range,r.context);cse(n.method,n.url,s).then(([a,i])=>{e({rawEvents:a,response:i})},t)}};const Qae=ic({name:"json-event-source",eventSourceRefiners:Jae,eventSourceDefs:[Kae]});function eie(r,e,t){let{dateEnv:n,options:s}=t,a,i,o,c,d={};return a=r.startParam,a==null&&(a=s.startParam),i=r.endParam,i==null&&(i=s.endParam),o=r.timeZoneParam,o==null&&(o=s.timeZoneParam),typeof r.extraParams=="function"?c=r.extraParams():c=r.extraParams||{},Object.assign(d,c),d[a]=n.formatIso(e.start),d[i]=n.formatIso(e.end),n.timeZone!=="local"&&(d[o]=n.timeZone),d}const tie={daysOfWeek:Ie,startTime:xr,endTime:xr,duration:xr,startRecur:Ie,endRecur:Ie};let rie={parse(r,e){if(r.daysOfWeek||r.startTime||r.endTime||r.startRecur||r.endRecur){let t={daysOfWeek:r.daysOfWeek||null,startTime:r.startTime||null,endTime:r.endTime||null,startRecur:r.startRecur?e.createMarker(r.startRecur):null,endRecur:r.endRecur?e.createMarker(r.endRecur):null},n;return r.duration&&(n=r.duration),!n&&r.startTime&&r.endTime&&(n=yre(r.endTime,r.startTime)),{allDayGuess:!r.startTime&&!r.endTime,duration:n,typeData:t}}return null},expand(r,e,t){let n=Qu(e,{start:r.startRecur,end:r.endRecur});return n?sie(r.daysOfWeek,r.startTime,n,t):[]}};const nie=ic({name:"simple-recurring-event",recurringTypes:[rie],eventRefiners:tie});function sie(r,e,t,n){let s=r?oO(r):null,a=nn(t.start),i=t.end,o=[];for(;a<i;){let c;(!s||s[a.getUTCDay()])&&(e?c=n.add(a,e):c=a,o.push(c)),a=Qs(a,1)}return o}const aie=ic({name:"change-handler",optionChangeHandlers:{events(r,e){Gj([r],e)},eventSources:Gj}});function Gj(r,e){let t=jN(e.getCurrentData().eventSources);if(t.length===1&&r.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(r[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:r[0]});return}let n=[];for(let s of r){let a=!1;for(let i=0;i<t.length;i+=1)if(t[i]._raw===s){t.splice(i,1),a=!0;break}a||n.push(s)}for(let s of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:s.sourceId});for(let s of n)e.calendarApi.addEventSource(s)}function iie(r,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},PO(r.activeRange,e.dateEnv)),{view:e.viewApi}))}function oie(r,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",Ru(r,e))}const lie=[Gae,Zae,Qae,nie,aie,ic({name:"misc",isLoadingFuncs:[r=>iF(r.eventSources)],propSetHandlers:{dateProfile:iie,eventStore:oie}})];class cie{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new yN(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],n;for(;n=e.shift();)this.runTask(n),t.push(n);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function die(r,e,t){let n;return/^(year|month)$/.test(r.currentRangeUnit)?n=r.currentRange:n=r.activeRange,t.formatRange(n.start,n.end,bn(e.titleFormat||uie(r)),{isEndExclusive:r.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function uie(r){let{currentRangeUnit:e}=r;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=Sy(r.currentRange.start,r.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class hie{constructor(e){this.computeCurrentViewData=Vt(this._computeCurrentViewData),this.organizeRawLocales=Vt(mae),this.buildLocale=Vt(sF),this.buildPluginHooks=bae(),this.buildDateEnv=Vt(fie),this.buildTheme=Vt(pie),this.parseToolbars=Vt(Vae),this.buildViewSpecs=Vt(Eae),this.buildDateProfileGenerator=xv(gie),this.buildViewApi=Vt(mie),this.buildViewUiProps=xv(yie),this.buildEventUiBySource=Vt(xie,al),this.buildEventUiBases=Vt(vie),this.parseContextBusinessHours=xv(bie),this.buildTitle=Vt(die),this.emitter=new k2,this.actionRunner=new cie(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=f=>{this.actionRunner.request(f)},this.props=e,this.actionRunner.pause();let t={},n=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),s=n.calendarOptions.initialView||n.pluginHooks.initialView,a=this.computeCurrentViewData(s,n,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);let i=kne(n.calendarOptions,n.dateEnv),o=a.dateProfileGenerator.build(i);$l(o.activeRange,i)||(i=o.currentRange.start);let c={dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let f of n.pluginHooks.contextInit)f(c);let d=Lae(n.calendarOptions,o,c),u={dynamicOptionOverrides:t,currentViewType:s,currentDate:i,dateProfile:o,businessHours:this.parseContextBusinessHours(c),eventSources:d,eventUiBases:{},eventStore:li(),renderableEventStore:li(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(c).selectionConfig},h=Object.assign(Object.assign({},c),u);for(let f of n.pluginHooks.reducers)Object.assign(u,f(null,null,h));J5(u,c)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:n}=this;t===void 0?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:n,emitter:s}=this,a=Tae(n.dynamicOptionOverrides,e),i=this.computeOptionsData(t.optionOverrides,a,t.calendarApi),o=Aae(n.currentViewType,e),c=this.computeCurrentViewData(o,i,t.optionOverrides,a);t.calendarApi.currentDataManager=this,s.setThisContext(t.calendarApi),s.setOptions(c.options);let d={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:s,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:h}=n;this.data&&this.data.dateProfileGenerator!==c.dateProfileGenerator&&(h=c.dateProfileGenerator.build(u)),u=wne(u,e),h=Pae(h,e,u,c.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!$l(h.currentRange,u))&&(u=h.currentRange.start);let f=Dae(n.eventSources,e,h,d),p=Rne(n.eventStore,e,f,h,d),m=iF(f)&&!c.options.progressiveEventRendering&&n.renderableEventStore||p,{eventUiSingleBase:v,selectionConfig:x}=this.buildViewUiProps(d),y=this.buildEventUiBySource(f),w=this.buildEventUiBases(m.defs,v,y),k={dynamicOptionOverrides:a,currentViewType:o,currentDate:u,dateProfile:h,eventSources:f,eventStore:p,renderableEventStore:m,selectionConfig:x,eventUiBases:w,businessHours:this.parseContextBusinessHours(d),dateSelection:zae(n.dateSelection,e),eventSelection:Hae(n.eventSelection,e),eventDrag:Uae(n.eventDrag,e),eventResize:$ae(n.eventResize,e)},S=Object.assign(Object.assign({},d),k);for(let E of i.pluginHooks.reducers)Object.assign(k,E(n,e,S));let N=J5(n,d),A=J5(k,d);!N&&A?s.trigger("loading",!0):N&&!A&&s.trigger("loading",!1),this.state=k,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,n=this.data,s=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(t.currentViewType,s,e.optionOverrides,t.dynamicOptionOverrides),i=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,a.options,s.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s),a),t),o=s.pluginHooks.optionChangeHandlers,c=n&&n.calendarOptions,d=s.calendarOptions;if(c&&c!==d){c.timeZone!==d.timeZone&&(t.eventSources=i.eventSources=Mae(i.eventSources,t.dateProfile,i),t.eventStore=i.eventStore=Oj(i.eventStore,n.dateEnv,i.dateEnv),t.renderableEventStore=i.renderableEventStore=Oj(i.renderableEventStore,n.dateEnv,i.dateEnv));for(let u in o)(this.optionsForHandling.indexOf(u)!==-1||c[u]!==d[u])&&o[u](d[u],i)}this.optionsForHandling=[],e.onData&&e.onData(i)}computeOptionsData(e,t,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:s,pluginHooks:a,localeDefaults:i,availableLocaleData:o,extra:c}=this.processRawCalendarOptions(e,t);Xj(c);let d=this.buildDateEnv(s.timeZone,s.locale,s.weekNumberCalculation,s.firstDay,s.weekText,a,o,s.defaultRangeSeparator),u=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,i),h=this.buildTheme(s,a),f=this.parseToolbars(s,this.stableOptionOverrides,h,u,n);return this.stableCalendarOptionsData={calendarOptions:s,pluginHooks:a,dateEnv:d,viewSpecs:u,theme:h,toolbarConfig:f,localeDefaults:i,availableRawLocales:o.map}}processRawCalendarOptions(e,t){let{locales:n,locale:s}=U5([gm,e,t]),a=this.organizeRawLocales(n),i=a.map,o=this.buildLocale(s||a.defaultCode,i).options,c=this.buildPluginHooks(e.plugins||[],lie),d=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pj),Lj),Dj),c.listenerRefiners),c.optionRefiners),u={},h=U5([gm,o,e,t]),f={},p=this.currentCalendarOptionsInput,g=this.currentCalendarOptionsRefined,m=!1;for(let v in h)this.optionsForRefining.indexOf(v)===-1&&(h[v]===p[v]||ru[v]&&v in p&&ru[v](p[v],h[v]))?f[v]=g[v]:d[v]?(f[v]=d[v](h[v]),m=!0):u[v]=p[v];return m&&(this.currentCalendarOptionsInput=h,this.currentCalendarOptionsRefined=f,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:c,availableLocaleData:a,localeDefaults:o,extra:u}}_computeCurrentViewData(e,t,n,s){let a=t.viewSpecs[e];if(!a)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:i,extra:o}=this.processRawViewOptions(a,t.pluginHooks,t.localeDefaults,n,s);Xj(o);let c=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,showNonCurrentDates:i.showNonCurrentDates,dayCount:i.dayCount,dateAlignment:i.dateAlignment,dateIncrement:i.dateIncrement,hiddenDays:i.hiddenDays,weekends:i.weekends,nowInput:i.now,validRangeInput:i.validRange,visibleRangeInput:i.visibleRange,fixedWeekCount:i.fixedWeekCount}),d=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:a,options:i,dateProfileGenerator:c,viewApi:d}}processRawViewOptions(e,t,n,s,a){let i=U5([gm,e.optionDefaults,n,s,e.optionOverrides,a]),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pj),Lj),Dj),Kre),t.listenerRefiners),t.optionRefiners),c={},d=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,h=!1,f={};for(let p in i)i[p]===d[p]||ru[p]&&ru[p](i[p],d[p])?c[p]=u[p]:(i[p]===this.currentCalendarOptionsInput[p]||ru[p]&&ru[p](i[p],this.currentCalendarOptionsInput[p])?p in this.currentCalendarOptionsRefined&&(c[p]=this.currentCalendarOptionsRefined[p]):o[p]?c[p]=o[p](i[p]):f[p]=i[p],h=!0);return h&&(this.currentViewOptionsInput=i,this.currentViewOptionsRefined=c),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:f}}}function fie(r,e,t,n,s,a,i,o){let c=sF(e||i.defaultCode,i.map);return new lne({calendarSystem:"gregory",timeZone:r,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:c,weekNumberCalculation:t,firstDay:n,weekText:s,cmdFormatter:a.cmdFormatter,defaultSeparator:o})}function pie(r,e){let t=e.themeClasses[r.themeSystem]||Pd;return new t(r)}function gie(r){let e=r.dateProfileGeneratorClass||gO;return new e(r)}function mie(r,e,t){return new qae(r,e,t)}function xie(r){return ec(r,e=>e.ui)}function vie(r,e,t){let n={"":e};for(let s in r){let a=r[s];a.sourceId&&t[a.sourceId]&&(n[s]=t[a.sourceId])}return n}function yie(r){let{options:e}=r;return{eventUiSingleBase:Py({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},r),selectionConfig:Py({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},r)}}function J5(r,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(r))return!0;return!1}function bie(r){return Vne(r.options.businessHours,r)}function Xj(r,e){for(let t in r)console.warn(`Unknown option '${t}'`)}class wie extends Rr{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return pe("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:n}=this.context,s=[],a=!0;for(let i of e){let{buttonName:o,buttonClick:c,buttonText:d,buttonIcon:u,buttonHint:h}=i;if(o==="title")a=!1,s.push(pe("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let f=o===t.activeButton,p=!t.isTodayEnabled&&o==="today"||!t.isPrevEnabled&&o==="prev"||!t.isNextEnabled&&o==="next",g=[`fc-${o}-button`,n.getClass("button")];f&&g.push(n.getClass("buttonActive")),s.push(pe("button",{type:"button",title:typeof h=="function"?h(t.navUnit):h,disabled:p,"aria-pressed":f,className:g.join(" "),onClick:c},d||(u?pe("span",{className:u,role:"img"}):"")))}}if(s.length>1){let i=a&&n.getClass("buttonGroup")||"";return pe("div",{className:i},...s)}return s[0]}}class Zj extends Rr{render(){let{model:e,extraClassName:t}=this.props,n=!1,s,a,i=e.sectionWidgets,o=i.center;return i.left?(n=!0,s=i.left):s=i.start,i.right?(n=!0,a=i.right):a=i.end,pe("div",{className:[t||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",s||[]),this.renderSection("center",o||[]),this.renderSection("end",a||[]))}renderSection(e,t){let{props:n}=this;return pe(wie,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class kie extends Rr{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,tc(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:n}=e,s=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",i="";return n?t.availableWidth!==null?a=t.availableWidth/n:i=`${1/n*100}%`:a=e.height||"",pe("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:s.join(" "),style:{height:a,paddingBottom:i}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class Cie extends zp{constructor(e){super(e),this.handleSegClick=(t,n)=>{let{component:s}=this,{context:a}=s,i=hp(n);if(i&&s.isValidSegDownEl(t.target)){let o=Zs(t.target,".fc-event-forced-url"),c=o?o.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:n,event:new pn(s.context,i.eventRange.def,i.eventRange.instance),jsEvent:t,view:a.viewApi}),c&&!t.defaultPrevented&&(window.location.href=c)}},this.destroy=rO(e.el,"click",".fc-event",this.handleSegClick)}}class Sie extends zp{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,n)=>{hp(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",t,n))},this.handleSegLeave=(t,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,n))},this.removeHoverListeners=sre(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,n){let{component:s}=this,{context:a}=s,i=hp(n);(!t||s.isValidSegDownEl(t.target))&&a.emitter.trigger(e,{el:n,event:new pn(a,i.eventRange.def,i.eventRange.instance),jsEvent:t,view:a.viewApi})}}class Nie extends fh{constructor(){super(...arguments),this.buildViewContext=Vt(une),this.buildViewPropTransformers=Vt(_ie),this.buildToolbarProps=Vt(Eie),this.headerRef=ha(),this.footerRef=ha(),this.interactionsStore={},this.state={viewLabelId:v2()},this.registerInteractiveComponent=(e,t)=>{let n=hse(e,t),i=[Cie,Sie].concat(this.props.pluginHooks.componentInteractions).map(o=>new o(n));this.interactionsStore[e.uid]=i,rC[e.uid]=n},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let n of t)n.destroy();delete this.interactionsStore[e.uid]}delete rC[e.uid]},this.resizeRunner=new yN(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:n}=e,s=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,U0(e.options.now,e.dateEnv),e.viewTitle),a=!1,i="",o;e.isHeightAuto||e.forPrint?i="":n.height!=null?a=!0:n.contentHeight!=null?i=n.contentHeight:o=Math.max(n.aspectRatio,.5);let c=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),d=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return pe(ac.Provider,{value:c},t.header&&pe(Zj,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:d},s)),pe(kie,{liquid:a,height:i,aspectRatio:o,labeledById:d},this.renderView(e),this.buildAppendContent()),t.footer&&pe(Zj,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},s)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(n=>new n(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let n in t)t[n](e[n],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:n}=t.pluginHooks;for(let s in n)t[s]!==e[s]&&n[s](t[s],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(n=>n(e));return pe(cn,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:n}=e,s={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(t.viewPropsTransformers);for(let o of a)Object.assign(s,o.transform(s,e));let i=n.component;return pe(i,Object.assign({},s))}}function Eie(r,e,t,n,s,a){let i=t.build(s,void 0,!1),o=t.buildPrev(e,n,!1),c=t.buildNext(e,n,!1);return{title:a,activeButton:r.type,navUnit:r.singleUnit,isTodayEnabled:i.isValid&&!$l(e.currentRange,s),isPrevEnabled:o.isValid,isNextEnabled:c.isValid}}function _ie(r){return r.map(e=>new e)}let jie=class extends fse{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;jy(()=>{n0(pe(use,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(s,a,i,o)=>(this.setClassNames(s),this.setHeight(a),pe(uO.Provider,{value:this.customContentRenderId},pe(Nie,Object.assign({isHeightAuto:i,forPrint:o},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,n0(null,this.el),this.setClassNames([]),this.setHeight(""))},Xte(e),this.el=e,this.renderRunner=new yN(this.handleRenderRequest),new hie({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){jy(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!wd(e,this.currentClassNames)){let{classList:t}=this.el;for(let n of this.currentClassNames)t.remove(n);for(let n of e)t.add(n);this.currentClassNames=e}}setHeight(e){eO(this.el,"height",e)}};const Aie=parseInt(String(ht.version).split(".")[0]),Tie=Aie<18;class uF extends b.Component{constructor(){super(...arguments),this.elRef=b.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(ht.createElement(Pie,{key:t.id,customRendering:t}));return ht.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new pae;this.handleCustomRendering=e.handle.bind(e),this.calendar=new jie(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Ui.flushSync(()=>{})});let t;e.subscribe(n=>{const s=Date.now(),a=!t;(Tie||a||this.isUpdating||this.isUnmounting||s-t<100?hF:Ui.flushSync)(()=>{this.setState({customRenderingMap:n},()=>{t=s,a?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}uF.act=hF;class Pie extends b.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,n=typeof t=="function"?t(e.renderProps):t;return Ui.createPortal(n,e.containerEl)}}function hF(r){r()}class Lie extends cl{constructor(){super(...arguments),this.headerElRef=ha()}renderSimpleLayout(e,t){let{props:n,context:s}=this,a=[],i=My(s.options);return e&&a.push({type:"header",key:"header",isSticky:i,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),pe(Ay,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},pe($N,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:a}))}renderHScrollLayout(e,t,n,s){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:i,context:o}=this,c=!i.forPrint&&My(o.options),d=!i.forPrint&&XO(o.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),d&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:aC}]}),pe(Ay,{elClasses:["fc-daygrid"],viewSpec:o.viewSpec},pe(a,{liquid:!i.isHeightAuto&&!i.forPrint,forPrint:i.forPrint,collapsibleWidth:i.forPrint,colGroups:[{cols:[{span:n,minWidth:s}]}],sections:u}))}}function x1(r,e){let t=[];for(let n=0;n<e;n+=1)t[n]=[];for(let n of r)t[n.row].push(n);return t}function v1(r,e){let t=[];for(let n=0;n<e;n+=1)t[n]=[];for(let n of r)t[n.firstCol].push(n);return t}function Jj(r,e){let t=[];if(r){for(let n=0;n<e;n+=1)t[n]={affectedInstances:r.affectedInstances,isEvent:r.isEvent,segs:[]};for(let n of r.segs)t[n.row].segs.push(n)}else for(let n=0;n<e;n+=1)t[n]=null;return t}const fF=bn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function pF(r){let{display:e}=r.eventRange.ui;return e==="list-item"||e==="auto"&&!r.eventRange.def.allDay&&r.firstCol===r.lastCol&&r.isStart&&r.isEnd}class gF extends Rr{render(){let{props:e}=this;return pe(ZO,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:fF,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class mF extends Rr{render(){let{props:e,context:t}=this,{options:n}=t,{seg:s}=e,a=n.eventTimeFormat||fF,i=jO(s,a,t,!0,e.defaultDisplayEventEnd);return pe(VN,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:TO(e.seg,t),defaultGenerator:Die,timeText:i,isResizing:!1,isDateSelecting:!1}))}}function Die(r){return pe(cn,null,pe("div",{className:"fc-daygrid-event-dot",style:{borderColor:r.borderColor||r.backgroundColor}}),r.timeText&&pe("div",{className:"fc-event-time"},r.timeText),pe("div",{className:"fc-event-title"},r.event.title||pe(cn,null," ")))}class Mie extends Rr{constructor(){super(...arguments),this.compileSegs=Vt(Rie)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return pe(eF,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let s=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return pe(cn,null,t.map(a=>{let i=a.eventRange.instance.instanceId;return pe("div",{className:"fc-daygrid-event-harness",key:i,style:{visibility:s[i]?"hidden":""}},pF(a)?pe(mF,Object.assign({seg:a,isDragging:!1,isSelected:i===e.eventSelection,defaultDisplayEventEnd:!1},cd(a,e.todayRange))):pe(gF,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:i===e.eventSelection,defaultDisplayEventEnd:!1},cd(a,e.todayRange))))}))}})}}function Rie(r){let e=[],t=[];for(let n of r)e.push(n.seg),n.isVisible||t.push(n.seg);return{allSegs:e,invisibleSegs:t}}const Iie=bn({week:"narrow"});let Oie=class extends cl{constructor(){super(...arguments),this.rootElRef=ha(),this.state={dayNumberId:v2()},this.handleRootEl=e=>{tc(this.rootElRef,e),tc(this.props.elRef,e)}}render(){let{context:e,props:t,state:n,rootElRef:s}=this,{options:a,dateEnv:i}=e,{date:o,dateProfile:c}=t;const d=t.showDayNumber&&Bie(o,c.currentRange,i);return pe(qN,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Fie,date:o,dateProfile:c,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:d,extraRenderProps:t.extraRenderProps},(u,h)=>pe("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&pe(QO,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Dy(e,o,"week"),date:o,defaultFormat:Iie}),!h.isDisabled&&(t.showDayNumber||YN(a)||t.forceDayTop)?pe("div",{className:"fc-daygrid-day-top"},pe(u,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Dy(e,o)),{id:n.dayNumberId})})):t.showDayNumber?pe("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},pe("a",{className:"fc-daygrid-day-number"}," ")):void 0,pe("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,pe("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},pe(Mie,{allDayDate:o,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:s,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),pe("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}};function Fie(r){return r.dayNumberText||pe(cn,null," ")}function Bie(r,e,t){const{start:n,end:s}=e,a=kd(s,-1),i=t.getYear(n),o=t.getMonth(n),c=t.getYear(a),d=t.getMonth(a);return!(i===c&&o===d)&&(r.valueOf()===n.valueOf()||t.getDay(r)===1&&r.valueOf()<s.valueOf())}function xF(r){return r.eventRange.instance.instanceId+":"+r.firstCol}function vF(r){return xF(r)+":"+r.lastCol}function zie(r,e,t,n,s,a,i){let o=new $ie(x=>{let y=r[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return s[y]||1});o.allowReslicing=!0,o.strictOrder=n,e===!0||t===!0?(o.maxCoord=a,o.hiddenConsumes=!0):typeof e=="number"?o.maxStackCnt=e:typeof t=="number"&&(o.maxStackCnt=t,o.hiddenConsumes=!0);let c=[],d=[];for(let x=0;x<r.length;x+=1){let y=r[x],w=vF(y);s[w]!=null?c.push({index:x,span:{start:y.firstCol,end:y.lastCol+1}}):d.push(y)}let u=o.addSegs(c),h=o.toRects(),{singleColPlacements:f,multiColPlacements:p,leftoverMargins:g}=Hie(h,r,i),m=[],v=[];for(let x of d){p[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let y=x.firstCol;y<=x.lastCol;y+=1)f[y].push({seg:Hf(x,y,y+1,i),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<i.length;x+=1)m.push(0);for(let x of u){let y=r[x.index],w=x.span;p[w.start].push({seg:Hf(y,w.start,w.end,i),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let k=w.start;k<w.end;k+=1)m[k]+=1,f[k].push({seg:Hf(y,k,k+1,i),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<i.length;x+=1)v.push(g[x]);return{singleColPlacements:f,multiColPlacements:p,moreCnts:m,moreMarginTops:v}}function Hie(r,e,t){let n=Uie(r,t.length),s=[],a=[],i=[];for(let o=0;o<t.length;o+=1){let c=n[o],d=[],u=0,h=0;for(let p of c){let g=e[p.index];d.push({seg:Hf(g,o,o+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:p.levelCoord-u}),u=p.levelCoord+p.thickness}let f=[];u=0,h=0;for(let p of c){let g=e[p.index],m=p.span.end-p.span.start>1,v=p.span.start===o;h+=p.levelCoord-u,u=p.levelCoord+p.thickness,m?(h+=p.thickness,v&&f.push({seg:Hf(g,p.span.start,p.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:p.levelCoord,marginTop:0})):v&&(f.push({seg:Hf(g,p.span.start,p.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:h}),h=0)}s.push(d),a.push(f),i.push(h)}return{singleColPlacements:s,multiColPlacements:a,leftoverMargins:i}}function Uie(r,e){let t=[];for(let n=0;n<e;n+=1)t.push([]);for(let n of r)for(let s=n.span.start;s<n.span.end;s+=1)t[s].push(n);return t}function Hf(r,e,t,n){if(r.firstCol===e&&r.lastCol===t-1)return r;let s=r.eventRange,a=s.range,i=Qu(a,{start:n[e].date,end:Qs(n[t-1].date,1)});return Object.assign(Object.assign({},r),{firstCol:e,lastCol:t-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:i},isStart:r.isStart&&i.start.valueOf()===a.start.valueOf(),isEnd:r.isEnd&&i.end.valueOf()===a.end.valueOf()})}class $ie extends FO{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:n}=this,s=a=>!this.forceHidden[Iu(a)];for(let a=0;a<n.length;a+=1)n[a]=n[a].filter(s);return t}handleInvalidInsertion(e,t,n){const{entriesByLevel:s,forceHidden:a}=this,{touchingEntry:i,touchingLevel:o,touchingLateral:c}=e;if(this.hiddenConsumes&&i){const d=Iu(i);if(!a[d])if(this.allowReslicing){const u=Object.assign(Object.assign({},i),{span:HN(i.span,t.span)}),h=Iu(u);a[h]=!0,s[o][c]=u,n.push(u),this.splitEntry(i,t,n)}else a[d]=!0,n.push(i)}super.handleInvalidInsertion(e,t,n)}}let yF=class extends cl{constructor(){super(...arguments),this.cellElRefs=new Fl,this.frameElRefs=new Fl,this.fgElRefs=new Fl,this.segHarnessRefs=new Fl,this.rootElRef=ha(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:n}=this,{options:s}=n,a=e.cells.length,i=v1(e.businessHourSegs,a),o=v1(e.bgEventSegs,a),c=v1(this.getHighlightSegs(),a),d=v1(this.getMirrorSegs(),a),{singleColPlacements:u,multiColPlacements:h,moreCnts:f,moreMarginTops:p}=zie(_O(e.fgEventSegs,s.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,s.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),g=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return pe("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((m,v)=>{let x=this.renderFgSegs(v,e.forPrint?u[v]:h[v],e.todayRange,g),y=this.renderFgSegs(v,Vie(d[v],h),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return pe(Oie,{key:m.key,elRef:this.cellElRefs.createRef(m.key),innerElRef:this.frameElRefs.createRef(m.key),dateProfile:e.dateProfile,date:m.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&v===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:m.extraRenderProps,extraDataAttrs:m.extraDataAttrs,extraClassNames:m.extraClassNames,extraDateSpan:m.extraDateSpan,moreCnt:f[v],moreMarginTop:p[v],singlePlacements:u[v],fgContentElRef:this.fgElRefs.createRef(m.key),fgContent:pe(cn,null,pe(cn,null,x),pe(cn,null,y)),bgContent:pe(cn,null,this.renderFillSegs(c[v],"highlight"),this.renderFillSegs(i[v],"non-business"),this.renderFillSegs(o[v],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let n=this.props;this.updateSizing(!al(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,n,s,a,i,o){let{context:c}=this,{eventSelection:d}=this.props,{framePositions:u}=this.state,h=this.props.cells.length===1,f=a||i||o,p=[];if(u)for(let g of t){let{seg:m}=g,{instanceId:v}=m.eventRange.instance,x=g.isVisible&&!s[v],y=g.isAbsolute,w="",k="";y&&(c.isRtl?(k=0,w=u.lefts[m.lastCol]-u.lefts[m.firstCol]):(w=0,k=u.rights[m.firstCol]-u.rights[m.lastCol])),p.push(pe("div",{className:"fc-daygrid-event-harness"+(y?" fc-daygrid-event-harness-abs":""),key:xF(m),ref:f?null:this.segHarnessRefs.createRef(vF(m)),style:{visibility:x?"":"hidden",marginTop:y?"":g.marginTop,top:y?g.absoluteTop:"",left:w,right:k}},pF(m)?pe(mF,Object.assign({seg:m,isDragging:a,isSelected:v===d,defaultDisplayEventEnd:h},cd(m,n))):pe(gF,Object.assign({seg:m,isDragging:a,isResizing:i,isDateSelecting:o,isSelected:v===d,defaultDisplayEventEnd:h},cd(m,n)))))}return p}renderFillSegs(e,t){let{isRtl:n}=this.context,{todayRange:s}=this.props,{framePositions:a}=this.state,i=[];if(a)for(let o of e){let c=n?{right:0,left:a.lefts[o.lastCol]-a.lefts[o.firstCol]}:{left:0,right:a.rights[o.firstCol]-a.rights[o.lastCol]};i.push(pe("div",{key:AO(o.eventRange),className:"fc-daygrid-bg-harness",style:c},t==="bg-event"?pe(JO,Object.assign({seg:o},cd(o,s))):KO(t)))}return pe(cn,{},...i)}updateSizing(e){let{props:t,state:n,frameElRefs:s}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let c=t.cells.map(d=>s.currentMap[d.key]);if(c.length){let d=this.rootElRef.current,u=new fp(d,c,!0,!1);(!n.framePositions||!n.framePositions.similarTo(u))&&this.setState({framePositions:new fp(d,c,!0,!1)})}}const a=this.state.segHeights,i=this.querySegHeights(),o=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),i),maxContentHeight:o?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let n in e){let s=Math.round(e[n].getBoundingClientRect().height);t[n]=Math.max(t[n]||0,s)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}};yF.addStateEquality({segHeights:al});function Vie(r,e){if(!r.length)return[];let t=Wie(e);return r.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:t[n.eventRange.instance.instanceId],marginTop:0}))}function Wie(r){let e={};for(let t of r)for(let n of t)e[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return e}class qie extends cl{constructor(){super(...arguments),this.splitBusinessHourSegs=Vt(x1),this.splitBgEventSegs=Vt(x1),this.splitFgEventSegs=Vt(x1),this.splitDateSelectionSegs=Vt(x1),this.splitEventDrag=Vt(Jj),this.splitEventResize=Vt(Jj),this.rowRefs=new Fl}render(){let{props:e,context:t}=this,n=e.cells.length,s=this.splitBusinessHourSegs(e.businessHourSegs,n),a=this.splitBgEventSegs(e.bgEventSegs,n),i=this.splitFgEventSegs(e.fgEventSegs,n),o=this.splitDateSelectionSegs(e.dateSelectionSegs,n),c=this.splitEventDrag(e.eventDrag,n),d=this.splitEventResize(e.eventResize,n),u=n>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return pe($0,{unit:"day"},(h,f)=>pe(cn,null,e.cells.map((p,g)=>pe(yF,{ref:this.rowRefs.createRef(g),key:p.length?p[0].date.toISOString():g,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:f,dateProfile:e.dateProfile,cells:p,renderIntro:e.renderRowIntro,businessHourSegs:s[g],eventSelection:e.eventSelection,bgEventSegs:a[g].filter(Yie),fgEventSegs:i[g],dateSelectionSegs:o[g],eventDrag:c[g],eventResize:d[g],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new fp(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new fp(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:n,rowPositions:s}=this,a=n.leftToIndex(e),i=s.topToIndex(t);if(i!=null&&a!=null){let o=this.props.cells[i][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(i,a),allDay:!0},o.extraDateSpan),dayEl:this.getCellEl(i,a),rect:{left:n.lefts[a],right:n.rights[a],top:s.tops[i],bottom:s.bottoms[i]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let n=this.props.cells[e][t].date,s=Qs(n,1);return{start:n,end:s}}}function Yie(r){return r.eventRange.def.allDay}let Gie=class extends cl{constructor(){super(...arguments),this.elRef=ha(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:n,expandRows:s}=e,a=n===!0||t===!0;a&&!s&&(a=!1,t=null,n=null);let i=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"];return pe("div",{ref:this.elRef,className:i.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},pe("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:s?e.clientHeight:""}},e.colGroupNode,pe("tbody",{role:"presentation"},pe(qie,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=Xie(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),n=t.closest(".fc-scroller"),s=e.getBoundingClientRect().top-t.getBoundingClientRect().top;n.scrollTop=s?s+1:0}this.needsScrollReset=!1}}};function Xie(r,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=r.querySelector(`[data-date="${Rre(e.currentDate)}-01"]`)),t||(t=r.querySelector(`[data-date="${SN(e.currentDate)}"]`)),t}class Zie extends VO{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class bF extends cl{constructor(){super(...arguments),this.slicer=new Zie,this.tableRef=ha()}render(){let{props:e,context:t}=this;return pe(Gie,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class Jie extends Lie{constructor(){super(...arguments),this.buildDayTableModel=Vt(Kie),this.headerRef=ha(),this.tableRef=ha()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:n}=this,s=this.buildDayTableModel(n.dateProfile,t),a=e.dayHeaders&&pe(HO,{ref:this.headerRef,dateProfile:n.dateProfile,dates:s.headerDates,datesRepDistinctDays:s.rowCnt===1}),i=o=>pe(bF,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:s,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(a,i,s.colCnt,e.dayMinWidth):this.renderSimpleLayout(a,i)}}function Kie(r,e){let t=new UO(r.renderRange,e);return new $O(t,/year|month|week/.test(r.currentRangeUnit))}class Qie extends gO{buildRenderRange(e,t,n){let s=super.buildRenderRange(e,t,n),{props:a}=this;return eoe({currentRange:s,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}function eoe(r){let{dateEnv:e,currentRange:t}=r,{start:n,end:s}=t,a;if(r.snapToWeek&&(n=e.startOfWeek(n),a=e.startOfWeek(s),a.valueOf()!==s.valueOf()&&(s=Nj(a,1))),r.fixedWeekCount){let i=e.startOfWeek(e.startOfMonth(Qs(t.end,-1))),o=Math.ceil(Sre(i,s));s=Nj(s,6-o)}return{start:n,end:s}}var toe=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';vN(toe);var roe=ic({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Jie,dateProfileGeneratorClass:Qie},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class noe extends vse{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?Xne(e)?["timed","allDay"]:["allDay"]:["timed"]}}const soe=bn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function wF(r){let e=["fc-timegrid-slot","fc-timegrid-slot-label",r.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return pe(ac.Consumer,null,t=>{if(!r.isLabeled)return pe("td",{className:e.join(" "),"data-time":r.isoTimeStr});let{dateEnv:n,options:s,viewApi:a}=t,i=s.slotLabelFormat==null?soe:Array.isArray(s.slotLabelFormat)?bn(s.slotLabelFormat[0]):bn(s.slotLabelFormat),o={level:0,time:r.time,date:n.toDate(r.date),view:a,text:n.format(r.date,i)};return pe(gi,{elTag:"td",elClasses:e,elAttrs:{"data-time":r.isoTimeStr},renderProps:o,generatorName:"slotLabelContent",customGenerator:s.slotLabelContent,defaultGenerator:aoe,classNameGenerator:s.slotLabelClassNames,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},c=>pe("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},pe(c,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function aoe(r){return r.text}class ioe extends Rr{render(){return this.props.slatMetas.map(e=>pe("tr",{key:e.key},pe(wF,Object.assign({},e))))}}const ooe=bn({week:"short"}),loe=5;class coe extends cl{constructor(){super(...arguments),this.allDaySplitter=new noe,this.headerElRef=ha(),this.rootElRef=ha(),this.scrollerElRef=ha(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:n}=this.context,{dateProfile:s}=this.props,a=s.renderRange,o=hh(a.start,a.end)===1?Dy(this.context,a.start,"week"):{};return n.weekNumbers&&e==="day"?pe(QO,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:a.start,defaultFormat:ooe},c=>pe("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},pe(c,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:o}))):pe("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},pe("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:n}=this.context,s={text:t.allDayText,view:n};return pe(gi,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:s,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:doe,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},a=>pe("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},pe(a,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,n){let{context:s,props:a}=this,i=[],o=My(s.options);return e&&i.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(i.push({type:"body",key:"all-day",chunk:{content:t}}),i.push({type:"body",key:"all-day-divider",outerContent:pe("tr",{role:"presentation",className:"fc-scrollgrid-section"},pe("td",{className:"fc-timegrid-divider "+s.theme.getClass("tableCellShaded")}))})),i.push({type:"body",key:"body",liquid:!0,expandRows:!!s.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),pe(Ay,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:s.viewSpec},pe($N,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[{width:"shrink"}],sections:i}))}renderHScrollLayout(e,t,n,s,a,i,o){let c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");let{context:d,props:u}=this,h=!u.forPrint&&My(d.options),f=!u.forPrint&&XO(d.options),p=[];e&&p.push({type:"header",key:"header",isSticky:h,syncRowHeights:!0,chunks:[{key:"axis",rowContent:m=>pe("tr",{role:"presentation"},this.renderHeadAxis("day",m.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(p.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:m=>pe("tr",{role:"presentation"},this.renderTableRowAxis(m.rowSyncHeights[0]))},{key:"cols",content:t}]}),p.push({key:"all-day-divider",type:"body",outerContent:pe("tr",{role:"presentation",className:"fc-scrollgrid-section"},pe("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));let g=d.options.nowIndicator;return p.push({type:"body",key:"body",liquid:!0,expandRows:!!d.options.expandRows,chunks:[{key:"axis",content:m=>pe("div",{className:"fc-timegrid-axis-chunk"},pe("table",{"aria-hidden":!0,style:{height:m.expandRows?m.clientHeight:""}},m.tableColGroupNode,pe("tbody",null,pe(ioe,{slatMetas:i}))),pe("div",{className:"fc-timegrid-now-indicator-container"},pe($0,{unit:g?"minute":"day"},v=>{let x=g&&o&&o.safeComputeTop(v);return typeof x=="number"?pe(WN,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:x},isAxis:!0,date:v}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),f&&p.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:aC},{key:"cols",content:aC}]}),pe(Ay,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:d.viewSpec},pe(c,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:s,minWidth:a}]}],sections:p}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(e===!0||t===!0)&&(e=void 0,t=loe),{dayMaxEvents:e,dayMaxEventRows:t}}}function doe(r){return r.text}class uoe{constructor(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}safeComputeTop(e){let{dateProfile:t}=this;if($l(t.currentRange,e)){let n=nn(e),s=e.valueOf()-n.valueOf();if(s>=xo(t.slotMinTime)&&s<xo(t.slotMaxTime))return this.computeTimeTop(xr(s))}return null}computeDateTop(e,t){return t||(t=nn(e)),this.computeTimeTop(xr(e.valueOf()-t.valueOf()))}computeTimeTop(e){let{positions:t,dateProfile:n}=this,s=t.els.length,a=(e.milliseconds-xo(n.slotMinTime))/xo(this.slotDuration),i,o;return a=Math.max(0,a),a=Math.min(s,a),i=Math.floor(a),i=Math.min(i,s-1),o=a-i,t.tops[i]+t.getHeight(i)*o}}class hoe extends Rr{render(){let{props:e,context:t}=this,{options:n}=t,{slatElRefs:s}=e;return pe("tbody",null,e.slatMetas.map((a,i)=>{let o={time:a.time,date:t.dateEnv.toDate(a.date),view:t.viewApi};return pe("tr",{key:a.key,ref:s.createRef(a.key)},e.axis&&pe(wF,Object.assign({},a)),pe(gi,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!a.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":a.isoTimeStr},renderProps:o,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}}class foe extends Rr{constructor(){super(...arguments),this.rootElRef=ha(),this.slatElRefs=new Fl}render(){let{props:e,context:t}=this;return pe("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},pe("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,pe(hoe,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;t.onCoords&&t.clientWidth!==null&&this.rootElRef.current.offsetHeight&&t.onCoords(new uoe(new fp(this.rootElRef.current,poe(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function poe(r,e){return e.map(t=>r[t.key])}function Rg(r,e){let t=[],n;for(n=0;n<e;n+=1)t.push([]);if(r)for(n=0;n<r.length;n+=1)t[r[n].col].push(r[n]);return t}function Kj(r,e){let t=[];if(r){for(let n=0;n<e;n+=1)t[n]={affectedInstances:r.affectedInstances,isEvent:r.isEvent,segs:[]};for(let n of r.segs)t[n.col].segs.push(n)}else for(let n=0;n<e;n+=1)t[n]=null;return t}class goe extends Rr{render(){let{props:e}=this;return pe(eF,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>CF(e.hiddenSegs,e),defaultGenerator:moe,forceTimed:!0},t=>pe(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function moe(r){return r.shortText}function xoe(r,e,t){let n=new FO;e!=null&&(n.strictOrder=e),t!=null&&(n.maxStackCnt=t);let s=n.addSegs(r),a=Pse(s),i=voe(n);return i=koe(i,1),{segRects:Coe(i),hiddenGroups:a}}function voe(r){const{entriesByLevel:e}=r,t=XN((n,s)=>n+":"+s,(n,s)=>{let a=woe(r,n,s),i=Qj(a,t),o=e[n][s];return[Object.assign(Object.assign({},o),{nextLevelNodes:i[0]}),o.thickness+i[1]]});return Qj(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t)[0]}function Qj(r,e){if(!r)return[[],0];let{level:t,lateralStart:n,lateralEnd:s}=r,a=n,i=[];for(;a<s;)i.push(e(t,a)),a+=1;return i.sort(yoe),[i.map(boe),i[0][1]]}function yoe(r,e){return e[1]-r[1]}function boe(r){return r[0]}function woe(r,e,t){let{levelCoords:n,entriesByLevel:s}=r,a=s[e][t],i=n[e]+a.thickness,o=n.length,c=e;for(;c<o&&n[c]<i;c+=1);for(;c<o;c+=1){let d=s[c],u,h=sC(d,a.span.start,nC),f=h[0]+h[1],p=f;for(;(u=d[p])&&u.span.start<a.span.end;)p+=1;if(f<p)return{level:c,lateralStart:f,lateralEnd:p}}return null}function koe(r,e){const t=XN((n,s,a)=>Iu(n),(n,s,a)=>{let{nextLevelNodes:i,thickness:o}=n,c=o+a,d=o/c,u,h=[];if(!i.length)u=e;else for(let p of i)if(u===void 0){let g=t(p,s,c);u=g[0],h.push(g[1])}else{let g=t(p,u,0);h.push(g[1])}let f=(u-s)*d;return[u-f,Object.assign(Object.assign({},n),{thickness:f,nextLevelNodes:h})]});return r.map(n=>t(n,0,0)[1])}function Coe(r){let e=[];const t=XN((s,a,i)=>Iu(s),(s,a,i)=>{let o=Object.assign(Object.assign({},s),{levelCoord:a,stackDepth:i,stackForward:0});return e.push(o),o.stackForward=n(s.nextLevelNodes,a+s.thickness,i+1)+1});function n(s,a,i){let o=0;for(let c of s)o=Math.max(t(c,a,i),o);return o}return n(r,0,0),e}function XN(r,e){const t={};return(...n)=>{let s=r(...n);return s in t?t[s]:t[s]=e(...n)}}function e9(r,e,t=null,n=0){let s=[];if(t)for(let a=0;a<r.length;a+=1){let i=r[a],o=t.computeDateTop(i.start,e),c=Math.max(o+(n||0),t.computeDateTop(i.end,e));s.push({start:Math.round(o),end:Math.round(c)})}return s}function Soe(r,e,t,n){let s=[],a=[];for(let d=0;d<r.length;d+=1){let u=e[d];u?s.push({index:d,thickness:1,span:u}):a.push(r[d])}let{segRects:i,hiddenGroups:o}=xoe(s,t,n),c=[];for(let d of i)c.push({seg:r[d.index],rect:d});for(let d of a)c.push({seg:d,rect:null});return{segPlacements:c,hiddenGroups:o}}const Noe=bn({hour:"numeric",minute:"2-digit",meridiem:!1});class kF extends Rr{render(){return pe(ZO,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:Noe}))}}class Eoe extends Rr{constructor(){super(...arguments),this.sortEventSegs=Vt(_O)}render(){let{props:e,context:t}=this,{options:n}=t,s=n.selectMirror,a=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||s&&e.dateSelectionSegs||[],i=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},o=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return pe(qN,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},c=>pe("div",{className:"fc-timegrid-col-frame"},pe("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),pe("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,i,!1,!1,!1)),pe("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,{},!!e.eventDrag,!!e.eventResize,!!s,"mirror")),pe("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),YN(n)&&pe(c,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,n,s,a,i){let{props:o}=this;return o.forPrint?CF(e,o):this.renderPositionedFgSegs(e,t,n,s,a,i)}renderPositionedFgSegs(e,t,n,s,a,i){let{eventMaxStack:o,eventShortHeight:c,eventOrderStrict:d,eventMinHeight:u}=this.context.options,{date:h,slatCoords:f,eventSelection:p,todayRange:g,nowDate:m}=this.props,v=n||s||a,x=e9(e,h,f,u),{segPlacements:y,hiddenGroups:w}=Soe(e,x,d,o);return pe(cn,null,this.renderHiddenGroups(w,e),y.map(k=>{let{seg:S,rect:N}=k,A=S.eventRange.instance.instanceId,E=v||!!(!t[A]&&N),R=K5(N&&N.span),O=!v&&N?this.computeSegHStyle(N):{left:0,right:0},L=!!N&&N.stackForward>0,D=!!N&&N.span.end-N.span.start<c;return pe("div",{className:"fc-timegrid-event-harness"+(L?" fc-timegrid-event-harness-inset":""),key:i||A,style:Object.assign(Object.assign({visibility:E?"":"hidden"},R),O)},pe(kF,Object.assign({seg:S,isDragging:n,isResizing:s,isDateSelecting:a,isSelected:A===p,isShort:D},cd(S,g,m))))}))}renderHiddenGroups(e,t){let{extraDateSpan:n,dateProfile:s,todayRange:a,nowDate:i,eventSelection:o,eventDrag:c,eventResize:d}=this.props;return pe(cn,null,e.map(u=>{let h=K5(u.span),f=_oe(u.entries,t);return pe(goe,{key:iO(tF(f)),hiddenSegs:f,top:h.top,bottom:h.bottom,extraDateSpan:n,dateProfile:s,todayRange:a,nowDate:i,eventSelection:o,eventDrag:c,eventResize:d})}))}renderFillSegs(e,t){let{props:n,context:s}=this,i=e9(e,n.date,n.slatCoords,s.options.eventMinHeight).map((o,c)=>{let d=e[c];return pe("div",{key:AO(d.eventRange),className:"fc-timegrid-bg-harness",style:K5(o)},t==="bg-event"?pe(JO,Object.assign({seg:d},cd(d,n.todayRange,n.nowDate))):KO(t))});return pe(cn,null,i)}renderNowIndicator(e){let{slatCoords:t,date:n}=this.props;return t?e.map((s,a)=>pe(WN,{key:a,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(s.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let{isRtl:t,options:n}=this.context,s=n.slotEventOverlap,a=e.levelCoord,i=e.levelCoord+e.thickness,o,c;s&&(i=Math.min(1,a+(i-a)*2)),t?(o=1-i,c=a):(o=a,c=1-i);let d={zIndex:e.stackDepth+1,left:o*100+"%",right:c*100+"%"};return s&&!e.stackForward&&(d[t?"marginLeft":"marginRight"]=10*2),d}}function CF(r,{todayRange:e,nowDate:t,eventSelection:n,eventDrag:s,eventResize:a}){let i=(s?s.affectedInstances:null)||(a?a.affectedInstances:null)||{};return pe(cn,null,r.map(o=>{let c=o.eventRange.instance.instanceId;return pe("div",{key:c,style:{visibility:i[c]?"hidden":""}},pe(kF,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===n,isShort:!1},cd(o,e,t))))}))}function K5(r){return r?{top:r.start,bottom:-r.end}:{top:"",bottom:""}}function _oe(r,e){return r.map(t=>e[t.index])}class joe extends Rr{constructor(){super(...arguments),this.splitFgEventSegs=Vt(Rg),this.splitBgEventSegs=Vt(Rg),this.splitBusinessHourSegs=Vt(Rg),this.splitNowIndicatorSegs=Vt(Rg),this.splitDateSelectionSegs=Vt(Rg),this.splitEventDrag=Vt(Kj),this.splitEventResize=Vt(Kj),this.rootElRef=ha(),this.cellElRefs=new Fl}render(){let{props:e,context:t}=this,n=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),s=e.cells.length,a=this.splitFgEventSegs(e.fgEventSegs,s),i=this.splitBgEventSegs(e.bgEventSegs,s),o=this.splitBusinessHourSegs(e.businessHourSegs,s),c=this.splitNowIndicatorSegs(e.nowIndicatorSegs,s),d=this.splitDateSelectionSegs(e.dateSelectionSegs,s),u=this.splitEventDrag(e.eventDrag,s),h=this.splitEventResize(e.eventResize,s);return pe("div",{className:"fc-timegrid-cols",ref:this.rootElRef},pe("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,pe("tbody",{role:"presentation"},pe("tr",{role:"row"},e.axis&&pe("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},pe("div",{className:"fc-timegrid-col-frame"},pe("div",{className:"fc-timegrid-now-indicator-container"},typeof n=="number"&&pe(WN,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((f,p)=>pe(Eoe,{key:f.key,elRef:this.cellElRefs.createRef(f.key),dateProfile:e.dateProfile,date:f.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:f.extraRenderProps,extraDataAttrs:f.extraDataAttrs,extraClassNames:f.extraClassNames,extraDateSpan:f.extraDateSpan,fgEventSegs:a[p],bgEventSegs:i[p],businessHourSegs:o[p],nowIndicatorSegs:c[p],dateSelectionSegs:d[p],eventDrag:u[p],eventResize:h[p],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new fp(this.rootElRef.current,Aoe(this.cellElRefs.currentMap,e.cells),!0,!1))}}function Aoe(r,e){return e.map(t=>r[t.key])}class Toe extends cl{constructor(){super(...arguments),this.processSlotOptions=Vt(Poe),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:n}=this.state;if(t&&n){if(e.time){let s=n.computeTimeTop(e.time);s=Math.ceil(s),s&&(s+=1),t(s)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return pe("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},pe(foe,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),pe(joe,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:n,options:s}=this.context,{colCoords:a}=this,{dateProfile:i}=this.props,{slatCoords:o}=this.state,{snapDuration:c,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,s.snapDuration),u=a.leftToIndex(e),h=o.positions.topToIndex(t);if(u!=null&&h!=null){let f=this.props.cells[u],p=o.positions.tops[h],g=o.positions.getHeight(h),m=(t-p)/g,v=Math.floor(m*d),x=h*d+v,y=this.props.cells[u].date,w=Zk(i.slotMinTime,bre(c,x)),k=n.add(y,w),S=n.add(k,c);return{dateProfile:i,dateSpan:Object.assign({range:{start:k,end:S},allDay:!1},f.extraDateSpan),dayEl:a.els[u],rect:{left:a.lefts[u],right:a.rights[u],top:p,bottom:p+g},layer:0}}return null}}function Poe(r,e){let t=e||r,n=CN(r,t);return n===null&&(t=r,n=1),{snapDuration:t,snapsPerSlot:n}}class Loe extends VO{sliceRange(e,t){let n=[];for(let s=0;s<t.length;s+=1){let a=Qu(e,t[s]);a&&n.push({start:a.start,end:a.end,isStart:a.start.valueOf()===e.start.valueOf(),isEnd:a.end.valueOf()===e.end.valueOf(),col:s})}return n}}class Doe extends cl{constructor(){super(...arguments),this.buildDayRanges=Vt(Moe),this.slicer=new Loe,this.timeColsRef=ha()}render(){let{props:e,context:t}=this,{dateProfile:n,dayTableModel:s}=e,{nowIndicator:a,nextDayThreshold:i}=t.options,o=this.buildDayRanges(s,n,t.dateEnv);return pe($0,{unit:a?"minute":"day"},(c,d)=>pe(Toe,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,t,o),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:s.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:c,nowIndicatorSegs:a&&this.slicer.sliceNowDate(c,n,i,t,o),todayRange:d,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function Moe(r,e,t){let n=[];for(let s of r.headerDates)n.push({start:t.add(s,e.slotMinTime),end:t.add(s,e.slotMaxTime)});return n}const t9=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Roe(r,e,t,n,s){let a=new Date(0),i=r,o=xr(0),c=t||Ioe(n),d=[];for(;xo(i)<xo(e);){let u=s.add(a,i),h=CN(o,c)!==null;d.push({date:u,time:i,key:u.toISOString(),isoTimeStr:Ire(u),isLabeled:h}),i=Zk(i,n),o=Zk(o,n)}return d}function Ioe(r){let e,t,n;for(e=t9.length-1;e>=0;e-=1)if(t=xr(t9[e]),n=CN(t,r),n!==null&&n>1)return t;return r}class Ooe extends coe{constructor(){super(...arguments),this.buildTimeColsModel=Vt(Foe),this.buildSlatMetas=Vt(Roe)}render(){let{options:e,dateEnv:t,dateProfileGenerator:n}=this.context,{props:s}=this,{dateProfile:a}=s,i=this.buildTimeColsModel(a,n),o=this.allDaySplitter.splitProps(s),c=this.buildSlatMetas(a.slotMinTime,a.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:d}=e,u=!d,h=d,f=e.dayHeaders&&pe(HO,{dates:i.headerDates,dateProfile:a,datesRepDistinctDays:!0,renderIntro:u?this.renderHeadAxis:null}),p=e.allDaySlot!==!1&&(m=>pe(bF,Object.assign({},o.allDay,{dateProfile:a,dayTableModel:i,nextDayThreshold:e.nextDayThreshold,tableMinWidth:m.tableMinWidth,colGroupNode:m.tableColGroupNode,renderRowIntro:u?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:m.clientWidth,clientHeight:m.clientHeight,forPrint:s.forPrint},this.getAllDayMaxEventProps()))),g=m=>pe(Doe,Object.assign({},o.timed,{dayTableModel:i,dateProfile:a,axis:u,slotDuration:e.slotDuration,slatMetas:c,forPrint:s.forPrint,tableColGroupNode:m.tableColGroupNode,tableMinWidth:m.tableMinWidth,clientWidth:m.clientWidth,clientHeight:m.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:m.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return h?this.renderHScrollLayout(f,p,g,i.colCnt,d,c,this.state.slatCoords):this.renderSimpleLayout(f,p,g)}}function Foe(r,e){let t=new UO(r.renderRange,e);return new $O(t,!1)}var Boe='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';vN(Boe);const zoe={allDaySlot:Boolean};var Hoe=ic({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:zoe,views:{timeGrid:{component:Ooe,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});UN.touchMouseIgnoreWait=500;let oC=0,Ry=0,lC=!1;class SF{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&Uoe(t)&&this.tryStart(t)){let n=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let n=this.createEventFromMouse(t);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let n=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let s=t.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let n=this.createEventFromTouch(t);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=t=>{if(this.isDragging){let n=t.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,$oe()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let n=window.scrollX-this.prevScrollX+this.prevPageX,s=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:s,deltaX:n-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=e,this.emitter=new k2,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Voe()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Woe()}tryStart(e){let t=this.querySubjectEl(e),n=e.target;return t&&(!this.handleSelector||Zs(n,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){lC=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Zs(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return oC||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(lC=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let n=0,s=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,s=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:s}}createEventFromTouch(e,t){let n=e.touches,s,a,i=0,o=0;return n&&n.length?(s=n[0].pageX,a=n[0].pageY):(s=e.pageX,a=e.pageY),t?(this.origPageX=s,this.origPageY=a):(i=s-this.origPageX,o=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:a,deltaX:i,deltaY:o}}}function Uoe(r){return r.button===0&&!r.ctrlKey}function $oe(){oC+=1,setTimeout(()=>{oC-=1},UN.touchMouseIgnoreWait)}function Voe(){Ry+=1,Ry===1&&window.addEventListener("touchmove",NF,{passive:!1})}function Woe(){Ry-=1,Ry||window.removeEventListener("touchmove",NF,{passive:!1})}function NF(r){lC&&r.preventDefault()}class qoe{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let n=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,t){let n=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",fm(n,{left:s.left,top:s.top}),are(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&(bN(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&fm(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),fm(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class EF extends zN{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class _F extends EF{constructor(e,t){super(new Ase(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return _se(this.scrollController.el)}}class Yoe extends EF{constructor(e){super(new Tse,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const r9=typeof performance=="function"?performance.now:Date.now;class Goe{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=r9();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let n=e-window.scrollX,s=t-window.scrollY,a=this.pointerScreenY===null?0:s-this.pointerScreenY,i=this.pointerScreenX===null?0:n-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),i<0?this.everMovedLeft=!0:i>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(r9()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:n}=e,{edgeThreshold:s}=this,a=s-e.distance,i=a*a/(s*s)*this.maxVelocity*t,o=1;switch(e.name){case"left":o=-1;case"right":n.setScrollLeft(n.getScrollLeft()+i*o);break;case"top":o=-1;case"bottom":n.setScrollTop(n.getScrollTop()+i*o);break}}computeBestEdge(e,t){let{edgeThreshold:n}=this,s=null,a=this.scrollCaches||[];for(let i of a){let o=i.clientRect,c=e-o.left,d=o.right-e,u=t-o.top,h=o.bottom-t;c>=0&&d>=0&&u>=0&&h>=0&&(u<=n&&this.everMovedUp&&i.canScrollUp()&&(!s||s.distance>u)&&(s={scrollCache:i,name:"top",distance:u}),h<=n&&this.everMovedDown&&i.canScrollDown()&&(!s||s.distance>h)&&(s={scrollCache:i,name:"bottom",distance:h}),c<=n&&this.everMovedLeft&&i.canScrollLeft()&&(!s||s.distance>c)&&(s={scrollCache:i,name:"left",distance:c}),d<=n&&this.everMovedRight&&i.canScrollRight()&&(!s||s.distance>d)&&(s={scrollCache:i,name:"right",distance:d}))}return s}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new Yoe(!1):new _F(t,!1))}queryScrollEls(e){let t=[];for(let n of this.scrollQuery)typeof n=="object"?t.push(n):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return t}}class V0 extends Dse{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,ire(document.body),lre(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let a=this.minDistance,i,{deltaX:o,deltaY:c}=s;i=o*o+c*c,i>=a*a&&this.handleDistanceSurpassed(s)}this.isDragging&&(s.origEvent.type!=="scroll"&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,ore(document.body),cre(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new SF(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),t&&(n.selector=t),this.mirror=new qoe,this.autoScroller=new Goe}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class Xoe{constructor(e){this.el=e,this.origRect=BN(e),this.scrollCaches=OO(e).map(t=>new _F(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let n={left:e,top:t};for(let s of this.scrollCaches)if(!Zoe(s.getEventTarget())&&!pse(n,s.clientRect))return!1;return!0}}function Zoe(r){let e=r.tagName;return e==="HTML"||e==="BODY"}class C2{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):s.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new k2}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},n=t,s=e.subjectEl,a;s instanceof HTMLElement&&(a=BN(s),n=gse(n,a));let i=this.initialHit=this.queryHitForOffset(n.left,n.top);if(i){if(this.useSubjectCenter&&a){let o=MO(a,i.rect);o&&(n=mse(o))}this.coordAdjust=xse(n,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!S2(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=ec(this.droppableStore,e=>(e.component.prepareHits(),new Xoe(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:n,offsetTrackers:s}=this,a=null;for(let i in n){let o=n[i].component,c=s[i];if(c&&c.isWithinClipping(e,t)){let d=c.computeLeft(),u=c.computeTop(),h=e-d,f=t-u,{origRect:p}=c,g=p.right-p.left,m=p.bottom-p.top;if(h>=0&&h<g&&f>=0&&f<m){let v=o.queryHit(h,f,g,m);v&&b2(v.dateProfile.activeRange,v.dateSpan.range)&&(this.disablePointCheck||c.el.contains(c.el.getRootNode().elementFromPoint(h+d-window.scrollX,f+u-window.scrollY)))&&(!a||v.layer>a.layer)&&(v.componentId=i,v.context=o.context,v.rect.left+=d,v.rect.right+=d,v.rect.top+=u,v.rect.bottom+=u,a=v)}}}return a}}function S2(r,e){return!r&&!e?!0:!!r!=!!e?!1:sse(r.dateSpan,e.dateSpan)}function jF(r,e){let t={};for(let n of e.pluginHooks.datePointTransforms)Object.assign(t,n(r,e));return Object.assign(t,Joe(r,e.dateEnv)),t}function Joe(r,e){return{date:e.toDate(r.range.start),dateStr:e.formatIso(r.range.start,{omitTime:r.allDay}),allDay:r.allDay}}class Koe extends zp{constructor(e){super(e),this.handlePointerDown=n=>{let{dragging:s}=this,a=n.origEvent.target;s.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=n=>{let{component:s}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:i,finalHit:o}=this.hitDragging;if(i&&o&&S2(i,o)){let{context:c}=s,d=Object.assign(Object.assign({},jF(i.dateSpan,c)),{dayEl:i.dayEl,jsEvent:n.origEvent,view:c.viewApi||c.calendarApi.view});c.emitter.trigger("dateClick",d)}}},this.dragging=new V0(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new C2(this.dragging,ON(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class Qoe extends zp{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=i=>{let{component:o,dragging:c}=this,{options:d}=o.context,u=d.selectable&&o.isValidDateDownEl(i.origEvent.target);c.setIgnoreMove(!u),c.delay=i.isTouch?ele(o):null},this.handleDragStart=i=>{this.component.context.calendarApi.unselect(i)},this.handleHitUpdate=(i,o)=>{let{context:c}=this.component,d=null,u=!1;if(i){let h=this.hitDragging.initialHit;i.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,i)||(d=tle(h,i,c.pluginHooks.dateSelectionTransformers)),(!d||!Bse(d,i.dateProfile,c))&&(u=!0,d=null)}d?c.dispatch({type:"SELECT_DATES",selection:d}):o||c.dispatch({type:"UNSELECT_DATES"}),u?wN():kN(),o||(this.dragSelection=d)},this.handlePointerUp=i=>{this.dragSelection&&(SO(this.dragSelection,i,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:n}=t.context,s=this.dragging=new V0(e.el);s.touchScrollAllowed=!1,s.minDistance=n.selectMinDistance||0,s.autoScroller.isEnabled=n.dragScroll;let a=this.hitDragging=new C2(this.dragging,ON(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function ele(r){let{options:e}=r.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function tle(r,e,t){let n=r.dateSpan,s=e.dateSpan,a=[n.range.start,n.range.end,s.range.start,s.range.end];a.sort(pre);let i={};for(let o of t){let c=o(r,e);if(c===!1)return null;c&&Object.assign(i,c)}return i.range={start:a[0],end:a[3]},i.allDay=n.allDay,i}class W0 extends zp{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=i=>{let o=i.origEvent.target,{component:c,dragging:d}=this,{mirror:u}=d,{options:h}=c.context,f=c.context;this.subjectEl=i.subjectEl;let p=this.subjectSeg=hp(i.subjectEl),m=(this.eventRange=p.eventRange).instance.instanceId;this.relevantEvents=DN(f.getCurrentData().eventStore,m),d.minDistance=i.isTouch?0:h.eventDragMinDistance,d.delay=i.isTouch&&m!==c.props.eventSelection?nle(c):null,h.fixedMirrorParent?u.parentNode=h.fixedMirrorParent:u.parentNode=Zs(o,".fc"),u.revertDuration=h.dragRevertDuration;let v=c.isValidSegDownEl(o)&&!Zs(o,".fc-event-resizer");d.setIgnoreMove(!v),this.isDragging=v&&i.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=i=>{let o=this.component.context,c=this.eventRange,d=c.instance.instanceId;i.isTouch?d!==this.component.props.eventSelection&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):o.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(o.calendarApi.unselect(i),o.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new pn(o,c.def,c.instance),jsEvent:i.origEvent,view:o.viewApi}))},this.handleHitUpdate=(i,o)=>{if(!this.isDragging)return;let c=this.relevantEvents,d=this.hitDragging.initialHit,u=this.component.context,h=null,f=null,p=null,g=!1,m={affectedEvents:c,mutatedEvents:li(),isEvent:!0};if(i){h=i.context;let v=h.options;u===h||v.editable&&v.droppable?(f=rle(d,i,this.eventRange.instance.range.start,h.getCurrentData().pluginHooks.eventDragMutationMassagers),f&&(p=IN(c,h.getCurrentData().eventUiBases,f,h),m.mutatedEvents=p,WO(m,i.dateProfile,h)||(g=!0,f=null,p=null,m.mutatedEvents=li()))):h=null}this.displayDrag(h,m),g?wN():kN(),o||(u===h&&S2(d,i)&&(f=null),this.dragging.setMirrorNeedsRevert(!f),this.dragging.setMirrorIsVisible(!i||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=h,this.validMutation=f,this.mutatedRelevantEvents=p)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=i=>{if(this.isDragging){let o=this.component.context,c=o.viewApi,{receivingContext:d,validMutation:u}=this,h=this.eventRange.def,f=this.eventRange.instance,p=new pn(o,h,f),g=this.relevantEvents,m=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),o.emitter.trigger("eventDragStop",{el:this.subjectEl,event:p,jsEvent:i.origEvent,view:c}),u){if(d===o){let x=new pn(o,m.defs[h.defId],f?m.instances[f.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:m});let y={oldEvent:p,event:x,relatedEvents:Ru(m,o,f),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:g})}},w={};for(let k of o.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(w,k(u,o));o.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},y),w),{el:i.subjectEl,delta:u.datesDelta,jsEvent:i.origEvent,view:c})),o.emitter.trigger("eventChange",y)}else if(d){let x={event:p,relatedEvents:Ru(g,o,f),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:g})}};o.emitter.trigger("eventLeave",Object.assign(Object.assign({},x),{draggedEl:i.subjectEl,view:c})),o.dispatch({type:"REMOVE_EVENTS",eventStore:g}),o.emitter.trigger("eventRemove",x);let y=m.defs[h.defId],w=m.instances[f.instanceId],k=new pn(d,y,w);d.dispatch({type:"MERGE_EVENTS",eventStore:m});let S={event:k,relatedEvents:Ru(m,d,w),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:m})}};d.emitter.trigger("eventAdd",S),i.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:f.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},jF(v.dateSpan,d)),{draggedEl:i.subjectEl,jsEvent:i.origEvent,view:v.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},S),{draggedEl:i.subjectEl,view:v.context.viewApi}))}}else o.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:n}=t.context,s=this.dragging=new V0(e.el);s.pointer.selector=W0.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=n.dragScroll;let a=this.hitDragging=new C2(this.dragging,rC);a.useSubjectCenter=e.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let n=this.component.context,s=this.receivingContext;s&&s!==e&&(s===n?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:li(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}W0.SELECTOR=".fc-event-draggable, .fc-event-resizable";function rle(r,e,t,n){let s=r.dateSpan,a=e.dateSpan,i=s.range.start,o=a.range.start,c={};s.allDay!==a.allDay&&(c.allDay=a.allDay,c.hasEnd=e.context.options.allDayMaintainDuration,a.allDay?i=nn(t):i=t);let d=Sf(i,o,r.context.dateEnv,r.componentId===e.componentId?r.largeUnit:null);d.milliseconds&&(c.allDay=!1);let u={datesDelta:d,standardProps:c};for(let h of n)h(u,r,e);return u}function nle(r){let{options:e}=r.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class sle extends zp{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:i}=this,o=this.querySegEl(a),c=hp(o),d=this.eventRange=c.eventRange;this.dragging.minDistance=i.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=a=>{let{context:i}=this.component,o=this.eventRange;this.relevantEvents=DN(i.getCurrentData().eventStore,this.eventRange.instance.instanceId);let c=this.querySegEl(a);this.draggingSegEl=c,this.draggingSeg=hp(c),i.calendarApi.unselect(),i.emitter.trigger("eventResizeStart",{el:c,event:new pn(i,o.def,o.instance),jsEvent:a.origEvent,view:i.viewApi})},this.handleHitUpdate=(a,i,o)=>{let{context:c}=this.component,d=this.relevantEvents,u=this.hitDragging.initialHit,h=this.eventRange.instance,f=null,p=null,g=!1,m={affectedEvents:d,mutatedEvents:li(),isEvent:!0};a&&(a.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,a)||(f=ale(u,a,o.subjectEl.classList.contains("fc-event-resizer-start"),h.range))),f&&(p=IN(d,c.getCurrentData().eventUiBases,f,c),m.mutatedEvents=p,WO(m,a.dateProfile,c)||(g=!0,f=null,p=null,m.mutatedEvents=null)),p?c.dispatch({type:"SET_EVENT_RESIZE",state:m}):c.dispatch({type:"UNSET_EVENT_RESIZE"}),g?wN():kN(),i||(f&&S2(u,a)&&(f=null),this.validMutation=f,this.mutatedRelevantEvents=p)},this.handleDragEnd=a=>{let{context:i}=this.component,o=this.eventRange.def,c=this.eventRange.instance,d=new pn(i,o,c),u=this.relevantEvents,h=this.mutatedRelevantEvents;if(i.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:a.origEvent,view:i.viewApi}),this.validMutation){let f=new pn(i,h.defs[o.defId],c?h.instances[c.instanceId]:null);i.dispatch({type:"MERGE_EVENTS",eventStore:h});let p={oldEvent:d,event:f,relatedEvents:Ru(h,i,c),revert(){i.dispatch({type:"MERGE_EVENTS",eventStore:u})}};i.emitter.trigger("eventResize",Object.assign(Object.assign({},p),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||xr(0),endDelta:this.validMutation.endDelta||xr(0),jsEvent:a.origEvent,view:i.viewApi})),i.emitter.trigger("eventChange",p)}else i.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,n=this.dragging=new V0(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=t.context.options.dragScroll;let s=this.hitDragging=new C2(this.dragging,ON(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Zs(e.subjectEl,".fc-event")}}function ale(r,e,t,n){let s=r.context.dateEnv,a=r.dateSpan.range.start,i=e.dateSpan.range.start,o=Sf(a,i,s,r.largeUnit);if(t){if(s.add(n.start,o)<n.end)return{startDelta:o}}else if(s.add(n.end,o)>n.start)return{endDelta:o};return null}class ile{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let s=this.context.options.unselectCancel,a=tO(n.origEvent);this.matchesCancel=!!Zs(a,s),this.matchesEvent=!!Zs(a,W0.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:s}=this,{documentPointer:a}=this,i=s.getCurrentData();if(!a.wasTouchScroll){if(i.dateSelection&&!this.isRecentPointerDateSelect){let o=s.options.unselectAuto;o&&(!o||!this.matchesCancel)&&s.calendarApi.unselect(n)}i.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new SF(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const ole={fixedMirrorParent:Ie},lle={dateClick:Ie,eventDragStart:Ie,eventDragStop:Ie,eventDrop:Ie,eventResizeStart:Ie,eventResizeStop:Ie,eventResize:Ie,drop:Ie,eventReceive:Ie,eventLeave:Ie};UN.dataAttrPrefix="";var cle=ic({name:"@fullcalendar/interaction",componentInteractions:[Koe,Qoe,W0,sle],calendarInteractions:[ile],elementDraggingImpl:V0,optionRefiners:ole,listenerRefiners:lle});const dle=()=>{const[r,e]=b.useState(null),[t,n]=b.useState(""),[s,a]=b.useState(""),[i,o]=b.useState(""),[c,d]=b.useState(""),[u,h]=b.useState([]),f=b.useRef(null),{isOpen:p,openModal:g,closeModal:m}=vR(),v={Danger:"danger",Success:"success",Primary:"primary",Warning:"warning"};b.useEffect(()=>{h([{id:"1",title:"Event Conf.",start:new Date().toISOString().split("T")[0],extendedProps:{calendar:"Danger"}},{id:"2",title:"Meeting",start:new Date(Date.now()+864e5).toISOString().split("T")[0],extendedProps:{calendar:"Success"}},{id:"3",title:"Workshop",start:new Date(Date.now()+1728e5).toISOString().split("T")[0],end:new Date(Date.now()+2592e5).toISOString().split("T")[0],extendedProps:{calendar:"Primary"}}])},[]);const x=S=>{k(),a(S.startStr),o(S.endStr||S.startStr),g()},y=S=>{var A,E;const N=S.event;e(N),n(N.title),a(((A=N.start)==null?void 0:A.toISOString().split("T")[0])||""),o(((E=N.end)==null?void 0:E.toISOString().split("T")[0])||""),d(N.extendedProps.calendar),g()},w=()=>{if(r)h(S=>S.map(N=>N.id===r.id?{...N,title:t,start:s,end:i,extendedProps:{calendar:c}}:N));else{const S={id:Date.now().toString(),title:t,start:s,end:i,allDay:!0,extendedProps:{calendar:c}};h(N=>[...N,S])}m(),k()},k=()=>{n(""),a(""),o(""),d(""),e(null)};return l.jsxs(l.Fragment,{children:[l.jsx(er,{pageTitle:"Calendário"}),l.jsxs("div",{className:"rounded-2xl border  border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]",children:[l.jsx("div",{className:"custom-calendar",children:l.jsx(uF,{ref:f,plugins:[roe,Hoe,cle],initialView:"dayGridMonth",headerToolbar:{left:"prev,next addEventButton",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},events:u,selectable:!0,select:x,eventClick:y,eventContent:ule,customButtons:{addEventButton:{text:"Add Event +",click:g}}})}),l.jsx(ai,{isOpen:p,onClose:m,className:"max-w-[700px] p-6 lg:p-10",children:l.jsxs("div",{className:"flex flex-col px-2 overflow-y-auto custom-scrollbar",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"mb-2 font-semibold text-gray-800 modal-title text-theme-xl dark:text-white/90 lg:text-2xl",children:r?"Edit Event":"Add Event"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Plan your next big moment: schedule or edit an event to stay on track"})]}),l.jsxs("div",{className:"mt-8",children:[l.jsx("div",{children:l.jsxs("div",{children:[l.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Event Title"}),l.jsx("input",{id:"event-title",type:"text",value:t,onChange:S=>n(S.target.value),className:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"})]})}),l.jsxs("div",{className:"mt-6",children:[l.jsx("label",{className:"block mb-4 text-sm font-medium text-gray-700 dark:text-gray-400",children:"Event Color"}),l.jsx("div",{className:"flex flex-wrap items-center gap-4 sm:gap-5",children:Object.entries(v).map(([S,N])=>l.jsx("div",{className:"n-chk",children:l.jsx("div",{className:`form-check form-check-${N} form-check-inline`,children:l.jsxs("label",{className:"flex items-center text-sm text-gray-700 form-check-label dark:text-gray-400",htmlFor:`modal${S}`,children:[l.jsxs("span",{className:"relative",children:[l.jsx("input",{className:"sr-only form-check-input",type:"radio",name:"event-level",value:S,id:`modal${S}`,checked:c===S,onChange:()=>d(S)}),l.jsx("span",{className:"flex items-center justify-center w-5 h-5 mr-2 border border-gray-300 rounded-full box dark:border-gray-700",children:l.jsx("span",{className:`h-2 w-2 rounded-full bg-white ${c===S?"block":"hidden"}`})})]}),S]})})},S))})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Enter Start Date"}),l.jsx("div",{className:"relative",children:l.jsx("input",{id:"event-start-date",type:"date",value:s,onChange:S=>a(S.target.value),className:"dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pl-4 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"})})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Enter End Date"}),l.jsx("div",{className:"relative",children:l.jsx("input",{id:"event-end-date",type:"date",value:i,onChange:S=>o(S.target.value),className:"dark:bg-dark-900 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pl-4 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"})})]})]}),l.jsxs("div",{className:"flex items-center gap-3 mt-6 modal-footer sm:justify-end",children:[l.jsx("button",{onClick:m,type:"button",className:"flex w-full justify-center rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] sm:w-auto",children:"Close"}),l.jsx("button",{onClick:w,type:"button",className:"btn btn-success btn-update-event flex w-full justify-center rounded-lg bg-brand-500 px-4 py-2.5 text-sm font-medium text-white hover:bg-brand-600 sm:w-auto",children:r?"Update Changes":"Add Event"})]})]})})]})]})},ule=r=>{const e=`fc-bg-${r.event.extendedProps.calendar.toLowerCase()}`;return l.jsxs("div",{className:`event-fc-color flex fc-event-main ${e} p-1 rounded-sm`,children:[l.jsx("div",{className:"fc-daygrid-event-dot"}),l.jsx("div",{className:"fc-event-time",children:r.timeText}),l.jsx("div",{className:"fc-event-title",children:r.event.title})]})},To=({children:r,className:e})=>l.jsx("table",{className:`min-w-full  ${e}`,children:r}),Po=({children:r,className:e})=>l.jsx("thead",{className:e,children:r}),Lo=({children:r,className:e})=>l.jsx("tbody",{className:e,children:r}),Mr=({children:r,className:e})=>l.jsx("tr",{className:e,children:r}),et=({children:r,isHeader:e=!1,className:t,onClick:n,colSpan:s})=>{const a=e?"th":"td";return l.jsx(a,{className:` ${t}`,onClick:n,colSpan:s,children:r})},hle=[{id:1,user:{image:"/images/user/user-01.jpg",name:"Lindsey Curtis",role:"Web Designer"},projectName:"Agency Website",team:{images:["/images/user/user-01.jpg","/images/user/user-01.jpg","/images/user/user-01.jpg"]},budget:"3.9K",status:"Active"},{id:2,user:{image:"/images/user/user-01.jpg",name:"Kaiya George",role:"Project Manager"},projectName:"Technology",team:{images:["/images/user/user-01.jpg","/images/user/user-01.jpg"]},budget:"24.9K",status:"Pending"},{id:3,user:{image:"/images/user/user-01.jpg",name:"Zain Geidt",role:"Content Writing"},projectName:"Blog Writing",team:{images:["/images/user/user-01.jpg"]},budget:"12.7K",status:"Active"},{id:4,user:{image:"/images/user/user-01.jpg",name:"Abram Schleifer",role:"Digital Marketer"},projectName:"Social Media",team:{images:["/images/user/user-01.jpg","/images/user/user-01.jpg","/images/user/user-01.jpg"]},budget:"2.8K",status:"Cancel"},{id:5,user:{image:"/images/user/user-01.jpg",name:"Carla George",role:"Front-end Developer"},projectName:"Website",team:{images:["/images/user/user-01.jpg","/images/user/user-01.jpg","/images/user/user-01.jpg"]},budget:"4.5K",status:"Active"}];function fle(){return l.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:l.jsx("div",{className:"max-w-full overflow-x-auto",children:l.jsx("div",{className:"min-w-[1102px]",children:l.jsxs(To,{children:[l.jsx(Po,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:l.jsxs(Mr,{children:[l.jsx(et,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"User"}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Project Name"}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Team"}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Status"}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Budget"})]})}),l.jsx(Lo,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:hle.map(r=>l.jsxs(Mr,{children:[l.jsx(et,{className:"px-5 py-4 sm:px-6 text-start",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 overflow-hidden rounded-full",children:l.jsx("img",{width:40,height:40,src:r.user.image,alt:r.user.name})}),l.jsxs("div",{children:[l.jsx("span",{className:"block font-medium text-gray-800 text-theme-sm dark:text-white/90",children:r.user.name}),l.jsx("span",{className:"block text-gray-500 text-theme-xs dark:text-gray-400",children:r.user.role})]})]})}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:r.projectName}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:l.jsx("div",{className:"flex -space-x-2",children:r.team.images.map((e,t)=>l.jsx("div",{className:"w-6 h-6 overflow-hidden border-2 border-white rounded-full dark:border-gray-900",children:l.jsx("img",{width:24,height:24,src:e,alt:`Team member ${t+1}`,className:"w-full size-6"})},t))})}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:l.jsx(Dt,{size:"sm",color:r.status==="Active"?"success":r.status==="Pending"?"warning":"error",children:r.status})}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:r.budget})]},r.id))})]})})})})}function ple(){return l.jsxs(l.Fragment,{children:[l.jsx(er,{title:"React.js Basic Tables Dashboard | TailAdmin - Next.js Admin Dashboard Template",description:"This is React.js Basic Tables Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),l.jsx(Dr,{pageTitle:"Basic Tables"}),l.jsx("div",{className:"space-y-6",children:l.jsx(pr,{title:"Basic Table 1",children:l.jsx(fle,{})})})]})}var AF={},Q5=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Uf={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(r){return typeof console<"u"&&console.warn(r)},getWeek:function(r){var e=new Date(r.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},a0={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(r){var e=r%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Ea=function(r,e){return e===void 0&&(e=2),("000"+r).slice(e*-1)},Pi=function(r){return r===!0?1:0};function n9(r,e){var t;return function(){var n=this,s=arguments;clearTimeout(t),t=setTimeout(function(){return r.apply(n,s)},e)}}var e4=function(r){return r instanceof Array?r:[r]};function oa(r,e,t){if(t===!0)return r.classList.add(e);r.classList.remove(e)}function jr(r,e,t){var n=window.document.createElement(r);return e=e||"",t=t||"",n.className=e,t!==void 0&&(n.textContent=t),n}function y1(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function TF(r,e){if(e(r))return r;if(r.parentNode)return TF(r.parentNode,e)}function b1(r,e){var t=jr("div","numInputWrapper"),n=jr("input","numInput "+r),s=jr("span","arrowUp"),a=jr("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),e!==void 0)for(var i in e)n.setAttribute(i,e[i]);return t.appendChild(n),t.appendChild(s),t.appendChild(a),t}function Xa(r){try{if(typeof r.composedPath=="function"){var e=r.composedPath();return e[0]}return r.target}catch{return r.target}}var t4=function(){},Iy=function(r,e,t){return t.months[e?"shorthand":"longhand"][r]},gle={D:t4,F:function(r,e,t){r.setMonth(t.months.longhand.indexOf(e))},G:function(r,e){r.setHours((r.getHours()>=12?12:0)+parseFloat(e))},H:function(r,e){r.setHours(parseFloat(e))},J:function(r,e){r.setDate(parseFloat(e))},K:function(r,e,t){r.setHours(r.getHours()%12+12*Pi(new RegExp(t.amPM[1],"i").test(e)))},M:function(r,e,t){r.setMonth(t.months.shorthand.indexOf(e))},S:function(r,e){r.setSeconds(parseFloat(e))},U:function(r,e){return new Date(parseFloat(e)*1e3)},W:function(r,e,t){var n=parseInt(e),s=new Date(r.getFullYear(),0,2+(n-1)*7,0,0,0,0);return s.setDate(s.getDate()-s.getDay()+t.firstDayOfWeek),s},Y:function(r,e){r.setFullYear(parseFloat(e))},Z:function(r,e){return new Date(e)},d:function(r,e){r.setDate(parseFloat(e))},h:function(r,e){r.setHours((r.getHours()>=12?12:0)+parseFloat(e))},i:function(r,e){r.setMinutes(parseFloat(e))},j:function(r,e){r.setDate(parseFloat(e))},l:t4,m:function(r,e){r.setMonth(parseFloat(e)-1)},n:function(r,e){r.setMonth(parseFloat(e)-1)},s:function(r,e){r.setSeconds(parseFloat(e))},u:function(r,e){return new Date(parseFloat(e))},w:t4,y:function(r,e){r.setFullYear(2e3+parseFloat(e))}},cu={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},mm={Z:function(r){return r.toISOString()},D:function(r,e,t){return e.weekdays.shorthand[mm.w(r,e,t)]},F:function(r,e,t){return Iy(mm.n(r,e,t)-1,!1,e)},G:function(r,e,t){return Ea(mm.h(r,e,t))},H:function(r){return Ea(r.getHours())},J:function(r,e){return e.ordinal!==void 0?r.getDate()+e.ordinal(r.getDate()):r.getDate()},K:function(r,e){return e.amPM[Pi(r.getHours()>11)]},M:function(r,e){return Iy(r.getMonth(),!0,e)},S:function(r){return Ea(r.getSeconds())},U:function(r){return r.getTime()/1e3},W:function(r,e,t){return t.getWeek(r)},Y:function(r){return Ea(r.getFullYear(),4)},d:function(r){return Ea(r.getDate())},h:function(r){return r.getHours()%12?r.getHours()%12:12},i:function(r){return Ea(r.getMinutes())},j:function(r){return r.getDate()},l:function(r,e){return e.weekdays.longhand[r.getDay()]},m:function(r){return Ea(r.getMonth()+1)},n:function(r){return r.getMonth()+1},s:function(r){return r.getSeconds()},u:function(r){return r.getTime()},w:function(r){return r.getDay()},y:function(r){return String(r.getFullYear()).substring(2)}},PF=function(r){var e=r.config,t=e===void 0?Uf:e,n=r.l10n,s=n===void 0?a0:n,a=r.isMobile,i=a===void 0?!1:a;return function(o,c,d){var u=d||s;return t.formatDate!==void 0&&!i?t.formatDate(o,c,u):c.split("").map(function(h,f,p){return mm[h]&&p[f-1]!=="\\"?mm[h](o,u,t):h!=="\\"?h:""}).join("")}},cC=function(r){var e=r.config,t=e===void 0?Uf:e,n=r.l10n,s=n===void 0?a0:n;return function(a,i,o,c){if(!(a!==0&&!a)){var d=c||s,u,h=a;if(a instanceof Date)u=new Date(a.getTime());else if(typeof a!="string"&&a.toFixed!==void 0)u=new Date(a);else if(typeof a=="string"){var f=i||(t||Uf).dateFormat,p=String(a).trim();if(p==="today")u=new Date,o=!0;else if(t&&t.parseDate)u=t.parseDate(a,f);else if(/Z$/.test(p)||/GMT$/.test(p))u=new Date(a);else{for(var g=void 0,m=[],v=0,x=0,y="";v<f.length;v++){var w=f[v],k=w==="\\",S=f[v-1]==="\\"||k;if(cu[w]&&!S){y+=cu[w];var N=new RegExp(y).exec(a);N&&(g=!0)&&m[w!=="Y"?"push":"unshift"]({fn:gle[w],val:N[++x]})}else k||(y+=".")}u=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),m.forEach(function(A){var E=A.fn,R=A.val;return u=E(u,R,d)||u}),u=g?u:void 0}}if(!(u instanceof Date&&!isNaN(u.getTime()))){t.errorHandler(new Error("Invalid date provided: "+h));return}return o===!0&&u.setHours(0,0,0,0),u}}};function Ka(r,e,t){return t===void 0&&(t=!0),t!==!1?new Date(r.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):r.getTime()-e.getTime()}var mle=function(r,e,t){return r>Math.min(e,t)&&r<Math.max(e,t)},r4=function(r,e,t){return r*3600+e*60+t},xle=function(r){var e=Math.floor(r/3600),t=(r-e*3600)/60;return[e,t,r-e*3600-t*60]},vle={DAY:864e5};function n4(r){var e=r.defaultHour,t=r.defaultMinute,n=r.defaultSeconds;if(r.minDate!==void 0){var s=r.minDate.getHours(),a=r.minDate.getMinutes(),i=r.minDate.getSeconds();e<s&&(e=s),e===s&&t<a&&(t=a),e===s&&t===a&&n<i&&(n=r.minDate.getSeconds())}if(r.maxDate!==void 0){var o=r.maxDate.getHours(),c=r.maxDate.getMinutes();e=Math.min(e,o),e===o&&(t=Math.min(c,t)),e===o&&t===c&&(n=r.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:n}}typeof Object.assign!="function"&&(Object.assign=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!r)throw TypeError("Cannot convert undefined or null to object");for(var n=function(o){o&&Object.keys(o).forEach(function(c){return r[c]=o[c]})},s=0,a=e;s<a.length;s++){var i=a[s];n(i)}return r});var Gs=function(){return Gs=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Gs.apply(this,arguments)},s9=function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),s=0,e=0;e<t;e++)for(var a=arguments[e],i=0,o=a.length;i<o;i++,s++)n[s]=a[i];return n},yle=300;function ble(r,e){var t={config:Gs(Gs({},Uf),Xn.defaultConfig),l10n:a0};t.parseDate=cC({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=m,t._setHoursFromDate=f,t._positionCalendar=je,t.changeMonth=Q,t.changeYear=re,t.clear=T,t.close=H,t.onMouseOver=Se,t._createElement=jr,t.createDay=N,t.destroy=$,t.isEnabled=oe,t.jumpToDate=y,t.updateValue=Jr,t.open=at,t.redraw=He,t.set=Fe,t.setDate=ft,t.toggle=pt;function n(){t.utils={getDaysInMonth:function(ne,ie){return ne===void 0&&(ne=t.currentMonth),ie===void 0&&(ie=t.currentYear),ne===1&&(ie%4===0&&ie%100!==0||ie%400===0)?29:t.l10n.daysInMonth[ne]}}}function s(){t.element=t.input=r,t.isOpen=!1,le(),rt(),he(),Ae(),n(),t.isMobile||S(),x(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&f(t.config.noCalendar?t.latestSelectedDateObj:void 0),Jr(!1)),o();var ne=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&ne&&je(),Ue("onReady")}function a(){var ne;return((ne=t.calendarContainer)===null||ne===void 0?void 0:ne.getRootNode()).activeElement||document.activeElement}function i(ne){return ne.bind(t)}function o(){var ne=t.config;ne.weekNumbers===!1&&ne.showMonths===1||ne.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var ie=(t.days.offsetWidth+1)*ne.showMonths;t.daysContainer.style.width=ie+"px",t.calendarContainer.style.width=ie+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function c(ne){if(t.selectedDates.length===0){var ie=t.config.minDate===void 0||Ka(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),ve=n4(t.config);ie.setHours(ve.hours,ve.minutes,ve.seconds,ie.getMilliseconds()),t.selectedDates=[ie],t.latestSelectedDateObj=ie}ne!==void 0&&ne.type!=="blur"&&tr(ne);var Ee=t._input.value;h(),Jr(),t._input.value!==Ee&&t._debouncedChange()}function d(ne,ie){return ne%12+12*Pi(ie===t.l10n.amPM[1])}function u(ne){switch(ne%24){case 0:case 12:return 12;default:return ne%12}}function h(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var ne=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,ie=(parseInt(t.minuteElement.value,10)||0)%60,ve=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(ne=d(ne,t.amPM.textContent));var Ee=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&Ka(t.latestSelectedDateObj,t.config.minDate,!0)===0,Xe=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&Ka(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var ct=r4(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),qe=r4(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),gt=r4(ne,ie,ve);if(gt>qe&&gt<ct){var Tt=xle(ct);ne=Tt[0],ie=Tt[1],ve=Tt[2]}}else{if(Xe){var Ke=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;ne=Math.min(ne,Ke.getHours()),ne===Ke.getHours()&&(ie=Math.min(ie,Ke.getMinutes())),ie===Ke.getMinutes()&&(ve=Math.min(ve,Ke.getSeconds()))}if(Ee){var bt=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;ne=Math.max(ne,bt.getHours()),ne===bt.getHours()&&ie<bt.getMinutes()&&(ie=bt.getMinutes()),ie===bt.getMinutes()&&(ve=Math.max(ve,bt.getSeconds()))}}p(ne,ie,ve)}}function f(ne){var ie=ne||t.latestSelectedDateObj;ie&&ie instanceof Date&&p(ie.getHours(),ie.getMinutes(),ie.getSeconds())}function p(ne,ie,ve){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(ne%24,ie,ve||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=Ea(t.config.time_24hr?ne:(12+ne)%12+12*Pi(ne%12===0)),t.minuteElement.value=Ea(ie),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[Pi(ne>=12)]),t.secondElement!==void 0&&(t.secondElement.value=Ea(ve)))}function g(ne){var ie=Xa(ne),ve=parseInt(ie.value)+(ne.delta||0);(ve/1e3>1||ne.key==="Enter"&&!/[^\d]/.test(ve.toString()))&&re(ve)}function m(ne,ie,ve,Ee){if(ie instanceof Array)return ie.forEach(function(Xe){return m(ne,Xe,ve,Ee)});if(ne instanceof Array)return ne.forEach(function(Xe){return m(Xe,ie,ve,Ee)});ne.addEventListener(ie,ve,Ee),t._handlers.push({remove:function(){return ne.removeEventListener(ie,ve,Ee)}})}function v(){Ue("onChange")}function x(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(ve){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+ve+"]"),function(Ee){return m(Ee,"click",t[ve])})}),t.isMobile){$e();return}var ne=n9(De,50);if(t._debouncedChange=n9(v,yle),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&m(t.daysContainer,"mouseover",function(ve){t.config.mode==="range"&&Se(Xa(ve))}),m(t._input,"keydown",Ce),t.calendarContainer!==void 0&&m(t.calendarContainer,"keydown",Ce),!t.config.inline&&!t.config.static&&m(window,"resize",ne),window.ontouchstart!==void 0?m(window.document,"touchstart",K):m(window.document,"mousedown",K),m(window.document,"focus",K,{capture:!0}),t.config.clickOpens===!0&&(m(t._input,"focus",t.open),m(t._input,"click",t.open)),t.daysContainer!==void 0&&(m(t.monthNav,"click",Er),m(t.monthNav,["keyup","increment"],g),m(t.daysContainer,"click",Le)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var ie=function(ve){return Xa(ve).select()};m(t.timeContainer,["increment"],c),m(t.timeContainer,"blur",c,{capture:!0}),m(t.timeContainer,"click",w),m([t.hourElement,t.minuteElement],["focus","click"],ie),t.secondElement!==void 0&&m(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&m(t.amPM,"click",function(ve){c(ve)})}t.config.allowInput&&m(t._input,"blur",be)}function y(ne,ie){var ve=ne!==void 0?t.parseDate(ne):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),Ee=t.currentYear,Xe=t.currentMonth;try{ve!==void 0&&(t.currentYear=ve.getFullYear(),t.currentMonth=ve.getMonth())}catch(ct){ct.message="Invalid date supplied: "+ve,t.config.errorHandler(ct)}ie&&t.currentYear!==Ee&&(Ue("onYearChange"),F()),ie&&(t.currentYear!==Ee||t.currentMonth!==Xe)&&Ue("onMonthChange"),t.redraw()}function w(ne){var ie=Xa(ne);~ie.className.indexOf("arrow")&&k(ne,ie.classList.contains("arrowUp")?1:-1)}function k(ne,ie,ve){var Ee=ne&&Xa(ne),Xe=ve||Ee&&Ee.parentNode&&Ee.parentNode.firstChild,ct=yt("increment");ct.delta=ie,Xe&&Xe.dispatchEvent(ct)}function S(){var ne=window.document.createDocumentFragment();if(t.calendarContainer=jr("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(ne.appendChild(z()),t.innerContainer=jr("div","flatpickr-innerContainer"),t.config.weekNumbers){var ie=q(),ve=ie.weekWrapper,Ee=ie.weekNumbers;t.innerContainer.appendChild(ve),t.weekNumbers=Ee,t.weekWrapper=ve}t.rContainer=jr("div","flatpickr-rContainer"),t.rContainer.appendChild(W()),t.daysContainer||(t.daysContainer=jr("div","flatpickr-days"),t.daysContainer.tabIndex=-1),D(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),ne.appendChild(t.innerContainer)}t.config.enableTime&&ne.appendChild(V()),oa(t.calendarContainer,"rangeMode",t.config.mode==="range"),oa(t.calendarContainer,"animate",t.config.animate===!0),oa(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(ne);var Xe=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!Xe&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var ct=jr("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(ct,t.element),ct.appendChild(t.element),t.altInput&&ct.appendChild(t.altInput),ct.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function N(ne,ie,ve,Ee){var Xe=oe(ie,!0),ct=jr("span",ne,ie.getDate().toString());return ct.dateObj=ie,ct.$i=Ee,ct.setAttribute("aria-label",t.formatDate(ie,t.config.ariaDateFormat)),ne.indexOf("hidden")===-1&&Ka(ie,t.now)===0&&(t.todayDateElem=ct,ct.classList.add("today"),ct.setAttribute("aria-current","date")),Xe?(ct.tabIndex=-1,ir(ie)&&(ct.classList.add("selected"),t.selectedDateElem=ct,t.config.mode==="range"&&(oa(ct,"startRange",t.selectedDates[0]&&Ka(ie,t.selectedDates[0],!0)===0),oa(ct,"endRange",t.selectedDates[1]&&Ka(ie,t.selectedDates[1],!0)===0),ne==="nextMonthDay"&&ct.classList.add("inRange")))):ct.classList.add("flatpickr-disabled"),t.config.mode==="range"&&qt(ie)&&!ir(ie)&&ct.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&ne!=="prevMonthDay"&&Ee%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(ie)+"</span>"),Ue("onDayCreate",ct),ct}function A(ne){ne.focus(),t.config.mode==="range"&&Se(ne)}function E(ne){for(var ie=ne>0?0:t.config.showMonths-1,ve=ne>0?t.config.showMonths:-1,Ee=ie;Ee!=ve;Ee+=ne)for(var Xe=t.daysContainer.children[Ee],ct=ne>0?0:Xe.children.length-1,qe=ne>0?Xe.children.length:-1,gt=ct;gt!=qe;gt+=ne){var Tt=Xe.children[gt];if(Tt.className.indexOf("hidden")===-1&&oe(Tt.dateObj))return Tt}}function R(ne,ie){for(var ve=ne.className.indexOf("Month")===-1?ne.dateObj.getMonth():t.currentMonth,Ee=ie>0?t.config.showMonths:-1,Xe=ie>0?1:-1,ct=ve-t.currentMonth;ct!=Ee;ct+=Xe)for(var qe=t.daysContainer.children[ct],gt=ve-t.currentMonth===ct?ne.$i+ie:ie<0?qe.children.length-1:0,Tt=qe.children.length,Ke=gt;Ke>=0&&Ke<Tt&&Ke!=(ie>0?Tt:-1);Ke+=Xe){var bt=qe.children[Ke];if(bt.className.indexOf("hidden")===-1&&oe(bt.dateObj)&&Math.abs(ne.$i-Ke)>=Math.abs(ie))return A(bt)}t.changeMonth(Xe),O(E(Xe),0)}function O(ne,ie){var ve=a(),Ee=ue(ve||document.body),Xe=ne!==void 0?ne:Ee?ve:t.selectedDateElem!==void 0&&ue(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&ue(t.todayDateElem)?t.todayDateElem:E(ie>0?1:-1);Xe===void 0?t._input.focus():Ee?R(Xe,ie):A(Xe)}function L(ne,ie){for(var ve=(new Date(ne,ie,1).getDay()-t.l10n.firstDayOfWeek+7)%7,Ee=t.utils.getDaysInMonth((ie-1+12)%12,ne),Xe=t.utils.getDaysInMonth(ie,ne),ct=window.document.createDocumentFragment(),qe=t.config.showMonths>1,gt=qe?"prevMonthDay hidden":"prevMonthDay",Tt=qe?"nextMonthDay hidden":"nextMonthDay",Ke=Ee+1-ve,bt=0;Ke<=Ee;Ke++,bt++)ct.appendChild(N("flatpickr-day "+gt,new Date(ne,ie-1,Ke),Ke,bt));for(Ke=1;Ke<=Xe;Ke++,bt++)ct.appendChild(N("flatpickr-day",new Date(ne,ie,Ke),Ke,bt));for(var Mt=Xe+1;Mt<=42-ve&&(t.config.showMonths===1||bt%7!==0);Mt++,bt++)ct.appendChild(N("flatpickr-day "+Tt,new Date(ne,ie+1,Mt%Xe),Mt,bt));var lr=jr("div","dayContainer");return lr.appendChild(ct),lr}function D(){if(t.daysContainer!==void 0){y1(t.daysContainer),t.weekNumbers&&y1(t.weekNumbers);for(var ne=document.createDocumentFragment(),ie=0;ie<t.config.showMonths;ie++){var ve=new Date(t.currentYear,t.currentMonth,1);ve.setMonth(t.currentMonth+ie),ne.appendChild(L(ve.getFullYear(),ve.getMonth()))}t.daysContainer.appendChild(ne),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&Se()}}function F(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var ne=function(Ee){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&Ee<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&Ee>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var ie=0;ie<12;ie++)if(ne(ie)){var ve=jr("option","flatpickr-monthDropdown-month");ve.value=new Date(t.currentYear,ie).getMonth().toString(),ve.textContent=Iy(ie,t.config.shorthandCurrentMonth,t.l10n),ve.tabIndex=-1,t.currentMonth===ie&&(ve.selected=!0),t.monthsDropdownContainer.appendChild(ve)}}}function M(){var ne=jr("div","flatpickr-month"),ie=window.document.createDocumentFragment(),ve;t.config.showMonths>1||t.config.monthSelectorType==="static"?ve=jr("span","cur-month"):(t.monthsDropdownContainer=jr("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),m(t.monthsDropdownContainer,"change",function(qe){var gt=Xa(qe),Tt=parseInt(gt.value,10);t.changeMonth(Tt-t.currentMonth),Ue("onMonthChange")}),F(),ve=t.monthsDropdownContainer);var Ee=b1("cur-year",{tabindex:"-1"}),Xe=Ee.getElementsByTagName("input")[0];Xe.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&Xe.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(Xe.setAttribute("max",t.config.maxDate.getFullYear().toString()),Xe.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var ct=jr("div","flatpickr-current-month");return ct.appendChild(ve),ct.appendChild(Ee),ie.appendChild(ct),ne.appendChild(ie),{container:ne,yearElement:Xe,monthElement:ve}}function B(){y1(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var ne=t.config.showMonths;ne--;){var ie=M();t.yearElements.push(ie.yearElement),t.monthElements.push(ie.monthElement),t.monthNav.appendChild(ie.container)}t.monthNav.appendChild(t.nextMonthNav)}function z(){return t.monthNav=jr("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=jr("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=jr("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,B(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(ne){t.__hidePrevMonthArrow!==ne&&(oa(t.prevMonthNav,"flatpickr-disabled",ne),t.__hidePrevMonthArrow=ne)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(ne){t.__hideNextMonthArrow!==ne&&(oa(t.nextMonthNav,"flatpickr-disabled",ne),t.__hideNextMonthArrow=ne)}}),t.currentYearElement=t.yearElements[0],Yr(),t.monthNav}function V(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var ne=n4(t.config);t.timeContainer=jr("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var ie=jr("span","flatpickr-time-separator",":"),ve=b1("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=ve.getElementsByTagName("input")[0];var Ee=b1("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=Ee.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=Ea(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?ne.hours:u(ne.hours)),t.minuteElement.value=Ea(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():ne.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(ve),t.timeContainer.appendChild(ie),t.timeContainer.appendChild(Ee),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var Xe=b1("flatpickr-second");t.secondElement=Xe.getElementsByTagName("input")[0],t.secondElement.value=Ea(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():ne.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(jr("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(Xe)}return t.config.time_24hr||(t.amPM=jr("span","flatpickr-am-pm",t.l10n.amPM[Pi((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function W(){t.weekdayContainer?y1(t.weekdayContainer):t.weekdayContainer=jr("div","flatpickr-weekdays");for(var ne=t.config.showMonths;ne--;){var ie=jr("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(ie)}return Z(),t.weekdayContainer}function Z(){if(t.weekdayContainer){var ne=t.l10n.firstDayOfWeek,ie=s9(t.l10n.weekdays.shorthand);ne>0&&ne<ie.length&&(ie=s9(ie.splice(ne,ie.length),ie.splice(0,ne)));for(var ve=t.config.showMonths;ve--;)t.weekdayContainer.children[ve].innerHTML=`
      <span class='flatpickr-weekday'>
        `+ie.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function q(){t.calendarContainer.classList.add("hasWeeks");var ne=jr("div","flatpickr-weekwrapper");ne.appendChild(jr("span","flatpickr-weekday",t.l10n.weekAbbreviation));var ie=jr("div","flatpickr-weeks");return ne.appendChild(ie),{weekWrapper:ne,weekNumbers:ie}}function Q(ne,ie){ie===void 0&&(ie=!0);var ve=ie?ne:ne-t.currentMonth;ve<0&&t._hidePrevMonthArrow===!0||ve>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=ve,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,Ue("onYearChange"),F()),D(),Ue("onMonthChange"),Yr())}function T(ne,ie){if(ne===void 0&&(ne=!0),ie===void 0&&(ie=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,ie===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var ve=n4(t.config),Ee=ve.hours,Xe=ve.minutes,ct=ve.seconds;p(Ee,Xe,ct)}t.redraw(),ne&&Ue("onChange")}function H(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),Ue("onClose")}function $(){t.config!==void 0&&Ue("onDestroy");for(var ne=t._handlers.length;ne--;)t._handlers[ne].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var ie=t.calendarContainer.parentNode;if(ie.lastChild&&ie.removeChild(ie.lastChild),ie.parentNode){for(;ie.firstChild;)ie.parentNode.insertBefore(ie.firstChild,ie);ie.parentNode.removeChild(ie)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(ve){try{delete t[ve]}catch{}})}function Y(ne){return t.calendarContainer.contains(ne)}function K(ne){if(t.isOpen&&!t.config.inline){var ie=Xa(ne),ve=Y(ie),Ee=ie===t.input||ie===t.altInput||t.element.contains(ie)||ne.path&&ne.path.indexOf&&(~ne.path.indexOf(t.input)||~ne.path.indexOf(t.altInput)),Xe=!Ee&&!ve&&!Y(ne.relatedTarget),ct=!t.config.ignoredFocusElements.some(function(qe){return qe.contains(ie)});Xe&&ct&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&c(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function re(ne){if(!(!ne||t.config.minDate&&ne<t.config.minDate.getFullYear()||t.config.maxDate&&ne>t.config.maxDate.getFullYear())){var ie=ne,ve=t.currentYear!==ie;t.currentYear=ie||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),ve&&(t.redraw(),Ue("onYearChange"),F())}}function oe(ne,ie){var ve;ie===void 0&&(ie=!0);var Ee=t.parseDate(ne,void 0,ie);if(t.config.minDate&&Ee&&Ka(Ee,t.config.minDate,ie!==void 0?ie:!t.minDateHasTime)<0||t.config.maxDate&&Ee&&Ka(Ee,t.config.maxDate,ie!==void 0?ie:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(Ee===void 0)return!1;for(var Xe=!!t.config.enable,ct=(ve=t.config.enable)!==null&&ve!==void 0?ve:t.config.disable,qe=0,gt=void 0;qe<ct.length;qe++){if(gt=ct[qe],typeof gt=="function"&&gt(Ee))return Xe;if(gt instanceof Date&&Ee!==void 0&&gt.getTime()===Ee.getTime())return Xe;if(typeof gt=="string"){var Tt=t.parseDate(gt,void 0,!0);return Tt&&Tt.getTime()===Ee.getTime()?Xe:!Xe}else if(typeof gt=="object"&&Ee!==void 0&&gt.from&&gt.to&&Ee.getTime()>=gt.from.getTime()&&Ee.getTime()<=gt.to.getTime())return Xe}return!Xe}function ue(ne){return t.daysContainer!==void 0?ne.className.indexOf("hidden")===-1&&ne.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(ne):!1}function be(ne){var ie=ne.target===t._input,ve=t._input.value.trimEnd()!==Nr();ie&&ve&&!(ne.relatedTarget&&Y(ne.relatedTarget))&&t.setDate(t._input.value,!0,ne.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function Ce(ne){var ie=Xa(ne),ve=t.config.wrap?r.contains(ie):ie===t._input,Ee=t.config.allowInput,Xe=t.isOpen&&(!Ee||!ve),ct=t.config.inline&&ve&&!Ee;if(ne.keyCode===13&&ve){if(Ee)return t.setDate(t._input.value,!0,ie===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),ie.blur();t.open()}else if(Y(ie)||Xe||ct){var qe=!!t.timeContainer&&t.timeContainer.contains(ie);switch(ne.keyCode){case 13:qe?(ne.preventDefault(),c(),it()):Le(ne);break;case 27:ne.preventDefault(),it();break;case 8:case 46:ve&&!t.config.allowInput&&(ne.preventDefault(),t.clear());break;case 37:case 39:if(!qe&&!ve){ne.preventDefault();var gt=a();if(t.daysContainer!==void 0&&(Ee===!1||gt&&ue(gt))){var Tt=ne.keyCode===39?1:-1;ne.ctrlKey?(ne.stopPropagation(),Q(Tt),O(E(1),0)):O(void 0,Tt)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:ne.preventDefault();var Ke=ne.keyCode===40?1:-1;t.daysContainer&&ie.$i!==void 0||ie===t.input||ie===t.altInput?ne.ctrlKey?(ne.stopPropagation(),re(t.currentYear-Ke),O(E(1),0)):qe||O(void 0,Ke*7):ie===t.currentYearElement?re(t.currentYear-Ke):t.config.enableTime&&(!qe&&t.hourElement&&t.hourElement.focus(),c(ne),t._debouncedChange());break;case 9:if(qe){var bt=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(Tr){return Tr}),Mt=bt.indexOf(ie);if(Mt!==-1){var lr=bt[Mt+(ne.shiftKey?-1:1)];ne.preventDefault(),(lr||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(ie)&&ne.shiftKey&&(ne.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&ie===t.amPM)switch(ne.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],h(),Jr();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],h(),Jr();break}(ve||Y(ie))&&Ue("onKeyDown",ne)}function Se(ne,ie){if(ie===void 0&&(ie="flatpickr-day"),!(t.selectedDates.length!==1||ne&&(!ne.classList.contains(ie)||ne.classList.contains("flatpickr-disabled")))){for(var ve=ne?ne.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),Ee=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),Xe=Math.min(ve,t.selectedDates[0].getTime()),ct=Math.max(ve,t.selectedDates[0].getTime()),qe=!1,gt=0,Tt=0,Ke=Xe;Ke<ct;Ke+=vle.DAY)oe(new Date(Ke),!0)||(qe=qe||Ke>Xe&&Ke<ct,Ke<Ee&&(!gt||Ke>gt)?gt=Ke:Ke>Ee&&(!Tt||Ke<Tt)&&(Tt=Ke));var bt=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+ie));bt.forEach(function(Mt){var lr=Mt.dateObj,Tr=lr.getTime(),Dn=gt>0&&Tr<gt||Tt>0&&Tr>Tt;if(Dn){Mt.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function($n){Mt.classList.remove($n)});return}else if(qe&&!Dn)return;["startRange","inRange","endRange","notAllowed"].forEach(function($n){Mt.classList.remove($n)}),ne!==void 0&&(ne.classList.add(ve<=t.selectedDates[0].getTime()?"startRange":"endRange"),Ee<ve&&Tr===Ee?Mt.classList.add("startRange"):Ee>ve&&Tr===Ee&&Mt.classList.add("endRange"),Tr>=gt&&(Tt===0||Tr<=Tt)&&mle(Tr,Ee,ve)&&Mt.classList.add("inRange"))})}}function De(){t.isOpen&&!t.config.static&&!t.config.inline&&je()}function at(ne,ie){if(ie===void 0&&(ie=t._positionElement),t.isMobile===!0){if(ne){ne.preventDefault();var ve=Xa(ne);ve&&ve.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),Ue("onOpen");return}else if(t._input.disabled||t.config.inline)return;var Ee=t.isOpen;t.isOpen=!0,Ee||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),Ue("onOpen"),je(ie)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(ne===void 0||!t.timeContainer.contains(ne.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function _e(ne){return function(ie){var ve=t.config["_"+ne+"Date"]=t.parseDate(ie,t.config.dateFormat),Ee=t.config["_"+(ne==="min"?"max":"min")+"Date"];ve!==void 0&&(t[ne==="min"?"minDateHasTime":"maxDateHasTime"]=ve.getHours()>0||ve.getMinutes()>0||ve.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(Xe){return oe(Xe)}),!t.selectedDates.length&&ne==="min"&&f(ve),Jr()),t.daysContainer&&(He(),ve!==void 0?t.currentYearElement[ne]=ve.getFullYear().toString():t.currentYearElement.removeAttribute(ne),t.currentYearElement.disabled=!!Ee&&ve!==void 0&&Ee.getFullYear()===ve.getFullYear())}}function le(){var ne=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],ie=Gs(Gs({},JSON.parse(JSON.stringify(r.dataset||{}))),e),ve={};t.config.parseDate=ie.parseDate,t.config.formatDate=ie.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(bt){t.config._enable=xt(bt)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(bt){t.config._disable=xt(bt)}});var Ee=ie.mode==="time";if(!ie.dateFormat&&(ie.enableTime||Ee)){var Xe=Xn.defaultConfig.dateFormat||Uf.dateFormat;ve.dateFormat=ie.noCalendar||Ee?"H:i"+(ie.enableSeconds?":S":""):Xe+" H:i"+(ie.enableSeconds?":S":"")}if(ie.altInput&&(ie.enableTime||Ee)&&!ie.altFormat){var ct=Xn.defaultConfig.altFormat||Uf.altFormat;ve.altFormat=ie.noCalendar||Ee?"h:i"+(ie.enableSeconds?":S K":" K"):ct+(" h:i"+(ie.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:_e("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:_e("max")});var qe=function(bt){return function(Mt){t.config[bt==="min"?"_minTime":"_maxTime"]=t.parseDate(Mt,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:qe("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:qe("max")}),ie.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,ve,ie);for(var gt=0;gt<ne.length;gt++)t.config[ne[gt]]=t.config[ne[gt]]===!0||t.config[ne[gt]]==="true";Q5.filter(function(bt){return t.config[bt]!==void 0}).forEach(function(bt){t.config[bt]=e4(t.config[bt]||[]).map(i)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var gt=0;gt<t.config.plugins.length;gt++){var Tt=t.config.plugins[gt](t)||{};for(var Ke in Tt)Q5.indexOf(Ke)>-1?t.config[Ke]=e4(Tt[Ke]).map(i).concat(t.config[Ke]):typeof ie[Ke]>"u"&&(t.config[Ke]=Tt[Ke])}ie.altInputClass||(t.config.altInputClass=ut().className+" "+t.config.altInputClass),Ue("onParseConfig")}function ut(){return t.config.wrap?r.querySelector("[data-input]"):r}function rt(){typeof t.config.locale!="object"&&typeof Xn.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=Gs(Gs({},Xn.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?Xn.l10ns[t.config.locale]:void 0),cu.D="("+t.l10n.weekdays.shorthand.join("|")+")",cu.l="("+t.l10n.weekdays.longhand.join("|")+")",cu.M="("+t.l10n.months.shorthand.join("|")+")",cu.F="("+t.l10n.months.longhand.join("|")+")",cu.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var ne=Gs(Gs({},e),JSON.parse(JSON.stringify(r.dataset||{})));ne.time_24hr===void 0&&Xn.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=PF(t),t.parseDate=cC({config:t.config,l10n:t.l10n})}function je(ne){if(typeof t.config.position=="function")return void t.config.position(t,ne);if(t.calendarContainer!==void 0){Ue("onPreCalendarPosition");var ie=ne||t._positionElement,ve=Array.prototype.reduce.call(t.calendarContainer.children,function(Ji,yi){return Ji+yi.offsetHeight},0),Ee=t.calendarContainer.offsetWidth,Xe=t.config.position.split(" "),ct=Xe[0],qe=Xe.length>1?Xe[1]:null,gt=ie.getBoundingClientRect(),Tt=window.innerHeight-gt.bottom,Ke=ct==="above"||ct!=="below"&&Tt<ve&&gt.top>ve,bt=window.pageYOffset+gt.top+(Ke?-ve-2:ie.offsetHeight+2);if(oa(t.calendarContainer,"arrowTop",!Ke),oa(t.calendarContainer,"arrowBottom",Ke),!t.config.inline){var Mt=window.pageXOffset+gt.left,lr=!1,Tr=!1;qe==="center"?(Mt-=(Ee-gt.width)/2,lr=!0):qe==="right"&&(Mt-=Ee-gt.width,Tr=!0),oa(t.calendarContainer,"arrowLeft",!lr&&!Tr),oa(t.calendarContainer,"arrowCenter",lr),oa(t.calendarContainer,"arrowRight",Tr);var Dn=window.document.body.offsetWidth-(window.pageXOffset+gt.right),$n=Mt+Ee>window.document.body.offsetWidth,ra=Dn+Ee>window.document.body.offsetWidth;if(oa(t.calendarContainer,"rightMost",$n),!t.config.static)if(t.calendarContainer.style.top=bt+"px",!$n)t.calendarContainer.style.left=Mt+"px",t.calendarContainer.style.right="auto";else if(!ra)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=Dn+"px";else{var Ss=fe();if(Ss===void 0)return;var Ha=window.document.body.offsetWidth,gr=Math.max(0,Ha/2-Ee/2),Ua=".flatpickr-calendar.centerMost:before",xi=".flatpickr-calendar.centerMost:after",vi=Ss.cssRules.length,na="{left:"+gt.left+"px;right:auto;}";oa(t.calendarContainer,"rightMost",!1),oa(t.calendarContainer,"centerMost",!0),Ss.insertRule(Ua+","+xi+na,vi),t.calendarContainer.style.left=gr+"px",t.calendarContainer.style.right="auto"}}}}function fe(){for(var ne=null,ie=0;ie<document.styleSheets.length;ie++){var ve=document.styleSheets[ie];if(ve.cssRules){try{ve.cssRules}catch{continue}ne=ve;break}}return ne??Re()}function Re(){var ne=document.createElement("style");return document.head.appendChild(ne),ne.sheet}function He(){t.config.noCalendar||t.isMobile||(F(),Yr(),D())}function it(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function Le(ne){ne.preventDefault(),ne.stopPropagation();var ie=function(bt){return bt.classList&&bt.classList.contains("flatpickr-day")&&!bt.classList.contains("flatpickr-disabled")&&!bt.classList.contains("notAllowed")},ve=TF(Xa(ne),ie);if(ve!==void 0){var Ee=ve,Xe=t.latestSelectedDateObj=new Date(Ee.dateObj.getTime()),ct=(Xe.getMonth()<t.currentMonth||Xe.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=Ee,t.config.mode==="single")t.selectedDates=[Xe];else if(t.config.mode==="multiple"){var qe=ir(Xe);qe?t.selectedDates.splice(parseInt(qe),1):t.selectedDates.push(Xe)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=Xe,t.selectedDates.push(Xe),Ka(Xe,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(bt,Mt){return bt.getTime()-Mt.getTime()}));if(h(),ct){var gt=t.currentYear!==Xe.getFullYear();t.currentYear=Xe.getFullYear(),t.currentMonth=Xe.getMonth(),gt&&(Ue("onYearChange"),F()),Ue("onMonthChange")}if(Yr(),D(),Jr(),!ct&&t.config.mode!=="range"&&t.config.showMonths===1?A(Ee):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var Tt=t.config.mode==="single"&&!t.config.enableTime,Ke=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(Tt||Ke)&&it()}v()}}var ze={locale:[rt,Z],showMonths:[B,o,W],minDate:[y],maxDate:[y],positionElement:[mt],clickOpens:[function(){t.config.clickOpens===!0?(m(t._input,"focus",t.open),m(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function Fe(ne,ie){if(ne!==null&&typeof ne=="object"){Object.assign(t.config,ne);for(var ve in ne)ze[ve]!==void 0&&ze[ve].forEach(function(Ee){return Ee()})}else t.config[ne]=ie,ze[ne]!==void 0?ze[ne].forEach(function(Ee){return Ee()}):Q5.indexOf(ne)>-1&&(t.config[ne]=e4(ie));t.redraw(),Jr(!0)}function Ze(ne,ie){var ve=[];if(ne instanceof Array)ve=ne.map(function(Ee){return t.parseDate(Ee,ie)});else if(ne instanceof Date||typeof ne=="number")ve=[t.parseDate(ne,ie)];else if(typeof ne=="string")switch(t.config.mode){case"single":case"time":ve=[t.parseDate(ne,ie)];break;case"multiple":ve=ne.split(t.config.conjunction).map(function(Ee){return t.parseDate(Ee,ie)});break;case"range":ve=ne.split(t.l10n.rangeSeparator).map(function(Ee){return t.parseDate(Ee,ie)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(ne)));t.selectedDates=t.config.allowInvalidPreload?ve:ve.filter(function(Ee){return Ee instanceof Date&&oe(Ee,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(Ee,Xe){return Ee.getTime()-Xe.getTime()})}function ft(ne,ie,ve){if(ie===void 0&&(ie=!1),ve===void 0&&(ve=t.config.dateFormat),ne!==0&&!ne||ne instanceof Array&&ne.length===0)return t.clear(ie);Ze(ne,ve),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),y(void 0,ie),f(),t.selectedDates.length===0&&t.clear(!1),Jr(ie),ie&&Ue("onChange")}function xt(ne){return ne.slice().map(function(ie){return typeof ie=="string"||typeof ie=="number"||ie instanceof Date?t.parseDate(ie,void 0,!0):ie&&typeof ie=="object"&&ie.from&&ie.to?{from:t.parseDate(ie.from,void 0),to:t.parseDate(ie.to,void 0)}:ie}).filter(function(ie){return ie})}function Ae(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var ne=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);ne&&Ze(ne,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function he(){if(t.input=ut(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=jr(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),mt()}function mt(){t._positionElement=t.config.positionElement||t._input}function $e(){var ne=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=jr("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=ne,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=ne==="datetime-local"?"Y-m-d\\TH:i:S":ne==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}m(t.mobileInput,"change",function(ie){t.setDate(Xa(ie).value,!1,t.mobileFormatStr),Ue("onChange"),Ue("onClose")})}function pt(ne){if(t.isOpen===!0)return t.close();t.open(ne)}function Ue(ne,ie){if(t.config!==void 0){var ve=t.config[ne];if(ve!==void 0&&ve.length>0)for(var Ee=0;ve[Ee]&&Ee<ve.length;Ee++)ve[Ee](t.selectedDates,t.input.value,t,ie);ne==="onChange"&&(t.input.dispatchEvent(yt("change")),t.input.dispatchEvent(yt("input")))}}function yt(ne){var ie=document.createEvent("Event");return ie.initEvent(ne,!0,!0),ie}function ir(ne){for(var ie=0;ie<t.selectedDates.length;ie++){var ve=t.selectedDates[ie];if(ve instanceof Date&&Ka(ve,ne)===0)return""+ie}return!1}function qt(ne){return t.config.mode!=="range"||t.selectedDates.length<2?!1:Ka(ne,t.selectedDates[0])>=0&&Ka(ne,t.selectedDates[1])<=0}function Yr(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(ne,ie){var ve=new Date(t.currentYear,t.currentMonth,1);ve.setMonth(t.currentMonth+ie),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[ie].textContent=Iy(ve.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=ve.getMonth().toString(),ne.value=ve.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function Nr(ne){var ie=ne||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(ve){return t.formatDate(ve,ie)}).filter(function(ve,Ee,Xe){return t.config.mode!=="range"||t.config.enableTime||Xe.indexOf(ve)===Ee}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Jr(ne){ne===void 0&&(ne=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=Nr(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=Nr(t.config.altFormat)),ne!==!1&&Ue("onValueUpdate")}function Er(ne){var ie=Xa(ne),ve=t.prevMonthNav.contains(ie),Ee=t.nextMonthNav.contains(ie);ve||Ee?Q(ve?-1:1):t.yearElements.indexOf(ie)>=0?ie.select():ie.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):ie.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function tr(ne){ne.preventDefault();var ie=ne.type==="keydown",ve=Xa(ne),Ee=ve;t.amPM!==void 0&&ve===t.amPM&&(t.amPM.textContent=t.l10n.amPM[Pi(t.amPM.textContent===t.l10n.amPM[0])]);var Xe=parseFloat(Ee.getAttribute("min")),ct=parseFloat(Ee.getAttribute("max")),qe=parseFloat(Ee.getAttribute("step")),gt=parseInt(Ee.value,10),Tt=ne.delta||(ie?ne.which===38?1:-1:0),Ke=gt+qe*Tt;if(typeof Ee.value<"u"&&Ee.value.length===2){var bt=Ee===t.hourElement,Mt=Ee===t.minuteElement;Ke<Xe?(Ke=ct+Ke+Pi(!bt)+(Pi(bt)&&Pi(!t.amPM)),Mt&&k(void 0,-1,t.hourElement)):Ke>ct&&(Ke=Ee===t.hourElement?Ke-ct-Pi(!t.amPM):Xe,Mt&&k(void 0,1,t.hourElement)),t.amPM&&bt&&(qe===1?Ke+gt===23:Math.abs(Ke-gt)>qe)&&(t.amPM.textContent=t.l10n.amPM[Pi(t.amPM.textContent===t.l10n.amPM[0])]),Ee.value=Ea(Ke)}}return s(),t}function $f(r,e){for(var t=Array.prototype.slice.call(r).filter(function(i){return i instanceof HTMLElement}),n=[],s=0;s<t.length;s++){var a=t[s];try{if(a.getAttribute("data-fp-omit")!==null)continue;a._flatpickr!==void 0&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=ble(a,e||{}),n.push(a._flatpickr)}catch(i){console.error(i)}}return n.length===1?n[0]:n}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(r){return $f(this,r)},HTMLElement.prototype.flatpickr=function(r){return $f([this],r)});var Xn=function(r,e){return typeof r=="string"?$f(window.document.querySelectorAll(r),e):r instanceof Node?$f([r],e):$f(r,e)};Xn.defaultConfig={};Xn.l10ns={en:Gs({},a0),default:Gs({},a0)};Xn.localize=function(r){Xn.l10ns.default=Gs(Gs({},Xn.l10ns.default),r)};Xn.setDefaults=function(r){Xn.defaultConfig=Gs(Gs({},Xn.defaultConfig),r)};Xn.parseDate=cC({});Xn.formatDate=PF({});Xn.compareDates=Ka;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(r){return $f(this,r)});Date.prototype.fp_incr=function(r){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof r=="string"?parseInt(r,10):r))};typeof window<"u"&&(window.flatpickr=Xn);const wle=Object.freeze(Object.defineProperty({__proto__:null,default:Xn},Symbol.toStringTag,{value:"Module"})),kle=DS(wle);(function(r){function e(Q){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(H){return typeof H}:e=function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},e(Q)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=o(b),n=a($6),s=a(kle);function a(Q){return Q&&Q.__esModule?Q:{default:Q}}function i(){if(typeof WeakMap!="function")return null;var Q=new WeakMap;return i=function(){return Q},Q}function o(Q){if(Q&&Q.__esModule)return Q;if(Q===null||e(Q)!=="object"&&typeof Q!="function")return{default:Q};var T=i();if(T&&T.has(Q))return T.get(Q);var H={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Y in Q)if(Object.prototype.hasOwnProperty.call(Q,Y)){var K=$?Object.getOwnPropertyDescriptor(Q,Y):null;K&&(K.get||K.set)?Object.defineProperty(H,Y,K):H[Y]=Q[Y]}return H.default=Q,T&&T.set(Q,H),H}function c(Q){return f(Q)||h(Q)||u(Q)||d()}function d(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(Q,T){if(Q){if(typeof Q=="string")return p(Q,T);var H=Object.prototype.toString.call(Q).slice(8,-1);if(H==="Object"&&Q.constructor&&(H=Q.constructor.name),H==="Map"||H==="Set")return Array.from(Q);if(H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return p(Q,T)}}function h(Q){if(typeof Symbol<"u"&&Symbol.iterator in Object(Q))return Array.from(Q)}function f(Q){if(Array.isArray(Q))return p(Q)}function p(Q,T){(T==null||T>Q.length)&&(T=Q.length);for(var H=0,$=new Array(T);H<T;H++)$[H]=Q[H];return $}function g(){return g=Object.assign||function(Q){for(var T=1;T<arguments.length;T++){var H=arguments[T];for(var $ in H)Object.prototype.hasOwnProperty.call(H,$)&&(Q[$]=H[$])}return Q},g.apply(this,arguments)}function m(Q,T){if(Q==null)return{};var H=v(Q,T),$,Y;if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(Q);for(Y=0;Y<K.length;Y++)$=K[Y],!(T.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(Q,$)&&(H[$]=Q[$])}return H}function v(Q,T){if(Q==null)return{};var H={},$=Object.keys(Q),Y,K;for(K=0;K<$.length;K++)Y=$[K],!(T.indexOf(Y)>=0)&&(H[Y]=Q[Y]);return H}function x(Q,T){var H=Object.keys(Q);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(Q);T&&($=$.filter(function(Y){return Object.getOwnPropertyDescriptor(Q,Y).enumerable})),H.push.apply(H,$)}return H}function y(Q){for(var T=1;T<arguments.length;T++){var H=arguments[T]!=null?arguments[T]:{};T%2?x(Object(H),!0).forEach(function($){F(Q,$,H[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(H)):x(Object(H)).forEach(function($){Object.defineProperty(Q,$,Object.getOwnPropertyDescriptor(H,$))})}return Q}function w(Q,T){if(!(Q instanceof T))throw new TypeError("Cannot call a class as a function")}function k(Q,T){for(var H=0;H<T.length;H++){var $=T[H];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(Q,$.key,$)}}function S(Q,T,H){return T&&k(Q.prototype,T),Q}function N(Q,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(T&&T.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),T&&A(Q,T)}function A(Q,T){return A=Object.setPrototypeOf||function($,Y){return $.__proto__=Y,$},A(Q,T)}function E(Q){var T=L();return function(){var $=D(Q),Y;if(T){var K=D(this).constructor;Y=Reflect.construct($,arguments,K)}else Y=$.apply(this,arguments);return R(this,Y)}}function R(Q,T){return T&&(e(T)==="object"||typeof T=="function")?T:O(Q)}function O(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function D(Q){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(H){return H.__proto__||Object.getPrototypeOf(H)},D(Q)}function F(Q,T,H){return T in Q?Object.defineProperty(Q,T,{value:H,enumerable:!0,configurable:!0,writable:!0}):Q[T]=H,Q}var M=["onChange","onOpen","onClose","onMonthChange","onYearChange","onReady","onValueUpdate","onDayCreate"],B=n.default.oneOfType([n.default.func,n.default.arrayOf(n.default.func)]),z=["onCreate","onDestroy"],V=n.default.func,W=function(Q){N(H,Q);var T=E(H);function H(){var $;w(this,H);for(var Y=arguments.length,K=new Array(Y),re=0;re<Y;re++)K[re]=arguments[re];return $=T.call.apply(T,[this].concat(K)),F(O($),"createFlatpickrInstance",function(){var oe=y({onClose:function(){$.node.blur&&$.node.blur()}},$.props.options);oe=Z(oe,$.props),$.flatpickr=(0,s.default)($.node,oe),$.props.hasOwnProperty("value")&&$.flatpickr.setDate($.props.value,!1);var ue=$.props.onCreate;ue&&ue($.flatpickr)}),F(O($),"destroyFlatpickrInstance",function(){var oe=$.props.onDestroy;oe&&oe($.flatpickr),$.flatpickr.destroy(),$.flatpickr=null}),F(O($),"handleNodeChange",function(oe){$.node=oe,$.flatpickr&&($.destroyFlatpickrInstance(),$.createFlatpickrInstance())}),$}return S(H,[{key:"componentDidUpdate",value:function(Y){var K=this.props.options,re=Y.options;K=Z(K,this.props),re=Z(re,Y);for(var oe=Object.getOwnPropertyNames(K),ue=oe.length-1;ue>=0;ue--){var be=oe[ue],Ce=K[be];Ce!==re[be]&&(M.indexOf(be)!==-1&&!Array.isArray(Ce)&&(Ce=[Ce]),this.flatpickr.set(be,Ce))}this.props.hasOwnProperty("value")&&!(this.props.value&&Array.isArray(this.props.value)&&Y.value&&Array.isArray(Y.value)&&this.props.value.every(function(Se,De){Y[De]}))&&this.props.value!==Y.value&&this.flatpickr.setDate(this.props.value,!1)}},{key:"componentDidMount",value:function(){this.createFlatpickrInstance()}},{key:"componentWillUnmount",value:function(){this.destroyFlatpickrInstance()}},{key:"render",value:function(){var Y=this.props,K=Y.options,re=Y.defaultValue,oe=Y.value,ue=Y.children,be=Y.render,Ce=m(Y,["options","defaultValue","value","children","render"]);return M.forEach(function(Se){delete Ce[Se]}),z.forEach(function(Se){delete Ce[Se]}),be?be(y(y({},Ce),{},{defaultValue:re,value:oe}),this.handleNodeChange):K.wrap?t.default.createElement("div",g({},Ce,{ref:this.handleNodeChange}),ue):t.default.createElement("input",g({},Ce,{defaultValue:re,ref:this.handleNodeChange}))}}]),H}(t.Component);F(W,"propTypes",{defaultValue:n.default.string,options:n.default.object,onChange:B,onOpen:B,onClose:B,onMonthChange:B,onYearChange:B,onReady:B,onValueUpdate:B,onDayCreate:B,onCreate:V,onDestroy:V,value:n.default.oneOfType([n.default.string,n.default.array,n.default.object,n.default.number]),children:n.default.node,className:n.default.string,render:n.default.func}),F(W,"defaultProps",{options:{}});function Z(Q,T){var H=y({},Q);return M.forEach(function($){if(T.hasOwnProperty($)){var Y;H[$]&&!Array.isArray(H[$])?H[$]=[H[$]]:H[$]||(H[$]=[]);var K=Array.isArray(T[$])?T[$]:[T[$]];(Y=H[$]).push.apply(Y,c(K))}}),H}var q=W;r.default=q})(AF);const Cle=_o(AF);function Sle(){const[r,e]=b.useState(!1),t=[{value:"marketing",label:"Marketing"},{value:"template",label:"Template"},{value:"development",label:"Development"}],n=o=>{console.log("Selected value:",o)},[s,a]=b.useState(""),i=o=>{a(o[0].toLocaleDateString())};return l.jsx(pr,{title:"Default Inputs",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(Me,{htmlFor:"input",children:"Input"}),l.jsx(st,{type:"text",id:"input"})]}),l.jsxs("div",{children:[l.jsx(Me,{htmlFor:"inputTwo",children:"Input with Placeholder"}),l.jsx(st,{type:"text",id:"inputTwo",placeholder:"info@gmail.com"})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Select Input"}),l.jsx(or,{options:t,placeholder:"Select an option",onChange:n,className:"dark:bg-dark-900"})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Password Input"}),l.jsxs("div",{className:"relative",children:[l.jsx(st,{type:r?"text":"password",placeholder:"Enter your password"}),l.jsx("button",{onClick:()=>e(!r),className:"absolute z-30 -translate-y-1/2 cursor-pointer right-4 top-1/2",children:r?l.jsx(Ql,{className:"fill-gray-500 dark:fill-gray-400 size-5"}):l.jsx(vd,{className:"fill-gray-500 dark:fill-gray-400 size-5"})})]})]}),l.jsxs("div",{children:[l.jsx(Me,{htmlFor:"datePicker",children:"Date Picker Input"}),l.jsxs("div",{className:"relative w-full flatpickr-wrapper",children:[l.jsx(Cle,{value:s,onChange:i,options:{dateFormat:"Y-m-d"},placeholder:"Select an option",className:"h-11 w-full rounded-lg border appearance-none px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3  dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30  bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-brand-500/20 dark:border-gray-700  dark:focus:border-brand-800"}),l.jsx("span",{className:"absolute text-gray-500 -translate-y-1/2 pointer-events-none right-3 top-1/2 dark:text-gray-400",children:l.jsx(q6,{className:"size-6"})})]})]}),l.jsxs("div",{children:[l.jsx(Me,{htmlFor:"tm",children:"Time Input"}),l.jsxs("div",{className:"relative",children:[l.jsx(st,{type:"time",id:"tm",name:"tm",onChange:o=>console.log(o.target.value)}),l.jsx("span",{className:"absolute text-gray-500 -translate-y-1/2 pointer-events-none right-3 top-1/2 dark:text-gray-400",children:l.jsx(Y6,{className:"size-6"})})]})]}),l.jsxs("div",{children:[l.jsx(Me,{htmlFor:"website",children:"URL do Site"}),l.jsx("div",{className:"relative",children:l.jsx(st,{type:"url",id:"website",name:"website",placeholder:"https://example.com",pattern:"^https?://.+",title:"URL must start with http:// or https://"})}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"A URL deve começar com http:// ou https://"})]}),l.jsxs("div",{children:[l.jsx(Me,{htmlFor:"tm",children:"Input with Payment"}),l.jsxs("div",{className:"relative",children:[l.jsx(st,{type:"text",placeholder:"Card number",className:"pl-[62px]"}),l.jsx("span",{className:"absolute left-0 top-1/2 flex h-11 w-[46px] -translate-y-1/2 items-center justify-center border-r border-gray-200 dark:border-gray-800",children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"6.25",cy:"10",r:"5.625",fill:"#E80B26"}),l.jsx("circle",{cx:"13.75",cy:"10",r:"5.625",fill:"#F59D31"}),l.jsx("path",{d:"M10 14.1924C11.1508 13.1625 11.875 11.6657 11.875 9.99979C11.875 8.33383 11.1508 6.8371 10 5.80713C8.84918 6.8371 8.125 8.33383 8.125 9.99979C8.125 11.6657 8.84918 13.1625 10 14.1924Z",fill:"#FC6020"})]})})]})]})]})})}function Nle(){const r=[{code:"US",label:"+1"},{code:"GB",label:"+44"},{code:"CA",label:"+1"},{code:"AU",label:"+61"}],e=t=>{console.log("Updated phone number:",t)};return l.jsx(pr,{title:"Input Group",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(Me,{children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(st,{placeholder:"info@gmail.com",type:"text",className:"pl-[62px]"}),l.jsx("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 border-r border-gray-200 px-3.5 py-3 text-gray-500 dark:border-gray-800 dark:text-gray-400",children:l.jsx(W6,{className:"size-6"})})]})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Phone"}),l.jsx(Xu,{selectPosition:"start",countries:r,placeholder:"+1 (555) 000-0000",onChange:e})]})," ",l.jsxs("div",{children:[l.jsx(Me,{children:"Phone"}),l.jsx(Xu,{selectPosition:"end",countries:r,placeholder:"+1 (555) 000-0000",onChange:e})]})]})})}function ph(r,e,t,n){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?a(u.value):s(u.value).then(o,c)}d((n=n.apply(r,e||[])).next())})}const Ele=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function pp(r,e,t){const n=_le(r),{webkitRelativePath:s}=r,a=typeof e=="string"?e:typeof s=="string"&&s.length>0?s:`./${r.name}`;return typeof n.path!="string"&&a9(n,"path",a),a9(n,"relativePath",a),n}function _le(r){const{name:e}=r;if(e&&e.lastIndexOf(".")!==-1&&!r.type){const n=e.split(".").pop().toLowerCase(),s=Ele.get(n);s&&Object.defineProperty(r,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return r}function a9(r,e,t){Object.defineProperty(r,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const jle=[".DS_Store","Thumbs.db"];function Ale(r){return ph(this,void 0,void 0,function*(){return Oy(r)&&Tle(r.dataTransfer)?Mle(r.dataTransfer,r.type):Ple(r)?Lle(r):Array.isArray(r)&&r.every(e=>"getFile"in e&&typeof e.getFile=="function")?Dle(r):[]})}function Tle(r){return Oy(r)}function Ple(r){return Oy(r)&&Oy(r.target)}function Oy(r){return typeof r=="object"&&r!==null}function Lle(r){return dC(r.target.files).map(e=>pp(e))}function Dle(r){return ph(this,void 0,void 0,function*(){return(yield Promise.all(r.map(t=>t.getFile()))).map(t=>pp(t))})}function Mle(r,e){return ph(this,void 0,void 0,function*(){if(r.items){const t=dC(r.items).filter(s=>s.kind==="file");if(e!=="drop")return t;const n=yield Promise.all(t.map(Rle));return i9(LF(n))}return i9(dC(r.files).map(t=>pp(t)))})}function i9(r){return r.filter(e=>jle.indexOf(e.name)===-1)}function dC(r){if(r===null)return[];const e=[];for(let t=0;t<r.length;t++){const n=r[t];e.push(n)}return e}function Rle(r){if(typeof r.webkitGetAsEntry!="function")return o9(r);const e=r.webkitGetAsEntry();return e&&e.isDirectory?DF(e):o9(r,e)}function LF(r){return r.reduce((e,t)=>[...e,...Array.isArray(t)?LF(t):[t]],[])}function o9(r,e){return ph(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof r.getAsFileSystemHandle=="function"){const a=yield r.getAsFileSystemHandle();if(a===null)throw new Error(`${r} is not a File`);if(a!==void 0){const i=yield a.getFile();return i.handle=a,pp(i)}}const n=r.getAsFile();if(!n)throw new Error(`${r} is not a File`);return pp(n,(t=e==null?void 0:e.fullPath)!==null&&t!==void 0?t:void 0)})}function Ile(r){return ph(this,void 0,void 0,function*(){return r.isDirectory?DF(r):Ole(r)})}function DF(r){const e=r.createReader();return new Promise((t,n)=>{const s=[];function a(){e.readEntries(i=>ph(this,void 0,void 0,function*(){if(i.length){const o=Promise.all(i.map(Ile));s.push(o),a()}else try{const o=yield Promise.all(s);t(o)}catch(o){n(o)}}),i=>{n(i)})}a()})}function Ole(r){return ph(this,void 0,void 0,function*(){return new Promise((e,t)=>{r.file(n=>{const s=pp(n,r.fullPath);e(s)},n=>{t(n)})})})}var s4=function(r,e){if(r&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var n=r.name||"",s=(r.type||"").toLowerCase(),a=s.replace(/\/.*$/,"");return t.some(function(i){var o=i.trim().toLowerCase();return o.charAt(0)==="."?n.toLowerCase().endsWith(o):o.endsWith("/*")?a===o.replace(/\/.*$/,""):s===o})}return!0};function l9(r){return zle(r)||Ble(r)||RF(r)||Fle()}function Fle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ble(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function zle(r){if(Array.isArray(r))return uC(r)}function c9(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function d9(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?c9(Object(t),!0).forEach(function(n){MF(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):c9(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function MF(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function i0(r,e){return $le(r)||Ule(r,e)||RF(r,e)||Hle()}function Hle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RF(r,e){if(r){if(typeof r=="string")return uC(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return uC(r,e)}}function uC(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Ule(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],s=!0,a=!1,i,o;try{for(t=t.call(r);!(s=(i=t.next()).done)&&(n.push(i.value),!(e&&n.length===e));s=!0);}catch(c){a=!0,o=c}finally{try{!s&&t.return!=null&&t.return()}finally{if(a)throw o}}return n}}function $le(r){if(Array.isArray(r))return r}var Vle=typeof s4=="function"?s4:s4.default,Wle="file-invalid-type",qle="file-too-large",Yle="file-too-small",Gle="too-many-files",Xle=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),n=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:Wle,message:"File type must be ".concat(n)}},u9=function(e){return{code:qle,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},h9=function(e){return{code:Yle,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Zle={code:Gle,message:"Too many files"};function IF(r,e){var t=r.type==="application/x-moz-file"||Vle(r,e);return[t,t?null:Xle(e)]}function OF(r,e,t){if(du(r.size))if(du(e)&&du(t)){if(r.size>t)return[!1,u9(t)];if(r.size<e)return[!1,h9(e)]}else{if(du(e)&&r.size<e)return[!1,h9(e)];if(du(t)&&r.size>t)return[!1,u9(t)]}return[!0,null]}function du(r){return r!=null}function Jle(r){var e=r.files,t=r.accept,n=r.minSize,s=r.maxSize,a=r.multiple,i=r.maxFiles,o=r.validator;return!a&&e.length>1||a&&i>=1&&e.length>i?!1:e.every(function(c){var d=IF(c,t),u=i0(d,1),h=u[0],f=OF(c,n,s),p=i0(f,1),g=p[0],m=o?o(c):null;return h&&g&&!m})}function Fy(r){return typeof r.isPropagationStopped=="function"?r.isPropagationStopped():typeof r.cancelBubble<"u"?r.cancelBubble:!1}function w1(r){return r.dataTransfer?Array.prototype.some.call(r.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!r.target&&!!r.target.files}function f9(r){r.preventDefault()}function Kle(r){return r.indexOf("MSIE")!==-1||r.indexOf("Trident/")!==-1}function Qle(r){return r.indexOf("Edge/")!==-1}function ece(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Kle(r)||Qle(r)}function Ho(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return function(n){for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];return e.some(function(o){return!Fy(n)&&o&&o.apply(void 0,[n].concat(a)),Fy(n)})}}function tce(){return"showOpenFilePicker"in window}function rce(r){if(du(r)){var e=Object.entries(r).filter(function(t){var n=i0(t,2),s=n[0],a=n[1],i=!0;return FF(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(a)||!a.every(BF))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(t,n){var s=i0(n,2),a=s[0],i=s[1];return d9(d9({},t),{},MF({},a,i))},{});return[{description:"Files",accept:e}]}return r}function nce(r){if(du(r))return Object.entries(r).reduce(function(e,t){var n=i0(t,2),s=n[0],a=n[1];return[].concat(l9(e),[s],l9(a))},[]).filter(function(e){return FF(e)||BF(e)}).join(",")}function sce(r){return r instanceof DOMException&&(r.name==="AbortError"||r.code===r.ABORT_ERR)}function ace(r){return r instanceof DOMException&&(r.name==="SecurityError"||r.code===r.SECURITY_ERR)}function FF(r){return r==="audio/*"||r==="video/*"||r==="image/*"||r==="text/*"||r==="application/*"||/\w+\/[-+.\w]+/g.test(r)}function BF(r){return/^.*\.[\w]+$/.test(r)}var ice=["children"],oce=["open"],lce=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],cce=["refKey","onChange","onClick"];function dce(r){return fce(r)||hce(r)||zF(r)||uce()}function uce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hce(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function fce(r){if(Array.isArray(r))return hC(r)}function a4(r,e){return mce(r)||gce(r,e)||zF(r,e)||pce()}function pce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zF(r,e){if(r){if(typeof r=="string")return hC(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hC(r,e)}}function hC(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function gce(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],s=!0,a=!1,i,o;try{for(t=t.call(r);!(s=(i=t.next()).done)&&(n.push(i.value),!(e&&n.length===e));s=!0);}catch(c){a=!0,o=c}finally{try{!s&&t.return!=null&&t.return()}finally{if(a)throw o}}return n}}function mce(r){if(Array.isArray(r))return r}function p9(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function xn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?p9(Object(t),!0).forEach(function(n){fC(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):p9(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function fC(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function By(r,e){if(r==null)return{};var t=xce(r,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function xce(r,e){if(r==null)return{};var t={},n=Object.keys(r),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(t[s]=r[s]);return t}var ZN=b.forwardRef(function(r,e){var t=r.children,n=By(r,ice),s=JN(n),a=s.open,i=By(s,oce);return b.useImperativeHandle(e,function(){return{open:a}},[a]),ht.createElement(b.Fragment,null,t(xn(xn({},i),{},{open:a})))});ZN.displayName="Dropzone";var HF={disabled:!1,getFilesFromEvent:Ale,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};ZN.defaultProps=HF;ZN.propTypes={children:Ut.func,accept:Ut.objectOf(Ut.arrayOf(Ut.string)),multiple:Ut.bool,preventDropOnDocument:Ut.bool,noClick:Ut.bool,noKeyboard:Ut.bool,noDrag:Ut.bool,noDragEventsBubbling:Ut.bool,minSize:Ut.number,maxSize:Ut.number,maxFiles:Ut.number,disabled:Ut.bool,getFilesFromEvent:Ut.func,onFileDialogCancel:Ut.func,onFileDialogOpen:Ut.func,useFsAccessApi:Ut.bool,autoFocus:Ut.bool,onDragEnter:Ut.func,onDragLeave:Ut.func,onDragOver:Ut.func,onDrop:Ut.func,onDropAccepted:Ut.func,onDropRejected:Ut.func,onError:Ut.func,validator:Ut.func};var pC={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function JN(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=xn(xn({},HF),r),t=e.accept,n=e.disabled,s=e.getFilesFromEvent,a=e.maxSize,i=e.minSize,o=e.multiple,c=e.maxFiles,d=e.onDragEnter,u=e.onDragLeave,h=e.onDragOver,f=e.onDrop,p=e.onDropAccepted,g=e.onDropRejected,m=e.onFileDialogCancel,v=e.onFileDialogOpen,x=e.useFsAccessApi,y=e.autoFocus,w=e.preventDropOnDocument,k=e.noClick,S=e.noKeyboard,N=e.noDrag,A=e.noDragEventsBubbling,E=e.onError,R=e.validator,O=b.useMemo(function(){return nce(t)},[t]),L=b.useMemo(function(){return rce(t)},[t]),D=b.useMemo(function(){return typeof v=="function"?v:g9},[v]),F=b.useMemo(function(){return typeof m=="function"?m:g9},[m]),M=b.useRef(null),B=b.useRef(null),z=b.useReducer(vce,pC),V=a4(z,2),W=V[0],Z=V[1],q=W.isFocused,Q=W.isFileDialogActive,T=b.useRef(typeof window<"u"&&window.isSecureContext&&x&&tce()),H=function(){!T.current&&Q&&setTimeout(function(){if(B.current){var ze=B.current.files;ze.length||(Z({type:"closeDialog"}),F())}},300)};b.useEffect(function(){return window.addEventListener("focus",H,!1),function(){window.removeEventListener("focus",H,!1)}},[B,Q,F,T]);var $=b.useRef([]),Y=function(ze){M.current&&M.current.contains(ze.target)||(ze.preventDefault(),$.current=[])};b.useEffect(function(){return w&&(document.addEventListener("dragover",f9,!1),document.addEventListener("drop",Y,!1)),function(){w&&(document.removeEventListener("dragover",f9),document.removeEventListener("drop",Y))}},[M,w]),b.useEffect(function(){return!n&&y&&M.current&&M.current.focus(),function(){}},[M,y,n]);var K=b.useCallback(function(Le){E?E(Le):console.error(Le)},[E]),re=b.useCallback(function(Le){Le.preventDefault(),Le.persist(),fe(Le),$.current=[].concat(dce($.current),[Le.target]),w1(Le)&&Promise.resolve(s(Le)).then(function(ze){if(!(Fy(Le)&&!A)){var Fe=ze.length,Ze=Fe>0&&Jle({files:ze,accept:O,minSize:i,maxSize:a,multiple:o,maxFiles:c,validator:R}),ft=Fe>0&&!Ze;Z({isDragAccept:Ze,isDragReject:ft,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Le)}}).catch(function(ze){return K(ze)})},[s,d,K,A,O,i,a,o,c,R]),oe=b.useCallback(function(Le){Le.preventDefault(),Le.persist(),fe(Le);var ze=w1(Le);if(ze&&Le.dataTransfer)try{Le.dataTransfer.dropEffect="copy"}catch{}return ze&&h&&h(Le),!1},[h,A]),ue=b.useCallback(function(Le){Le.preventDefault(),Le.persist(),fe(Le);var ze=$.current.filter(function(Ze){return M.current&&M.current.contains(Ze)}),Fe=ze.indexOf(Le.target);Fe!==-1&&ze.splice(Fe,1),$.current=ze,!(ze.length>0)&&(Z({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),w1(Le)&&u&&u(Le))},[M,u,A]),be=b.useCallback(function(Le,ze){var Fe=[],Ze=[];Le.forEach(function(ft){var xt=IF(ft,O),Ae=a4(xt,2),he=Ae[0],mt=Ae[1],$e=OF(ft,i,a),pt=a4($e,2),Ue=pt[0],yt=pt[1],ir=R?R(ft):null;if(he&&Ue&&!ir)Fe.push(ft);else{var qt=[mt,yt];ir&&(qt=qt.concat(ir)),Ze.push({file:ft,errors:qt.filter(function(Yr){return Yr})})}}),(!o&&Fe.length>1||o&&c>=1&&Fe.length>c)&&(Fe.forEach(function(ft){Ze.push({file:ft,errors:[Zle]})}),Fe.splice(0)),Z({acceptedFiles:Fe,fileRejections:Ze,isDragReject:Ze.length>0,type:"setFiles"}),f&&f(Fe,Ze,ze),Ze.length>0&&g&&g(Ze,ze),Fe.length>0&&p&&p(Fe,ze)},[Z,o,O,i,a,c,f,p,g,R]),Ce=b.useCallback(function(Le){Le.preventDefault(),Le.persist(),fe(Le),$.current=[],w1(Le)&&Promise.resolve(s(Le)).then(function(ze){Fy(Le)&&!A||be(ze,Le)}).catch(function(ze){return K(ze)}),Z({type:"reset"})},[s,be,K,A]),Se=b.useCallback(function(){if(T.current){Z({type:"openDialog"}),D();var Le={multiple:o,types:L};window.showOpenFilePicker(Le).then(function(ze){return s(ze)}).then(function(ze){be(ze,null),Z({type:"closeDialog"})}).catch(function(ze){sce(ze)?(F(ze),Z({type:"closeDialog"})):ace(ze)?(T.current=!1,B.current?(B.current.value=null,B.current.click()):K(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):K(ze)});return}B.current&&(Z({type:"openDialog"}),D(),B.current.value=null,B.current.click())},[Z,D,F,x,be,K,L,o]),De=b.useCallback(function(Le){!M.current||!M.current.isEqualNode(Le.target)||(Le.key===" "||Le.key==="Enter"||Le.keyCode===32||Le.keyCode===13)&&(Le.preventDefault(),Se())},[M,Se]),at=b.useCallback(function(){Z({type:"focus"})},[]),_e=b.useCallback(function(){Z({type:"blur"})},[]),le=b.useCallback(function(){k||(ece()?setTimeout(Se,0):Se())},[k,Se]),ut=function(ze){return n?null:ze},rt=function(ze){return S?null:ut(ze)},je=function(ze){return N?null:ut(ze)},fe=function(ze){A&&ze.stopPropagation()},Re=b.useMemo(function(){return function(){var Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ze=Le.refKey,Fe=ze===void 0?"ref":ze,Ze=Le.role,ft=Le.onKeyDown,xt=Le.onFocus,Ae=Le.onBlur,he=Le.onClick,mt=Le.onDragEnter,$e=Le.onDragOver,pt=Le.onDragLeave,Ue=Le.onDrop,yt=By(Le,lce);return xn(xn(fC({onKeyDown:rt(Ho(ft,De)),onFocus:rt(Ho(xt,at)),onBlur:rt(Ho(Ae,_e)),onClick:ut(Ho(he,le)),onDragEnter:je(Ho(mt,re)),onDragOver:je(Ho($e,oe)),onDragLeave:je(Ho(pt,ue)),onDrop:je(Ho(Ue,Ce)),role:typeof Ze=="string"&&Ze!==""?Ze:"presentation"},Fe,M),!n&&!S?{tabIndex:0}:{}),yt)}},[M,De,at,_e,le,re,oe,ue,Ce,S,N,n]),He=b.useCallback(function(Le){Le.stopPropagation()},[]),it=b.useMemo(function(){return function(){var Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ze=Le.refKey,Fe=ze===void 0?"ref":ze,Ze=Le.onChange,ft=Le.onClick,xt=By(Le,cce),Ae=fC({accept:O,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ut(Ho(Ze,Ce)),onClick:ut(Ho(ft,He)),tabIndex:-1},Fe,B);return xn(xn({},Ae),xt)}},[B,t,o,Ce,n]);return xn(xn({},W),{},{isFocused:q&&!n,getRootProps:Re,getInputProps:it,rootRef:M,inputRef:B,open:ut(Se)})}function vce(r,e){switch(e.type){case"focus":return xn(xn({},r),{},{isFocused:!0});case"blur":return xn(xn({},r),{},{isFocused:!1});case"openDialog":return xn(xn({},pC),{},{isFileDialogActive:!0});case"closeDialog":return xn(xn({},r),{},{isFileDialogActive:!1});case"setDraggedFiles":return xn(xn({},r),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return xn(xn({},r),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return xn({},pC);default:return r}}function g9(){}const yce=()=>{const r=s=>{console.log("Files dropped:",s)},{getRootProps:e,getInputProps:t,isDragActive:n}=JN({onDrop:r,accept:{"image/png":[],"image/jpeg":[],"image/webp":[],"image/svg+xml":[]}});return l.jsx(pr,{title:"Dropzone",children:l.jsx("div",{className:"transition border border-gray-300 border-dashed cursor-pointer dark:hover:border-brand-500 dark:border-gray-700 rounded-xl hover:border-brand-500",children:l.jsxs("form",{...e(),className:`dropzone rounded-xl   border-dashed border-gray-300 p-7 lg:p-10
        ${n?"border-brand-500 bg-gray-100 dark:bg-gray-800":"border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-900"}
      `,id:"demo-upload",children:[l.jsx("input",{...t()}),l.jsxs("div",{className:"dz-message flex flex-col items-center m-0!",children:[l.jsx("div",{className:"mb-[22px] flex justify-center",children:l.jsx("div",{className:"flex h-[68px] w-[68px]  items-center justify-center rounded-full bg-gray-200 text-gray-700 dark:bg-gray-800 dark:text-gray-400",children:l.jsx("svg",{className:"fill-current",width:"29",height:"28",viewBox:"0 0 29 28",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5019 3.91699C14.2852 3.91699 14.0899 4.00891 13.953 4.15589L8.57363 9.53186C8.28065 9.82466 8.2805 10.2995 8.5733 10.5925C8.8661 10.8855 9.34097 10.8857 9.63396 10.5929L13.7519 6.47752V18.667C13.7519 19.0812 14.0877 19.417 14.5019 19.417C14.9161 19.417 15.2519 19.0812 15.2519 18.667V6.48234L19.3653 10.5929C19.6583 10.8857 20.1332 10.8855 20.426 10.5925C20.7188 10.2995 20.7186 9.82463 20.4256 9.53184L15.0838 4.19378C14.9463 4.02488 14.7367 3.91699 14.5019 3.91699ZM5.91626 18.667C5.91626 18.2528 5.58047 17.917 5.16626 17.917C4.75205 17.917 4.41626 18.2528 4.41626 18.667V21.8337C4.41626 23.0763 5.42362 24.0837 6.66626 24.0837H22.3339C23.5766 24.0837 24.5839 23.0763 24.5839 21.8337V18.667C24.5839 18.2528 24.2482 17.917 23.8339 17.917C23.4197 17.917 23.0839 18.2528 23.0839 18.667V21.8337C23.0839 22.2479 22.7482 22.5837 22.3339 22.5837H6.66626C6.25205 22.5837 5.91626 22.2479 5.91626 21.8337V18.667Z"})})})}),l.jsx("h4",{className:"mb-3 font-semibold text-gray-800 text-theme-xl dark:text-white/90",children:n?"Drop Files Here":"Drag & Drop Files Here"}),l.jsx("span",{className:" text-center mb-5 block w-full max-w-[290px] text-sm text-gray-700 dark:text-gray-400",children:"Drag and drop your PNG, JPG, WebP, SVG images here or browse"}),l.jsx("span",{className:"font-medium underline text-theme-sm text-brand-500",children:"Browse File"})]})]})})})},Ou=({label:r,checked:e,id:t,onChange:n,className:s="",disabled:a=!1})=>l.jsxs("label",{className:`flex items-center space-x-3 group cursor-pointer ${a?"cursor-not-allowed opacity-60":""}`,children:[l.jsxs("div",{className:"relative w-5 h-5",children:[l.jsx("input",{id:t,type:"checkbox",className:`w-5 h-5 appearance-none cursor-pointer dark:border-gray-700 border border-gray-300 checked:border-transparent rounded-md checked:bg-brand-500 disabled:opacity-60 
          ${s}`,checked:e,onChange:i=>n(i.target.checked),disabled:a}),e&&l.jsx("svg",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 pointer-events-none top-1/2 left-1/2",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:l.jsx("path",{d:"M11.6666 3.5L5.24992 9.91667L2.33325 7",stroke:"white",strokeWidth:"1.94437",strokeLinecap:"round",strokeLinejoin:"round"})}),a&&l.jsx("svg",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 pointer-events-none top-1/2 left-1/2",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:l.jsx("path",{d:"M11.6666 3.5L5.24992 9.91667L2.33325 7",stroke:"#E4E7EC",strokeWidth:"2.33333",strokeLinecap:"round",strokeLinejoin:"round"})})]}),r&&l.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:r})]});function bce(){const[r,e]=b.useState(!1),[t,n]=b.useState(!0),[s,a]=b.useState(!1);return l.jsx(pr,{title:"Checkbox",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ou,{checked:r,onChange:e}),l.jsx("span",{className:"block text-sm font-medium text-gray-700 dark:text-gray-400",children:"Default"})]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsx(Ou,{checked:t,onChange:n,label:"Checked"})}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsx(Ou,{checked:s,onChange:a,disabled:!0,label:"Disabled"})})]})})}const yv=({id:r,name:e,value:t,checked:n,label:s,onChange:a,className:i="",disabled:o=!1})=>l.jsxs("label",{htmlFor:r,className:`relative flex cursor-pointer  select-none items-center gap-3 text-sm font-medium ${o?"text-gray-300 dark:text-gray-600 cursor-not-allowed":"text-gray-700 dark:text-gray-400"} ${i}`,children:[l.jsx("input",{id:r,name:e,type:"radio",value:t,checked:n,onChange:()=>!o&&a(t),className:"sr-only",disabled:o}),l.jsx("span",{className:`flex h-5 w-5 items-center justify-center rounded-full border-[1.25px] ${n?"border-brand-500 bg-brand-500":"bg-transparent border-gray-300 dark:border-gray-700"} ${o?"bg-gray-100 dark:bg-gray-700 border-gray-200 dark:border-gray-700":""}`,children:l.jsx("span",{className:`h-2 w-2 rounded-full bg-white ${n?"block":"hidden"}`})}),s]});function wce(){const[r,e]=b.useState("option2"),t=n=>{e(n)};return l.jsx(pr,{title:"Radio Buttons",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-8",children:[l.jsx(yv,{id:"radio1",name:"group1",value:"option1",checked:r==="option1",onChange:t,label:"Default"}),l.jsx(yv,{id:"radio2",name:"group1",value:"option2",checked:r==="option2",onChange:t,label:"Selected"}),l.jsx(yv,{id:"radio3",name:"group1",value:"option3",checked:r==="option3",onChange:t,label:"Disabled",disabled:!0})]})})}function kce(){const r=e=>{console.log("Switch is now:",e?"ON":"OFF")};return l.jsxs(pr,{title:"Toggle switch input",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx(Vr,{label:"Default",defaultChecked:!0,onChange:r}),l.jsx(Vr,{label:"Checked",defaultChecked:!0,onChange:r}),l.jsx(Vr,{label:"Disabled",disabled:!0})]})," ",l.jsxs("div",{className:"flex gap-4",children:[l.jsx(Vr,{label:"Default",defaultChecked:!0,onChange:r,color:"gray"}),l.jsx(Vr,{label:"Checked",defaultChecked:!0,onChange:r,color:"gray"}),l.jsx(Vr,{label:"Disabled",disabled:!0,color:"gray"})]})]})}const UF=({className:r,onChange:e})=>l.jsx("input",{type:"file",className:`focus:border-ring-brand-300 h-11 w-full overflow-hidden rounded-lg border border-gray-300 bg-transparent text-sm text-gray-500 shadow-theme-xs transition-colors file:mr-5 file:border-collapse file:cursor-pointer file:rounded-l-lg file:border-0 file:border-r file:border-solid file:border-gray-200 file:bg-gray-50 file:py-3 file:pl-3.5 file:pr-3 file:text-sm file:text-gray-700 placeholder:text-gray-400 hover:file:bg-gray-100 focus:outline-hidden focus:file:ring-brand-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-400 dark:text-white/90 dark:file:border-gray-800 dark:file:bg-white/[0.03] dark:file:text-gray-400 dark:placeholder:text-gray-400 ${r}`,onChange:e});function Cce(){const r=e=>{var n;const t=(n=e.target.files)==null?void 0:n[0];t&&console.log("Selected file:",t.name)};return l.jsx(pr,{title:"File Input",children:l.jsxs("div",{children:[l.jsx(Me,{children:"Upload file"}),l.jsx(UF,{onChange:r,className:"custom-class"})]})})}const $F=({label:r,options:e,defaultSelected:t=[],onChange:n,disabled:s=!1,maxSelections:a})=>{const[i,o]=b.useState(t),[c,d]=b.useState(!1),[u,h]=b.useState(""),f=b.useRef(null);b.useEffect(()=>{const y=w=>{f.current&&!f.current.contains(w.target)&&d(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const p=()=>{s||d(y=>!y)},g=y=>{const w=i.includes(y)?i.filter(k=>k!==y):a&&i.length>=a?i:[...i,y];o(w),n==null||n(w)},m=(y,w)=>{w.stopPropagation();const k=i.filter(S=>S!==y);o(k),n==null||n(k)},v=e.filter(y=>y.text.toLowerCase().includes(u.toLowerCase())),x=i.map(y=>{var w;return((w=e.find(k=>k.value===y))==null?void 0:w.text)||""});return l.jsxs("div",{className:"w-full",ref:f,children:[r&&l.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",children:r}),l.jsx("div",{className:"relative z-20 inline-block w-full",children:l.jsxs("div",{className:"relative flex flex-col items-center",children:[l.jsx("div",{onClick:p,className:"w-full",children:l.jsxs("div",{className:"mb-2 flex h-11 rounded-lg border border-gray-300 py-1.5 pl-3 pr-3 shadow-theme-xs outline-hidden transition focus:border-brand-300 focus:shadow-focus-ring dark:border-gray-700 dark:bg-gray-900 dark:focus:border-brand-300",children:[l.jsx("div",{className:"flex flex-wrap flex-auto gap-2",children:x.length>0?x.map((y,w)=>l.jsxs("div",{className:"group flex items-center justify-center rounded-full border-[0.7px] border-transparent bg-gray-100 py-1 pl-2.5 pr-2 text-sm text-gray-800 hover:border-gray-200 dark:bg-gray-800 dark:text-white/90 dark:hover:border-gray-800",children:[l.jsx("span",{className:"flex-initial max-w-full",children:y}),l.jsx("div",{className:"flex flex-row-reverse flex-auto",children:l.jsx("div",{onClick:k=>m(i[w],k),className:"pl-2 text-gray-500 cursor-pointer group-hover:text-gray-400 dark:text-gray-400",children:l.jsx("svg",{className:"fill-current",role:"button",width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.40717 4.46881C3.11428 4.17591 3.11428 3.70104 3.40717 3.40815C3.70006 3.11525 4.17494 3.11525 4.46783 3.40815L6.99943 5.93975L9.53095 3.40822C9.82385 3.11533 10.2987 3.11533 10.5916 3.40822C10.8845 3.70112 10.8845 4.17599 10.5916 4.46888L8.06009 7.00041L10.5916 9.53193C10.8845 9.82482 10.8845 10.2997 10.5916 10.5926C10.2987 10.8855 9.82385 10.8855 9.53095 10.5926L6.99943 8.06107L4.46783 10.5927C4.17494 10.8856 3.70006 10.8856 3.40717 10.5927C3.11428 10.2998 3.11428 9.8249 3.40717 9.53201L5.93877 7.00041L3.40717 4.46881Z"})})})})]},w)):l.jsx("input",{placeholder:"Select option",className:"w-full h-full p-1 pr-2 text-sm bg-transparent border-0 outline-hidden appearance-none placeholder:text-gray-800 focus:border-0 focus:outline-hidden focus:ring-0 dark:placeholder:text-white/90",readOnly:!0,value:"Select option"})}),l.jsx("div",{className:"flex items-center py-1 pl-1 pr-1 w-7",children:l.jsx("button",{type:"button",onClick:p,className:"w-5 h-5 text-gray-700 outline-hidden cursor-pointer focus:outline-hidden dark:text-gray-400",children:l.jsx("svg",{className:`stroke-current ${c?"rotate-180":""}`,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.79175 7.39551L10.0001 12.6038L15.2084 7.39551",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})})]})}),c&&l.jsxs("div",{className:"absolute left-0 z-40 w-full overflow-y-auto bg-white rounded-lg shadow-sm top-full max-h-60 dark:bg-gray-900",children:[l.jsx("div",{className:"p-2",children:l.jsx("input",{type:"text",value:u,onChange:y=>h(y.target.value),placeholder:"Search...",className:"w-full p-2 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg"})}),l.jsxs("div",{className:"flex flex-col text-sm",children:[v.map((y,w)=>l.jsx("div",{className:"hover:bg-primary/5 w-full cursor-pointer rounded-t border-b border-gray-200 dark:border-gray-800",onClick:()=>g(y.value),children:l.jsxs("div",{className:`relative flex w-full items-center p-2 pl-2 ${i.includes(y.value)?"bg-primary/10":""}`,children:[l.jsx("div",{className:"mx-2 leading-6 text-gray-800 dark:text-white/90",children:y.text}),a&&!i.includes(y.value)&&i.length>=a&&l.jsx("div",{className:"ml-auto text-xs text-gray-500 dark:text-gray-400",children:"(Limite atingido)"})]})},w)),v.length===0&&l.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400 text-center",children:"No options found"})]})]})]})}),a&&l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:i.length===a?l.jsxs("span",{className:"text-warning-500",children:["Máximo de ",a," seleções atingido"]}):`Você pode selecionar até ${a} ${a===1?"opção":"opções"}`})]})};function Sce(){const r=[{value:"marketing",label:"Marketing"},{value:"template",label:"Template"},{value:"development",label:"Development"}],e=a=>{console.log("Selected value:",a)},[t,n]=b.useState([]),s=[{value:"1",text:"Option 1",selected:!1},{value:"2",text:"Option 2",selected:!1},{value:"3",text:"Option 3",selected:!1},{value:"4",text:"Option 4",selected:!1},{value:"5",text:"Option 5",selected:!1}];return l.jsx(pr,{title:"Select Inputs",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(Me,{children:"Select Input"}),l.jsx(or,{options:r,placeholder:"Select Option",onChange:e,className:"dark:bg-dark-900"})]}),l.jsxs("div",{children:[l.jsx($F,{label:"Multiple Select Options",options:s,defaultSelected:["1","3"],onChange:a=>n(a)}),l.jsxs("p",{className:"sr-only",children:["Selected Values: ",t.join(", ")]})]})]})})}const tl=({placeholder:r="Enter your message",rows:e=3,value:t="",onChange:n,className:s="",disabled:a=!1,error:i=!1,hint:o="",required:c=!1,name:d})=>{const u=f=>{n&&n(f.target.value)};let h=`w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs focus:outline-hidden ${s} `;return a?h+=" bg-gray-100 opacity-50 text-gray-500 border-gray-300 cursor-not-allowed opacity40 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700":i?h+=" bg-transparent  border-gray-300 focus:border-error-300 focus:ring-3 focus:ring-error-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-error-800":h+=" bg-transparent text-gray-900 dark:text-gray-300 text-gray-900 border-gray-300 focus:border-brand-300 focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800",l.jsxs("div",{className:"relative",children:[l.jsx("textarea",{placeholder:r,rows:e,value:t,onChange:u,disabled:a,className:h,required:c,name:d}),o&&l.jsx("p",{className:`mt-2 text-sm ${i?"text-error-500":"text-gray-500 dark:text-gray-400"}`,children:o})]})};function Nce(){const[r,e]=b.useState(""),[t,n]=b.useState("");return l.jsx(pr,{title:"Textarea input field",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(Me,{children:"Description"}),l.jsx(tl,{value:r,onChange:s=>e(s),rows:6})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Description"}),l.jsx(tl,{rows:6,disabled:!0})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Description"}),l.jsx(tl,{rows:6,value:t,error:!0,onChange:s=>n(s),hint:"Please enter a valid message."})]})]})})}function Ece(){const[r,e]=b.useState(""),[t,n]=b.useState(""),[s,a]=b.useState(!1),i=d=>{const u=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(d);return a(!u),u},o=d=>{const u=d.target.value;e(u),i(u)},c=d=>{const u=d.target.value;n(u),i(u)};return l.jsx(pr,{title:"Input States",desc:"Validation styles for error, success and disabled states on form controls.",children:l.jsxs("div",{className:"space-y-5 sm:space-y-6",children:[l.jsxs("div",{children:[l.jsx(Me,{children:"Email"}),l.jsx(st,{type:"email",value:r,error:s,onChange:o,placeholder:"Enter your email",hint:s?"This is an invalid email address.":""})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Email"}),l.jsx(st,{type:"email",value:t,success:!s,onChange:c,placeholder:"Enter your email",hint:s?"":"This is an success message."})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Email"}),l.jsx(st,{type:"text",value:"disabled@example.com",disabled:!0,placeholder:"Disabled email"})]})]})})}function _ce(){return l.jsxs("div",{children:[l.jsx(er,{title:"React.js Form Elements Dashboard | TailAdmin - React.js Admin Dashboard Template",description:"This is React.js Form Elements  Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),l.jsx(Dr,{pageTitle:"From Elements"}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 xl:grid-cols-2",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx(Sle,{}),l.jsx(Sce,{}),l.jsx(Nce,{}),l.jsx(Ece,{})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(Nle,{}),l.jsx(Cce,{}),l.jsx(bce,{}),l.jsx(wce,{}),l.jsx(kce,{}),l.jsx(yce,{})]})]})]})}function jce(){return l.jsxs("div",{children:[l.jsx(er,{title:"React.js Blank Dashboard | TailAdmin - Next.js Admin Dashboard Template",description:"This is React.js Blank Dashboard page for TailAdmin - React.js Tailwind CSS Admin Dashboard Template"}),l.jsx(Dr,{pageTitle:"Blank Page"}),l.jsx("div",{className:"min-h-screen rounded-2xl border border-gray-200 bg-white px-5 py-7 dark:border-gray-800 dark:bg-white/[0.03] xl:px-10 xl:py-12",children:l.jsxs("div",{className:"mx-auto w-full max-w-[630px] text-center",children:[l.jsx("h3",{className:"mb-4 font-semibold text-gray-800 text-theme-xl dark:text-white/90 sm:text-2xl",children:"Card Title Here"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 sm:text-base",children:"Start putting content on grids or panels, you can also use different combinations of grids.Please check out the dashboard and other pages"})]})})]})}const VF=b.createContext(void 0),KN=()=>{const r=b.useContext(VF);if(!r)throw new Error("useSidebar must be used within a SidebarProvider");return r},Ace=({children:r})=>{const[e,t]=b.useState(!0),[n,s]=b.useState(!1),[a,i]=b.useState(!1);b.useEffect(()=>{const d=()=>{window.innerWidth>=1280&&s(!1)};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const o=()=>{t(d=>!d)},c=()=>{s(d=>!d)};return l.jsx(VF.Provider,{value:{isExpanded:e,isMobileOpen:n,isHovered:a,toggleSidebar:o,toggleMobileSidebar:c,setIsHovered:i},children:r})},m9={light:"/images/logo/logo.svg",dark:"/images/logo/logo-dark.svg",icon:"/images/logo/logo-icon.svg"};function QN(){const[r,e]=b.useState(m9),[t,n]=b.useState(!0);b.useEffect(()=>{s();const a=G.channel("settings_changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"settings"},()=>{s()}).subscribe();return()=>{G.removeChannel(a)}},[]);async function s(){try{const{data:a}=await G.from("settings").select("light_logo, dark_logo, platform_icon").single();if(a){const i={...m9};if(a.light_logo){const{data:o}=G.storage.from("logos").getPublicUrl(a.light_logo);o&&(i.light=o.publicUrl)}if(a.dark_logo){const{data:o}=G.storage.from("logos").getPublicUrl(a.dark_logo);o&&(i.dark=o.publicUrl)}if(a.platform_icon){const{data:o}=G.storage.from("logos").getPublicUrl(a.platform_icon);o&&(i.icon=o.publicUrl)}e(i)}}catch(a){console.error("Erro ao carregar logos:",a)}finally{n(!1)}}return{logos:r,loading:t}}function Tce({logos:r,loading:e}){const{paths:t}=f2();return l.jsx(Hn,{to:t.home,className:"lg:hidden",children:e?l.jsx("div",{className:"h-8 w-32 bg-gray-200 animate-pulse rounded dark:bg-gray-800"}):l.jsxs(l.Fragment,{children:[l.jsx("img",{className:"dark:hidden h-8",src:r.light,alt:"Logo"}),l.jsx("img",{className:"hidden dark:block h-8",src:r.dark,alt:"Logo"})]})})}function Pce(){const r=b.useRef(null);return b.useEffect(()=>{const e=t=>{var n;(t.metaKey||t.ctrlKey)&&t.key==="k"&&(t.preventDefault(),(n=r.current)==null||n.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),l.jsx("div",{className:"hidden lg:block",children:l.jsx("form",{children:l.jsxs("div",{className:"relative",children:[l.jsx("button",{className:"absolute -translate-y-1/2 pointer-events-none left-4 top-1/2",children:l.jsx("svg",{className:"fill-gray-500 dark:fill-gray-400",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.04175 9.37363C3.04175 5.87693 5.87711 3.04199 9.37508 3.04199C12.8731 3.04199 15.7084 5.87693 15.7084 9.37363C15.7084 12.8703 12.8731 15.7053 9.37508 15.7053C5.87711 15.7053 3.04175 12.8703 3.04175 9.37363ZM9.37508 1.54199C5.04902 1.54199 1.54175 5.04817 1.54175 9.37363C1.54175 13.6991 5.04902 17.2053 9.37508 17.2053C11.2674 17.2053 13.003 16.5344 14.357 15.4176L17.177 18.238C17.4699 18.5309 17.9448 18.5309 18.2377 18.238C18.5306 17.9451 18.5306 17.4703 18.2377 17.1774L15.418 14.3573C16.5365 13.0033 17.2084 11.2669 17.2084 9.37363C17.2084 5.04817 13.7011 1.54199 9.37508 1.54199Z",fill:""})})}),l.jsx("input",{ref:r,type:"text",placeholder:"Pesquisar ou digitar comando...",className:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-200 bg-transparent py-2.5 pl-12 pr-14 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-800 dark:bg-gray-900 dark:bg-white/[0.03] dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 xl:w-[430px]"}),l.jsxs("button",{className:"absolute right-2.5 top-1/2 inline-flex -translate-y-1/2 items-center gap-0.5 rounded-lg border border-gray-200 bg-gray-50 px-[7px] py-[4.5px] text-xs -tracking-[0.2px] text-gray-500 dark:border-gray-800 dark:bg-white/[0.03] dark:text-gray-400",children:[l.jsx("span",{children:" ⌘ "}),l.jsx("span",{children:" K "})]})]})})})}const x9=({tag:r="button",to:e,onClick:t,onItemClick:n,baseClassName:s="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",className:a="",children:i})=>{const o=`${s} ${a}`.trim(),c=d=>{r==="button"&&d.preventDefault(),t&&t(),n&&n()};return r==="a"&&e?l.jsx(Hn,{to:e,className:o,onClick:c,children:i}):l.jsx("button",{onClick:c,className:o,children:i})},Lce=({isOpen:r,onClose:e,children:t,className:n=""})=>{const s=b.useRef(null);return b.useEffect(()=>{const a=i=>{s.current&&!s.current.contains(i.target)&&!i.target.closest(".dropdown-toggle")&&e()};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[e]),r?l.jsx("div",{ref:s,className:`submenu-header absolute z-40 right-0 mt-2 rounded-xl border border-gray-200 bg-white shadow-theme-lg dark:border-gray-800 dark:bg-gray-dark ${n}`,children:t}):null};function Dce(){const[r,e]=b.useState(!1),[t,n]=b.useState(!1),[s,a]=b.useState(null),[i,o]=b.useState(null),c=Sr();b.useEffect(()=>{d()},[]);async function d(){try{const{data:{user:v}}=await G.auth.getUser();if(!v)return;const{data:x}=await G.from("admins").select("id, first_name, last_name, email, is_first_admin").eq("id",v.id).maybeSingle();if(x){a(x),o("admin");return}const{data:y,error:w}=await G.from("platform_users").select("id, first_name, last_name, email, role").eq("id",v.id).single();if(w)throw w;a(y),o("platform")}catch(v){console.error("Erro ao carregar perfil:",v)}}function u(){e(!r)}function h(){e(!1)}const f=async()=>{try{n(!0),await u2(),c(wo,{replace:!0})}catch(v){console.error("Erro ao sair:",v)}finally{n(!1)}},p=()=>i==="admin"?"/profile":i==="platform"?s.role==="publisher"?"/publisher/profile":"/advertiser/profile":wo,g=()=>i==="admin"?"/settings":i==="platform"?s.role==="publisher"?"/publisher/settings":"/advertiser/settings":wo;if(!s)return null;const m=`${s.first_name} ${s.last_name}`;return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:u,className:"flex items-center text-gray-700 dropdown-toggle dark:text-gray-400",children:[l.jsx("span",{className:"mr-3",children:l.jsx(z6,{userId:s.id,name:m,size:"sm"})}),l.jsx("span",{className:"block mr-1 font-medium text-theme-sm",children:s.first_name}),l.jsx("svg",{className:`stroke-gray-500 dark:stroke-gray-400 transition-transform duration-200 ${r?"rotate-180":""}`,width:"18",height:"20",viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.3125 8.65625L9 13.3437L13.6875 8.65625",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),l.jsxs(Lce,{isOpen:r,onClose:h,className:"absolute right-0 mt-[17px] flex w-[260px] flex-col rounded-2xl border border-gray-200 bg-white p-3 shadow-theme-lg dark:border-gray-800 dark:bg-gray-dark",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"block font-medium text-gray-700 text-theme-sm dark:text-gray-400",children:[s.first_name," ",s.last_name]}),l.jsx("span",{className:"mt-0.5 block text-theme-xs text-gray-500 dark:text-gray-400",children:s.email})]}),l.jsxs("ul",{className:"flex flex-col gap-1 pt-3 pb-3 border-t border-b border-gray-200 dark:border-gray-800",children:[l.jsx("li",{children:l.jsxs(x9,{onItemClick:h,tag:"a",to:p(),className:"flex items-center gap-3 px-3 py-2 font-medium text-gray-700 rounded-lg group text-theme-sm hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-white/5 dark:hover:text-gray-300",children:[l.jsx("svg",{className:"fill-gray-500 group-hover:fill-gray-700 dark:fill-gray-400 dark:group-hover:fill-gray-300",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 14.1526 4.3002 16.1184 5.61936 17.616C6.17279 15.3096 8.24852 13.5955 10.7246 13.5955H13.2746C15.7509 13.5955 17.8268 15.31 18.38 17.6167C19.6996 16.119 20.5 14.153 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5ZM17.0246 18.8566V18.8455C17.0246 16.7744 15.3457 15.0955 13.2746 15.0955H10.7246C8.65354 15.0955 6.97461 16.7744 6.97461 18.8455V18.856C8.38223 19.8895 10.1198 20.5 12 20.5C13.8798 20.5 15.6171 19.8898 17.0246 18.8566ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM11.9991 7.25C10.8847 7.25 9.98126 8.15342 9.98126 9.26784C9.98126 10.3823 10.8847 11.2857 11.9991 11.2857C13.1135 11.2857 14.0169 10.3823 14.0169 9.26784C14.0169 8.15342 13.1135 7.25 11.9991 7.25ZM8.48126 9.26784C8.48126 7.32499 10.0563 5.75 11.9991 5.75C13.9419 5.75 15.5169 7.32499 15.5169 9.26784C15.5169 11.2107 13.9419 12.7857 11.9991 12.7857C10.0563 12.7857 8.48126 11.2107 8.48126 9.26784Z"})}),"Minha Conta"]})}),i==="admin"&&l.jsx("li",{children:l.jsxs(x9,{onItemClick:h,tag:"a",to:g(),className:"flex items-center gap-3 px-3 py-2 font-medium text-gray-700 rounded-lg group text-theme-sm hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-white/5 dark:hover:text-gray-300",children:[l.jsx(X6,{className:"w-5 h-5"}),"Configurações"]})})]}),l.jsxs("button",{onClick:f,disabled:t,className:"flex items-center gap-3 px-3 py-2 mt-3 font-medium text-gray-700 rounded-lg group text-theme-sm hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-white/5 dark:hover:text-gray-300",children:[l.jsx("svg",{className:"fill-gray-500 group-hover:fill-gray-700 dark:group-hover:fill-gray-300",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1007 19.247C14.6865 19.247 14.3507 18.9112 14.3507 18.497L14.3507 14.245H12.8507V18.497C12.8507 19.7396 13.8581 20.747 15.1007 20.747H18.5007C19.7434 20.747 20.7507 19.7396 20.7507 18.497L20.7507 5.49609C20.7507 4.25345 19.7433 3.24609 18.5007 3.24609H15.1007C13.8581 3.24609 12.8507 4.25345 12.8507 5.49609V9.74501L14.3507 9.74501V5.49609C14.3507 5.08188 14.6865 4.74609 15.1007 4.74609L18.5007 4.74609C18.9149 4.74609 19.2507 5.08188 19.2507 5.49609L19.2507 18.497C19.2507 18.9112 18.9149 19.247 18.5007 19.247H15.1007ZM3.25073 11.9984C3.25073 12.2144 3.34204 12.4091 3.48817 12.546L8.09483 17.1556C8.38763 17.4485 8.86251 17.4487 9.15549 17.1559C9.44848 16.8631 9.44863 16.3882 9.15583 16.0952L5.81116 12.7484L16.0007 12.7484C16.4149 12.7484 16.7507 12.4127 16.7507 11.9984C16.7507 11.5842 16.4149 11.2484 16.0007 11.2484L5.81528 11.2484L9.15585 7.90554C9.44864 7.61255 9.44847 7.13767 9.15547 6.84488C8.86248 6.55209 8.3876 6.55226 8.09481 6.84525L3.52309 11.4202C3.35673 11.5577 3.25073 11.7657 3.25073 11.9984Z"})}),t?"Saindo...":"Sair"]})]})]})}async function dd(r){console.log("🔍 Buscando cart_checkout_resume para usuário:",r);const{data:e,error:t}=await G.from("cart_checkout_resume").select("*").eq("user_id",r).order("created_at",{ascending:!1});return t?(console.error("❌ Erro ao buscar cart_checkout_resume:",t.message),null):(console.log("✅ Dados retornados do banco:",e),e)}async function WF(r){const{data:e,error:t}=await G.from("cart_checkout_resume").insert([{...r}]).select().single();return t?(console.error("Erro ao criar cart_checkout_resume:",t.message),null):e}async function Bl(r,e){console.log("🔄 Atualizando cart_checkout_resume:",{id:r,updates:e});const t={...e};return t.service_selected&&(Array.isArray(t.service_selected)?t.service_selected=t.service_selected.map(n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return{title:n}}return n}):(console.warn("⚠️ service_selected não é um array, convertendo:",t.service_selected),t.service_selected=[t.service_selected])),console.log("📤 Dados sanitizados para envio:",t),await(async()=>{const{data:n,error:s}=await G.from("cart_checkout_resume").update(t).eq("id",r).select().single();return s?(console.error("❌ Erro ao atualizar cart_checkout_resume:",s.message),null):(console.log("✅ Dados atualizados com sucesso:",n),n)})()}async function gC(r){const{error:e}=await G.from("cart_checkout_resume").delete().eq("id",r);return e?(console.error("Erro ao deletar cart_checkout_resume:",e.message),!1):!0}const v9=Object.freeze(Object.defineProperty({__proto__:null,createCartCheckoutResume:WF,deleteCartCheckoutResume:gC,getCartCheckoutResumeByUser:dd,updateCartCheckoutResume:Bl},Symbol.toStringTag,{value:"Module"}));async function qF(r){try{const{data:e,error:t}=await G.from("form_entry_values").select("*").eq("entry_id",r);return t?(console.error("formEntryValueService.ts - Error fetching entry values:",t),[]):(console.log("formEntryValueService.ts - Entry values found:",e),e)}catch(e){return console.error("formEntryValueService.ts - Exception in getFormEntryValuesByEntryId:",e),[]}}async function Mce(r){try{console.log(`[getPriceFromEntry] Buscando preço para entry_id: ${r}`);const{data:e,error:t}=await G.from("form_entry_values").select("value, value_json").eq("entry_id",r);if(t||!e||e.length===0)return console.log("[getPriceFromEntry] Erro ou dados não encontrados:",t),null;console.log("[getPriceFromEntry] Dados encontrados:",e);const n=s=>{if(!s||typeof s!="object")return null;if(s.promotional_price!==void 0&&s.promotional_price!==null&&s.promotional_price!==""){let a=s.promotional_price;if(typeof a=="string"){const i=a.replace(/\./g,"").replace(",",".").replace(/[^0-9.]/g,"");a=parseFloat(i)}if(!isNaN(a)&&a>0)return console.log(`[getPriceFromEntry] Usando promotional_price: ${a}`),a}if(s.price!==void 0&&s.price!==null&&s.price!==""){let a=s.price;if(typeof a=="string"){const i=a.replace(/\./g,"").replace(",",".").replace(/[^0-9.]/g,"");a=parseFloat(i)}if(!isNaN(a))return console.log(`[getPriceFromEntry] Usando price normal: ${a}`),a}return null};for(const s of e){if(s.value_json)try{const a=typeof s.value_json=="string"?JSON.parse(s.value_json):s.value_json,i=n(a);if(i!==null)return i}catch(a){console.log("[getPriceFromEntry] Erro ao parsear value_json:",a)}if(s.value)try{const a=typeof s.value=="string"?JSON.parse(s.value):s.value,i=n(a);if(i!==null)return i}catch{const i=Number(s.value);if(!isNaN(i))return console.log(`[getPriceFromEntry] Usando value simples: ${i}`),i}}return console.log("[getPriceFromEntry] Nenhum preço válido encontrado"),null}catch(e){return console.error("[getPriceFromEntry] Erro ao buscar preço:",e),null}}const y9=new Map,Rce=3e4;async function mC(r){const e=Date.now(),t=y9.get(r);if(t&&e-t.timestamp<Rce)return console.log(`[getPriceFromEntryWithCache] Usando cache para entry_id: ${r}`),t.price;const n=await Mce(r);return y9.set(r,{price:n,timestamp:e}),n}function eE(){const r=b.useCallback(async a=>{const o=await mC(a.entry_id)||0,c=await qF(a.entry_id),d=Array.isArray(c)?c.find(x=>typeof x.value=="string"&&x.value.startsWith("https://")):void 0;let u=null;d&&typeof d.value=="string"&&(u=d.value.replace(/^https:\/\//,""));const m=(Array.isArray(c)?c.filter(x=>!!x.value_json):[]).filter(x=>x.entry_id===a.entry_id&&x.value_json&&(()=>{try{const y=typeof x.value_json=="string"?JSON.parse(x.value_json):x.value_json;return Array.isArray(y)?y.some(w=>w&&typeof w=="object"&&"niche"in w):y&&typeof y=="object"?Object.values(y).some(w=>Array.isArray(w)&&w.some(k=>k&&typeof k=="object"&&"niche"in k)):!1}catch{return!1}})()).map(x=>x.value_json).map(x=>{try{const y=typeof x=="string"?JSON.parse(x):x;return Array.isArray(y)&&y.every(w=>w&&typeof w=="object"&&"niche"in w)?y:y&&typeof y=="object"&&Object.values(y).find(k=>Array.isArray(k)&&k.every(S=>S&&typeof S=="object"&&"niche"in S))||null}catch{return null}}).filter(x=>Array.isArray(x)&&x.length>0)[0]||[],v={user_id:a.user_id,entry_id:a.entry_id,product_url:u,quantity:a.quantity,niche:JSON.stringify(m),price:o,service_content:""};await WF(v)},[]),e=b.useCallback(async a=>{const i=await dd(a.user_id),o=(i==null?void 0:i.filter(c=>c.entry_id===a.entry_id))||[];for(const c of o)await gC(c.id);a.quantity>0&&await Oce(a.user_id,a.entry_id,a.quantity)},[]),t=b.useCallback(async a=>{console.log("🔴 [ShoppingCartToCheckoutResume] FUNÇÃO REMOVE executada com item:",a);const i=await dd(a.user_id),o=(i==null?void 0:i.filter(c=>c.entry_id===a.entry_id))||[];if(o.length>0){for(const c of o)await gC(c.id);console.log(`ShoppingCartToCheckoutResume.ts - remove (delete): Removidas ${o.length} duplicatas para entry_id ${a.entry_id}`)}else console.warn("Resumo não encontrado para delete",a)},[]),n=b.useCallback(async a=>{console.log("🔵 [ShoppingCartToCheckoutResume] FUNÇÃO SYNCPRICEFROMVALUE executada com entry_id:",a);try{const i=await mC(a);if(i===null){console.warn("syncPriceFromValue: Nenhum valor de preço encontrado para entry_id:",a);return}console.log(`[syncPriceFromValue] Preço correto obtido para entry_id ${a}:`,i);const{data:{user:o}}=await G.auth.getUser();if(!o){console.warn("syncPriceFromValue: Usuário não autenticado");return}const c=await dd(o.id),d=c==null?void 0:c.find(u=>u.entry_id===a);d?(await Bl(d.id,{price:i}),console.log(`[syncPriceFromValue] Preço atualizado no resumo para entry_id ${a}: ${i}`)):console.warn("syncPriceFromValue: Item não encontrado no resumo para entry_id:",a)}catch(i){console.error("syncPriceFromValue: Erro:",i)}},[]),s=b.useCallback(a=>{console.log("🟣 [ShoppingCartToCheckoutResume] FUNÇÃO GET executada com user_id:",a)},[]);return{add:r,edit:e,remove:t,get:s,syncPriceFromValue:n}}async function Ice(r,e){const n=await mC(e)||0,s=await qF(e),a=Array.isArray(s)?s.find(f=>typeof f.value=="string"&&f.value.startsWith("https://")):void 0;let i=null;a&&typeof a.value=="string"&&(i=a.value.replace(/^https:\/\//,""));const h=(Array.isArray(s)?s.filter(f=>!!f.value_json):[]).filter(f=>f.entry_id===e&&f.value_json&&(()=>{try{const p=typeof f.value_json=="string"?JSON.parse(f.value_json):f.value_json;return Array.isArray(p)?p.some(g=>g&&typeof g=="object"&&"niche"in g):p&&typeof p=="object"?Object.values(p).some(g=>Array.isArray(g)&&g.some(m=>m&&typeof m=="object"&&"niche"in m)):!1}catch{return!1}})()).map(f=>f.value_json).map(f=>{try{const p=typeof f=="string"?JSON.parse(f):f;return Array.isArray(p)&&p.every(g=>g&&typeof g=="object"&&"niche"in g)?p:p&&typeof p=="object"&&Object.values(p).find(m=>Array.isArray(m)&&m.every(v=>v&&typeof v=="object"&&"niche"in v))||null}catch{return null}}).filter(f=>Array.isArray(f)&&f.length>0)[0]||[];return{user_id:r,entry_id:e,product_url:i,quantity:1,niche:JSON.stringify(h),price:n,service_content:""}}async function Oce(r,e,t){const n=await Ice(r,e),s=Array.from({length:t},()=>({...n}));s.forEach(o=>{delete o.id});const{data:a,error:i}=await G.from("cart_checkout_resume").insert(s);if(i)throw console.error("Erro ao inserir duplicidades em cart_checkout_resume:",i.message),i;return a}function Vf(r){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r)}function i4(r){if(typeof r=="number")return r;if(typeof r=="string"){let e=r.replace(/[^\d,\.]/g,"");if(e.includes(",")&&e.includes(".")){const t=e.lastIndexOf(","),n=e.lastIndexOf(".");t>n?e=e.replace(/\./g,"").replace(",","."):e=e.replace(/,/g,"")}else e.includes(",")&&!e.includes(".")&&(e=e.replace(",","."));return parseFloat(e)||0}if(typeof r=="object"&&r.price){if(typeof r.price=="string"){const e=r.price.replace(/[^\d,\.]/g,"").replace(",",".");return parseFloat(e)||0}else if(typeof r.price=="number")return r.price}return 0}function Fce(r,e){let t=0;if(!e)return t;const n=r.find(s=>s.field_id===e.id);if(!n)return t;try{let s=null;if(n.value_json?s=typeof n.value_json=="string"?JSON.parse(n.value_json):n.value_json:n.value&&(s=typeof n.value=="string"?JSON.parse(n.value):n.value),s)if(s.promotional_price){const a=i4(s.promotional_price);a>0?t=a:t=i4(s.price)}else t=i4(s.price)}catch(s){console.error("[cartPriceCalculator] Error parsing product price:",s)}return t}const YF=b.createContext(void 0);function gh(){const r=b.useContext(YF);if(r===void 0)throw new Error("useCart must be used within a CartProvider");return r}const Bce=3,zce=1e3;async function Ac(r,e=Bce,t=zce){try{return await r()}catch(n){if(e===0)throw n;return await new Promise(s=>setTimeout(s,t)),Ac(r,e-1,t*2)}}function Hce({children:r}){const[e,t]=b.useState([]),[n,s]=b.useState(!0),[a,i]=b.useState(null),o=eE();b.useEffect(()=>{c();const{data:v}=G.auth.onAuthStateChange(y=>{y==="SIGNED_IN"?c():y==="SIGNED_OUT"&&t([])}),x=()=>{c()};return window.addEventListener("cart-cleared",x),()=>{v.subscription.unsubscribe(),window.removeEventListener("cart-cleared",x)}},[]);const c=async()=>{try{s(!0),i(null);const{data:{user:v}}=await G.auth.getUser();if(!v){t([]);return}const x=await Ac(async()=>{const{data:w,error:k}=await G.from("shopping_cart_items").select("id, entry_id, quantity").eq("user_id",v.id);if(k)throw k;return w});if(!x||x.length===0){t([]);return}const y=await Promise.all(x.map(async w=>{try{const k=await Ac(async()=>{const{data:D,error:F}=await G.from("form_entry_values").select("field_id, value, value_json").eq("entry_id",w.entry_id);if(F)throw F;return D}),S=await Ac(async()=>{const{data:D}=await G.from("form_entries").select("form_id").eq("id",w.entry_id).single();if(!D)throw new Error("Form entry not found");const{data:F,error:M}=await G.from("form_fields").select(`
                id, 
                field_type,
                form_field_settings (
                  is_product_name,
                  is_site_url
                )
              `).eq("form_id",D.form_id);if(M)throw M;return F}),N=S.find(D=>{var M;const F=D.form_field_settings;return Array.isArray(F)?((M=F[0])==null?void 0:M.is_product_name)===!0:(F==null?void 0:F.is_product_name)===!0}),A=S.find(D=>{var M;const F=D.form_field_settings;return Array.isArray(F)?((M=F[0])==null?void 0:M.is_site_url)===!0:(F==null?void 0:F.is_site_url)===!0}),E=S.find(D=>D.field_type==="product");let R="Unknown Product";if(N){const D=k.find(F=>F.field_id===N.id);if(D)if(N.field_type==="brand")try{const F=typeof D.value_json=="string"?JSON.parse(D.value_json):D.value_json;R=(F==null?void 0:F.name)||"Unknown Product"}catch{R=D.value||"Unknown Product"}else R=D.value||"Unknown Product"}let O="";if(A){const D=k.find(F=>F.field_id===A.id);D&&(O=D.value||"")}const L=Fce(k,E);return{id:w.id,entry_id:w.entry_id,quantity:w.quantity,product:{name:R,price:L,url:O}}}catch(k){return console.error(`Error loading details for cart item ${w.id}:`,k),null}}));t(y.filter(w=>w!==null))}catch(v){console.error("Error loading cart items:",v),i("Unable to load your cart. Please check your internet connection and try again.")}finally{s(!1)}},d=async(v,x,y,w=1,k,S)=>{try{s(!0),i(null);const{data:{user:N}}=await G.auth.getUser();if(!N)throw new Error("User not authenticated");await Ac(async()=>{const{data:A}=await G.from("shopping_cart_items").select("id, quantity").eq("user_id",N.id).eq("entry_id",v).maybeSingle();if(A){const E=A.quantity+w,{error:R}=await G.from("shopping_cart_items").update({quantity:E}).eq("id",A.id);if(R)throw R;await o.edit({user_id:N.id,entry_id:v,quantity:E})}else{const E={user_id:N.id,entry_id:v,quantity:w},{error:R}=await G.from("shopping_cart_items").insert(E);if(R)throw R;await o.add(E);const O={id:`temp-${Date.now()}`,entry_id:v,quantity:w,product:{name:x,price:y,image:k,url:S}};t(L=>[...L,O])}}),await c()}catch(N){console.error("Error adding item to cart:",N),i("Unable to add item to cart. Please try again.")}finally{s(!1)}},u=async v=>{try{s(!0),i(null);const{data:{user:x}}=await G.auth.getUser();if(!x)throw new Error("User not authenticated");await Ac(async()=>{const w=e.find(S=>S.entry_id===v);console.log("🗑️ [DELETE] Removendo item do carrinho:",{entryId:v,userId:x.id,itemToRemove:w?{id:w.id,quantity:w.quantity,productName:w.product.name,productPrice:w.product.price}:"Item não encontrado no cache local"});const{error:k}=await G.from("shopping_cart_items").delete().eq("user_id",x.id).eq("entry_id",v);if(k)throw k}),await o.remove({user_id:x.id,entry_id:v});const y=e.filter(w=>w.entry_id!==v);if(t(y),y.length===0)try{const{error:w}=await G.from("order_totals").delete().eq("user_id",x.id)}catch{}}catch{i("Unable to remove item from cart. Please try again.")}finally{s(!1)}},h=async(v,x)=>{try{if(s(!0),i(null),x<=0){await u(v);return}const{data:{user:y}}=await G.auth.getUser();if(!y)throw new Error("User not authenticated");await Ac(async()=>{const{error:w}=await G.from("shopping_cart_items").update({quantity:x}).eq("user_id",y.id).eq("entry_id",v);if(w)throw w}),await o.edit({user_id:y.id,entry_id:v,quantity:x}),t(e.map(w=>w.entry_id===v?{...w,quantity:x}:w))}catch(y){console.error("Error updating item quantity:",y),i("Unable to update quantity. Please try again.")}finally{s(!1)}},f=async()=>{try{s(!0),i(null);const{data:{user:v}}=await G.auth.getUser();if(!v)throw new Error("User not authenticated");await Ac(async()=>{const{error:x}=await G.from("shopping_cart_items").delete().eq("user_id",v.id);if(x)throw x;const{error:y}=await G.from("cart_checkout_resume").delete().eq("user_id",v.id);if(y)throw y;const{error:w}=await G.from("order_totals").delete().eq("user_id",v.id);if(w)throw w;console.log("✅ Cart cleared successfully, including order_totals and cart_checkout_resume")}),t([])}catch{i("Unable to clear cart. Please try again.")}finally{s(!1)}},p=e.reduce((v,x)=>v+x.quantity,0),g=e.reduce((v,x)=>v+x.product.price*x.quantity,0),m={items:e,loading:n,error:a,addItem:d,removeItem:u,updateQuantity:h,clearCart:f,totalItems:p,totalPrice:g};return l.jsx(YF.Provider,{value:m,children:r})}function b9(r){if(!r)return"-";let e=r.trim();/\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/.test(e)&&(e=e.replace(" ","T")),e=e.replace(/([+-]\d{2})(\d{2})$/,"$1:$2"),/([+-]\d{2})$/.test(e)&&(e=e+":00");const t=new Date(e);return isNaN(t.getTime())?"-":t.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Hp(r){return r==="ROW"?"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iIzZCN0FCNSIgZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bS0xIDE3LjkzYy0zLjk1LS40OS03LTMuODUtNy03LjkzIDAtLjYyLjA4LTEuMjEuMjEtMS43OUw5IDEzdjFjMCAxLjEuOSAyIDIgMnYzLjkzem02LjktMi41NGMtLjI2LS44MS0xLTEuMzktMS45LTEuMzloLTF2LTNjMC0uNTUtLjQ1LTEtMS0xaC02di0yaDJjLjU1IDAgMS0uNDUgMS0xVjdoMmMxLjEgMCAyLS45IDItMnYtLjQxYzIuOTMgMS4xOSA1IDQuMDYgNSA3LjQxIDAgMi4wOC0uOCAzLjk3LTIuMSA1LjM5eiIvPjwvc3ZnPg==":`https://hatscripts.github.io/circle-flags/flags/${r.toLowerCase()}.svg`}function tE(r){try{let e=r.replace(/^https?:\/\//,"");return e=e.replace(/\/$/,""),e=e.replace(/^www\./,""),e=e.split("/")[0],e}catch{return r}}function rE(r){try{let e=tE(r);return e=e.replace(/\.(br|uk|au|ca|de|fr|es|it|nl|se|no|dk|fi|pl|ru|jp|cn|in|mx|ar|cl|co|pe|ve|ec|uy|py|bo|cr|gt|hn|ni|pa|sv|do|cu|jm|ht|tt|bb|gd|lc|vc|ag|dm|kn|ms|ai|vg|vi|pr|bz|gf|sr|gy|fk|gs|sh|ac|tc|ky|bm|gl|fo|is|ie|mt|cy|bg|ro|hr|si|sk|cz|hu|at|ch|li|ad|mc|sm|va|lu|be|dk|se|no|fi|ee|lv|lt|by|ua|md|mk|al|ba|me|rs|xk|si|hr|bg|ro|tr|gr|ge|am|az|kz|kg|tj|tm|uz|af|pk|bd|bt|np|lk|mv|io|cc|cx|nf|pn|tk|nu|ck|as|fm|gu|ki|mh|mp|nr|pw|pg|ws|sb|to|tv|vu|wf|nz|fj|nc|pf|tf|yt|re|mu|sc|mg|mz|za|zw|zm|mw|ls|sz|bw|na|ao|st|gq|ga|cg|cd|cf|cm|td|ne|ng|bj|tg|gh|ci|lr|sl|gn|gw|cv|sn|gm|ml|bf|mr|dz|tn|ly|eg|sd|ss|et|er|dj|so|ke|ug|tz|rw|bi|mz|mg|km|sc|mu|re|yt|tf|mq|gp|bl|mf|pm|aw|an|cw|sx|bq|vc|lc|gd|dm|ag|ms|kn|ai|vg|vi|pr|do|ht|jm|cu|bs|tc|ky|bm|gl|fo|is|ie|gb|im|je|gg)$/i,""),e}catch{return r}}function Vl(r){return`https://www.google.com/s2/favicons?domain=${tE(r)}&sz=32`}function Uce({entryId:r,productName:e,price:t,quantity:n,url:s}){const{updateQuantity:a,removeItem:i}=gh(),[o,c]=b.useState(!1),d=p=>{let g;if(typeof p=="number")g=p;else if(typeof p=="string"){if(g=parseFloat(p),isNaN(g))return p}else return"0,00";return g.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})},u=async p=>{if(p<=0){await h();return}try{c(!0),await a(r,p)}catch(g){console.error("Error updating quantity:",g)}finally{c(!1)}},h=async()=>{try{c(!0),await i(r)}catch(p){console.error("Error removing item:",p)}finally{c(!1)}},f=p=>p?p.replace(/^https?:\/\//,"").replace(/\/$/,""):"";return l.jsxs("div",{className:"flex items-center justify-between gap-4 text-sm font-medium text-gray-800 dark:text-white/90 p-1 border border-gray-300 rounded-lg dark:border-gray-800",children:[l.jsx("h3",{className:"flex items-center gap-2 truncate w-[130px] min-w-[130px]",children:s?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:Vl(s),alt:"Site icon",width:"20",height:"20",className:"flex-shrink-0",onError:p=>{p.target.style.display="none"}}),l.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"hover:text-brand-500 hover:underline truncate",title:s,children:f(s)})]}):e}),l.jsx("div",{className:"flex items-center",children:l.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-gray-700 rounded",children:[l.jsx("button",{onClick:()=>u(n-1),disabled:o,className:"px-2 py-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:"-"}),l.jsx("span",{className:"px-2 py-1 text-gray-700 dark:text-gray-300",children:n}),l.jsx("button",{onClick:()=>u(n+1),disabled:o,className:"px-2 py-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:"+"})]})}),l.jsxs("p",{className:"whitespace-nowrap font-bold min-w-[80px] text-right",children:["R$ ",d(t)]}),l.jsx("button",{type:"button",onClick:h,disabled:o,className:"text-gray-500 hover:text-error-500 dark:text-gray-400 dark:hover:text-error-500",title:"Remover",children:l.jsx(Fa,{className:"w-5 h-5"})})]})}function $ce(){const[r,e]=b.useState(!1),[t,n]=b.useState(!1),{items:s,totalItems:a,totalPrice:i,loading:o,error:c}=gh(),d=eE(),u=Sr(),h=g=>{let m;if(typeof g=="number")m=g;else if(typeof g=="string"){if(m=parseFloat(g),isNaN(m))return g}else return"0,00";return m.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})};b.useEffect(()=>{const g=m=>{const v=document.getElementById("shopping-cart-sidebar"),x=document.querySelector(".cart-toggle-button");r&&v&&!v.contains(m.target)&&!(x!=null&&x.contains(m.target))&&e(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[r]),b.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]);function f(){e(!r)}const p=async()=>{try{n(!0);for(const g of s)await d.syncPriceFromValue(g.entry_id);e(!1),u("/checkout")}catch(g){console.error("❌ Erro ao sincronizar preços promocionais:",g),e(!1),u("/checkout")}finally{n(!1)}};return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{className:"relative flex items-center justify-center text-gray-500 transition-colors bg-white border border-gray-200 rounded-full cart-toggle-button hover:text-gray-700 h-11 w-11 hover:bg-gray-100 dark:border-gray-800 dark:bg-gray-900 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-white",onClick:f,children:[a>0&&l.jsx("span",{className:"absolute right-0 top-0.5 z-10 h-5 w-5 rounded-full bg-brand-500 text-xs text-white flex items-center justify-center",children:a}),l.jsx(M0,{className:"text-current",width:"24",height:"24"})]}),l.jsx("div",{id:"shopping-cart-sidebar",className:`fixed top-0 right-0 z-[99999] h-full w-full max-w-md bg-white shadow-xl dark:bg-gray-900 transform transition-transform duration-300 ease-in-out ${r?"translate-x-0":"translate-x-full"}`,children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-800",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Carrinho"}),l.jsx("button",{onClick:f,className:"p-2 text-gray-500 rounded-full hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 z-[99999]",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o?l.jsxs("div",{className:"flex flex-col items-center justify-center py-8 flex-1",children:[l.jsx("div",{className:"w-8 h-8 border-4 border-gray-200 border-t-brand-500 rounded-full animate-spin mb-4"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})]}):c?l.jsx("div",{className:"flex flex-col items-center justify-center py-8 flex-1",children:l.jsx("p",{className:"text-error-500 dark:text-error-400",children:c})}):s.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-8 flex-1",children:[l.jsxs("svg",{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M2.83179 4.38657H3.34341C4.20256 4.38657 4.96125 4.94691 5.21392 5.76808L8.27786 15.7259C8.53053 16.547 9.28921 17.1074 10.1484 17.1074H17.1114C17.9373 17.1074 18.6743 16.5889 18.9534 15.8116L20.9925 10.1312C21.679 8.21867 20.2616 6.20383 18.2295 6.20383H10.66",strokeWidth:"1.7",strokeLinecap:"round"}),l.jsx("circle",{cx:"10.1707",cy:"20.5322",r:"1.46779",fill:"currentColor"}),l.jsx("circle",{cx:"17.0204",cy:"20.5322",r:"1.46779",fill:"currentColor"})]}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center",children:"Seu carrinho está vazio"})]}):l.jsx("div",{className:"space-y-4",children:s.map(g=>l.jsx(Uce,{entryId:g.entry_id,productName:g.product.name,price:g.product.price,quantity:g.quantity,url:g.product.url},g.id))})}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 p-4",children:[l.jsxs("div",{className:"flex justify-between text-base mb-4",children:[l.jsx("p",{className:"font-bold text-gray-800 dark:text-white/90",children:"Subtotal"}),l.jsxs("p",{className:"font-bold text-gray-800 dark:text-white/90",children:["R$ ",h(i)]})]}),l.jsxs(nt,{onClick:p,className:"w-full flex items-center justify-center gap-2",disabled:o||t,children:[t&&l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Finalizar Compra"]})]})]})}),r&&l.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 z-[99998] transition-opacity duration-300 ease-in-out",onClick:f})]})}const GF=b.createContext(void 0),Vce=({children:r})=>{const[e,t]=b.useState("light"),[n,s]=b.useState(!1);b.useEffect(()=>{const o=localStorage.getItem("theme")||"light";t(o),s(!0)},[]),b.useEffect(()=>{n&&(localStorage.setItem("theme",e),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},[e,n]);const a=()=>{t(i=>i==="light"?"dark":"light")};return l.jsx(GF.Provider,{value:{theme:e,toggleTheme:a},children:r})},Wce=()=>{const r=b.useContext(GF);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r},qce=()=>{const{toggleTheme:r}=Wce();return l.jsxs("button",{onClick:r,className:"flex items-center justify-center text-gray-500 transition-colors hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:[l.jsx("svg",{className:"hidden dark:block w-6 h-6",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1.5415C12.4142 1.5415 12.75 1.87729 12.75 2.2915V3.5415C12.75 3.95572 12.4142 4.2915 12 4.2915C11.5858 4.2915 11.25 3.95572 11.25 3.5415V2.2915C11.25 1.87729 11.5858 1.5415 12 1.5415ZM12.0009 6.79327C10.2298 6.79327 8.79402 8.22904 8.79402 10.0001C8.79402 11.7712 10.2298 13.207 12.0009 13.207C13.772 13.207 15.2078 11.7712 15.2078 10.0001C15.2078 8.22904 13.772 6.79327 12.0009 6.79327ZM7.29402 10.0001C7.29402 7.40061 9.40135 5.29327 12.0009 5.29327C14.6004 5.29327 16.7078 7.40061 16.7078 10.0001C16.7078 12.5997 14.6004 14.707 12.0009 14.707C9.40135 14.707 7.29402 12.5997 7.29402 10.0001ZM17.9813 5.08035C18.2742 4.78746 18.2742 4.31258 17.9813 4.01969C17.6884 3.7268 17.2135 3.7268 16.9207 4.01969L16.0368 4.90357C15.7439 5.19647 15.7439 5.67134 16.0368 5.96423C16.3297 6.25713 16.8045 6.25713 17.0974 5.96423L17.9813 5.08035ZM20.4577 10.0001C20.4577 10.4143 20.1219 10.7501 19.7077 10.7501H18.4577C18.0435 10.7501 17.7077 10.4143 17.7077 10.0001C17.7077 9.58592 18.0435 9.25013 18.4577 9.25013H19.7077C20.1219 9.25013 20.4577 9.58592 20.4577 10.0001ZM16.9207 15.9806C17.2135 16.2735 17.6884 16.2735 17.9813 15.9806C18.2742 15.6877 18.2742 15.2128 17.9813 14.9199L17.0974 14.036C16.8045 13.7431 16.3297 13.7431 16.0368 14.036C15.7439 14.3289 15.7439 14.8038 16.0368 15.0967L16.9207 15.9806ZM12 15.7088C12.4142 15.7088 12.75 16.0445 12.75 16.4588V17.7088C12.75 18.123 12.4142 18.4588 12 18.4588C11.5858 18.4588 11.25 18.123 11.25 17.7088V16.4588C11.25 16.0445 11.5858 15.7088 12 15.7088ZM7.96356 15.0972C8.25646 14.8043 8.25646 14.3295 7.96356 14.0366C7.67067 13.7437 7.1958 13.7437 6.9029 14.0366L6.01902 14.9204C5.72613 15.2133 5.72613 15.6882 6.01902 15.9811C6.31191 16.274 6.78679 16.274 7.07968 15.9811L7.96356 15.0972ZM6.29224 10.0001C6.29224 10.4143 5.95645 10.7501 5.54224 10.7501H4.29224C3.87802 10.7501 3.54224 10.4143 3.54224 10.0001C3.54224 9.58592 3.87802 9.25013 4.29224 9.25013H5.54224C5.95645 9.25013 6.29224 9.58592 6.29224 10.0001ZM6.9029 5.9637C7.1958 6.25659 7.67067 6.25659 7.96356 5.9637C8.25646 5.6708 8.25646 5.19593 7.96356 4.90303L7.07968 4.01915C6.78679 3.72626 6.31191 3.72626 6.01902 4.01915C5.72613 4.31204 5.72613 4.78692 6.01902 5.07981L6.9029 5.9637Z",fill:"currentColor"})}),l.jsx("svg",{className:"dark:hidden w-6 h-6",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M20.9547 14.364L21.7999 14.5933C21.9018 14.206 21.7318 13.7978 21.3881 13.5919C21.0445 13.3861 20.6062 13.4321 20.3128 13.7048L20.9547 14.364ZM9.63672 3.05508L10.2959 3.66788C10.5686 3.37451 10.6146 2.93618 10.4088 2.59255C10.2029 2.24892 9.79472 2.07871 9.40738 2.18079L9.63672 3.05508ZM15.4985 15.6042C11.5761 15.6042 8.39648 12.4246 8.39648 8.50218H6.39648C6.39648 13.5288 10.4719 17.6042 15.4985 17.6042V15.6042ZM20.3128 13.7048C19.0643 14.8842 17.3665 15.6042 15.4985 15.6042V17.6042C17.8388 17.6042 19.9702 16.6999 21.5966 15.0232L20.3128 13.7048ZM20.0754 14.1347C19.1324 17.7128 15.8732 20.3503 11.9999 20.3503V22.3503C16.7108 22.3503 20.6699 19.1424 21.7999 14.5933L20.0754 14.1347ZM11.9999 20.3503C7.38881 20.3503 3.65039 16.612 3.65039 12.0003H1.65039C1.65039 17.7163 6.28471 22.3503 11.9999 22.3503V20.3503ZM3.65039 12.0003C3.65039 8.12747 6.28786 4.86834 9.86607 3.92937L9.40738 2.18079C5.05838 3.33089 1.65039 7.28983 1.65039 12.0003H3.65039ZM8.39648 8.50218C8.39648 6.63422 9.11652 4.93638 10.2959 3.66788L8.97756 2.44228C7.50085 4.03062 6.39648 6.16204 6.39648 8.50218H8.39648Z",fill:"currentColor"})})]})};function Yce({isOpen:r}){return l.jsxs("div",{className:`${r?"flex":"hidden"} items-center justify-between w-full gap-4 px-5 py-4 lg:flex shadow-theme-md lg:justify-end lg:px-0 lg:shadow-none`,children:[l.jsxs("div",{className:"flex items-center gap-2 2xsm:gap-3",children:[l.jsx(qce,{}),l.jsx($ce,{})]}),l.jsx(Dce,{})]})}const Gce=({onToggle:r})=>{const[e,t]=b.useState(!1),{toggleSidebar:n,isExpanded:s,isHovered:a}=KN(),{logos:i,loading:o}=QN(),c=()=>{t(!e)};return l.jsx("header",{className:`fixed top-0 right-0 flex w-full bg-white border-gray-200 z-99999 dark:border-gray-800 dark:bg-gray-900 lg:border-b transition-all duration-300 ease-in-out ${s||a?"xl:left-[240px] xl:w-[calc(100%-240px)]":"xl:left-[70px] xl:w-[calc(100%-70px)]"}`,children:l.jsxs("div",{className:"flex flex-col items-center justify-between grow lg:flex-row lg:px-6",children:[l.jsxs("div",{className:"flex items-center justify-between w-full gap-2 px-3 py-3 border-b border-gray-200 dark:border-gray-800 sm:gap-4 lg:justify-normal lg:border-b-0 lg:px-0 lg:py-4",children:[l.jsx("button",{onClick:r,className:"flex xl:hidden items-center justify-center w-10 h-10 text-gray-500 border border-gray-200 rounded-lg dark:border-gray-800 dark:text-gray-400","aria-label":"Toggle Mobile Menu",children:l.jsx("svg",{width:"16",height:"12",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.583252 1C0.583252 0.585788 0.919038 0.25 1.33325 0.25H14.6666C15.0808 0.25 15.4166 0.585786 15.4166 1C15.4166 1.41421 15.0808 1.75 14.6666 1.75L1.33325 1.75C0.919038 1.75 0.583252 1.41422 0.583252 1ZM0.583252 11C0.583252 10.5858 0.919038 10.25 1.33325 10.25L14.6666 10.25C15.0808 10.25 15.4166 10.5858 15.4166 11C15.4166 11.4142 15.0808 11.75 14.6666 11.75L1.33325 11.75C0.919038 11.75 0.583252 11.4142 0.583252 11ZM1.33325 5.25C0.919038 5.25 0.583252 5.58579 0.583252 6C0.583252 6.41421 0.919038 6.75 1.33325 6.75L7.99992 6.75C8.41413 6.75 8.74992 6.41421 8.74992 6C8.74992 5.58579 8.41413 5.25 7.99992 5.25L1.33325 5.25Z",fill:"currentColor"})})}),l.jsx("button",{className:"hidden xl:flex items-center justify-center w-10 h-10 text-gray-500 border border-gray-200 rounded-lg dark:border-gray-800 dark:text-gray-400",onClick:n,"aria-label":"Toggle Sidebar",children:l.jsx("svg",{width:"16",height:"12",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.583252 1C0.583252 0.585788 0.919038 0.25 1.33325 0.25H14.6666C15.0808 0.25 15.4166 0.585786 15.4166 1C15.4166 1.41421 15.0808 1.75 14.6666 1.75L1.33325 1.75C0.919038 1.75 0.583252 1.41422 0.583252 1ZM0.583252 11C0.583252 10.5858 0.919038 10.25 1.33325 10.25L14.6666 10.25C15.0808 10.25 15.4166 10.5858 15.4166 11C15.4166 11.4142 15.0808 11.75 14.6666 11.75L1.33325 11.75C0.919038 11.75 0.583252 11.4142 0.583252 11ZM1.33325 5.25C0.919038 5.25 0.583252 5.58579 0.583252 6C0.583252 6.41421 0.919038 6.75 1.33325 6.75L7.99992 6.75C8.41413 6.75 8.74992 6.41421 8.74992 6C8.74992 5.58579 8.41413 5.25 7.99992 5.25L1.33325 5.25Z",fill:"currentColor"})})}),l.jsx(Tce,{logos:i,loading:o}),l.jsx("button",{onClick:c,className:"flex items-center justify-center w-10 h-10 text-gray-700 rounded-lg z-99999 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 lg:hidden",children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.99902 10.4951C6.82745 10.4951 7.49902 11.1667 7.49902 11.9951V12.0051C7.49902 12.8335 6.82745 13.5051 5.99902 13.5051C5.1706 13.5051 4.49902 12.8335 4.49902 12.0051V11.9951C4.49902 11.1667 5.1706 10.4951 5.99902 10.4951ZM17.999 10.4951C18.8275 10.4951 19.499 11.1667 19.499 11.9951V12.0051C19.499 12.8335 18.8275 13.5051 17.999 13.5051C17.1706 13.5051 16.499 12.8335 16.499 12.0051V11.9951C16.499 11.1667 17.1706 10.4951 17.999 10.4951ZM13.499 11.9951C13.499 11.1667 12.8275 10.4951 11.999 10.4951C11.1706 10.4951 10.499 11.1667 10.499 11.9951V12.0051C10.499 12.8335 11.1706 13.5051 11.999 13.5051C12.8275 13.5051 13.499 12.8335 13.499 12.0051V11.9951Z",fill:"currentColor"})})}),l.jsx(Pce,{})]}),l.jsx(Yce,{isOpen:e})]})})};function Xce({logos:r,isExpanded:e,isHovered:t,isMobileOpen:n,loading:s}){return s?l.jsx("div",{className:`py-8 flex ${!e&&!t?"lg:justify-center":"justify-start"}`,children:l.jsx("div",{className:"h-8 w-48 bg-gray-200 animate-pulse rounded dark:bg-gray-800"})}):l.jsx("div",{className:`py-8 flex ${!e&&!t?"lg:justify-center":"justify-start"}`,children:e||t||n?l.jsxs(l.Fragment,{children:[l.jsx("img",{className:"dark:hidden h-8",src:r.light,alt:"Logo"}),l.jsx("img",{className:"hidden dark:block h-8",src:r.dark,alt:"Logo"})]}):l.jsx("img",{src:r.icon,alt:"Logo",className:"h-8 w-8"})})}function Zce({navItems:r,othersItems:e,isExpanded:t,isHovered:n,isMobileOpen:s,openSubmenu:a,subMenuHeights:i,isActive:o,handleSubmenuToggle:c,showOthersTitle:d=!0,subMenuRefs:u}){const h=(f,p)=>l.jsx("ul",{className:`flex flex-col gap-4 ${p==="main"?"menu-principal":"menu-admin"}`,children:f.map((g,m)=>l.jsx("li",{children:g.subItems?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>c(m,p),className:`menu-item group cursor-pointer ${(a==null?void 0:a.type)===p&&(a==null?void 0:a.index)===m?"menu-item-active":"menu-item-inactive"} ${!t&&!n?"lg:justify-center lg:px-2":"lg:justify-start"}`,children:[l.jsx("span",{className:`menu-item-icon-size ${(a==null?void 0:a.type)===p&&(a==null?void 0:a.index)===m?"menu-item-icon-active":"menu-item-icon-inactive"}`,children:g.icon}),(t||n||s)&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"menu-item-text",children:g.name}),l.jsx(p2,{className:`ml-auto w-5 h-5 transition-transform duration-200 ${(a==null?void 0:a.type)===p&&(a==null?void 0:a.index)===m?"rotate-180 text-brand-500":""}`})]})]}),(t||n||s)&&l.jsx("div",{className:"overflow-hidden transition-all duration-300",style:{height:(a==null?void 0:a.type)===p&&(a==null?void 0:a.index)===m?`${(i[`${p}-${m}`]||0)+10}px`:"0px"},children:l.jsx("ul",{className:"mt-2 space-y-1 ml-9",ref:v=>{u.current[`${p}-${m}`]=v},children:g.subItems.map(v=>l.jsx("li",{children:l.jsxs(Hn,{to:v.path,className:`menu-dropdown-item ${o(v.path)?"menu-dropdown-item-active":"menu-dropdown-item-inactive"}`,children:[v.name,l.jsxs("span",{className:"flex items-center gap-1 ml-auto",children:[v.new&&l.jsx("span",{className:`menu-dropdown-badge ${o(v.path)?"menu-dropdown-badge-active":"menu-dropdown-badge-inactive"}`,children:"new"}),v.pro&&l.jsx("span",{className:`menu-dropdown-badge ${o(v.path)?"menu-dropdown-badge-active":"menu-dropdown-badge-inactive"}`,children:"pro"})]})]})},v.name))})})]}):g.path&&l.jsxs(Hn,{to:g.path,className:`menu-item group ${o(g.path)?"menu-item-active":"menu-item-inactive"} ${!t&&!n?"lg:justify-center lg:px-2":"lg:justify-start"}`,children:[l.jsx("span",{className:`menu-item-icon-size ${o(g.path)?"menu-item-icon-active":"menu-item-icon-inactive"}`,children:g.icon}),(t||n||s)&&l.jsx("span",{className:"menu-item-text",children:g.name})]})},g.name))});return l.jsx("nav",{className:"mb-6 menu-sidebar",children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:`mb-4 text-theme-sm uppercase flex leading-[20px] text-gray-400 ${!t&&!n?"lg:justify-center":"justify-start"}`,children:t||n||s?"Menu":l.jsx(Xm,{className:"size-6"})}),h(r,"main")]}),e.length>0&&d&&l.jsxs("div",{className:"menu-admin",children:[d&&l.jsx("h2",{className:`mb-4 text-theme-sm uppercase flex leading-[20px] text-gray-400 ${!t&&!n?"lg:justify-center":"justify-start"}`,children:t||n||s?"Administração":l.jsx(Xm,{className:"size-6"})}),h(e,"others")]})]})})}function Jce(){const{isExpanded:r,isMobileOpen:e,isHovered:t,setIsHovered:n}=KN(),s=Qn(),{logos:a,loading:i}=QN(),o=Sr(),[c,d]=b.useState(null),[u,h]=b.useState(null),[f,p]=b.useState([]),[g,m]=b.useState(null),[v,x]=b.useState({}),y=b.useRef({});b.useEffect(()=>{w()},[]),b.useEffect(()=>{(c!==null||u!==null)&&k()},[c,u]),b.useEffect(()=>{L()},[s.pathname,f]),b.useEffect(()=>{D()},[f,r,t,e]),b.useEffect(()=>{const B=()=>{D()};return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[f,g]);async function w(){try{const{data:{user:B}}=await G.auth.getUser();if(!B){d(!1),h(null);return}const{data:z}=await G.from("admins").select("id").eq("id",B.id).maybeSingle();if(z){d(!0),h(null);return}const{data:V}=await G.from("platform_users").select("role, status").eq("id",B.id).single();V?(d(!1),h(V.role)):(d(!1),h(null))}catch(B){console.error("Error checking user type:",B),d(!1),h(null)}}async function k(){try{const{data:B,error:z}=await G.from("menu_items").select("*").eq("is_visible",!0).order("position",{ascending:!0});if(z)throw z;const V=S(B||[]);p(V)}catch(B){console.error("Error loading menu items:",B)}}const S=B=>{const z=new Map,V=[];return B.forEach(W=>{z.set(W.id,{...W,subItems:[]})}),B.forEach(W=>{const Z=z.get(W.id);if(W.parent_id&&z.has(W.parent_id)){const q=z.get(W.parent_id);q.subItems=q.subItems||[],q.subItems.push(Z)}else V.push(Z)}),V},N=B=>{if(!B)return l.jsx(Of,{});const z=fy[B];return z?l.jsx(z,{}):l.jsx(Of,{})},A=B=>B.filter(z=>!!(c||z.visible_to==="all"||z.visible_to==="publisher"&&u==="publisher"||z.visible_to==="advertiser"&&u==="advertiser")).map(z=>{if(z.subItems&&z.subItems.length>0){const V=z.subItems.filter(W=>!!(c||W.visible_to==="all"||W.visible_to==="publisher"&&u==="publisher"||W.visible_to==="advertiser"&&u==="advertiser"));return{...z,subItems:V}}return z}).filter(z=>!(!z.path&&(!z.subItems||z.subItems.length===0))).filter(z=>z.name!=="Service Packages"),E=[{icon:l.jsx(Of,{}),name:"Painel",path:c?"/dashboard":u==="publisher"?"/publisher/dashboard":"/advertiser/dashboard"},{icon:l.jsx(M0,{}),name:"Pedidos",path:"/orders"},...A(f).filter(B=>B.name!=="Cupons").map(B=>{var z;return{icon:N(B.icon),name:B.name,path:B.path||void 0,subItems:(z=B.subItems)==null?void 0:z.map(V=>({name:V.name,path:V.path||""}))}})],R=c?[{icon:l.jsx(Ml,{}),name:"Gerenciador Editorial",path:"/editorial"},{icon:l.jsx(jR,{}),name:"Usuários",path:"/users"},{icon:l.jsx(LR,{}),name:"Páginas",path:"/pages"},{icon:l.jsx(hy,{}),name:"Menu Dash",path:"/menu-dash"},{icon:l.jsx(Ml,{}),name:"Formulários",path:"/forms"},{icon:l.jsx(Wo,{}),name:"Serviços",path:"/service-packages"},{icon:l.jsx(OR,{}),name:"Cupons",path:"/tickets"}]:[],O=b.useCallback(B=>s.pathname===B,[s.pathname]),L=()=>{E.forEach((B,z)=>{Array.isArray(B.subItems)&&B.subItems.some(V=>V&&V.path&&O(V.path))&&m({type:"main",index:z})}),R.forEach((B,z)=>{Array.isArray(B.subItems)&&B.subItems.some(V=>V&&V.path&&O(V.path))&&m({type:"others",index:z})})},D=()=>{const B={};E.forEach((z,V)=>{if(z.subItems){const W=`main-${V}`,Z=y.current[W];Z&&(B[W]=Z.scrollHeight)}}),R.forEach((z,V)=>{if(z.subItems){const W=`others-${V}`,Z=y.current[W];Z&&(B[W]=Z.scrollHeight)}}),x(B)},F=(B,z)=>{m(V=>(V==null?void 0:V.type)===z&&(V==null?void 0:V.index)===B?null:{type:z,index:B})},M=()=>{o(c?"/dashboard":u==="publisher"?"/publisher/dashboard":u==="advertiser"?"/advertiser/dashboard":wo)};return l.jsxs("aside",{className:`fixed mt-16 flex flex-col xl:mt-0 top-0 left-0 bg-white dark:bg-gray-900 dark:border-gray-800 text-gray-900 h-screen transition-all duration-300 ease-in-out z-50 border-r border-gray-200 
        ${r||e||t?"w-[240px] px-5":"w-[70px] px-2"}
        ${e?"translate-x-0":"-translate-x-full"}
        xl:translate-x-0`,onMouseEnter:()=>!r&&n(!0),onMouseLeave:()=>n(!1),children:[l.jsx("div",{onClick:M,className:"cursor-pointer",children:l.jsx(Xce,{logos:a,isExpanded:r,isHovered:t,isMobileOpen:e,loading:i})}),l.jsx(Zce,{navItems:E,othersItems:R,isExpanded:r,isHovered:t,isMobileOpen:e,openSubmenu:g,subMenuHeights:v,isActive:O,handleSubmenuToggle:F,showOthersTitle:c??!1,subMenuRefs:y})]})}function Kce(){var t;const r=document.getElementById("tawkto-script");r&&r.remove();const e=(t=document.querySelector("iframe[src*='tawk.to']"))==null?void 0:t.parentElement;e&&e.remove()}const mh=()=>{const r=Qn(),e=r.pathname.startsWith("/service-packages")||r.pathname.startsWith("/tickets");return b.useEffect(()=>{var s;if(e){Kce();return}if(document.getElementById("tawkto-script"))return;window.Tawk_API=window.Tawk_API||{},window.Tawk_API.zIndex="9 !important",window.Tawk_API.customStyle={zIndex:"5 !important",visibility:{desktop:{position:"br",xOffset:20,yOffset:30},mobile:{position:"br",xOffset:5,yOffset:5},bubble:{rotate:"0deg",xOffset:5,yOffset:5}}};const t=document.createElement("script");t.id="tawkto-script",t.async=!0,t.src="https://embed.tawk.to/60394afb385de407571a81b8/1evfum410",t.charset="UTF-8",t.setAttribute("crossorigin","*");const n=document.getElementsByTagName("script")[0];(s=n==null?void 0:n.parentNode)==null||s.insertBefore(t,n)},[r.pathname,e]),null},Qce=()=>{const{isExpanded:r,isHovered:e,isMobileOpen:t,toggleMobileSidebar:n}=KN();return l.jsxs("div",{className:"w-full min-h-screen xl:flex",children:[l.jsxs("div",{children:[l.jsx(Jce,{}),t&&l.jsx("div",{className:"fixed inset-0 z-40 bg-gray-900 bg-opacity-50 lg:hidden",onClick:n})]}),l.jsxs("div",{className:`w-full flex-1 transition-all duration-300 ease-in-out overflow-hidden ${r||e?"xl:ml-[240px]":"xl:ml-[70px]"} ${t?"ml-0":""}`,children:[l.jsx(Gce,{onToggle:n}),l.jsx("div",{className:"w-full main-content p-4 mx-auto max-w-(--breakpoint-2xl) md:p-6 overflow-hidden pt-20 mt-16",children:l.jsx(YD,{})})]})]})},o4=({hideTawkChat:r=!1})=>{const e=Qn(),t=e.pathname.startsWith("/tickets")||e.pathname.startsWith("/service-packages");return l.jsxs(Ace,{children:[l.jsx(Qce,{}),!r&&!t&&l.jsx(mh,{})]})};function ede(){const{pathname:r}=Qn();return b.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[r]),null}function w9(r,e,t){if(!Array.isArray(r)||t<=0)return[];const n=(e-1)*t,s=e*t;return r.slice(n,s)}function tde(){return l.jsx("thead",{className:"border-gray-100 border-y dark:border-white/[0.05]",children:l.jsxs("tr",{className:"h-8",children:[l.jsx("th",{className:"text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",style:{paddingTop:"12px",paddingBottom:"12px",paddingLeft:"12px"},children:"ID"}),l.jsx("th",{className:"text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",style:{paddingTop:"12px",paddingBottom:"12px",paddingLeft:"12px"},children:"URLs"}),l.jsx("th",{className:"text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",style:{paddingTop:"12px",paddingBottom:"12px",paddingLeft:"12px"},children:"Status"})]})})}const rde=({size:r=20,className:e="",style:t={}})=>l.jsx("div",{className:`flex items-center justify-center flex-shrink-0 ${e}`,style:{width:r,height:r,...t},children:l.jsxs("svg",{width:r*.6,height:r*.6,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm0 18c-4.411 0-8-3.589-8-8 0-1.168.253-2.273.7-3.274L8.274 12.3c.7.7 1.825.7 2.525 0l2.828-2.828c.7-.7.7-1.825 0-2.525L10.053 3.374C10.673 3.132 11.336 3 12 3c4.411 0 8 3.589 8 8s-3.589 8-8 8z",fill:"#D1D5DB"}),l.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"#9CA3AF"})]})});function k9(r){return r?rE(r):""}const nde=({urls:r,className:e=""})=>{const[t,n]=b.useState(new Set);if(!r||r.length===0)return l.jsx("div",{className:`text-gray-400 text-sm ${e}`,children:"Nenhuma URL"});if(r.length===1)return l.jsxs("div",{className:`url-cell flex items-center gap-2 ${e}`,style:{gap:"8px"},children:[l.jsx("div",{className:"w-6 h-6 rounded-full border flex items-center justify-center",style:{backgroundColor:"var(--favicon-bg-light)",borderColor:"var(--favicon-border-light)"},children:l.jsx("img",{src:Vl(r[0]),alt:"Site icon",width:"16",height:"16",className:"flex-shrink-0 rounded-sm",onError:()=>{}})}),l.jsx("span",{className:"font-semibold text-gray-800 dark:text-white/90 whitespace-nowrap",style:{fontSize:"13px",lineHeight:"1.2"},children:k9(r[0])})]});const s=r[0],a=r.slice(1,3),i=o=>{n(c=>new Set(c).add(o))};return l.jsxs("div",{className:`flex items-center ${e}`,children:[l.jsxs("div",{className:"flex items-center -space-x-2 mr-3",children:[a.map((o,c)=>l.jsx("div",{className:"w-6 h-6 rounded-full border flex items-center justify-center",style:{zIndex:8+c,backgroundColor:"var(--favicon-bg-light)",borderColor:"var(--favicon-border-light)"},children:t.has(c)?l.jsx(rde,{size:16,className:"flex-shrink-0"}):l.jsx("img",{src:Vl(o),alt:"Site icon",width:"16",height:"16",className:"flex-shrink-0 rounded-sm",onError:()=>i(c)})},`extra-${c}`)),l.jsx("div",{className:"w-6 h-6 rounded-full border flex items-center justify-center",style:{zIndex:12,backgroundColor:"var(--favicon-bg-light)",borderColor:"var(--favicon-border-light)"},children:l.jsx("img",{src:Vl(s),alt:"Site icon",width:"16",height:"16",className:"flex-shrink-0 rounded-sm",onError:()=>{}})})]}),l.jsx("span",{className:"font-semibold text-gray-800 dark:text-white/90 whitespace-nowrap",style:{fontSize:"13px",lineHeight:"1.2"},children:k9(s)})]})},sde=({order:r})=>{var n;const e=Sr(),t=()=>{r.id&&e(`/orders/${r.id}`)};return l.jsxs("tr",{className:"recent-orders-table-row cursor-pointer transition-all duration-200 ease-in-out hover:shadow-sm hover:bg-gray-100 dark:hover:bg-gray-700",onClick:t,role:"button",tabIndex:0,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),t())},children:[l.jsx("td",{className:"id-cell text-xs text-gray-500 font-mono",style:{maxHeight:"max-content",paddingTop:"12px",paddingBottom:"12px",paddingLeft:"12px"},children:(n=r.id)==null?void 0:n.slice(0,6)}),l.jsx("td",{className:"url-cell",style:{paddingTop:"12px",paddingBottom:"12px",paddingLeft:"12px"},children:l.jsx(nde,{urls:r.urls})}),l.jsx("td",{className:"status-cell text-xs text-gray-800 dark:text-white/90",style:{paddingTop:"12px",paddingBottom:"12px",paddingLeft:"12px"},children:r.status||"Indefinido"})]})};async function xC(r){try{const{data:{user:e}}=await G.auth.getUser();if(!e)throw new Error("User not authenticated");if(r.idempotency_key){const{data:i}=await G.from("orders").select("*").eq("idempotency_key",r.idempotency_key).eq("user_id",e.id).maybeSingle();if(i)return i}const{data:t,error:n}=await G.from("orders").insert([{user_id:e.id,status:"pending",payment_method:r.payment_method,payment_status:"pending",total_amount:r.total_amount,billing_name:r.billing_name,billing_email:r.billing_email,billing_address:r.billing_address,billing_city:r.billing_city,billing_state:r.billing_state,billing_zip_code:r.billing_zip_code,billing_document_number:r.billing_document_number,phone:r.phone,payment_id:r.payment_id,metadata:r.metadata,idempotency_key:r.idempotency_key}]).select().single();if(n)throw n;if(!t)throw new Error("Failed to create order");const s=r.items.map(i=>({order_id:t.id,entry_id:i.entry_id,product_name:i.product_name,product_url:i.product_url,quantity:i.quantity,unit_price:i.unit_price,total_price:i.total_price,niche:i.niche,service_content:i.service_content})),{error:a}=await G.from("order_items").insert(s);if(a)throw a;return t}catch(e){throw console.error("Error creating order:",e),e}}async function XF(r){try{const{data:e,error:t}=await G.from("orders").select("*").eq("user_id",r).order("created_at",{ascending:!1});if(t)throw t;return e}catch(e){return console.error("Error getting user orders:",e),null}}async function ZF(r){try{const{data:e,error:t}=await G.from("order_items").select("*").eq("order_id",r);if(t)throw t;return e}catch(e){return console.error("Error getting order items:",e),null}}async function JF(r,e,t){try{const n={status:e};t&&(n.payment_status=t);const{error:s}=await G.from("orders").update(n).eq("id",r);if(s)throw s;return!0}catch(n){return console.error("Error updating order status:",n),!1}}async function KF(r){try{console.log("📋 Simulando confirmação de pagamento de boleto:",r);const{error:e}=await G.from("orders").update({payment_status:"paid",status:"processing"}).eq("id",r);if(e)throw e;return console.log("✅ Pagamento de boleto confirmado com sucesso"),!0}catch(e){return console.error("Error confirming boleto payment:",e),!1}}async function QF(r){try{console.log("🗑️ Deleting order items for order:",r);const{error:e,data:t}=await G.from("order_items").delete().eq("order_id",r);if(e)throw console.error("❌ Error deleting order items:",e),console.error("❌ Error details:",{message:e.message,code:e.code,details:e.details,hint:e.hint}),e;return console.log("✅ Order items deleted successfully:",t),!0}catch(e){return console.error("Error deleting order items:",e),!1}}async function eB(r){try{console.log("🗑️ Deleting order:",r);const{error:e,data:t}=await G.from("orders").delete().eq("id",r);if(e)throw console.error("❌ Error deleting order:",e),console.error("❌ Error details:",{message:e.message,code:e.code,details:e.details,hint:e.hint}),e;return console.log("✅ Order deleted successfully:",t),!0}catch(e){return console.error("Error deleting order:",e),!1}}async function tB(r){try{if(console.log("🗑️ Starting complete order deletion:",r),!await QF(r))throw new Error("Failed to delete order items");if(!await eB(r))throw new Error("Failed to delete order");return console.log("✅ Complete order deletion successful"),!0}catch(e){return console.error("❌ Error in complete order deletion:",e),!1}}async function rB(){try{const{count:r,error:e}=await G.from("orders").select("*",{count:"exact",head:!0});if(e)throw e;return r||0}catch(r){return console.error("Erro ao contar pedidos:",r),0}}async function q0(){try{const{data:r,error:e}=await G.from("orders").select("*").order("created_at",{ascending:!1});if(e)throw e;return r}catch(r){return console.error("Erro ao buscar todos os pedidos:",r),null}}const C9=Object.freeze(Object.defineProperty({__proto__:null,createOrder:xC,deleteCompleteOrder:tB,deleteOrderById:eB,deleteOrderItems:QF,getAllOrders:q0,getOrderItems:ZF,getOrdersByUser:XF,getOrdersCount:rB,simulateBoletoPaymentConfirmation:KF,updateOrderStatus:JF},Symbol.toStringTag,{value:"Module"}));async function nB(r,e){try{let t=[];if(e)t=await q0()||[],console.log("Debug - Admin mode: fetched",t.length,"orders");else if(r)t=await XF(r)||[],console.log("Debug - User mode: fetched",t.length,"orders for user",r);else return console.log("Debug - No user authenticated"),[];return await Promise.all(t.map(async s=>{const i=(await ZF(s.id)||[]).map(o=>o.product_url).filter(o=>!!o);return{id:s.id,status:s.status,urls:i,created_at:s.created_at}}))}catch(t){return console.error("Erro ao buscar pedidos com URLs:",t),[]}}async function ade(r,e){return(await nB(r,e)).slice(0,9)}async function ide(){try{const{data:{user:r}}=await G.auth.getUser();if(!r)return console.log("AdminVerification: Nenhum usuário autenticado"),{isAdmin:!1,userId:null};console.log("AdminVerification: Verificando admin para usuário:",r.id);const{data:e,error:t}=await G.from("admins").select("role").eq("id",r.id).maybeSingle();console.log("AdminVerification: Resultado da consulta admin:",{adminData:e,adminError:t});const n=(e==null?void 0:e.role)==="admin";return console.log(n?"AdminVerification: Usuário é admin!":"AdminVerification: Usuário não é admin"),{isAdmin:n,userId:r.id}}catch(r){return console.error("AdminVerification: Erro ao verificar status de admin:",r),{isAdmin:!1,userId:null}}}function ode(){const[r,e]=b.useState(!1),[t,n]=b.useState(1),[s]=b.useState(9),[a,i]=b.useState(!1),[o,c]=b.useState(""),[d,u]=b.useState(!1),[h,f]=b.useState([]),[p,g]=b.useState(!0);return b.useEffect(()=>{n(1),u(!!o.trim())},[r,o]),b.useEffect(()=>{async function v(){g(!0);try{const x=await ide(),{isAdmin:y,userId:w}=x;let k=[];console.log("Debug - Final values: userId =",y?"undefined (admin mode)":w,", isAdmin =",y),r||d?k=await nB(y?void 0:w||void 0,y):k=await ade(y?void 0:w||void 0,y),console.log("Debug - Final fetched orders count:",k.length),f(k)}catch(x){console.error("Erro ao buscar pedidos:",x),f([])}finally{g(!1)}}v()},[r,d]),{showAll:r,currentPage:t,ordersPerPage:s,showFilter:a,filterValue:o,isFiltering:d,orders:h,loading:p,setCurrentPage:n,setShowFilter:i,setFilterValue:c,toggleShowAll:()=>{e(v=>!v),n(1)}}}function lde(r,e){if(!e)return;const t=document.getElementById(`page-btn-${r}`);if(t&&e){const n=t.getBoundingClientRect(),s=e.getBoundingClientRect(),a=n.left-s.left-s.width/2+n.width/2;e.scrollTo({left:e.scrollLeft+a,behavior:"smooth"})}}function zy(){const{showAll:r,currentPage:e,ordersPerPage:t,filterValue:n,isFiltering:s,orders:a,loading:i,setCurrentPage:o,toggleShowAll:c}=ode(),d=b.useRef(null),u=s&&n.trim()?a.filter(p=>{var g,m;return((g=p.id)==null?void 0:g.toLowerCase().includes(n.toLowerCase()))||((m=p.status)==null?void 0:m.toLowerCase().includes(n.toLowerCase()))||p.urls.some(v=>v==null?void 0:v.toLowerCase().includes(n.toLowerCase()))}):a,h=r||s?Math.ceil(u.length/t):1;let f;return f=w9(u,1,t),(r||s)&&(f=w9(u,e,t)),l.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white pt-4 dark:border-gray-800 dark:bg-white/[0.03] h-full",style:{height:"100%"},children:[l.jsxs("div",{className:"flex flex-col gap-4 px-6 mb-4 sm:flex-row sm:items-center sm:justify-between",children:[l.jsx("div",{children:l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:r||s?"Todos os Pedidos":"Últimos Pedidos"})}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("button",{className:"text-theme-sm shadow-theme-xs inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-3 font-medium text-gray-700 hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200",onClick:c,children:r||s?"Recentes":"Todos"})})]}),l.jsx("div",{className:"max-w-full overflow-x-auto custom-scrollbar",style:{height:"563px"},children:l.jsxs("table",{className:"recent-orders-table min-w-full w-full table-fixed",style:{maxHeight:"max-content"},children:[l.jsx(tde,{}),l.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:i?l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"text-center py-8 text-gray-500",children:"Carregando pedidos..."})}):f.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"text-center py-8 text-gray-500",children:"Nenhum pedido encontrado."})}):f.map(p=>l.jsx(sde,{order:p},p.id))})]})}),(r||s)&&h>1&&l.jsx("div",{className:"flex flex-col items-center justify-between px-4 py-3 border-t border-gray-200 dark:border-gray-800 sm:px-6",children:l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("button",{onClick:()=>o(p=>Math.max(p-1,1)),disabled:e===1,className:"relative inline-flex items-center px-3 py-1 text-sm font-medium rounded-md transition-all duration-150 text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700","aria-label":"Página anterior",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),l.jsx("div",{ref:d,className:"flex items-center space-x-1 overflow-x-auto max-w-full scrollbar-thin pagination-slide-scroll",children:(()=>{let g=Math.max(1,e-Math.floor(2.5)),m=g+5-1;m>h&&(m=h,g=Math.max(1,m-5+1));const v=[];for(let x=g;x<=m;x++)v.push(l.jsx("button",{id:`page-btn-${x}`,onClick:()=>{o(x),setTimeout(()=>{lde(x,d.current)},10)},className:"relative inline-flex items-center justify-center w-9 h-8 text-sm font-medium rounded-md transition-all duration-150 "+(e===x?"bg-brand-500 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700"),children:x},x));return v})()}),l.jsx("button",{onClick:()=>o(p=>Math.min(p+1,h)),disabled:e===h,className:"relative inline-flex items-center px-3 py-1 text-sm font-medium rounded-md transition-all duration-150 text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700","aria-label":"Próxima página",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]})})]})}async function cde(){try{const r=new Date,e=new Date(r.getFullYear(),r.getMonth(),1),t=new Date(r.getFullYear(),r.getMonth()+1,0,23,59,59,999),n=await q0();return n?n.filter(s=>s.payment_status==="paid"&&s.aprovment_payment&&new Date(s.aprovment_payment)>=e&&new Date(s.aprovment_payment)<=t).reduce((s,a)=>s+(a.total_amount||0),0):0}catch(r){return console.error("Erro ao calcular faturamento do mês:",r),0}}async function dde(){try{const r=new Date,e=new Date(r.getFullYear(),r.getMonth(),1),t=new Date(r.getFullYear(),r.getMonth()+1,0,23,59,59,999),n=new Date(r.getFullYear(),r.getMonth()-1,1),s=new Date(r.getFullYear(),r.getMonth(),0,23,59,59,999),a=await q0();if(!a)return{atual:0,anterior:0,diffPercent:0};const i=(u,h)=>a.filter(f=>f.payment_status==="paid"&&f.aprovment_payment&&new Date(f.aprovment_payment)>=u&&new Date(f.aprovment_payment)<=h).reduce((f,p)=>f+(p.total_amount||0),0),o=i(e,t),c=i(n,s);let d=0;return c>0?d=(o-c)/c*100:o>0&&(d=100),{atual:o,anterior:c,diffPercent:d}}catch(r){return console.error("Erro ao calcular diferença de faturamento:",r),{atual:0,anterior:0,diffPercent:0}}}async function ude(){try{let r=function(u,h,f){if(!u)return!1;const[p,g]=u.split("-");return Number(g)===h&&Number(p)===f};const e=new Date,t=e.getMonth()+1,n=e.getFullYear();let s=t-1,a=n;s===0&&(s=12,a=n-1);const{data:i,error:o}=await G.from("user_stats").select("month_total, name, year, last_date");if(o)throw o;console.log("user_stats data:",i),i&&i.length>0?i.forEach(u=>console.log("Linha:",u,"last_date:",u.last_date)):console.log("user_stats data está vazio!");let c=(i==null?void 0:i.find(u=>u.last_date&&r(u.last_date,t,n)))||null,d=(i==null?void 0:i.find(u=>u.last_date&&r(u.last_date,s,a)))||null;return!c&&i&&i.length>0&&(c=i.reduce((u,h)=>h.last_date>u.last_date?h:u,i[0])),!d&&i&&i.length>1&&(d=[...i].sort((h,f)=>f.last_date.localeCompare(h.last_date))[1]||null),console.log("current:",c,"previous:",d),{currentMonthTotal:(c==null?void 0:c.month_total)??0,previousMonthTotal:(d==null?void 0:d.month_total)??0,currentMonthName:(c==null?void 0:c.name)??"",previousMonthName:(d==null?void 0:d.name)??""}}catch(r){return console.error("Erro ao buscar totais dos meses:",r),{currentMonthTotal:0,previousMonthTotal:0,currentMonthName:"",previousMonthName:""}}}async function sB(){const{data:r,error:e}=await G.from("form_entries").select("*");return e?(console.log("Erro ao buscar form_entries:",e),[]):r}async function nE(){const{data:r,error:e}=await G.from("forms").select("*");return e?(console.error("Erro ao buscar forms:",e),null):r}async function hde(){const r=await nE();if(!r)return[];const e=r.find(s=>{var a;return((a=s.title)==null?void 0:a.toLowerCase())==="cadastro de sites"});if(!e)return[];const t=await sB();return t?t.filter(s=>s.form_id===e.id):[]}function fde(r){if(r>=1e3){const e=r/1e3;return`R$ ${Number.isInteger(e)?e.toFixed(0):e.toFixed(1)}K`}return r.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}const pde=()=>{const[r,e]=b.useState(null),[t,n]=b.useState(null),[s,a]=b.useState(null),[i,o]=b.useState(null),[c,d]=b.useState(!0),[u,h]=b.useState(null),[f,p]=b.useState(!0),[g,m]=b.useState(null),[v,x]=b.useState(null),[y,w]=b.useState(null),[k,S]=b.useState(!0);return b.useEffect(()=>{cde().then(e),dde().then(N=>n(N.diffPercent)),d(!0),ude().then(N=>{a(N.currentMonthTotal),N.previousMonthTotal>0?o((N.currentMonthTotal-N.previousMonthTotal)/N.previousMonthTotal*100):o(null),d(!1)}),p(!0),hde().then(N=>{const A=new Date,E=A.getMonth()+1,R=A.getFullYear(),O=E===1?12:E-1,L=E===1?R-1:R,D=N.filter(M=>{const B=new Date(M.created_at);return B.getMonth()+1===E&&B.getFullYear()===R}).length,F=N.filter(M=>{const B=new Date(M.created_at);return B.getMonth()+1===O&&B.getFullYear()===L}).length;h(D),F>0?m((D-F)/F*100):m(null),p(!1)}),S(!0),q0().then(N=>{if(!N){x(0),w(null),S(!1);return}const A=new Date,E=A.getUTCMonth()+1,R=A.getUTCFullYear(),O=E===1?12:E-1,L=E===1?R-1:R,D=N.filter(M=>{const B=new Date(M.created_at);return B.getUTCMonth()+1===E&&B.getUTCFullYear()===R}).length,F=N.filter(M=>{const B=new Date(M.created_at);return B.getUTCMonth()+1===O&&B.getUTCFullYear()===L}).length;x(D),F>0?w((D-F)/F*100):w(null),S(!1)})},[]),l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:gap-6 xl:grid-cols-4",children:[l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03]",children:[l.jsx("p",{className:"text-gray-500 text-theme-sm dark:text-gray-400",children:"Faturamento Mês"}),l.jsxs("div",{className:"flex items-end justify-between mt-3",children:[l.jsx("div",{children:l.jsx("h4",{className:"text-2xl font-bold text-gray-800 dark:text-white/90",children:r===null?"...":fde(r)})}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm "+(t!==null&&t<0?"bg-red-200 text-red-700":"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500"),children:l.jsx("span",{className:"text-xs",children:t===null?"...":`${t>0?"+":""}${t.toFixed(1)}%`})}),l.jsx("span",{className:"text-gray-500 text-theme-xs dark:text-gray-400",children:"Vs mês anterior"})]})]})]}),l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03]",children:[l.jsx("p",{className:"text-gray-500 text-theme-sm dark:text-gray-400",children:"Usuários"}),l.jsxs("div",{className:"flex items-end justify-between mt-3",children:[l.jsx("div",{children:l.jsx("h4",{className:"text-2xl font-bold text-gray-800 dark:text-white/90",children:c?"...":s})}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm "+(i!==null&&i<0?"bg-red-200 text-red-700":"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500"),children:l.jsx("span",{className:"text-xs",children:c||i===null?"...":`${i>0?"+":""}${i.toFixed(1)}%`})}),l.jsx("span",{className:"text-gray-500 text-theme-xs dark:text-gray-400",children:"Vs mês anterior"})]})]})]}),l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03]",children:[l.jsx("p",{className:"text-gray-500 text-theme-sm dark:text-gray-400",children:"Sites Cadastrados"}),l.jsxs("div",{className:"flex items-end justify-between mt-3",children:[l.jsx("div",{children:l.jsx("h4",{className:"text-2xl font-bold text-gray-800 dark:text-white/90",children:f?"...":u!==null?u>=1e3?`${(u/1e3).toFixed(u%1e3===0?0:1)}K`:u:"0"})}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm "+(g!==null&&g<0?"bg-red-200 text-red-700":"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500"),children:l.jsx("span",{className:"text-xs",children:f||g===null?"...":`${g>0?"+":""}${g.toFixed(1)}%`})}),l.jsx("span",{className:"text-gray-500 text-theme-xs dark:text-gray-400",children:"Vs mês anterior"})]})]})]}),l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03]",children:[l.jsx("p",{className:"text-gray-500 text-theme-sm dark:text-gray-400",children:"Vendas do Mês"}),l.jsxs("div",{className:"flex items-end justify-between mt-3",children:[l.jsx("div",{children:l.jsx("h4",{className:"text-2xl font-bold text-gray-800 dark:text-white/90",children:k?"...":v!==null?v>=1e3?`${(v/1e3).toFixed(v%1e3===0?0:1)}K`:v:"0"})}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm "+(y!==null&&y<0?"bg-red-200 text-red-700":"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500"),children:l.jsx("span",{className:"text-xs",children:k||y===null?"...":`${y>0?"+":""}${y.toFixed(1)}%`})}),l.jsx("span",{className:"text-gray-500 text-theme-xs dark:text-gray-400",children:"Vs mês anterior"})]})]})]})]})};function gde(){const r={chart:{type:"bar",height:250,fontFamily:"Outfit, sans-serif",toolbar:{show:!1}},colors:["#465FFF"],plotOptions:{bar:{borderRadius:6,columnWidth:"40%"}},dataLabels:{enabled:!1},legend:{show:!1},grid:{yaxis:{lines:{show:!0}},xaxis:{lines:{show:!1}}},xaxis:{categories:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],labels:{style:{fontSize:"12px",colors:["#6B7280"]}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{style:{fontSize:"12px",colors:["#6B7280"]}}},tooltip:{enabled:!0}},e=[{name:"Sales",data:[168,385,201,298,187,195,291,110,215,390,280,112]}];return l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white px-5 pt-5 dark:border-gray-800 dark:bg-white/[0.03] sm:px-6 sm:pt-6",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-5",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"mb-1 text-lg font-semibold text-gray-800 dark:text-white/90",children:"Vendas Mensais"}),l.jsx("span",{className:"block text-gray-500 text-theme-sm dark:text-gray-400",children:"Análise de visitantes dos últimos 30 dias"})]}),l.jsxs("div",{className:"flex items-center gap-0.5 rounded-lg bg-gray-100 p-0.5 dark:bg-gray-900",children:[l.jsx("button",{className:"px-3 py-2 font-medium w-full rounded-md text-theme-sm hover:text-gray-900 dark:hover:text-white shadow-theme-xs text-gray-900 dark:text-white bg-white dark:bg-gray-800",children:"Mensal"}),l.jsx("button",{className:"px-3 py-2 font-medium w-full rounded-md text-theme-sm hover:text-gray-900 dark:hover:text-white text-gray-500 dark:text-gray-400",children:"Trimestral"}),l.jsx("button",{className:"px-3 py-2 font-medium w-full rounded-md text-theme-sm hover:text-gray-900 dark:hover:text-white text-gray-500 dark:text-gray-400",children:"Anual"})]})]}),l.jsx("div",{className:"max-w-full overflow-x-auto custom-scrollbar",children:l.jsx("div",{className:"-ml-5 min-w-[1300px] xl:min-w-full pl-2",children:l.jsx("div",{style:{minHeight:265},children:l.jsx(mN,{options:r,series:e,type:"bar",height:250})})})})]})}class vC{static async upsertFormEntryValues(e,t){try{const n=t.map(a=>({entry_id:e,field_id:a.field_id,value:a.value,value_json:a.value_json})),{error:s}=await G.from("form_entry_values").upsert(n,{onConflict:"entry_id,field_id",ignoreDuplicates:!1});return s?(console.error("FormEntryValuesService - Upsert error:",s),{success:!1,error:s}):{success:!0}}catch(n){return console.error("FormEntryValuesService - Unexpected error:",n),{success:!1,error:n}}}static async deleteAndInsertFormEntryValues(e,t){try{const{error:n}=await G.from("form_entry_values").delete().eq("entry_id",e);if(n)return{success:!1,error:n};const{error:s}=await G.from("form_entry_values").insert(t);return s?{success:!1,error:s}:{success:!0}}catch(n){return console.error("FormEntryValuesService - Legacy method error:",n),{success:!1,error:n}}}static async getFormEntryValues(e){try{const{data:t,error:n}=await G.from("form_entry_values").select("*").eq("entry_id",e).order("field_id");return n?(console.error("FormEntryValuesService - Get values error:",n),{data:null,error:n}):{data:t,error:null}}catch(t){return console.error("FormEntryValuesService - Unexpected get error:",t),{data:null,error:t}}}static validateFormEntryValues(e){const t=[];for(const n of e)n.entry_id||t.push("entry_id is required for all values"),n.field_id||t.push("field_id is required for all values"),n.value===null&&n.value_json===null&&console.log(`ℹ️ [FormEntryValuesService] Campo ${n.field_id} vazio (value=null, value_json=null)`),n.value!==null&&n.value_json!==null&&t.push(`Only one of value or value_json should be provided for field ${n.field_id}`);return{isValid:t.length===0,errors:t}}}function k1(r){const e=typeof r=="string"?parseFloat(r.replace(/[^\d,.-]/g,"").replace(",",".")):r;return isNaN(e)?"Preço não disponível":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function mde(r){let e="Preço não disponível",t,n,s=!1,a=null;if(r.value_json)a=r.value_json;else if(r.value)try{const i=JSON.parse(r.value);i&&typeof i=="object"&&"price"in i&&(a=i)}catch{console.log("Value não é JSON válido, tratando como string simples:",r.value)}return a?(a.price&&(e=a.price.includes("R$")?a.price:k1(a.price)),a.promotional_price&&a.promotional_price!=="0"&&a.promotional_price.trim()!==""&&(t=a.promotional_price.includes("R$")?a.promotional_price:k1(a.promotional_price),s=!0),a.old_price&&(n=a.old_price.includes("R$")?a.old_price:k1(a.old_price))):e==="Preço não disponível"&&r.value&&(e=r.value.includes("R$")?r.value:k1(r.value)),{price:e,promotionalPrice:t,oldPrice:n,hasPromotion:s}}function S9(r){try{let e=r.replace(/^https?:\/\//,"");e=e.replace(/^www\./,""),e=e.split("/")[0],e=e.split(":")[0];const t=e.split(".");return t.length>=2?t.length>=3&&t[t.length-1]==="br"?t.length>=4?t.slice(-4,-2).join("."):t.slice(-3,-1).join("."):t.length>2?t.slice(-2).join("."):t.join("."):e}catch(e){return console.error("Error formatting site name:",e),r}}function N9(r){try{return`https://www.google.com/s2/favicons?domain=${new URL(r.startsWith("http")?r:`https://${r}`).hostname}&sz=32`}catch(e){return console.error("Error generating favicon URL:",e),`https://www.google.com/s2/favicons?domain=${r}&sz=32`}}function xde(){const[r,e]=b.useState([]),[t,n]=b.useState(!0),[s,a]=b.useState(null),i=async()=>{try{n(!0),a(null);const{data:o,error:c}=await G.from("best_selling_sites").select("*").order("quantity",{ascending:!1}).limit(10);if(c)throw new Error(c.message||"Erro ao carregar sites");if(!o||o.length===0){e([]);return}const u=(await Promise.all(o.map(async h=>{try{const f=await vC.getFormEntryValues(h.entry_id);let p={price:"Preço não disponível",promotionalPrice:void 0,oldPrice:void 0,hasPromotion:!1};if(f.data&&f.data.length>0){const g=f.data.find(m=>{var v,x;return((v=m.value)==null?void 0:v.includes("R$"))||((x=m.value)==null?void 0:x.includes("price"))||m.value_json&&typeof m.value_json=="object"&&"price"in m.value_json});if(g){const m={value:g.value,value_json:g.value_json};console.log("priceField raw data:",g),console.log("priceData:",m);const v=mde(m);p={price:v.price,promotionalPrice:v.promotionalPrice,oldPrice:v.oldPrice,hasPromotion:v.hasPromotion},console.log("extracted price info:",p)}}return{siteName:S9(h.product_url),siteUrl:h.product_url,price:p.price,promotionalPrice:p.promotionalPrice,oldPrice:p.oldPrice,hasPromotion:p.hasPromotion,quantity:h.quantity,favicon:N9(h.product_url)}}catch(f){return console.error(`Erro ao processar site ${h.product_name}:`,f),{siteName:S9(h.product_url),siteUrl:h.product_url,price:"Erro ao carregar preço",promotionalPrice:void 0,oldPrice:void 0,hasPromotion:!1,quantity:h.quantity,favicon:N9(h.product_url)}}}))).sort((h,f)=>f.quantity-h.quantity).slice(0,5);e(u)}catch(o){console.error("Erro ao carregar dados do chart:",o),a(o instanceof Error?o.message:"Erro desconhecido")}finally{n(!1)}};return b.useEffect(()=>{i()},[]),{data:r,loading:t,error:s,refetch:i}}function aB({priceData:r,className:e="",size:t="md",alignment:n="right"}){const s=u=>{if(u.includes("R$"))return u;const h=parseFloat(u.replace(/[^\d,.-]/g,"").replace(",","."));return isNaN(h)?u:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(h)},a=(u,h)=>{try{console.log("calculateDiscountPercentage - originalPrice:",u,"promotionalPrice:",h);const f=v=>{let x=v.replace(/[^\d,.-]/g,"");if(x.includes(","))x=x.replace(/\./g,"").replace(",",".");else if(x.includes(".")){const y=x.lastIndexOf(".");(x.length-y-1===3||x.split(".").length>2)&&(x=x.replace(/\./g,""))}return parseFloat(x)},p=f(u),g=f(h);if(console.log("calculateDiscountPercentage - parsed original:",p,"parsed promotional:",g),isNaN(p)||isNaN(g)||p<=g)return console.log("calculateDiscountPercentage - returning 0 because:",{originalIsNaN:isNaN(p),promotionalIsNaN:isNaN(g),originalLtePromotional:p<=g,original:p,promotional:g}),0;const m=Math.round((p-g)/p*100);return console.log("calculateDiscountPercentage - calculated percentage:",m),m}catch(f){return console.log("calculateDiscountPercentage - error:",f),0}},i={sm:{oldPrice:"text-xs",currentPrice:"text-sm",discount:"text-xs"},md:{oldPrice:"text-sm",currentPrice:"text-base",discount:"text-sm"},lg:{oldPrice:"text-base",currentPrice:"text-lg",discount:"text-base"}},o={left:"text-left",center:"text-center",right:"text-right"},c=i[t],d=o[n];if(r.hasPromotion&&r.promotionalPrice){const u=a(r.price,r.promotionalPrice);return l.jsxs("div",{className:`${d} ${e}`,children:[l.jsx("div",{className:`${c.oldPrice} text-gray-400 line-through`,children:s(r.price)}),l.jsxs("div",{className:"flex items-center gap-1",style:{justifyContent:n==="left"?"flex-start":n==="center"?"center":"flex-end"},children:[l.jsx("span",{className:`${c.currentPrice} font-semibold text-gray-900 dark:text-white`,children:s(r.promotionalPrice)}),u>0&&l.jsxs("span",{className:`${c.discount} font-medium text-green-600 dark:text-green-400`,children:[u,"% OFF"]})]})]})}if(r.oldPrice&&r.oldPrice!==r.price){const u=a(r.oldPrice,r.price);if(u>0)return l.jsxs("div",{className:`${d} ${e}`,children:[l.jsx("div",{className:`${c.oldPrice} text-gray-400 line-through`,children:s(r.oldPrice)}),l.jsxs("div",{className:"flex items-center gap-1",style:{justifyContent:n==="left"?"flex-start":n==="center"?"center":"flex-end"},children:[l.jsx("span",{className:`${c.currentPrice} font-semibold text-gray-900 dark:text-white`,children:s(r.price)}),l.jsxs("span",{className:`${c.discount} font-medium text-green-600 dark:text-green-400`,children:[u,"% OFF"]})]})]})}return l.jsx("div",{className:`${d} ${e}`,children:l.jsx("span",{className:`${c.currentPrice} text-gray-500 dark:text-gray-400`,children:s(r.price)})})}function vde({site:r}){const e={price:r.price,promotionalPrice:r.promotionalPrice,oldPrice:r.oldPrice,hasPromotion:r.hasPromotion};return console.log("SiteRow - site data:",r),console.log("SiteRow - priceData:",e),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:r.favicon,alt:`${r.siteName} favicon`,className:"w-4 h-4 rounded-sm",onError:t=>{t.currentTarget.style.display="none"}}),l.jsx("span",{className:"text-gray-500 text-theme-sm dark:text-gray-400",children:r.siteName})]}),l.jsx(aB,{priceData:e,size:"sm",alignment:"right"})]})}function iB(){return l.jsxs("div",{className:"my-6",children:[l.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-100 dark:border-gray-800",children:[l.jsx("span",{className:"text-gray-400 text-theme-xs",children:"Site"}),l.jsx("span",{className:"text-right text-gray-400 text-theme-xs",children:"Desconto"})]}),[...Array(5)].map((r,e)=>l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800",children:[l.jsx("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 h-4 w-24 rounded"}),l.jsx("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 h-4 w-12 rounded"})]},e))]})}function oB({message:r,onRetry:e}){return l.jsxs("div",{className:"my-6 text-center",children:[l.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-100 dark:border-gray-800",children:[l.jsx("span",{className:"text-gray-400 text-theme-xs",children:"Site"}),l.jsx("span",{className:"text-right text-gray-400 text-theme-xs",children:"Desconto"})]}),l.jsxs("div",{className:"py-8",children:[l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:r}),e&&l.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-brand-600 hover:text-brand-700 dark:text-brand-400 dark:hover:text-brand-300 border border-brand-300 rounded-md hover:bg-brand-50 dark:hover:bg-brand-900/20 transition-colors",children:"Tentar novamente"})]})]})}function lB(){const{data:r,loading:e,error:t,refetch:n}=xde();return e?l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[l.jsx("div",{className:"flex items-start justify-between mb-6",children:l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Sites Mais Vendidos"})}),l.jsx(iB,{})]}):t?l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[l.jsx("div",{className:"flex items-start justify-between mb-6",children:l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Sites Mais Vendidos"})}),l.jsx(oB,{message:t,onRetry:n})]}):l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Sites Mais Vendidos"}),l.jsx("div",{className:"relative inline-block",children:l.jsx("button",{className:"dropdown-toggle",onClick:n,title:"Atualizar dados",children:l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 size-6",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2441 6C10.2441 5.0335 11.0276 4.25 11.9941 4.25H12.0041C12.9706 4.25 13.7541 5.0335 13.7541 6C13.7541 6.9665 12.9706 7.75 12.0041 7.75H11.9941C11.0276 7.75 10.2441 6.9665 10.2441 6ZM10.2441 18C10.2441 17.0335 11.0276 16.25 11.9941 16.25H12.0041C12.9706 16.25 13.7541 17.0335 13.7541 18C13.7541 18.9665 12.9706 19.75 12.0041 19.75H11.9941C11.0276 19.75 10.2441 18.9665 10.2441 18ZM11.9941 10.25C11.0276 10.25 10.2441 11.0335 10.2441 12C10.2441 12.9665 11.0276 13.75 11.9941 13.75H12.0041C12.9706 13.75 13.7541 12.9665 13.7541 12C13.7541 11.0335 12.9706 10.25 12.0041 10.25H11.9941Z",fill:"currentColor"})})})})]}),l.jsxs("div",{className:"my-6",children:[l.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-100 dark:border-gray-800",children:[l.jsx("span",{className:"text-gray-400 text-theme-xs",children:"Site"}),l.jsx("span",{className:"text-right text-gray-400 text-theme-xs",children:"Preço"})]}),r.length===0?l.jsx("div",{className:"py-8 text-center text-gray-500 dark:text-gray-400",children:"Nenhum site encontrado"}):r.map((s,a)=>l.jsx(vde,{site:s},`${s.siteUrl}-${a}`))]})]})}class cB{static async getAllPromotionSites(){try{const{data:e,error:t}=await G.from("promotion_sites").select("*").order("percent",{ascending:!1});return t?(console.error("Erro ao buscar sites em promoção:",t),null):e}catch(e){return console.error("Erro inesperado ao buscar sites em promoção:",e),null}}static async getPromotionSitesForRanking(){try{const e=await this.getAllPromotionSites();return e?e.map(n=>({id:n.id,url:n.url,percent:n.percent,price:n.price,promotional_price:n.promotional_price})):null}catch(e){return console.error("Erro ao formatar sites em promoção para ranking:",e),null}}static async getTopPromotionSites(e=10){try{const{data:t,error:n}=await G.from("promotion_sites").select("id, url, percent, price, promotional_price").order("percent",{ascending:!1}).limit(e);return n?(console.error("Erro ao buscar top sites em promoção:",n),null):t}catch(t){return console.error("Erro inesperado ao buscar top sites em promoção:",t),null}}static async getPromotionSiteById(e){try{const{data:t,error:n}=await G.from("promotion_sites").select("*").eq("id",e).single();return n?(console.error("Erro ao buscar site em promoção por ID:",n),null):t}catch(t){return console.error("Erro inesperado ao buscar site em promoção por ID:",t),null}}static extractDomain(e){try{return new URL(e.startsWith("http")?e:`https://${e}`).hostname.replace("www.","")}catch{return e}}static formatPercent(e){return`${e.toFixed(1)}%`}}function yde(r=10){const[e,t]=b.useState([]),[n,s]=b.useState(!0),[a,i]=b.useState(null),o=async()=>{try{s(!0),i(null);const d=await cB.getTopPromotionSites(r);d===null?(i("Erro ao carregar sites em promoção"),t([])):t(d)}catch(d){console.error("Erro no hook usePromotionSites:",d),i("Erro inesperado ao carregar dados"),t([])}finally{s(!1)}};return b.useEffect(()=>{o()},[r]),{sites:e,loading:n,error:a,refetch:async()=>{await o()}}}function bde({site:r,isLast:e=!1}){const t=rE(r.url),n=a=>{try{return`https://www.google.com/s2/favicons?domain=${cB.extractDomain(a)}&sz=16`}catch{return"https://www.google.com/s2/favicons?domain=default.com&sz=16"}},s={price:r.price.toString(),promotionalPrice:r.promotional_price.toString(),hasPromotion:r.promotional_price>0&&r.promotional_price<r.price};return l.jsxs("div",{className:`flex items-center justify-between py-3 ${e?"":"border-b border-gray-100 dark:border-gray-800"}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:n(r.url),alt:`${t} favicon`,className:"w-4 h-4 rounded-sm flex-shrink-0",onError:a=>{const i=a.target;i.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71'%3E%3C/path%3E%3Cpath d='M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71'%3E%3C/path%3E%3C/svg%3E"}}),l.jsx("span",{className:"text-gray-500 text-theme-sm dark:text-gray-400",title:r.url,children:t})]}),l.jsx(aB,{priceData:s,size:"sm",alignment:"right"})]})}function wde(){return l.jsxs("div",{className:"my-6",children:[l.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-100 dark:border-gray-800",children:[l.jsx("span",{className:"text-gray-400 text-theme-xs",children:"Site"}),l.jsx("span",{className:"text-right text-gray-400 text-theme-xs",children:"Desconto"})]}),l.jsx("div",{className:"py-8 text-center",children:l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Nenhum site em promoção encontrado"})})]})}function sE(){const{sites:r,loading:e,error:t,refetch:n}=yde(5),s=()=>e?l.jsx(iB,{}):t?l.jsx(oB,{message:t,onRetry:n}):r.length===0?l.jsx(wde,{}):l.jsxs("div",{className:"my-6",children:[l.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-100 dark:border-gray-800",children:[l.jsx("span",{className:"text-gray-400 text-theme-xs",children:"Site"}),l.jsx("span",{className:"text-right text-gray-400 text-theme-xs",children:"Preço"})]}),r.map((a,i)=>l.jsx(bde,{site:a,isLast:i===r.length-1},a.id))]});return l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03] md:p-6 h-full",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Top sites em promoção"}),l.jsx("div",{className:"relative inline-block",children:l.jsx("button",{className:"dropdown-toggle",children:l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 size-6",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2441 6C10.2441 5.0335 11.0276 4.25 11.9941 4.25H12.0041C12.9706 4.25 13.7541 5.0335 13.7541 6C13.7541 6.9665 12.9706 7.75 12.0041 7.75H11.9941C11.0276 7.75 10.2441 6.9665 10.2441 6ZM10.2441 18C10.2441 17.0335 11.0276 16.25 11.9941 16.25H12.0041C12.9706 16.25 13.7541 17.0335 13.7541 18C13.7541 18.9665 12.9706 19.75 12.0041 19.75H11.9941C11.0276 19.75 10.2441 18.9665 10.2441 18ZM11.9941 10.25C11.0276 10.25 10.2441 11.0335 10.2441 12C10.2441 12.9665 11.0276 13.75 11.9941 13.75H12.0041C12.9706 13.75 13.7541 12.9665 13.7541 12C13.7541 11.0335 12.9706 10.25 12.0041 10.25H11.9941Z",fill:"currentColor"})})})})]}),s()]})}const kde=[{id:0,question:"Como comprar um link em portais?",answer:"Para comprar um link, basta acessar nossa página de marketplace, selecionar o portal desejado e clicar em 'comprar'. Defina se o conteúdo será produzido por você ou por nossa equipe e, em seguida, realize o pagamento. O processo é simples, rápido e seguro."},{id:1,question:"Como enviar o conteúdo para publicação?",answer:"Após realizar o pedido, basta seguir o padrão indicado no link de exemplo fornecido e fazer o upload do conteúdo diretamente na página do pedido, no campo referente ao site escolhido para publicação."},{id:2,question:"Como enviar minhas pautas para produção de conteúdo?",answer:"Após a confirmação do pedido, aguarde até 24 horas para que nossa equipe entre em contato solicitando as pautas para a produção do seu artigo. Caso ainda não tenha as pautas definidas, não se preocupe — podemos sugerir algumas opções com base no tema do portal escolhido."},{id:3,question:"Em quanto tempo meu conteúdo será publicado?",answer:"O prazo médio para publicação varia de acordo com o portal escolhido, mas geralmente ocorre entre 3 a 7 dias úteis após a aprovação do conteúdo. Caso haja urgência, consulte nossa equipe sobre prazos expressos."},{id:4,question:"O conteúdo publicado ficará no ar por quanto tempo?",answer:"A maioria dos portais mantém os conteúdos publicados por tempo indeterminado. No entanto, recomendamos verificar essa informação na descrição de cada portal antes da compra."},{id:5,question:"Posso editar ou substituir o conteúdo após a publicação?",answer:"Não. Após o envio do conteúdo e o início do processo de publicação, não é possível realizar alterações ou substituições. Recomendamos revisar atentamente o material antes de enviá-lo, pois ele será publicado conforme foi submetido."},{id:6,question:"A publicação garante posicionamento no Google?",answer:"Embora publicações em portais relevantes contribuam para o SEO do seu site, não garantimos posições específicas nos resultados de busca, pois isso depende de diversos fatores externos e do algoritmo do Google."},{id:7,question:"Como recebo o link da publicação?",answer:"Assim que o conteúdo for publicado, você será notificado por e-mail com o link de acesso. Você também pode acompanhar o status do pedido diretamente na sua área do cliente."},{id:8,question:"Posso cancelar minha compra?",answer:"Sim. Você pode cancelar seu pedido dentro do prazo de 7 dias, desde que o conteúdo ainda não tenha iniciado o processo de produção e publicação por nossa equipe. Para solicitar o cancelamento, entre em contato pelo e-mail cancelamento@suaimprensa.com.br."}];function o0(){const[r,e]=b.useState(0),t=n=>{e(r===n?null:n)};return l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] h-full",children:[l.jsxs("div",{className:"px-5 py-4 sm:px-6 sm:py-5",children:[l.jsx("h3",{className:"text-base font-medium text-gray-800 dark:text-white/90",children:l.jsx("strong",{children:"Precisa de ajuda? Comece por aqui 👇"})}),l.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:"Reunimos as dúvidas mais comuns para te ajudar a aproveitar ao máximo nosso marketplace"})]}),l.jsx("div",{className:"border-t border-gray-100 p-4 dark:border-gray-800 sm:p-6",children:l.jsx("div",{className:"space-y-4",children:kde.map(n=>l.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]",children:[l.jsxs("div",{onClick:()=>t(n.id),className:`flex items-center justify-between py-3 pl-6 pr-3 cursor-pointer ${r===n.id?"bg-gray-50 dark:bg-white/[0.03]":""}`,children:[l.jsx("h4",{className:"text-lg font-medium text-gray-800 dark:text-white/90",children:n.question}),l.jsx("button",{className:`flex h-12 w-full max-w-12 items-center justify-center rounded-full bg-gray-100 duration-200 ease-linear dark:bg-white/[0.03] ${r===n.id?"text-gray-800 dark:text-white/90 rotate-180":"text-gray-500 dark:text-gray-400"}`,children:l.jsx("svg",{className:"stroke-current",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M5.75 8.875L12 15.125L18.25 8.875",stroke:"",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),r===n.id&&l.jsx("div",{className:"px-6 py-7",children:l.jsx("p",{className:"text-base text-gray-500 dark:text-gray-400",children:n.answer})})]},n.id))})})]})}const Cde=[{category:"Melhoria do Produto",category_id:1},{category:"Experiência do Usuário",category_id:2},{category:"Performance",category_id:3},{category:"Nova Funcionalidade",category_id:4},{category:"Relatório de Bug",category_id:5},{category:"Atendimento ao Cliente",category_id:6},{category:"Outros",category_id:7}],Sde=[{code:"BR",label:"+55"},{code:"US",label:"+1"},{code:"GB",label:"+44"},{code:"PT",label:"+351"},{code:"ES",label:"+34"},{code:"FR",label:"+33"},{code:"DE",label:"+49"},{code:"IT",label:"+39"},{code:"JP",label:"+81"},{code:"CN",label:"+86"},{code:"AU",label:"+61"},{code:"CA",label:"+1"},{code:"MX",label:"+52"},{code:"AR",label:"+54"},{code:"CL",label:"+56"},{code:"CO",label:"+57"},{code:"PE",label:"+51"},{code:"UY",label:"+598"},{code:"PY",label:"+595"},{code:"BO",label:"+591"}],Nde={countries:Sde};function Ede(){const[r,e]=b.useState(null),[t,n]=b.useState(!0),[s,a]=b.useState(!1),[i,o]=b.useState(null);b.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0),o(null);const{isAdmin:d,profile:u}=await YM();if(u){const h={id:u.id,email:u.email,first_name:u.first_name,last_name:u.last_name,phone:u.phone||"",role:d?"admin":u.role,is_first_admin:u.is_first_admin,status:u.status,created_at:u.created_at,updated_at:u.updated_at};e(h),a(d)}else e(null),a(!1)}catch(d){console.error("Erro ao carregar dados do usuário:",d),o("Erro ao carregar dados do usuário")}finally{n(!1)}};return{profile:r,isLoading:t,isAdmin:s,error:i}}function _de(){const{profile:r,isLoading:e,error:t}=Ede(),[n,s]=b.useState({name:"",email:"",phone:"",category:0,subject:"",message:""});return b.useEffect(()=>{if(r){const o=`${r.first_name} ${r.last_name}`.trim();s(c=>({...c,name:o,email:r.email,phone:r.phone||""}))}},[r]),{formData:n,updateFormData:(o,c)=>{s(d=>({...d,[o]:c}))},resetForm:()=>{if(r){const o=`${r.first_name} ${r.last_name}`.trim();s({name:o,email:r.email,phone:r.phone||"",category:0,subject:"",message:""})}else s({name:"",email:"",phone:"",category:0,subject:"",message:""})},isLoadingUser:e,userError:t,profile:r}}function l0(){const{formData:r,updateFormData:e,resetForm:t,isLoadingUser:n}=_de(),[s,a]=b.useState(!1),[i,o]=b.useState(!1),[c,d]=b.useState(null),u=Cde,h=p=>{const{name:g,value:m}=p.target,v=g==="category"?Number(m):m;if(g==="category"&&Number(m)>0){const x=u.find(y=>y.category_id===Number(m));console.log("🏷️ Categoria selecionada:",{id:Number(m),name:x==null?void 0:x.category,allCategories:u})}e(g,v)},f=async p=>{var g,m,v;p.preventDefault(),a(!0),d(null),console.log("📝 Formulário sendo enviado:",{formData:r,categoryName:(g=u.find(x=>x.category_id===r.category))==null?void 0:g.category});try{const{data:x}=await G.auth.getSession(),y=(m=x.session)==null?void 0:m.access_token,w=((v=u.find(S=>S.category_id===r.category))==null?void 0:v.category)||"";if(!(await fetch("https://uxbeaslwirkepnowydfu.supabase.co/functions/v1/feedback-email",{method:"POST",headers:{"Content-Type":"application/json",...y?{Authorization:`Bearer ${y}`}:{}},body:JSON.stringify({feedback:{...r,category:w}})})).ok)throw new Error("Erro ao enviar feedback por e-mail");o(!0),t()}catch(x){console.error("❌ Erro ao enviar feedback:",x),d(x instanceof Error?x.message:"Failed to submit feedback")}finally{a(!1)}};return n?l.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]",children:l.jsx("div",{className:"flex justify-center items-center h-32",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-brand-500 border-t-transparent"})})}):i?l.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/20",children:l.jsx("svg",{className:"h-8 w-8 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90 mb-2",children:"Obrigado pelo seu feedback!"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Sua sugestão foi enviada com sucesso. Iremos analisá-la e retornaremos em breve."}),l.jsx("button",{onClick:()=>o(!1),className:"text-brand-500 hover:text-brand-600 font-medium",children:"Enviar outra sugestão"})]})}):l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(PR,{className:"h-6 w-6 text-brand-500"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Compartilhe Suas Ideias de Melhoria"})]}),l.jsx("p",{className:"text-gray-500 text-sm dark:text-gray-400",children:"Ajude-nos a melhorar compartilhando suas sugestões e feedback"})]}),c&&l.jsx("div",{className:"mb-4 rounded-lg bg-red-50 border border-red-200 p-3 dark:bg-red-900/20 dark:border-red-800",children:l.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:c})}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome *"}),l.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:h,required:!0,className:"w-full h-11 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white",placeholder:"Seu nome completo"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),l.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:h,required:!0,className:"w-full h-11 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white",placeholder:"seu.email@exemplo.com"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Categoria *"}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{id:"category",name:"category",value:r.category,onChange:h,required:!0,className:"w-full h-11 px-3 py-2 pr-11 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white appearance-none bg-white dark:bg-gray-800",children:[l.jsx("option",{value:0,children:"Selecione uma categoria"}),u.map(p=>l.jsx("option",{value:p.category_id,children:p.category},p.category_id))]}),l.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:l.jsx("svg",{className:"stroke-gray-500 dark:stroke-gray-400",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telefone"}),l.jsx(Xu,{countries:Nde.countries,value:r.phone,onChange:p=>e("phone",p),placeholder:"(99) 99999-9999"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Assunto *"}),l.jsx("input",{type:"text",id:"subject",name:"subject",value:r.subject,onChange:h,required:!0,className:"w-full h-11 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white",placeholder:"Breve descrição da sua sugestão"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mensagem Detalhada *"}),l.jsx("textarea",{id:"message",name:"message",value:r.message,onChange:h,required:!0,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white resize-none",placeholder:"Por favor, forneça informações detalhadas sobre sua sugestão ou ideia de melhoria..."})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",disabled:s,className:"inline-flex items-center gap-2 px-6 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Enviando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(_R,{className:"h-4 w-4"}),"Enviar Feedback"]})})})]})]})}function aE({className:r=""}){const[e,t]=b.useState(""),[n,s]=b.useState(!0),a=Sr();b.useEffect(()=>{i()},[]);async function i(){var c,d,u;try{const{data:{user:h}}=await G.auth.getUser();if(!h){s(!1);return}const{data:f}=await G.from("platform_users").select("first_name, last_name").eq("id",h.id).maybeSingle();if(f!=null&&f.first_name){t(f.first_name),s(!1);return}const{data:p}=await G.from("admins").select("first_name, last_name").eq("id",h.id).maybeSingle();if(p!=null&&p.first_name){t(p.first_name),s(!1);return}const g=((c=h.user_metadata)==null?void 0:c.full_name)||((d=h.user_metadata)==null?void 0:d.name)||((u=h.email)==null?void 0:u.split("@")[0])||"Usuário";t(g),s(!1)}catch{t("Usuário"),s(!1)}}const o=()=>{a("/pages/sites-e-portais")};return n?l.jsx("div",{className:`rounded-xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] sm:p-6 ${r}`,children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-7 bg-gray-200 dark:bg-gray-700 rounded mb-3 w-48"}),l.jsx("div",{className:"h-5 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-64"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-80"}),l.jsx("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded mt-4 w-56"})]})}):l.jsx("div",{className:`rounded-xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] sm:p-6 ${r}`,children:l.jsxs("div",{children:[l.jsxs("h1",{className:"mt-2 text-3xl sm:text-4xl font-bold text-gray-800 dark:text-white/90",children:["Olá, ",e," ",l.jsx("span",{"aria-label":"emoji",children:"👋"})]}),l.jsx("h2",{className:"text-lg font-normal text-gray-700 dark:text-white/80 mb-2",children:"Seja bem-vindo à sua plataforma de backlinks!"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Descubra oportunidades em portais de alta relevância e aumente a autoridade do seu site com estratégias de SEO eficazes."}),l.jsx("button",{onClick:o,className:"mt-4 inline-flex items-center gap-2 rounded-lg bg-brand-500 px-4 py-3 text-sm font-medium text-white shadow-theme-xs hover:bg-brand-600",children:"Ver oportunidades de backlinks"})]})})}function jde(){const[r,e]=b.useState(!1),[t,n]=b.useState(!0);b.useEffect(()=>{s()},[]);async function s(){try{const{data:{user:a}}=await G.auth.getUser();if(!a){console.log("Dashboard: Nenhum usuário autenticado"),n(!1);return}console.log("Dashboard: Verificando admin para usuário:",a.id);const{data:i,error:o}=await G.from("admins").select("role").eq("id",a.id).maybeSingle();console.log("Dashboard: Resultado da consulta admin:",{adminData:i,adminError:o}),(i==null?void 0:i.role)==="admin"?(console.log("Dashboard: Usuário é admin!"),e(!0)):console.log("Dashboard: Usuário não é admin")}catch(a){console.error("Erro ao verificar role de admin:",a)}finally{n(!1)}}return t?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):l.jsxs(l.Fragment,{children:[l.jsx(er,{pageTitle:"Dashboard"}),!r&&l.jsx(aE,{className:"mb-8"}),r?l.jsxs("div",{className:"grid grid-cols-12 gap-4 md:gap-6",children:[l.jsxs("div",{className:"col-span-12 space-y-6 w-full",children:[l.jsx(pde,{}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"flex flex-col gap-6 xl:col-span-2",children:[l.jsx(gde,{}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[l.jsx(lB,{}),l.jsx(sE,{})]})]}),l.jsx("div",{className:"xl:col-span-1",children:l.jsx(zy,{})})]})]}),l.jsx("div",{className:"col-span-12 xl:col-span-8",children:l.jsx(o0,{})}),l.jsx("div",{className:"col-span-12 xl:col-span-4",children:l.jsx(l0,{})})]}):l.jsxs("div",{className:"grid grid-cols-12 gap-4 md:gap-6",children:[l.jsx("div",{className:"col-span-12 xl:col-span-7",children:l.jsx(o0,{})}),l.jsx("div",{className:"col-span-12 xl:col-span-5",children:l.jsx(l0,{})})]})]})}const Ade=()=>{const[r,e]=b.useState({site_title:"",site_description:""}),[t,n]=b.useState(!1),[s,a]=b.useState(null),[i,o]=b.useState(!1);b.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0),a(null);const h=await um.getSiteMetaData();e(h?{site_title:h.site_title||"",site_description:h.site_description||""}:{site_title:"",site_description:""})}catch(h){console.error("Erro ao carregar metadados:",h),a("Erro ao carregar metadados do site"),e({site_title:"",site_description:""})}finally{n(!1)}};return{metaData:r,loading:t,error:s,success:i,updateMetaData:async h=>{try{n(!0),a(null),o(!1);const f=um.validateSiteMetaData(h);if(f.length>0){a(f.join(", "));return}await um.updateSiteMetaData(h)?(e(h),o(!0),setTimeout(()=>{o(!1)},3e3)):a("Erro ao salvar metadados do site")}catch(f){console.error("Erro ao atualizar metadados:",f),a("Erro inesperado ao salvar metadados")}finally{n(!1)}},resetStatus:()=>{a(null),o(!1)}}};function Tde({initialData:r,onSubmit:e,onChange:t,loading:n=!1,hideSubmitButton:s=!1}){const[a,i]=b.useState({site_title:"",site_description:""});b.useEffect(()=>{r&&i(r)},[r]);const o=(d,u)=>{const h={...a,[d]:u};i(h),t&&t(h)},c=async d=>{d.preventDefault(),e&&await e(a)};return l.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(Me,{children:"Título do Site"}),l.jsx(st,{type:"text",value:a.site_title,onChange:d=>o("site_title",d.target.value),placeholder:"Ex: Sua Imprensa Marketplace",maxLength:100,required:!0}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Este título aparecerá na aba do navegador e nos resultados de busca"})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Descrição do Site"}),l.jsx(st,{type:"text",value:a.site_description,onChange:d=>o("site_description",d.target.value),placeholder:"Ex: Marketplace de compra e venda de Backlinks",maxLength:300,required:!0}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Esta descrição aparecerá nos resultados de busca e redes sociais"})]}),!s&&l.jsx("div",{className:"flex justify-end pt-4",children:l.jsx(nt,{disabled:n,children:n?"Salvando...":"Salvar Metadados"})})]})}function Pde({onDataChange:r,hideSubmitButton:e=!1,externalLoading:t=!1}={}){const{metaData:n,loading:s,error:a,success:i,updateMetaData:o}=Ade(),c=async p=>{e||await o(p)},d=p=>{r&&r(p)},u=e?t:s,h=e?null:a,f=e?!1:i;return l.jsxs("div",{className:"space-y-6",children:[h&&l.jsx("div",{className:"p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:h}),f&&l.jsx("div",{className:"p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:"Configurações salvas com sucesso!"}),l.jsx(Tde,{initialData:n,onSubmit:c,onChange:d,loading:u,hideSubmitButton:e})]})}let l4=class{static async uploadLogo(e){const{file:t,type:n}=e,s=t.name.substring(t.name.lastIndexOf(".")),a=`${n}-logo-${Date.now()}${s}`,{error:i}=await G.storage.from("logos").upload(a,t);if(i)throw new Error(`Erro ao fazer upload do ${n} logo: ${i.message}`);return a}static async uploadMultipleLogos(e){const t={};for(const n of e)try{const s=await this.uploadLogo(n);switch(n.type){case"light":t.light_logo=s;break;case"dark":t.dark_logo=s;break;case"icon":t.platform_icon=s;break}}catch(s){throw console.error(`Erro ao fazer upload do logo ${n.type}:`,s),s}return t}static async updateLogosInDatabase(e,t){const{error:n}=await G.from("settings").update(t).eq("id",e);if(n)throw new Error(`Erro ao atualizar logos no banco: ${n.message}`)}static validateLogoFile(e,t){const n=[];if(e.size>5242880&&n.push(`${t} logo deve ter no máximo 5MB`),!(t==="icon"?["image/png"]:["image/svg+xml","image/png"]).includes(e.type)){const i=t==="icon"?"PNG":"SVG ou PNG";n.push(`${t} logo deve ser um arquivo ${i}`)}return n}static validateMultipleLogos(e){const t=[];for(const n of e){const s=this.validateLogoFile(n.file,n.type);t.push(...s)}return t}};function Tn(r,e="success"){if(typeof window<"u"&&window.document){const t=document.getElementById("global-toast");t&&t.remove();const n=document.createElement("div");n.id="global-toast",n.innerHTML=`
      <div class="flex items-center justify-between gap-3 w-full sm:max-w-[340px] rounded-md border-b-4 p-3 shadow-theme-sm bg-white dark:bg-gray-900 ${e==="success"?"border-success-500":"border-error-500"}">
        <div class="flex items-center gap-4">
          <div class="flex items-center justify-center w-10 h-10 rounded-lg ${e==="success"?"bg-success-50 text-success-500 dark:bg-success-500/20 dark:text-success-400":"bg-error-50 text-error-500 dark:bg-error-500/20 dark:text-error-400"}">
            ${e==="success"?`
              <svg class="size-5" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 22 22" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M2.70186 11.0001C2.70186 6.41711 6.41711 2.70186 11.0001 2.70186C15.5831 2.70186 19.2984 6.41711 19.2984 11.0001C19.2984 15.5831 15.5831 19.2984 11.0001 19.2984C6.41711 19.2984 2.70186 15.5831 2.70186 11.0001ZM11.0001 0.901855C5.423 0.901855 0.901855 5.423 0.901855 11.0001C0.901855 16.5772 5.423 21.0984 11.0001 21.0984C16.5772 21.0984 21.0984 16.5772 21.0984 11.0001C21.0984 5.423 16.5772 0.901855 11.0001 0.901855ZM14.6197 9.73951C14.9712 9.38804 14.9712 8.81819 14.6197 8.46672C14.2683 8.11525 13.6984 8.11525 13.347 8.46672L10.1894 11.6243L8.6533 10.0883C8.30183 9.7368 7.73198 9.7368 7.38051 10.0883C7.02904 10.4397 7.02904 11.0096 7.38051 11.3611L9.55295 13.5335C9.72174 13.7023 9.95065 13.7971 10.1894 13.7971C10.428 13.7971 10.657 13.7023 10.8257 13.5335L14.6197 9.73951Z" fill="currentColor"></path>
              </svg>
            `:`
              <svg class="size-5" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 22 22" fill="none">
                <circle cx="11" cy="11" r="10" fill="currentColor" fill-opacity="0.2" stroke="currentColor" stroke-width="1.5"/>
                <path d="M7.75 7.75L14.25 14.25M14.25 7.75L7.75 14.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
            `}
          </div>
          <div>
            <h4 class="text-sm text-gray-800 sm:text-base dark:text-white/90">${e==="success"?"Sucesso!":"Erro!"}</h4>
            <div class="text-xs text-gray-700 dark:text-gray-300 mt-1">${r}</div>
          </div>
        </div>
        <button class="text-gray-400 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white/90" id="global-toast-close-btn">
          <svg class="size-6" width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M6.04289 16.5418C5.65237 16.9323 5.65237 17.5655 6.04289 17.956C6.43342 18.3465 7.06658 18.3465 7.45711 17.956L11.9987 13.4144L16.5408 17.9565C16.9313 18.347 17.5645 18.347 17.955 17.9565C18.3455 17.566 18.3455 16.9328 17.955 16.5423L13.4129 12.0002L17.955 7.45808C18.3455 7.06756 18.3455 6.43439 17.955 6.04387C17.5645 5.65335 16.9313 5.65335 16.5408 6.04387L11.9987 10.586L7.45711 6.04439C7.06658 5.65386 6.43342 5.65386 6.04289 6.04439C5.65237 6.43491 5.65237 7.06808 6.04289 7.4586L10.5845 12.0002L6.04289 16.5418Z" fill="currentColor"></path>
          </svg>
        </button>
      </div>
    `,n.style.position="fixed",n.style.bottom="32px",n.style.left="32px",n.style.zIndex="99999",n.style.maxWidth="340px",n.style.width="100%",n.style.opacity="1",n.style.transition="opacity 0.3s",n.style.pointerEvents="auto",n.style.backgroundColor="transparent",document.body.appendChild(n);const s=n.querySelector("div");s&&(s.style.boxShadow="0 8px 32px 0 rgba(31, 38, 135, 0.18), 0 1.5px 6px 0 rgba(60,60,60,0.10)",s.style.borderRadius="12px");const a=n.querySelector("#global-toast-close-btn");a&&a.addEventListener("click",()=>{n.style.opacity="0",setTimeout(()=>n.remove(),400)}),setTimeout(()=>{n.style.opacity="0",setTimeout(()=>n.remove(),400)},2500)}}function iE(){return{showSuccessToast:t=>{Tn(t||"Todas as configurações foram salvas com sucesso!","success")},showErrorToast:t=>{Tn(t||"Erro ao salvar configurações. Tente novamente.","error")}}}const Lde=()=>{const[r,e]=b.useState(null),[t,n]=b.useState(!1),[s,a]=b.useState({light:"/images/logo/logo.svg",dark:"/images/logo/logo-dark.svg",icon:"/images/logo/logo-icon.svg"}),{showErrorToast:i}=iE();b.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const{data:c,error:d}=await G.from("settings").select("*").single();if(d)if(d.code==="PGRST116"){const{data:u,error:h}=await G.from("settings").insert([{}]).select().single();if(h)throw h;e(u)}else throw d;else{if(e(c),c.light_logo){const{data:u}=G.storage.from("logos").getPublicUrl(c.light_logo);u&&a(h=>({...h,light:u.publicUrl}))}if(c.dark_logo){const{data:u}=G.storage.from("logos").getPublicUrl(c.dark_logo);u&&a(h=>({...h,dark:u.publicUrl}))}if(c.platform_icon){const{data:u}=G.storage.from("logos").getPublicUrl(c.platform_icon);u&&a(h=>({...h,icon:u.publicUrl}))}}}catch(c){console.error("Erro ao carregar configurações:",c),i("Erro ao carregar configurações")}finally{n(!1)}};return{settings:r,currentLogos:s,loading:t,loadSettings:o}};function Dde(){const[r,e]=b.useState(null),[t,n]=b.useState(null),[s,a]=b.useState(null),[i,o]=b.useState(!1),[c,d]=b.useState({site_title:"",site_description:""}),{showSuccessToast:u,showErrorToast:h}=iE(),{settings:f,currentLogos:p,loadSettings:g}=Lde(),m=k=>{var N;const S=(N=k.target.files)==null?void 0:N[0];S&&e(S)},v=k=>{var N;const S=(N=k.target.files)==null?void 0:N[0];S&&n(S)},x=k=>{var N;const S=(N=k.target.files)==null?void 0:N[0];S&&a(S)},y=k=>{d(k)},w=async k=>{if(k.preventDefault(),!!(f!=null&&f.id)){o(!0);try{(c.site_title||c.site_description)&&await um.updateSiteMetaData(c);const S=[];if(r&&S.push({file:r,type:"light"}),t&&S.push({file:t,type:"dark"}),s&&S.push({file:s,type:"icon"}),S.length>0){const N=l4.validateMultipleLogos(S);if(N.length>0){h(N.join(", "));return}const A=await l4.uploadMultipleLogos(S);await l4.updateLogosInDatabase(f.id,A),await g()}u(),e(null),n(null),a(null)}catch(S){console.error("Erro ao salvar configurações:",S),h(S.message||"Erro ao salvar configurações")}finally{o(!1)}}};return l.jsxs("div",{className:"max-w-xl space-y-8",children:[l.jsx(Pde,{onDataChange:y,hideSubmitButton:!0,externalLoading:i}),l.jsx("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-8",children:l.jsx("form",{onSubmit:w,children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(Me,{children:"Logo (Tema Claro)"}),l.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-48 flex items-center justify-center bg-white rounded-lg border border-gray-200",children:l.jsx("img",{src:p.light,alt:"Logo tema claro",className:"h-8 w-auto dark:hidden"})}),l.jsx("input",{type:"file",onChange:m,accept:"image/svg+xml,image/png",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-brand-50 file:text-brand-700 hover:file:bg-brand-100 dark:text-gray-400"})]})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Logo (Tema Escuro)"}),l.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-48 flex items-center justify-center bg-gray-900 rounded-lg border border-gray-700",children:l.jsx("img",{src:p.dark,alt:"Logo tema escuro",className:"h-8 w-auto"})}),l.jsx("input",{type:"file",onChange:v,accept:"image/svg+xml,image/png",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-brand-50 file:text-brand-700 hover:file:bg-brand-100 dark:text-gray-400"})]})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Ícone da Plataforma (512x512)"}),l.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[l.jsx("div",{className:"h-16 w-16 flex items-center justify-center bg-white rounded-lg border border-gray-200 dark:bg-gray-800 dark:border-gray-700",children:l.jsx("img",{src:p.icon,alt:"Ícone da plataforma",className:"h-12 w-12"})}),l.jsx("input",{type:"file",onChange:x,accept:"image/png",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-brand-50 file:text-brand-700 hover:file:bg-brand-100 dark:text-gray-400"})]})]}),l.jsx("div",{className:"flex justify-end pt-6",children:l.jsx(nt,{disabled:i,children:i?"Salvando...":"Salvar Todas as Configurações"})})]})})})]})}function Mde(){const[r,e]=b.useState(!1),[t,n]=b.useState(null),[s,a]=b.useState(!1),[i,o]=b.useState({}),[c,d]=b.useState({smtp_host:"smtp.resend.com",smtp_port:"465",smtp_user:"resend",smtp_pass:"",smtp_from_email:"",smtp_from_name:""});b.useEffect(()=>{u()},[]);async function u(){try{e(!0),n(null);const{data:g,error:m}=await G.from("settings").select("*").single();if(m)if(m.code==="PGRST116"){const{data:v,error:x}=await G.from("settings").insert([{smtp_host:"smtp.resend.com",smtp_port:"465",smtp_user:"resend"}]).select().single();if(x)throw x;d(v||{})}else throw m;else d({...g,smtp_host:"smtp.resend.com",smtp_port:"465",smtp_user:"resend"})}catch(g){console.error("Erro ao carregar configurações SMTP:",g),n("Erro ao carregar configurações SMTP")}finally{e(!1)}}const h=()=>{var v,x,y;const g={};let m=!0;return(v=c.smtp_pass)!=null&&v.trim()?c.smtp_pass.startsWith("re_")||(g.smtp_pass="API Key do Resend deve começar com 're_'",m=!1):(g.smtp_pass="API Key do Resend é obrigatória",m=!1),(x=c.smtp_from_email)!=null&&x.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.smtp_from_email.trim())||(g.smtp_from_email="Email de envio inválido",m=!1):(g.smtp_from_email="Email de envio é obrigatório",m=!1),(y=c.smtp_from_name)!=null&&y.trim()||(g.smtp_from_name="Nome de exibição é obrigatório",m=!1),o(g),m},f=g=>{const{name:m,value:v}=g.target;d(x=>({...x,[m]:v})),i[m]&&o(x=>({...x,[m]:void 0}))},p=async g=>{var m,v,x;if(g.preventDefault(),!!h()){e(!0),n(null),a(!1);try{const{data:y,error:w}=await G.from("settings").select("id").single();if(w)throw w;if(!(y!=null&&y.id))throw new Error("ID das configurações não encontrado");const{error:k}=await G.from("settings").update({smtp_host:c.smtp_host,smtp_port:c.smtp_port,smtp_user:c.smtp_user,smtp_pass:(m=c.smtp_pass)==null?void 0:m.trim(),smtp_from_email:(v=c.smtp_from_email)==null?void 0:v.trim(),smtp_from_name:(x=c.smtp_from_name)==null?void 0:x.trim()}).eq("id",y.id);if(k)throw k;a(!0)}catch(y){console.error("Erro ao salvar configurações SMTP:",y),n(y.message||"Erro ao salvar configurações SMTP")}finally{e(!1)}}};return l.jsxs("form",{onSubmit:p,className:"max-w-xl",children:[t&&l.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:t}),s&&l.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:"Configurações SMTP salvas com sucesso!"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(Me,{children:"API Key do Resend"}),l.jsx(st,{type:"password",name:"smtp_pass",value:c.smtp_pass||"",onChange:f,placeholder:"re_...",error:!!i.smtp_pass,hint:i.smtp_pass}),l.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Use a API Key gerada no painel do Resend"})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Email de Envio"}),l.jsx(st,{type:"email",name:"smtp_from_email",value:c.smtp_from_email||"",onChange:f,placeholder:"noreply@seudominio.com",error:!!i.smtp_from_email,hint:i.smtp_from_email}),l.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Email que aparecerá como remetente (deve ser verificado no Resend)"})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Nome de Exibição"}),l.jsx(st,{type:"text",name:"smtp_from_name",value:c.smtp_from_name||"",onChange:f,placeholder:"Nome da Empresa",error:!!i.smtp_from_name,hint:i.smtp_from_name}),l.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Nome que aparecerá como remetente"})]}),l.jsxs("div",{className:"flex justify-end pt-6",children:[l.jsx(nt,{variant:"outline",onClick:()=>{},children:"Cancelar"}),l.jsx(nt,{disabled:r,children:r?"Salvando...":"Salvar"})]})]})]})}function Rde(){const[r,e]=b.useState(!1),[t,n]=b.useState(null),[s,a]=b.useState(!1),[i,o]=b.useState({}),[c,d]=b.useState(!1),[u,h]=b.useState({antifraude_min_amount:10,pagarme_test_mode:!0,antifraude_enabled:!0,pagarme_webhook_secret:"",payment_methods:["credit_card"],currency:"BRL"});b.useEffect(()=>{f(),p()},[]);async function f(){try{e(!0),n(null);const{data:k,error:S}=await G.from("pagarme_settings").select("*").order("created_at",{ascending:!0}).limit(1).single();if(S&&S.code!=="PGRST116")throw S;h(k?{...k,payment_methods:Array.isArray(k.payment_methods)?k.payment_methods:typeof k.payment_methods=="string"&&k.payment_methods.startsWith("{")?JSON.parse(k.payment_methods.replace(/^{|}$/g,"[").replace(/,/g,",").replace(/"/g,"")):[k.payment_methods],id:k.id}:{antifraude_min_amount:10,pagarme_test_mode:!0,antifraude_enabled:!0,pagarme_webhook_secret:"",payment_methods:["credit_card"],currency:"BRL"})}catch(k){console.error("Erro ao carregar configurações do Pagar.me:",k),n("Erro ao carregar configurações do Pagar.me")}finally{e(!1)}}async function p(){try{const{data:{session:k}}=await G.auth.getSession();if(!k){d(!1);return}const N=await(await fetch("https://uxbeaslwirkepnowydfu.supabase.co/functions/v1/pagarme-payment",{method:"POST",headers:{Authorization:`Bearer ${k.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"check_keys"})})).json();d(!N.error||!N.error.includes("não configurada"))}catch(k){console.log("Erro ao verificar chaves:",k),d(!1)}}const g=()=>{const k={};let S=!0;return u.antifraude_min_amount<1&&(k.antifraude_min_amount="Valor mínimo deve ser maior que R$ 1,00",S=!1),o(k),S},m=k=>{const{name:S,value:N}=k.target;h(A=>({...A,[S]:S==="antifraude_min_amount"?parseFloat(N)||0:N})),i[S]&&o(A=>({...A,[S]:void 0}))},v=(k,S)=>{h(N=>({...N,[k]:S}))},x=(k,S)=>{k==="credit_card"&&!S||h(N=>{const A=N.payment_methods||["credit_card"];return S?{...N,payment_methods:[...A,k]}:{...N,payment_methods:A.filter(E=>E!==k)}})},y=async k=>{if(k.preventDefault(),!!g())try{e(!0),n(null);const S={antifraude_min_amount:u.antifraude_min_amount,pagarme_test_mode:u.pagarme_test_mode,antifraude_enabled:u.antifraude_enabled,pagarme_webhook_secret:u.pagarme_webhook_secret,payment_methods:u.payment_methods,currency:u.currency,updated_at:new Date().toISOString()};if(u.id){const{error:N}=await G.from("pagarme_settings").update(S).eq("id",u.id);if(N)throw N}else{const{data:N}=await G.from("pagarme_settings").select("id").order("created_at",{ascending:!0}).limit(1).single();if(N&&N.id){const{error:A}=await G.from("pagarme_settings").update(S).eq("id",N.id);if(A)throw A}else{const{error:A}=await G.from("pagarme_settings").insert([S]);if(A)throw A}}a(!0),setTimeout(()=>a(!1),3e3)}catch(S){console.error("Erro ao salvar configurações do Pagar.me:",S),n(S.message||"Erro ao salvar configurações do Pagar.me")}finally{e(!1)}},w=[{value:"credit_card",text:"Cartão de crédito"},{value:"debit_card",text:"Cartão de débito"},{value:"boleto",text:"Boleto"},{value:"pix",text:"PIX"}];return l.jsxs("form",{onSubmit:y,className:"max-w-xl",children:[t&&l.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:t}),s&&l.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:"Configurações do Pagar.me salvas com sucesso!"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90 mb-4",children:"Integração com Pagar.me"}),l.jsxs("div",{className:"p-4 mb-6 text-sm text-gray-600 bg-gray-50 rounded-lg dark:bg-gray-800 dark:text-gray-400",children:[l.jsx("p",{children:"O Pagar.me é uma plataforma de pagamentos brasileira que permite processar pagamentos de forma segura com PIX, cartões e boleto."}),l.jsx("a",{href:"https://dashboard.pagar.me/login",target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-2 text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Acessar Dashboard do Pagar.me →"})]}),l.jsx("div",{className:`p-4 mb-6 rounded-lg text-sm ${c?"bg-green-50 text-green-800 border border-green-200 dark:bg-green-500/15 dark:text-green-400 dark:border-green-500/30":"bg-yellow-50 text-yellow-800 border border-yellow-200 dark:bg-yellow-500/15 dark:text-yellow-400 dark:border-yellow-500/30"}`,children:c?l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"✅ Chaves de API Configuradas"}),l.jsx("p",{children:"Configuração híbrida - Teste + Produção:"}),l.jsxs("ul",{className:"mt-2 space-y-1 text-xs",children:[l.jsxs("li",{children:["• ",l.jsx("code",{children:"PAGARME"})," - Secret key produção (sk_live_...)"]}),l.jsxs("li",{children:["• ",l.jsx("code",{children:"PAGARME_PUBLIC_KEY"})," - Public key produção (pk_live_...)"]}),l.jsxs("li",{children:["• ",l.jsx("code",{children:"PAGARME_TEST_SECRET"})," - Secret key teste (sk_test_...)"]}),l.jsxs("li",{children:["• ",l.jsx("code",{children:"PAGARME_TEST_PUBLIC"})," - Public key teste (pk_test_...)"]})]}),l.jsx("p",{className:"mt-2 text-xs font-medium",children:'O sistema alterna automaticamente baseado no "Modo de Teste" abaixo.'})]}):l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"⚠️ Configure as Chaves nos Supabase Edge Function Secrets:"}),l.jsxs("div",{className:"mt-2 space-y-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-xs",children:"Chaves de Produção (mantém as atuais):"}),l.jsxs("ul",{className:"mt-1 space-y-1 text-xs",children:[l.jsxs("li",{children:["• ",l.jsx("code",{children:"PAGARME"})," - Secret key (sk_live_...)"]}),l.jsxs("li",{children:["• ",l.jsx("code",{children:"PAGARME_PUBLIC_KEY"})," - Public key (pk_live_...)"]})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-xs",children:"Chaves de Teste (adicionar):"}),l.jsxs("ul",{className:"mt-1 space-y-1 text-xs",children:[l.jsxs("li",{children:["• ",l.jsx("code",{children:"PAGARME_TEST_SECRET"})," - Secret key (sk_test_...)"]}),l.jsxs("li",{children:["• ",l.jsx("code",{children:"PAGARME_TEST_PUBLIC"})," - Public key (pk_test_...)"]})]})]})]})]})})]}),l.jsxs("div",{children:[l.jsx(Vr,{label:"Modo de Teste",checked:u.pagarme_test_mode,onChange:k=>v("pagarme_test_mode",k)}),l.jsx("div",{className:`mt-2 p-3 rounded-lg text-sm ${u.pagarme_test_mode?"bg-yellow-50 text-yellow-800 border border-yellow-200 dark:bg-yellow-500/15 dark:text-yellow-400 dark:border-yellow-500/30":"bg-red-50 text-red-800 border border-red-200 dark:bg-red-500/15 dark:text-red-400 dark:border-red-500/30"}`,children:u.pagarme_test_mode?l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"🧪 Modo de Teste Ativo"}),l.jsx("p",{children:"• Use cartões de teste do Pagar.me (ex: 4111111111111111)"}),l.jsx("p",{children:"• Transações não serão reais"}),l.jsx("p",{children:"• Valores acima de R$ 10,00 são recomendados para evitar bloqueio do antifraude"}),l.jsx("p",{children:"• Sistema detecta automaticamente pelo prefixo da chave (sk_test_...)"})]}):l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"🚀 Modo de Produção Ativo"}),l.jsx("p",{children:"• Use cartões reais"}),l.jsx("p",{children:"• ⚠️ Transações serão cobradas de verdade"}),l.jsx("p",{children:"• Sistema detecta automaticamente pelo prefixo da chave (sk_live_...)"})]})})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Chave de Webhook do Pagar.me (Opcional)"}),l.jsx(st,{type:"text",name:"pagarme_webhook_secret",value:u.pagarme_webhook_secret||"",onChange:m,placeholder:"Chave do webhook..."}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Configure um webhook no Pagar.me para receber notificações de eventos."})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx(Me,{children:"Configuração do Antifraude"}),l.jsx(Vr,{label:"Ativar Antifraude",checked:u.antifraude_enabled,onChange:k=>v("antifraude_enabled",k)})]}),u.antifraude_enabled&&l.jsxs("div",{children:[l.jsx(Me,{children:"Valor Mínimo para Transações (R$)"}),l.jsx(st,{type:"number",name:"antifraude_min_amount",value:u.antifraude_min_amount,onChange:m,placeholder:"10.00",min:"1",error:!!i.antifraude_min_amount,hint:i.antifraude_min_amount||"Valores muito baixos (ex: R$ 1,00) podem ser bloqueados pelo antifraude"})]})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Moeda"}),l.jsx(or,{options:[{value:"BRL",label:"Real Brasileiro (BRL)"}],value:u.currency,onChange:k=>h({...u,currency:k})})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Métodos de Pagamento"}),l.jsx("div",{className:"mt-2 space-y-2",children:w.map(k=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:`method-${k.value}`,checked:(u.payment_methods||["credit_card"]).includes(k.value),onChange:S=>x(k.value,S.target.checked),disabled:k.value==="credit_card",className:"w-4 h-4 text-brand-500 border-gray-300 rounded focus:ring-brand-500 dark:border-gray-700 dark:bg-gray-900"}),l.jsxs("label",{htmlFor:`method-${k.value}`,className:`ml-2 text-sm font-medium ${k.value==="credit_card"?"text-gray-400 dark:text-gray-600":"text-gray-700 dark:text-gray-400"}`,children:[k.text,k.value==="credit_card"&&" (obrigatório)"]})]},k.value))}),l.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Selecione os métodos de pagamento que deseja aceitar. Cartão de crédito é obrigatório."})]}),l.jsx("div",{className:"flex justify-end pt-6",children:l.jsx(nt,{disabled:r,children:r?"Salvando...":"Salvar Configurações"})})]})]})}function Ide({tab:r,isActive:e,onClick:t,compact:n=!1,minWidth:s}){const a=()=>{r.disabled||t(r.id)},i=["inline-flex","items-center","gap-2","justify-center","rounded-md","h-full","text-sm","font-medium","transition-colors","duration-200","ease-in-out","whitespace-nowrap","group",n?"px-2 py-1.5":"px-3 py-2"],o=s?"":n?"min-w-[80px]":"min-w-[100px]";o&&i.push(o);const c=r.disabled?["bg-gray-100","text-gray-400","cursor-not-allowed","dark:bg-gray-800","dark:text-gray-600"]:e?["bg-white","text-gray-900","shadow-theme-xs","dark:bg-white/[0.03]","dark:text-white"]:["bg-transparent","text-gray-500","hover:text-gray-700","dark:text-gray-400","dark:hover:text-gray-200","cursor-pointer"],d=[...i,...c].join(" "),u=s?{minWidth:s}:void 0;return l.jsxs("button",{className:d,style:u,onClick:a,disabled:r.disabled,type:"button",role:"tab","aria-selected":e,"aria-disabled":r.disabled,children:[r.label,typeof r.count=="number"&&l.jsx("span",{className:`inline-flex rounded-full px-2 py-0.5 text-xs font-medium leading-normal transition-colors duration-200 ${r.disabled?"bg-gray-200 text-gray-400 dark:bg-gray-700 dark:text-gray-500":e?"text-brand-500 dark:text-brand-400 bg-brand-50 dark:bg-brand-500/15":"bg-white dark:bg-white/[0.03] text-gray-500 dark:text-gray-400 group-hover:bg-brand-50 group-hover:text-brand-500 dark:group-hover:bg-brand-500/15 dark:group-hover:text-brand-400"}`,children:r.count})]})}function dB({tabs:r,activeTabId:e,onTabChange:t,className:n="",compact:s=!1,buttonMinWidth:a}){const i=["flex","rounded-lg","bg-gray-100","dark:bg-gray-900","h-11","items-center",s?"p-0.5":"p-1","gap-1","flex-nowrap","min-w-0",n].filter(Boolean).join(" "),o={minWidth:"max-content"};return r.length===0?null:l.jsx("nav",{className:i,style:o,role:"tablist","aria-label":"Navegação por tabs",children:r.map(c=>l.jsx(Ide,{tab:c,isActive:e===c.id,onClick:t,compact:s,minWidth:a},c.id))})}class Cl{static async createContract(e){try{const{data:t,error:n}=await G.from("contracts").insert([e]).select().single();return n?(console.error("Error creating contract:",n),{data:null,error:n.message,success:!1}):{data:t,error:null,success:!0}}catch(t){return console.error("Unexpected error creating contract:",t),{data:null,error:"Erro inesperado ao criar contrato",success:!1}}}static async getContracts(e){try{let t=G.from("contracts").select("*").order("created_at",{ascending:!1});e!=null&&e.admin_id&&(t=t.eq("admin_id",e.admin_id)),e!=null&&e.type_of_contract&&(t=t.eq("type_of_contract",e.type_of_contract));const{data:n,error:s,count:a}=await t;return s?(console.error("Error fetching contracts:",s),{data:[],error:s.message,success:!1}):{data:n||[],error:null,success:!0,count:a||(n==null?void 0:n.length)||0}}catch(t){return console.error("Unexpected error fetching contracts:",t),{data:[],error:"Erro inesperado ao buscar contratos",success:!1}}}static async getContractById(e){try{const{data:t,error:n}=await G.from("contracts").select("*").eq("id",e).single();return n?(console.error("Error fetching contract by ID:",n),{data:null,error:n.message,success:!1}):{data:t,error:null,success:!0}}catch(t){return console.error("Unexpected error fetching contract by ID:",t),{data:null,error:"Erro inesperado ao buscar contrato",success:!1}}}static async getContractByType(e){var t;try{console.log("🏢 [ContractDbService] Buscando contrato da empresa por tipo:",{contractType:e});const{data:n,error:s}=await G.from("contracts").select("*").eq("type_of_contract",e).order("created_at",{ascending:!1}).limit(1).maybeSingle();return console.log("📥 [ContractDbService] Resultado da busca por tipo:",{found:!!n,contract:n?{id:n.id,adminId:n.admin_id,type:n.type_of_contract,contentLength:((t=n.contract_content)==null?void 0:t.length)||0,createdAt:n.created_at}:null,error:s==null?void 0:s.message}),s?(console.error("❌ [ContractDbService] Erro ao buscar contrato por tipo:",s),{data:null,error:s.message,success:!1}):{data:n,error:null,success:!0}}catch(n){return console.error("💥 [ContractDbService] Erro inesperado ao buscar contrato por tipo:",n),{data:null,error:"Erro inesperado ao buscar contrato",success:!1}}}static async getContractByAdminAndType(e,t){var n;try{console.log("🔍 [ContractDbService] Buscando contrato por admin e tipo:",{adminId:e,contractType:t,query:"SELECT * FROM contracts WHERE admin_id = ? AND type_of_contract = ?"});const{data:s,error:a}=await G.from("contracts").select("*").eq("admin_id",e).eq("type_of_contract",t).maybeSingle();return console.log("📥 [ContractDbService] Resultado da busca:",{found:!!s,contract:s?{id:s.id,adminId:s.admin_id,type:s.type_of_contract,contentLength:((n=s.contract_content)==null?void 0:n.length)||0,createdAt:s.created_at}:null,error:a==null?void 0:a.message,searchParams:{adminId:e,contractType:t}}),a?(console.error("❌ [ContractDbService] Erro ao buscar contrato:",a),{data:null,error:a.message,success:!1}):{data:s,error:null,success:!0}}catch(s){return console.error("💥 [ContractDbService] Erro inesperado ao buscar contrato:",s),{data:null,error:"Erro inesperado ao buscar contrato",success:!1}}}static async updateContract(e,t){try{const{data:n,error:s}=await G.from("contracts").update(t).eq("id",e).select().single();return s?(console.error("Error updating contract:",s),{data:null,error:s.message,success:!1}):{data:n,error:null,success:!0}}catch(n){return console.error("Unexpected error updating contract:",n),{data:null,error:"Erro inesperado ao atualizar contrato",success:!1}}}static async upsertContract(e,t,n){console.log("🔥 [ContractDbService] ═══ INÍCIO UPSERT ═══"),console.log("🔥 [ContractDbService] Timestamp:",new Date().toISOString());try{console.log("🔄 [ContractDbService] Iniciando upsert de contrato"),console.log("📝 [ContractDbService] Parâmetros recebidos:",{adminId:e,contractType:t,contentLength:(n==null?void 0:n.length)||0,contentPreview:(n==null?void 0:n.slice(0,100))+"..."}),console.log("🔌 [ContractDbService] Testando conexão com Supabase...");const{data:s,error:a,count:i}=await G.from("contracts").select("*",{count:"exact",head:!0}).limit(1);if(console.log("📊 [ContractDbService] Teste de conexão:",{success:!a,connectionTest:s,count:i,connectionError:a==null?void 0:a.message}),a)return console.error("❌ [ContractDbService] Falha na conexão com Supabase"),{data:null,error:`Erro de conexão: ${a.message}`,success:!1};console.log("👤 [ContractDbService] Verificando existência do admin...");const{data:o,error:c}=await G.from("admins").select("id, role").eq("id",e).single();console.log("👤 [ContractDbService] Verificação de admin:",{adminExists:!!o,adminData:o,adminCheckError:c==null?void 0:c.message}),c&&(console.log("⚠️ [ContractDbService] Admin não encontrado na tabela admins, mas continuando..."),console.log("💡 [ContractDbService] Possível causa: RLS pode estar bloqueando ou admin não existe"));const d={admin_id:e,type_of_contract:t,contract_content:n};console.log("📤 [ContractDbService] Dados preparados para upsert:",d),console.log("🚀 [ContractDbService] Executando comando upsert...");const{data:u,error:h}=await G.from("contracts").upsert(d,{onConflict:"admin_id,type_of_contract"}).select().single();return console.log("📥 [ContractDbService] RESPOSTA BRUTA do Supabase:"),console.log("📥 [ContractDbService] - contract:",u),console.log("📥 [ContractDbService] - error:",h),console.log("📥 [ContractDbService] - hasData:",!!u),console.log("📥 [ContractDbService] - errorCode:",h==null?void 0:h.code),console.log("📥 [ContractDbService] - errorMessage:",h==null?void 0:h.message),console.log("📥 [ContractDbService] - errorDetails:",h==null?void 0:h.details),h?(console.error("❌ [ContractDbService] Erro no upsert:",h),console.error("❌ [ContractDbService] Tipo do erro:",typeof h),console.error("❌ [ContractDbService] Stack trace:",h.stack),{data:null,error:h.message,success:!1}):u?(console.log("✅ [ContractDbService] Contrato salvo com sucesso:",u==null?void 0:u.id),console.log("🔥 [ContractDbService] ═══ FIM UPSERT SUCESSO ═══"),{data:u,error:null,success:!0}):(console.error("❌ [ContractDbService] Upsert retornou sucesso mas sem dados"),{data:null,error:"Upsert executado mas nenhum dado retornado",success:!1})}catch(s){return console.error("💥 [ContractDbService] Erro inesperado no upsert:",s),console.error("💥 [ContractDbService] Tipo:",typeof s),s instanceof Error&&console.error("💥 [ContractDbService] Stack:",s.stack),console.log("🔥 [ContractDbService] ═══ FIM UPSERT ERRO ═══"),{data:null,error:"Erro inesperado ao salvar contrato",success:!1}}}static async deleteContract(e){try{const{error:t}=await G.from("contracts").delete().eq("id",e);return t?(console.error("Error deleting contract:",t),{success:!1,error:t.message}):{success:!0,error:null}}catch(t){return console.error("Unexpected error deleting contract:",t),{success:!1,error:"Erro inesperado ao deletar contrato"}}}static async deleteContractsByAdmin(e){try{const{error:t}=await G.from("contracts").delete().eq("admin_id",e);return t?(console.error("Error deleting contracts by admin:",t),{success:!1,error:t.message}):{success:!0,error:null}}catch(t){return console.error("Unexpected error deleting contracts by admin:",t),{success:!1,error:"Erro inesperado ao deletar contratos"}}}}function Ode(){console.log("🎣 [useContracts] Hook inicializado!");const[r,e]=b.useState({contracts:[],currentContract:null,loading:!1,error:null,saving:!1});console.log("🎣 [useContracts] Estado atual:",r);const t=b.useCallback(x=>{e(y=>({...y,loading:x}))},[]),n=b.useCallback(x=>{e(y=>({...y,saving:x}))},[]),s=b.useCallback(x=>{e(y=>({...y,error:x}))},[]),a=b.useCallback(()=>{s(null)},[s]),i=b.useCallback(()=>{e({contracts:[],currentContract:null,loading:!1,error:null,saving:!1})},[]),o=b.useCallback(async x=>{n(!0),a();try{const y=await Cl.createContract(x);return!y.success||!y.data?(s(y.error||"Erro ao criar contrato"),null):(e(w=>({...w,contracts:[y.data,...w.contracts],currentContract:y.data})),y.data)}catch(y){return console.error("Error in createContract:",y),s("Erro inesperado ao criar contrato"),null}finally{n(!1)}},[n,a,s]),c=b.useCallback(async x=>{t(!0),a();try{const y=await Cl.getContracts(x);return y.success?(e(w=>({...w,contracts:y.data})),y.data):(s(y.error||"Erro ao buscar contratos"),[])}catch(y){return console.error("Error in getContracts:",y),s("Erro inesperado ao buscar contratos"),[]}finally{t(!1)}},[t,a,s]),d=b.useCallback(async x=>{t(!0),a();try{const y=await Cl.getContractById(x);return!y.success||!y.data?(s(y.error||"Contrato não encontrado"),null):(e(w=>({...w,currentContract:y.data})),y.data)}catch(y){return console.error("Error in getContractById:",y),s("Erro inesperado ao buscar contrato"),null}finally{t(!1)}},[t,a,s]),u=b.useCallback(async(x,y)=>{t(!0),a();try{const w=await Cl.getContractByAdminAndType(x,y);return w.success?(e(k=>({...k,currentContract:w.data})),w.data):(w.error&&s(w.error),null)}catch(w){return console.error("Error in getContractByAdminAndType:",w),s("Erro inesperado ao buscar contrato"),null}finally{t(!1)}},[t,a,s]),h=b.useCallback(async x=>{t(!0),a();try{const y=await Cl.getContractByType(x);return y.success?(e(w=>({...w,currentContract:y.data})),y.data):(y.error&&s(y.error),null)}catch(y){return console.error("Error in getContractByType:",y),s("Erro inesperado ao buscar contrato"),null}finally{t(!1)}},[t,a,s]),f=b.useCallback(async(x,y)=>{n(!0),a();try{const w=await Cl.updateContract(x,y);return!w.success||!w.data?(s(w.error||"Erro ao atualizar contrato"),null):(e(k=>({...k,contracts:k.contracts.map(S=>S.id===x?w.data:S),currentContract:w.data})),w.data)}catch(w){return console.error("Error in updateContract:",w),s("Erro inesperado ao atualizar contrato"),null}finally{n(!1)}},[n,a,s]),p=b.useCallback(async(x,y,w)=>{var k;console.log("🚀 [useContracts] Iniciando upsertContract"),console.log("📊 [useContracts] Parâmetros:",{adminId:x,type:y,contentLength:w==null?void 0:w.length,contentPreview:(w==null?void 0:w.slice(0,50))+"..."}),n(!0),a();try{console.log("🔄 [useContracts] Chamando ContractDbService.upsertContract");const S=await Cl.upsertContract(x,y,w);return console.log("📥 [useContracts] Resposta do service:",{success:S.success,hasData:!!S.data,error:S.error,dataId:(k=S.data)==null?void 0:k.id}),!S.success||!S.data?(console.error("❌ [useContracts] Falha no upsert:",S.error),s(S.error||"Erro ao salvar contrato"),null):(console.log("✅ [useContracts] Contrato salvo, atualizando estado local"),e(N=>{const A=N.contracts.findIndex(R=>R.admin_id===x&&R.type_of_contract===y);let E;return A>=0?(console.log("🔄 [useContracts] Atualizando contrato existente no índice:",A),E=N.contracts.map((R,O)=>O===A?S.data:R)):(console.log("➕ [useContracts] Adicionando novo contrato ao estado"),E=[S.data,...N.contracts]),{...N,contracts:E,currentContract:S.data}}),console.log("🎉 [useContracts] Processo de upsert concluído com sucesso"),S.data)}catch(S){return console.error("💥 [useContracts] Erro inesperado no upsertContract:",S),s("Erro inesperado ao salvar contrato"),null}finally{n(!1)}},[n,a,s]),g=b.useCallback(async x=>{t(!0),a();try{const y=await Cl.deleteContract(x);return y.success?(e(w=>{var k;return{...w,contracts:w.contracts.filter(S=>S.id!==x),currentContract:((k=w.currentContract)==null?void 0:k.id)===x?null:w.currentContract}}),!0):(s(y.error||"Erro ao deletar contrato"),!1)}catch(y){return console.error("Error in deleteContract:",y),s("Erro inesperado ao deletar contrato"),!1}finally{t(!1)}},[t,a,s]),m=b.useCallback(async x=>{t(!0),a();try{const y=await Cl.deleteContractsByAdmin(x);return y.success?(e(w=>{var k;return{...w,contracts:w.contracts.filter(S=>S.admin_id!==x),currentContract:((k=w.currentContract)==null?void 0:k.admin_id)===x?null:w.currentContract}}),!0):(s(y.error||"Erro ao deletar contratos"),!1)}catch(y){return console.error("Error in deleteContractsByAdmin:",y),s("Erro inesperado ao deletar contratos"),!1}finally{t(!1)}},[t,a,s]),v={...r,createContract:o,getContracts:c,getContractById:d,getContractByAdminAndType:u,getContractByType:h,updateContract:f,upsertContract:p,deleteContract:g,deleteContractsByAdmin:m,clearError:a,resetState:i};return console.log("🎣 [useContracts] Retornando:",{hasUpsertContract:!!v.upsertContract,upsertContractType:typeof v.upsertContract,stateSaving:r.saving,stateError:r.error}),v}function Fde(){const[r,e]=b.useState(null),[t,n]=b.useState(!0),[s,a]=b.useState(!1);return console.log("🔐 [useAuth] Hook inicializado"),b.useEffect(()=>{async function i(){console.log("🚀 [useAuth] Iniciando verificação de autenticação");try{const{data:{user:c}}=await G.auth.getUser();if(console.log("👤 [useAuth] Usuário obtido:",{userId:c==null?void 0:c.id,email:c==null?void 0:c.email,hasUser:!!c}),e(c),c){console.log("🔍 [useAuth] Verificando se usuário é admin");const{data:d}=await G.from("roles").select("id").eq("name","admin").maybeSingle();if(console.log("📋 [useAuth] Role admin:",d),d!=null&&d.id){console.log("🔍 [useAuth] Verificando na tabela admins");const{data:u}=await G.from("admins").select("role, role_id").eq("id",c.id).maybeSingle();if(console.log("👥 [useAuth] Dados da tabela admins:",u),(u==null?void 0:u.role)==="admin"&&u.role_id===d.id)console.log("✅ [useAuth] Usuário é admin (tabela admins)"),a(!0);else{console.log("🔍 [useAuth] Verificando na tabela platform_users");const{data:h}=await G.from("platform_users").select("role, role_id").eq("id",c.id).maybeSingle();console.log("👥 [useAuth] Dados da tabela platform_users:",h),(h==null?void 0:h.role)==="admin"&&h.role_id===d.id?(console.log("✅ [useAuth] Usuário é admin (tabela platform_users)"),a(!0)):console.log("❌ [useAuth] Usuário NÃO é admin")}}else console.log("❌ [useAuth] Role admin não encontrado")}else console.log("👤 [useAuth] Nenhum usuário logado")}catch(c){console.error("💥 [useAuth] Erro ao verificar autenticação:",c)}finally{console.log("🏁 [useAuth] Verificação concluída"),n(!1)}}i();const{data:{subscription:o}}=G.auth.onAuthStateChange(async(c,d)=>{console.log("🔄 [useAuth] Auth state change:",c),c==="SIGNED_OUT"?(e(null),a(!1)):d!=null&&d.user&&(e(d.user),i())});return()=>{o.unsubscribe()}},[]),console.log("📊 [useAuth] Estado atual:",{hasUser:!!r,isAdmin:s,loading:t,userId:r==null?void 0:r.id}),{user:r,loading:t,isAdmin:s}}function Bde({content:r,contractType:e,title:t,disabled:n=!1}){const s=()=>{if(console.log("👁️ [PreviewButton] Botão preview clicado",{contractType:e,contentLength:(r==null?void 0:r.length)||0}),!r||r.trim()===""||r==="<p></p>"){alert("Adicione algum conteúdo antes de visualizar o preview.");return}const a=new CustomEvent("contractPreview",{detail:{content:r,contractType:e,title:t}});window.dispatchEvent(a)};return l.jsxs("button",{type:"button",onClick:s,className:"px-3 py-1 text-sm font-medium rounded bg-white text-gray-700 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 transition-colors flex items-center gap-1",disabled:n,title:"Visualizar preview",children:[l.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Visualizar"]})}function zde({isOpen:r,onClose:e,content:t,title:n}){if(b.useEffect(()=>{const a=i=>{i.key==="Escape"&&e()};return r&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[r,e]),!r)return null;const s=()=>{const a=window.open("","_blank");a&&(a.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>${n}</title>
          <style>
            body { 
              font-family: Arial, sans-serif; 
              line-height: 1.6; 
              max-width: 800px; 
              margin: 0 auto; 
              padding: 20px; 
            }
            h1, h2, h3 { color: #333; margin-top: 30px; }
            p { margin-bottom: 15px; }
            ul, ol { margin: 15px 0; padding-left: 30px; }
            @media print {
              body { margin: 0; padding: 15px; }
            }
          </style>
        </head>
        <body>
          <h1>${n}</h1>
          ${t}
        </body>
        </html>
      `),a.document.close(),a.print())};return l.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),l.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:l.jsxs("div",{className:"relative w-full max-w-4xl bg-white dark:bg-gray-800 rounded-lg shadow-xl",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Preview: ",n]}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Visualização de como o contrato aparecerá"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:s,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Imprimir"]}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),l.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:l.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 p-8",children:l.jsx("div",{className:"prose prose-sm sm:prose lg:prose-lg max-w-none dark:prose-invert contract-preview",dangerouslySetInnerHTML:{__html:t}})})}),l.jsx("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:l.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600",children:"Fechar"})})]})})]})}function Hde(){const[r,e]=b.useState(!1),t=b.useCallback(()=>{console.log("🔍 [usePreview] Abrindo preview"),e(!0)},[]),n=b.useCallback(()=>{console.log("❌ [usePreview] Fechando preview"),e(!1)},[]);return{isPreviewOpen:r,openPreview:t,closePreview:n}}var uB={exports:{}},hB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp=b;function Ude(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var $de=typeof Object.is=="function"?Object.is:Ude,Vde=gp.useState,Wde=gp.useEffect,qde=gp.useLayoutEffect,Yde=gp.useDebugValue;function Gde(r,e){var t=e(),n=Vde({inst:{value:t,getSnapshot:e}}),s=n[0].inst,a=n[1];return qde(function(){s.value=t,s.getSnapshot=e,c4(s)&&a({inst:s})},[r,t,e]),Wde(function(){return c4(s)&&a({inst:s}),r(function(){c4(s)&&a({inst:s})})},[r]),Yde(t),t}function c4(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!$de(r,t)}catch{return!0}}function Xde(r,e){return e()}var Zde=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Xde:Gde;hB.useSyncExternalStore=gp.useSyncExternalStore!==void 0?gp.useSyncExternalStore:Zde;uB.exports=hB;var oE=uB.exports;function Ps(r){this.content=r}Ps.prototype={constructor:Ps,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,t){var n=t&&t!=r?this.remove(t):this,s=n.find(r),a=n.content.slice();return s==-1?a.push(t||r,e):(a[s+1]=e,t&&(a[s]=t)),new Ps(a)},remove:function(r){var e=this.find(r);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Ps(t)},addToStart:function(r,e){return new Ps([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var t=this.remove(r).content.slice();return t.push(r,e),new Ps(t)},addBefore:function(r,e,t){var n=this.remove(e),s=n.content.slice(),a=n.find(r);return s.splice(a==-1?s.length:a,0,e,t),new Ps(s)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=Ps.from(r),r.size?new Ps(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=Ps.from(r),r.size?new Ps(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=Ps.from(r);for(var t=0;t<r.content.length;t+=2)e=e.remove(r.content[t]);return e},toObject:function(){var r={};return this.forEach(function(e,t){r[e]=t}),r},get size(){return this.content.length>>1}};Ps.from=function(r){if(r instanceof Ps)return r;var e=[];if(r)for(var t in r)e.push(t,r[t]);return new Ps(e)};function fB(r,e,t){for(let n=0;;n++){if(n==r.childCount||n==e.childCount)return r.childCount==e.childCount?null:t;let s=r.child(n),a=e.child(n);if(s==a){t+=s.nodeSize;continue}if(!s.sameMarkup(a))return t;if(s.isText&&s.text!=a.text){for(let i=0;s.text[i]==a.text[i];i++)t++;return t}if(s.content.size||a.content.size){let i=fB(s.content,a.content,t+1);if(i!=null)return i}t+=s.nodeSize}}function pB(r,e,t,n){for(let s=r.childCount,a=e.childCount;;){if(s==0||a==0)return s==a?null:{a:t,b:n};let i=r.child(--s),o=e.child(--a),c=i.nodeSize;if(i==o){t-=c,n-=c;continue}if(!i.sameMarkup(o))return{a:t,b:n};if(i.isText&&i.text!=o.text){let d=0,u=Math.min(i.text.length,o.text.length);for(;d<u&&i.text[i.text.length-d-1]==o.text[o.text.length-d-1];)d++,t--,n--;return{a:t,b:n}}if(i.content.size||o.content.size){let d=pB(i.content,o.content,t-1,n-1);if(d)return d}t-=c,n-=c}}class tt{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,s=0,a){for(let i=0,o=0;o<t;i++){let c=this.content[i],d=o+c.nodeSize;if(d>e&&n(c,s+o,a||null,i)!==!1&&c.content.size){let u=o+1;c.nodesBetween(Math.max(0,e-u),Math.min(c.content.size,t-u),n,s+u)}o=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,s){let a="",i=!0;return this.nodesBetween(e,t,(o,c)=>{let d=o.isText?o.text.slice(Math.max(e,c)-c,t-c):o.isLeaf?s?typeof s=="function"?s(o):s:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&d||o.isTextblock)&&n&&(i?i=!1:a+=n),a+=d},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,s=this.content.slice(),a=0;for(t.isText&&t.sameMarkup(n)&&(s[s.length-1]=t.withText(t.text+n.text),a=1);a<e.content.length;a++)s.push(e.content[a]);return new tt(s,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let n=[],s=0;if(t>e)for(let a=0,i=0;i<t;a++){let o=this.content[a],c=i+o.nodeSize;c>e&&((i<e||c>t)&&(o.isText?o=o.cut(Math.max(0,e-i),Math.min(o.text.length,t-i)):o=o.cut(Math.max(0,e-i-1),Math.min(o.content.size,t-i-1))),n.push(o),s+=o.nodeSize),i=c}return new tt(n,s)}cutByIndex(e,t){return e==t?tt.empty:e==0&&t==this.content.length?this:new tt(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let s=this.content.slice(),a=this.size+t.nodeSize-n.nodeSize;return s[e]=t,new tt(s,a)}addToStart(e){return new tt([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new tt(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let s=this.content[t];e(s,n,t),n+=s.nodeSize}}findDiffStart(e,t=0){return fB(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return pB(this,e,t,n)}findIndex(e){if(e==0)return C1(0,e);if(e==this.size)return C1(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,n=0;;t++){let s=this.child(t),a=n+s.nodeSize;if(a>=e)return a==e?C1(t+1,a):C1(t,n);n=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return tt.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new tt(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return tt.empty;let t,n=0;for(let s=0;s<e.length;s++){let a=e[s];n+=a.nodeSize,s&&a.isText&&e[s-1].sameMarkup(a)?(t||(t=e.slice(0,s)),t[t.length-1]=a.withText(t[t.length-1].text+a.text)):t&&t.push(a)}return new tt(t||e,n)}static from(e){if(!e)return tt.empty;if(e instanceof tt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new tt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}tt.empty=new tt([],0);const d4={index:0,offset:0};function C1(r,e){return d4.index=r,d4.offset=e,d4}function Hy(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(r);if(Array.isArray(e)!=t)return!1;if(t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!Hy(r[n],e[n]))return!1}else{for(let n in r)if(!(n in e)||!Hy(r[n],e[n]))return!1;for(let n in e)if(!(n in r))return!1}return!0}let Zr=class yC{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(this.eq(a))return e;if(this.type.excludes(a.type))t||(t=e.slice(0,s));else{if(a.type.excludes(this.type))return e;!n&&a.type.rank>this.type.rank&&(t||(t=e.slice(0,s)),t.push(this),n=!0),t&&t.push(a)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Hy(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let s=n.create(t.attrs);return n.checkAttrs(s.attrs),s}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return yC.none;if(e instanceof yC)return[e];let t=e.slice();return t.sort((n,s)=>n.type.rank-s.type.rank),t}};Zr.none=[];class Uy extends Error{}class Nt{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=mB(this.content,e+this.openStart,t);return n&&new Nt(n,this.openStart,this.openEnd)}removeBetween(e,t){return new Nt(gB(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Nt.empty;let n=t.openStart||0,s=t.openEnd||0;if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Nt(tt.fromJSON(e,t.content),n,s)}static maxOpen(e,t=!0){let n=0,s=0;for(let a=e.firstChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.firstChild)n++;for(let a=e.lastChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.lastChild)s++;return new Nt(e,n,s)}}Nt.empty=new Nt(tt.empty,0,0);function gB(r,e,t){let{index:n,offset:s}=r.findIndex(e),a=r.maybeChild(n),{index:i,offset:o}=r.findIndex(t);if(s==e||a.isText){if(o!=t&&!r.child(i).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(t))}if(n!=i)throw new RangeError("Removing non-flat range");return r.replaceChild(n,a.copy(gB(a.content,e-s-1,t-s-1)))}function mB(r,e,t,n){let{index:s,offset:a}=r.findIndex(e),i=r.maybeChild(s);if(a==e||i.isText)return r.cut(0,e).append(t).append(r.cut(e));let o=mB(i.content,e-a-1,t);return o&&r.replaceChild(s,i.copy(o))}function Jde(r,e,t){if(t.openStart>r.depth)throw new Uy("Inserted content deeper than insertion position");if(r.depth-t.openStart!=e.depth-t.openEnd)throw new Uy("Inconsistent open depths");return xB(r,e,t,0)}function xB(r,e,t,n){let s=r.index(n),a=r.node(n);if(s==e.index(n)&&n<r.depth-t.openStart){let i=xB(r,e,t,n+1);return a.copy(a.content.replaceChild(s,i))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&r.depth==n&&e.depth==n){let i=r.parent,o=i.content;return Bu(i,o.cut(0,r.parentOffset).append(t.content).append(o.cut(e.parentOffset)))}else{let{start:i,end:o}=Kde(t,r);return Bu(a,yB(r,i,o,e,n))}else return Bu(a,$y(r,e,n))}function vB(r,e){if(!e.type.compatibleContent(r.type))throw new Uy("Cannot join "+e.type.name+" onto "+r.type.name)}function bC(r,e,t){let n=r.node(t);return vB(n,e.node(t)),n}function Fu(r,e){let t=e.length-1;t>=0&&r.isText&&r.sameMarkup(e[t])?e[t]=r.withText(e[t].text+r.text):e.push(r)}function xm(r,e,t,n){let s=(e||r).node(t),a=0,i=e?e.index(t):s.childCount;r&&(a=r.index(t),r.depth>t?a++:r.textOffset&&(Fu(r.nodeAfter,n),a++));for(let o=a;o<i;o++)Fu(s.child(o),n);e&&e.depth==t&&e.textOffset&&Fu(e.nodeBefore,n)}function Bu(r,e){return r.type.checkContent(e),r.copy(e)}function yB(r,e,t,n,s){let a=r.depth>s&&bC(r,e,s+1),i=n.depth>s&&bC(t,n,s+1),o=[];return xm(null,r,s,o),a&&i&&e.index(s)==t.index(s)?(vB(a,i),Fu(Bu(a,yB(r,e,t,n,s+1)),o)):(a&&Fu(Bu(a,$y(r,e,s+1)),o),xm(e,t,s,o),i&&Fu(Bu(i,$y(t,n,s+1)),o)),xm(n,null,s,o),new tt(o)}function $y(r,e,t){let n=[];if(xm(null,r,t,n),r.depth>t){let s=bC(r,e,t+1);Fu(Bu(s,$y(r,e,t+1)),n)}return xm(e,null,t,n),new tt(n)}function Kde(r,e){let t=e.depth-r.openStart,s=e.node(t).copy(r.content);for(let a=t-1;a>=0;a--)s=e.node(a).copy(tt.from(s));return{start:s.resolveNoCache(r.openStart+t),end:s.resolveNoCache(s.content.size-r.openEnd-t)}}class c0{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],s=e.child(t);return n?e.child(t).cut(n):s}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[t*3],s=t==0?0:this.path[t*3-1]+1;for(let a=0;a<e;a++)s+=n.child(a).nodeSize;return s}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Zr.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),s=e.maybeChild(t);if(!n){let o=n;n=s,s=o}let a=n.marks;for(var i=0;i<a.length;i++)a[i].type.spec.inclusive===!1&&(!s||!a[i].isInSet(s.marks))&&(a=a[i--].removeFromSet(a));return a}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,s=e.parent.maybeChild(e.index());for(var a=0;a<n.length;a++)n[a].type.spec.inclusive===!1&&(!s||!n[a].isInSet(s.marks))&&(n=n[a--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new Vy(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],s=0,a=t;for(let i=e;;){let{index:o,offset:c}=i.content.findIndex(a),d=a-c;if(n.push(i,o,s+c),!d||(i=i.child(o),i.isText))break;a=d-1,s+=c+1}return new c0(t,n,a)}static resolveCached(e,t){let n=E9.get(e);if(n)for(let a=0;a<n.elts.length;a++){let i=n.elts[a];if(i.pos==t)return i}else E9.set(e,n=new Qde);let s=n.elts[n.i]=c0.resolve(e,t);return n.i=(n.i+1)%eue,s}}class Qde{constructor(){this.elts=[],this.i=0}}const eue=12,E9=new WeakMap;class Vy{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const tue=Object.create(null);let ud=class wC{constructor(e,t,n,s=Zr.none){this.type=e,this.attrs=t,this.marks=s,this.content=n||tt.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,s=0){this.content.nodesBetween(e,t,n,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,s){return this.content.textBetween(e,t,n,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&Hy(this.attrs,t||e.defaultAttrs||tue)&&Zr.sameSet(this.marks,n||Zr.none)}copy(e=null){return e==this.content?this:new wC(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new wC(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return Nt.empty;let s=this.resolve(e),a=this.resolve(t),i=n?0:s.sharedDepth(t),o=s.start(i),d=s.node(i).content.cut(s.pos-o,a.pos-o);return new Nt(d,s.depth-i,a.depth-i)}replace(e,t,n){return Jde(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:s}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(s==e||t.isText)return t;e-=s+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let s=this.content.child(t-1);return{node:s,index:t-1,offset:n-s.nodeSize}}resolve(e){return c0.resolveCached(this,e)}resolveNoCache(e){return c0.resolve(this,e)}rangeHasMark(e,t,n){let s=!1;return t>e&&this.nodesBetween(e,t,a=>(n.isInSet(a.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),bB(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=tt.empty,s=0,a=n.childCount){let i=this.contentMatchAt(e).matchFragment(n,s,a),o=i&&i.matchFragment(this.content,t);if(!o||!o.validEnd)return!1;for(let c=s;c<a;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(e,t,n,s){if(s&&!this.type.allowsMarks(s))return!1;let a=this.contentMatchAt(e).matchType(n),i=a&&a.matchFragment(this.content,t);return i?i.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Zr.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Zr.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let s=tt.fromJSON(e,t.content),a=e.nodeType(t.type).create(t.attrs,s,n);return a.type.checkAttrs(a.attrs),a}};ud.prototype.text=void 0;class Wy extends ud{constructor(e,t,n,s){if(super(e,t,null,s),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):bB(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Wy(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Wy(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function bB(r,e){for(let t=r.length-1;t>=0;t--)e=r[t].type.name+"("+e+")";return e}class th{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new rue(e,t);if(n.next==null)return th.empty;let s=wB(n);n.next&&n.err("Unexpected trailing text");let a=cue(lue(s));return due(a,n),a}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let s=this;for(let a=t;s&&a<n;a++)s=s.matchType(e.child(a).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let s=[this];function a(i,o){let c=i.matchFragment(e,n);if(c&&(!t||c.validEnd))return tt.from(o.map(d=>d.createAndFill()));for(let d=0;d<i.next.length;d++){let{type:u,next:h}=i.next[d];if(!(u.isText||u.hasRequiredAttrs())&&s.indexOf(h)==-1){s.push(h);let f=a(h,o.concat(u));if(f)return f}}return null}return a(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let s=n.shift(),a=s.match;if(a.matchType(e)){let i=[];for(let o=s;o.type;o=o.via)i.push(o.type);return i.reverse()}for(let i=0;i<a.next.length;i++){let{type:o,next:c}=a.next[i];!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in t)&&(!s.type||c.validEnd)&&(n.push({match:o.contentMatch,type:o,via:s}),t[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let s=0;s<n.next.length;s++)e.indexOf(n.next[s].next)==-1&&t(n.next[s].next)}return t(this),e.map((n,s)=>{let a=s+(n.validEnd?"*":" ")+" ";for(let i=0;i<n.next.length;i++)a+=(i?", ":"")+n.next[i].type.name+"->"+e.indexOf(n.next[i].next);return a}).join(`
`)}}th.empty=new th(!0);class rue{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function wB(r){let e=[];do e.push(nue(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function nue(r){let e=[];do e.push(sue(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function sue(r){let e=oue(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=aue(r,e);else break;return e}function _9(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function aue(r,e){let t=_9(r),n=t;return r.eat(",")&&(r.next!="}"?n=_9(r):n=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:t,max:n,expr:e}}function iue(r,e){let t=r.nodeTypes,n=t[e];if(n)return[n];let s=[];for(let a in t){let i=t[a];i.isInGroup(e)&&s.push(i)}return s.length==0&&r.err("No node type or group '"+e+"' found"),s}function oue(r){if(r.eat("(")){let e=wB(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=iue(r,r.next).map(t=>(r.inline==null?r.inline=t.isInline:r.inline!=t.isInline&&r.err("Mixing inline and block content"),{type:"name",value:t}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function lue(r){let e=[[]];return s(a(r,0),t()),e;function t(){return e.push([])-1}function n(i,o,c){let d={term:c,to:o};return e[i].push(d),d}function s(i,o){i.forEach(c=>c.to=o)}function a(i,o){if(i.type=="choice")return i.exprs.reduce((c,d)=>c.concat(a(d,o)),[]);if(i.type=="seq")for(let c=0;;c++){let d=a(i.exprs[c],o);if(c==i.exprs.length-1)return d;s(d,o=t())}else if(i.type=="star"){let c=t();return n(o,c),s(a(i.expr,c),c),[n(c)]}else if(i.type=="plus"){let c=t();return s(a(i.expr,o),c),s(a(i.expr,c),c),[n(c)]}else{if(i.type=="opt")return[n(o)].concat(a(i.expr,o));if(i.type=="range"){let c=o;for(let d=0;d<i.min;d++){let u=t();s(a(i.expr,c),u),c=u}if(i.max==-1)s(a(i.expr,c),c);else for(let d=i.min;d<i.max;d++){let u=t();n(c,u),s(a(i.expr,c),u),c=u}return[n(c)]}else{if(i.type=="name")return[n(o,void 0,i.value)];throw new Error("Unknown expr type")}}}}function kB(r,e){return e-r}function j9(r,e){let t=[];return n(e),t.sort(kB);function n(s){let a=r[s];if(a.length==1&&!a[0].term)return n(a[0].to);t.push(s);for(let i=0;i<a.length;i++){let{term:o,to:c}=a[i];!o&&t.indexOf(c)==-1&&n(c)}}}function cue(r){let e=Object.create(null);return t(j9(r,0));function t(n){let s=[];n.forEach(i=>{r[i].forEach(({term:o,to:c})=>{if(!o)return;let d;for(let u=0;u<s.length;u++)s[u][0]==o&&(d=s[u][1]);j9(r,c).forEach(u=>{d||s.push([o,d=[]]),d.indexOf(u)==-1&&d.push(u)})})});let a=e[n.join(",")]=new th(n.indexOf(r.length-1)>-1);for(let i=0;i<s.length;i++){let o=s[i][1].sort(kB);a.next.push({type:s[i][0],next:e[o.join(",")]||t(o)})}return a}}function due(r,e){for(let t=0,n=[r];t<n.length;t++){let s=n[t],a=!s.validEnd,i=[];for(let o=0;o<s.next.length;o++){let{type:c,next:d}=s.next[o];i.push(c.name),a&&!(c.isText||c.hasRequiredAttrs())&&(a=!1),n.indexOf(d)==-1&&n.push(d)}a&&e.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function CB(r){let e=Object.create(null);for(let t in r){let n=r[t];if(!n.hasDefault)return null;e[t]=n.default}return e}function SB(r,e){let t=Object.create(null);for(let n in r){let s=e&&e[n];if(s===void 0){let a=r[n];if(a.hasDefault)s=a.default;else throw new RangeError("No value supplied for attribute "+n)}t[n]=s}return t}function NB(r,e,t,n){for(let s in e)if(!(s in r))throw new RangeError(`Unsupported attribute ${s} for ${t} of type ${s}`);for(let s in r){let a=r[s];a.validate&&a.validate(e[s])}}function EB(r,e){let t=Object.create(null);if(e)for(let n in e)t[n]=new hue(r,n,e[n]);return t}let A9=class _B{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=EB(e,n.attrs),this.defaultAttrs=CB(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==th.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:SB(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ud(this,this.computeAttrs(e),tt.from(t),Zr.setFrom(n))}createChecked(e=null,t,n){return t=tt.from(t),this.checkContent(t),new ud(this,this.computeAttrs(e),t,Zr.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=tt.from(t),t.size){let i=this.contentMatch.fillBefore(t);if(!i)return null;t=i.append(t)}let s=this.contentMatch.matchFragment(t),a=s&&s.fillBefore(tt.empty,!0);return a?new ud(this,e,t.append(a),Zr.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){NB(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:Zr.none:e}static compile(e,t){let n=Object.create(null);e.forEach((a,i)=>n[a]=new _B(a,t,i));let s=t.spec.topNode||"doc";if(!n[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let a in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function uue(r,e,t){let n=t.split("|");return s=>{let a=s===null?"null":typeof s;if(n.indexOf(a)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${r}, got ${a}`)}}class hue{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?uue(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class N2{constructor(e,t,n,s){this.name=e,this.rank=t,this.schema=n,this.spec=s,this.attrs=EB(e,s.attrs),this.excluded=null;let a=CB(this.attrs);this.instance=a?new Zr(this,a):null}create(e=null){return!e&&this.instance?this.instance:new Zr(this,SB(this.attrs,e))}static compile(e,t){let n=Object.create(null),s=0;return e.forEach((a,i)=>n[a]=new N2(a,s++,t,i)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){NB(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class jB{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let s in e)t[s]=e[s];t.nodes=Ps.from(e.nodes),t.marks=Ps.from(e.marks||{}),this.nodes=A9.compile(this.spec.nodes,this),this.marks=N2.compile(this.spec.marks,this);let n=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let a=this.nodes[s],i=a.spec.content||"",o=a.spec.marks;if(a.contentMatch=n[i]||(n[i]=th.parse(i,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=o=="_"?null:o?T9(this,o.split(" ")):o==""||!a.inlineContent?[]:null}for(let s in this.marks){let a=this.marks[s],i=a.spec.excludes;a.excluded=i==null?[a]:i==""?[]:T9(this,i.split(" "))}this.nodeFromJSON=s=>ud.fromJSON(this,s),this.markFromJSON=s=>Zr.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof A9){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,s)}text(e,t){let n=this.nodes.text;return new Wy(n,n.defaultAttrs,e,Zr.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function T9(r,e){let t=[];for(let n=0;n<e.length;n++){let s=e[n],a=r.marks[s],i=a;if(a)t.push(a);else for(let o in r.marks){let c=r.marks[o];(s=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(s)>-1)&&t.push(i=c)}if(!i)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return t}function fue(r){return r.tag!=null}function pue(r){return r.style!=null}class hd{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(s=>{if(fue(s))this.tags.push(s);else if(pue(s)){let a=/[^=]*/.exec(s.style)[0];n.indexOf(a)<0&&n.push(a),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let a=e.nodes[s.node];return a.contentMatch.matchType(a)})}parse(e,t={}){let n=new L9(this,t,!1);return n.addAll(e,Zr.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new L9(this,t,!0);return n.addAll(e,Zr.none,t.from,t.to),Nt.maxOpen(n.finish())}matchTag(e,t,n){for(let s=n?this.tags.indexOf(n)+1:0;s<this.tags.length;s++){let a=this.tags[s];if(xue(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||t.matchesContext(a.context))){if(a.getAttrs){let i=a.getAttrs(e);if(i===!1)continue;a.attrs=i||void 0}return a}}}matchStyle(e,t,n,s){for(let a=s?this.styles.indexOf(s)+1:0;a<this.styles.length;a++){let i=this.styles[a],o=i.style;if(!(o.indexOf(e)!=0||i.context&&!n.matchesContext(i.context)||o.length>e.length&&(o.charCodeAt(e.length)!=61||o.slice(e.length+1)!=t))){if(i.getAttrs){let c=i.getAttrs(t);if(c===!1)continue;i.attrs=c||void 0}return i}}}static schemaRules(e){let t=[];function n(s){let a=s.priority==null?50:s.priority,i=0;for(;i<t.length;i++){let o=t[i];if((o.priority==null?50:o.priority)<a)break}t.splice(i,0,s)}for(let s in e.marks){let a=e.marks[s].spec.parseDOM;a&&a.forEach(i=>{n(i=D9(i)),i.mark||i.ignore||i.clearMark||(i.mark=s)})}for(let s in e.nodes){let a=e.nodes[s].spec.parseDOM;a&&a.forEach(i=>{n(i=D9(i)),i.node||i.ignore||i.mark||(i.node=s)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new hd(e,hd.schemaRules(e)))}}const AB={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},gue={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},TB={ol:!0,ul:!0},d0=1,kC=2,bv=4;function P9(r,e,t){return e!=null?(e?d0:0)|(e==="full"?kC:0):r&&r.whitespace=="pre"?d0|kC:t&-5}class S1{constructor(e,t,n,s,a,i){this.type=e,this.attrs=t,this.marks=n,this.solid=s,this.options=i,this.content=[],this.activeMarks=Zr.none,this.match=a||(i&bv?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(tt.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let n=this.type.contentMatch,s;return(s=n.findWrapping(e.type))?(this.match=n,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&d0)){let n=this.content[this.content.length-1],s;if(n&&n.isText&&(s=/[ \t\r\n\u000c]+$/.exec(n.text))){let a=n;n.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-s[0].length))}}let t=tt.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(tt.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!AB.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class L9{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let s=t.topNode,a,i=P9(null,t.preserveWhitespace,0)|(n?bv:0);s?a=new S1(s.type,s.attrs,Zr.none,!0,t.topMatch||s.type.contentMatch,i):n?a=new S1(null,null,Zr.none,!0,null,i):a=new S1(e.schema.topNodeType,null,Zr.none,!0,null,i),this.nodes=[a],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,s=this.top,a=s.options&kC?"full":this.localPreserveWS||(s.options&d0)>0;if(a==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(a)a!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=s.content[s.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let s=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let i=e.nodeName.toLowerCase(),o;TB.hasOwnProperty(i)&&this.parser.normalizeLists&&mue(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,n));e:if(c?c.ignore:gue.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,t);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let d,u=this.needsBlock;if(AB.hasOwnProperty(i))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),d=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let h=c&&c.skip?t:this.readStyles(e,t);h&&this.addAll(e,h),d&&this.sync(a),this.needsBlock=u}else{let d=this.readStyles(e,t);d&&this.addElementByRule(e,c,d,c.consuming===!1?o:void 0)}this.localPreserveWS=s}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let a=this.parser.matchedStyles[s],i=n.getPropertyValue(a);if(i)for(let o=void 0;;){let c=this.parser.matchStyle(a,i,this,o);if(!c)break;if(c.ignore)return null;if(c.clearMark?t=t.filter(d=>!c.clearMark(d)):t=t.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)o=c;else break}}return t}addElementByRule(e,t,n,s){let a,i;if(t.node)if(i=this.parser.schema.nodes[t.node],i.isLeaf)this.insertNode(i.create(t.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let c=this.enter(i,t.attrs||null,n,t.preserveWhitespace);c&&(a=!0,n=c)}else{let c=this.parser.schema.marks[t.mark];n=n.concat(c.create(t.attrs))}let o=this.top;if(i&&i.isLeaf)this.findInside(e);else if(s)this.addElement(e,n,s);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,n,!1));else{let c=e;typeof t.contentElement=="string"?c=e.querySelector(t.contentElement):typeof t.contentElement=="function"?c=t.contentElement(e):t.contentElement&&(c=t.contentElement),this.findAround(e,c,!0),this.addAll(c,n),this.findAround(e,c,!1)}a&&this.sync(o)&&this.open--}addAll(e,t,n,s){let a=n||0;for(let i=n?e.childNodes[n]:e.firstChild,o=s==null?null:e.childNodes[s];i!=o;i=i.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(i,t);this.findAtPoint(e,a)}findPlace(e,t,n){let s,a;for(let i=this.open,o=0;i>=0;i--){let c=this.nodes[i],d=c.findWrapping(e);if(d&&(!s||s.length>d.length+o)&&(s=d,a=c,!d.length))break;if(c.solid){if(n)break;o+=2}}if(!s)return null;this.sync(a);for(let i=0;i<s.length;i++)t=this.enterInner(s[i],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(t=this.enterInner(a,null,t))}let s=this.findPlace(e,t,n);if(s){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let i=Zr.none;for(let o of s.concat(e.marks))(a.type?a.type.allowsMarkType(o.type):M9(o.type,e.type))&&(i=o.addToSet(i));return a.content.push(e.mark(i)),!0}return!1}enter(e,t,n,s){let a=this.findPlace(e.create(t),n,!1);return a&&(a=this.enterInner(e,t,n,!0,s)),a}enterInner(e,t,n,s=!1,a){this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(e);let o=P9(e,a,i.options);i.options&bv&&i.content.length==0&&(o|=bv);let c=Zr.none;return n=n.filter(d=>(i.type?i.type.allowsMarkType(d.type):M9(d.type,e))?(c=d.addToSet(c),!1):!0),this.nodes.push(new S1(e,t,c,s,null,o)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=d0)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let s=n.length-1;s>=0;s--)e+=n[s].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&t.compareDocumentPosition(this.find[s].node)&(n?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,s=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),a=-(n?n.depth+1:0)+(s?0:1),i=(o,c)=>{for(;o>=0;o--){let d=t[o];if(d==""){if(o==t.length-1||o==0)continue;for(;c>=a;c--)if(i(o-1,c))return!0;return!1}else{let u=c>0||c==0&&s?this.nodes[c].type:n&&c>=a?n.node(c-a).type:null;if(!u||u.name!=d&&!u.isInGroup(d))return!1;c--}}return!0};return i(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}}function mue(r){for(let e=r.firstChild,t=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&TB.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):n=="li"?t=e:n&&(t=null)}}function xue(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function D9(r){let e={};for(let t in r)e[t]=r[t];return e}function M9(r,e){let t=e.schema.nodes;for(let n in t){let s=t[n];if(!s.allowsMarkType(r))continue;let a=[],i=o=>{a.push(o);for(let c=0;c<o.edgeCount;c++){let{type:d,next:u}=o.edge(c);if(d==e||a.indexOf(u)<0&&i(u))return!0}};if(i(s.contentMatch))return!0}}class xh{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=u4(t).createDocumentFragment());let s=n,a=[];return e.forEach(i=>{if(a.length||i.marks.length){let o=0,c=0;for(;o<a.length&&c<i.marks.length;){let d=i.marks[c];if(!this.marks[d.type.name]){c++;continue}if(!d.eq(a[o][0])||d.type.spec.spanning===!1)break;o++,c++}for(;o<a.length;)s=a.pop()[1];for(;c<i.marks.length;){let d=i.marks[c++],u=this.serializeMark(d,i.isInline,t);u&&(a.push([d,s]),s.appendChild(u.dom),s=u.contentDOM||u.dom)}}s.appendChild(this.serializeNodeInner(i,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:s}=wv(u4(t),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,s)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let s=e.marks.length-1;s>=0;s--){let a=this.serializeMark(e.marks[s],e.isInline,t);a&&((a.contentDOM||a.dom).appendChild(n),n=a.dom)}return n}serializeMark(e,t,n={}){let s=this.marks[e.type.name];return s&&wv(u4(n),s(e,t),null,e.attrs)}static renderSpec(e,t,n=null,s){return wv(e,t,n,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new xh(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=R9(e.nodes);return t.text||(t.text=n=>n.text),t}static marksFromSchema(e){return R9(e.marks)}}function R9(r){let e={};for(let t in r){let n=r[t].spec.toDOM;n&&(e[t]=n)}return e}function u4(r){return r.document||window.document}const I9=new WeakMap;function vue(r){let e=I9.get(r);return e===void 0&&I9.set(r,e=yue(r)),e}function yue(r){let e=null;function t(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let s=0;s<n.length;s++)t(n[s]);else for(let s in n)t(n[s])}return t(r),e}function wv(r,e,t,n){if(typeof e=="string")return{dom:r.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],a;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(a=vue(n))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let i=s.indexOf(" ");i>0&&(t=s.slice(0,i),s=s.slice(i+1));let o,c=t?r.createElementNS(t,s):r.createElement(s),d=e[1],u=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){u=2;for(let h in d)if(d[h]!=null){let f=h.indexOf(" ");f>0?c.setAttributeNS(h.slice(0,f),h.slice(f+1),d[h]):h=="style"&&c.style?c.style.cssText=d[h]:c.setAttribute(h,d[h])}}for(let h=u;h<e.length;h++){let f=e[h];if(f===0){if(h<e.length-1||h>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:p,contentDOM:g}=wv(r,f,t,n);if(c.appendChild(p),g){if(o)throw new RangeError("Multiple content holes");o=g}}}return{dom:c,contentDOM:o}}const PB=65535,LB=Math.pow(2,16);function bue(r,e){return r+e*LB}function O9(r){return r&PB}function wue(r){return(r-(r&PB))/LB}const DB=1,MB=2,kv=4,RB=8;class CC{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&RB)>0}get deletedBefore(){return(this.delInfo&(DB|kv))>0}get deletedAfter(){return(this.delInfo&(MB|kv))>0}get deletedAcross(){return(this.delInfo&kv)>0}}class ti{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&ti.empty)return ti.empty}recover(e){let t=0,n=O9(e);if(!this.inverted)for(let s=0;s<n;s++)t+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[n*3]+t+wue(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let s=0,a=this.inverted?2:1,i=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let c=this.ranges[o]-(this.inverted?s:0);if(c>e)break;let d=this.ranges[o+a],u=this.ranges[o+i],h=c+d;if(e<=h){let f=d?e==c?-1:e==h?1:t:t,p=c+s+(f<0?0:u);if(n)return p;let g=e==(t<0?c:h)?null:bue(o/3,e-c),m=e==c?MB:e==h?DB:kv;return(t<0?e!=c:e!=h)&&(m|=RB),new CC(p,m,g)}s+=u-d}return n?e+s:new CC(e+s,0,null)}touches(e,t){let n=0,s=O9(t),a=this.inverted?2:1,i=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let c=this.ranges[o]-(this.inverted?n:0);if(c>e)break;let d=this.ranges[o+a],u=c+d;if(e<=u&&o==s*3)return!0;n+=this.ranges[o+i]-d}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let s=0,a=0;s<this.ranges.length;s+=3){let i=this.ranges[s],o=i-(this.inverted?a:0),c=i+(this.inverted?0:a),d=this.ranges[s+t],u=this.ranges[s+n];e(o,o+d,c,c+u),a+=u-d}}invert(){return new ti(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ti.empty:new ti(e<0?[0,-e,0]:[0,0,e])}}ti.empty=new ti([]);class u0{constructor(e,t,n=0,s=e?e.length:0){this.mirror=t,this.from=n,this.to=s,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new u0(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let s=e.getMirror(t);this.appendMap(e._maps[t],s!=null&&s<t?n+s:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let s=e.getMirror(t);this.appendMap(e._maps[t].invert(),s!=null&&s>t?n-s-1:void 0)}}invert(){let e=new u0;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let s=0;for(let a=this.from;a<this.to;a++){let i=this._maps[a],o=i.mapResult(e,t);if(o.recover!=null){let c=this.getMirror(a);if(c!=null&&c>a&&c<this.to){a=c,e=this._maps[c].recover(o.recover);continue}}s|=o.delInfo,e=o.pos}return n?e:new CC(e,s,null)}}const h4=Object.create(null);class ta{getMap(){return ti.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=h4[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in h4)throw new RangeError("Duplicate use of step JSON ID "+e);return h4[e]=t,t.prototype.jsonID=e,t}}class Jn{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Jn(e,null)}static fail(e){return new Jn(null,e)}static fromReplace(e,t,n,s){try{return Jn.ok(e.replace(t,n,s))}catch(a){if(a instanceof Uy)return Jn.fail(a.message);throw a}}}function lE(r,e,t){let n=[];for(let s=0;s<r.childCount;s++){let a=r.child(s);a.content.size&&(a=a.copy(lE(a.content,e,a))),a.isInline&&(a=e(a,t,s)),n.push(a)}return tt.fromArray(n)}class Zc extends ta{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),s=n.node(n.sharedDepth(this.to)),a=new Nt(lE(t.content,(i,o)=>!i.isAtom||!o.type.allowsMarkType(this.mark.type)?i:i.mark(this.mark.addToSet(i.marks)),s),t.openStart,t.openEnd);return Jn.fromReplace(e,this.from,this.to,a)}invert(){return new vo(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Zc(t.pos,n.pos,this.mark)}merge(e){return e instanceof Zc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Zc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Zc(t.from,t.to,e.markFromJSON(t.mark))}}ta.jsonID("addMark",Zc);class vo extends ta{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new Nt(lE(t.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),t.openStart,t.openEnd);return Jn.fromReplace(e,this.from,this.to,n)}invert(){return new Zc(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new vo(t.pos,n.pos,this.mark)}merge(e){return e instanceof vo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new vo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new vo(t.from,t.to,e.markFromJSON(t.mark))}}ta.jsonID("removeMark",vo);class Jc extends ta{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Jn.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Jn.fromReplace(e,this.pos,this.pos+1,new Nt(tt.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let n=this.mark.addToSet(t.marks);if(n.length==t.marks.length){for(let s=0;s<t.marks.length;s++)if(!t.marks[s].isInSet(n))return new Jc(this.pos,t.marks[s]);return new Jc(this.pos,this.mark)}}return new rh(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Jc(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Jc(t.pos,e.markFromJSON(t.mark))}}ta.jsonID("addNodeMark",Jc);class rh extends ta{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Jn.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Jn.fromReplace(e,this.pos,this.pos+1,new Nt(tt.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Jc(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new rh(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new rh(t.pos,e.markFromJSON(t.mark))}}ta.jsonID("removeNodeMark",rh);class vs extends ta{constructor(e,t,n,s=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=s}apply(e){return this.structure&&SC(e,this.from,this.to)?Jn.fail("Structure replace would overwrite content"):Jn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ti([this.from,this.to-this.from,this.slice.size])}invert(e){return new vs(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new vs(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof vs)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Nt.empty:new Nt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new vs(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Nt.empty:new Nt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new vs(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new vs(t.from,t.to,Nt.fromJSON(e,t.slice),!!t.structure)}}ta.jsonID("replace",vs);class ws extends ta{constructor(e,t,n,s,a,i,o=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=s,this.slice=a,this.insert=i,this.structure=o}apply(e){if(this.structure&&(SC(e,this.from,this.gapFrom)||SC(e,this.gapTo,this.to)))return Jn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Jn.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?Jn.fromReplace(e,this.from,this.to,n):Jn.fail("Content does not fit in gap")}getMap(){return new ti([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new ws(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),s=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||s<t.pos||a>n.pos?null:new ws(t.pos,n.pos,s,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ws(t.from,t.to,t.gapFrom,t.gapTo,Nt.fromJSON(e,t.slice),t.insert,!!t.structure)}}ta.jsonID("replaceAround",ws);function SC(r,e,t){let n=r.resolve(e),s=t-e,a=n.depth;for(;s>0&&a>0&&n.indexAfter(a)==n.node(a).childCount;)a--,s--;if(s>0){let i=n.node(a).maybeChild(n.indexAfter(a));for(;s>0;){if(!i||i.isLeaf)return!0;i=i.firstChild,s--}}return!1}function kue(r,e,t,n){let s=[],a=[],i,o;r.doc.nodesBetween(e,t,(c,d,u)=>{if(!c.isInline)return;let h=c.marks;if(!n.isInSet(h)&&u.type.allowsMarkType(n.type)){let f=Math.max(d,e),p=Math.min(d+c.nodeSize,t),g=n.addToSet(h);for(let m=0;m<h.length;m++)h[m].isInSet(g)||(i&&i.to==f&&i.mark.eq(h[m])?i.to=p:s.push(i=new vo(f,p,h[m])));o&&o.to==f?o.to=p:a.push(o=new Zc(f,p,n))}}),s.forEach(c=>r.step(c)),a.forEach(c=>r.step(c))}function Cue(r,e,t,n){let s=[],a=0;r.doc.nodesBetween(e,t,(i,o)=>{if(!i.isInline)return;a++;let c=null;if(n instanceof N2){let d=i.marks,u;for(;u=n.isInSet(d);)(c||(c=[])).push(u),d=u.removeFromSet(d)}else n?n.isInSet(i.marks)&&(c=[n]):c=i.marks;if(c&&c.length){let d=Math.min(o+i.nodeSize,t);for(let u=0;u<c.length;u++){let h=c[u],f;for(let p=0;p<s.length;p++){let g=s[p];g.step==a-1&&h.eq(s[p].style)&&(f=g)}f?(f.to=d,f.step=a):s.push({style:h,from:Math.max(o,e),to:d,step:a})}}}),s.forEach(i=>r.step(new vo(i.from,i.to,i.style)))}function cE(r,e,t,n=t.contentMatch,s=!0){let a=r.doc.nodeAt(e),i=[],o=e+1;for(let c=0;c<a.childCount;c++){let d=a.child(c),u=o+d.nodeSize,h=n.matchType(d.type);if(!h)i.push(new vs(o,u,Nt.empty));else{n=h;for(let f=0;f<d.marks.length;f++)t.allowsMarkType(d.marks[f].type)||r.step(new vo(o,u,d.marks[f]));if(s&&d.isText&&t.whitespace!="pre"){let f,p=/\r?\n|\r/g,g;for(;f=p.exec(d.text);)g||(g=new Nt(tt.from(t.schema.text(" ",t.allowedMarks(d.marks))),0,0)),i.push(new vs(o+f.index,o+f.index+f[0].length,g))}}o=u}if(!n.validEnd){let c=n.fillBefore(tt.empty,!0);r.replace(o,o,new Nt(c,0,0))}for(let c=i.length-1;c>=0;c--)r.step(i[c])}function Sue(r,e,t){return(e==0||r.canReplace(e,r.childCount))&&(t==r.childCount||r.canReplace(0,t))}function Up(r){let t=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let n=r.depth;;--n){let s=r.$from.node(n),a=r.$from.index(n),i=r.$to.indexAfter(n);if(n<r.depth&&s.canReplace(a,i,t))return n;if(n==0||s.type.spec.isolating||!Sue(s,a,i))break}return null}function Nue(r,e,t){let{$from:n,$to:s,depth:a}=e,i=n.before(a+1),o=s.after(a+1),c=i,d=o,u=tt.empty,h=0;for(let g=a,m=!1;g>t;g--)m||n.index(g)>0?(m=!0,u=tt.from(n.node(g).copy(u)),h++):c--;let f=tt.empty,p=0;for(let g=a,m=!1;g>t;g--)m||s.after(g+1)<s.end(g)?(m=!0,f=tt.from(s.node(g).copy(f)),p++):d++;r.step(new ws(c,d,i,o,new Nt(u.append(f),h,p),u.size-h,!0))}function dE(r,e,t=null,n=r){let s=Eue(r,e),a=s&&_ue(n,e);return a?s.map(F9).concat({type:e,attrs:t}).concat(a.map(F9)):null}function F9(r){return{type:r,attrs:null}}function Eue(r,e){let{parent:t,startIndex:n,endIndex:s}=r,a=t.contentMatchAt(n).findWrapping(e);if(!a)return null;let i=a.length?a[0]:e;return t.canReplaceWith(n,s,i)?a:null}function _ue(r,e){let{parent:t,startIndex:n,endIndex:s}=r,a=t.child(n),i=e.contentMatch.findWrapping(a.type);if(!i)return null;let c=(i.length?i[i.length-1]:e).contentMatch;for(let d=n;c&&d<s;d++)c=c.matchType(t.child(d).type);return!c||!c.validEnd?null:i}function jue(r,e,t){let n=tt.empty;for(let i=t.length-1;i>=0;i--){if(n.size){let o=t[i].type.contentMatch.matchFragment(n);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=tt.from(t[i].type.create(t[i].attrs,n))}let s=e.start,a=e.end;r.step(new ws(s,a,s,a,new Nt(n,0,0),t.length,!0))}function Aue(r,e,t,n,s){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=r.steps.length;r.doc.nodesBetween(e,t,(i,o)=>{let c=typeof s=="function"?s(i):s;if(i.isTextblock&&!i.hasMarkup(n,c)&&Tue(r.doc,r.mapping.slice(a).map(o),n)){let d=null;if(n.schema.linebreakReplacement){let p=n.whitespace=="pre",g=!!n.contentMatch.matchType(n.schema.linebreakReplacement);p&&!g?d=!1:!p&&g&&(d=!0)}d===!1&&OB(r,i,o,a),cE(r,r.mapping.slice(a).map(o,1),n,void 0,d===null);let u=r.mapping.slice(a),h=u.map(o,1),f=u.map(o+i.nodeSize,1);return r.step(new ws(h,f,h+1,f-1,new Nt(tt.from(n.create(c,null,i.marks)),0,0),1,!0)),d===!0&&IB(r,i,o,a),!1}})}function IB(r,e,t,n){e.forEach((s,a)=>{if(s.isText){let i,o=/\r?\n|\r/g;for(;i=o.exec(s.text);){let c=r.mapping.slice(n).map(t+1+a+i.index);r.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function OB(r,e,t,n){e.forEach((s,a)=>{if(s.type==s.type.schema.linebreakReplacement){let i=r.mapping.slice(n).map(t+1+a);r.replaceWith(i,i+1,e.type.schema.text(`
`))}})}function Tue(r,e,t){let n=r.resolve(e),s=n.index();return n.parent.canReplaceWith(s,s+1,t)}function Pue(r,e,t,n,s){let a=r.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");t||(t=a.type);let i=t.create(n,null,s||a.marks);if(a.isLeaf)return r.replaceWith(e,e+a.nodeSize,i);if(!t.validContent(a.content))throw new RangeError("Invalid content for node type "+t.name);r.step(new ws(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new Nt(tt.from(i),0,0),1,!0))}function Wl(r,e,t=1,n){let s=r.resolve(e),a=s.depth-t,i=n&&n[n.length-1]||s.parent;if(a<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!i.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let d=s.depth-1,u=t-2;d>a;d--,u--){let h=s.node(d),f=s.index(d);if(h.type.spec.isolating)return!1;let p=h.content.cutByIndex(f,h.childCount),g=n&&n[u+1];g&&(p=p.replaceChild(0,g.type.create(g.attrs)));let m=n&&n[u]||h;if(!h.canReplace(f+1,h.childCount)||!m.type.validContent(p))return!1}let o=s.indexAfter(a),c=n&&n[0];return s.node(a).canReplaceWith(o,o,c?c.type:s.node(a+1).type)}function Lue(r,e,t=1,n){let s=r.doc.resolve(e),a=tt.empty,i=tt.empty;for(let o=s.depth,c=s.depth-t,d=t-1;o>c;o--,d--){a=tt.from(s.node(o).copy(a));let u=n&&n[d];i=tt.from(u?u.type.create(u.attrs,i):s.node(o).copy(i))}r.step(new vs(e,e,new Nt(a.append(i),t,t),!0))}function Ld(r,e){let t=r.resolve(e),n=t.index();return FB(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(n,n+1)}function Due(r,e){e.content.size||r.type.compatibleContent(e.type);let t=r.contentMatchAt(r.childCount),{linebreakReplacement:n}=r.type.schema;for(let s=0;s<e.childCount;s++){let a=e.child(s),i=a.type==n?r.type.schema.nodes.text:a.type;if(t=t.matchType(i),!t||!r.type.allowsMarks(a.marks))return!1}return t.validEnd}function FB(r,e){return!!(r&&e&&!r.isLeaf&&Due(r,e))}function E2(r,e,t=-1){let n=r.resolve(e);for(let s=n.depth;;s--){let a,i,o=n.index(s);if(s==n.depth?(a=n.nodeBefore,i=n.nodeAfter):t>0?(a=n.node(s+1),o++,i=n.node(s).maybeChild(o)):(a=n.node(s).maybeChild(o-1),i=n.node(s+1)),a&&!a.isTextblock&&FB(a,i)&&n.node(s).canReplace(o,o+1))return e;if(s==0)break;e=t<0?n.before(s):n.after(s)}}function Mue(r,e,t){let n=null,{linebreakReplacement:s}=r.doc.type.schema,a=r.doc.resolve(e-t),i=a.node().type;if(s&&i.inlineContent){let u=i.whitespace=="pre",h=!!i.contentMatch.matchType(s);u&&!h?n=!1:!u&&h&&(n=!0)}let o=r.steps.length;if(n===!1){let u=r.doc.resolve(e+t);OB(r,u.node(),u.before(),o)}i.inlineContent&&cE(r,e+t-1,i,a.node().contentMatchAt(a.index()),n==null);let c=r.mapping.slice(o),d=c.map(e-t);if(r.step(new vs(d,c.map(e+t,-1),Nt.empty,!0)),n===!0){let u=r.doc.resolve(d);IB(r,u.node(),u.before(),r.steps.length)}return r}function Rue(r,e,t){let n=r.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(let s=n.depth-1;s>=0;s--){let a=n.index(s);if(n.node(s).canReplaceWith(a,a,t))return n.before(s+1);if(a>0)return null}if(n.parentOffset==n.parent.content.size)for(let s=n.depth-1;s>=0;s--){let a=n.indexAfter(s);if(n.node(s).canReplaceWith(a,a,t))return n.after(s+1);if(a<n.node(s).childCount)return null}return null}function BB(r,e,t){let n=r.resolve(e);if(!t.content.size)return e;let s=t.content;for(let a=0;a<t.openStart;a++)s=s.firstChild.content;for(let a=1;a<=(t.openStart==0&&t.size?2:1);a++)for(let i=n.depth;i>=0;i--){let o=i==n.depth?0:n.pos<=(n.start(i+1)+n.end(i+1))/2?-1:1,c=n.index(i)+(o>0?1:0),d=n.node(i),u=!1;if(a==1)u=d.canReplace(c,c,s);else{let h=d.contentMatchAt(c).findWrapping(s.firstChild.type);u=h&&d.canReplaceWith(c,c,h[0])}if(u)return o==0?n.pos:o<0?n.before(i+1):n.after(i+1)}return null}function _2(r,e,t=e,n=Nt.empty){if(e==t&&!n.size)return null;let s=r.resolve(e),a=r.resolve(t);return zB(s,a,n)?new vs(e,t,n):new Iue(s,a,n).fit()}function zB(r,e,t){return!t.openStart&&!t.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),t.content)}class Iue{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=tt.empty;for(let s=0;s<=e.depth;s++){let a=e.node(s);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=tt.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,s=this.close(e<0?this.$to:n.doc.resolve(e));if(!s)return null;let a=this.placed,i=n.depth,o=s.depth;for(;i&&o&&a.childCount==1;)a=a.firstChild.content,i--,o--;let c=new Nt(a,i,o);return e>-1?new ws(n.pos,e,this.$to.pos,this.$to.end(),c,t):c.size||n.pos!=this.$to.pos?new vs(n.pos,s.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,s=this.unplaced.openEnd;n<e;n++){let a=t.firstChild;if(t.childCount>1&&(s=0),a.type.spec.isolating&&s<=n){e=n;break}t=a.content}for(let t=1;t<=2;t++)for(let n=t==1?e:this.unplaced.openStart;n>=0;n--){let s,a=null;n?(a=f4(this.unplaced.content,n-1).firstChild,s=a.content):s=this.unplaced.content;let i=s.firstChild;for(let o=this.depth;o>=0;o--){let{type:c,match:d}=this.frontier[o],u,h=null;if(t==1&&(i?d.matchType(i.type)||(h=d.fillBefore(tt.from(i),!1)):a&&c.compatibleContent(a.type)))return{sliceDepth:n,frontierDepth:o,parent:a,inject:h};if(t==2&&i&&(u=d.findWrapping(i.type)))return{sliceDepth:n,frontierDepth:o,parent:a,wrap:u};if(a&&d.matchType(a.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,s=f4(e,t);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new Nt(e,t+1,Math.max(n,s.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,s=f4(e,t);if(s.childCount<=1&&t>0){let a=e.size-t<=t+s.size;this.unplaced=new Nt(Jg(e,t-1,1),t-1,a?t-1:n)}else this.unplaced=new Nt(Jg(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:s,wrap:a}){for(;this.depth>t;)this.closeFrontierNode();if(a)for(let m=0;m<a.length;m++)this.openFrontierNode(a[m]);let i=this.unplaced,o=n?n.content:i.content,c=i.openStart-e,d=0,u=[],{match:h,type:f}=this.frontier[t];if(s){for(let m=0;m<s.childCount;m++)u.push(s.child(m));h=h.matchFragment(s)}let p=o.size+e-(i.content.size-i.openEnd);for(;d<o.childCount;){let m=o.child(d),v=h.matchType(m.type);if(!v)break;d++,(d>1||c==0||m.content.size)&&(h=v,u.push(HB(m.mark(f.allowedMarks(m.marks)),d==1?c:0,d==o.childCount?p:-1)))}let g=d==o.childCount;g||(p=-1),this.placed=Kg(this.placed,t,tt.from(u)),this.frontier[t].match=h,g&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,v=o;m<p;m++){let x=v.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),v=x.content}this.unplaced=g?e==0?Nt.empty:new Nt(Jg(i.content,e-1,1),e-1,p<0?i.openEnd:e-1):new Nt(Jg(i.content,e,d),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!p4(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,s=this.$to.after(n);for(;n>1&&s==this.$to.end(--n);)++s;return s}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:s}=this.frontier[t],a=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),i=p4(e,t,s,n,a);if(i){for(let o=t-1;o>=0;o--){let{match:c,type:d}=this.frontier[o],u=p4(e,o,d,c,!0);if(!u||u.childCount)continue e}return{depth:t,fit:i,move:a?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Kg(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let s=e.node(n),a=s.type.contentMatch.fillBefore(s.content,!0,e.index(n));this.openFrontierNode(s.type,s.attrs,a)}return e}openFrontierNode(e,t=null,n){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Kg(this.placed,this.depth,tt.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(tt.empty,!0);t.childCount&&(this.placed=Kg(this.placed,this.frontier.length,t))}}function Jg(r,e,t){return e==0?r.cutByIndex(t,r.childCount):r.replaceChild(0,r.firstChild.copy(Jg(r.firstChild.content,e-1,t)))}function Kg(r,e,t){return e==0?r.append(t):r.replaceChild(r.childCount-1,r.lastChild.copy(Kg(r.lastChild.content,e-1,t)))}function f4(r,e){for(let t=0;t<e;t++)r=r.firstChild.content;return r}function HB(r,e,t){if(e<=0)return r;let n=r.content;return e>1&&(n=n.replaceChild(0,HB(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=r.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(r.type.contentMatch.matchFragment(n).fillBefore(tt.empty,!0)))),r.copy(n)}function p4(r,e,t,n,s){let a=r.node(e),i=s?r.indexAfter(e):r.index(e);if(i==a.childCount&&!t.compatibleContent(a.type))return null;let o=n.fillBefore(a.content,!0,i);return o&&!Oue(t,a.content,i)?o:null}function Oue(r,e,t){for(let n=t;n<e.childCount;n++)if(!r.allowsMarks(e.child(n).marks))return!0;return!1}function Fue(r){return r.spec.defining||r.spec.definingForContent}function Bue(r,e,t,n){if(!n.size)return r.deleteRange(e,t);let s=r.doc.resolve(e),a=r.doc.resolve(t);if(zB(s,a,n))return r.step(new vs(e,t,n));let i=$B(s,r.doc.resolve(t));i[i.length-1]==0&&i.pop();let o=-(s.depth+1);i.unshift(o);for(let f=s.depth,p=s.pos-1;f>0;f--,p--){let g=s.node(f).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;i.indexOf(f)>-1?o=f:s.before(f)==p&&i.splice(1,0,-f)}let c=i.indexOf(o),d=[],u=n.openStart;for(let f=n.content,p=0;;p++){let g=f.firstChild;if(d.push(g),p==n.openStart)break;f=g.content}for(let f=u-1;f>=0;f--){let p=d[f],g=Fue(p.type);if(g&&!p.sameMarkup(s.node(Math.abs(o)-1)))u=f;else if(g||!p.type.isTextblock)break}for(let f=n.openStart;f>=0;f--){let p=(f+u+1)%(n.openStart+1),g=d[p];if(g)for(let m=0;m<i.length;m++){let v=i[(m+c)%i.length],x=!0;v<0&&(x=!1,v=-v);let y=s.node(v-1),w=s.index(v-1);if(y.canReplaceWith(w,w,g.type,g.marks))return r.replace(s.before(v),x?a.after(v):t,new Nt(UB(n.content,0,n.openStart,p),p,n.openEnd))}}let h=r.steps.length;for(let f=i.length-1;f>=0&&(r.replace(e,t,n),!(r.steps.length>h));f--){let p=i[f];p<0||(e=s.before(p),t=a.after(p))}}function UB(r,e,t,n,s){if(e<t){let a=r.firstChild;r=r.replaceChild(0,a.copy(UB(a.content,e+1,t,n,a)))}if(e>n){let a=s.contentMatchAt(0),i=a.fillBefore(r).append(r);r=i.append(a.matchFragment(i).fillBefore(tt.empty,!0))}return r}function zue(r,e,t,n){if(!n.isInline&&e==t&&r.doc.resolve(e).parent.content.size){let s=Rue(r.doc,e,n.type);s!=null&&(e=t=s)}r.replaceRange(e,t,new Nt(tt.from(n),0,0))}function Hue(r,e,t){let n=r.doc.resolve(e),s=r.doc.resolve(t),a=$B(n,s);for(let i=0;i<a.length;i++){let o=a[i],c=i==a.length-1;if(c&&o==0||n.node(o).type.contentMatch.validEnd)return r.delete(n.start(o),s.end(o));if(o>0&&(c||n.node(o-1).canReplace(n.index(o-1),s.indexAfter(o-1))))return r.delete(n.before(o),s.after(o))}for(let i=1;i<=n.depth&&i<=s.depth;i++)if(e-n.start(i)==n.depth-i&&t>n.end(i)&&s.end(i)-t!=s.depth-i&&n.start(i-1)==s.start(i-1)&&n.node(i-1).canReplace(n.index(i-1),s.index(i-1)))return r.delete(n.before(i),t);r.delete(e,t)}function $B(r,e){let t=[],n=Math.min(r.depth,e.depth);for(let s=n;s>=0;s--){let a=r.start(s);if(a<r.pos-(r.depth-s)||e.end(s)>e.pos+(e.depth-s)||r.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(a==e.start(s)||s==r.depth&&s==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==a-1)&&t.push(s)}return t}class Wf extends ta{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return Jn.fail("No node at attribute step's position");let n=Object.create(null);for(let a in t.attrs)n[a]=t.attrs[a];n[this.attr]=this.value;let s=t.type.create(n,null,t.marks);return Jn.fromReplace(e,this.pos,this.pos+1,new Nt(tt.from(s),0,t.isLeaf?0:1))}getMap(){return ti.empty}invert(e){return new Wf(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Wf(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Wf(t.pos,t.attr,t.value)}}ta.jsonID("attr",Wf);class h0 extends ta{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let s in e.attrs)t[s]=e.attrs[s];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return Jn.ok(n)}getMap(){return ti.empty}invert(e){return new h0(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new h0(t.attr,t.value)}}ta.jsonID("docAttr",h0);let mp=class extends Error{};mp=function r(e){let t=Error.call(this,e);return t.__proto__=r.prototype,t};mp.prototype=Object.create(Error.prototype);mp.prototype.constructor=mp;mp.prototype.name="TransformError";class VB{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new u0}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new mp(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=Nt.empty){let s=_2(this.doc,e,t,n);return s&&this.step(s),this}replaceWith(e,t,n){return this.replace(e,t,new Nt(tt.from(n),0,0))}delete(e,t){return this.replace(e,t,Nt.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return Bue(this,e,t,n),this}replaceRangeWith(e,t,n){return zue(this,e,t,n),this}deleteRange(e,t){return Hue(this,e,t),this}lift(e,t){return Nue(this,e,t),this}join(e,t=1){return Mue(this,e,t),this}wrap(e,t){return jue(this,e,t),this}setBlockType(e,t=e,n,s=null){return Aue(this,e,t,n,s),this}setNodeMarkup(e,t,n=null,s){return Pue(this,e,t,n,s),this}setNodeAttribute(e,t,n){return this.step(new Wf(e,t,n)),this}setDocAttribute(e,t){return this.step(new h0(e,t)),this}addNodeMark(e,t){return this.step(new Jc(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t instanceof Zr)t.isInSet(n.marks)&&this.step(new rh(e,t));else{let s=n.marks,a,i=[];for(;a=t.isInSet(s);)i.push(new rh(e,a)),s=a.removeFromSet(s);for(let o=i.length-1;o>=0;o--)this.step(i[o])}return this}split(e,t=1,n){return Lue(this,e,t,n),this}addMark(e,t,n){return kue(this,e,t,n),this}removeMark(e,t,n){return Cue(this,e,t,n),this}clearIncompatible(e,t,n){return cE(this,e,t,n),this}}const g4=Object.create(null);class nr{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new Uue(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Nt.empty){let n=t.content.lastChild,s=null;for(let o=0;o<t.openEnd;o++)s=n,n=n.lastChild;let a=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:c,$to:d}=i[o],u=e.mapping.slice(a);e.replaceRange(u.map(c.pos),u.map(d.pos),o?Nt.empty:t),o==0&&H9(e,a,(n?n.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:i,$to:o}=s[a],c=e.mapping.slice(n),d=c.map(i.pos),u=c.map(o.pos);a?e.deleteRange(d,u):(e.replaceRangeWith(d,u,t),H9(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let s=e.parent.inlineContent?new Gt(e):nf(e.node(0),e.parent,e.pos,e.index(),t,n);if(s)return s;for(let a=e.depth-1;a>=0;a--){let i=t<0?nf(e.node(0),e.node(a),e.before(a+1),e.index(a),t,n):nf(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,t,n);if(i)return i}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new ci(e.node(0))}static atStart(e){return nf(e,e,0,0,1)||new ci(e)}static atEnd(e){return nf(e,e,e.content.size,e.childCount,-1)||new ci(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=g4[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in g4)throw new RangeError("Duplicate use of selection JSON ID "+e);return g4[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Gt.between(this.$anchor,this.$head).getBookmark()}}nr.prototype.visible=!0;class Uue{constructor(e,t){this.$from=e,this.$to=t}}let B9=!1;function z9(r){!B9&&!r.parent.inlineContent&&(B9=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}class Gt extends nr{constructor(e,t=e){z9(e),z9(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return nr.near(n);let s=e.resolve(t.map(this.anchor));return new Gt(s.parent.inlineContent?s:n,n)}replace(e,t=Nt.empty){if(super.replace(e,t),t==Nt.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof Gt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new j2(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Gt(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let s=e.resolve(t);return new this(s,n==t?s:e.resolve(n))}static between(e,t,n){let s=e.pos-t.pos;if((!n||s)&&(n=s>=0?1:-1),!t.parent.inlineContent){let a=nr.findFrom(t,n,!0)||nr.findFrom(t,-n,!0);if(a)t=a.$head;else return nr.near(t,n)}return e.parent.inlineContent||(s==0?e=t:(e=(nr.findFrom(e,-n,!0)||nr.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=s<0&&(e=t))),new Gt(e,t)}}nr.jsonID("text",Gt);class j2{constructor(e,t){this.anchor=e,this.head=t}map(e){return new j2(e.map(this.anchor),e.map(this.head))}resolve(e){return Gt.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ft extends nr{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:s}=t.mapResult(this.anchor),a=e.resolve(s);return n?nr.near(a):new Ft(a)}content(){return new Nt(tt.from(this.node),0,0)}eq(e){return e instanceof Ft&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new uE(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ft(e.resolve(t.anchor))}static create(e,t){return new Ft(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ft.prototype.visible=!1;nr.jsonID("node",Ft);class uE{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new j2(n,n):new uE(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&Ft.isSelectable(n)?new Ft(t):nr.near(t)}}class ci extends nr{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Nt.empty){if(t==Nt.empty){e.delete(0,e.doc.content.size);let n=nr.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new ci(e)}map(e){return new ci(e)}eq(e){return e instanceof ci}getBookmark(){return $ue}}nr.jsonID("all",ci);const $ue={map(){return this},resolve(r){return new ci(r)}};function nf(r,e,t,n,s,a=!1){if(e.inlineContent)return Gt.create(r,t);for(let i=n-(s>0?0:1);s>0?i<e.childCount:i>=0;i+=s){let o=e.child(i);if(o.isAtom){if(!a&&Ft.isSelectable(o))return Ft.create(r,t-(s<0?o.nodeSize:0))}else{let c=nf(r,o,t+s,s<0?o.childCount:0,s,a);if(c)return c}t+=o.nodeSize*s}return null}function H9(r,e,t){let n=r.steps.length-1;if(n<e)return;let s=r.steps[n];if(!(s instanceof vs||s instanceof ws))return;let a=r.mapping.maps[n],i;a.forEach((o,c,d,u)=>{i==null&&(i=u)}),r.setSelection(nr.near(r.doc.resolve(i),t))}const U9=1,$9=2,V9=4;class Vue extends VB{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|U9)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&U9)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=$9,this}ensureMarks(e){return Zr.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&$9)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Zr.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let s=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(n==null&&(n=t),n=n??t,!e)return this.deleteRange(t,n);let a=this.storedMarks;if(!a){let i=this.doc.resolve(t);a=n==t?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,s.text(e,a)),this.selection.empty||this.setSelection(nr.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=V9,this}get scrolledIntoView(){return(this.updated&V9)>0}}function W9(r,e){return!e||!r?r:r.bind(e)}class Qg{constructor(e,t,n){this.name=e,this.init=W9(t.init,n),this.apply=W9(t.apply,n)}}const Wue=[new Qg("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new Qg("selection",{init(r,e){return r.selection||nr.atStart(e.doc)},apply(r){return r.selection}}),new Qg("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,t,n){return n.selection.$cursor?r.storedMarks:null}}),new Qg("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}})];class m4{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Wue.slice(),t&&t.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Qg(n.key,n.spec.state,n))})}}class Nf{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let s=this.config.plugins[n];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),s=null;for(;;){let a=!1;for(let i=0;i<this.config.plugins.length;i++){let o=this.config.plugins[i];if(o.spec.appendTransaction){let c=s?s[i].n:0,d=s?s[i].state:this,u=c<t.length&&o.spec.appendTransaction.call(o,c?t.slice(c):t,d,n);if(u&&n.filterTransaction(u,i)){if(u.setMeta("appendedTransaction",e),!s){s=[];for(let h=0;h<this.config.plugins.length;h++)s.push(h<i?{state:n,n:t.length}:{state:this,n:0})}t.push(u),n=n.applyInner(u),a=!0}s&&(s[i]={state:n,n:t.length})}}if(!a)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Nf(this.config),n=this.config.fields;for(let s=0;s<n.length;s++){let a=n[s];t[a.name]=a.apply(e,this[a.name],this,t)}return t}get tr(){return new Vue(this)}static create(e){let t=new m4(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Nf(t);for(let s=0;s<t.fields.length;s++)n[t.fields[s].name]=t.fields[s].init(e,n);return n}reconfigure(e){let t=new m4(this.schema,e.plugins),n=t.fields,s=new Nf(t);for(let a=0;a<n.length;a++){let i=n[a].name;s[i]=this.hasOwnProperty(i)?this[i]:n[a].init(e,s)}return s}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[n],a=s.spec.state;a&&a.toJSON&&(t[n]=a.toJSON.call(s,this[s.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new m4(e.schema,e.plugins),a=new Nf(s);return s.fields.forEach(i=>{if(i.name=="doc")a.doc=ud.fromJSON(e.schema,t.doc);else if(i.name=="selection")a.selection=nr.fromJSON(a.doc,t.selection);else if(i.name=="storedMarks")t.storedMarks&&(a.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let o in n){let c=n[o],d=c.spec.state;if(c.key==i.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(t,o)){a[i.name]=d.fromJSON.call(c,e,t[o],a);return}}a[i.name]=i.init(e,a)}}),a}}function WB(r,e,t){for(let n in r){let s=r[n];s instanceof Function?s=s.bind(e):n=="handleDOMEvents"&&(s=WB(s,e,{})),t[n]=s}return t}class Ln{constructor(e){this.spec=e,this.props={},e.props&&WB(e.props,this,this.props),this.key=e.key?e.key.key:qB("plugin")}getState(e){return e[this.key]}}const x4=Object.create(null);function qB(r){return r in x4?r+"$"+ ++x4[r]:(x4[r]=0,r+"$")}class Cs{constructor(e="key"){this.key=qB(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ds=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},xp=function(r){let e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e};let NC=null;const Ll=function(r,e,t){let n=NC||(NC=document.createRange());return n.setEnd(r,t??r.nodeValue.length),n.setStart(r,e||0),n},que=function(){NC=null},nh=function(r,e,t,n){return t&&(q9(r,e,t,n,-1)||q9(r,e,t,n,1))},Yue=/^(img|br|input|textarea|hr)$/i;function q9(r,e,t,n,s){for(var a;;){if(r==t&&e==n)return!0;if(e==(s<0?0:zi(r))){let i=r.parentNode;if(!i||i.nodeType!=1||Y0(r)||Yue.test(r.nodeName)||r.contentEditable=="false")return!1;e=Ds(r)+(s<0?0:1),r=i}else if(r.nodeType==1){let i=r.childNodes[e+(s<0?-1:0)];if(i.nodeType==1&&i.contentEditable=="false")if(!((a=i.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)e+=s;else return!1;else r=i,e=s<0?zi(r):0}else return!1}}function zi(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Gue(r,e){for(;;){if(r.nodeType==3&&e)return r;if(r.nodeType==1&&e>0){if(r.contentEditable=="false")return null;r=r.childNodes[e-1],e=zi(r)}else if(r.parentNode&&!Y0(r))e=Ds(r),r=r.parentNode;else return null}}function Xue(r,e){for(;;){if(r.nodeType==3&&e<r.nodeValue.length)return r;if(r.nodeType==1&&e<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[e],e=0}else if(r.parentNode&&!Y0(r))e=Ds(r)+1,r=r.parentNode;else return null}}function Zue(r,e,t){for(let n=e==0,s=e==zi(r);n||s;){if(r==t)return!0;let a=Ds(r);if(r=r.parentNode,!r)return!1;n=n&&a==0,s=s&&a==zi(r)}}function Y0(r){let e;for(let t=r;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}const A2=function(r){return r.focusNode&&nh(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function uu(r,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=r,t.key=t.code=e,t}function Jue(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Kue(r,e,t){if(r.caretPositionFromPoint)try{let n=r.caretPositionFromPoint(e,t);if(n)return{node:n.offsetNode,offset:Math.min(zi(n.offsetNode),n.offset)}}catch{}if(r.caretRangeFromPoint){let n=r.caretRangeFromPoint(e,t);if(n)return{node:n.startContainer,offset:Math.min(zi(n.startContainer),n.startOffset)}}}const il=typeof navigator<"u"?navigator:null,Y9=typeof document<"u"?document:null,Dd=il&&il.userAgent||"",EC=/Edge\/(\d+)/.exec(Dd),YB=/MSIE \d/.exec(Dd),_C=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Dd),Ia=!!(YB||_C||EC),fd=YB?document.documentMode:_C?+_C[1]:EC?+EC[1]:0,No=!Ia&&/gecko\/(\d+)/i.test(Dd);No&&+(/Firefox\/(\d+)/.exec(Dd)||[0,0])[1];const jC=!Ia&&/Chrome\/(\d+)/.exec(Dd),Ks=!!jC,GB=jC?+jC[1]:0,fa=!Ia&&!!il&&/Apple Computer/.test(il.vendor),vp=fa&&(/Mobile\/\w+/.test(Dd)||!!il&&il.maxTouchPoints>2),Ri=vp||(il?/Mac/.test(il.platform):!1),Que=il?/Win/.test(il.platform):!1,zl=/Android \d/.test(Dd),G0=!!Y9&&"webkitFontSmoothing"in Y9.documentElement.style,ehe=G0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function the(r){let e=r.defaultView&&r.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function Sl(r,e){return typeof r=="number"?r:r[e]}function rhe(r){let e=r.getBoundingClientRect(),t=e.width/r.offsetWidth||1,n=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*t,top:e.top,bottom:e.top+r.clientHeight*n}}function G9(r,e,t){let n=r.someProp("scrollThreshold")||0,s=r.someProp("scrollMargin")||5,a=r.dom.ownerDocument;for(let i=t||r.dom;i;){if(i.nodeType!=1){i=xp(i);continue}let o=i,c=o==a.body,d=c?the(a):rhe(o),u=0,h=0;if(e.top<d.top+Sl(n,"top")?h=-(d.top-e.top+Sl(s,"top")):e.bottom>d.bottom-Sl(n,"bottom")&&(h=e.bottom-e.top>d.bottom-d.top?e.top+Sl(s,"top")-d.top:e.bottom-d.bottom+Sl(s,"bottom")),e.left<d.left+Sl(n,"left")?u=-(d.left-e.left+Sl(s,"left")):e.right>d.right-Sl(n,"right")&&(u=e.right-d.right+Sl(s,"right")),u||h)if(c)a.defaultView.scrollBy(u,h);else{let p=o.scrollLeft,g=o.scrollTop;h&&(o.scrollTop+=h),u&&(o.scrollLeft+=u);let m=o.scrollLeft-p,v=o.scrollTop-g;e={left:e.left-m,top:e.top-v,right:e.right-m,bottom:e.bottom-v}}let f=c?"fixed":getComputedStyle(i).position;if(/^(fixed|sticky)$/.test(f))break;i=f=="absolute"?i.offsetParent:xp(i)}}function nhe(r){let e=r.dom.getBoundingClientRect(),t=Math.max(0,e.top),n,s;for(let a=(e.left+e.right)/2,i=t+1;i<Math.min(innerHeight,e.bottom);i+=5){let o=r.root.elementFromPoint(a,i);if(!o||o==r.dom||!r.dom.contains(o))continue;let c=o.getBoundingClientRect();if(c.top>=t-20){n=o,s=c.top;break}}return{refDOM:n,refTop:s,stack:XB(r.dom)}}function XB(r){let e=[],t=r.ownerDocument;for(let n=r;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),r!=t);n=xp(n));return e}function she({refDOM:r,refTop:e,stack:t}){let n=r?r.getBoundingClientRect().top:0;ZB(t,n==0?0:n-e)}function ZB(r,e){for(let t=0;t<r.length;t++){let{dom:n,top:s,left:a}=r[t];n.scrollTop!=s+e&&(n.scrollTop=s+e),n.scrollLeft!=a&&(n.scrollLeft=a)}}let Xh=null;function ahe(r){if(r.setActive)return r.setActive();if(Xh)return r.focus(Xh);let e=XB(r);r.focus(Xh==null?{get preventScroll(){return Xh={preventScroll:!0},!0}}:void 0),Xh||(Xh=!1,ZB(e,0))}function JB(r,e){let t,n=2e8,s,a=0,i=e.top,o=e.top,c,d;for(let u=r.firstChild,h=0;u;u=u.nextSibling,h++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Ll(u).getClientRects();else continue;for(let p=0;p<f.length;p++){let g=f[p];if(g.top<=i&&g.bottom>=o){i=Math.max(g.bottom,i),o=Math.min(g.top,o);let m=g.left>e.left?g.left-e.left:g.right<e.left?e.left-g.right:0;if(m<n){t=u,n=m,s=m&&t.nodeType==3?{left:g.right<e.left?g.right:g.left,top:e.top}:e,u.nodeType==1&&m&&(a=h+(e.left>=(g.left+g.right)/2?1:0));continue}}else g.top>e.top&&!c&&g.left<=e.left&&g.right>=e.left&&(c=u,d={left:Math.max(g.left,Math.min(g.right,e.left)),top:g.top});!t&&(e.left>=g.right&&e.top>=g.top||e.left>=g.left&&e.top>=g.bottom)&&(a=h+1)}}return!t&&c&&(t=c,s=d,n=0),t&&t.nodeType==3?ihe(t,s):!t||n&&t.nodeType==1?{node:r,offset:a}:JB(t,s)}function ihe(r,e){let t=r.nodeValue.length,n=document.createRange();for(let s=0;s<t;s++){n.setEnd(r,s+1),n.setStart(r,s);let a=Tc(n,1);if(a.top!=a.bottom&&hE(e,a))return{node:r,offset:s+(e.left>=(a.left+a.right)/2?1:0)}}return{node:r,offset:0}}function hE(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function ohe(r,e){let t=r.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<r.getBoundingClientRect().left?t:r}function lhe(r,e,t){let{node:n,offset:s}=JB(e,t),a=-1;if(n.nodeType==1&&!n.firstChild){let i=n.getBoundingClientRect();a=i.left!=i.right&&t.left>(i.left+i.right)/2?1:-1}return r.docView.posFromDOM(n,s,a)}function che(r,e,t,n){let s=-1;for(let a=e,i=!1;a!=r.dom;){let o=r.docView.nearestDesc(a,!0),c;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((c=o.dom.getBoundingClientRect()).width||c.height)&&(o.node.isBlock&&o.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(o.dom.nodeName)&&(!i&&c.left>n.left||c.top>n.top?s=o.posBefore:(!i&&c.right<n.left||c.bottom<n.top)&&(s=o.posAfter),i=!0),!o.contentDOM&&s<0&&!o.node.isText))return(o.node.isBlock?n.top<(c.top+c.bottom)/2:n.left<(c.left+c.right)/2)?o.posBefore:o.posAfter;a=o.dom.parentNode}return s>-1?s:r.docView.posFromDOM(e,t,-1)}function KB(r,e,t){let n=r.childNodes.length;if(n&&t.top<t.bottom)for(let s=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-t.top)/(t.bottom-t.top))-2)),a=s;;){let i=r.childNodes[a];if(i.nodeType==1){let o=i.getClientRects();for(let c=0;c<o.length;c++){let d=o[c];if(hE(e,d))return KB(i,e,d)}}if((a=(a+1)%n)==s)break}return r}function dhe(r,e){let t=r.dom.ownerDocument,n,s=0,a=Kue(t,e.left,e.top);a&&({node:n,offset:s}=a);let i=(r.root.elementFromPoint?r.root:t).elementFromPoint(e.left,e.top),o;if(!i||!r.dom.contains(i.nodeType!=1?i.parentNode:i)){let d=r.dom.getBoundingClientRect();if(!hE(e,d)||(i=KB(r.dom,e,d),!i))return null}if(fa)for(let d=i;n&&d;d=xp(d))d.draggable&&(n=void 0);if(i=ohe(i,e),n){if(No&&n.nodeType==1&&(s=Math.min(s,n.childNodes.length),s<n.childNodes.length)){let u=n.childNodes[s],h;u.nodeName=="IMG"&&(h=u.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&s++}let d;G0&&s&&n.nodeType==1&&(d=n.childNodes[s-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&s--,n==r.dom&&s==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?o=r.state.doc.content.size:(s==0||n.nodeType!=1||n.childNodes[s-1].nodeName!="BR")&&(o=che(r,n,s,e))}o==null&&(o=lhe(r,i,e));let c=r.docView.nearestDesc(i,!0);return{pos:o,inside:c?c.posAtStart-c.border:-1}}function X9(r){return r.top<r.bottom||r.left<r.right}function Tc(r,e){let t=r.getClientRects();if(t.length){let n=t[e<0?0:t.length-1];if(X9(n))return n}return Array.prototype.find.call(t,X9)||r.getBoundingClientRect()}const uhe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function QB(r,e,t){let{node:n,offset:s,atom:a}=r.docView.domFromPos(e,t<0?-1:1),i=G0||No;if(n.nodeType==3)if(i&&(uhe.test(n.nodeValue)||(t<0?!s:s==n.nodeValue.length))){let c=Tc(Ll(n,s,s),t);if(No&&s&&/\s/.test(n.nodeValue[s-1])&&s<n.nodeValue.length){let d=Tc(Ll(n,s-1,s-1),-1);if(d.top==c.top){let u=Tc(Ll(n,s,s+1),-1);if(u.top!=c.top)return Ig(u,u.left<d.left)}}return c}else{let c=s,d=s,u=t<0?1:-1;return t<0&&!s?(d++,u=-1):t>=0&&s==n.nodeValue.length?(c--,u=1):t<0?c--:d++,Ig(Tc(Ll(n,c,d),u),u<0)}if(!r.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&s&&(t<0||s==zi(n))){let c=n.childNodes[s-1];if(c.nodeType==1)return v4(c.getBoundingClientRect(),!1)}if(a==null&&s<zi(n)){let c=n.childNodes[s];if(c.nodeType==1)return v4(c.getBoundingClientRect(),!0)}return v4(n.getBoundingClientRect(),t>=0)}if(a==null&&s&&(t<0||s==zi(n))){let c=n.childNodes[s-1],d=c.nodeType==3?Ll(c,zi(c)-(i?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(d)return Ig(Tc(d,1),!1)}if(a==null&&s<zi(n)){let c=n.childNodes[s];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let d=c?c.nodeType==3?Ll(c,0,i?0:1):c.nodeType==1?c:null:null;if(d)return Ig(Tc(d,-1),!0)}return Ig(Tc(n.nodeType==3?Ll(n):n,-t),t>=0)}function Ig(r,e){if(r.width==0)return r;let t=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:t,right:t}}function v4(r,e){if(r.height==0)return r;let t=e?r.top:r.bottom;return{top:t,bottom:t,left:r.left,right:r.right}}function ez(r,e,t){let n=r.state,s=r.root.activeElement;n!=e&&r.updateState(e),s!=r.dom&&r.focus();try{return t()}finally{n!=e&&r.updateState(n),s!=r.dom&&s&&s.focus()}}function hhe(r,e,t){let n=e.selection,s=t=="up"?n.$from:n.$to;return ez(r,e,()=>{let{node:a}=r.docView.domFromPos(s.pos,t=="up"?-1:1);for(;;){let o=r.docView.nearestDesc(a,!0);if(!o)break;if(o.node.isBlock){a=o.contentDOM||o.dom;break}a=o.dom.parentNode}let i=QB(r,s.pos,1);for(let o=a.firstChild;o;o=o.nextSibling){let c;if(o.nodeType==1)c=o.getClientRects();else if(o.nodeType==3)c=Ll(o,0,o.nodeValue.length).getClientRects();else continue;for(let d=0;d<c.length;d++){let u=c[d];if(u.bottom>u.top+1&&(t=="up"?i.top-u.top>(u.bottom-i.top)*2:u.bottom-i.bottom>(i.bottom-u.top)*2))return!1}}return!0})}const fhe=/[\u0590-\u08ac]/;function phe(r,e,t){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let s=n.parentOffset,a=!s,i=s==n.parent.content.size,o=r.domSelection();return o?!fhe.test(n.parent.textContent)||!o.modify?t=="left"||t=="backward"?a:i:ez(r,e,()=>{let{focusNode:c,focusOffset:d,anchorNode:u,anchorOffset:h}=r.domSelectionRange(),f=o.caretBidiLevel;o.modify("move",t,"character");let p=n.depth?r.docView.domAfterPos(n.before()):r.dom,{focusNode:g,focusOffset:m}=r.domSelectionRange(),v=g&&!p.contains(g.nodeType==1?g:g.parentNode)||c==g&&d==m;try{o.collapse(u,h),c&&(c!=u||d!=h)&&o.extend&&o.extend(c,d)}catch{}return f!=null&&(o.caretBidiLevel=f),v}):n.pos==n.start()||n.pos==n.end()}let Z9=null,J9=null,K9=!1;function ghe(r,e,t){return Z9==e&&J9==t?K9:(Z9=e,J9=t,K9=t=="up"||t=="down"?hhe(r,e,t):phe(r,e,t))}const qi=0,Q9=1,Nu=2,ol=3;class X0{constructor(e,t,n,s){this.parent=e,this.children=t,this.dom=n,this.contentDOM=s,this.dirty=qi,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let s=this.children[t];if(s==e)return n;n+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let a,i;if(e==this.contentDOM)a=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((i=a.pmViewDesc)&&i.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(i)+i.size:this.posAtStart}else{let a,i;if(e==this.contentDOM)a=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((i=a.pmViewDesc)&&i.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(i):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=t>Ds(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let a=e;;a=a.parentNode){if(a==this.dom){s=!1;break}if(a.previousSibling)break}if(s==null&&t==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){s=!0;break}if(a.nextSibling)break}}return s??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,s=e;s;s=s.parentNode){let a=this.getDesc(s),i;if(a&&(!t||a.node))if(n&&(i=a.nodeDOM)&&!(i.nodeType==1?i.contains(e.nodeType==1?e:e.parentNode):i==e))n=!1;else return a}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let s=e;s;s=s.parentNode){let a=this.getDesc(s);if(a)return a.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let s=this.children[t],a=n+s.size;if(n==e&&a!=n){for(;!s.border&&s.children.length;)for(let i=0;i<s.children.length;i++){let o=s.children[i];if(o.size){s=o;break}}return s}if(e<a)return s.descAt(e-n-s.border);n=a}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,s=0;for(let a=0;n<this.children.length;n++){let i=this.children[n],o=a+i.size;if(o>e||i instanceof rz){s=e-a;break}a=o}if(s)return this.children[n].domFromPos(s-this.children[n].border,t);for(let a;n&&!(a=this.children[n-1]).size&&a instanceof tz&&a.side>=0;n--);if(t<=0){let a,i=!0;for(;a=n?this.children[n-1]:null,!(!a||a.dom.parentNode==this.contentDOM);n--,i=!1);return a&&t&&i&&!a.border&&!a.domAtom?a.domFromPos(a.size,t):{node:this.contentDOM,offset:a?Ds(a.dom)+1:0}}else{let a,i=!0;for(;a=n<this.children.length?this.children[n]:null,!(!a||a.dom.parentNode==this.contentDOM);n++,i=!1);return a&&i&&!a.border&&!a.domAtom?a.domFromPos(0,t):{node:this.contentDOM,offset:a?Ds(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,a=-1;for(let i=n,o=0;;o++){let c=this.children[o],d=i+c.size;if(s==-1&&e<=d){let u=i+c.border;if(e>=u&&t<=d-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,t,u);e=i;for(let h=o;h>0;h--){let f=this.children[h-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){s=Ds(f.dom)+1;break}e-=f.size}s==-1&&(s=0)}if(s>-1&&(d>t||o==this.children.length-1)){t=d;for(let u=o+1;u<this.children.length;u++){let h=this.children[u];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){a=Ds(h.dom);break}t+=h.size}a==-1&&(a=this.contentDOM.childNodes.length);break}i=d}return{node:this.contentDOM,from:e,to:t,fromOffset:s,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(t.nodeType!=1||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,s=!1){let a=Math.min(e,t),i=Math.max(e,t);for(let p=0,g=0;p<this.children.length;p++){let m=this.children[p],v=g+m.size;if(a>g&&i<v)return m.setSelection(e-g-m.border,t-g-m.border,n,s);g=v}let o=this.domFromPos(e,e?-1:1),c=t==e?o:this.domFromPos(t,t?-1:1),d=n.root.getSelection(),u=n.domSelectionRange(),h=!1;if((No||fa)&&e==t){let{node:p,offset:g}=o;if(p.nodeType==3){if(h=!!(g&&p.nodeValue[g-1]==`
`),h&&g==p.nodeValue.length)for(let m=p,v;m;m=m.parentNode){if(v=m.nextSibling){v.nodeName=="BR"&&(o=c={node:v.parentNode,offset:Ds(v)+1});break}let x=m.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let m=p.childNodes[g-1];h=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(No&&u.focusNode&&u.focusNode!=c.node&&u.focusNode.nodeType==1){let p=u.focusNode.childNodes[u.focusOffset];p&&p.contentEditable=="false"&&(s=!0)}if(!(s||h&&fa)&&nh(o.node,o.offset,u.anchorNode,u.anchorOffset)&&nh(c.node,c.offset,u.focusNode,u.focusOffset))return;let f=!1;if((d.extend||e==t)&&!h){d.collapse(o.node,o.offset);try{e!=t&&d.extend(c.node,c.offset),f=!0}catch{}}if(!f){if(e>t){let g=o;o=c,c=g}let p=document.createRange();p.setEnd(c.node,c.offset),p.setStart(o.node,o.offset),d.removeAllRanges(),d.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,s=0;s<this.children.length;s++){let a=this.children[s],i=n+a.size;if(n==i?e<=i&&t>=n:e<i&&t>n){let o=n+a.border,c=i-a.border;if(e>=o&&t<=c){this.dirty=e==n||t==i?Nu:Q9,e==o&&t==c&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=ol:a.markDirty(e-o,t-o);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?Nu:ol}n=i}this.dirty=Nu}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=e==1?Nu:Q9;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class tz extends X0{constructor(e,t,n,s){let a,i=t.type.toDOM;if(typeof i=="function"&&(i=i(n,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)})),!t.type.spec.raw){if(i.nodeType!=1){let o=document.createElement("span");o.appendChild(i),i=o}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=t,this.widget=t,a=this}matchesWidget(e){return this.dirty==qi&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class mhe extends X0{constructor(e,t,n,s){super(e,[],t,null),this.textDOM=n,this.text=s}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class sh extends X0{constructor(e,t,n,s,a){super(e,[],n,s),this.mark=t,this.spec=a}static create(e,t,n,s){let a=s.nodeViews[t.type.name],i=a&&a(t,s,n);return(!i||!i.dom)&&(i=xh.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new sh(e,t,i.dom,i.contentDOM||i.dom,i)}parseRule(){return this.dirty&ol||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ol&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=qi){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=qi}}slice(e,t,n){let s=sh.create(this.parent,this.mark,!0,n),a=this.children,i=this.size;t<i&&(a=TC(a,t,i,n)),e>0&&(a=TC(a,0,e,n));for(let o=0;o<a.length;o++)a[o].parent=s;return s.children=a,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class pd extends X0{constructor(e,t,n,s,a,i,o,c,d){super(e,[],a,i),this.node=t,this.outerDeco=n,this.innerDeco=s,this.nodeDOM=o}static create(e,t,n,s,a,i){let o=a.nodeViews[t.type.name],c,d=o&&o(t,a,()=>{if(!c)return i;if(c.parent)return c.parent.posBeforeChild(c)},n,s),u=d&&d.dom,h=d&&d.contentDOM;if(t.isText){if(!u)u=document.createTextNode(t.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:h}=xh.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!h&&!t.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),t.type.spec.draggable&&(u.draggable=!0));let f=u;return u=az(u,n,t),d?c=new xhe(e,t,n,s,u,h||null,f,d,a,i+1):t.isText?new T2(e,t,n,s,u,f,a):new pd(e,t,n,s,u,h||null,f,a,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>tt.empty)}return e}matchesNode(e,t,n){return this.dirty==qi&&e.eq(this.node)&&qy(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,s=t,a=e.composing?this.localCompositionInfo(e,t):null,i=a&&a.pos>-1?a:null,o=a&&a.pos<0,c=new yhe(this,i&&i.node,e);khe(this.node,this.innerDeco,(d,u,h)=>{d.spec.marks?c.syncToMarks(d.spec.marks,n,e):d.type.side>=0&&!h&&c.syncToMarks(u==this.node.childCount?Zr.none:this.node.child(u).marks,n,e),c.placeWidget(d,e,s)},(d,u,h,f)=>{c.syncToMarks(d.marks,n,e);let p;c.findNodeMatch(d,u,h,f)||o&&e.state.selection.from>s&&e.state.selection.to<s+d.nodeSize&&(p=c.findIndexWithChild(a.node))>-1&&c.updateNodeAt(d,u,h,p,e)||c.updateNextNode(d,u,h,e,f,s)||c.addNode(d,u,h,e,s),s+=d.nodeSize}),c.syncToMarks([],n,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Nu)&&(i&&this.protectLocalComposition(e,i),nz(this.contentDOM,this.children,e),vp&&Che(this.dom))}localCompositionInfo(e,t){let{from:n,to:s}=e.state.selection;if(!(e.state.selection instanceof Gt)||n<t||s>t+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let i=a.nodeValue,o=She(this.node.content,i,n-t,s-t);return o<0?null:{node:a,pos:o,text:i}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:s}){if(this.getDesc(t))return;let a=t;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let i=new mhe(this,a,t,s);e.input.compositionNodes.push(i),this.children=TC(this.children,n,n+s.length,e,i)}update(e,t,n,s){return this.dirty==ol||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,n,s),!0)}updateInner(e,t,n,s){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=qi}updateOuterDeco(e){if(qy(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=sz(this.dom,this.nodeDOM,AC(this.outerDeco,this.node,t),AC(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function eA(r,e,t,n,s){az(n,e,r);let a=new pd(void 0,r,e,t,n,n,n,s,0);return a.contentDOM&&a.updateChildren(s,0),a}class T2 extends pd{constructor(e,t,n,s,a,i,o){super(e,t,n,s,a,null,i,o,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,s){return this.dirty==ol||this.dirty!=qi&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=qi||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=qi,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,n){let s=this.node.cut(e,t),a=document.createTextNode(s.text);return new T2(this.parent,s,this.outerDeco,this.innerDeco,a,a,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=ol)}get domAtom(){return!1}isText(e){return this.node.text==e}}class rz extends X0{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==qi&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class xhe extends pd{constructor(e,t,n,s,a,i,o,c,d,u){super(e,t,n,s,a,i,o,d,u),this.spec=c}update(e,t,n,s){if(this.dirty==ol)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,t,n);return a&&this.updateInner(e,t,n,s),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,n,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,s){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function nz(r,e,t){let n=r.firstChild,s=!1;for(let a=0;a<e.length;a++){let i=e[a],o=i.dom;if(o.parentNode==r){for(;o!=n;)n=tA(n),s=!0;n=n.nextSibling}else s=!0,r.insertBefore(o,n);if(i instanceof sh){let c=n?n.previousSibling:r.lastChild;nz(i.contentDOM,i.children,t),n=c?c.nextSibling:r.firstChild}}for(;n;)n=tA(n),s=!0;s&&t.trackWrites==r&&(t.trackWrites=null)}const vm=function(r){r&&(this.nodeName=r)};vm.prototype=Object.create(null);const Eu=[new vm];function AC(r,e,t){if(r.length==0)return Eu;let n=t?Eu[0]:new vm,s=[n];for(let a=0;a<r.length;a++){let i=r[a].type.attrs;if(i){i.nodeName&&s.push(n=new vm(i.nodeName));for(let o in i){let c=i[o];c!=null&&(t&&s.length==1&&s.push(n=new vm(e.isInline?"span":"div")),o=="class"?n.class=(n.class?n.class+" ":"")+c:o=="style"?n.style=(n.style?n.style+";":"")+c:o!="nodeName"&&(n[o]=c))}}}return s}function sz(r,e,t,n){if(t==Eu&&n==Eu)return e;let s=e;for(let a=0;a<n.length;a++){let i=n[a],o=t[a];if(a){let c;o&&o.nodeName==i.nodeName&&s!=r&&(c=s.parentNode)&&c.nodeName.toLowerCase()==i.nodeName||(c=document.createElement(i.nodeName),c.pmIsDeco=!0,c.appendChild(s),o=Eu[0]),s=c}vhe(s,o||Eu[0],i)}return s}function vhe(r,e,t){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in t)&&r.removeAttribute(n);for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&t[n]!=e[n]&&r.setAttribute(n,t[n]);if(e.class!=t.class){let n=e.class?e.class.split(" ").filter(Boolean):[],s=t.class?t.class.split(" ").filter(Boolean):[];for(let a=0;a<n.length;a++)s.indexOf(n[a])==-1&&r.classList.remove(n[a]);for(let a=0;a<s.length;a++)n.indexOf(s[a])==-1&&r.classList.add(s[a]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=t.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=n.exec(e.style);)r.style.removeProperty(s[1])}t.style&&(r.style.cssText+=t.style)}}function az(r,e,t){return sz(r,r,Eu,AC(e,t,r.nodeType!=1))}function qy(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].type.eq(e[t].type))return!1;return!0}function tA(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class yhe{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=bhe(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let s=0,a=this.stack.length>>1,i=Math.min(a,e.length);for(;s<i&&(s==a-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<a;)this.destroyRest(),this.top.dirty=qi,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let o=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let d=this.top.children[c];if(d.matchesMark(e[a])&&!this.isLocked(d.dom)){o=c;break}}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let c=sh.create(this.top,e[a],t,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,a++}}findNodeMatch(e,t,n,s){let a=-1,i;if(s>=this.preMatch.index&&(i=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&i.matchesNode(e,t,n))a=this.top.children.indexOf(i,this.index);else for(let o=this.index,c=Math.min(this.top.children.length,o+5);o<c;o++){let d=this.top.children[o];if(d.matchesNode(e,t,n)&&!this.preMatch.matched.has(d)){a=o;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,t,n,s,a){let i=this.top.children[s];return i.dirty==ol&&i.dom==i.contentDOM&&(i.dirty=Nu),i.update(e,t,n,a)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==n)return s}return-1}e=t}}updateNextNode(e,t,n,s,a,i){for(let o=this.index;o<this.top.children.length;o++){let c=this.top.children[o];if(c instanceof pd){let d=this.preMatch.matched.get(c);if(d!=null&&d!=a)return!1;let u=c.dom,h,f=this.isLocked(u)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=ol&&qy(t,c.outerDeco));if(!f&&c.update(e,t,n,s))return this.destroyBetween(this.index,o),c.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(h=this.recreateWrapper(c,e,t,n,s,i)))return this.destroyBetween(this.index,o),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=Nu,h.updateChildren(s,i+1),h.dirty=qi),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,s,a,i){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!qy(n,e.outerDeco)||!s.eq(e.innerDeco))return null;let o=pd.create(this.top,t,n,s,a,i);if(o.contentDOM){o.children=e.children,e.children=[];for(let c of o.children)c.parent=o}return e.destroy(),o}addNode(e,t,n,s,a){let i=pd.create(this.top,e,t,n,s,a);i.contentDOM&&i.updateChildren(s,a+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(e,t,n){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let a=new tz(this.top,e,t,n);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof sh;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof T2)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((fa||Ks)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let s=new rz(this.top,[],n,null);t!=this.top?t.children.push(s):t.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function bhe(r,e){let t=e,n=t.children.length,s=r.childCount,a=new Map,i=[];e:for(;s>0;){let o;for(;;)if(n){let d=t.children[n-1];if(d instanceof sh)t=d,n=d.children.length;else{o=d,n--;break}}else{if(t==e)break e;n=t.parent.children.indexOf(t),t=t.parent}let c=o.node;if(c){if(c!=r.child(s-1))break;--s,a.set(o,s),i.push(o)}}return{index:s,matched:a,matches:i.reverse()}}function whe(r,e){return r.type.side-e.type.side}function khe(r,e,t,n){let s=e.locals(r),a=0;if(s.length==0){for(let d=0;d<r.childCount;d++){let u=r.child(d);n(u,s,e.forChild(a,u),d),a+=u.nodeSize}return}let i=0,o=[],c=null;for(let d=0;;){let u,h;for(;i<s.length&&s[i].to==a;){let v=s[i++];v.widget&&(u?(h||(h=[u])).push(v):u=v)}if(u)if(h){h.sort(whe);for(let v=0;v<h.length;v++)t(h[v],d,!!c)}else t(u,d,!!c);let f,p;if(c)p=-1,f=c,c=null;else if(d<r.childCount)p=d,f=r.child(d++);else break;for(let v=0;v<o.length;v++)o[v].to<=a&&o.splice(v--,1);for(;i<s.length&&s[i].from<=a&&s[i].to>a;)o.push(s[i++]);let g=a+f.nodeSize;if(f.isText){let v=g;i<s.length&&s[i].from<v&&(v=s[i].from);for(let x=0;x<o.length;x++)o[x].to<v&&(v=o[x].to);v<g&&(c=f.cut(v-a),f=f.cut(0,v-a),g=v,p=-1)}else for(;i<s.length&&s[i].to<g;)i++;let m=f.isInline&&!f.isLeaf?o.filter(v=>!v.inline):o.slice();n(f,m,e.forChild(a,f),p),a=g}}function Che(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function She(r,e,t,n){for(let s=0,a=0;s<r.childCount&&a<=n;){let i=r.child(s++),o=a;if(a+=i.nodeSize,!i.isText)continue;let c=i.text;for(;s<r.childCount;){let d=r.child(s++);if(a+=d.nodeSize,!d.isText)break;c+=d.text}if(a>=t){if(a>=n&&c.slice(n-e.length-o,n-o)==e)return n-e.length;let d=o<n?c.lastIndexOf(e,n-o-1):-1;if(d>=0&&d+e.length+o>=t)return o+d;if(t==n&&c.length>=n+e.length-o&&c.slice(n-o,n-o+e.length)==e)return n}}return-1}function TC(r,e,t,n,s){let a=[];for(let i=0,o=0;i<r.length;i++){let c=r[i],d=o,u=o+=c.size;d>=t||u<=e?a.push(c):(d<e&&a.push(c.slice(0,e-d,n)),s&&(a.push(s),s=void 0),u>t&&a.push(c.slice(t-d,c.size,n)))}return a}function fE(r,e=null){let t=r.domSelectionRange(),n=r.state.doc;if(!t.focusNode)return null;let s=r.docView.nearestDesc(t.focusNode),a=s&&s.size==0,i=r.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(i<0)return null;let o=n.resolve(i),c,d;if(A2(t)){for(c=i;s&&!s.node;)s=s.parent;let h=s.node;if(s&&h.isAtom&&Ft.isSelectable(h)&&s.parent&&!(h.isInline&&Zue(t.focusNode,t.focusOffset,s.dom))){let f=s.posBefore;d=new Ft(i==f?o:n.resolve(f))}}else{if(t instanceof r.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let h=i,f=i;for(let p=0;p<t.rangeCount;p++){let g=t.getRangeAt(p);h=Math.min(h,r.docView.posFromDOM(g.startContainer,g.startOffset,1)),f=Math.max(f,r.docView.posFromDOM(g.endContainer,g.endOffset,-1))}if(h<0)return null;[c,i]=f==r.state.selection.anchor?[f,h]:[h,f],o=n.resolve(i)}else c=r.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(c<0)return null}let u=n.resolve(c);if(!d){let h=e=="pointer"||r.state.selection.head<o.pos&&!a?1:-1;d=pE(r,u,o,h)}return d}function iz(r){return r.editable?r.hasFocus():lz(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function ql(r,e=!1){let t=r.state.selection;if(oz(r,t),!!iz(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&Ks){let n=r.domSelectionRange(),s=r.domObserver.currentSelection;if(n.anchorNode&&s.anchorNode&&nh(n.anchorNode,n.anchorOffset,s.anchorNode,s.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)Ehe(r);else{let{anchor:n,head:s}=t,a,i;rA&&!(t instanceof Gt)&&(t.$from.parent.inlineContent||(a=nA(r,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(i=nA(r,t.to))),r.docView.setSelection(n,s,r,e),rA&&(a&&sA(a),i&&sA(i)),t.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Nhe(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const rA=fa||Ks&&GB<63;function nA(r,e){let{node:t,offset:n}=r.docView.domFromPos(e,0),s=n<t.childNodes.length?t.childNodes[n]:null,a=n?t.childNodes[n-1]:null;if(fa&&s&&s.contentEditable=="false")return y4(s);if((!s||s.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(s)return y4(s);if(a)return y4(a)}}function y4(r){return r.contentEditable="true",fa&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function sA(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function Nhe(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let t=r.domSelectionRange(),n=t.anchorNode,s=t.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(t.anchorNode!=n||t.anchorOffset!=s)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!iz(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function Ehe(r){let e=r.domSelection(),t=document.createRange();if(!e)return;let n=r.cursorWrapper.dom,s=n.nodeName=="IMG";s?t.setStart(n.parentNode,Ds(n)+1):t.setStart(n,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!s&&!r.state.selection.visible&&Ia&&fd<=11&&(n.disabled=!0,n.disabled=!1)}function oz(r,e){if(e instanceof Ft){let t=r.docView.descAt(e.from);t!=r.lastSelectedViewDesc&&(aA(r),t&&t.selectNode(),r.lastSelectedViewDesc=t)}else aA(r)}function aA(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function pE(r,e,t,n){return r.someProp("createSelectionBetween",s=>s(r,e,t))||Gt.between(e,t,n)}function iA(r){return r.editable&&!r.hasFocus()?!1:lz(r)}function lz(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function _he(r){let e=r.docView.domFromPos(r.state.selection.anchor,0),t=r.domSelectionRange();return nh(e.node,e.offset,t.anchorNode,t.anchorOffset)}function PC(r,e){let{$anchor:t,$head:n}=r.selection,s=e>0?t.max(n):t.min(n),a=s.parent.inlineContent?s.depth?r.doc.resolve(e>0?s.after():s.before()):null:s;return a&&nr.findFrom(a,e)}function Mc(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function oA(r,e,t){let n=r.state.selection;if(n instanceof Gt)if(t.indexOf("s")>-1){let{$head:s}=n,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let i=r.state.doc.resolve(s.pos+a.nodeSize*(e<0?-1:1));return Mc(r,new Gt(n.$anchor,i))}else if(n.empty){if(r.endOfTextblock(e>0?"forward":"backward")){let s=PC(r.state,e);return s&&s instanceof Ft?Mc(r,s):!1}else if(!(Ri&&t.indexOf("m")>-1)){let s=n.$head,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,i;if(!a||a.isText)return!1;let o=e<0?s.pos-a.nodeSize:s.pos;return a.isAtom||(i=r.docView.descAt(o))&&!i.contentDOM?Ft.isSelectable(a)?Mc(r,new Ft(e<0?r.state.doc.resolve(s.pos-a.nodeSize):s)):G0?Mc(r,new Gt(r.state.doc.resolve(e<0?o:o+a.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Ft&&n.node.isInline)return Mc(r,new Gt(e>0?n.$to:n.$from));{let s=PC(r.state,e);return s?Mc(r,s):!1}}}function Yy(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function ym(r,e){let t=r.pmViewDesc;return t&&t.size==0&&(e<0||r.nextSibling||r.nodeName!="BR")}function Zh(r,e){return e<0?jhe(r):Ahe(r)}function jhe(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let s,a,i=!1;for(No&&t.nodeType==1&&n<Yy(t)&&ym(t.childNodes[n],-1)&&(i=!0);;)if(n>0){if(t.nodeType!=1)break;{let o=t.childNodes[n-1];if(ym(o,-1))s=t,a=--n;else if(o.nodeType==3)t=o,n=t.nodeValue.length;else break}}else{if(cz(t))break;{let o=t.previousSibling;for(;o&&ym(o,-1);)s=t.parentNode,a=Ds(o),o=o.previousSibling;if(o)t=o,n=Yy(t);else{if(t=t.parentNode,t==r.dom)break;n=0}}}i?LC(r,t,n):s&&LC(r,s,a)}function Ahe(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let s=Yy(t),a,i;for(;;)if(n<s){if(t.nodeType!=1)break;let o=t.childNodes[n];if(ym(o,1))a=t,i=++n;else break}else{if(cz(t))break;{let o=t.nextSibling;for(;o&&ym(o,1);)a=o.parentNode,i=Ds(o)+1,o=o.nextSibling;if(o)t=o,n=0,s=Yy(t);else{if(t=t.parentNode,t==r.dom)break;n=s=0}}}a&&LC(r,a,i)}function cz(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function The(r,e){for(;r&&e==r.childNodes.length&&!Y0(r);)e=Ds(r)+1,r=r.parentNode;for(;r&&e<r.childNodes.length;){let t=r.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=0}}function Phe(r,e){for(;r&&!e&&!Y0(r);)e=Ds(r),r=r.parentNode;for(;r&&e;){let t=r.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=r.childNodes.length}}function LC(r,e,t){if(e.nodeType!=3){let a,i;(i=The(e,t))?(e=i,t=0):(a=Phe(e,t))&&(e=a,t=a.nodeValue.length)}let n=r.domSelection();if(!n)return;if(A2(n)){let a=document.createRange();a.setEnd(e,t),a.setStart(e,t),n.removeAllRanges(),n.addRange(a)}else n.extend&&n.extend(e,t);r.domObserver.setCurSelection();let{state:s}=r;setTimeout(()=>{r.state==s&&ql(r)},50)}function lA(r,e){let t=r.state.doc.resolve(e);if(!(Ks||Que)&&t.parent.inlineContent){let s=r.coordsAtPos(e);if(e>t.start()){let a=r.coordsAtPos(e-1),i=(a.top+a.bottom)/2;if(i>s.top&&i<s.bottom&&Math.abs(a.left-s.left)>1)return a.left<s.left?"ltr":"rtl"}if(e<t.end()){let a=r.coordsAtPos(e+1),i=(a.top+a.bottom)/2;if(i>s.top&&i<s.bottom&&Math.abs(a.left-s.left)>1)return a.left>s.left?"ltr":"rtl"}}return getComputedStyle(r.dom).direction=="rtl"?"rtl":"ltr"}function cA(r,e,t){let n=r.state.selection;if(n instanceof Gt&&!n.empty||t.indexOf("s")>-1||Ri&&t.indexOf("m")>-1)return!1;let{$from:s,$to:a}=n;if(!s.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let i=PC(r.state,e);if(i&&i instanceof Ft)return Mc(r,i)}if(!s.parent.inlineContent){let i=e<0?s:a,o=n instanceof ci?nr.near(i,e):nr.findFrom(i,e);return o?Mc(r,o):!1}return!1}function dA(r,e){if(!(r.state.selection instanceof Gt))return!0;let{$head:t,$anchor:n,empty:s}=r.state.selection;if(!t.sameParent(n))return!0;if(!s)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(a&&!a.isText){let i=r.state.tr;return e<0?i.delete(t.pos-a.nodeSize,t.pos):i.delete(t.pos,t.pos+a.nodeSize),r.dispatch(i),!0}return!1}function uA(r,e,t){r.domObserver.stop(),e.contentEditable=t,r.domObserver.start()}function Lhe(r){if(!fa||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=r.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;uA(r,n,"true"),setTimeout(()=>uA(r,n,"false"),20)}return!1}function Dhe(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function Mhe(r,e){let t=e.keyCode,n=Dhe(e);if(t==8||Ri&&t==72&&n=="c")return dA(r,-1)||Zh(r,-1);if(t==46&&!e.shiftKey||Ri&&t==68&&n=="c")return dA(r,1)||Zh(r,1);if(t==13||t==27)return!0;if(t==37||Ri&&t==66&&n=="c"){let s=t==37?lA(r,r.state.selection.from)=="ltr"?-1:1:-1;return oA(r,s,n)||Zh(r,s)}else if(t==39||Ri&&t==70&&n=="c"){let s=t==39?lA(r,r.state.selection.from)=="ltr"?1:-1:1;return oA(r,s,n)||Zh(r,s)}else{if(t==38||Ri&&t==80&&n=="c")return cA(r,-1,n)||Zh(r,-1);if(t==40||Ri&&t==78&&n=="c")return Lhe(r)||cA(r,1,n)||Zh(r,1);if(n==(Ri?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function gE(r,e){r.someProp("transformCopied",p=>{e=p(e,r)});let t=[],{content:n,openStart:s,openEnd:a}=e;for(;s>1&&a>1&&n.childCount==1&&n.firstChild.childCount==1;){s--,a--;let p=n.firstChild;t.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),n=p.content}let i=r.someProp("clipboardSerializer")||xh.fromSchema(r.state.schema),o=gz(),c=o.createElement("div");c.appendChild(i.serializeFragment(n,{document:o}));let d=c.firstChild,u,h=0;for(;d&&d.nodeType==1&&(u=pz[d.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let g=o.createElement(u[p]);for(;c.firstChild;)g.appendChild(c.firstChild);c.appendChild(g),h++}d=c.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${s} ${a}${h?` -${h}`:""} ${JSON.stringify(t)}`);let f=r.someProp("clipboardTextSerializer",p=>p(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:f,slice:e}}function dz(r,e,t,n,s){let a=s.parent.type.spec.code,i,o;if(!t&&!e)return null;let c=e&&(n||a||!t);if(c){if(r.someProp("transformPastedText",f=>{e=f(e,a||n,r)}),a)return e?new Nt(tt.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Nt.empty;let h=r.someProp("clipboardTextParser",f=>f(e,s,n,r));if(h)o=h;else{let f=s.marks(),{schema:p}=r.state,g=xh.fromSchema(p);i=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let v=i.appendChild(document.createElement("p"));m&&v.appendChild(g.serializeNode(p.text(m,f)))})}}else r.someProp("transformPastedHTML",h=>{t=h(t,r)}),i=Fhe(t),G0&&Bhe(i);let d=i&&i.querySelector("[data-pm-slice]"),u=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let h=+u[3];h>0;h--){let f=i.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;i=f}if(o||(o=(r.someProp("clipboardParser")||r.someProp("domParser")||hd.fromSchema(r.state.schema)).parseSlice(i,{preserveWhitespace:!!(c||u),context:s,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!Rhe.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)o=zhe(hA(o,+u[1],+u[2]),u[4]);else if(o=Nt.maxOpen(Ihe(o.content,s),!0),o.openStart||o.openEnd){let h=0,f=0;for(let p=o.content.firstChild;h<o.openStart&&!p.type.spec.isolating;h++,p=p.firstChild);for(let p=o.content.lastChild;f<o.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);o=hA(o,h,f)}return r.someProp("transformPasted",h=>{o=h(o,r)}),o}const Rhe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Ihe(r,e){if(r.childCount<2)return r;for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.index(t)),a,i=[];if(r.forEach(o=>{if(!i)return;let c=s.findWrapping(o.type),d;if(!c)return i=null;if(d=i.length&&a.length&&hz(c,a,o,i[i.length-1],0))i[i.length-1]=d;else{i.length&&(i[i.length-1]=fz(i[i.length-1],a.length));let u=uz(o,c);i.push(u),s=s.matchType(u.type),a=c}}),i)return tt.from(i)}return r}function uz(r,e,t=0){for(let n=e.length-1;n>=t;n--)r=e[n].create(null,tt.from(r));return r}function hz(r,e,t,n,s){if(s<r.length&&s<e.length&&r[s]==e[s]){let a=hz(r,e,t,n.lastChild,s+1);if(a)return n.copy(n.content.replaceChild(n.childCount-1,a));if(n.contentMatchAt(n.childCount).matchType(s==r.length-1?t.type:r[s+1]))return n.copy(n.content.append(tt.from(uz(t,r,s+1))))}}function fz(r,e){if(e==0)return r;let t=r.content.replaceChild(r.childCount-1,fz(r.lastChild,e-1)),n=r.contentMatchAt(r.childCount).fillBefore(tt.empty,!0);return r.copy(t.append(n))}function DC(r,e,t,n,s,a){let i=e<0?r.firstChild:r.lastChild,o=i.content;return r.childCount>1&&(a=0),s<n-1&&(o=DC(o,e,t,n,s+1,a)),s>=t&&(o=e<0?i.contentMatchAt(0).fillBefore(o,a<=s).append(o):o.append(i.contentMatchAt(i.childCount).fillBefore(tt.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,i.copy(o))}function hA(r,e,t){return e<r.openStart&&(r=new Nt(DC(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),t<r.openEnd&&(r=new Nt(DC(r.content,1,t,r.openEnd,0,0),r.openStart,t)),r}const pz={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let fA=null;function gz(){return fA||(fA=document.implementation.createHTMLDocument("title"))}let b4=null;function Ohe(r){let e=window.trustedTypes;return e?(b4||(b4=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),b4.createHTML(r)):r}function Fhe(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let t=gz().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(r),s;if((s=n&&pz[n[1].toLowerCase()])&&(r=s.map(a=>"<"+a+">").join("")+r+s.map(a=>"</"+a+">").reverse().join("")),t.innerHTML=Ohe(r),s)for(let a=0;a<s.length;a++)t=t.querySelector(s[a])||t;return t}function Bhe(r){let e=r.querySelectorAll(Ks?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let n=e[t];n.childNodes.length==1&&n.textContent==" "&&n.parentNode&&n.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),n)}}function zhe(r,e){if(!r.size)return r;let t=r.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return r}let{content:s,openStart:a,openEnd:i}=r;for(let o=n.length-2;o>=0;o-=2){let c=t.nodes[n[o]];if(!c||c.hasRequiredAttrs())break;s=tt.from(c.create(n[o+1],s)),a++,i++}return new Nt(s,a,i)}const pa={},ga={},Hhe={touchstart:!0,touchmove:!0};class Uhe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function $he(r){for(let e in pa){let t=pa[e];r.dom.addEventListener(e,r.input.eventHandlers[e]=n=>{Whe(r,n)&&!mE(r,n)&&(r.editable||!(n.type in ga))&&t(r,n)},Hhe[e]?{passive:!0}:void 0)}fa&&r.dom.addEventListener("input",()=>null),MC(r)}function Kc(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}function Vhe(r){r.domObserver.stop();for(let e in r.input.eventHandlers)r.dom.removeEventListener(e,r.input.eventHandlers[e]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function MC(r){r.someProp("handleDOMEvents",e=>{for(let t in e)r.input.eventHandlers[t]||r.dom.addEventListener(t,r.input.eventHandlers[t]=n=>mE(r,n))})}function mE(r,e){return r.someProp("handleDOMEvents",t=>{let n=t[e.type];return n?n(r,e)||e.defaultPrevented:!1})}function Whe(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=r.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function qhe(r,e){!mE(r,e)&&pa[e.type]&&(r.editable||!(e.type in ga))&&pa[e.type](r,e)}ga.keydown=(r,e)=>{let t=e;if(r.input.shiftKey=t.keyCode==16||t.shiftKey,!xz(r,t)&&(r.input.lastKeyCode=t.keyCode,r.input.lastKeyCodeTime=Date.now(),!(zl&&Ks&&t.keyCode==13)))if(t.keyCode!=229&&r.domObserver.forceFlush(),vp&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let n=Date.now();r.input.lastIOSEnter=n,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==n&&(r.someProp("handleKeyDown",s=>s(r,uu(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",n=>n(r,t))||Mhe(r,t)?t.preventDefault():Kc(r,"key")};ga.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};ga.keypress=(r,e)=>{let t=e;if(xz(r,t)||!t.charCode||t.ctrlKey&&!t.altKey||Ri&&t.metaKey)return;if(r.someProp("handleKeyPress",s=>s(r,t))){t.preventDefault();return}let n=r.state.selection;if(!(n instanceof Gt)||!n.$from.sameParent(n.$to)){let s=String.fromCharCode(t.charCode),a=()=>r.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!r.someProp("handleTextInput",i=>i(r,n.$from.pos,n.$to.pos,s,a))&&r.dispatch(a()),t.preventDefault()}};function P2(r){return{left:r.clientX,top:r.clientY}}function Yhe(r,e){let t=e.x-r.clientX,n=e.y-r.clientY;return t*t+n*n<100}function xE(r,e,t,n,s){if(n==-1)return!1;let a=r.state.doc.resolve(n);for(let i=a.depth+1;i>0;i--)if(r.someProp(e,o=>i>a.depth?o(r,t,a.nodeAfter,a.before(i),s,!0):o(r,t,a.node(i),a.before(i),s,!1)))return!0;return!1}function qf(r,e,t){if(r.focused||r.focus(),r.state.selection.eq(e))return;let n=r.state.tr.setSelection(e);n.setMeta("pointer",!0),r.dispatch(n)}function Ghe(r,e){if(e==-1)return!1;let t=r.state.doc.resolve(e),n=t.nodeAfter;return n&&n.isAtom&&Ft.isSelectable(n)?(qf(r,new Ft(t)),!0):!1}function Xhe(r,e){if(e==-1)return!1;let t=r.state.selection,n,s;t instanceof Ft&&(n=t.node);let a=r.state.doc.resolve(e);for(let i=a.depth+1;i>0;i--){let o=i>a.depth?a.nodeAfter:a.node(i);if(Ft.isSelectable(o)){n&&t.$from.depth>0&&i>=t.$from.depth&&a.before(t.$from.depth+1)==t.$from.pos?s=a.before(t.$from.depth):s=a.before(i);break}}return s!=null?(qf(r,Ft.create(r.state.doc,s)),!0):!1}function Zhe(r,e,t,n,s){return xE(r,"handleClickOn",e,t,n)||r.someProp("handleClick",a=>a(r,e,n))||(s?Xhe(r,t):Ghe(r,t))}function Jhe(r,e,t,n){return xE(r,"handleDoubleClickOn",e,t,n)||r.someProp("handleDoubleClick",s=>s(r,e,n))}function Khe(r,e,t,n){return xE(r,"handleTripleClickOn",e,t,n)||r.someProp("handleTripleClick",s=>s(r,e,n))||Qhe(r,t,n)}function Qhe(r,e,t){if(t.button!=0)return!1;let n=r.state.doc;if(e==-1)return n.inlineContent?(qf(r,Gt.create(n,0,n.content.size)),!0):!1;let s=n.resolve(e);for(let a=s.depth+1;a>0;a--){let i=a>s.depth?s.nodeAfter:s.node(a),o=s.before(a);if(i.inlineContent)qf(r,Gt.create(n,o+1,o+1+i.content.size));else if(Ft.isSelectable(i))qf(r,Ft.create(n,o));else continue;return!0}}function vE(r){return Gy(r)}const mz=Ri?"metaKey":"ctrlKey";pa.mousedown=(r,e)=>{let t=e;r.input.shiftKey=t.shiftKey;let n=vE(r),s=Date.now(),a="singleClick";s-r.input.lastClick.time<500&&Yhe(t,r.input.lastClick)&&!t[mz]&&r.input.lastClick.button==t.button&&(r.input.lastClick.type=="singleClick"?a="doubleClick":r.input.lastClick.type=="doubleClick"&&(a="tripleClick")),r.input.lastClick={time:s,x:t.clientX,y:t.clientY,type:a,button:t.button};let i=r.posAtCoords(P2(t));i&&(a=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new efe(r,i,t,!!n)):(a=="doubleClick"?Jhe:Khe)(r,i.pos,i.inside,t)?t.preventDefault():Kc(r,"pointer"))};class efe{constructor(e,t,n,s){this.view=e,this.pos=t,this.event=n,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[mz],this.allowDefault=n.shiftKey;let a,i;if(t.inside>-1)a=e.state.doc.nodeAt(t.inside),i=t.inside;else{let u=e.state.doc.resolve(t.pos);a=u.parent,i=u.depth?u.before():0}const o=s?null:n.target,c=o?e.docView.nearestDesc(o,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:d}=e.state;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||d instanceof Ft&&d.from<=i&&d.to>i)&&(this.mightDrag={node:a,pos:i,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&No&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Kc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ql(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(P2(e))),this.updateAllowDefault(e),this.allowDefault||!t?Kc(this.view,"pointer"):Zhe(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||fa&&this.mightDrag&&!this.mightDrag.node.isAtom||Ks&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(qf(this.view,nr.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Kc(this.view,"pointer")}move(e){this.updateAllowDefault(e),Kc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}pa.touchstart=r=>{r.input.lastTouch=Date.now(),vE(r),Kc(r,"pointer")};pa.touchmove=r=>{r.input.lastTouch=Date.now(),Kc(r,"pointer")};pa.contextmenu=r=>vE(r);function xz(r,e){return r.composing?!0:fa&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const tfe=zl?5e3:-1;ga.compositionstart=ga.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,t=e.selection.$to;if(e.selection instanceof Gt&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||t.marks(),Gy(r,!0),r.markCursor=null;else if(Gy(r,!e.selection.empty),No&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let n=r.domSelectionRange();for(let s=n.focusNode,a=n.focusOffset;s&&s.nodeType==1&&a!=0;){let i=a<0?s.lastChild:s.childNodes[a-1];if(!i)break;if(i.nodeType==3){let o=r.domSelection();o&&o.collapse(i,i.nodeValue.length);break}else s=i,a=-1}}r.input.composing=!0}vz(r,tfe)};ga.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,r.input.compositionPendingChanges=r.domObserver.pendingRecords().length?r.input.compositionID:0,r.input.compositionNode=null,r.input.compositionPendingChanges&&Promise.resolve().then(()=>r.domObserver.flush()),r.input.compositionID++,vz(r,20))};function vz(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>Gy(r),e))}function yz(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=nfe());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function rfe(r){let e=r.domSelectionRange();if(!e.focusNode)return null;let t=Gue(e.focusNode,e.focusOffset),n=Xue(e.focusNode,e.focusOffset);if(t&&n&&t!=n){let s=n.pmViewDesc,a=r.domObserver.lastChangedTextNode;if(t==a||n==a)return a;if(!s||!s.isText(n.nodeValue))return n;if(r.input.compositionNode==n){let i=t.pmViewDesc;if(!(!i||!i.isText(t.nodeValue)))return n}}return t||n}function nfe(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function Gy(r,e=!1){if(!(zl&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),yz(r),e||r.docView&&r.docView.dirty){let t=fE(r),n=r.state.selection;return t&&!t.eq(n)?r.dispatch(r.state.tr.setSelection(t)):(r.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?r.dispatch(r.state.tr.deleteSelection()):r.updateState(r.state),!0}return!1}}function sfe(r,e){if(!r.dom.parentNode)return;let t=r.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),s=document.createRange();s.selectNodeContents(e),r.dom.blur(),n.removeAllRanges(),n.addRange(s),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),r.focus()},50)}const f0=Ia&&fd<15||vp&&ehe<604;pa.copy=ga.cut=(r,e)=>{let t=e,n=r.state.selection,s=t.type=="cut";if(n.empty)return;let a=f0?null:t.clipboardData,i=n.content(),{dom:o,text:c}=gE(r,i);a?(t.preventDefault(),a.clearData(),a.setData("text/html",o.innerHTML),a.setData("text/plain",c)):sfe(r,o),s&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function afe(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function ife(r,e){if(!r.dom.parentNode)return;let t=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,n=r.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let s=r.input.shiftKey&&r.input.lastKeyCode!=45;setTimeout(()=>{r.focus(),n.parentNode&&n.parentNode.removeChild(n),t?p0(r,n.value,null,s,e):p0(r,n.textContent,n.innerHTML,s,e)},50)}function p0(r,e,t,n,s){let a=dz(r,e,t,n,r.state.selection.$from);if(r.someProp("handlePaste",c=>c(r,s,a||Nt.empty)))return!0;if(!a)return!1;let i=afe(a),o=i?r.state.tr.replaceSelectionWith(i,n):r.state.tr.replaceSelection(a);return r.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function bz(r){let e=r.getData("text/plain")||r.getData("Text");if(e)return e;let t=r.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}ga.paste=(r,e)=>{let t=e;if(r.composing&&!zl)return;let n=f0?null:t.clipboardData,s=r.input.shiftKey&&r.input.lastKeyCode!=45;n&&p0(r,bz(n),n.getData("text/html"),s,t)?t.preventDefault():ife(r,t)};class wz{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const ofe=Ri?"altKey":"ctrlKey";function kz(r,e){let t=r.someProp("dragCopies",n=>!n(e));return t??!e[ofe]}pa.dragstart=(r,e)=>{let t=e,n=r.input.mouseDown;if(n&&n.done(),!t.dataTransfer)return;let s=r.state.selection,a=s.empty?null:r.posAtCoords(P2(t)),i;if(!(a&&a.pos>=s.from&&a.pos<=(s instanceof Ft?s.to-1:s.to))){if(n&&n.mightDrag)i=Ft.create(r.state.doc,n.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let h=r.docView.nearestDesc(t.target,!0);h&&h.node.type.spec.draggable&&h!=r.docView&&(i=Ft.create(r.state.doc,h.posBefore))}}let o=(i||r.state.selection).content(),{dom:c,text:d,slice:u}=gE(r,o);(!t.dataTransfer.files.length||!Ks||GB>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(f0?"Text":"text/html",c.innerHTML),t.dataTransfer.effectAllowed="copyMove",f0||t.dataTransfer.setData("text/plain",d),r.dragging=new wz(u,kz(r,t),i)};pa.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};ga.dragover=ga.dragenter=(r,e)=>e.preventDefault();ga.drop=(r,e)=>{let t=e,n=r.dragging;if(r.dragging=null,!t.dataTransfer)return;let s=r.posAtCoords(P2(t));if(!s)return;let a=r.state.doc.resolve(s.pos),i=n&&n.slice;i?r.someProp("transformPasted",g=>{i=g(i,r)}):i=dz(r,bz(t.dataTransfer),f0?null:t.dataTransfer.getData("text/html"),!1,a);let o=!!(n&&kz(r,t));if(r.someProp("handleDrop",g=>g(r,t,i||Nt.empty,o))){t.preventDefault();return}if(!i)return;t.preventDefault();let c=i?BB(r.state.doc,a.pos,i):a.pos;c==null&&(c=a.pos);let d=r.state.tr;if(o){let{node:g}=n;g?g.replace(d):d.deleteSelection()}let u=d.mapping.map(c),h=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,f=d.doc;if(h?d.replaceRangeWith(u,u,i.content.firstChild):d.replaceRange(u,u,i),d.doc.eq(f))return;let p=d.doc.resolve(u);if(h&&Ft.isSelectable(i.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(i.content.firstChild))d.setSelection(new Ft(p));else{let g=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((m,v,x,y)=>g=y),d.setSelection(pE(r,p,d.doc.resolve(g)))}r.focus(),r.dispatch(d.setMeta("uiEvent","drop"))};pa.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&ql(r)},20))};pa.blur=(r,e)=>{let t=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),t.relatedTarget&&r.dom.contains(t.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};pa.beforeinput=(r,e)=>{if(Ks&&zl&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:n}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=n||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",a=>a(r,uu(8,"Backspace")))))return;let{$cursor:s}=r.state.selection;s&&s.pos>0&&r.dispatch(r.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let r in ga)pa[r]=ga[r];function g0(r,e){if(r==e)return!0;for(let t in r)if(r[t]!==e[t])return!1;for(let t in e)if(!(t in r))return!1;return!0}class Xy{constructor(e,t){this.toDOM=e,this.spec=t||zu,this.side=this.spec.side||0}map(e,t,n,s){let{pos:a,deleted:i}=e.mapResult(t.from+s,this.side<0?-1:1);return i?null:new da(a-n,a-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Xy&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&g0(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class gd{constructor(e,t){this.attrs=e,this.spec=t||zu}map(e,t,n,s){let a=e.map(t.from+s,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+s,this.spec.inclusiveEnd?1:-1)-n;return a>=i?null:new da(a,i,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof gd&&g0(this.attrs,e.attrs)&&g0(this.spec,e.spec)}static is(e){return e.type instanceof gd}destroy(){}}class yE{constructor(e,t){this.attrs=e,this.spec=t||zu}map(e,t,n,s){let a=e.mapResult(t.from+s,1);if(a.deleted)return null;let i=e.mapResult(t.to+s,-1);return i.deleted||i.pos<=a.pos?null:new da(a.pos-n,i.pos-n,this)}valid(e,t){let{index:n,offset:s}=e.content.findIndex(t.from),a;return s==t.from&&!(a=e.child(n)).isText&&s+a.nodeSize==t.to}eq(e){return this==e||e instanceof yE&&g0(this.attrs,e.attrs)&&g0(this.spec,e.spec)}destroy(){}}class da{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new da(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new da(e,e,new Xy(t,n))}static inline(e,t,n,s){return new da(e,t,new gd(n,s))}static node(e,t,n,s){return new da(e,t,new yE(n,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof gd}get widget(){return this.type instanceof Xy}}const sf=[],zu={};class yn{constructor(e,t){this.local=e.length?e:sf,this.children=t.length?t:sf}static create(e,t){return t.length?Zy(t,e,0,zu):Ys}find(e,t,n){let s=[];return this.findInner(e??0,t??1e9,s,0,n),s}findInner(e,t,n,s,a){for(let i=0;i<this.local.length;i++){let o=this.local[i];o.from<=t&&o.to>=e&&(!a||a(o.spec))&&n.push(o.copy(o.from+s,o.to+s))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<t&&this.children[i+1]>e){let o=this.children[i]+1;this.children[i+2].findInner(e-o,t-o,n,s+o,a)}}map(e,t,n){return this==Ys||e.maps.length==0?this:this.mapInner(e,t,0,0,n||zu)}mapInner(e,t,n,s,a){let i;for(let o=0;o<this.local.length;o++){let c=this.local[o].map(e,n,s);c&&c.type.valid(t,c)?(i||(i=[])).push(c):a.onRemove&&a.onRemove(this.local[o].spec)}return this.children.length?lfe(this.children,i||[],e,t,n,s,a):i?new yn(i.sort(Hu),sf):Ys}add(e,t){return t.length?this==Ys?yn.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let s,a=0;e.forEach((o,c)=>{let d=c+n,u;if(u=Sz(t,o,d)){for(s||(s=this.children.slice());a<s.length&&s[a]<c;)a+=3;s[a]==c?s[a+2]=s[a+2].addInner(o,u,d+1):s.splice(a,0,c,c+o.nodeSize,Zy(u,o,d+1,zu)),a+=3}});let i=Cz(a?Nz(t):t,-n);for(let o=0;o<i.length;o++)i[o].type.valid(e,i[o])||i.splice(o--,1);return new yn(i.length?this.local.concat(i).sort(Hu):this.local,s||this.children)}remove(e){return e.length==0||this==Ys?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,s=this.local;for(let a=0;a<n.length;a+=3){let i,o=n[a]+t,c=n[a+1]+t;for(let u=0,h;u<e.length;u++)(h=e[u])&&h.from>o&&h.to<c&&(e[u]=null,(i||(i=[])).push(h));if(!i)continue;n==this.children&&(n=this.children.slice());let d=n[a+2].removeInner(i,o+1);d!=Ys?n[a+2]=d:(n.splice(a,3),a-=3)}if(s.length){for(let a=0,i;a<e.length;a++)if(i=e[a])for(let o=0;o<s.length;o++)s[o].eq(i,t)&&(s==this.local&&(s=this.local.slice()),s.splice(o--,1))}return n==this.children&&s==this.local?this:s.length||n.length?new yn(s,n):Ys}forChild(e,t){if(this==Ys)return this;if(t.isLeaf)return yn.empty;let n,s;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}let a=e+1,i=a+t.content.size;for(let o=0;o<this.local.length;o++){let c=this.local[o];if(c.from<i&&c.to>a&&c.type instanceof gd){let d=Math.max(a,c.from)-a,u=Math.min(i,c.to)-a;d<u&&(s||(s=[])).push(c.copy(d,u))}}if(s){let o=new yn(s.sort(Hu),sf);return n?new Uc([o,n]):o}return n||Ys}eq(e){if(this==e)return!0;if(!(e instanceof yn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return bE(this.localsInner(e))}localsInner(e){if(this==Ys)return sf;if(e.inlineContent||!this.local.some(gd.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof gd||t.push(this.local[n]);return t}forEachSet(e){e(this)}}yn.empty=new yn([],[]);yn.removeOverlap=bE;const Ys=yn.empty;class Uc{constructor(e){this.members=e}map(e,t){const n=this.members.map(s=>s.map(e,t,zu));return Uc.from(n)}forChild(e,t){if(t.isLeaf)return yn.empty;let n=[];for(let s=0;s<this.members.length;s++){let a=this.members[s].forChild(e,t);a!=Ys&&(a instanceof Uc?n=n.concat(a.members):n.push(a))}return Uc.from(n)}eq(e){if(!(e instanceof Uc)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let s=0;s<this.members.length;s++){let a=this.members[s].localsInner(e);if(a.length)if(!t)t=a;else{n&&(t=t.slice(),n=!1);for(let i=0;i<a.length;i++)t.push(a[i])}}return t?bE(n?t:t.sort(Hu)):sf}static from(e){switch(e.length){case 0:return Ys;case 1:return e[0];default:return new Uc(e.every(t=>t instanceof yn)?e:e.reduce((t,n)=>t.concat(n instanceof yn?n:n.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function lfe(r,e,t,n,s,a,i){let o=r.slice();for(let d=0,u=a;d<t.maps.length;d++){let h=0;t.maps[d].forEach((f,p,g,m)=>{let v=m-g-(p-f);for(let x=0;x<o.length;x+=3){let y=o[x+1];if(y<0||f>y+u-h)continue;let w=o[x]+u-h;p>=w?o[x+1]=f<=w?-2:-1:f>=u&&v&&(o[x]+=v,o[x+1]+=v)}h+=v}),u=t.maps[d].map(u,-1)}let c=!1;for(let d=0;d<o.length;d+=3)if(o[d+1]<0){if(o[d+1]==-2){c=!0,o[d+1]=-1;continue}let u=t.map(r[d]+a),h=u-s;if(h<0||h>=n.content.size){c=!0;continue}let f=t.map(r[d+1]+a,-1),p=f-s,{index:g,offset:m}=n.content.findIndex(h),v=n.maybeChild(g);if(v&&m==h&&m+v.nodeSize==p){let x=o[d+2].mapInner(t,v,u+1,r[d]+a+1,i);x!=Ys?(o[d]=h,o[d+1]=p,o[d+2]=x):(o[d+1]=-2,c=!0)}else c=!0}if(c){let d=cfe(o,r,e,t,s,a,i),u=Zy(d,n,0,i);e=u.local;for(let h=0;h<o.length;h+=3)o[h+1]<0&&(o.splice(h,3),h-=3);for(let h=0,f=0;h<u.children.length;h+=3){let p=u.children[h];for(;f<o.length&&o[f]<p;)f+=3;o.splice(f,0,u.children[h],u.children[h+1],u.children[h+2])}}return new yn(e.sort(Hu),o)}function Cz(r,e){if(!e||!r.length)return r;let t=[];for(let n=0;n<r.length;n++){let s=r[n];t.push(new da(s.from+e,s.to+e,s.type))}return t}function cfe(r,e,t,n,s,a,i){function o(c,d){for(let u=0;u<c.local.length;u++){let h=c.local[u].map(n,s,d);h?t.push(h):i.onRemove&&i.onRemove(c.local[u].spec)}for(let u=0;u<c.children.length;u+=3)o(c.children[u+2],c.children[u]+d+1)}for(let c=0;c<r.length;c+=3)r[c+1]==-1&&o(r[c+2],e[c]+a+1);return t}function Sz(r,e,t){if(e.isLeaf)return null;let n=t+e.nodeSize,s=null;for(let a=0,i;a<r.length;a++)(i=r[a])&&i.from>t&&i.to<n&&((s||(s=[])).push(i),r[a]=null);return s}function Nz(r){let e=[];for(let t=0;t<r.length;t++)r[t]!=null&&e.push(r[t]);return e}function Zy(r,e,t,n){let s=[],a=!1;e.forEach((o,c)=>{let d=Sz(r,o,c+t);if(d){a=!0;let u=Zy(d,o,t+c+1,n);u!=Ys&&s.push(c,c+o.nodeSize,u)}});let i=Cz(a?Nz(r):r,-t).sort(Hu);for(let o=0;o<i.length;o++)i[o].type.valid(e,i[o])||(n.onRemove&&n.onRemove(i[o].spec),i.splice(o--,1));return i.length||s.length?new yn(i,s):Ys}function Hu(r,e){return r.from-e.from||r.to-e.to}function bE(r){let e=r;for(let t=0;t<e.length-1;t++){let n=e[t];if(n.from!=n.to)for(let s=t+1;s<e.length;s++){let a=e[s];if(a.from==n.from){a.to!=n.to&&(e==r&&(e=r.slice()),e[s]=a.copy(a.from,n.to),pA(e,s+1,a.copy(n.to,a.to)));continue}else{a.from<n.to&&(e==r&&(e=r.slice()),e[t]=n.copy(n.from,a.from),pA(e,s,n.copy(a.from,n.to)));break}}}return e}function pA(r,e,t){for(;e<r.length&&Hu(t,r[e])>0;)e++;r.splice(e,0,t)}function w4(r){let e=[];return r.someProp("decorations",t=>{let n=t(r.state);n&&n!=Ys&&e.push(n)}),r.cursorWrapper&&e.push(yn.create(r.state.doc,[r.cursorWrapper.deco])),Uc.from(e)}const dfe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ufe=Ia&&fd<=11;class hfe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class ffe{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new hfe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let s=0;s<n.length;s++)this.queue.push(n[s]);Ia&&fd<=11&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),ufe&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,dfe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(iA(this.view)){if(this.suppressingSelectionUpdates)return ql(this.view);if(Ia&&fd<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&nh(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let a=e.focusNode;a;a=xp(a))t.add(a);for(let a=e.anchorNode;a;a=xp(a))if(t.has(a)){n=a;break}let s=n&&this.view.docView.nearestDesc(n);if(s&&s.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&iA(e)&&!this.ignoreSelectionChange(n),a=-1,i=-1,o=!1,c=[];if(e.editable)for(let u=0;u<t.length;u++){let h=this.registerMutation(t[u],c);h&&(a=a<0?h.from:Math.min(h.from,a),i=i<0?h.to:Math.max(h.to,i),h.typeOver&&(o=!0))}if(No&&c.length){let u=c.filter(h=>h.nodeName=="BR");if(u.length==2){let[h,f]=u;h.parentNode&&h.parentNode.parentNode==f.parentNode?f.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let f of u){let p=f.parentNode;p&&p.nodeName=="LI"&&(!h||mfe(e,h)!=p)&&f.remove()}}}let d=null;a<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&A2(n)&&(d=fE(e))&&d.eq(nr.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ql(e),this.currentSelection.set(n),e.scrollToSelection()):(a>-1||s)&&(a>-1&&(e.docView.markDirty(a,i),pfe(e)),this.handleDOMChange(a,i,o,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||ql(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let h=e.addedNodes[u];t.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let s=e.previousSibling,a=e.nextSibling;if(Ia&&fd<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:h,nextSibling:f}=e.addedNodes[u];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(s=h),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(a=f)}let i=s&&s.parentNode==e.target?Ds(s)+1:0,o=n.localPosFromDOM(e.target,i,-1),c=a&&a.parentNode==e.target?Ds(a):e.target.childNodes.length,d=n.localPosFromDOM(e.target,c,1);return{from:o,to:d}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let gA=new WeakMap,mA=!1;function pfe(r){if(!gA.has(r)&&(gA.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=No,mA)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),mA=!0}}function xA(r,e){let t=e.startContainer,n=e.startOffset,s=e.endContainer,a=e.endOffset,i=r.domAtPos(r.state.selection.anchor);return nh(i.node,i.offset,s,a)&&([t,n,s,a]=[s,a,t,n]),{anchorNode:t,anchorOffset:n,focusNode:s,focusOffset:a}}function gfe(r,e){if(e.getComposedRanges){let s=e.getComposedRanges(r.root)[0];if(s)return xA(r,s)}let t;function n(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return r.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",n,!0),t?xA(r,t):null}function mfe(r,e){for(let t=e.parentNode;t&&t!=r.dom;t=t.parentNode){let n=r.docView.nearestDesc(t,!0);if(n&&n.node.isBlock)return t}return null}function xfe(r,e,t){let{node:n,fromOffset:s,toOffset:a,from:i,to:o}=r.docView.parseRange(e,t),c=r.domSelectionRange(),d,u=c.anchorNode;if(u&&r.dom.contains(u.nodeType==1?u:u.parentNode)&&(d=[{node:u,offset:c.anchorOffset}],A2(c)||d.push({node:c.focusNode,offset:c.focusOffset})),Ks&&r.input.lastKeyCode===8)for(let v=a;v>s;v--){let x=n.childNodes[v-1],y=x.pmViewDesc;if(x.nodeName=="BR"&&!y){a=v;break}if(!y||y.size)break}let h=r.state.doc,f=r.someProp("domParser")||hd.fromSchema(r.state.schema),p=h.resolve(i),g=null,m=f.parse(n,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:s,to:a,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:vfe,context:p});if(d&&d[0].pos!=null){let v=d[0].pos,x=d[1]&&d[1].pos;x==null&&(x=v),g={anchor:v+i,head:x+i}}return{doc:m,sel:g,from:i,to:o}}function vfe(r){let e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(fa&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(r.parentNode.lastChild==r||fa&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}const yfe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function bfe(r,e,t,n,s){let a=r.input.compositionPendingChanges||(r.composing?r.input.compositionID:0);if(r.input.compositionPendingChanges=0,e<0){let E=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,R=fE(r,E);if(R&&!r.state.selection.eq(R)){if(Ks&&zl&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",L=>L(r,uu(13,"Enter"))))return;let O=r.state.tr.setSelection(R);E=="pointer"?O.setMeta("pointer",!0):E=="key"&&O.scrollIntoView(),a&&O.setMeta("composition",a),r.dispatch(O)}return}let i=r.state.doc.resolve(e),o=i.sharedDepth(t);e=i.before(o+1),t=r.state.doc.resolve(t).after(o+1);let c=r.state.selection,d=xfe(r,e,t),u=r.state.doc,h=u.slice(d.from,d.to),f,p;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(f=r.state.selection.to,p="end"):(f=r.state.selection.from,p="start"),r.input.lastKeyCode=null;let g=Cfe(h.content,d.doc.content,d.from,f,p);if(g&&r.input.domChangeCount++,(vp&&r.input.lastIOSEnter>Date.now()-225||zl)&&s.some(E=>E.nodeType==1&&!yfe.test(E.nodeName))&&(!g||g.endA>=g.endB)&&r.someProp("handleKeyDown",E=>E(r,uu(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!g)if(n&&c instanceof Gt&&!c.empty&&c.$head.sameParent(c.$anchor)&&!r.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))g={start:c.from,endA:c.to,endB:c.to};else{if(d.sel){let E=vA(r,r.state.doc,d.sel);if(E&&!E.eq(r.state.selection)){let R=r.state.tr.setSelection(E);a&&R.setMeta("composition",a),r.dispatch(R)}}return}r.state.selection.from<r.state.selection.to&&g.start==g.endB&&r.state.selection instanceof Gt&&(g.start>r.state.selection.from&&g.start<=r.state.selection.from+2&&r.state.selection.from>=d.from?g.start=r.state.selection.from:g.endA<r.state.selection.to&&g.endA>=r.state.selection.to-2&&r.state.selection.to<=d.to&&(g.endB+=r.state.selection.to-g.endA,g.endA=r.state.selection.to)),Ia&&fd<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>d.from&&d.doc.textBetween(g.start-d.from-1,g.start-d.from+1)=="  "&&(g.start--,g.endA--,g.endB--);let m=d.doc.resolveNoCache(g.start-d.from),v=d.doc.resolveNoCache(g.endB-d.from),x=u.resolve(g.start),y=m.sameParent(v)&&m.parent.inlineContent&&x.end()>=g.endA,w;if((vp&&r.input.lastIOSEnter>Date.now()-225&&(!y||s.some(E=>E.nodeName=="DIV"||E.nodeName=="P"))||!y&&m.pos<d.doc.content.size&&(!m.sameParent(v)||!m.parent.inlineContent)&&!/\S/.test(d.doc.textBetween(m.pos,v.pos,"",""))&&(w=nr.findFrom(d.doc.resolve(m.pos+1),1,!0))&&w.head>m.pos)&&r.someProp("handleKeyDown",E=>E(r,uu(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>g.start&&kfe(u,g.start,g.endA,m,v)&&r.someProp("handleKeyDown",E=>E(r,uu(8,"Backspace")))){zl&&Ks&&r.domObserver.suppressSelectionUpdates();return}Ks&&g.endB==g.start&&(r.input.lastChromeDelete=Date.now()),zl&&!y&&m.start()!=v.start()&&v.parentOffset==0&&m.depth==v.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==g.endA&&(g.endB-=2,v=d.doc.resolveNoCache(g.endB-d.from),setTimeout(()=>{r.someProp("handleKeyDown",function(E){return E(r,uu(13,"Enter"))})},20));let k=g.start,S=g.endA,N=E=>{let R=E||r.state.tr.replace(k,S,d.doc.slice(g.start-d.from,g.endB-d.from));if(d.sel){let O=vA(r,R.doc,d.sel);O&&!(Ks&&r.composing&&O.empty&&(g.start!=g.endB||r.input.lastChromeDelete<Date.now()-100)&&(O.head==k||O.head==R.mapping.map(S)-1)||Ia&&O.empty&&O.head==k)&&R.setSelection(O)}return a&&R.setMeta("composition",a),R.scrollIntoView()},A;if(y){if(m.pos==v.pos){Ia&&fd<=11&&m.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>ql(r),20));let E=N(r.state.tr.delete(k,S)),R=u.resolve(g.start).marksAcross(u.resolve(g.endA));R&&E.ensureMarks(R),r.dispatch(E)}else if(g.endA==g.endB&&(A=wfe(m.parent.content.cut(m.parentOffset,v.parentOffset),x.parent.content.cut(x.parentOffset,g.endA-x.start())))){let E=N(r.state.tr);A.type=="add"?E.addMark(k,S,A.mark):E.removeMark(k,S,A.mark),r.dispatch(E)}else if(m.parent.child(m.index()).isText&&m.index()==v.index()-(v.textOffset?0:1)){let E=m.parent.textBetween(m.parentOffset,v.parentOffset),R=()=>N(r.state.tr.insertText(E,k,S));r.someProp("handleTextInput",O=>O(r,k,S,E,R))||r.dispatch(R())}}else r.dispatch(N())}function vA(r,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:pE(r,e.resolve(t.anchor),e.resolve(t.head))}function wfe(r,e){let t=r.firstChild.marks,n=e.firstChild.marks,s=t,a=n,i,o,c;for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);for(let u=0;u<t.length;u++)a=t[u].removeFromSet(a);if(s.length==1&&a.length==0)o=s[0],i="add",c=u=>u.mark(o.addToSet(u.marks));else if(s.length==0&&a.length==1)o=a[0],i="remove",c=u=>u.mark(o.removeFromSet(u.marks));else return null;let d=[];for(let u=0;u<e.childCount;u++)d.push(c(e.child(u)));if(tt.from(d).eq(r))return{mark:o,type:i}}function kfe(r,e,t,n,s){if(t-e<=s.pos-n.pos||k4(n,!0,!1)<s.pos)return!1;let a=r.resolve(e);if(!n.parent.isTextblock){let o=a.nodeAfter;return o!=null&&t==e+o.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let i=r.resolve(k4(a,!0,!0));return!i.parent.isTextblock||i.pos>t||k4(i,!0,!1)<t?!1:n.parent.content.cut(n.parentOffset).eq(i.parent.content)}function k4(r,e,t){let n=r.depth,s=e?r.end():r.pos;for(;n>0&&(e||r.indexAfter(n)==r.node(n).childCount);)n--,s++,e=!1;if(t){let a=r.node(n).maybeChild(r.indexAfter(n));for(;a&&!a.isLeaf;)a=a.firstChild,s++}return s}function Cfe(r,e,t,n,s){let a=r.findDiffStart(e,t);if(a==null)return null;let{a:i,b:o}=r.findDiffEnd(e,t+r.size,t+e.size);if(s=="end"){let c=Math.max(0,a-Math.min(i,o));n-=i+c-a}if(i<a&&r.size<e.size){let c=n<=a&&n>=i?a-n:0;a-=c,a&&a<e.size&&yA(e.textBetween(a-1,a+1))&&(a+=c?1:-1),o=a+(o-i),i=a}else if(o<a){let c=n<=a&&n>=o?a-n:0;a-=c,a&&a<r.size&&yA(r.textBetween(a-1,a+1))&&(a+=c?1:-1),i=a+(i-o),o=a}return{start:a,endA:i,endB:o}}function yA(r){if(r.length!=2)return!1;let e=r.charCodeAt(0),t=r.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class Ez{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Uhe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(SA),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=kA(this),wA(this),this.nodeViews=CA(this),this.docView=eA(this.state.doc,bA(this),w4(this),this.dom,this),this.domObserver=new ffe(this,(n,s,a,i)=>bfe(this,n,s,a,i)),this.domObserver.start(),$he(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&MC(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(SA),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let s=this.state,a=!1,i=!1;e.storedMarks&&this.composing&&(yz(this),i=!0),this.state=e;let o=s.plugins!=e.plugins||this._props.plugins!=t.plugins;if(o||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let p=CA(this);Nfe(p,this.nodeViews)&&(this.nodeViews=p,a=!0)}(o||t.handleDOMEvents!=this._props.handleDOMEvents)&&MC(this),this.editable=kA(this),wA(this);let c=w4(this),d=bA(this),u=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",h=a||!this.docView.matchesNode(e.doc,d,c);(h||!e.selection.eq(s.selection))&&(i=!0);let f=u=="preserve"&&i&&this.dom.style.overflowAnchor==null&&nhe(this);if(i){this.domObserver.stop();let p=h&&(Ia||Ks)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&Sfe(s.selection,e.selection);if(h){let g=Ks?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=rfe(this)),(a||!this.docView.update(e.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=eA(e.doc,d,c,this.dom,this)),g&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&_he(this))?ql(this,p):(oz(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((n=this.dragging)===null||n===void 0)&&n.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&she(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Ft){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&G9(this,t.getBoundingClientRect(),e)}else G9(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let n=this.directPlugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let n=this.state.plugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}}updateDraggedNode(e,t){let n=e.node,s=-1;if(this.state.doc.nodeAt(n.from)==n.node)s=n.from;else{let a=n.from+(this.state.doc.content.size-t.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==n.node&&(s=a)}this.dragging=new wz(e.slice,e.move,s<0?void 0:Ft.create(this.state.doc,s))}someProp(e,t){let n=this._props&&this._props[e],s;if(n!=null&&(s=t?t(n):n))return s;for(let i=0;i<this.directPlugins.length;i++){let o=this.directPlugins[i].props[e];if(o!=null&&(s=t?t(o):o))return s}let a=this.state.plugins;if(a)for(let i=0;i<a.length;i++){let o=a[i].props[e];if(o!=null&&(s=t?t(o):o))return s}}hasFocus(){if(Ia){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&ahe(this.dom),ql(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return dhe(this,e)}coordsAtPos(e,t=1){return QB(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let s=this.docView.posFromDOM(e,t,n);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,t){return ghe(this,t||this.state,e)}pasteHTML(e,t){return p0(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return p0(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return gE(this,e)}destroy(){this.docView&&(Vhe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],w4(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,que())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return qhe(this,e)}domSelectionRange(){let e=this.domSelection();return e?fa&&this.root.nodeType===11&&Jue(this.dom.ownerDocument)==this.dom&&gfe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Ez.prototype.dispatch=function(r){let e=this._props.dispatchTransaction;e?e.call(this,r):this.updateState(this.state.apply(r))};function bA(r){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),r.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(r.state)),t)for(let n in t)n=="class"?e.class+=" "+t[n]:n=="style"?e.style=(e.style?e.style+";":"")+t[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(t[n]))}),e.translate||(e.translate="no"),[da.node(0,r.state.doc.content.size,e)]}function wA(r){if(r.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),r.cursorWrapper={dom:e,deco:da.widget(r.state.selection.from,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function kA(r){return!r.someProp("editable",e=>e(r.state)===!1)}function Sfe(r,e){let t=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(t)!=e.$anchor.start(t)}function CA(r){let e=Object.create(null);function t(n){for(let s in n)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=n[s])}return r.someProp("nodeViews",t),r.someProp("markViews",t),e}function Nfe(r,e){let t=0,n=0;for(let s in r){if(r[s]!=e[s])return!0;t++}for(let s in e)n++;return t!=n}function SA(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Cd={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Jy={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Efe=typeof navigator<"u"&&/Mac/.test(navigator.platform),_fe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ms=0;Ms<10;Ms++)Cd[48+Ms]=Cd[96+Ms]=String(Ms);for(var Ms=1;Ms<=24;Ms++)Cd[Ms+111]="F"+Ms;for(var Ms=65;Ms<=90;Ms++)Cd[Ms]=String.fromCharCode(Ms+32),Jy[Ms]=String.fromCharCode(Ms);for(var C4 in Cd)Jy.hasOwnProperty(C4)||(Jy[C4]=Cd[C4]);function jfe(r){var e=Efe&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||_fe&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?Jy:Cd)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Afe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Tfe=typeof navigator<"u"&&/Win/.test(navigator.platform);function Pfe(r){let e=r.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let n,s,a,i;for(let o=0;o<e.length-1;o++){let c=e[o];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))Afe?i=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(t="Alt-"+t),s&&(t="Ctrl-"+t),i&&(t="Meta-"+t),a&&(t="Shift-"+t),t}function Lfe(r){let e=Object.create(null);for(let t in r)e[Pfe(t)]=r[t];return e}function S4(r,e,t=!0){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t&&e.shiftKey&&(r="Shift-"+r),r}function Dfe(r){return new Ln({props:{handleKeyDown:_z(r)}})}function _z(r){let e=Lfe(r);return function(t,n){let s=jfe(n),a,i=e[S4(s,n)];if(i&&i(t.state,t.dispatch,t))return!0;if(s.length==1&&s!=" "){if(n.shiftKey){let o=e[S4(s,n,!1)];if(o&&o(t.state,t.dispatch,t))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(Tfe&&n.ctrlKey&&n.altKey)&&(a=Cd[n.keyCode])&&a!=s){let o=e[S4(a,n)];if(o&&o(t.state,t.dispatch,t))return!0}}return!1}}const wE=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function jz(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("backward",r):t.parentOffset>0)?null:t}const Az=(r,e,t)=>{let n=jz(r,t);if(!n)return!1;let s=kE(n);if(!s){let i=n.blockRange(),o=i&&Up(i);return o==null?!1:(e&&e(r.tr.lift(i,o).scrollIntoView()),!0)}let a=s.nodeBefore;if(Fz(r,s,e,-1))return!0;if(n.parent.content.size==0&&(yp(a,"end")||Ft.isSelectable(a)))for(let i=n.depth;;i--){let o=_2(r.doc,n.before(i),n.after(i),Nt.empty);if(o&&o.slice.size<o.to-o.from){if(e){let c=r.tr.step(o);c.setSelection(yp(a,"end")?nr.findFrom(c.doc.resolve(c.mapping.map(s.pos,-1)),-1):Ft.create(c.doc,s.pos-a.nodeSize)),e(c.scrollIntoView())}return!0}if(i==1||n.node(i-1).childCount>1)break}return a.isAtom&&s.depth==n.depth-1?(e&&e(r.tr.delete(s.pos-a.nodeSize,s.pos).scrollIntoView()),!0):!1},Mfe=(r,e,t)=>{let n=jz(r,t);if(!n)return!1;let s=kE(n);return s?Tz(r,s,e):!1},Rfe=(r,e,t)=>{let n=Lz(r,t);if(!n)return!1;let s=CE(n);return s?Tz(r,s,e):!1};function Tz(r,e,t){let n=e.nodeBefore,s=n,a=e.pos-1;for(;!s.isTextblock;a--){if(s.type.spec.isolating)return!1;let u=s.lastChild;if(!u)return!1;s=u}let i=e.nodeAfter,o=i,c=e.pos+1;for(;!o.isTextblock;c++){if(o.type.spec.isolating)return!1;let u=o.firstChild;if(!u)return!1;o=u}let d=_2(r.doc,a,c,Nt.empty);if(!d||d.from!=a||d instanceof vs&&d.slice.size>=c-a)return!1;if(t){let u=r.tr.step(d);u.setSelection(Gt.create(u.doc,a)),t(u.scrollIntoView())}return!0}function yp(r,e,t=!1){for(let n=r;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(t&&n.childCount!=1)return!1}return!1}const Pz=(r,e,t)=>{let{$head:n,empty:s}=r.selection,a=n;if(!s)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("backward",r):n.parentOffset>0)return!1;a=kE(n)}let i=a&&a.nodeBefore;return!i||!Ft.isSelectable(i)?!1:(e&&e(r.tr.setSelection(Ft.create(r.doc,a.pos-i.nodeSize)).scrollIntoView()),!0)};function kE(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function Lz(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("forward",r):t.parentOffset<t.parent.content.size)?null:t}const Dz=(r,e,t)=>{let n=Lz(r,t);if(!n)return!1;let s=CE(n);if(!s)return!1;let a=s.nodeAfter;if(Fz(r,s,e,1))return!0;if(n.parent.content.size==0&&(yp(a,"start")||Ft.isSelectable(a))){let i=_2(r.doc,n.before(),n.after(),Nt.empty);if(i&&i.slice.size<i.to-i.from){if(e){let o=r.tr.step(i);o.setSelection(yp(a,"start")?nr.findFrom(o.doc.resolve(o.mapping.map(s.pos)),1):Ft.create(o.doc,o.mapping.map(s.pos))),e(o.scrollIntoView())}return!0}}return a.isAtom&&s.depth==n.depth-1?(e&&e(r.tr.delete(s.pos,s.pos+a.nodeSize).scrollIntoView()),!0):!1},Mz=(r,e,t)=>{let{$head:n,empty:s}=r.selection,a=n;if(!s)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("forward",r):n.parentOffset<n.parent.content.size)return!1;a=CE(n)}let i=a&&a.nodeAfter;return!i||!Ft.isSelectable(i)?!1:(e&&e(r.tr.setSelection(Ft.create(r.doc,a.pos)).scrollIntoView()),!0)};function CE(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let t=r.node(e);if(r.index(e)+1<t.childCount)return r.doc.resolve(r.after(e+1));if(t.type.spec.isolating)break}return null}const Ife=(r,e)=>{let t=r.selection,n=t instanceof Ft,s;if(n){if(t.node.isTextblock||!Ld(r.doc,t.from))return!1;s=t.from}else if(s=E2(r.doc,t.from,-1),s==null)return!1;if(e){let a=r.tr.join(s);n&&a.setSelection(Ft.create(a.doc,s-r.doc.resolve(s).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},Ofe=(r,e)=>{let t=r.selection,n;if(t instanceof Ft){if(t.node.isTextblock||!Ld(r.doc,t.to))return!1;n=t.to}else if(n=E2(r.doc,t.to,1),n==null)return!1;return e&&e(r.tr.join(n).scrollIntoView()),!0},Ffe=(r,e)=>{let{$from:t,$to:n}=r.selection,s=t.blockRange(n),a=s&&Up(s);return a==null?!1:(e&&e(r.tr.lift(s,a).scrollIntoView()),!0)},Rz=(r,e)=>{let{$head:t,$anchor:n}=r.selection;return!t.parent.type.spec.code||!t.sameParent(n)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function SE(r){for(let e=0;e<r.edgeCount;e++){let{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const Bfe=(r,e)=>{let{$head:t,$anchor:n}=r.selection;if(!t.parent.type.spec.code||!t.sameParent(n))return!1;let s=t.node(-1),a=t.indexAfter(-1),i=SE(s.contentMatchAt(a));if(!i||!s.canReplaceWith(a,a,i))return!1;if(e){let o=t.after(),c=r.tr.replaceWith(o,o,i.createAndFill());c.setSelection(nr.near(c.doc.resolve(o),1)),e(c.scrollIntoView())}return!0},Iz=(r,e)=>{let t=r.selection,{$from:n,$to:s}=t;if(t instanceof ci||n.parent.inlineContent||s.parent.inlineContent)return!1;let a=SE(s.parent.contentMatchAt(s.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let i=(!n.parentOffset&&s.index()<s.parent.childCount?n:s).pos,o=r.tr.insert(i,a.createAndFill());o.setSelection(Gt.create(o.doc,i+1)),e(o.scrollIntoView())}return!0},Oz=(r,e)=>{let{$cursor:t}=r.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let a=t.before();if(Wl(r.doc,a))return e&&e(r.tr.split(a).scrollIntoView()),!0}let n=t.blockRange(),s=n&&Up(n);return s==null?!1:(e&&e(r.tr.lift(n,s).scrollIntoView()),!0)};function zfe(r){return(e,t)=>{let{$from:n,$to:s}=e.selection;if(e.selection instanceof Ft&&e.selection.node.isBlock)return!n.parentOffset||!Wl(e.doc,n.pos)?!1:(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let a=[],i,o,c=!1,d=!1;for(let p=n.depth;;p--)if(n.node(p).isBlock){c=n.end(p)==n.pos+(n.depth-p),d=n.start(p)==n.pos-(n.depth-p),o=SE(n.node(p-1).contentMatchAt(n.indexAfter(p-1))),a.unshift(c&&o?{type:o}:null),i=p;break}else{if(p==1)return!1;a.unshift(null)}let u=e.tr;(e.selection instanceof Gt||e.selection instanceof ci)&&u.deleteSelection();let h=u.mapping.map(n.pos),f=Wl(u.doc,h,a.length,a);if(f||(a[0]=o?{type:o}:null,f=Wl(u.doc,h,a.length,a)),!f)return!1;if(u.split(h,a.length,a),!c&&d&&n.node(i).type!=o){let p=u.mapping.map(n.before(i)),g=u.doc.resolve(p);o&&n.node(i-1).canReplaceWith(g.index(),g.index()+1,o)&&u.setNodeMarkup(u.mapping.map(n.before(i)),o)}return t&&t(u.scrollIntoView()),!0}}const Hfe=zfe(),Ufe=(r,e)=>{let{$from:t,to:n}=r.selection,s,a=t.sharedDepth(n);return a==0?!1:(s=t.before(a),e&&e(r.tr.setSelection(Ft.create(r.doc,s))),!0)};function $fe(r,e,t){let n=e.nodeBefore,s=e.nodeAfter,a=e.index();return!n||!s||!n.type.compatibleContent(s.type)?!1:!n.content.size&&e.parent.canReplace(a-1,a)?(t&&t(r.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(s.isTextblock||Ld(r.doc,e.pos))?!1:(t&&t(r.tr.join(e.pos).scrollIntoView()),!0)}function Fz(r,e,t,n){let s=e.nodeBefore,a=e.nodeAfter,i,o,c=s.type.spec.isolating||a.type.spec.isolating;if(!c&&$fe(r,e,t))return!0;let d=!c&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(i=(o=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&o.matchType(i[0]||a.type).validEnd){if(t){let p=e.pos+a.nodeSize,g=tt.empty;for(let x=i.length-1;x>=0;x--)g=tt.from(i[x].create(null,g));g=tt.from(s.copy(g));let m=r.tr.step(new ws(e.pos-1,p,e.pos,p,new Nt(g,1,0),i.length,!0)),v=m.doc.resolve(p+2*i.length);v.nodeAfter&&v.nodeAfter.type==s.type&&Ld(m.doc,v.pos)&&m.join(v.pos),t(m.scrollIntoView())}return!0}let u=a.type.spec.isolating||n>0&&c?null:nr.findFrom(e,1),h=u&&u.$from.blockRange(u.$to),f=h&&Up(h);if(f!=null&&f>=e.depth)return t&&t(r.tr.lift(h,f).scrollIntoView()),!0;if(d&&yp(a,"start",!0)&&yp(s,"end")){let p=s,g=[];for(;g.push(p),!p.isTextblock;)p=p.lastChild;let m=a,v=1;for(;!m.isTextblock;m=m.firstChild)v++;if(p.canReplace(p.childCount,p.childCount,m.content)){if(t){let x=tt.empty;for(let w=g.length-1;w>=0;w--)x=tt.from(g[w].copy(x));let y=r.tr.step(new ws(e.pos-g.length,e.pos+a.nodeSize,e.pos+v,e.pos+a.nodeSize-v,new Nt(x,g.length,0),0,!0));t(y.scrollIntoView())}return!0}}return!1}function Bz(r){return function(e,t){let n=e.selection,s=r<0?n.$from:n.$to,a=s.depth;for(;s.node(a).isInline;){if(!a)return!1;a--}return s.node(a).isTextblock?(t&&t(e.tr.setSelection(Gt.create(e.doc,r<0?s.start(a):s.end(a)))),!0):!1}}const Vfe=Bz(-1),Wfe=Bz(1);function qfe(r,e=null){return function(t,n){let{$from:s,$to:a}=t.selection,i=s.blockRange(a),o=i&&dE(i,r,e);return o?(n&&n(t.tr.wrap(i,o).scrollIntoView()),!0):!1}}function NA(r,e=null){return function(t,n){let s=!1;for(let a=0;a<t.selection.ranges.length&&!s;a++){let{$from:{pos:i},$to:{pos:o}}=t.selection.ranges[a];t.doc.nodesBetween(i,o,(c,d)=>{if(s)return!1;if(!(!c.isTextblock||c.hasMarkup(r,e)))if(c.type==r)s=!0;else{let u=t.doc.resolve(d),h=u.index();s=u.parent.canReplaceWith(h,h+1,r)}})}if(!s)return!1;if(n){let a=t.tr;for(let i=0;i<t.selection.ranges.length;i++){let{$from:{pos:o},$to:{pos:c}}=t.selection.ranges[i];a.setBlockType(o,c,r,e)}n(a.scrollIntoView())}return!0}}function NE(...r){return function(e,t,n){for(let s=0;s<r.length;s++)if(r[s](e,t,n))return!0;return!1}}NE(wE,Az,Pz);NE(wE,Dz,Mz);NE(Rz,Iz,Oz,Hfe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Yfe(r,e=null){return function(t,n){let{$from:s,$to:a}=t.selection,i=s.blockRange(a);if(!i)return!1;let o=n?t.tr:null;return Gfe(o,i,r,e)?(n&&n(o.scrollIntoView()),!0):!1}}function Gfe(r,e,t,n=null){let s=!1,a=e,i=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=i.resolve(e.start-2);a=new Vy(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new Vy(e.$from,i.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let o=dE(a,t,n,e);return o?(r&&Xfe(r,e,o,s,t),!0):!1}function Xfe(r,e,t,n,s){let a=tt.empty;for(let u=t.length-1;u>=0;u--)a=tt.from(t[u].type.create(t[u].attrs,a));r.step(new ws(e.start-(n?2:0),e.end,e.start,e.end,new Nt(a,0,0),t.length,!0));let i=0;for(let u=0;u<t.length;u++)t[u].type==s&&(i=u+1);let o=t.length-i,c=e.start+t.length-(n?2:0),d=e.parent;for(let u=e.startIndex,h=e.endIndex,f=!0;u<h;u++,f=!1)!f&&Wl(r.doc,c,o)&&(r.split(c,o),c+=2*o),c+=d.child(u).nodeSize;return r}function Zfe(r){return function(e,t){let{$from:n,$to:s}=e.selection,a=n.blockRange(s,i=>i.childCount>0&&i.firstChild.type==r);return a?t?n.node(a.depth-1).type==r?Jfe(e,t,r,a):Kfe(e,t,a):!0:!1}}function Jfe(r,e,t,n){let s=r.tr,a=n.end,i=n.$to.end(n.depth);a<i&&(s.step(new ws(a-1,i,a,i,new Nt(tt.from(t.create(null,n.parent.copy())),1,0),1,!0)),n=new Vy(s.doc.resolve(n.$from.pos),s.doc.resolve(i),n.depth));const o=Up(n);if(o==null)return!1;s.lift(n,o);let c=s.doc.resolve(s.mapping.map(a,-1)-1);return Ld(s.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&s.join(c.pos),e(s.scrollIntoView()),!0}function Kfe(r,e,t){let n=r.tr,s=t.parent;for(let p=t.end,g=t.endIndex-1,m=t.startIndex;g>m;g--)p-=s.child(g).nodeSize,n.delete(p-1,p+1);let a=n.doc.resolve(t.start),i=a.nodeAfter;if(n.mapping.map(t.end)!=t.start+a.nodeAfter.nodeSize)return!1;let o=t.startIndex==0,c=t.endIndex==s.childCount,d=a.node(-1),u=a.index(-1);if(!d.canReplace(u+(o?0:1),u+1,i.content.append(c?tt.empty:tt.from(s))))return!1;let h=a.pos,f=h+i.nodeSize;return n.step(new ws(h-(o?1:0),f+(c?1:0),h+1,f-1,new Nt((o?tt.empty:tt.from(s.copy(tt.empty))).append(c?tt.empty:tt.from(s.copy(tt.empty))),o?0:1,c?0:1),o?0:1)),e(n.scrollIntoView()),!0}function Qfe(r){return function(e,t){let{$from:n,$to:s}=e.selection,a=n.blockRange(s,d=>d.childCount>0&&d.firstChild.type==r);if(!a)return!1;let i=a.startIndex;if(i==0)return!1;let o=a.parent,c=o.child(i-1);if(c.type!=r)return!1;if(t){let d=c.lastChild&&c.lastChild.type==o.type,u=tt.from(d?r.create():null),h=new Nt(tt.from(r.create(null,tt.from(o.type.create(null,u)))),d?3:1,0),f=a.start,p=a.end;t(e.tr.step(new ws(f-(d?3:1),p,f,p,h,1,!0)).scrollIntoView())}return!0}}var epe=Object.defineProperty,zz=(r,e)=>{for(var t in e)epe(r,t,{get:e[t],enumerable:!0})};function L2(r){const{state:e,transaction:t}=r;let{selection:n}=t,{doc:s}=t,{storedMarks:a}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return n},get doc(){return s},get tr(){return n=t.selection,s=t.doc,a=t.storedMarks,t}}}var D2=class{constructor(r){this.editor=r.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=r.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:r,editor:e,state:t}=this,{view:n}=e,{tr:s}=t,a=this.buildProps(s);return Object.fromEntries(Object.entries(r).map(([i,o])=>[i,(...d)=>{const u=o(...d)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(s),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(r,e=!0){const{rawCommands:t,editor:n,state:s}=this,{view:a}=n,i=[],o=!!r,c=r||s.tr,d=()=>(!o&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(h=>h===!0)),u={...Object.fromEntries(Object.entries(t).map(([h,f])=>[h,(...g)=>{const m=this.buildProps(c,e),v=f(...g)(m);return i.push(v),u}])),run:d};return u}createCan(r){const{rawCommands:e,state:t}=this,n=!1,s=r||t.tr,a=this.buildProps(s,n);return{...Object.fromEntries(Object.entries(e).map(([o,c])=>[o,(...d)=>c(...d)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,n)}}buildProps(r,e=!0){const{rawCommands:t,editor:n,state:s}=this,{view:a}=n,i={tr:r,editor:n,view:a,state:L2({state:s,transaction:r}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(r,e),can:()=>this.createCan(r),get commands(){return Object.fromEntries(Object.entries(t).map(([o,c])=>[o,(...d)=>c(...d)(i)]))}};return i}},tpe=class{constructor(){this.callbacks={}}on(r,e){return this.callbacks[r]||(this.callbacks[r]=[]),this.callbacks[r].push(e),this}emit(r,...e){const t=this.callbacks[r];return t&&t.forEach(n=>n.apply(this,e)),this}off(r,e){const t=this.callbacks[r];return t&&(e?this.callbacks[r]=t.filter(n=>n!==e):delete this.callbacks[r]),this}once(r,e){const t=(...n)=>{this.off(r,t),e.apply(this,n)};return this.on(r,t)}removeAllListeners(){this.callbacks={}}};function Hz(r,e){const t=new VB(r);return e.forEach(n=>{n.steps.forEach(s=>{t.step(s)})}),t}var Uz=r=>{const e=r.childNodes;for(let t=e.length-1;t>=0;t-=1){const n=e[t];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?r.removeChild(n):n.nodeType===1&&Uz(n)}return r};function N1(r){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${r}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return Uz(t)}function m0(r,e,t){if(r instanceof ud||r instanceof tt)return r;t={slice:!0,parseOptions:{},...t};const n=typeof r=="object"&&r!==null,s=typeof r=="string";if(n)try{if(Array.isArray(r)&&r.length>0)return tt.fromArray(r.map(o=>e.nodeFromJSON(o)));const i=e.nodeFromJSON(r);return t.errorOnInvalidContent&&i.check(),i}catch(a){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",r,"Error:",a),m0("",e,t)}if(s){if(t.errorOnInvalidContent){let i=!1,o="";const c=new jB({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(i=!0,o=typeof d=="string"?d:d.outerHTML,null)}]}})});if(t.slice?hd.fromSchema(c).parseSlice(N1(r),t.parseOptions):hd.fromSchema(c).parse(N1(r),t.parseOptions),t.errorOnInvalidContent&&i)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const a=hd.fromSchema(e);return t.slice?a.parseSlice(N1(r),t.parseOptions).content:a.parse(N1(r),t.parseOptions)}return m0("",e,t)}function RC(r,e,t={},n={}){return m0(r,e,{slice:!1,parseOptions:t,errorOnInvalidContent:n.errorOnInvalidContent})}function rpe(r){for(let e=0;e<r.edgeCount;e+=1){const{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function npe(r,e,t){const n=[];return r.nodesBetween(e.from,e.to,(s,a)=>{t(s)&&n.push({node:s,pos:a})}),n}function spe(r,e){for(let t=r.depth;t>0;t-=1){const n=r.node(t);if(e(n))return{pos:t>0?r.before(t):0,start:r.start(t),depth:t,node:n}}}function M2(r){return e=>spe(e.$from,r)}function Ot(r,e,t){return r.config[e]===void 0&&r.parent?Ot(r.parent,e,t):typeof r.config[e]=="function"?r.config[e].bind({...t,parent:r.parent?Ot(r.parent,e,t):null}):r.config[e]}function EE(r){return r.map(e=>{const t={name:e.name,options:e.options,storage:e.storage},n=Ot(e,"addExtensions",t);return n?[e,...EE(n())]:e}).flat(10)}function _E(r,e){const t=xh.fromSchema(e).serializeFragment(r),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(t),s.innerHTML}function $z(r){return typeof r=="function"}function Fr(r,e=void 0,...t){return $z(r)?e?r.bind(e)(...t):r(...t):r}function ape(r={}){return Object.keys(r).length===0&&r.constructor===Object}function x0(r){const e=r.filter(s=>s.type==="extension"),t=r.filter(s=>s.type==="node"),n=r.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:n}}function Vz(r){const e=[],{nodeExtensions:t,markExtensions:n}=x0(r),s=[...t,...n],a={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return r.forEach(i=>{const o={name:i.name,options:i.options,storage:i.storage,extensions:s},c=Ot(i,"addGlobalAttributes",o);if(!c)return;c().forEach(u=>{u.types.forEach(h=>{Object.entries(u.attributes).forEach(([f,p])=>{e.push({type:h,name:f,attribute:{...a,...p}})})})})}),s.forEach(i=>{const o={name:i.name,options:i.options,storage:i.storage},c=Ot(i,"addAttributes",o);if(!c)return;const d=c();Object.entries(d).forEach(([u,h])=>{const f={...a,...h};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:i.name,name:u,attribute:f})})}),e}function Un(...r){return r.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([s,a])=>{if(!n[s]){n[s]=a;return}if(s==="class"){const o=a?String(a).split(" "):[],c=n[s]?n[s].split(" "):[],d=o.filter(u=>!c.includes(u));n[s]=[...c,...d].join(" ")}else if(s==="style"){const o=a?a.split(";").map(u=>u.trim()).filter(Boolean):[],c=n[s]?n[s].split(";").map(u=>u.trim()).filter(Boolean):[],d=new Map;c.forEach(u=>{const[h,f]=u.split(":").map(p=>p.trim());d.set(h,f)}),o.forEach(u=>{const[h,f]=u.split(":").map(p=>p.trim());d.set(h,f)}),n[s]=Array.from(d.entries()).map(([u,h])=>`${u}: ${h}`).join("; ")}else n[s]=a}),n},{})}function Ky(r,e){return e.filter(t=>t.type===r.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(r.attrs)||{}:{[t.name]:r.attrs[t.name]}).reduce((t,n)=>Un(t,n),{})}function ipe(r){return typeof r!="string"?r:r.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(r):r==="true"?!0:r==="false"?!1:r}function EA(r,e){return"style"in r?r:{...r,getAttrs:t=>{const n=r.getAttrs?r.getAttrs(t):r.attrs;if(n===!1)return!1;const s=e.reduce((a,i)=>{const o=i.attribute.parseHTML?i.attribute.parseHTML(t):ipe(t.getAttribute(i.name));return o==null?a:{...a,[i.name]:o}},{});return{...n,...s}}}}function _A(r){return Object.fromEntries(Object.entries(r).filter(([e,t])=>e==="attrs"&&ape(t)?!1:t!=null))}function ope(r,e){var t;const n=Vz(r),{nodeExtensions:s,markExtensions:a}=x0(r),i=(t=s.find(d=>Ot(d,"topNode")))==null?void 0:t.name,o=Object.fromEntries(s.map(d=>{const u=n.filter(x=>x.type===d.name),h={name:d.name,options:d.options,storage:d.storage,editor:e},f=r.reduce((x,y)=>{const w=Ot(y,"extendNodeSchema",h);return{...x,...w?w(d):{}}},{}),p=_A({...f,content:Fr(Ot(d,"content",h)),marks:Fr(Ot(d,"marks",h)),group:Fr(Ot(d,"group",h)),inline:Fr(Ot(d,"inline",h)),atom:Fr(Ot(d,"atom",h)),selectable:Fr(Ot(d,"selectable",h)),draggable:Fr(Ot(d,"draggable",h)),code:Fr(Ot(d,"code",h)),whitespace:Fr(Ot(d,"whitespace",h)),linebreakReplacement:Fr(Ot(d,"linebreakReplacement",h)),defining:Fr(Ot(d,"defining",h)),isolating:Fr(Ot(d,"isolating",h)),attrs:Object.fromEntries(u.map(x=>{var y,w;return[x.name,{default:(y=x==null?void 0:x.attribute)==null?void 0:y.default,validate:(w=x==null?void 0:x.attribute)==null?void 0:w.validate}]}))}),g=Fr(Ot(d,"parseHTML",h));g&&(p.parseDOM=g.map(x=>EA(x,u)));const m=Ot(d,"renderHTML",h);m&&(p.toDOM=x=>m({node:x,HTMLAttributes:Ky(x,u)}));const v=Ot(d,"renderText",h);return v&&(p.toText=v),[d.name,p]})),c=Object.fromEntries(a.map(d=>{const u=n.filter(v=>v.type===d.name),h={name:d.name,options:d.options,storage:d.storage,editor:e},f=r.reduce((v,x)=>{const y=Ot(x,"extendMarkSchema",h);return{...v,...y?y(d):{}}},{}),p=_A({...f,inclusive:Fr(Ot(d,"inclusive",h)),excludes:Fr(Ot(d,"excludes",h)),group:Fr(Ot(d,"group",h)),spanning:Fr(Ot(d,"spanning",h)),code:Fr(Ot(d,"code",h)),attrs:Object.fromEntries(u.map(v=>{var x,y;return[v.name,{default:(x=v==null?void 0:v.attribute)==null?void 0:x.default,validate:(y=v==null?void 0:v.attribute)==null?void 0:y.validate}]}))}),g=Fr(Ot(d,"parseHTML",h));g&&(p.parseDOM=g.map(v=>EA(v,u)));const m=Ot(d,"renderHTML",h);return m&&(p.toDOM=v=>m({mark:v,HTMLAttributes:Ky(v,u)})),[d.name,p]}));return new jB({topNode:i,nodes:o,marks:c})}function lpe(r){const e=r.filter((t,n)=>r.indexOf(t)!==n);return Array.from(new Set(e))}function jE(r){return r.sort((t,n)=>{const s=Ot(t,"priority")||100,a=Ot(n,"priority")||100;return s>a?-1:s<a?1:0})}function Wz(r){const e=jE(EE(r)),t=lpe(e.map(n=>n.name));return t.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${t.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function qz(r,e,t){const{from:n,to:s}=e,{blockSeparator:a=`

`,textSerializers:i={}}=t||{};let o="";return r.nodesBetween(n,s,(c,d,u,h)=>{var f;c.isBlock&&d>n&&(o+=a);const p=i==null?void 0:i[c.type.name];if(p)return u&&(o+=p({node:c,pos:d,parent:u,index:h,range:e})),!1;c.isText&&(o+=(f=c==null?void 0:c.text)==null?void 0:f.slice(Math.max(n,d)-d,s-d))}),o}function cpe(r,e){const t={from:0,to:r.content.size};return qz(r,t,e)}function Yz(r){return Object.fromEntries(Object.entries(r.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function oc(r,e){if(typeof r=="string"){if(!e.marks[r])throw Error(`There is no mark type named '${r}'. Maybe you forgot to add the extension?`);return e.marks[r]}return r}function Gz(r,e){const t=oc(e,r.schema),{from:n,to:s,empty:a}=r.selection,i=[];a?(r.storedMarks&&i.push(...r.storedMarks),i.push(...r.selection.$head.marks())):r.doc.nodesBetween(n,s,c=>{i.push(...c.marks)});const o=i.find(c=>c.type.name===t.name);return o?{...o.attrs}:{}}function Kn(r,e){if(typeof r=="string"){if(!e.nodes[r])throw Error(`There is no node type named '${r}'. Maybe you forgot to add the extension?`);return e.nodes[r]}return r}function dpe(r,e){const t=Kn(e,r.schema),{from:n,to:s}=r.selection,a=[];r.doc.nodesBetween(n,s,o=>{a.push(o)});const i=a.reverse().find(o=>o.type.name===t.name);return i?{...i.attrs}:{}}function R2(r,e){return e.nodes[r]?"node":e.marks[r]?"mark":null}function Xz(r,e){const t=R2(typeof e=="string"?e:e.name,r.schema);return t==="node"?dpe(r,e):t==="mark"?Gz(r,e):{}}function upe(r,e=JSON.stringify){const t={};return r.filter(n=>{const s=e(n);return Object.prototype.hasOwnProperty.call(t,s)?!1:t[s]=!0})}function hpe(r){const e=upe(r);return e.length===1?e:e.filter((t,n)=>!e.filter((a,i)=>i!==n).some(a=>t.oldRange.from>=a.oldRange.from&&t.oldRange.to<=a.oldRange.to&&t.newRange.from>=a.newRange.from&&t.newRange.to<=a.newRange.to))}function Zz(r){const{mapping:e,steps:t}=r,n=[];return e.maps.forEach((s,a)=>{const i=[];if(s.ranges.length)s.forEach((o,c)=>{i.push({from:o,to:c})});else{const{from:o,to:c}=t[a];if(o===void 0||c===void 0)return;i.push({from:o,to:c})}i.forEach(({from:o,to:c})=>{const d=e.slice(a).map(o,-1),u=e.slice(a).map(c),h=e.invert().map(d,-1),f=e.invert().map(u);n.push({oldRange:{from:h,to:f},newRange:{from:d,to:u}})})}),hpe(n)}function AE(r){return Object.prototype.toString.call(r)==="[object RegExp]"}function Qy(r,e,t={strict:!0}){const n=Object.keys(e);return n.length?n.every(s=>t.strict?e[s]===r[s]:AE(e[s])?e[s].test(r[s]):e[s]===r[s]):!0}function Jz(r,e,t={}){return r.find(n=>n.type===e&&Qy(Object.fromEntries(Object.keys(t).map(s=>[s,n.attrs[s]])),t))}function jA(r,e,t={}){return!!Jz(r,e,t)}function TE(r,e,t){var n;if(!r||!e)return;let s=r.parent.childAfter(r.parentOffset);if((!s.node||!s.node.marks.some(u=>u.type===e))&&(s=r.parent.childBefore(r.parentOffset)),!s.node||!s.node.marks.some(u=>u.type===e)||(t=t||((n=s.node.marks[0])==null?void 0:n.attrs),!Jz([...s.node.marks],e,t)))return;let i=s.index,o=r.start()+s.offset,c=i+1,d=o+s.node.nodeSize;for(;i>0&&jA([...r.parent.child(i-1).marks],e,t);)i-=1,o-=r.parent.child(i).nodeSize;for(;c<r.parent.childCount&&jA([...r.parent.child(c).marks],e,t);)d+=r.parent.child(c).nodeSize,c+=1;return{from:o,to:d}}function PE(r,e,t){const n=[];return r===e?t.resolve(r).marks().forEach(s=>{const a=t.resolve(r),i=TE(a,s.type);i&&n.push({mark:s,...i})}):t.nodesBetween(r,e,(s,a)=>{!s||(s==null?void 0:s.nodeSize)===void 0||n.push(...s.marks.map(i=>({from:a,to:a+s.nodeSize,mark:i})))}),n}var fpe=(r,e,t,n=20)=>{const s=r.doc.resolve(t);let a=n,i=null;for(;a>0&&i===null;){const o=s.node(a);(o==null?void 0:o.type.name)===e?i=o:a-=1}return[i,a]};function N4(r,e){return e.nodes[r]||e.marks[r]||null}function Cv(r,e,t){return Object.fromEntries(Object.entries(t).filter(([n])=>{const s=r.find(a=>a.type===e&&a.name===n);return s?s.attribute.keepOnSplit:!1}))}var ppe=(r,e=500)=>{let t="";const n=r.parentOffset;return r.parent.nodesBetween(Math.max(0,n-e),n,(s,a,i,o)=>{var c,d;const u=((d=(c=s.type.spec).toText)==null?void 0:d.call(c,{node:s,pos:a,parent:i,index:o}))||s.textContent||"%leaf%";t+=s.isAtom&&!s.isText?u:u.slice(0,Math.max(0,n-a))}),t};function IC(r,e,t={}){const{empty:n,ranges:s}=r.selection,a=e?oc(e,r.schema):null;if(n)return!!(r.storedMarks||r.selection.$from.marks()).filter(h=>a?a.name===h.type.name:!0).find(h=>Qy(h.attrs,t,{strict:!1}));let i=0;const o=[];if(s.forEach(({$from:h,$to:f})=>{const p=h.pos,g=f.pos;r.doc.nodesBetween(p,g,(m,v)=>{if(!m.isText&&!m.marks.length)return;const x=Math.max(p,v),y=Math.min(g,v+m.nodeSize),w=y-x;i+=w,o.push(...m.marks.map(k=>({mark:k,from:x,to:y})))})}),i===0)return!1;const c=o.filter(h=>a?a.name===h.mark.type.name:!0).filter(h=>Qy(h.mark.attrs,t,{strict:!1})).reduce((h,f)=>h+f.to-f.from,0),d=o.filter(h=>a?h.mark.type!==a&&h.mark.type.excludes(a):!0).reduce((h,f)=>h+f.to-f.from,0);return(c>0?c+d:c)>=i}function Sd(r,e,t={}){const{from:n,to:s,empty:a}=r.selection,i=e?Kn(e,r.schema):null,o=[];r.doc.nodesBetween(n,s,(h,f)=>{if(h.isText)return;const p=Math.max(n,f),g=Math.min(s,f+h.nodeSize);o.push({node:h,from:p,to:g})});const c=s-n,d=o.filter(h=>i?i.name===h.node.type.name:!0).filter(h=>Qy(h.node.attrs,t,{strict:!1}));return a?!!d.length:d.reduce((h,f)=>h+f.to-f.from,0)>=c}function gpe(r,e,t={}){if(!e)return Sd(r,null,t)||IC(r,null,t);const n=R2(e,r.schema);return n==="node"?Sd(r,e,t):n==="mark"?IC(r,e,t):!1}var mpe=(r,e)=>{const{$from:t,$to:n,$anchor:s}=r.selection;if(e){const a=M2(o=>o.type.name===e)(r.selection);if(!a)return!1;const i=r.doc.resolve(a.pos+1);return s.pos+1===i.end()}return!(n.parentOffset<n.parent.nodeSize-2||t.pos!==n.pos)},xpe=r=>{const{$from:e,$to:t}=r.selection;return!(e.parentOffset>0||e.pos!==t.pos)};function AA(r,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===r.name):e}function TA(r,e){const{nodeExtensions:t}=x0(e),n=t.find(i=>i.name===r);if(!n)return!1;const s={name:n.name,options:n.options,storage:n.storage},a=Fr(Ot(n,"group",s));return typeof a!="string"?!1:a.split(" ").includes("list")}function I2(r,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var n;if(t){if(r.type.name==="hardBreak")return!0;if(r.isText)return/^\s*$/m.test((n=r.text)!=null?n:"")}if(r.isText)return!r.text;if(r.isAtom||r.isLeaf)return!1;if(r.content.childCount===0)return!0;if(e){let s=!0;return r.content.forEach(a=>{s!==!1&&(I2(a,{ignoreWhitespace:t,checkChildren:e})||(s=!1))}),s}return!1}function Kz(r){return r instanceof Ft}function Qz(r){return r instanceof Gt}function _u(r=0,e=0,t=0){return Math.min(Math.max(r,e),t)}function eH(r,e=null){if(!e)return null;const t=nr.atStart(r),n=nr.atEnd(r);if(e==="start"||e===!0)return t;if(e==="end")return n;const s=t.from,a=n.to;return e==="all"?Gt.create(r,_u(0,s,a),_u(r.content.size,s,a)):Gt.create(r,_u(e,s,a),_u(e,s,a))}function vpe(r,e,t){const n=r.steps.length-1;if(n<e)return;const s=r.steps[n];if(!(s instanceof vs||s instanceof ws))return;const a=r.mapping.maps[n];let i=0;a.forEach((o,c,d,u)=>{i===0&&(i=u)}),r.setSelection(nr.near(r.doc.resolve(i),t))}var O2=class{constructor(r){this.find=r.find,this.handler=r.handler}},ype=(r,e)=>{if(AE(e))return e.exec(r);const t=e(r);if(!t)return null;const n=[t.text];return n.index=t.index,n.input=r,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(t.replaceWith)),n};function E1(r){var e;const{editor:t,from:n,to:s,text:a,rules:i,plugin:o}=r,{view:c}=t;if(c.composing)return!1;const d=c.state.doc.resolve(n);if(d.parent.type.spec.code||(e=d.nodeBefore||d.nodeAfter)!=null&&e.marks.find(f=>f.type.spec.code))return!1;let u=!1;const h=ppe(d)+a;return i.forEach(f=>{if(u)return;const p=ype(h,f.find);if(!p)return;const g=c.state.tr,m=L2({state:c.state,transaction:g}),v={from:n-(p[0].length-a.length),to:s},{commands:x,chain:y,can:w}=new D2({editor:t,state:m});f.handler({state:m,range:v,match:p,commands:x,chain:y,can:w})===null||!g.steps.length||(g.setMeta(o,{transform:g,from:n,to:s,text:a}),c.dispatch(g),u=!0)}),u}function bpe(r){const{editor:e,rules:t}=r,n=new Ln({state:{init(){return null},apply(s,a,i){const o=s.getMeta(n);if(o)return o;const c=s.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:u}=c;typeof u=="string"?u=u:u=_E(tt.from(u),i.schema);const{from:h}=c,f=h+u.length;E1({editor:e,from:h,to:f,text:u,rules:t,plugin:n})}),s.selectionSet||s.docChanged?null:a}},props:{handleTextInput(s,a,i,o){return E1({editor:e,from:a,to:i,text:o,rules:t,plugin:n})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:a}=s.state.selection;a&&E1({editor:e,from:a.pos,to:a.pos,text:"",rules:t,plugin:n})}),!1)},handleKeyDown(s,a){if(a.key!=="Enter")return!1;const{$cursor:i}=s.state.selection;return i?E1({editor:e,from:i.pos,to:i.pos,text:`
`,rules:t,plugin:n}):!1}},isInputRules:!0});return n}function wpe(r){return Object.prototype.toString.call(r).slice(8,-1)}function _1(r){return wpe(r)!=="Object"?!1:r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype}function tH(r,e){const t={...r};return _1(r)&&_1(e)&&Object.keys(e).forEach(n=>{_1(e[n])&&_1(r[n])?t[n]=tH(r[n],e[n]):t[n]=e[n]}),t}var LE=class{constructor(r={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...r},this.name=this.config.name}get options(){return{...Fr(Ot(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Fr(Ot(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(r={}){const e=this.extend({...this.config,addOptions:()=>tH(this.options,r)});return e.name=this.name,e.parent=this.parent,e}extend(r={}){const e=new this.constructor({...this.config,...r});return e.parent=this,this.child=e,e.name="name"in r?r.name:e.parent.name,e}},Md=class rH extends LE{constructor(){super(...arguments),this.type="mark"}static create(e={}){const t=typeof e=="function"?e():e;return new rH(t)}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const i=s.marks();if(!!!i.find(d=>(d==null?void 0:d.type.name)===t.name))return!1;const c=i.find(d=>(d==null?void 0:d.type.name)===t.name);return c&&n.removeStoredMark(c),n.insertText(" ",s.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function kpe(r){return typeof r=="number"}var Cpe=class{constructor(r){this.find=r.find,this.handler=r.handler}},Spe=(r,e,t)=>{if(AE(e))return[...r.matchAll(e)];const n=e(r,t);return n?n.map(s=>{const a=[s.text];return a.index=s.index,a.input=r,a.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(s.replaceWith)),a}):[]};function Npe(r){const{editor:e,state:t,from:n,to:s,rule:a,pasteEvent:i,dropEvent:o}=r,{commands:c,chain:d,can:u}=new D2({editor:e,state:t}),h=[];return t.doc.nodesBetween(n,s,(p,g)=>{if(!p.isTextblock||p.type.spec.code)return;const m=Math.max(n,g),v=Math.min(s,g+p.content.size),x=p.textBetween(m-g,v-g,void 0,"￼");Spe(x,a.find,i).forEach(w=>{if(w.index===void 0)return;const k=m+w.index+1,S=k+w[0].length,N={from:t.tr.mapping.map(k),to:t.tr.mapping.map(S)},A=a.handler({state:t,range:N,match:w,commands:c,chain:d,can:u,pasteEvent:i,dropEvent:o});h.push(A)})}),h.every(p=>p!==null)}var j1=null,Epe=r=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)==null||e.setData("text/html",r),t};function _pe(r){const{editor:e,rules:t}=r;let n=null,s=!1,a=!1,i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,o;try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}const c=({state:u,from:h,to:f,rule:p,pasteEvt:g})=>{const m=u.tr,v=L2({state:u,transaction:m});if(!(!Npe({editor:e,state:v,from:Math.max(h-1,0),to:f.b-1,rule:p,pasteEvent:g,dropEvent:o})||!m.steps.length)){try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}return i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m}};return t.map(u=>new Ln({view(h){const f=g=>{var m;n=(m=h.dom.parentElement)!=null&&m.contains(g.target)?h.dom.parentElement:null,n&&(j1=e)},p=()=>{j1&&(j1=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(h,f)=>{if(a=n===h.dom.parentElement,o=f,!a){const p=j1;p!=null&&p.isEditable&&setTimeout(()=>{const g=p.state.selection;g&&p.commands.deleteRange({from:g.from,to:g.to})},10)}return!1},paste:(h,f)=>{var p;const g=(p=f.clipboardData)==null?void 0:p.getData("text/html");return i=f,s=!!(g!=null&&g.includes("data-pm-slice")),!1}}},appendTransaction:(h,f,p)=>{const g=h[0],m=g.getMeta("uiEvent")==="paste"&&!s,v=g.getMeta("uiEvent")==="drop"&&!a,x=g.getMeta("applyPasteRules"),y=!!x;if(!m&&!v&&!y)return;if(y){let{text:S}=x;typeof S=="string"?S=S:S=_E(tt.from(S),p.schema);const{from:N}=x,A=N+S.length,E=Epe(S);return c({rule:u,state:p,from:N,to:{b:A},pasteEvt:E})}const w=f.doc.content.findDiffStart(p.doc.content),k=f.doc.content.findDiffEnd(p.doc.content);if(!(!kpe(w)||!k||w===k.b))return c({rule:u,state:p,from:w,to:k,pasteEvt:i})}}))}var F2=class{constructor(r,e){this.splittableMarks=[],this.editor=e,this.extensions=Wz(r),this.schema=ope(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((r,e)=>{const t={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:N4(e.name,this.schema)},n=Ot(e,"addCommands",t);return n?{...r,...n()}:r},{})}get plugins(){const{editor:r}=this,e=jE([...this.extensions].reverse()),t=[],n=[],s=e.map(a=>{const i={name:a.name,options:a.options,storage:this.editor.extensionStorage[a.name],editor:r,type:N4(a.name,this.schema)},o=[],c=Ot(a,"addKeyboardShortcuts",i);let d={};if(a.type==="mark"&&Ot(a,"exitable",i)&&(d.ArrowRight=()=>Md.handleExit({editor:r,mark:a})),c){const g=Object.fromEntries(Object.entries(c()).map(([m,v])=>[m,()=>v({editor:r})]));d={...d,...g}}const u=Dfe(d);o.push(u);const h=Ot(a,"addInputRules",i);AA(a,r.options.enableInputRules)&&h&&t.push(...h());const f=Ot(a,"addPasteRules",i);AA(a,r.options.enablePasteRules)&&f&&n.push(...f());const p=Ot(a,"addProseMirrorPlugins",i);if(p){const g=p();o.push(...g)}return o}).flat();return[bpe({editor:r,rules:t}),..._pe({editor:r,rules:n}),...s]}get attributes(){return Vz(this.extensions)}get nodeViews(){const{editor:r}=this,{nodeExtensions:e}=x0(this.extensions);return Object.fromEntries(e.filter(t=>!!Ot(t,"addNodeView")).map(t=>{const n=this.attributes.filter(o=>o.type===t.name),s={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:r,type:Kn(t.name,this.schema)},a=Ot(t,"addNodeView",s);if(!a)return[];const i=(o,c,d,u,h)=>{const f=Ky(o,n);return a()({node:o,view:c,getPos:d,decorations:u,innerDecorations:h,editor:r,extension:t,HTMLAttributes:f})};return[t.name,i]}))}get markViews(){const{editor:r}=this,{markExtensions:e}=x0(this.extensions);return Object.fromEntries(e.filter(t=>!!Ot(t,"addMarkView")).map(t=>{const n=this.attributes.filter(o=>o.type===t.name),s={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:r,type:oc(t.name,this.schema)},a=Ot(t,"addMarkView",s);if(!a)return[];const i=(o,c,d)=>{const u=Ky(o,n);return a()({mark:o,view:c,inline:d,editor:r,extension:t,HTMLAttributes:u,updateAttributes:h=>{$ge(o,r,h)}})};return[t.name,i]}))}setupExtensions(){const r=this.extensions;this.editor.extensionStorage=Object.fromEntries(r.map(e=>[e.name,e.storage])),r.forEach(e=>{var t;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:N4(e.name,this.schema)};e.type==="mark"&&((t=Fr(Ot(e,"keepOnSplit",n)))==null||t)&&this.splittableMarks.push(e.name);const s=Ot(e,"onBeforeCreate",n),a=Ot(e,"onCreate",n),i=Ot(e,"onUpdate",n),o=Ot(e,"onSelectionUpdate",n),c=Ot(e,"onTransaction",n),d=Ot(e,"onFocus",n),u=Ot(e,"onBlur",n),h=Ot(e,"onDestroy",n);s&&this.editor.on("beforeCreate",s),a&&this.editor.on("create",a),i&&this.editor.on("update",i),o&&this.editor.on("selectionUpdate",o),c&&this.editor.on("transaction",c),d&&this.editor.on("focus",d),u&&this.editor.on("blur",u),h&&this.editor.on("destroy",h)})}};F2.resolve=Wz;F2.sort=jE;F2.flatten=EE;var jpe={};zz(jpe,{ClipboardTextSerializer:()=>sH,Commands:()=>oH,Delete:()=>lH,Drop:()=>cH,Editable:()=>dH,FocusEvents:()=>hH,Keymap:()=>fH,Paste:()=>pH,Tabindex:()=>gH,focusEventsPluginKey:()=>uH});var sn=class nH extends LE{constructor(){super(...arguments),this.type="extension"}static create(e={}){const t=typeof e=="function"?e():e;return new nH(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}},sH=sn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ln({key:new Cs("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:r}=this,{state:e,schema:t}=r,{doc:n,selection:s}=e,{ranges:a}=s,i=Math.min(...a.map(u=>u.$from.pos)),o=Math.max(...a.map(u=>u.$to.pos)),c=Yz(t);return qz(n,{from:i,to:o},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),aH={};zz(aH,{blur:()=>Ape,clearContent:()=>Tpe,clearNodes:()=>Ppe,command:()=>Lpe,createParagraphNear:()=>Dpe,cut:()=>Mpe,deleteCurrentNode:()=>Rpe,deleteNode:()=>Ipe,deleteRange:()=>Ope,deleteSelection:()=>Fpe,enter:()=>Bpe,exitCode:()=>zpe,extendMarkRange:()=>Hpe,first:()=>Upe,focus:()=>Vpe,forEach:()=>Wpe,insertContent:()=>qpe,insertContentAt:()=>Gpe,joinBackward:()=>Jpe,joinDown:()=>Zpe,joinForward:()=>Kpe,joinItemBackward:()=>Qpe,joinItemForward:()=>ege,joinTextblockBackward:()=>tge,joinTextblockForward:()=>rge,joinUp:()=>Xpe,keyboardShortcut:()=>sge,lift:()=>age,liftEmptyBlock:()=>ige,liftListItem:()=>oge,newlineInCode:()=>lge,resetAttributes:()=>cge,scrollIntoView:()=>dge,selectAll:()=>uge,selectNodeBackward:()=>hge,selectNodeForward:()=>fge,selectParentNode:()=>pge,selectTextblockEnd:()=>gge,selectTextblockStart:()=>mge,setContent:()=>xge,setMark:()=>yge,setMeta:()=>bge,setNode:()=>wge,setNodeSelection:()=>kge,setTextSelection:()=>Cge,sinkListItem:()=>Sge,splitBlock:()=>Nge,splitListItem:()=>Ege,toggleList:()=>_ge,toggleMark:()=>jge,toggleNode:()=>Age,toggleWrap:()=>Tge,undoInputRule:()=>Pge,unsetAllMarks:()=>Lge,unsetMark:()=>Dge,updateAttributes:()=>Mge,wrapIn:()=>Rge,wrapInList:()=>Ige});var Ape=()=>({editor:r,view:e})=>(requestAnimationFrame(()=>{var t;r.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())==null||t.removeAllRanges())}),!0),Tpe=(r=!0)=>({commands:e})=>e.setContent("",{emitUpdate:r}),Ppe=()=>({state:r,tr:e,dispatch:t})=>{const{selection:n}=e,{ranges:s}=n;return t&&s.forEach(({$from:a,$to:i})=>{r.doc.nodesBetween(a.pos,i.pos,(o,c)=>{if(o.type.isText)return;const{doc:d,mapping:u}=e,h=d.resolve(u.map(c)),f=d.resolve(u.map(c+o.nodeSize)),p=h.blockRange(f);if(!p)return;const g=Up(p);if(o.type.isTextblock){const{defaultType:m}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(p.start,m)}(g||g===0)&&e.lift(p,g)})}),!0},Lpe=r=>e=>r(e),Dpe=()=>({state:r,dispatch:e})=>Iz(r,e),Mpe=(r,e)=>({editor:t,tr:n})=>{const{state:s}=t,a=s.doc.slice(r.from,r.to);n.deleteRange(r.from,r.to);const i=n.mapping.map(e);return n.insert(i,a.content),n.setSelection(new Gt(n.doc.resolve(Math.max(i-1,0)))),!0},Rpe=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,n=t.$anchor.node();if(n.content.size>0)return!1;const s=r.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===n.type){if(e){const o=s.before(a),c=s.after(a);r.delete(o,c).scrollIntoView()}return!0}return!1},Ipe=r=>({tr:e,state:t,dispatch:n})=>{const s=Kn(r,t.schema),a=e.selection.$anchor;for(let i=a.depth;i>0;i-=1)if(a.node(i).type===s){if(n){const c=a.before(i),d=a.after(i);e.delete(c,d).scrollIntoView()}return!0}return!1},Ope=r=>({tr:e,dispatch:t})=>{const{from:n,to:s}=r;return t&&e.delete(n,s),!0},Fpe=()=>({state:r,dispatch:e})=>wE(r,e),Bpe=()=>({commands:r})=>r.keyboardShortcut("Enter"),zpe=()=>({state:r,dispatch:e})=>Bfe(r,e),Hpe=(r,e={})=>({tr:t,state:n,dispatch:s})=>{const a=oc(r,n.schema),{doc:i,selection:o}=t,{$from:c,from:d,to:u}=o;if(s){const h=TE(c,a,e);if(h&&h.from<=d&&h.to>=u){const f=Gt.create(i,h.from,h.to);t.setSelection(f)}}return!0},Upe=r=>e=>{const t=typeof r=="function"?r(e):r;for(let n=0;n<t.length;n+=1)if(t[n](e))return!0;return!1};function $pe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function DE(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var Vpe=(r=null,e={})=>({editor:t,view:n,tr:s,dispatch:a})=>{e={scrollIntoView:!0,...e};const i=()=>{(DE()||$pe())&&n.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(n.hasFocus()&&r===null||r===!1)return!0;if(a&&r===null&&!Qz(t.state.selection))return i(),!0;const o=eH(s.doc,r)||t.state.selection,c=t.state.selection.eq(o);return a&&(c||s.setSelection(o),c&&s.storedMarks&&s.setStoredMarks(s.storedMarks),i()),!0},Wpe=(r,e)=>t=>r.every((n,s)=>e(n,{...t,index:s})),qpe=(r,e)=>({tr:t,commands:n})=>n.insertContentAt({from:t.selection.from,to:t.selection.to},r,e),Ype=r=>!("type"in r),Gpe=(r,e,t)=>({tr:n,dispatch:s,editor:a})=>{var i;if(s){t={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let o;const{selection:c}=a.state,d=x=>{a.emit("contentError",{editor:a,error:x,disableCollaboration:()=>{"collaboration"in a.storage&&typeof a.storage.collaboration=="object"&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{m0(e,a.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(x){d(x)}try{o=m0(e,a.schema,{parseOptions:u,errorOnInvalidContent:(i=t.errorOnInvalidContent)!=null?i:a.options.enableContentCheck})}catch(x){return d(x),!1}let{from:h,to:f}=typeof r=="number"?{from:r,to:r}:{from:r.from,to:r.to},p=!0,g=!0;if((Ype(o)?o:[o]).forEach(x=>{x.check(),p=p?x.isText&&x.marks.length===0:!1,g=g?x.isBlock:!1}),h===f&&g){const{parent:x}=n.doc.resolve(h);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(h-=1,f+=1)}let v;if(p){if(Array.isArray(e))v=e.map(x=>x.text||"").join("");else if(e instanceof tt){let x="";e.forEach(y=>{y.text&&(x+=y.text)}),v=x}else typeof e=="object"&&e&&e.text?v=e.text:v=e;n.insertText(v,h,f)}else{v=o;const x=c.$from.parentOffset===0,y=c.$from.node().isText||c.$from.node().isTextblock,w=c.$from.node().content.size>0;x&&y&&w&&(h=Math.max(0,h-1)),n.replaceWith(h,f,v)}t.updateSelection&&vpe(n,n.steps.length-1,-1),t.applyInputRules&&n.setMeta("applyInputRules",{from:h,text:v}),t.applyPasteRules&&n.setMeta("applyPasteRules",{from:h,text:v})}return!0},Xpe=()=>({state:r,dispatch:e})=>Ife(r,e),Zpe=()=>({state:r,dispatch:e})=>Ofe(r,e),Jpe=()=>({state:r,dispatch:e})=>Az(r,e),Kpe=()=>({state:r,dispatch:e})=>Dz(r,e),Qpe=()=>({state:r,dispatch:e,tr:t})=>{try{const n=E2(r.doc,r.selection.$from.pos,-1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}},ege=()=>({state:r,dispatch:e,tr:t})=>{try{const n=E2(r.doc,r.selection.$from.pos,1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}},tge=()=>({state:r,dispatch:e})=>Mfe(r,e),rge=()=>({state:r,dispatch:e})=>Rfe(r,e);function iH(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function nge(r){const e=r.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let n,s,a,i;for(let o=0;o<e.length-1;o+=1){const c=e[o];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))DE()||iH()?i=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return n&&(t=`Alt-${t}`),s&&(t=`Ctrl-${t}`),i&&(t=`Meta-${t}`),a&&(t=`Shift-${t}`),t}var sge=r=>({editor:e,view:t,tr:n,dispatch:s})=>{const a=nge(r).split(/-(?!$)/),i=a.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),o=new KeyboardEvent("keydown",{key:i==="Space"?" ":i,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{t.someProp("handleKeyDown",d=>d(t,o))});return c==null||c.steps.forEach(d=>{const u=d.map(n.mapping);u&&s&&n.maybeStep(u)}),!0},age=(r,e={})=>({state:t,dispatch:n})=>{const s=Kn(r,t.schema);return Sd(t,s,e)?Ffe(t,n):!1},ige=()=>({state:r,dispatch:e})=>Oz(r,e),oge=r=>({state:e,dispatch:t})=>{const n=Kn(r,e.schema);return Zfe(n)(e,t)},lge=()=>({state:r,dispatch:e})=>Rz(r,e);function PA(r,e){const t=typeof e=="string"?[e]:e;return Object.keys(r).reduce((n,s)=>(t.includes(s)||(n[s]=r[s]),n),{})}var cge=(r,e)=>({tr:t,state:n,dispatch:s})=>{let a=null,i=null;const o=R2(typeof r=="string"?r:r.name,n.schema);return o?(o==="node"&&(a=Kn(r,n.schema)),o==="mark"&&(i=oc(r,n.schema)),s&&t.selection.ranges.forEach(c=>{n.doc.nodesBetween(c.$from.pos,c.$to.pos,(d,u)=>{a&&a===d.type&&t.setNodeMarkup(u,void 0,PA(d.attrs,e)),i&&d.marks.length&&d.marks.forEach(h=>{i===h.type&&t.addMark(u,u+d.nodeSize,i.create(PA(h.attrs,e)))})})}),!0):!1},dge=()=>({tr:r,dispatch:e})=>(e&&r.scrollIntoView(),!0),uge=()=>({tr:r,dispatch:e})=>{if(e){const t=new ci(r.doc);r.setSelection(t)}return!0},hge=()=>({state:r,dispatch:e})=>Pz(r,e),fge=()=>({state:r,dispatch:e})=>Mz(r,e),pge=()=>({state:r,dispatch:e})=>Ufe(r,e),gge=()=>({state:r,dispatch:e})=>Wfe(r,e),mge=()=>({state:r,dispatch:e})=>Vfe(r,e),xge=(r,{errorOnInvalidContent:e,emitUpdate:t=!0,parseOptions:n={}}={})=>({editor:s,tr:a,dispatch:i,commands:o})=>{const{doc:c}=a;if(n.preserveWhitespace!=="full"){const d=RC(r,s.schema,n,{errorOnInvalidContent:e??s.options.enableContentCheck});return i&&a.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!t),!0}return i&&a.setMeta("preventUpdate",!t),o.insertContentAt({from:0,to:c.content.size},r,{parseOptions:n,errorOnInvalidContent:e??s.options.enableContentCheck})};function vge(r,e,t){var n;const{selection:s}=e;let a=null;if(Qz(s)&&(a=s.$cursor),a){const o=(n=r.storedMarks)!=null?n:a.marks();return!!t.isInSet(o)||!o.some(c=>c.type.excludes(t))}const{ranges:i}=s;return i.some(({$from:o,$to:c})=>{let d=o.depth===0?r.doc.inlineContent&&r.doc.type.allowsMarkType(t):!1;return r.doc.nodesBetween(o.pos,c.pos,(u,h,f)=>{if(d)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(t),g=!!t.isInSet(u.marks)||!u.marks.some(m=>m.type.excludes(t));d=p&&g}return!d}),d})}var yge=(r,e={})=>({tr:t,state:n,dispatch:s})=>{const{selection:a}=t,{empty:i,ranges:o}=a,c=oc(r,n.schema);if(s)if(i){const d=Gz(n,c);t.addStoredMark(c.create({...d,...e}))}else o.forEach(d=>{const u=d.$from.pos,h=d.$to.pos;n.doc.nodesBetween(u,h,(f,p)=>{const g=Math.max(p,u),m=Math.min(p+f.nodeSize,h);f.marks.find(x=>x.type===c)?f.marks.forEach(x=>{c===x.type&&t.addMark(g,m,c.create({...x.attrs,...e}))}):t.addMark(g,m,c.create(e))})});return vge(n,t,c)},bge=(r,e)=>({tr:t})=>(t.setMeta(r,e),!0),wge=(r,e={})=>({state:t,dispatch:n,chain:s})=>{const a=Kn(r,t.schema);let i;return t.selection.$anchor.sameParent(t.selection.$head)&&(i=t.selection.$anchor.parent.attrs),a.isTextblock?s().command(({commands:o})=>NA(a,{...i,...e})(t)?!0:o.clearNodes()).command(({state:o})=>NA(a,{...i,...e})(o,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},kge=r=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,s=_u(r,0,n.content.size),a=Ft.create(n,s);e.setSelection(a)}return!0},Cge=r=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,{from:s,to:a}=typeof r=="number"?{from:r,to:r}:r,i=Gt.atStart(n).from,o=Gt.atEnd(n).to,c=_u(s,i,o),d=_u(a,i,o),u=Gt.create(n,c,d);e.setSelection(u)}return!0},Sge=r=>({state:e,dispatch:t})=>{const n=Kn(r,e.schema);return Qfe(n)(e,t)};function LA(r,e){const t=r.storedMarks||r.selection.$to.parentOffset&&r.selection.$from.marks();if(t){const n=t.filter(s=>e==null?void 0:e.includes(s.type.name));r.tr.ensureMarks(n)}}var Nge=({keepMarks:r=!0}={})=>({tr:e,state:t,dispatch:n,editor:s})=>{const{selection:a,doc:i}=e,{$from:o,$to:c}=a,d=s.extensionManager.attributes,u=Cv(d,o.node().type.name,o.node().attrs);if(a instanceof Ft&&a.node.isBlock)return!o.parentOffset||!Wl(i,o.pos)?!1:(n&&(r&&LA(t,s.extensionManager.splittableMarks),e.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;const h=c.parentOffset===c.parent.content.size,f=o.depth===0?void 0:rpe(o.node(-1).contentMatchAt(o.indexAfter(-1)));let p=h&&f?[{type:f,attrs:u}]:void 0,g=Wl(e.doc,e.mapping.map(o.pos),1,p);if(!p&&!g&&Wl(e.doc,e.mapping.map(o.pos),1,f?[{type:f}]:void 0)&&(g=!0,p=f?[{type:f,attrs:u}]:void 0),n){if(g&&(a instanceof Gt&&e.deleteSelection(),e.split(e.mapping.map(o.pos),1,p),f&&!h&&!o.parentOffset&&o.parent.type!==f)){const m=e.mapping.map(o.before()),v=e.doc.resolve(m);o.node(-1).canReplaceWith(v.index(),v.index()+1,f)&&e.setNodeMarkup(e.mapping.map(o.before()),f)}r&&LA(t,s.extensionManager.splittableMarks),e.scrollIntoView()}return g},Ege=(r,e={})=>({tr:t,state:n,dispatch:s,editor:a})=>{var i;const o=Kn(r,n.schema),{$from:c,$to:d}=n.selection,u=n.selection.node;if(u&&u.isBlock||c.depth<2||!c.sameParent(d))return!1;const h=c.node(-1);if(h.type!==o)return!1;const f=a.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==o||c.index(-2)!==c.node(-2).childCount-1)return!1;if(s){let x=tt.empty;const y=c.index(-1)?1:c.index(-2)?2:3;for(let E=c.depth-y;E>=c.depth-3;E-=1)x=tt.from(c.node(E).copy(x));const w=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,k={...Cv(f,c.node().type.name,c.node().attrs),...e},S=((i=o.contentMatch.defaultType)==null?void 0:i.createAndFill(k))||void 0;x=x.append(tt.from(o.createAndFill(null,S)||void 0));const N=c.before(c.depth-(y-1));t.replace(N,c.after(-w),new Nt(x,4-y,0));let A=-1;t.doc.nodesBetween(N,t.doc.content.size,(E,R)=>{if(A>-1)return!1;E.isTextblock&&E.content.size===0&&(A=R+1)}),A>-1&&t.setSelection(Gt.near(t.doc.resolve(A))),t.scrollIntoView()}return!0}const p=d.pos===c.end()?h.contentMatchAt(0).defaultType:null,g={...Cv(f,h.type.name,h.attrs),...e},m={...Cv(f,c.node().type.name,c.node().attrs),...e};t.delete(c.pos,d.pos);const v=p?[{type:o,attrs:g},{type:p,attrs:m}]:[{type:o,attrs:g}];if(!Wl(t.doc,c.pos,2))return!1;if(s){const{selection:x,storedMarks:y}=n,{splittableMarks:w}=a.extensionManager,k=y||x.$to.parentOffset&&x.$from.marks();if(t.split(c.pos,2,v).scrollIntoView(),!k||!s)return!0;const S=k.filter(N=>w.includes(N.type.name));t.ensureMarks(S)}return!0},E4=(r,e)=>{const t=M2(i=>i.type===e)(r.selection);if(!t)return!0;const n=r.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(n===void 0)return!0;const s=r.doc.nodeAt(n);return t.node.type===(s==null?void 0:s.type)&&Ld(r.doc,t.pos)&&r.join(t.pos),!0},_4=(r,e)=>{const t=M2(i=>i.type===e)(r.selection);if(!t)return!0;const n=r.doc.resolve(t.start).after(t.depth);if(n===void 0)return!0;const s=r.doc.nodeAt(n);return t.node.type===(s==null?void 0:s.type)&&Ld(r.doc,n)&&r.join(n),!0},_ge=(r,e,t,n={})=>({editor:s,tr:a,state:i,dispatch:o,chain:c,commands:d,can:u})=>{const{extensions:h,splittableMarks:f}=s.extensionManager,p=Kn(r,i.schema),g=Kn(e,i.schema),{selection:m,storedMarks:v}=i,{$from:x,$to:y}=m,w=x.blockRange(y),k=v||m.$to.parentOffset&&m.$from.marks();if(!w)return!1;const S=M2(N=>TA(N.type.name,h))(m);if(w.depth>=1&&S&&w.depth-S.depth<=1){if(S.node.type===p)return d.liftListItem(g);if(TA(S.node.type.name,h)&&p.validContent(S.node.content)&&o)return c().command(()=>(a.setNodeMarkup(S.pos,p),!0)).command(()=>E4(a,p)).command(()=>_4(a,p)).run()}return!t||!k||!o?c().command(()=>u().wrapInList(p,n)?!0:d.clearNodes()).wrapInList(p,n).command(()=>E4(a,p)).command(()=>_4(a,p)).run():c().command(()=>{const N=u().wrapInList(p,n),A=k.filter(E=>f.includes(E.type.name));return a.ensureMarks(A),N?!0:d.clearNodes()}).wrapInList(p,n).command(()=>E4(a,p)).command(()=>_4(a,p)).run()},jge=(r,e={},t={})=>({state:n,commands:s})=>{const{extendEmptyMarkRange:a=!1}=t,i=oc(r,n.schema);return IC(n,i,e)?s.unsetMark(i,{extendEmptyMarkRange:a}):s.setMark(i,e)},Age=(r,e,t={})=>({state:n,commands:s})=>{const a=Kn(r,n.schema),i=Kn(e,n.schema),o=Sd(n,a,t);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),o?s.setNode(i,c):s.setNode(a,{...c,...t})},Tge=(r,e={})=>({state:t,commands:n})=>{const s=Kn(r,t.schema);return Sd(t,s,e)?n.lift(s):n.wrapIn(s,e)},Pge=()=>({state:r,dispatch:e})=>{const t=r.plugins;for(let n=0;n<t.length;n+=1){const s=t[n];let a;if(s.spec.isInputRules&&(a=s.getState(r))){if(e){const i=r.tr,o=a.transform;for(let c=o.steps.length-1;c>=0;c-=1)i.step(o.steps[c].invert(o.docs[c]));if(a.text){const c=i.doc.resolve(a.from).marks();i.replaceWith(a.from,a.to,r.schema.text(a.text,c))}else i.delete(a.from,a.to)}return!0}}return!1},Lge=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,{empty:n,ranges:s}=t;return n||e&&s.forEach(a=>{r.removeMark(a.$from.pos,a.$to.pos)}),!0},Dge=(r,e={})=>({tr:t,state:n,dispatch:s})=>{var a;const{extendEmptyMarkRange:i=!1}=e,{selection:o}=t,c=oc(r,n.schema),{$from:d,empty:u,ranges:h}=o;if(!s)return!0;if(u&&i){let{from:f,to:p}=o;const g=(a=d.marks().find(v=>v.type===c))==null?void 0:a.attrs,m=TE(d,c,g);m&&(f=m.from,p=m.to),t.removeMark(f,p,c)}else h.forEach(f=>{t.removeMark(f.$from.pos,f.$to.pos,c)});return t.removeStoredMark(c),!0},Mge=(r,e={})=>({tr:t,state:n,dispatch:s})=>{let a=null,i=null;const o=R2(typeof r=="string"?r:r.name,n.schema);return o?(o==="node"&&(a=Kn(r,n.schema)),o==="mark"&&(i=oc(r,n.schema)),s&&t.selection.ranges.forEach(c=>{const d=c.$from.pos,u=c.$to.pos;let h,f,p,g;t.selection.empty?n.doc.nodesBetween(d,u,(m,v)=>{a&&a===m.type&&(p=Math.max(v,d),g=Math.min(v+m.nodeSize,u),h=v,f=m)}):n.doc.nodesBetween(d,u,(m,v)=>{v<d&&a&&a===m.type&&(p=Math.max(v,d),g=Math.min(v+m.nodeSize,u),h=v,f=m),v>=d&&v<=u&&(a&&a===m.type&&t.setNodeMarkup(v,void 0,{...m.attrs,...e}),i&&m.marks.length&&m.marks.forEach(x=>{if(i===x.type){const y=Math.max(v,d),w=Math.min(v+m.nodeSize,u);t.addMark(y,w,i.create({...x.attrs,...e}))}}))}),f&&(h!==void 0&&t.setNodeMarkup(h,void 0,{...f.attrs,...e}),i&&f.marks.length&&f.marks.forEach(m=>{i===m.type&&t.addMark(p,g,i.create({...m.attrs,...e}))}))}),!0):!1},Rge=(r,e={})=>({state:t,dispatch:n})=>{const s=Kn(r,t.schema);return qfe(s,e)(t,n)},Ige=(r,e={})=>({state:t,dispatch:n})=>{const s=Kn(r,t.schema);return Yfe(s,e)(t,n)},oH=sn.create({name:"commands",addCommands(){return{...aH}}}),lH=sn.create({name:"delete",onUpdate({transaction:r,appendedTransactions:e}){var t,n,s;const a=()=>{var i,o,c,d;if((d=(c=(o=(i=this.editor.options.coreExtensionOptions)==null?void 0:i.delete)==null?void 0:o.filterTransaction)==null?void 0:c.call(o,r))!=null?d:r.getMeta("y-sync$"))return;const u=Hz(r.before,[r,...e]);Zz(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(g,m)=>{const v=m+g.nodeSize-2,x=p.oldRange.from<=m&&v<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:g,from:m,to:v,newFrom:u.mapping.map(m),newTo:u.mapping.map(v),deletedRange:p.oldRange,newRange:p.newRange,partial:!x,editor:this.editor,transaction:r,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,g)=>{var m,v;if(p instanceof vo){const x=f.slice(g).map(p.from,-1),y=f.slice(g).map(p.to),w=f.invert().map(x,-1),k=f.invert().map(y),S=(m=u.doc.nodeAt(x-1))==null?void 0:m.marks.some(A=>A.eq(p.mark)),N=(v=u.doc.nodeAt(y))==null?void 0:v.marks.some(A=>A.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:w,to:k},newRange:{from:x,to:y},partial:!!(N||S),editor:this.editor,transaction:r,combinedTransform:u})}})};(s=(n=(t=this.editor.options.coreExtensionOptions)==null?void 0:t.delete)==null?void 0:n.async)==null||s?setTimeout(a,0):a()}}),cH=sn.create({name:"drop",addProseMirrorPlugins(){return[new Ln({key:new Cs("tiptapDrop"),props:{handleDrop:(r,e,t,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:n})}}})]}}),dH=sn.create({name:"editable",addProseMirrorPlugins(){return[new Ln({key:new Cs("editable"),props:{editable:()=>this.editor.options.editable}})]}}),uH=new Cs("focusEvents"),hH=sn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:r}=this;return[new Ln({key:uH,props:{handleDOMEvents:{focus:(e,t)=>{r.isFocused=!0;const n=r.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,t)=>{r.isFocused=!1;const n=r.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),fH=sn.create({name:"keymap",addKeyboardShortcuts(){const r=()=>this.editor.commands.first(({commands:i})=>[()=>i.undoInputRule(),()=>i.command(({tr:o})=>{const{selection:c,doc:d}=o,{empty:u,$anchor:h}=c,{pos:f,parent:p}=h,g=h.parent.isTextblock&&f>0?o.doc.resolve(f-1):h,m=g.parent.type.spec.isolating,v=h.pos-h.parentOffset,x=m&&g.parent.childCount===1?v===h.pos:nr.atStart(d).from===f;return!u||!p.type.isTextblock||p.textContent.length||!x||x&&h.parent.type.name==="paragraph"?!1:i.clearNodes()}),()=>i.deleteSelection(),()=>i.joinBackward(),()=>i.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:i})=>[()=>i.deleteSelection(),()=>i.deleteCurrentNode(),()=>i.joinForward(),()=>i.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:i})=>[()=>i.newlineInCode(),()=>i.createParagraphNear(),()=>i.liftEmptyBlock(),()=>i.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:r,"Mod-Backspace":r,"Shift-Backspace":r,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...n},a={...n,"Ctrl-h":r,"Alt-Backspace":r,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return DE()||iH()?a:s},addProseMirrorPlugins(){return[new Ln({key:new Cs("clearDocument"),appendTransaction:(r,e,t)=>{if(r.some(m=>m.getMeta("composition")))return;const n=r.some(m=>m.docChanged)&&!e.doc.eq(t.doc),s=r.some(m=>m.getMeta("preventClearDocument"));if(!n||s)return;const{empty:a,from:i,to:o}=e.selection,c=nr.atStart(e.doc).from,d=nr.atEnd(e.doc).to;if(a||!(i===c&&o===d)||!I2(t.doc))return;const f=t.tr,p=L2({state:t,transaction:f}),{commands:g}=new D2({editor:this.editor,state:p});if(g.clearNodes(),!!f.steps.length)return f}})]}}),pH=sn.create({name:"paste",addProseMirrorPlugins(){return[new Ln({key:new Cs("tiptapPaste"),props:{handlePaste:(r,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),gH=sn.create({name:"tabindex",addProseMirrorPlugins(){return[new Ln({key:new Cs("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Oge=class af{constructor(e,t,n=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new af(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new af(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new af(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,n)=>{const s=t.isBlock&&!t.isTextblock,a=t.isAtom&&!t.isText,i=this.pos+n+(a?0:1);if(i<0||i>this.resolvedPos.doc.nodeSize-2)return;const o=this.resolvedPos.doc.resolve(i);if(!s&&o.depth<=this.depth)return;const c=new af(o,this.editor,s,s?t:null);s&&(c.actualDepth=this.depth+1),e.push(new af(o,this.editor,s,s?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,s=this.parent;for(;s&&!n;){if(s.node.type.name===e)if(Object.keys(t).length>0){const a=s.node.attrs,i=Object.keys(t);for(let o=0;o<i.length;o+=1){const c=i[o];if(a[c]!==t[c])break}}else n=s;s=s.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let s=[];if(!this.children||this.children.length===0)return s;const a=Object.keys(t);return this.children.forEach(i=>{n&&s.length>0||(i.node.type.name===e&&a.every(c=>t[c]===i.node.attrs[c])&&s.push(i),!(n&&s.length>0)&&(s=s.concat(i.querySelectorAll(e,t,n))))}),s}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}},Fge=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Bge(r,e,t){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=r,document.getElementsByTagName("head")[0].appendChild(s),s}var zge=class extends tpe{constructor(r={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(r),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:s,moved:a})=>this.options.onDrop(n,s,a)),this.on("paste",({event:n,slice:s})=>this.options.onPaste(n,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),t=eH(e,this.options.autofocus);this.editorState=Nf.create({doc:e,schema:this.schema,selection:t||void 0}),this.options.element&&this.mount(this.options.element)}mount(r){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(r),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){var r;if(this.editorView){const e=this.editorView.dom;e!=null&&e.editor&&delete e.editor,this.editorView.destroy()}this.editorView=null,this.isInitialized=!1,(r=this.css)==null||r.remove(),this.css=null}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Bge(Fge,this.options.injectNonce))}setOptions(r={}){this.options={...this.options,...r},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(r,e=!0){this.setOptions({editable:r}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:r=>{this.editorState=r},dispatch:r=>{this.editorState=this.state.apply(r)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(r,e)=>{if(e==="state")return this.editorState;if(e in r)return Reflect.get(r,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(r,e){const t=$z(e)?e(r,[...this.state.plugins]):[...this.state.plugins,r],n=this.state.reconfigure({plugins:t});return this.view.updateState(n),n}unregisterPlugin(r){if(this.isDestroyed)return;const e=this.state.plugins;let t=e;if([].concat(r).forEach(s=>{const a=typeof s=="string"?`${s}$`:s.key;t=t.filter(i=>!i.key.startsWith(a))}),e.length===t.length)return;const n=this.state.reconfigure({plugins:t});return this.view.updateState(n),n}createExtensionManager(){var r,e;const n=[...this.options.enableCoreExtensions?[dH,sH.configure({blockSeparator:(e=(r=this.options.coreExtensionOptions)==null?void 0:r.clipboardTextSerializer)==null?void 0:e.blockSeparator}),oH,hH,fH,gH,cH,pH,lH].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new F2(n,this)}createCommandManager(){this.commandManager=new D2({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let r;try{r=RC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(t=>t.name!=="collaboration"),this.createExtensionManager()}}),r=RC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return r}createView(r){var e;this.editorView=new Ez(r,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState});const t=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(t),this.createNodeViews(),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(r){this.isCapturingTransaction=!0,r(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(r){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=r;return}r.steps.forEach(d=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(d)});return}const{state:e,transactions:t}=this.state.applyTransaction(r),n=!this.state.selection.eq(e.selection),s=t.includes(r),a=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:r,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:r,appendedTransactions:t.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:r});const i=t.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),o=i==null?void 0:i.getMeta("focus"),c=i==null?void 0:i.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:i}),c&&this.emit("blur",{editor:this,event:c.event,transaction:i}),!(r.getMeta("preventUpdate")||!t.some(d=>d.docChanged)||a.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:r,appendedTransactions:t.slice(1)})}getAttributes(r){return Xz(this.state,r)}isActive(r,e){const t=typeof r=="string"?r:null,n=typeof r=="string"?e:r;return gpe(this.state,t,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return _E(this.state.doc.content,this.schema)}getText(r){const{blockSeparator:e=`

`,textSerializers:t={}}=r||{};return cpe(this.state.doc,{blockSeparator:e,textSerializers:{...Yz(this.schema),...t}})}get isEmpty(){return I2(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var r,e;return(e=(r=this.editorView)==null?void 0:r.isDestroyed)!=null?e:!0}$node(r,e){var t;return((t=this.$doc)==null?void 0:t.querySelector(r,e))||null}$nodes(r,e){var t;return((t=this.$doc)==null?void 0:t.querySelectorAll(r,e))||null}$pos(r){const e=this.state.doc.resolve(r);return new Oge(e,this)}get $doc(){return this.$pos(0)}};function bp(r){return new O2({find:r.find,handler:({state:e,range:t,match:n})=>{const s=Fr(r.getAttributes,void 0,n);if(s===!1||s===null)return null;const{tr:a}=e,i=n[n.length-1],o=n[0];if(i){const c=o.search(/\S/),d=t.from+o.indexOf(i),u=d+i.length;if(PE(t.from,t.to,e.doc).filter(p=>p.mark.type.excluded.find(m=>m===r.type&&m!==p.mark.type)).filter(p=>p.to>d).length)return null;u<t.to&&a.delete(u,t.to),d>t.from&&a.delete(t.from+c,d);const f=t.from+c+i.length;a.addMark(t.from+c,f,r.type.create(s||{})),a.removeStoredMark(r.type)}}})}function Hge(r){return new O2({find:r.find,handler:({state:e,range:t,match:n})=>{const s=Fr(r.getAttributes,void 0,n)||{},{tr:a}=e,i=t.from;let o=t.to;const c=r.type.create(s);if(n[1]){const d=n[0].lastIndexOf(n[1]);let u=i+d;u>o?u=o:o=u+n[1].length;const h=n[0][n[0].length-1];a.insertText(h,i+n[0].length-1),a.replaceWith(u,o,c)}else if(n[0]){const d=r.type.isInline?i:i-1;a.insert(d,r.type.create(s)).delete(a.mapping.map(i),a.mapping.map(o))}a.scrollIntoView()}})}function OC(r){return new O2({find:r.find,handler:({state:e,range:t,match:n})=>{const s=e.doc.resolve(t.from),a=Fr(r.getAttributes,void 0,n)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),r.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,r.type,a)}})}function wp(r){return new O2({find:r.find,handler:({state:e,range:t,match:n,chain:s})=>{const a=Fr(r.getAttributes,void 0,n)||{},i=e.tr.delete(t.from,t.to),c=i.doc.resolve(t.from).blockRange(),d=c&&dE(c,r.type,a);if(!d)return null;if(i.wrap(c,d),r.keepMarks&&r.editor){const{selection:h,storedMarks:f}=e,{splittableMarks:p}=r.editor.extensionManager,g=f||h.$to.parentOffset&&h.$from.marks();if(g){const m=g.filter(v=>p.includes(v.type.name));i.ensureMarks(m)}}if(r.keepAttributes){const h=r.type.name==="bulletList"||r.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(h,a).run()}const u=i.doc.resolve(t.from-1).nodeBefore;u&&u.type===r.type&&Ld(i.doc,t.from-1)&&(!r.joinPredicate||r.joinPredicate(n,u))&&i.join(t.from-1)}})}function Uge(r,e){const{selection:t}=r,{$from:n}=t;if(t instanceof Ft){const a=n.index();return n.parent.canReplaceWith(a,a+1,e)}let s=n.depth;for(;s>=0;){const a=n.index(s);if(n.node(s).contentMatchAt(a).matchType(e))return!0;s-=1}return!1}function $ge(r,e,t={}){const{state:n}=e,{doc:s,tr:a}=n,i=r;s.descendants((o,c)=>{const d=a.mapping.map(c),u=a.mapping.map(c)+o.nodeSize;let h=null;if(o.marks.forEach(p=>{if(p!==i)return!1;h=p}),!h)return;let f=!1;if(Object.keys(t).forEach(p=>{t[p]!==h.attrs[p]&&(f=!0)}),f){const p=r.type.create({...r.attrs,...t});a.removeMark(d,u,r.type),a.addMark(d,u,p)}}),a.docChanged&&e.view.dispatch(a)}var mi=class mH extends LE{constructor(){super(...arguments),this.type="node"}static create(e={}){const t=typeof e=="function"?e():e;return new mH(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function ah(r){return new Cpe({find:r.find,handler:({state:e,range:t,match:n,pasteEvent:s})=>{const a=Fr(r.getAttributes,void 0,n,s);if(a===!1||a===null)return null;const{tr:i}=e,o=n[n.length-1],c=n[0];let d=t.to;if(o){const u=c.search(/\S/),h=t.from+c.indexOf(o),f=h+o.length;if(PE(t.from,t.to,e.doc).filter(g=>g.mark.type.excluded.find(v=>v===r.type&&v!==g.mark.type)).filter(g=>g.to>h).length)return null;f<t.to&&i.delete(f,t.to),h>t.from&&i.delete(t.from+u,h),d=t.from+u+o.length,i.addMark(t.from+u,d,r.type.create(a||{})),i.removeStoredMark(r.type)}}})}var Vge=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,s,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(s=n;s--!==0;)if(!r(e[s],t[s]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;for(s of e.entries())if(!r(s[1],t.get(s[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(s=n;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){var i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!r(e[i],t[i]))return!1}return!0}return e!==e&&t!==t};const Wge=_o(Vge);var xH={exports:{}},vH={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B2=b,qge=oE;function Yge(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var Gge=typeof Object.is=="function"?Object.is:Yge,Xge=qge.useSyncExternalStore,Zge=B2.useRef,Jge=B2.useEffect,Kge=B2.useMemo,Qge=B2.useDebugValue;vH.useSyncExternalStoreWithSelector=function(r,e,t,n,s){var a=Zge(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=Kge(function(){function c(p){if(!d){if(d=!0,u=p,p=n(p),s!==void 0&&i.hasValue){var g=i.value;if(s(g,p))return h=g}return h=p}if(g=h,Gge(u,p))return g;var m=n(p);return s!==void 0&&s(g,m)?(u=p,g):(u=p,h=m)}var d=!1,u,h,f=t===void 0?null:t;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,t,n,s]);var o=Xge(r,a[0],a[1]);return Jge(function(){i.hasValue=!0,i.value=o},[o]),Qge(o),o};xH.exports=vH;var eme=xH.exports,tme=(...r)=>e=>{r.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},rme=({contentComponent:r})=>{const e=oE.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return l.jsx(l.Fragment,{children:Object.values(e)})};function nme(){const r=new Set;let e={};return{subscribe(t){return r.add(t),()=>{r.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,n){e={...e,[t]:Qq.createPortal(n.reactElement,n.element,t)},r.forEach(s=>s())},removeRenderer(t){const n={...e};delete n[t],e=n,r.forEach(s=>s())}}}var sme=class extends ht.Component{constructor(r){var e;super(r),this.editorContentRef=ht.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=r.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const r=this.props.editor;if(r&&!r.isDestroyed&&r.options.element){if(r.contentComponent)return;const e=this.editorContentRef.current;e.append(...r.options.element.childNodes),r.setOptions({element:e}),r.contentComponent=nme(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=r.contentComponent.subscribe(()=>{this.setState(t=>t.hasContentComponentInitialized?t:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),r.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var r;const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!((r=e.options.element)!=null&&r.firstChild)))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:r,innerRef:e,...t}=this.props;return l.jsxs(l.Fragment,{children:[l.jsx("div",{ref:tme(e,this.editorContentRef),...t}),(r==null?void 0:r.contentComponent)&&l.jsx(rme,{contentComponent:r.contentComponent})]})}},ame=b.forwardRef((r,e)=>{const t=ht.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[r.editor]);return ht.createElement(sme,{key:t,innerRef:e,...r})}),ime=ht.memo(ame),ome=typeof window<"u"?b.useLayoutEffect:b.useEffect,lme=class{constructor(r){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=r,this.lastSnapshot={editor:r,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(r){return this.subscribers.add(r),()=>{this.subscribers.delete(r)}}watch(r){if(this.editor=r,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};function cme(r){var e;const[t]=b.useState(()=>new lme(r.editor)),n=eme.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,r.selector,(e=r.equalityFn)!=null?e:Wge);return ome(()=>t.watch(r.editor),[r.editor,t]),b.useDebugValue(n),n}var dme=!1,FC=typeof window>"u",ume=FC||!!(typeof window<"u"&&window.next),hme=class yH{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?FC||ume?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var s,a;return(a=(s=this.options.current).onBeforeCreate)==null?void 0:a.call(s,...n)},onBlur:(...n)=>{var s,a;return(a=(s=this.options.current).onBlur)==null?void 0:a.call(s,...n)},onCreate:(...n)=>{var s,a;return(a=(s=this.options.current).onCreate)==null?void 0:a.call(s,...n)},onDestroy:(...n)=>{var s,a;return(a=(s=this.options.current).onDestroy)==null?void 0:a.call(s,...n)},onFocus:(...n)=>{var s,a;return(a=(s=this.options.current).onFocus)==null?void 0:a.call(s,...n)},onSelectionUpdate:(...n)=>{var s,a;return(a=(s=this.options.current).onSelectionUpdate)==null?void 0:a.call(s,...n)},onTransaction:(...n)=>{var s,a;return(a=(s=this.options.current).onTransaction)==null?void 0:a.call(s,...n)},onUpdate:(...n)=>{var s,a;return(a=(s=this.options.current).onUpdate)==null?void 0:a.call(s,...n)},onContentError:(...n)=>{var s,a;return(a=(s=this.options.current).onContentError)==null?void 0:a.call(s,...n)},onDrop:(...n)=>{var s,a;return(a=(s=this.options.current).onDrop)==null?void 0:a.call(s,...n)},onPaste:(...n)=>{var s,a;return(a=(s=this.options.current).onPaste)==null?void 0:a.call(s,...n)},onDelete:(...n)=>{var s,a;return(a=(s=this.options.current).onDelete)==null?void 0:a.call(s,...n)}};return new zge(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((s,a)=>{var i;return s===((i=t.extensions)==null?void 0:i[a])}):e[n]===t[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?yH.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,s)=>n===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function fme(r={},e=[]){const t=b.useRef(r);t.current=r;const[n]=b.useState(()=>new hme(t)),s=oE.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return b.useDebugValue(s),b.useEffect(n.onRender(e)),cme({editor:s,selector:({transactionNumber:a})=>r.shouldRerenderOnTransaction===!1||r.shouldRerenderOnTransaction===void 0?null:r.immediatelyRender&&a===0?0:a+1}),s}var pme=b.createContext({editor:null});pme.Consumer;var gme=b.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),mme=()=>b.useContext(gme);ht.forwardRef((r,e)=>{const{onDragStart:t}=mme(),n=r.as||"div";return l.jsx(n,{...r,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...r.style}})});ht.createContext({markViewContentRef:()=>{}});var eb=(r,e)=>{if(r==="slot")return 0;if(r instanceof Function)return r(e);const{children:t,...n}=e??{};if(r==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[r,n,t]},xme=/^\s*>\s$/,vme=mi.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:r}){return eb("blockquote",{...Un(this.options.HTMLAttributes,r),children:eb("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:r})=>r.wrapIn(this.name),toggleBlockquote:()=>({commands:r})=>r.toggleWrap(this.name),unsetBlockquote:()=>({commands:r})=>r.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wp({find:xme,type:this.type})]}}),yme=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,bme=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,wme=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,kme=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Cme=Md.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:r=>r.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:r=>r.type.name===this.name},{style:"font-weight",getAttrs:r=>/^(bold(er)?|[5-9]\d{2,})$/.test(r)&&null}]},renderHTML({HTMLAttributes:r}){return eb("strong",{...Un(this.options.HTMLAttributes,r),children:eb("slot",{})})},addCommands(){return{setBold:()=>({commands:r})=>r.setMark(this.name),toggleBold:()=>({commands:r})=>r.toggleMark(this.name),unsetBold:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[bp({find:yme,type:this.type}),bp({find:wme,type:this.type})]},addPasteRules(){return[ah({find:bme,type:this.type}),ah({find:kme,type:this.type})]}}),Sme=/(^|[^`])`([^`]+)`(?!`)/,Nme=/(^|[^`])`([^`]+)`(?!`)/g,Eme=Md.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:r}){return["code",Un(this.options.HTMLAttributes,r),0]},addCommands(){return{setCode:()=>({commands:r})=>r.setMark(this.name),toggleCode:()=>({commands:r})=>r.toggleMark(this.name),unsetCode:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[bp({find:Sme,type:this.type})]},addPasteRules(){return[ah({find:Nme,type:this.type})]}}),_me=/^```([a-z]+)?[\s\n]$/,jme=/^~~~([a-z]+)?[\s\n]$/,Ame=mi.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:r=>{var e;const{languageClassPrefix:t}=this.options,a=[...((e=r.firstElementChild)==null?void 0:e.classList)||[]].filter(i=>i.startsWith(t)).map(i=>i.replace(t,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:r,HTMLAttributes:e}){return["pre",Un(this.options.HTMLAttributes,e),["code",{class:r.attrs.language?this.options.languageClassPrefix+r.attrs.language:null},0]]},addCommands(){return{setCodeBlock:r=>({commands:e})=>e.setNode(this.name,r),toggleCodeBlock:r=>({commands:e})=>e.toggleNode(this.name,"paragraph",r)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:r,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!r||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:r})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=r,{selection:t}=e,{$from:n,empty:s}=t;if(!s||n.parent.type!==this.type)return!1;const a=n.parentOffset===n.parent.nodeSize-2,i=n.parent.textContent.endsWith(`

`);return!a||!i?!1:r.chain().command(({tr:o})=>(o.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:r})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=r,{selection:t,doc:n}=e,{$from:s,empty:a}=t;if(!a||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const o=s.after();return o===void 0?!1:n.nodeAt(o)?r.commands.command(({tr:d})=>(d.setSelection(nr.near(n.resolve(o))),!0)):r.commands.exitCode()}}},addInputRules(){return[OC({find:_me,type:this.type,getAttributes:r=>({language:r[1]})}),OC({find:jme,type:this.type,getAttributes:r=>({language:r[1]})})]},addProseMirrorPlugins(){return[new Ln({key:new Cs("codeBlockVSCodeHandler"),props:{handlePaste:(r,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),s=n?JSON.parse(n):void 0,a=s==null?void 0:s.mode;if(!t||!a)return!1;const{tr:i,schema:o}=r.state,c=o.text(t.replace(/\r\n?/g,`
`));return i.replaceSelectionWith(this.type.create({language:a},c)),i.selection.$from.parent.type!==this.type&&i.setSelection(Gt.near(i.doc.resolve(Math.max(0,i.selection.from-2)))),i.setMeta("paste",!0),r.dispatch(i),!0}}})]}}),Tme=mi.create({name:"doc",topNode:!0,content:"block+"}),Pme=mi.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:r}){return["br",Un(this.options.HTMLAttributes,r)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:r,chain:e,state:t,editor:n})=>r.first([()=>r.exitCode(),()=>r.command(()=>{const{selection:s,storedMarks:a}=t;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:o}=n.extensionManager,c=a||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:u})=>{if(u&&c&&i){const h=c.filter(f=>o.includes(f.type.name));d.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Lme=mi.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(r=>({tag:`h${r}`,attrs:{level:r}}))},renderHTML({node:r,HTMLAttributes:e}){return[`h${this.options.levels.includes(r.attrs.level)?r.attrs.level:this.options.levels[0]}`,Un(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.setNode(this.name,r):!1,toggleHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.toggleNode(this.name,"paragraph",r):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((r,e)=>({...r,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(r=>OC({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${r}})\\s$`),type:this.type,getAttributes:{level:r}}))}}),Dme=mi.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:r}){return["hr",Un(this.options.HTMLAttributes,r)]},addCommands(){return{setHorizontalRule:()=>({chain:r,state:e})=>{if(!Uge(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$to:n}=t,s=r();return Kz(t)?s.insertContentAt(n.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:a,dispatch:i})=>{var o;if(i){const{$to:c}=a.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?a.setSelection(Gt.create(a.doc,c.pos+1)):c.nodeAfter.isBlock?a.setSelection(Ft.create(a.doc,c.pos)):a.setSelection(Gt.create(a.doc,c.pos));else{const u=(o=c.parent.type.contentMatch.defaultType)==null?void 0:o.create();u&&(a.insert(d,u),a.setSelection(Gt.create(a.doc,d+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Hge({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),Mme=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Rme=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Ime=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Ome=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Fme=Md.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:r=>r.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:r=>r.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:r}){return["em",Un(this.options.HTMLAttributes,r),0]},addCommands(){return{setItalic:()=>({commands:r})=>r.setMark(this.name),toggleItalic:()=>({commands:r})=>r.toggleMark(this.name),unsetItalic:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[bp({find:Mme,type:this.type}),bp({find:Ime,type:this.type})]},addPasteRules(){return[ah({find:Rme,type:this.type}),ah({find:Ome,type:this.type})]}});const Bme="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",zme="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",BC="numeric",zC="ascii",HC="alpha",bm="asciinumeric",em="alphanumeric",UC="domain",bH="emoji",Hme="scheme",Ume="slashscheme",j4="whitespace";function $me(r,e){return r in e||(e[r]=[]),e[r]}function ju(r,e,t){e[BC]&&(e[bm]=!0,e[em]=!0),e[zC]&&(e[bm]=!0,e[HC]=!0),e[bm]&&(e[em]=!0),e[HC]&&(e[em]=!0),e[em]&&(e[UC]=!0),e[bH]&&(e[UC]=!0);for(const n in e){const s=$me(n,t);s.indexOf(r)<0&&s.push(r)}}function Vme(r,e){const t={};for(const n in e)e[n].indexOf(r)>=0&&(t[n]=!0);return t}function Aa(r=null){this.j={},this.jr=[],this.jd=null,this.t=r}Aa.groups={};Aa.prototype={accepts(){return!!this.t},go(r){const e=this,t=e.j[r];if(t)return t;for(let n=0;n<e.jr.length;n++){const s=e.jr[n][0],a=e.jr[n][1];if(a&&s.test(r))return a}return e.jd},has(r,e=!1){return e?r in this.j:!!this.go(r)},ta(r,e,t,n){for(let s=0;s<r.length;s++)this.tt(r[s],e,t,n)},tr(r,e,t,n){n=n||Aa.groups;let s;return e&&e.j?s=e:(s=new Aa(e),t&&n&&ju(e,t,n)),this.jr.push([r,s]),s},ts(r,e,t,n){let s=this;const a=r.length;if(!a)return s;for(let i=0;i<a-1;i++)s=s.tt(r[i]);return s.tt(r[a-1],e,t,n)},tt(r,e,t,n){n=n||Aa.groups;const s=this;if(e&&e.j)return s.j[r]=e,e;const a=e;let i,o=s.go(r);if(o?(i=new Aa,Object.assign(i.j,o.j),i.jr.push.apply(i.jr,o.jr),i.jd=o.jd,i.t=o.t):i=new Aa,a){if(n)if(i.t&&typeof i.t=="string"){const c=Object.assign(Vme(i.t,n),t);ju(a,c,n)}else t&&ju(a,t,n);i.t=a}return s.j[r]=i,i}};const ar=(r,e,t,n,s)=>r.ta(e,t,n,s),Nn=(r,e,t,n,s)=>r.tr(e,t,n,s),DA=(r,e,t,n,s)=>r.ts(e,t,n,s),ot=(r,e,t,n,s)=>r.tt(e,t,n,s),Al="WORD",$C="UWORD",wH="ASCIINUMERICAL",kH="ALPHANUMERICAL",v0="LOCALHOST",VC="TLD",WC="UTLD",Sv="SCHEME",of="SLASH_SCHEME",ME="NUM",qC="WS",RE="NL",wm="OPENBRACE",km="CLOSEBRACE",tb="OPENBRACKET",rb="CLOSEBRACKET",nb="OPENPAREN",sb="CLOSEPAREN",ab="OPENANGLEBRACKET",ib="CLOSEANGLEBRACKET",ob="FULLWIDTHLEFTPAREN",lb="FULLWIDTHRIGHTPAREN",cb="LEFTCORNERBRACKET",db="RIGHTCORNERBRACKET",ub="LEFTWHITECORNERBRACKET",hb="RIGHTWHITECORNERBRACKET",fb="FULLWIDTHLESSTHAN",pb="FULLWIDTHGREATERTHAN",gb="AMPERSAND",mb="APOSTROPHE",xb="ASTERISK",Rc="AT",vb="BACKSLASH",yb="BACKTICK",bb="CARET",$c="COLON",IE="COMMA",wb="DOLLAR",qo="DOT",kb="EQUALS",OE="EXCLAMATION",Li="HYPHEN",Cm="PERCENT",Cb="PIPE",Sb="PLUS",Nb="POUND",Sm="QUERY",FE="QUOTE",CH="FULLWIDTHMIDDLEDOT",BE="SEMI",Yo="SLASH",Nm="TILDE",Eb="UNDERSCORE",SH="EMOJI",_b="SYM";var NH=Object.freeze({__proto__:null,ALPHANUMERICAL:kH,AMPERSAND:gb,APOSTROPHE:mb,ASCIINUMERICAL:wH,ASTERISK:xb,AT:Rc,BACKSLASH:vb,BACKTICK:yb,CARET:bb,CLOSEANGLEBRACKET:ib,CLOSEBRACE:km,CLOSEBRACKET:rb,CLOSEPAREN:sb,COLON:$c,COMMA:IE,DOLLAR:wb,DOT:qo,EMOJI:SH,EQUALS:kb,EXCLAMATION:OE,FULLWIDTHGREATERTHAN:pb,FULLWIDTHLEFTPAREN:ob,FULLWIDTHLESSTHAN:fb,FULLWIDTHMIDDLEDOT:CH,FULLWIDTHRIGHTPAREN:lb,HYPHEN:Li,LEFTCORNERBRACKET:cb,LEFTWHITECORNERBRACKET:ub,LOCALHOST:v0,NL:RE,NUM:ME,OPENANGLEBRACKET:ab,OPENBRACE:wm,OPENBRACKET:tb,OPENPAREN:nb,PERCENT:Cm,PIPE:Cb,PLUS:Sb,POUND:Nb,QUERY:Sm,QUOTE:FE,RIGHTCORNERBRACKET:db,RIGHTWHITECORNERBRACKET:hb,SCHEME:Sv,SEMI:BE,SLASH:Yo,SLASH_SCHEME:of,SYM:_b,TILDE:Nm,TLD:VC,UNDERSCORE:Eb,UTLD:WC,UWORD:$C,WORD:Al,WS:qC});const Nl=/[a-z]/,Og=new RegExp("\\p{L}","u"),A4=new RegExp("\\p{Emoji}","u"),El=/\d/,T4=/\s/,MA="\r",P4=`
`,Wme="️",qme="‍",L4="￼";let A1=null,T1=null;function Yme(r=[]){const e={};Aa.groups=e;const t=new Aa;A1==null&&(A1=RA(Bme)),T1==null&&(T1=RA(zme)),ot(t,"'",mb),ot(t,"{",wm),ot(t,"}",km),ot(t,"[",tb),ot(t,"]",rb),ot(t,"(",nb),ot(t,")",sb),ot(t,"<",ab),ot(t,">",ib),ot(t,"（",ob),ot(t,"）",lb),ot(t,"「",cb),ot(t,"」",db),ot(t,"『",ub),ot(t,"』",hb),ot(t,"＜",fb),ot(t,"＞",pb),ot(t,"&",gb),ot(t,"*",xb),ot(t,"@",Rc),ot(t,"`",yb),ot(t,"^",bb),ot(t,":",$c),ot(t,",",IE),ot(t,"$",wb),ot(t,".",qo),ot(t,"=",kb),ot(t,"!",OE),ot(t,"-",Li),ot(t,"%",Cm),ot(t,"|",Cb),ot(t,"+",Sb),ot(t,"#",Nb),ot(t,"?",Sm),ot(t,'"',FE),ot(t,"/",Yo),ot(t,";",BE),ot(t,"~",Nm),ot(t,"_",Eb),ot(t,"\\",vb),ot(t,"・",CH);const n=Nn(t,El,ME,{[BC]:!0});Nn(n,El,n);const s=Nn(n,Nl,wH,{[bm]:!0}),a=Nn(n,Og,kH,{[em]:!0}),i=Nn(t,Nl,Al,{[zC]:!0});Nn(i,El,s),Nn(i,Nl,i),Nn(s,El,s),Nn(s,Nl,s);const o=Nn(t,Og,$C,{[HC]:!0});Nn(o,Nl),Nn(o,El,a),Nn(o,Og,o),Nn(a,El,a),Nn(a,Nl),Nn(a,Og,a);const c=ot(t,P4,RE,{[j4]:!0}),d=ot(t,MA,qC,{[j4]:!0}),u=Nn(t,T4,qC,{[j4]:!0});ot(t,L4,u),ot(d,P4,c),ot(d,L4,u),Nn(d,T4,u),ot(u,MA),ot(u,P4),Nn(u,T4,u),ot(u,L4,u);const h=Nn(t,A4,SH,{[bH]:!0});ot(h,"#"),Nn(h,A4,h),ot(h,Wme,h);const f=ot(h,qme);ot(f,"#"),Nn(f,A4,h);const p=[[Nl,i],[El,s]],g=[[Nl,null],[Og,o],[El,a]];for(let m=0;m<A1.length;m++)Nc(t,A1[m],VC,Al,p);for(let m=0;m<T1.length;m++)Nc(t,T1[m],WC,$C,g);ju(VC,{tld:!0,ascii:!0},e),ju(WC,{utld:!0,alpha:!0},e),Nc(t,"file",Sv,Al,p),Nc(t,"mailto",Sv,Al,p),Nc(t,"http",of,Al,p),Nc(t,"https",of,Al,p),Nc(t,"ftp",of,Al,p),Nc(t,"ftps",of,Al,p),ju(Sv,{scheme:!0,ascii:!0},e),ju(of,{slashscheme:!0,ascii:!0},e),r=r.sort((m,v)=>m[0]>v[0]?1:-1);for(let m=0;m<r.length;m++){const v=r[m][0],y=r[m][1]?{[Hme]:!0}:{[Ume]:!0};v.indexOf("-")>=0?y[UC]=!0:Nl.test(v)?El.test(v)?y[bm]=!0:y[zC]=!0:y[BC]=!0,DA(t,v,v,y)}return DA(t,"localhost",v0,{ascii:!0}),t.jd=new Aa(_b),{start:t,tokens:Object.assign({groups:e},NH)}}function EH(r,e){const t=Gme(e.replace(/[A-Z]/g,o=>o.toLowerCase())),n=t.length,s=[];let a=0,i=0;for(;i<n;){let o=r,c=null,d=0,u=null,h=-1,f=-1;for(;i<n&&(c=o.go(t[i]));)o=c,o.accepts()?(h=0,f=0,u=o):h>=0&&(h+=t[i].length,f++),d+=t[i].length,a+=t[i].length,i++;a-=h,i-=f,d-=h,s.push({t:u.t,v:e.slice(a-d,a),s:a-d,e:a})}return s}function Gme(r){const e=[],t=r.length;let n=0;for(;n<t;){let s=r.charCodeAt(n),a,i=s<55296||s>56319||n+1===t||(a=r.charCodeAt(n+1))<56320||a>57343?r[n]:r.slice(n,n+2);e.push(i),n+=i.length}return e}function Nc(r,e,t,n,s){let a;const i=e.length;for(let o=0;o<i-1;o++){const c=e[o];r.j[c]?a=r.j[c]:(a=new Aa(n),a.jr=s.slice(),r.j[c]=a),r=a}return a=new Aa(t),a.jr=s.slice(),r.j[e[i-1]]=a,a}function RA(r){const e=[],t=[];let n=0,s="0123456789";for(;n<r.length;){let a=0;for(;s.indexOf(r[n+a])>=0;)a++;if(a>0){e.push(t.join(""));for(let i=parseInt(r.substring(n,n+a),10);i>0;i--)t.pop();n+=a}else t.push(r[n]),n++}return e}const y0={defaultProtocol:"http",events:null,format:IA,formatHref:IA,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function zE(r,e=null){let t=Object.assign({},y0);r&&(t=Object.assign(t,r instanceof zE?r.o:r));const n=t.ignoreTags,s=[];for(let a=0;a<n.length;a++)s.push(n[a].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=s}zE.prototype={o:y0,ignoreTags:[],defaultRender(r){return r},check(r){return this.get("validate",r.toString(),r)},get(r,e,t){const n=e!=null;let s=this.o[r];return s&&(typeof s=="object"?(s=t.t in s?s[t.t]:y0[r],typeof s=="function"&&n&&(s=s(e,t))):typeof s=="function"&&n&&(s=s(e,t.t,t)),s)},getObj(r,e,t){let n=this.o[r];return typeof n=="function"&&e!=null&&(n=n(e,t.t,t)),n},render(r){const e=r.render(this);return(this.get("render",null,r)||this.defaultRender)(e,r.t,r)}};function IA(r){return r}function _H(r,e){this.t="token",this.v=r,this.tk=e}_H.prototype={isLink:!1,toString(){return this.v},toHref(r){return this.toString()},toFormattedString(r){const e=this.toString(),t=r.get("truncate",e,this),n=r.get("format",e,this);return t&&n.length>t?n.substring(0,t)+"…":n},toFormattedHref(r){return r.get("formatHref",this.toHref(r.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(r=y0.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(r),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(r){return{type:this.t,value:this.toFormattedString(r),isLink:this.isLink,href:this.toFormattedHref(r),start:this.startIndex(),end:this.endIndex()}},validate(r){return r.get("validate",this.toString(),this)},render(r){const e=this,t=this.toHref(r.get("defaultProtocol")),n=r.get("formatHref",t,this),s=r.get("tagName",t,e),a=this.toFormattedString(r),i={},o=r.get("className",t,e),c=r.get("target",t,e),d=r.get("rel",t,e),u=r.getObj("attributes",t,e),h=r.getObj("events",t,e);return i.href=n,o&&(i.class=o),c&&(i.target=c),d&&(i.rel=d),u&&Object.assign(i,u),{tagName:s,attributes:i,content:a,eventListeners:h}}};function z2(r,e){class t extends _H{constructor(s,a){super(s,a),this.t=r}}for(const n in e)t.prototype[n]=e[n];return t.t=r,t}const OA=z2("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),FA=z2("text"),Xme=z2("nl"),P1=z2("url",{isLink:!0,toHref(r=y0.defaultProtocol){return this.hasProtocol()?this.v:`${r}://${this.v}`},hasProtocol(){const r=this.tk;return r.length>=2&&r[0].t!==v0&&r[1].t===$c}}),Ai=r=>new Aa(r);function Zme({groups:r}){const e=r.domain.concat([gb,xb,Rc,vb,yb,bb,wb,kb,Li,ME,Cm,Cb,Sb,Nb,Yo,_b,Nm,Eb]),t=[mb,$c,IE,qo,OE,Cm,Sm,FE,BE,ab,ib,wm,km,rb,tb,nb,sb,ob,lb,cb,db,ub,hb,fb,pb],n=[gb,mb,xb,vb,yb,bb,wb,kb,Li,wm,km,Cm,Cb,Sb,Nb,Sm,Yo,_b,Nm,Eb],s=Ai(),a=ot(s,Nm);ar(a,n,a),ar(a,r.domain,a);const i=Ai(),o=Ai(),c=Ai();ar(s,r.domain,i),ar(s,r.scheme,o),ar(s,r.slashscheme,c),ar(i,n,a),ar(i,r.domain,i);const d=ot(i,Rc);ot(a,Rc,d),ot(o,Rc,d),ot(c,Rc,d);const u=ot(a,qo);ar(u,n,a),ar(u,r.domain,a);const h=Ai();ar(d,r.domain,h),ar(h,r.domain,h);const f=ot(h,qo);ar(f,r.domain,h);const p=Ai(OA);ar(f,r.tld,p),ar(f,r.utld,p),ot(d,v0,p);const g=ot(h,Li);ot(g,Li,g),ar(g,r.domain,h),ar(p,r.domain,h),ot(p,qo,f),ot(p,Li,g);const m=ot(p,$c);ar(m,r.numeric,OA);const v=ot(i,Li),x=ot(i,qo);ot(v,Li,v),ar(v,r.domain,i),ar(x,n,a),ar(x,r.domain,i);const y=Ai(P1);ar(x,r.tld,y),ar(x,r.utld,y),ar(y,r.domain,i),ar(y,n,a),ot(y,qo,x),ot(y,Li,v),ot(y,Rc,d);const w=ot(y,$c),k=Ai(P1);ar(w,r.numeric,k);const S=Ai(P1),N=Ai();ar(S,e,S),ar(S,t,N),ar(N,e,S),ar(N,t,N),ot(y,Yo,S),ot(k,Yo,S);const A=ot(o,$c),E=ot(c,$c),R=ot(E,Yo),O=ot(R,Yo);ar(o,r.domain,i),ot(o,qo,x),ot(o,Li,v),ar(c,r.domain,i),ot(c,qo,x),ot(c,Li,v),ar(A,r.domain,S),ot(A,Yo,S),ot(A,Sm,S),ar(O,r.domain,S),ar(O,e,S),ot(O,Yo,S);const L=[[wm,km],[tb,rb],[nb,sb],[ab,ib],[ob,lb],[cb,db],[ub,hb],[fb,pb]];for(let D=0;D<L.length;D++){const[F,M]=L[D],B=ot(S,F);ot(N,F,B),ot(B,M,S);const z=Ai(P1);ar(B,e,z);const V=Ai();ar(B,t),ar(z,e,z),ar(z,t,V),ar(V,e,z),ar(V,t,V),ot(z,M,S),ot(V,M,S)}return ot(s,v0,y),ot(s,RE,Xme),{start:s,tokens:NH}}function Jme(r,e,t){let n=t.length,s=0,a=[],i=[];for(;s<n;){let o=r,c=null,d=null,u=0,h=null,f=-1;for(;s<n&&!(c=o.go(t[s].t));)i.push(t[s++]);for(;s<n&&(d=c||o.go(t[s].t));)c=null,o=d,o.accepts()?(f=0,h=o):f>=0&&f++,s++,u++;if(f<0)s-=u,s<n&&(i.push(t[s]),s++);else{i.length>0&&(a.push(D4(FA,e,i)),i=[]),s-=f,u-=f;const p=h.t,g=t.slice(s-u,s);a.push(D4(p,e,g))}}return i.length>0&&a.push(D4(FA,e,i)),a}function D4(r,e,t){const n=t[0].s,s=t[t.length-1].e,a=e.slice(n,s);return new r(a,t)}const Kme=typeof console<"u"&&console&&console.warn||(()=>{}),Qme="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ln={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function e0e(){return Aa.groups={},ln.scanner=null,ln.parser=null,ln.tokenQueue=[],ln.pluginQueue=[],ln.customSchemes=[],ln.initialized=!1,ln}function BA(r,e=!1){if(ln.initialized&&Kme(`linkifyjs: already initialized - will not register custom scheme "${r}" ${Qme}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(r))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ln.customSchemes.push([r,e])}function t0e(){ln.scanner=Yme(ln.customSchemes);for(let r=0;r<ln.tokenQueue.length;r++)ln.tokenQueue[r][1]({scanner:ln.scanner});ln.parser=Zme(ln.scanner.tokens);for(let r=0;r<ln.pluginQueue.length;r++)ln.pluginQueue[r][1]({scanner:ln.scanner,parser:ln.parser});return ln.initialized=!0,ln}function HE(r){return ln.initialized||t0e(),Jme(ln.parser.start,r,EH(ln.scanner.start,r))}HE.scan=EH;function jH(r,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const n=new zE(t),s=HE(r),a=[];for(let i=0;i<s.length;i++){const o=s[i];o.isLink&&(!e||o.t===e)&&n.check(o)&&a.push(o.toFormattedObject(n))}return a}var UE="[\0-   ᠎ -\u2029 　]",r0e=new RegExp(UE),n0e=new RegExp(`${UE}$`),s0e=new RegExp(UE,"g");function a0e(r){return r.length===1?r[0].isLink:r.length===3&&r[1].isLink?["()","[]"].includes(r[0].value+r[2].value):!1}function i0e(r){return new Ln({key:new Cs("autolink"),appendTransaction:(e,t,n)=>{const s=e.some(d=>d.docChanged)&&!t.doc.eq(n.doc),a=e.some(d=>d.getMeta("preventAutolink"));if(!s||a)return;const{tr:i}=n,o=Hz(t.doc,[...e]);if(Zz(o).forEach(({newRange:d})=>{const u=npe(n.doc,d,p=>p.isTextblock);let h,f;if(u.length>1)h=u[0],f=n.doc.textBetween(h.pos,h.pos+h.node.nodeSize,void 0," ");else if(u.length){const p=n.doc.textBetween(d.from,d.to," "," ");if(!n0e.test(p))return;h=u[0],f=n.doc.textBetween(h.pos,d.to,void 0," ")}if(h&&f){const p=f.split(r0e).filter(Boolean);if(p.length<=0)return!1;const g=p[p.length-1],m=h.pos+f.lastIndexOf(g);if(!g)return!1;const v=HE(g).map(x=>x.toObject(r.defaultProtocol));if(!a0e(v))return!1;v.filter(x=>x.isLink).map(x=>({...x,from:m+x.start+1,to:m+x.end+1})).filter(x=>n.schema.marks.code?!n.doc.rangeHasMark(x.from,x.to,n.schema.marks.code):!0).filter(x=>r.validate(x.value)).filter(x=>r.shouldAutoLink(x.value)).forEach(x=>{PE(x.from,x.to,n.doc).some(y=>y.mark.type===r.type)||i.addMark(x.from,x.to,r.type.create({href:x.href}))})}}),!!i.steps.length)return i}})}function o0e(r){return new Ln({key:new Cs("handleClickLink"),props:{handleClick:(e,t,n)=>{var s,a;if(n.button!==0||!e.editable)return!1;let i=null;if(n.target instanceof HTMLAnchorElement)i=n.target;else{let u=n.target;const h=[];for(;u.nodeName!=="DIV";)h.push(u),u=u.parentNode;i=h.find(f=>f.nodeName==="A")}if(!i)return!1;const o=Xz(e.state,r.type.name),c=(s=i==null?void 0:i.href)!=null?s:o.href,d=(a=i==null?void 0:i.target)!=null?a:o.target;return r.enableClickSelection&&r.editor.commands.extendMarkRange(r.type.name),i&&c?(window.open(c,d),!0):!1}}})}function l0e(r){return new Ln({key:new Cs("handlePasteLink"),props:{handlePaste:(e,t,n)=>{const{state:s}=e,{selection:a}=s,{empty:i}=a;if(i)return!1;let o="";n.content.forEach(d=>{o+=d.textContent});const c=jH(o,{defaultProtocol:r.defaultProtocol}).find(d=>d.isLink&&d.value===o);return!o||!c?!1:r.editor.commands.setMark(r.type,{href:c.href})}}})}function Xd(r,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const s=typeof n=="string"?n:n.scheme;s&&t.push(s)}),!r||r.replace(s0e,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var c0e=Md.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(r=>{if(typeof r=="string"){BA(r);return}BA(r.scheme,r.optionalSlashes)})},onDestroy(){e0e()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(r,e)=>!!Xd(r,e.protocols),validate:r=>!!r,shouldAutoLink:r=>!!r}},addAttributes(){return{href:{default:null,parseHTML(r){return r.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:r=>{const e=r.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Xd(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:r}){return this.options.isAllowedUri(r.href,{defaultValidate:e=>!!Xd(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Un(this.options.HTMLAttributes,r),0]:["a",Un(this.options.HTMLAttributes,{...r,href:""}),0]},addCommands(){return{setLink:r=>({chain:e})=>{const{href:t}=r;return this.options.isAllowedUri(t,{defaultValidate:n=>!!Xd(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,r).setMeta("preventAutolink",!0).run():!1},toggleLink:r=>({chain:e})=>{const{href:t}=r||{};return t&&!this.options.isAllowedUri(t,{defaultValidate:n=>!!Xd(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,r,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:r})=>r().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ah({find:r=>{const e=[];if(r){const{protocols:t,defaultProtocol:n}=this.options,s=jH(r).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:i=>!!Xd(i,t),protocols:t,defaultProtocol:n}));s.length&&s.forEach(a=>e.push({text:a.value,data:{href:a.href},index:a.start}))}return e},type:this.type,getAttributes:r=>{var e;return{href:(e=r.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const r=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&r.push(i0e({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:s=>!!Xd(s,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&r.push(o0e({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&r.push(l0e({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),r}}),d0e=Object.defineProperty,u0e=(r,e)=>{for(var t in e)d0e(r,t,{get:e[t],enumerable:!0})},h0e="listItem",zA="textStyle",HA=/^\s*([-+*])\s$/,AH=mi.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:r}){return["ul",Un(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleBulletList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(h0e,this.editor.getAttributes(zA)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let r=wp({find:HA,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(r=wp({find:HA,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(zA),editor:this.editor})),[r]}}),TH=mi.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:r}){return["li",Un(this.options.HTMLAttributes,r),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),f0e={};u0e(f0e,{findListItemPos:()=>Z0,getNextListDepth:()=>$E,handleBackspace:()=>YC,handleDelete:()=>GC,hasListBefore:()=>PH,hasListItemAfter:()=>p0e,hasListItemBefore:()=>LH,listItemHasSubList:()=>DH,nextListIsDeeper:()=>MH,nextListIsHigher:()=>RH});var Z0=(r,e)=>{const{$from:t}=e.selection,n=Kn(r,e.schema);let s=null,a=t.depth,i=t.pos,o=null;for(;a>0&&o===null;)s=t.node(a),s.type===n?o=a:(a-=1,i-=1);return o===null?null:{$pos:e.doc.resolve(i),depth:o}},$E=(r,e)=>{const t=Z0(r,e);if(!t)return!1;const[,n]=fpe(e,r,t.$pos.pos+4);return n},PH=(r,e,t)=>{const{$anchor:n}=r.selection,s=Math.max(0,n.pos-2),a=r.doc.resolve(s).node();return!(!a||!t.includes(a.type.name))},LH=(r,e)=>{var t;const{$anchor:n}=e.selection,s=e.doc.resolve(n.pos-2);return!(s.index()===0||((t=s.nodeBefore)==null?void 0:t.type.name)!==r)},DH=(r,e,t)=>{if(!t)return!1;const n=Kn(r,e.schema);let s=!1;return t.descendants(a=>{a.type===n&&(s=!0)}),s},YC=(r,e,t)=>{if(r.commands.undoInputRule())return!0;if(r.state.selection.from!==r.state.selection.to)return!1;if(!Sd(r.state,e)&&PH(r.state,e,t)){const{$anchor:o}=r.state.selection,c=r.state.doc.resolve(o.before()-1),d=[];c.node().descendants((f,p)=>{f.type.name===e&&d.push({node:f,pos:p})});const u=d.at(-1);if(!u)return!1;const h=r.state.doc.resolve(c.start()+u.pos+1);return r.chain().cut({from:o.start()-1,to:o.end()+1},h.end()).joinForward().run()}if(!Sd(r.state,e)||!xpe(r.state))return!1;const n=Z0(e,r.state);if(!n)return!1;const a=r.state.doc.resolve(n.$pos.pos-2).node(n.depth),i=DH(e,r.state,a);return LH(e,r.state)&&!i?r.commands.joinItemBackward():r.chain().liftListItem(e).run()},MH=(r,e)=>{const t=$E(r,e),n=Z0(r,e);return!n||!t?!1:t>n.depth},RH=(r,e)=>{const t=$E(r,e),n=Z0(r,e);return!n||!t?!1:t<n.depth},GC=(r,e)=>{if(!Sd(r.state,e)||!mpe(r.state,e))return!1;const{selection:t}=r.state,{$from:n,$to:s}=t;return!t.empty&&n.sameParent(s)?!1:MH(e,r.state)?r.chain().focus(r.state.selection.from+4).lift(e).joinBackward().run():RH(e,r.state)?r.chain().joinForward().joinBackward().run():r.commands.joinItemForward()},p0e=(r,e)=>{var t;const{$anchor:n}=e.selection,s=e.doc.resolve(n.pos-n.parentOffset-2);return!(s.index()===s.parent.childCount-1||((t=s.nodeAfter)==null?void 0:t.type.name)!==r)},IH=sn.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:r})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{r.state.schema.nodes[t]!==void 0&&GC(r,t)&&(e=!0)}),e},"Mod-Delete":({editor:r})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{r.state.schema.nodes[t]!==void 0&&GC(r,t)&&(e=!0)}),e},Backspace:({editor:r})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:n})=>{r.state.schema.nodes[t]!==void 0&&YC(r,t,n)&&(e=!0)}),e},"Mod-Backspace":({editor:r})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:n})=>{r.state.schema.nodes[t]!==void 0&&YC(r,t,n)&&(e=!0)}),e}}}}),g0e="listItem",UA="textStyle",$A=/^(\d+)\.\s$/,OH=mi.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:r=>r.hasAttribute("start")?parseInt(r.getAttribute("start")||"",10):1},type:{default:null,parseHTML:r=>r.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:r}){const{start:e,...t}=r;return e===1?["ol",Un(this.options.HTMLAttributes,t),0]:["ol",Un(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleOrderedList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(g0e,this.editor.getAttributes(UA)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let r=wp({find:$A,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(r=wp({find:$A,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(UA)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[r]}}),m0e=/^\s*(\[([( |x])?\])\s$/,x0e=mi.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:r=>{const e=r.getAttribute("data-checked");return e===""||e==="true"},renderHTML:r=>({"data-checked":r.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:r,HTMLAttributes:e}){return["li",Un(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:r.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const r={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...r,Tab:()=>this.editor.commands.sinkListItem(this.name)}:r},addNodeView(){return({node:r,HTMLAttributes:e,getPos:t,editor:n})=>{const s=document.createElement("li"),a=document.createElement("label"),i=document.createElement("span"),o=document.createElement("input"),c=document.createElement("div"),d=u=>{var h,f;o.ariaLabel=((f=(h=this.options.a11y)==null?void 0:h.checkboxLabel)==null?void 0:f.call(h,u,o.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};return d(r),a.contentEditable="false",o.type="checkbox",o.addEventListener("mousedown",u=>u.preventDefault()),o.addEventListener("change",u=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){o.checked=!o.checked;return}const{checked:h}=u.target;n.isEditable&&typeof t=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const p=t();if(typeof p!="number")return!1;const g=f.doc.nodeAt(p);return f.setNodeMarkup(p,void 0,{...g==null?void 0:g.attrs,checked:h}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(r,h)||(o.checked=!o.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,h])=>{s.setAttribute(u,h)}),s.dataset.checked=r.attrs.checked,o.checked=r.attrs.checked,a.append(o,i),s.append(a,c),Object.entries(e).forEach(([u,h])=>{s.setAttribute(u,h)}),{dom:s,contentDOM:c,update:u=>u.type!==this.type?!1:(s.dataset.checked=u.attrs.checked,o.checked=u.attrs.checked,d(u),!0)}}},addInputRules(){return[wp({find:m0e,type:this.type,getAttributes:r=>({checked:r[r.length-1]==="x"})})]}}),v0e=mi.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:r}){return["ul",Un(this.options.HTMLAttributes,r,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:r})=>r.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});sn.create({name:"listKit",addExtensions(){const r=[];return this.options.bulletList!==!1&&r.push(AH.configure(this.options.bulletList)),this.options.listItem!==!1&&r.push(TH.configure(this.options.listItem)),this.options.listKeymap!==!1&&r.push(IH.configure(this.options.listKeymap)),this.options.orderedList!==!1&&r.push(OH.configure(this.options.orderedList)),this.options.taskItem!==!1&&r.push(x0e.configure(this.options.taskItem)),this.options.taskList!==!1&&r.push(v0e.configure(this.options.taskList)),r}});var y0e=mi.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:r}){return["p",Un(this.options.HTMLAttributes,r),0]},addCommands(){return{setParagraph:()=>({commands:r})=>r.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),b0e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,w0e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,k0e=Md.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["s",Un(this.options.HTMLAttributes,r),0]},addCommands(){return{setStrike:()=>({commands:r})=>r.setMark(this.name),toggleStrike:()=>({commands:r})=>r.toggleMark(this.name),unsetStrike:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[bp({find:b0e,type:this.type})]},addPasteRules(){return[ah({find:w0e,type:this.type})]}}),C0e=mi.create({name:"text",group:"inline"}),S0e=Md.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["u",Un(this.options.HTMLAttributes,r),0]},addCommands(){return{setUnderline:()=>({commands:r})=>r.setMark(this.name),toggleUnderline:()=>({commands:r})=>r.toggleMark(this.name),unsetUnderline:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function N0e(r={}){return new Ln({view(e){return new E0e(e,r)}})}class E0e{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=t.width)!==null&&n!==void 0?n:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let a=i=>{this[s](i)};return e.dom.addEventListener(s,a),{name:s,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,n,s=this.editorView.dom,a=s.getBoundingClientRect(),i=a.width/s.offsetWidth,o=a.height/s.offsetHeight;if(t){let h=e.nodeBefore,f=e.nodeAfter;if(h||f){let p=this.editorView.nodeDOM(this.cursorPos-(h?h.nodeSize:0));if(p){let g=p.getBoundingClientRect(),m=h?g.bottom:g.top;h&&f&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let v=this.width/2*o;n={left:g.left,right:g.right,top:m-v,bottom:m+v}}}}if(!n){let h=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*i;n={left:h.left-f,right:h.left+f,top:h.top,bottom:h.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let d,u;if(!c||c==document.body&&getComputedStyle(c).position=="static")d=-pageXOffset,u=-pageYOffset;else{let h=c.getBoundingClientRect(),f=h.width/c.offsetWidth,p=h.height/c.offsetHeight;d=h.left-c.scrollLeft*f,u=h.top-c.scrollTop*p}this.element.style.left=(n.left-d)/i+"px",this.element.style.top=(n.top-u)/o+"px",this.element.style.width=(n.right-n.left)/i+"px",this.element.style.height=(n.bottom-n.top)/o+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),s=n&&n.type.spec.disableDropCursor,a=typeof s=="function"?s(this.editorView,t,e):s;if(t&&!a){let i=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let o=BB(this.editorView.state.doc,i,this.editorView.dragging.slice);o!=null&&(i=o)}this.setCursor(i),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class An extends nr{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return An.valid(n)?new An(n):nr.near(n)}content(){return Nt.empty}eq(e){return e instanceof An&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new An(e.resolve(t.pos))}getBookmark(){return new VE(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!_0e(e)||!j0e(e))return!1;let n=t.type.spec.allowGapCursor;if(n!=null)return n;let s=t.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&An.valid(e))return e;let s=e.pos,a=null;for(let i=e.depth;;i--){let o=e.node(i);if(t>0?e.indexAfter(i)<o.childCount:e.index(i)>0){a=o.child(t>0?e.indexAfter(i):e.index(i)-1);break}else if(i==0)return null;s+=t;let c=e.doc.resolve(s);if(An.valid(c))return c}for(;;){let i=t>0?a.firstChild:a.lastChild;if(!i){if(a.isAtom&&!a.isText&&!Ft.isSelectable(a)){e=e.doc.resolve(s+a.nodeSize*t),n=!1;continue e}break}a=i,s+=t;let o=e.doc.resolve(s);if(An.valid(o))return o}return null}}}An.prototype.visible=!1;An.findFrom=An.findGapCursorFrom;nr.jsonID("gapcursor",An);class VE{constructor(e){this.pos=e}map(e){return new VE(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return An.valid(t)?new An(t):nr.near(t)}}function _0e(r){for(let e=r.depth;e>=0;e--){let t=r.index(e),n=r.node(e);if(t==0){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(t-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function j0e(r){for(let e=r.depth;e>=0;e--){let t=r.indexAfter(e),n=r.node(e);if(t==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(t);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function A0e(){return new Ln({props:{decorations:D0e,createSelectionBetween(r,e,t){return e.pos==t.pos&&An.valid(t)?new An(t):null},handleClick:P0e,handleKeyDown:T0e,handleDOMEvents:{beforeinput:L0e}}})}const T0e=_z({ArrowLeft:L1("horiz",-1),ArrowRight:L1("horiz",1),ArrowUp:L1("vert",-1),ArrowDown:L1("vert",1)});function L1(r,e){const t=r=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,s,a){let i=n.selection,o=e>0?i.$to:i.$from,c=i.empty;if(i instanceof Gt){if(!a.endOfTextblock(t)||o.depth==0)return!1;c=!1,o=n.doc.resolve(e>0?o.after():o.before())}let d=An.findGapCursorFrom(o,e,c);return d?(s&&s(n.tr.setSelection(new An(d))),!0):!1}}function P0e(r,e,t){if(!r||!r.editable)return!1;let n=r.state.doc.resolve(e);if(!An.valid(n))return!1;let s=r.posAtCoords({left:t.clientX,top:t.clientY});return s&&s.inside>-1&&Ft.isSelectable(r.state.doc.nodeAt(s.inside))?!1:(r.dispatch(r.state.tr.setSelection(new An(n))),!0)}function L0e(r,e){if(e.inputType!="insertCompositionText"||!(r.state.selection instanceof An))return!1;let{$from:t}=r.state.selection,n=t.parent.contentMatchAt(t.index()).findWrapping(r.state.schema.nodes.text);if(!n)return!1;let s=tt.empty;for(let i=n.length-1;i>=0;i--)s=tt.from(n[i].createAndFill(null,s));let a=r.state.tr.replace(t.pos,t.pos,new Nt(s,0,0));return a.setSelection(Gt.near(a.doc.resolve(t.pos+1))),r.dispatch(a),!1}function D0e(r){if(!(r.selection instanceof An))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",yn.create(r.doc,[da.widget(r.selection.head,e,{key:"gapcursor"})])}var jb=200,ks=function(){};ks.prototype.append=function(e){return e.length?(e=ks.from(e),!this.length&&e||e.length<jb&&this.leafAppend(e)||this.length<jb&&e.leafPrepend(this)||this.appendInner(e)):this};ks.prototype.prepend=function(e){return e.length?ks.from(e).append(this):this};ks.prototype.appendInner=function(e){return new M0e(this,e)};ks.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?ks.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};ks.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};ks.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};ks.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var s=[];return this.forEach(function(a,i){return s.push(e(a,i))},t,n),s};ks.from=function(e){return e instanceof ks?e:e&&e.length?new FH(e):ks.empty};var FH=function(r){function e(n){r.call(this),this.values=n}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,a){return s==0&&a==this.length?this:new e(this.values.slice(s,a))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,a,i,o){for(var c=a;c<i;c++)if(s(this.values[c],o+c)===!1)return!1},e.prototype.forEachInvertedInner=function(s,a,i,o){for(var c=a-1;c>=i;c--)if(s(this.values[c],o+c)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=jb)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=jb)return new e(s.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(ks);ks.empty=new FH([]);var M0e=function(r){function e(t,n){r.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,s,a,i){var o=this.left.length;if(s<o&&this.left.forEachInner(n,s,Math.min(a,o),i)===!1||a>o&&this.right.forEachInner(n,Math.max(s-o,0),Math.min(this.length,a)-o,i+o)===!1)return!1},e.prototype.forEachInvertedInner=function(n,s,a,i){var o=this.left.length;if(s>o&&this.right.forEachInvertedInner(n,s-o,Math.max(a,o)-o,i+o)===!1||a<o&&this.left.forEachInvertedInner(n,Math.min(s,o),a,i)===!1)return!1},e.prototype.sliceInner=function(n,s){if(n==0&&s==this.length)return this;var a=this.left.length;return s<=a?this.left.slice(n,s):n>=a?this.right.slice(n-a,s-a):this.left.slice(n,a).append(this.right.slice(0,s-a))},e.prototype.leafAppend=function(n){var s=this.right.leafAppend(n);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(n){var s=this.left.leafPrepend(n);if(s)return new e(s,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(ks);const R0e=500;class fo{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let s,a;t&&(s=this.remapping(n,this.items.length),a=s.maps.length);let i=e.tr,o,c,d=[],u=[];return this.items.forEach((h,f)=>{if(!h.step){s||(s=this.remapping(n,f+1),a=s.maps.length),a--,u.push(h);return}if(s){u.push(new Go(h.map));let p=h.step.map(s.slice(a)),g;p&&i.maybeStep(p).doc&&(g=i.mapping.maps[i.mapping.maps.length-1],d.push(new Go(g,void 0,void 0,d.length+u.length))),a--,g&&s.appendMap(g,a)}else i.maybeStep(h.step);if(h.selection)return o=s?h.selection.map(s.slice(a)):h.selection,c=new fo(this.items.slice(0,n).append(u.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:i,selection:o}}addTransform(e,t,n,s){let a=[],i=this.eventCount,o=this.items,c=!s&&o.length?o.get(o.length-1):null;for(let u=0;u<e.steps.length;u++){let h=e.steps[u].invert(e.docs[u]),f=new Go(e.mapping.maps[u],h,t),p;(p=c&&c.merge(f))&&(f=p,u?a.pop():o=o.slice(0,o.length-1)),a.push(f),t&&(i++,t=void 0),s||(c=f)}let d=i-n.depth;return d>O0e&&(o=I0e(o,d),i-=d),new fo(o.append(a),i)}remapping(e,t){let n=new u0;return this.items.forEach((s,a)=>{let i=s.mirrorOffset!=null&&a-s.mirrorOffset>=e?n.maps.length-s.mirrorOffset:void 0;n.appendMap(s.map,i)},e,t),n}addMaps(e){return this.eventCount==0?this:new fo(this.items.append(e.map(t=>new Go(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],s=Math.max(0,this.items.length-t),a=e.mapping,i=e.steps.length,o=this.eventCount;this.items.forEach(f=>{f.selection&&o--},s);let c=t;this.items.forEach(f=>{let p=a.getMirror(--c);if(p==null)return;i=Math.min(i,p);let g=a.maps[p];if(f.step){let m=e.steps[p].invert(e.docs[p]),v=f.selection&&f.selection.map(a.slice(c+1,p));v&&o++,n.push(new Go(g,m,v))}else n.push(new Go(g))},s);let d=[];for(let f=t;f<i;f++)d.push(new Go(a.maps[f]));let u=this.items.slice(0,s).append(d).append(n),h=new fo(u,o);return h.emptyItemCount()>R0e&&(h=h.compress(this.items.length-n.length)),h}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,s=[],a=0;return this.items.forEach((i,o)=>{if(o>=e)s.push(i),i.selection&&a++;else if(i.step){let c=i.step.map(t.slice(n)),d=c&&c.getMap();if(n--,d&&t.appendMap(d,n),c){let u=i.selection&&i.selection.map(t.slice(n));u&&a++;let h=new Go(d.invert(),c,u),f,p=s.length-1;(f=s.length&&s[p].merge(h))?s[p]=f:s.push(h)}}else i.map&&n--},this.items.length,0),new fo(ks.from(s.reverse()),a)}}fo.empty=new fo(ks.empty,0);function I0e(r,e){let t;return r.forEach((n,s)=>{if(n.selection&&e--==0)return t=s,!1}),r.slice(t)}class Go{constructor(e,t,n,s){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Go(t.getMap().invert(),t,this.selection)}}}class Ic{constructor(e,t,n,s,a){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=s,this.prevComposition=a}}const O0e=20;function F0e(r,e,t,n){let s=t.getMeta(Uu),a;if(s)return s.historyState;t.getMeta(H0e)&&(r=new Ic(r.done,r.undone,null,0,-1));let i=t.getMeta("appendedTransaction");if(t.steps.length==0)return r;if(i&&i.getMeta(Uu))return i.getMeta(Uu).redo?new Ic(r.done.addTransform(t,void 0,n,Nv(e)),r.undone,VA(t.mapping.maps),r.prevTime,r.prevComposition):new Ic(r.done,r.undone.addTransform(t,void 0,n,Nv(e)),null,r.prevTime,r.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(i&&i.getMeta("addToHistory")===!1)){let o=t.getMeta("composition"),c=r.prevTime==0||!i&&r.prevComposition!=o&&(r.prevTime<(t.time||0)-n.newGroupDelay||!B0e(t,r.prevRanges)),d=i?M4(r.prevRanges,t.mapping):VA(t.mapping.maps);return new Ic(r.done.addTransform(t,c?e.selection.getBookmark():void 0,n,Nv(e)),fo.empty,d,t.time,o??r.prevComposition)}else return(a=t.getMeta("rebased"))?new Ic(r.done.rebased(t,a),r.undone.rebased(t,a),M4(r.prevRanges,t.mapping),r.prevTime,r.prevComposition):new Ic(r.done.addMaps(t.mapping.maps),r.undone.addMaps(t.mapping.maps),M4(r.prevRanges,t.mapping),r.prevTime,r.prevComposition)}function B0e(r,e){if(!e)return!1;if(!r.docChanged)return!0;let t=!1;return r.mapping.maps[0].forEach((n,s)=>{for(let a=0;a<e.length;a+=2)n<=e[a+1]&&s>=e[a]&&(t=!0)}),t}function VA(r){let e=[];for(let t=r.length-1;t>=0&&e.length==0;t--)r[t].forEach((n,s,a,i)=>e.push(a,i));return e}function M4(r,e){if(!r)return null;let t=[];for(let n=0;n<r.length;n+=2){let s=e.map(r[n],1),a=e.map(r[n+1],-1);s<=a&&t.push(s,a)}return t}function z0e(r,e,t){let n=Nv(e),s=Uu.get(e).spec.config,a=(t?r.undone:r.done).popEvent(e,n);if(!a)return null;let i=a.selection.resolve(a.transform.doc),o=(t?r.done:r.undone).addTransform(a.transform,e.selection.getBookmark(),s,n),c=new Ic(t?o:a.remaining,t?a.remaining:o,null,0,-1);return a.transform.setSelection(i).setMeta(Uu,{redo:t,historyState:c})}let R4=!1,WA=null;function Nv(r){let e=r.plugins;if(WA!=e){R4=!1,WA=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){R4=!0;break}}return R4}const Uu=new Cs("history"),H0e=new Cs("closeHistory");function U0e(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new Ln({key:Uu,state:{init(){return new Ic(fo.empty,fo.empty,null,0,-1)},apply(e,t,n){return F0e(t,n,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,s=n=="historyUndo"?zH:n=="historyRedo"?HH:null;return s?(t.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function BH(r,e){return(t,n)=>{let s=Uu.getState(t);if(!s||(r?s.undone:s.done).eventCount==0)return!1;if(n){let a=z0e(s,t,r);a&&n(e?a.scrollIntoView():a)}return!0}}const zH=BH(!1,!0),HH=BH(!0,!0);sn.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:r=>r.length,wordCounter:r=>r.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=r=>{const e=(r==null?void 0:r.node)||this.editor.state.doc;if(((r==null?void 0:r.mode)||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=r=>{const e=(r==null?void 0:r.node)||this.editor.state.doc,t=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(t)}},addProseMirrorPlugins(){let r=!1;return[new Ln({key:new Cs("characterCount"),appendTransaction:(e,t,n)=>{if(r)return;const s=this.options.limit;if(s==null||s===0){r=!0;return}const a=this.storage.characters({node:n.doc});if(a>s){const i=a-s,o=0,c=i;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const d=n.tr.deleteRange(o,c);return r=!0,d}r=!0},filterTransaction:(e,t)=>{const n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;const s=this.storage.characters({node:t.doc}),a=this.storage.characters({node:e.doc});if(a<=n||s>n&&a>n&&a<=s)return!0;if(s>n&&a>n&&a>s||!e.getMeta("paste"))return!1;const o=e.selection.$head.pos,c=a-n,d=o-c,u=o;return e.deleteRange(d,u),!(this.storage.characters({node:e.doc})>n)}})]}});var $0e=sn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[N0e(this.options)]}});sn.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ln({key:new Cs("focus"),props:{decorations:({doc:r,selection:e})=>{const{isEditable:t,isFocused:n}=this.editor,{anchor:s}=e,a=[];if(!t||!n)return yn.create(r,[]);let i=0;this.options.mode==="deepest"&&r.descendants((c,d)=>{if(c.isText)return;if(!(s>=d&&s<=d+c.nodeSize-1))return!1;i+=1});let o=0;return r.descendants((c,d)=>{if(c.isText||!(s>=d&&s<=d+c.nodeSize-1))return!1;if(o+=1,this.options.mode==="deepest"&&i-o>0||this.options.mode==="shallowest"&&o>1)return this.options.mode==="deepest";a.push(da.node(d,d+c.nodeSize,{class:this.options.className}))}),yn.create(r,a)}}})]}});var V0e=sn.create({name:"gapCursor",addProseMirrorPlugins(){return[A0e()]},extendNodeSchema(r){var e;const t={name:r.name,options:r.options,storage:r.storage};return{allowGapCursor:(e=Fr(Ot(r,"allowGapCursor",t)))!=null?e:null}}});sn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ln({key:new Cs("placeholder"),props:{decorations:({doc:r,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,s=[];if(!t)return null;const a=this.editor.isEmpty;return r.descendants((i,o)=>{const c=n>=o&&n<=o+i.nodeSize,d=!i.isLeaf&&I2(i);if((c||!this.options.showOnlyCurrent)&&d){const u=[this.options.emptyNodeClass];a&&u.push(this.options.emptyEditorClass);const h=da.node(o,o+i.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:i,pos:o,hasAnchor:c}):this.options.placeholder});s.push(h)}return this.options.includeChildren}),yn.create(r,s)}}})]}});sn.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:r,options:e}=this;return[new Ln({key:new Cs("selection"),props:{decorations(t){return t.selection.empty||r.isFocused||!r.isEditable||Kz(t.selection)||r.view.dragging?null:yn.create(t.doc,[da.inline(t.selection.from,t.selection.to,{class:e.className})])}}})]}});function qA({types:r,node:e}){return e&&Array.isArray(r)&&r.includes(e.type)||(e==null?void 0:e.type)===r}var W0e=sn.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const r=new Cs(this.name),e=Object.entries(this.editor.schema.nodes).map(([,t])=>t).filter(t=>(this.options.notAfter||[]).concat(this.options.node).includes(t.name));return[new Ln({key:r,appendTransaction:(t,n,s)=>{const{doc:a,tr:i,schema:o}=s,c=r.getState(s),d=a.content.size,u=o.nodes[this.options.node];if(c)return i.insert(d,u.create())},state:{init:(t,n)=>{const s=n.tr.doc.lastChild;return!qA({node:s,types:e})},apply:(t,n)=>{if(!t.docChanged)return n;const s=t.doc.lastChild;return!qA({node:s,types:e})}}})]}}),q0e=sn.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:r,dispatch:e})=>zH(r,e),redo:()=>({state:r,dispatch:e})=>HH(r,e)}},addProseMirrorPlugins(){return[U0e(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),Y0e=sn.create({name:"starterKit",addExtensions(){var r,e,t,n;const s=[];return this.options.bold!==!1&&s.push(Cme.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(vme.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(AH.configure(this.options.bulletList)),this.options.code!==!1&&s.push(Eme.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(Ame.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(Tme.configure(this.options.document)),this.options.dropcursor!==!1&&s.push($0e.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(V0e.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(Pme.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(Lme.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(q0e.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(Dme.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(Fme.configure(this.options.italic)),this.options.listItem!==!1&&s.push(TH.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(IH.configure((r=this.options)==null?void 0:r.listKeymap)),this.options.link!==!1&&s.push(c0e.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(OH.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(y0e.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(k0e.configure(this.options.strike)),this.options.text!==!1&&s.push(C0e.configure(this.options.text)),this.options.underline!==!1&&s.push(S0e.configure((t=this.options)==null?void 0:t.underline)),this.options.trailingNode!==!1&&s.push(W0e.configure((n=this.options)==null?void 0:n.trailingNode)),s}}),G0e=Y0e,X0e=r=>{if(!r.children.length)return;const e=r.querySelectorAll("span");e&&e.forEach(t=>{var n,s;const a=t.getAttribute("style"),i=(s=(n=t.parentElement)==null?void 0:n.closest("span"))==null?void 0:s.getAttribute("style");t.setAttribute("style",`${i};${a}`)})},UH=Md.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:r=>r.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&X0e(r),{}):!1}]},renderHTML({HTMLAttributes:r}){return["span",Un(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleTextStyle:r=>({commands:e})=>e.toggleMark(this.name,r),removeEmptyTextStyle:()=>({tr:r})=>{const{selection:e}=r;return r.doc.nodesBetween(e.from,e.to,(t,n)=>{if(t.isTextblock)return!0;t.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(a=>!!a))||r.removeMark(n,n+t.nodeSize,this.type)}),!0}}}}),Z0e=sn.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:r=>{var e;return(e=r.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:r=>r.backgroundColor?{style:`background-color: ${r.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:r=>({chain:e})=>e().setMark("textStyle",{backgroundColor:r}).run(),unsetBackgroundColor:()=>({chain:r})=>r().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),$H=sn.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:r=>{var e;return(e=r.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:r=>r.color?{style:`color: ${r.color}`}:{}}}}]},addCommands(){return{setColor:r=>({chain:e})=>e().setMark("textStyle",{color:r}).run(),unsetColor:()=>({chain:r})=>r().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),J0e=sn.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:r=>r.style.fontFamily,renderHTML:r=>r.fontFamily?{style:`font-family: ${r.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:r=>({chain:e})=>e().setMark("textStyle",{fontFamily:r}).run(),unsetFontFamily:()=>({chain:r})=>r().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),K0e=sn.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:r=>r.style.fontSize,renderHTML:r=>r.fontSize?{style:`font-size: ${r.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:r=>({chain:e})=>e().setMark("textStyle",{fontSize:r}).run(),unsetFontSize:()=>({chain:r})=>r().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),Q0e=sn.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:r=>r.style.lineHeight,renderHTML:r=>r.lineHeight?{style:`line-height: ${r.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:r=>({chain:e})=>e().setMark("textStyle",{lineHeight:r}).run(),unsetLineHeight:()=>({chain:r})=>r().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});sn.create({name:"textStyleKit",addExtensions(){const r=[];return this.options.backgroundColor!==!1&&r.push(Z0e.configure(this.options.backgroundColor)),this.options.color!==!1&&r.push($H.configure(this.options.color)),this.options.fontFamily!==!1&&r.push(J0e.configure(this.options.fontFamily)),this.options.fontSize!==!1&&r.push(K0e.configure(this.options.fontSize)),this.options.lineHeight!==!1&&r.push(Q0e.configure(this.options.lineHeight)),this.options.textStyle!==!1&&r.push(UH.configure(this.options.textStyle)),r}});function exe({content:r,onChange:e,placeholder:t="Cole aqui o texto do seu contrato...",disabled:n=!1,contractType:s="terms",contractTitle:a="Contrato",showPreview:i=!0}){const[o,c]=b.useState(!1),d=fme({extensions:[G0e.configure({heading:{levels:[1,2,3,4,5,6]},bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1}}),UH,$H],content:r,editable:!n,onUpdate:({editor:u})=>{const h=u.getHTML();e(h),c(!0)},onCreate:()=>{c(!0)},editorProps:{attributes:{class:"tiptap-editor prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto focus:outline-none min-h-[500px] max-h-[600px] overflow-y-auto p-4 border border-gray-300 rounded-lg dark:border-gray-600 dark:prose-invert"},handlePaste:(u,h)=>!1}});return b.useEffect(()=>{d&&r!==d.getHTML()&&d.commands.setContent(r)},[r,d]),!o||!d?l.jsxs("div",{className:"min-h-[500px] max-h-[600px] p-4 border border-gray-300 rounded-lg dark:border-gray-600 bg-gray-50 dark:bg-gray-800 animate-pulse",children:[l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-4"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-4"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-5/6"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-wrap gap-2 p-3 border border-gray-300 rounded-lg bg-gray-50 dark:border-gray-600 dark:bg-gray-800",children:[l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{type:"button",onClick:()=>d.chain().focus().toggleBold().run(),className:`px-3 py-1 text-sm font-medium rounded transition-colors ${d.isActive("bold")?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,disabled:n,children:l.jsx("strong",{children:"B"})}),l.jsx("button",{type:"button",onClick:()=>d.chain().focus().toggleItalic().run(),className:`px-3 py-1 text-sm font-medium rounded transition-colors ${d.isActive("italic")?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,disabled:n,children:l.jsx("em",{children:"I"})}),l.jsx("button",{type:"button",onClick:()=>d.chain().focus().toggleStrike().run(),className:`px-3 py-1 text-sm font-medium rounded transition-colors ${d.isActive("strike")?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,disabled:n,children:l.jsx("s",{children:"S"})})]}),l.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600"}),l.jsx("div",{className:"flex gap-1",children:[1,2,3].map(u=>l.jsxs("button",{type:"button",onClick:()=>d.chain().focus().toggleHeading({level:u}).run(),className:`px-3 py-1 text-sm font-medium rounded transition-colors ${d.isActive("heading",{level:u})?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,disabled:n,children:["H",u]},u))}),l.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600"}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{type:"button",onClick:()=>d.chain().focus().toggleBulletList().run(),className:`px-3 py-1 text-sm font-medium rounded transition-colors ${d.isActive("bulletList")?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,disabled:n,children:"• Lista"}),l.jsx("button",{type:"button",onClick:()=>d.chain().focus().toggleOrderedList().run(),className:`px-3 py-1 text-sm font-medium rounded transition-colors ${d.isActive("orderedList")?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,disabled:n,children:"1. Lista"})]}),i&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600"}),l.jsx("div",{className:"flex gap-1",children:l.jsx(Bde,{content:r,contractType:s,title:a,disabled:n})})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(ime,{editor:d,className:"tiptap-wrapper"}),d.isEmpty&&l.jsx("div",{className:"absolute top-4 left-4 text-gray-400 pointer-events-none",children:t})]})]})}const txe=r=>{switch(r){case"terms":return"termos_condicoes";case"contract_pf":return"contrato_pf";case"contract_cnpj":return"contrato_cnpj";case"privacy_policy":return"politica_privacidade";default:return"termos_condicoes"}};function rxe({type:r,title:e,initialContent:t="",onSave:n,loading:s=!1}){console.log("🎬 [EnhancedContractEditor] COMPONENTE RENDERIZADO"),console.log("📝 [EnhancedContractEditor] Props:",{legacyType:r,title:e,initialContentLength:(t==null?void 0:t.length)||0,hasOnSave:!!n,loading:s});const[a,i]=b.useState(t),{user:o,loading:c,isAdmin:d}=Fde();console.log("👤 [EnhancedContractEditor] Estado de auth:",{userId:o==null?void 0:o.id,userEmail:o==null?void 0:o.email,isAdmin:d,loadingAuth:c});const{saving:u,error:h,upsertContract:f,getContractByType:p,clearError:g}=Ode(),{isPreviewOpen:m,openPreview:v,closePreview:x}=Hde(),{showSuccessToast:y,showErrorToast:w}=iE();console.log("🔗 [EnhancedContractEditor] Hook useContracts:",{saving:u,error:h,hasUpsertContract:!!f,upsertContractType:typeof f,hasGetContract:!!p,hasClearError:!!g});const k=txe(r);b.useEffect(()=>{(async()=>{if(o!=null&&o.id&&d&&!c){console.log("🔍 [EnhancedContractEditor] Carregando contrato da empresa:",{contractType:k,legacyType:r,note:"Buscando contrato compartilhado da empresa (não específico por admin)"});try{const O=await p(k);O!=null&&O.contract_content?(console.log("📄 [EnhancedContractEditor] Contrato da empresa encontrado:",{contractId:O.id,originalAdminId:O.admin_id,contentLength:O.contract_content.length,createdAt:O.created_at,note:"Este contrato é compartilhado entre todos os admins"}),i(O.contract_content)):(console.log("📭 [EnhancedContractEditor] Nenhum contrato da empresa encontrado - campo vazio"),i(""))}catch(O){console.error("💥 [EnhancedContractEditor] Erro ao carregar contrato da empresa:",O),i("")}}})()},[o==null?void 0:o.id,d,k,p,c,r]),b.useEffect(()=>{const R=O=>{console.log("👁️ [EnhancedContractEditor] Preview event recebido:",O.detail),v()};return window.addEventListener("contractPreview",R),()=>{window.removeEventListener("contractPreview",R)}},[v]);const S=R=>{i(R),g()},N=async()=>{if(console.log("🎯 [EnhancedContractEditor] Iniciando handleSave"),console.log("📝 [EnhancedContractEditor] Estado atual:",{contentLength:a==null?void 0:a.length,hasContent:!!(a&&a.trim()&&a!=="<p></p>"),userId:o==null?void 0:o.id,isAdmin:d,contractType:k}),!a.trim()||a==="<p></p>"){console.warn("⚠️ [EnhancedContractEditor] Conteúdo vazio, cancelando save"),w("Por favor, insira algum conteúdo antes de salvar.");return}if(!(o!=null&&o.id)){console.error("❌ [EnhancedContractEditor] Usuário não autenticado"),w("Usuário não autenticado. Faça login para salvar o contrato.");return}if(!d){console.error("❌ [EnhancedContractEditor] Usuário não é admin"),w("Apenas administradores podem salvar contratos.");return}try{console.log("🚀 [EnhancedContractEditor] Chamando upsertContract"),console.log("📊 [EnhancedContractEditor] Parâmetros do upsert:",{adminId:o.id,contractType:k,contentPreview:a.slice(0,100)+"..."}),console.log("🔥 [EnhancedContractEditor] PRESTES A CHAMAR upsertContract!"),console.log("🔥 [EnhancedContractEditor] Função upsertContract:",f),console.log("🔥 [EnhancedContractEditor] Tipo da função:",typeof f),console.log("🔥 [EnhancedContractEditor] EXECUTANDO CHAMADA AGORA...");const R=await f(o.id,k,a);if(console.log("🔥 [EnhancedContractEditor] CHAMADA EXECUTADA! Resultado:",R),console.log("📥 [EnhancedContractEditor] Resultado do upsert:",{success:!!R,contractId:R==null?void 0:R.id,savedContract:R}),R){const O=R.created_at!==R.updated_at,L=O?"Contrato atualizado com sucesso!":"Contrato criado com sucesso!";console.log("✅ [EnhancedContractEditor] Contrato salvo:",{isUpdate:O,contractId:R.id,message:L}),y(L),n&&(console.log("📞 [EnhancedContractEditor] Chamando callback onSave legado"),n(a))}else console.error("❌ [EnhancedContractEditor] upsertContract retornou null"),w("Erro ao salvar contrato. Tente novamente.")}catch(R){console.error("💥 [EnhancedContractEditor] Erro inesperado no save:",R),w("Erro inesperado ao salvar contrato. Tente novamente.")}},A=()=>{i(""),g()},E=s||u||c;return c?l.jsx("div",{className:"max-w-4xl space-y-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),l.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):!o||!d?l.jsx("div",{className:"max-w-4xl space-y-6",children:l.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Acesso Restrito"}),l.jsx("p",{className:"mt-1 text-sm text-yellow-700 dark:text-yellow-300",children:o?"Apenas administradores podem editar contratos.":"Você precisa estar logado para acessar esta funcionalidade."})]})]})})}):l.jsxs("div",{className:"max-w-4xl space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("div",{children:l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:e})})}),h&&l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h4",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Erro ao salvar contrato"}),l.jsx("p",{className:"mt-1 text-sm text-red-700 dark:text-red-300",children:h})]}),l.jsx("div",{className:"ml-auto pl-3",children:l.jsxs("button",{type:"button",onClick:g,className:"inline-flex text-red-400 hover:text-red-600 dark:hover:text-red-200",children:[l.jsx("span",{className:"sr-only",children:"Dismiss"}),l.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsx(exe,{content:a,onChange:S,placeholder:"Cole aqui o texto do seu contrato...",disabled:E,contractType:r,contractTitle:e,showPreview:!0})}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a&&a!=="<p></p>"&&l.jsx("button",{type:"button",onClick:A,className:"inline-flex items-center rounded-lg border border-gray-300 bg-white px-5 py-3.5 text-sm font-medium text-gray-700 transition duration-200 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700",disabled:E,children:"Limpar"}),l.jsx(nt,{onClick:()=>{if(console.log("�🔥🔥 [BOTÃO] CLIQUE REGISTRADO - INÍCIO"),console.log("🔥🔥🔥 [BOTÃO] Timestamp:",new Date().toISOString()),console.log("�🖱️ [EnhancedContractEditor] BOTÃO SALVAR CLICADO!"),console.log("📊 [EnhancedContractEditor] Estado do botão:",{isLoading:E,hasContent:!!(a&&a.trim()&&a!=="<p></p>"),saving:u,content:(a==null?void 0:a.slice(0,50))+"..."}),console.log("🧪 [EnhancedContractEditor] TESTE: Verificando função upsertContract"),console.log("🧪 [EnhancedContractEditor] upsertContract existe?",!!f),console.log("🧪 [EnhancedContractEditor] upsertContract tipo:",typeof f),console.log("🧪 [EnhancedContractEditor] TESTE DIRETO: Tentando chamar upsertContract"),typeof f=="function"){console.log("🧪 [EnhancedContractEditor] Função é válida"),console.log("🧪 [EnhancedContractEditor] CHAMADA DIRETA upsertContract");try{o!=null&&o.id&&a&&f(o.id,k,a).then(R=>{console.log("🧪 [EnhancedContractEditor] RESULTADO DIRETO:",R)}).catch(R=>{console.error("🧪 [EnhancedContractEditor] ERRO DIRETO:",R)})}catch(R){console.error("🧪 [EnhancedContractEditor] ERRO NA CHAMADA DIRETA:",R)}console.log("🧪 [EnhancedContractEditor] Também chamando handleSave"),N()}else console.error("❌ [EnhancedContractEditor] upsertContract NÃO é uma função!"),console.error("❌ [EnhancedContractEditor] Valor atual:",f),w("ERRO: Função upsertContract não está definida!");console.log("🔥🔥🔥 [BOTÃO] CLIQUE PROCESSADO - FIM")},disabled:E||!a.trim()||a==="<p></p>",className:"min-w-32",children:u?"Salvando...":"Salvar Contrato"})]})]}),l.jsx(zde,{isOpen:m,onClose:x,content:a,title:e})]})}function nxe(){const[r,e]=b.useState("terms"),t=[{id:"terms",label:"Termos e Condições"},{id:"contract_pf",label:"Contrato PF"},{id:"contract_cnpj",label:"Contrato CNPJ"},{id:"privacy_policy",label:"Política de Privacidade"}],n={terms:"Termos e Condições",contract_pf:"Contrato para Pessoa Física",contract_cnpj:"Contrato para Pessoa Jurídica (CNPJ)",privacy_policy:"Política de Privacidade"},s=a=>{console.log("🔄 [ContractSettings] Mudando aba para:",a),e(a)};return l.jsxs("div",{className:"max-w-6xl space-y-6",children:[l.jsx("div",{className:"w-full max-w-md",children:l.jsx(dB,{tabs:t,activeTabId:r,onTabChange:s,className:"w-full"})}),l.jsx("div",{className:"mt-6",children:l.jsx(rxe,{type:r,title:n[r]},r)})]})}function sxe(){const[r,e]=b.useState("logo");return l.jsxs(l.Fragment,{children:[l.jsx(er,{pageTitle:"Configurações",description:"Configurações do sistema"}),l.jsx(Dr,{pageTitle:"Configurações"}),l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]",children:[l.jsx("div",{className:"border-b border-gray-200 dark:border-gray-800",children:l.jsxs("div",{className:"flex gap-2 px-5 lg:px-6",children:[l.jsx("button",{onClick:()=>e("logo"),className:`inline-flex items-center gap-2 border-b-2 px-4 py-4 text-sm font-medium hover:text-gray-700 dark:hover:text-gray-300 ${r==="logo"?"border-brand-500 text-brand-500 dark:text-brand-400":"border-transparent text-gray-500 dark:text-gray-400"}`,children:"Logo"}),l.jsx("button",{onClick:()=>e("smtp"),className:`inline-flex items-center gap-2 border-b-2 px-4 py-4 text-sm font-medium hover:text-gray-700 dark:hover:text-gray-300 ${r==="smtp"?"border-brand-500 text-brand-500 dark:text-brand-400":"border-transparent text-gray-500 dark:text-gray-400"}`,children:"SMTP"}),l.jsx("button",{onClick:()=>e("pagarme"),className:`inline-flex items-center gap-2 border-b-2 px-4 py-4 text-sm font-medium hover:text-gray-700 dark:hover:text-gray-300 ${r==="pagarme"?"border-brand-500 text-brand-500 dark:text-brand-400":"border-transparent text-gray-500 dark:text-gray-400"}`,children:"Pagamento Marketplace"}),l.jsx("button",{onClick:()=>e("contratos"),className:`inline-flex items-center gap-2 border-b-2 px-4 py-4 text-sm font-medium hover:text-gray-700 dark:hover:text-gray-300 ${r==="contratos"?"border-brand-500 text-brand-500 dark:text-brand-400":"border-transparent text-gray-500 dark:text-gray-400"}`,children:"Contratos"})]})}),l.jsxs("div",{className:"p-5 lg:p-6",children:[r==="logo"&&l.jsx(Dde,{}),r==="smtp"&&l.jsx(Mde,{}),r==="pagarme"&&l.jsx(Rde,{}),r==="contratos"&&l.jsx(nxe,{})]})]})]})}class axe{static async getLatestTerms(){var e;try{console.log("🔍 [TermsDbService] Buscando termos e condições públicos");const{data:t,error:n}=await G.from("contracts").select("id, contract_content, created_at, updated_at, type_of_contract").eq("type_of_contract","termos_condicoes").order("created_at",{ascending:!1}).limit(1).maybeSingle();return n?(console.error("❌ [TermsDbService] Erro ao buscar termos:",n),{success:!1,data:null,error:n.message}):(console.log("📄 [TermsDbService] Termos encontrados:",{found:!!t,id:t==null?void 0:t.id,contentLength:((e=t==null?void 0:t.contract_content)==null?void 0:e.length)||0,createdAt:t==null?void 0:t.created_at}),{success:!0,data:t,error:null})}catch(t){return console.error("💥 [TermsDbService] Erro inesperado:",t),{success:!1,data:null,error:t.message||"Erro inesperado ao buscar termos"}}}static async hasTerms(){try{const{count:e,error:t}=await G.from("contracts").select("*",{count:"exact",head:!0}).eq("type_of_contract","termos_condicoes");return t?(console.error("❌ [TermsDbService] Erro ao verificar existência de termos:",t),!1):(e||0)>0}catch(e){return console.error("💥 [TermsDbService] Erro inesperado ao verificar termos:",e),!1}}}function ixe(){const[r,e]=b.useState({terms:null,loading:!0,error:null,hasTerms:!1}),t=b.useCallback(async()=>{console.log("🔄 [useTerms] Iniciando carregamento dos termos (público)"),e(s=>({...s,loading:!0,error:null}));try{const s=await axe.getLatestTerms();if(s.success&&s.data){const a={id:s.data.id,content:s.data.contract_content,createdAt:s.data.created_at,updatedAt:s.data.updated_at||s.data.created_at};console.log("✅ [useTerms] Termos públicos carregados com sucesso:",{id:a.id,contentLength:a.content.length,createdAt:a.createdAt}),e(i=>({...i,terms:a,loading:!1,hasTerms:!0,error:null}))}else console.log("📭 [useTerms] Nenhum termo público encontrado"),e(a=>({...a,terms:null,loading:!1,hasTerms:!1,error:s.error}))}catch(s){console.error("💥 [useTerms] Erro inesperado ao carregar termos públicos:",s),e(a=>({...a,terms:null,loading:!1,hasTerms:!1,error:s.message||"Erro inesperado ao carregar termos"}))}},[]),n=b.useCallback(()=>{console.log("🔄 [useTerms] Tentando recarregar termos públicos"),t()},[t]);return b.useEffect(()=>{t()},[t]),{...r,loadTerms:t,retryLoad:n}}function oxe({content:r,className:e=""}){return l.jsxs("div",{className:`max-w-4xl mx-auto ${e}`,children:[l.jsx("header",{className:"mb-8 text-center",children:l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Termos e Condições"})}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-8",children:l.jsx("div",{className:`terms-content prose prose-lg max-w-none dark:prose-invert \r
            prose-headings:text-gray-900 dark:prose-headings:text-white \r
            prose-h1:text-3xl prose-h1:font-bold prose-h1:mb-6 prose-h1:mt-8 first:prose-h1:mt-0\r
            prose-h2:text-2xl prose-h2:font-semibold prose-h2:mb-4 prose-h2:mt-6\r
            prose-h3:text-xl prose-h3:font-semibold prose-h3:mb-3 prose-h3:mt-5\r
            prose-h4:text-lg prose-h4:font-medium prose-h4:mb-2 prose-h4:mt-4\r
            prose-h5:text-base prose-h5:font-medium prose-h5:mb-2 prose-h5:mt-3\r
            prose-h6:text-sm prose-h6:font-medium prose-h6:mb-1 prose-h6:mt-2\r
            prose-p:text-gray-700 dark:prose-p:text-gray-300 prose-p:mb-4 prose-p:leading-relaxed\r
            prose-a:text-blue-600 dark:prose-a:text-blue-400 prose-a:underline hover:prose-a:text-blue-800 dark:hover:prose-a:text-blue-300\r
            prose-strong:text-gray-900 dark:prose-strong:text-white prose-strong:font-semibold\r
            prose-em:text-gray-800 dark:prose-em:text-gray-200 prose-em:italic\r
            prose-ul:list-disc prose-ul:list-inside prose-ul:space-y-2 prose-ul:mb-4\r
            prose-ol:list-decimal prose-ol:list-inside prose-ol:space-y-2 prose-ol:mb-4\r
            prose-li:text-gray-700 dark:prose-li:text-gray-300 prose-li:leading-relaxed\r
            prose-blockquote:border-l-4 prose-blockquote:border-gray-300 dark:prose-blockquote:border-gray-600 \r
            prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:text-gray-600 dark:prose-blockquote:text-gray-400\r
            prose-code:bg-gray-100 dark:prose-code:bg-gray-700 prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-code:text-sm\r
            prose-pre:bg-gray-50 dark:prose-pre:bg-gray-800 prose-pre:p-4 prose-pre:rounded-lg prose-pre:overflow-x-auto\r
            prose-table:w-full prose-table:border-collapse prose-table:border prose-table:border-gray-300 dark:prose-table:border-gray-600\r
            prose-th:border prose-th:border-gray-300 dark:prose-th:border-gray-600 prose-th:bg-gray-50 dark:prose-th:bg-gray-700 prose-th:p-2 prose-th:text-left\r
            prose-td:border prose-td:border-gray-300 dark:prose-td:border-gray-600 prose-td:p-2\r
            prose-hr:border-gray-300 dark:prose-hr:border-gray-600 prose-hr:my-8`,dangerouslySetInnerHTML:{__html:r}})})]})}function lxe({className:r=""}){return l.jsxs("div",{className:`animate-pulse space-y-6 ${r}`,children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded-lg w-64"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-48"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-full"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-5/6"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-4/6"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-full"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),l.jsxs("div",{className:"pt-4",children:[l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-full"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-5/6 mt-2"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-4/6 mt-2"})]})]})]})}function cxe({error:r,onRetry:e,className:t=""}){return l.jsx("div",{className:`text-center py-12 ${t}`,children:l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-red-500 dark:text-red-400",children:l.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Erro ao carregar termos"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:r||"Ocorreu um erro inesperado ao carregar os termos e condições."}),e&&l.jsxs("button",{onClick:e,className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Tentar novamente"]})]})})}function dxe({className:r=""}){return l.jsx("div",{className:`text-center py-12 ${r}`,children:l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-gray-400 dark:text-gray-500",children:l.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Termos e Condições não disponíveis"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Os termos e condições ainda não foram configurados por um administrador. Entre em contato conosco para mais informações."}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:l.jsx("p",{children:"Em caso de dúvidas, entre em contato através do suporte."})})]})})}function uxe({className:r=""}){const{terms:e,loading:t,error:n,hasTerms:s,retryLoad:a}=ixe();return console.log("📄 [Terms] Renderizando página com estado:",{loading:t,hasTerms:s,hasError:!!n,hasContent:!!e}),l.jsx("div",{className:`min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8 ${r}`,children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[t&&l.jsx(lxe,{}),!t&&n&&l.jsx(cxe,{error:n,onRetry:a}),!t&&!n&&!s&&l.jsx(dxe,{}),!t&&!n&&s&&e&&l.jsx(oxe,{content:e.content})]})})}class hxe{static async getLatestPrivacyPolicy(){var e;try{console.log("🔍 [PrivacyPolicyDbService] Buscando política de privacidade pública");const{data:t,error:n}=await G.from("contracts").select("id, contract_content, created_at, updated_at, type_of_contract").eq("type_of_contract","politica_privacidade").order("created_at",{ascending:!1}).limit(1).maybeSingle();return n?(console.error("❌ [PrivacyPolicyDbService] Erro ao buscar política de privacidade:",n),{success:!1,data:null,error:n.message}):(console.log("📄 [PrivacyPolicyDbService] Política de privacidade encontrada:",{found:!!t,id:t==null?void 0:t.id,contentLength:((e=t==null?void 0:t.contract_content)==null?void 0:e.length)||0,createdAt:t==null?void 0:t.created_at}),{success:!0,data:t,error:null})}catch(t){return console.error("💥 [PrivacyPolicyDbService] Erro inesperado:",t),{success:!1,data:null,error:t.message||"Erro inesperado ao buscar política de privacidade"}}}static async hasPrivacyPolicy(){try{const{count:e,error:t}=await G.from("contracts").select("*",{count:"exact",head:!0}).eq("type_of_contract","politica_privacidade");return t?(console.error("❌ [PrivacyPolicyDbService] Erro ao verificar existência de política de privacidade:",t),!1):(e||0)>0}catch(e){return console.error("💥 [PrivacyPolicyDbService] Erro inesperado ao verificar política de privacidade:",e),!1}}}function fxe(){const[r,e]=b.useState({privacyPolicy:null,loading:!0,error:null}),t=b.useCallback(async()=>{console.log("🔄 [usePrivacyPolicy] Iniciando carregamento da política de privacidade (público)"),e(s=>({...s,loading:!0,error:null}));try{const s=await hxe.getLatestPrivacyPolicy();if(s.success&&s.data){const a={id:s.data.id,content:s.data.contract_content,createdAt:s.data.created_at,updatedAt:s.data.updated_at||s.data.created_at};console.log("✅ [usePrivacyPolicy] Política de privacidade pública carregada com sucesso:",{id:a.id,contentLength:a.content.length,createdAt:a.createdAt}),e(i=>({...i,privacyPolicy:a,loading:!1,error:null}))}else console.log("📭 [usePrivacyPolicy] Nenhuma política de privacidade pública encontrada"),e(a=>({...a,privacyPolicy:null,loading:!1,error:s.error}))}catch(s){console.error("💥 [usePrivacyPolicy] Erro inesperado ao carregar política de privacidade pública:",s),e(a=>({...a,privacyPolicy:null,loading:!1,error:s.message||"Erro inesperado ao carregar política de privacidade"}))}},[]),n=b.useCallback(()=>{console.log("🔄 [usePrivacyPolicy] Tentando recarregar política de privacidade pública"),t()},[t]);return b.useEffect(()=>{t()},[t]),{privacyPolicy:r.privacyPolicy,loading:r.loading,error:r.error,refetch:t,retryLoad:n}}function pxe({content:r,className:e=""}){return l.jsxs("div",{className:`max-w-4xl mx-auto ${e}`,children:[l.jsx("header",{className:"mb-8 text-center",children:l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Política de Privacidade"})}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-8",children:l.jsx("div",{className:`privacy-policy-content prose prose-lg max-w-none dark:prose-invert \r
            prose-headings:text-gray-900 dark:prose-headings:text-white \r
            prose-h1:text-3xl prose-h1:font-bold prose-h1:mb-6 prose-h1:mt-8 first:prose-h1:mt-0\r
            prose-h2:text-2xl prose-h2:font-semibold prose-h2:mb-4 prose-h2:mt-6\r
            prose-h3:text-xl prose-h3:font-semibold prose-h3:mb-3 prose-h3:mt-5\r
            prose-h4:text-lg prose-h4:font-medium prose-h4:mb-2 prose-h4:mt-4\r
            prose-h5:text-base prose-h5:font-medium prose-h5:mb-2 prose-h5:mt-3\r
            prose-h6:text-sm prose-h6:font-medium prose-h6:mb-1 prose-h6:mt-2\r
            prose-p:text-gray-700 dark:prose-p:text-gray-300 prose-p:mb-4 prose-p:leading-relaxed\r
            prose-a:text-blue-600 dark:prose-a:text-blue-400 prose-a:underline hover:prose-a:text-blue-800 dark:hover:prose-a:text-blue-300\r
            prose-strong:text-gray-900 dark:prose-strong:text-white prose-strong:font-semibold\r
            prose-em:text-gray-800 dark:prose-em:text-gray-200 prose-em:italic\r
            prose-ul:list-disc prose-ul:list-inside prose-ul:space-y-2 prose-ul:mb-4\r
            prose-ol:list-decimal prose-ol:list-inside prose-ol:space-y-2 prose-ol:mb-4\r
            prose-li:text-gray-700 dark:prose-li:text-gray-300 prose-li:leading-relaxed\r
            prose-blockquote:border-l-4 prose-blockquote:border-gray-300 dark:prose-blockquote:border-gray-600 \r
            prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:text-gray-600 dark:prose-blockquote:text-gray-400\r
            prose-code:bg-gray-100 dark:prose-code:bg-gray-700 prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-code:text-sm\r
            prose-pre:bg-gray-50 dark:prose-pre:bg-gray-800 prose-pre:p-4 prose-pre:rounded-lg prose-pre:overflow-x-auto\r
            prose-table:w-full prose-table:border-collapse prose-table:border prose-table:border-gray-300 dark:prose-table:border-gray-600\r
            prose-th:border prose-th:border-gray-300 dark:prose-th:border-gray-600 prose-th:bg-gray-50 dark:prose-th:bg-gray-700 prose-th:p-2 prose-th:text-left\r
            prose-td:border prose-td:border-gray-300 dark:prose-td:border-gray-600 prose-td:p-2\r
            prose-hr:border-gray-300 dark:prose-hr:border-gray-600 prose-hr:my-8`,dangerouslySetInnerHTML:{__html:r}})})]})}function gxe(){return l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("header",{className:"mb-8 text-center",children:l.jsx("div",{className:"h-9 bg-gray-200 dark:bg-gray-700 rounded-lg w-80 mx-auto mb-4 animate-pulse"})}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-8",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-5/6"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-4/6"})]}),l.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-2/3 mt-6"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-4/5"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-3/5"})]}),l.jsxs("div",{className:"space-y-2 ml-4",children:[l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-5/6"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-4/6"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-3/6"})]}),l.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-1/2 mt-6"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-5/6"})]})]})})]})}function mxe({error:r,onRetry:e}){return l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("header",{className:"mb-8 text-center",children:l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Política de Privacidade"})}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-8",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Erro ao carregar política de privacidade"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:r||"Ocorreu um erro inesperado ao carregar a política de privacidade"})]}),e&&l.jsxs("button",{onClick:e,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800 transition-colors",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Tentar novamente"]})]})})]})}function xxe(){return l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("header",{className:"mb-8 text-center",children:l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Política de Privacidade"})}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-8",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-8 h-8 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Política de privacidade não disponível"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"A política de privacidade ainda não foi configurada para esta plataforma."})]})]})})]})}function vxe(){var s;const{privacyPolicy:r,loading:e,error:t,retryLoad:n}=fxe();return console.log("🎭 [PrivacyPolicy] Renderizando página:",{hasPrivacyPolicy:!!r,loading:e,error:t,contentLength:((s=r==null?void 0:r.content)==null?void 0:s.length)||0}),e?(console.log("⏳ [PrivacyPolicy] Exibindo loading"),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx(gxe,{})})):t?(console.log("❌ [PrivacyPolicy] Exibindo erro:",t),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx(mxe,{error:t,onRetry:n})})):!r||!r.content?(console.log("📭 [PrivacyPolicy] Exibindo estado vazio"),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx(xxe,{})})):(console.log("📄 [PrivacyPolicy] Exibindo conteúdo da política de privacidade:",{contentLength:r.content.length,id:r.id}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx(pxe,{content:r.content,className:"animate-fadeIn"})}))}class yxe{static async getSiteDescription(){try{const{data:e,error:t}=await G.from("settings").select("site_description").single();return t?(console.error("Erro ao buscar descrição do site:",t),"Sistema de Gestão Administrativa"):(e==null?void 0:e.site_description)||"Sistema de Gestão Administrativa"}catch(e){return console.error("Erro ao buscar configurações:",e),"Sistema de Gestão Administrativa"}}static async getAllSettings(){try{const{data:e,error:t}=await G.from("settings").select("*").single();return t?(console.error("Erro ao buscar configurações:",t),null):e}catch(e){return console.error("Erro ao buscar configurações:",e),null}}}const bxe=()=>{const[r,e]=b.useState("Sistema de Gestão Administrativa"),[t,n]=b.useState(!0),[s,a]=b.useState(null);return b.useEffect(()=>{(async()=>{try{n(!0);const o=await yxe.getSiteDescription();e(o)}catch(o){a("Erro ao carregar descrição do site"),console.error("Erro no hook useSiteDescription:",o)}finally{n(!1)}})()},[]),{siteDescription:r,loading:t,error:s}};function J0({children:r}){const{logos:e,loading:t}=QN(),{siteDescription:n,loading:s}=bxe(),i=Qn().pathname!=="/verify-email";return l.jsx("div",{className:"relative p-6 bg-white z-1 dark:bg-gray-900 sm:p-0",children:l.jsxs("div",{className:"relative flex flex-col justify-center w-full h-screen lg:flex-row dark:bg-gray-900 sm:p-0",children:[r,i&&l.jsx("div",{className:"items-center hidden w-full h-full lg:w-1/2 bg-brand-950 dark:bg-white/5 lg:grid",children:l.jsxs("div",{className:"relative flex items-center justify-center z-1",children:[l.jsx(FM,{}),l.jsxs("div",{className:"flex flex-col items-center max-w-xs",children:[l.jsx(Hn,{to:"/",className:"block mb-4",children:t?l.jsx("div",{className:"h-12 w-48 bg-gray-800 animate-pulse rounded"}):l.jsx("img",{className:"h-12",src:e.dark,alt:"Logo"})}),l.jsx("p",{className:"text-center text-gray-400 dark:text-white/60",children:s?l.jsx("span",{className:"inline-block w-48 h-4 bg-gray-600 animate-pulse rounded"}):n})]})]})})]})})}function YA(){const[r,e]=b.useState(!1),[t,n]=b.useState(!1),[s,a]=b.useState(""),[i,o]=b.useState(""),[c,d]=b.useState(""),[u,h]=b.useState(!1),f=Sr(),p=Qn(),g=p.pathname==="/adm";b.useEffect(()=>{new URLSearchParams(p.search).get("session_expired")&&d("Sua sessão expirou. Por favor, faça login novamente.")},[p]);const m=async v=>{v.preventDefault(),d(""),h(!0);try{if(g)await DZ(s,i),f("/dashboard",{replace:!0});else{const{platformUser:x}=await MZ(s,i);if(x.role==="publisher")f("/publisher/dashboard",{replace:!0});else if(x.role==="advertiser")f("/advertiser/dashboard",{replace:!0});else throw new Error("Tipo de usuário inválido")}}catch(x){d(x.message||"Email ou senha inválidos")}finally{h(!1)}};return l.jsxs(l.Fragment,{children:[l.jsx(mh,{}),l.jsx(er,{pageTitle:g?"Login Administrativo":"Login",description:g?"Acesse o painel administrativo":"Acesse sua conta na plataforma"}),l.jsx(J0,{children:l.jsx("div",{className:"flex flex-col flex-1",children:l.jsx("div",{className:"flex flex-col justify-center flex-1 w-full max-w-md mx-auto",children:l.jsxs("div",{children:[l.jsxs("div",{className:"mb-5 sm:mb-8",children:[l.jsx("h1",{className:"mb-2 font-semibold text-gray-800 text-title-sm dark:text-white/90 sm:text-title-md",children:g?"Login Administrativo":"Login"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:g?"Digite seu email e senha para acessar o painel administrativo":"Digite seu email e senha para acessar sua conta"})]}),c&&l.jsx("div",{className:"p-3 mb-6 text-sm text-white bg-error-500 rounded-lg",children:c}),l.jsx("form",{onSubmit:m,children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs(Me,{children:["Email ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"email",value:s,onChange:v=>a(v.target.value),placeholder:"Digite seu email",required:!0})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Senha ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(st,{type:r?"text":"password",value:i,onChange:v=>o(v.target.value),placeholder:"Digite sua senha",required:!0}),l.jsx("button",{type:"button",onClick:()=>e(!r),className:"absolute z-30 -translate-y-1/2 cursor-pointer right-4 top-1/2",children:r?l.jsx(Ql,{className:"fill-gray-500 dark:fill-gray-400 size-5"}):l.jsx(vd,{className:"fill-gray-500 dark:fill-gray-400 size-5"})})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ou,{checked:t,onChange:n}),l.jsx("span",{className:"block font-normal text-gray-700 text-theme-sm dark:text-gray-400",children:"Manter conectado"})]}),l.jsx(Hn,{to:g?"/adm/reset-password":"/reset-password",className:"text-sm text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Esqueceu a senha?"})]}),l.jsx(nt,{className:"w-full",disabled:u,children:u?"Entrando...":"Entrar"}),!g&&l.jsxs("p",{className:"text-sm font-normal text-center text-gray-700 dark:text-gray-400",children:["Não tem uma conta?"," ",l.jsx(Hn,{to:"/register",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Criar Conta"})]})]})})]})})})})]})}const wxe=[{value:"advertiser",label:"Anunciante",description:"Crie e gerencie campanhas publicitárias"}],kxe=[{code:"BR",label:"+55"},{code:"US",label:"+1"},{code:"GB",label:"+44"},{code:"PT",label:"+351"},{code:"ES",label:"+34"},{code:"FR",label:"+33"},{code:"DE",label:"+49"},{code:"IT",label:"+39"},{code:"JP",label:"+81"},{code:"CN",label:"+86"},{code:"AU",label:"+61"},{code:"CA",label:"+1"},{code:"MX",label:"+52"},{code:"AR",label:"+54"},{code:"CL",label:"+56"},{code:"CO",label:"+57"},{code:"PE",label:"+51"},{code:"UY",label:"+598"},{code:"PY",label:"+595"},{code:"BO",label:"+591"}];function Cxe(){const r=Sr(),[e,t]=b.useState(!1),[n,s]=b.useState(""),[a,i]=b.useState(""),[o,c]=b.useState(""),[d,u]=b.useState(""),[h,f]=b.useState(""),[p,g]=b.useState(""),[m,v]=b.useState(!1),[x,y]=b.useState(!1),[w,k]=b.useState(""),[S,N]=b.useState("advertiser"),[A,E]=b.useState(!1),[R,O]=b.useState({}),L=M=>{const B=/[A-Z]/.test(M),z=/[a-z]/.test(M),V=/\d/.test(M),W=/[!@#$%^&*(),.?":{}|<>]/.test(M),Z=M.length>=8;return B&&z&&V&&W&&Z},D=()=>{const M={};let B=!0;return a.trim()||(M.firstName="Nome é obrigatório",B=!1),o.trim()||(M.lastName="Sobrenome é obrigatório",B=!1),d.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.trim())||(M.email="Email inválido",B=!1):(M.email="Email é obrigatório",B=!1),h?L(h)||(M.password="A senha deve ter pelo menos 8 caracteres, incluindo maiúsculas, minúsculas, números e caracteres especiais",B=!1):(M.password="Senha é obrigatória",B=!1),p?h!==p&&(M.confirmPassword="As senhas não coincidem",B=!1):(M.confirmPassword="Confirmação de senha é obrigatória",B=!1),w.trim()||(M.phone="Telefone é obrigatório",B=!1),S||(M.accountType="Tipo de conta é obrigatório",B=!1),A||(M.terms="Você precisa aceitar os termos e condições",B=!1),O(M),B},F=async M=>{M.preventDefault();try{if(!D())return;t(!0),s("");const{data:{user:B},error:z}=await G.auth.signUp({email:d.trim(),password:h.trim(),options:{data:{first_name:a.trim(),last_name:o.trim()}}});if(z)throw z;if(!B)throw new Error("Erro ao criar usuário");const{error:V}=await G.from("platform_users").insert([{id:B.id,email:d.trim(),first_name:a.trim(),last_name:o.trim(),phone:w.trim(),role:S,terms_accepted:!0,terms_accepted_at:new Date().toISOString()}]);if(V)throw V;r("/verify-email")}catch(B){console.error("Erro ao criar conta:",B),s(B.message||"Erro ao criar conta")}finally{t(!1)}};return l.jsxs(l.Fragment,{children:[l.jsx(mh,{}),l.jsx(er,{pageTitle:"Criar Conta",description:"Crie sua conta na plataforma"}),l.jsx(J0,{children:l.jsx("div",{className:"flex flex-col flex-1",children:l.jsx("div",{className:"flex flex-col justify-center flex-1 w-full max-w-md mx-auto",children:l.jsxs("div",{children:[l.jsxs("div",{className:"mb-5 sm:mb-8",children:[l.jsx("h1",{className:"mb-2 font-semibold text-gray-800 text-title-sm dark:text-white/90 sm:text-title-md",children:"Criar Conta"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Preencha os dados abaixo para criar sua conta"})]}),n&&l.jsx("div",{className:"p-3 mb-6 text-sm text-white bg-error-500 rounded-lg",children:n}),l.jsx("form",{onSubmit:F,children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsxs(Me,{children:["Nome ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"text",value:a,onChange:M=>i(M.target.value),error:!!R.firstName,hint:R.firstName,required:!0})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Sobrenome ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"text",value:o,onChange:M=>c(M.target.value),error:!!R.lastName,hint:R.lastName,required:!0})]})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Email ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"email",value:d,onChange:M=>u(M.target.value),error:!!R.email,hint:R.email,required:!0})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Senha ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(st,{type:m?"text":"password",value:h,onChange:M=>f(M.target.value),error:!!R.password,hint:R.password,required:!0}),l.jsx("button",{type:"button",onClick:()=>v(!m),className:"absolute z-30 -translate-y-1/2 cursor-pointer right-4 top-1/2",children:m?l.jsx(Ql,{className:"fill-gray-500 dark:fill-gray-400 size-5"}):l.jsx(vd,{className:"fill-gray-500 dark:fill-gray-400 size-5"})})]})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Confirmar Senha ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(st,{type:x?"text":"password",value:p,onChange:M=>g(M.target.value),error:!!R.confirmPassword,hint:R.confirmPassword,required:!0}),l.jsx("button",{type:"button",onClick:()=>y(!x),className:"absolute z-30 -translate-y-1/2 cursor-pointer right-4 top-1/2",children:x?l.jsx(Ql,{className:"fill-gray-500 dark:fill-gray-400 size-5"}):l.jsx(vd,{className:"fill-gray-500 dark:fill-gray-400 size-5"})})]})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Telefone ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(Xu,{countries:kxe,value:w,onChange:M=>k(M),placeholder:"(99) 99999-9999"}),R.phone&&l.jsx("p",{className:"mt-1 text-sm text-error-500",children:R.phone})]}),l.jsxs("div",{className:"hidden",children:[l.jsxs(Me,{children:["Tipo de Conta ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:wxe.map(M=>l.jsxs("div",{className:`relative flex flex-col p-4 cursor-pointer rounded-lg border transition-colors ${S===M.value?"border-brand-500 bg-brand-50 dark:border-brand-400 dark:bg-brand-500/10":"border-gray-200 hover:border-brand-500 dark:border-gray-700 dark:hover:border-brand-400"}`,onClick:()=>N(M.value),children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("div",{className:`w-4 h-4 rounded-full border-2 mr-2 ${S===M.value?"border-brand-500 bg-brand-500 dark:border-brand-400 dark:bg-brand-400":"border-gray-300 dark:border-gray-600"}`,children:S===M.value&&l.jsx("div",{className:"w-2 h-2 m-0.5 rounded-full bg-white"})}),l.jsx("span",{className:"font-medium text-gray-800 dark:text-white/90",children:M.label})]}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:M.description})]},M.value))}),R.accountType&&l.jsx("p",{className:"mt-1 text-sm text-error-500",children:R.accountType})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ou,{checked:A,onChange:E}),l.jsxs("span",{className:"block text-sm text-gray-500 dark:text-gray-400",children:["Li e aceito os"," ",l.jsx(Hn,{to:"/terms",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",target:"_blank",children:"Termos e Condições"})," ","e a"," ",l.jsx(Hn,{to:"/privacy",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",target:"_blank",children:"Política de Privacidade"})]})]}),R.terms&&l.jsx("p",{className:"text-sm text-error-500",children:R.terms}),l.jsx(nt,{className:"w-full",disabled:e,children:e?"Criando conta...":"Criar Conta"}),l.jsxs("p",{className:"text-sm font-normal text-center text-gray-700 dark:text-gray-400",children:["Já tem uma conta?"," ",l.jsx(Hn,{to:"/",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Fazer Login"})]})]})})]})})})})]})}function Sxe(){return l.jsxs(l.Fragment,{children:[l.jsx(mh,{}),l.jsx(er,{pageTitle:"Verifique seu Email",description:"Verifique seu email para continuar"}),l.jsx(J0,{children:l.jsx("div",{className:"flex flex-col flex-1",children:l.jsx("div",{className:"flex flex-col justify-center flex-1 w-full max-w-md mx-auto",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-2xl font-semibold text-gray-800 dark:text-white/90",children:"Verifique seu Email"}),l.jsxs("div",{className:"mb-8",children:[l.jsx("img",{src:"/images/error/success.svg",alt:"Email enviado",className:"w-32 h-32 mx-auto mb-6 dark:hidden"}),l.jsx("img",{src:"/images/error/success-dark.svg",alt:"Email enviado",className:"hidden w-32 h-32 mx-auto mb-6 dark:block"})]}),l.jsx("p",{className:"mb-6 text-gray-500 dark:text-gray-400",children:"Enviamos um email com um link de confirmação para o seu endereço de email. Por favor, verifique sua caixa de entrada e clique no link para ativar sua conta."}),l.jsx("div",{className:"p-4 mb-6 text-sm text-gray-500 bg-gray-100 rounded-lg dark:bg-gray-800 dark:text-gray-400",children:l.jsxs("p",{children:["Não recebeu o email? Verifique sua pasta de spam ou"," ",l.jsx(Hn,{to:"/resend-verification",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"solicite um novo email"})]})}),l.jsx(Hn,{to:"/",className:"text-sm text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Voltar para o login"})]})})})})]})}const VH=r=>r.trim().toLowerCase(),Nxe=r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.trim()),Exe=r=>r!=null&&r.trim()?Nxe(r)?{isValid:!0}:{isValid:!1,error:"Email inválido"}:{isValid:!1,error:"Email é obrigatório"},_xe=async r=>{const e=VH(r),{data:t}=await G.from("platform_users").select("id, email").ilike("email",e).maybeSingle(),{data:n}=await G.from("admins").select("id, email").ilike("email",e).maybeSingle();return!!(t||n)},jxe=async r=>{try{const e=VH(r);if(!await _xe(e))throw new Error("Email não encontrado");const n=`${window.location.origin}/password-recovery`,{error:s}=await G.auth.resetPasswordForEmail(e,{redirectTo:n});if(s)throw s;return{success:!0}}catch(e){return console.error("Error sending password reset email:",e),{success:!1,error:e.message||"Erro ao enviar email de recuperação. Tente novamente."}}},Axe=()=>{const[r,e]=b.useState(""),[t,n]=b.useState(!1),[s,a]=b.useState(""),[i,o]=b.useState(!1),[c,d]=b.useState(null),u=()=>{a(""),d(null)};return{email:r,loading:t,error:s,success:i,rateLimitRemaining:c,setEmail:e,handleSubmit:async f=>{var p,g,m;f.preventDefault(),u(),n(!0);try{const v=Exe(r);if(!v.isValid)throw new Error(v.error);const x=await jxe(r);if(!x.success)throw new Error(x.error);o(!0)}catch(v){if(console.error("Erro ao enviar email de recuperação:",v),((p=v==null?void 0:v.context)==null?void 0:p.status)===429){const x=(m=(g=v==null?void 0:v.context)==null?void 0:g.headers)==null?void 0:m.get("Retry-After"),y=x?Math.ceil(parseInt(x)/60):60;a(`Muitas tentativas. Por favor, aguarde ${y} minutos antes de tentar novamente.`),d(y)}else a(v.message||"Erro ao enviar email de recuperação. Tente novamente.")}finally{n(!1)}},clearError:u}},Txe=({isAdminPanel:r})=>l.jsxs("div",{className:"p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:[l.jsx("p",{children:"Email de recuperação enviado com sucesso!"}),l.jsx("p",{className:"mt-2",children:"Verifique sua caixa de entrada e siga as instruções para redefinir sua senha."}),l.jsx(Hn,{to:r?"/adm":"/",className:"inline-block mt-4 text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Voltar para o login"})]}),Pxe=({error:r,rateLimitRemaining:e})=>l.jsxs("div",{className:"p-3 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:[r,e&&l.jsxs("div",{className:"mt-2 text-xs",children:["Tempo restante: ",e," minutos"]})]});function Lxe(){const e=Qn().pathname.startsWith("/adm"),{email:t,loading:n,error:s,success:a,rateLimitRemaining:i,setEmail:o,handleSubmit:c}=Axe();return l.jsx("div",{className:"flex flex-col flex-1",children:l.jsx("div",{className:"flex flex-col justify-center flex-1 w-full max-w-md mx-auto",children:l.jsxs("div",{children:[l.jsxs("div",{className:"mb-5 sm:mb-8",children:[l.jsx("h1",{className:"mb-2 font-semibold text-gray-800 text-title-sm dark:text-white/90 sm:text-title-md",children:"Recuperar Senha"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Digite seu email para receber instruções de recuperação"})]}),a?l.jsx(Txe,{isAdminPanel:e}):l.jsx("form",{onSubmit:c,children:l.jsxs("div",{className:"space-y-6",children:[s&&l.jsx(Pxe,{error:s,rateLimitRemaining:i}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Email ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"email",value:t,onChange:d=>o(d.target.value),placeholder:"Digite seu email",required:!0,disabled:n||!!i})]}),l.jsx("div",{children:l.jsx(nt,{className:"w-full",size:"sm",disabled:n||!!i,children:n?"Enviando...":"Enviar Email de Recuperação"})}),l.jsx("div",{className:"text-center",children:l.jsx(Hn,{to:e?"/adm":"/",className:"text-sm text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Voltar para o login"})})]})})]})})})}function GA(){return l.jsxs(l.Fragment,{children:[l.jsx(mh,{}),l.jsx(er,{pageTitle:"Recuperar Senha",description:"Recupere sua senha de acesso ao sistema"}),l.jsx(J0,{children:l.jsx(Lxe,{})})]})}const Dxe=async({password:r,accessToken:e,refreshToken:t})=>{var n,s;try{console.log("🔄 [PasswordRecoveryService] Iniciando updatePassword..."),console.log("🔍 [PasswordRecoveryService] Tokens recebidos:",{accessTokenLength:e.length,refreshTokenLength:t.length,passwordLength:r.length}),console.log("🔄 [PasswordRecoveryService] Definindo sessão...");const{error:a}=await G.auth.setSession({access_token:e,refresh_token:t});if(a)throw console.error("❌ [PasswordRecoveryService] Erro na sessão:",a),new Error("Sessão inválida ou expirada. Solicite um novo link de recuperação.");console.log("✅ [PasswordRecoveryService] Sessão definida com sucesso"),console.log("🔄 [PasswordRecoveryService] Atualizando senha...");const{error:i}=await G.auth.updateUser({password:r});if(i)throw console.error("❌ [PasswordRecoveryService] Erro ao atualizar senha:",i),i;return console.log("✅ [PasswordRecoveryService] Senha atualizada com sucesso"),console.log("🔄 [PasswordRecoveryService] Fazendo logout..."),await G.auth.signOut(),console.log("🎉 [PasswordRecoveryService] Processo completado com sucesso"),{success:!0}}catch(a){console.error("❌ [PasswordRecoveryService] Erro geral:",a);let i="Erro ao definir nova senha. Tente novamente.";return(n=a.message)!=null&&n.includes("session")?i="Sessão expirada. Solicite um novo link de recuperação.":(s=a.message)!=null&&s.includes("password")&&(i=a.message),{success:!1,error:i}}},Mxe=r=>{const e=/[A-Z]/.test(r),t=/[a-z]/.test(r),n=/\d/.test(r),s=/[!@#$%^&*(),.?":{}|<>]/.test(r),a=r.length>=8;return e&&t&&n&&s&&a},Rxe=r=>r!=null&&r.trim()?Mxe(r)?{isValid:!0}:{isValid:!1,error:"A senha deve ter pelo menos 8 caracteres, incluindo maiúsculas, minúsculas, números e caracteres especiais"}:{isValid:!1,error:"Senha é obrigatória"},Ixe=()=>{const r=Sr(),[e,t]=b.useState(""),[n,s]=b.useState(""),[a,i]=b.useState(!1),[o,c]=b.useState(!1),[d,u]=b.useState(!1),[h,f]=b.useState(""),[p,g]=b.useState(!1),[m,v]=b.useState({}),[x,y]=b.useState(""),[w,k]=b.useState("");b.useEffect(()=>{const E=window.location.hash.substring(1);if(E){const R=new URLSearchParams(E),O=E.match(/access_token=([^&]+)/),L=E.match(/refresh_token=([^&]+)/),D=R.get("error"),F=R.get("error_code");if(D){f(F==="otp_expired"?"O link de recuperação expirou. Solicite um novo link.":D==="access_denied"?"Link de recuperação inválido ou já utilizado. Solicite um novo link.":"Erro no link de recuperação. Solicite um novo link.");return}const M=R.get("access_token"),B=R.get("refresh_token");let z=M,V=B;!z&&O&&(z=O[1]),!V&&L&&(V=L[1]),z&&y(z),V&&k(V)}},[]);const S=()=>{f(""),v({})},N=()=>{const E={};let R=!0;const O=Rxe(e);return O.isValid||(E.password=O.error,R=!1),n?e!==n&&(E.confirmPassword="As senhas não coincidem",R=!1):(E.confirmPassword="Confirmação de senha é obrigatória",R=!1),v(E),R};return{password:e,confirmPassword:n,showPassword:a,showConfirmPassword:o,loading:d,error:h,success:p,validationErrors:m,setPassword:t,setConfirmPassword:s,setShowPassword:i,setShowConfirmPassword:c,handleSubmit:async E=>{if(E.preventDefault(),console.log("🚀 [PasswordRecovery] Iniciando submit..."),S(),!N()){console.log("❌ [PasswordRecovery] Validação falhou");return}console.log("✅ [PasswordRecovery] Validação passou"),u(!0);try{if(console.log("🔍 [PasswordRecovery] Usando tokens do estado..."),console.log("🔍 [PasswordRecovery] Tokens do estado:",{accessToken:x?"PRESENTE":"AUSENTE",refreshToken:w?"PRESENTE":"AUSENTE"}),x&&console.log("🔍 [PasswordRecovery] Access token (primeiros 20 chars):",x.substring(0,20)+"..."),w&&console.log("🔍 [PasswordRecovery] Refresh token (primeiros 20 chars):",w.substring(0,20)+"..."),!x||!w)throw console.log("❌ [PasswordRecovery] Tokens não encontrados no estado"),new Error("Link de recuperação inválido ou expirado.");console.log("🔄 [PasswordRecovery] Chamando updatePassword...");const R=await Dxe({password:e.trim(),accessToken:x,refreshToken:w});if(console.log("✅ [PasswordRecovery] Resultado do updatePassword:",R),!R.success)throw new Error(R.error);console.log("🎉 [PasswordRecovery] Senha atualizada com sucesso!"),g(!0),setTimeout(()=>{console.log("🔄 [PasswordRecovery] Redirecionando para login..."),r(wo,{replace:!0})},3e3)}catch(R){console.error("❌ [PasswordRecovery] Erro ao definir nova senha:",R),f(R.message||"Erro ao definir nova senha. Tente novamente.")}finally{u(!1)}},clearError:S}},Oxe=({isAdminPanel:r})=>l.jsxs("div",{className:"p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:[l.jsx("p",{className:"font-medium",children:"Nova senha definida com sucesso!"}),l.jsx("p",{className:"mt-2",children:"Sua senha foi atualizada. Você será redirecionado para o login em alguns segundos."}),l.jsx(Hn,{to:r?"/adm":"/",className:"inline-block mt-4 text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Ir para o login agora"})]}),Fxe=({error:r})=>l.jsx("div",{className:"p-3 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:r});function Bxe(){const e=Qn().pathname.startsWith("/adm"),{password:t,confirmPassword:n,showPassword:s,showConfirmPassword:a,loading:i,error:o,success:c,validationErrors:d,setPassword:u,setConfirmPassword:h,setShowPassword:f,setShowConfirmPassword:p,handleSubmit:g}=Ixe();return l.jsx("div",{className:"flex flex-col flex-1",children:l.jsx("div",{className:"flex flex-col justify-center flex-1 w-full max-w-md mx-auto",children:l.jsxs("div",{children:[l.jsxs("div",{className:"mb-5 sm:mb-8",children:[l.jsx("h1",{className:"mb-2 font-semibold text-gray-800 text-title-sm dark:text-white/90 sm:text-title-md",children:"Definir Nova Senha"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Digite sua nova senha para completar a recuperação"})]}),c?l.jsx(Oxe,{isAdminPanel:e}):l.jsx("form",{onSubmit:g,children:l.jsxs("div",{className:"space-y-6",children:[o&&l.jsx(Fxe,{error:o}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Nova Senha ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(st,{type:s?"text":"password",value:t,onChange:m=>u(m.target.value),error:!!d.password,hint:d.password,placeholder:"Digite sua nova senha",required:!0,disabled:i}),l.jsx("button",{type:"button",onClick:()=>f(!s),className:"absolute z-30 -translate-y-1/2 cursor-pointer right-4 top-1/2",children:s?l.jsx(Ql,{className:"fill-gray-500 dark:fill-gray-400 size-5"}):l.jsx(vd,{className:"fill-gray-500 dark:fill-gray-400 size-5"})})]})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Confirmar Nova Senha ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(st,{type:a?"text":"password",value:n,onChange:m=>h(m.target.value),error:!!d.confirmPassword,hint:d.confirmPassword,placeholder:"Confirme sua nova senha",required:!0,disabled:i}),l.jsx("button",{type:"button",onClick:()=>p(!a),className:"absolute z-30 -translate-y-1/2 cursor-pointer right-4 top-1/2",children:a?l.jsx(Ql,{className:"fill-gray-500 dark:fill-gray-400 size-5"}):l.jsx(vd,{className:"fill-gray-500 dark:fill-gray-400 size-5"})})]})]}),l.jsx("div",{children:l.jsx(nt,{className:"w-full",size:"sm",disabled:i,children:i?"Salvando...":"Definir Nova Senha"})}),l.jsx("div",{className:"text-center",children:l.jsx(Hn,{to:e?"/adm":"/",className:"text-sm text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Voltar para o login"})})]})})]})})})}function XA(){return l.jsxs(l.Fragment,{children:[l.jsx(mh,{}),l.jsx(er,{pageTitle:"Definir Nova Senha",description:"Defina sua nova senha de acesso"}),l.jsx(J0,{children:l.jsx(Bxe,{})})]})}const I4=new Map;async function zxe(r){if(I4.has(r))return I4.get(r);try{const{data:e}=await G.from("admins").select("role_id").eq("id",r).maybeSingle(),{data:t}=await G.from("platform_users").select("role_id").eq("id",r).maybeSingle(),n=(e==null?void 0:e.role_id)||(t==null?void 0:t.role_id);if(!n)throw new Error("User role not found");const{data:s}=await G.from("permissions").select(`
        code,
        role_permissions!inner(
          role_id
        )
      `).eq("role_permissions.role_id",n),a=new Set((s==null?void 0:s.map(i=>i.code))||[]);return I4.set(r,a),a}catch(e){return console.error("Error getting user permissions:",e),new Set}}async function Hxe(r,e){try{return(await zxe(r)).has(e)}catch(t){return console.error("Error checking permission:",t),!1}}function vh({permission:r,children:e,fallback:t=null}){const[n,s]=b.useState(!1),[a,i]=b.useState(!0);b.useEffect(()=>{o()},[r]);async function o(){try{const{data:{user:c}}=await G.auth.getUser();if(!c){s(!1);return}const d=await Hxe(c.id,r);s(d)}catch(c){console.error("Error checking permission:",c),s(!1)}finally{i(!1)}}return a?null:n?l.jsx(l.Fragment,{children:e}):l.jsx(l.Fragment,{children:t})}function Uxe({children:r,fallback:e=null}){const[t,n]=b.useState(!1),[s,a]=b.useState(!0);b.useEffect(()=>{i()},[]);async function i(){try{const{data:{user:o}}=await G.auth.getUser();if(!o){n(!1),a(!1);return}const{data:c}=await G.from("roles").select("id").eq("name","admin").maybeSingle();if(!(c!=null&&c.id)){n(!1),a(!1);return}const{data:d}=await G.from("admins").select("role, role_id").eq("id",o.id).maybeSingle();if(d&&d.role==="admin"&&d.role_id===c.id){n(!0),a(!1);return}const{data:u}=await G.from("platform_users").select("role, role_id").eq("id",o.id).maybeSingle();if(u&&u.role==="admin"&&u.role_id===c.id){n(!0),a(!1);return}n(!1),a(!1)}catch{n(!1),a(!1)}}return s?null:t?l.jsx(l.Fragment,{children:r}):l.jsx(l.Fragment,{children:e})}const WE=({itemsPerPage:r,onItemsPerPageChange:e,itemLabel:t="registros",options:n=[10,25,50,100],className:s=""})=>{const a=i=>{e(i)};return l.jsxs("div",{className:`flex items-center gap-3 ${s}`,children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Mostrar"}),l.jsxs("div",{className:"relative z-20 bg-transparent",children:[l.jsx("select",{className:"w-full py-2 pl-3 pr-8 text-sm text-gray-800 bg-transparent border border-gray-300 rounded-lg appearance-none dark:bg-dark-900 h-9 bg-none shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",value:r,onChange:i=>a(Number(i.target.value)),children:n.map(i=>l.jsx("option",{value:i,children:i},i))}),l.jsx("span",{className:"absolute z-30 text-gray-500 -translate-y-1/2 right-2 top-1/2 dark:text-gray-400",children:l.jsx("svg",{className:"stroke-current",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M3.8335 5.9165L8.00016 10.0832L12.1668 5.9165",stroke:"",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:t})]})};function $xe(){const[r,e]=b.useState([]),[t,n]=b.useState(!0),[s,a]=b.useState(""),[i,o]=b.useState(""),[c,d]=b.useState(!1),[u,h]=b.useState(null),[f,p]=b.useState({email:"",first_name:"",last_name:"",status:""}),[g,m]=b.useState(""),[v,x]=b.useState(10),[y,w]=b.useState(1),[k,S]=b.useState("created_at"),[N,A]=b.useState("desc"),E=Sr();b.useEffect(()=>{R()},[]),b.useEffect(()=>{u&&p({email:u.email,first_name:u.first_name,last_name:u.last_name,status:u.status})},[u]);async function R(){try{n(!0),a("");const{data:q,error:Q}=await G.from("platform_users").select("*").order("created_at",{ascending:!1});if(Q)throw Q;const{data:T,error:H}=await G.from("admins").select("id, email, first_name, last_name, created_at").order("created_at",{ascending:!1});if(H)throw H;const $=(T||[]).map(Y=>({id:Y.id,email:Y.email,first_name:Y.first_name,last_name:Y.last_name,phone:"-",role:"admin",status:"active",created_at:Y.created_at,isAdmin:!0}));e([...q||[],...$])}catch(q){console.error("Erro ao carregar usuários:",q),a("Erro ao carregar lista de usuários")}finally{n(!1)}}const O=q=>{h(q),d(!0)},L=async q=>{if(confirm("Tem certeza que deseja excluir este usuário? Esta ação não pode ser desfeita."))try{n(!0),a(""),o(""),await aR(q),o("Usuário excluído com sucesso"),await R()}catch(Q){console.error("Erro ao excluir usuário:",Q),a("Erro ao excluir usuário")}finally{n(!1)}},D=async()=>{if(u)try{if(n(!0),a(""),o(""),f.email!==u.email){const{error:Q}=await G.auth.admin.updateUserById(u.id,{email:f.email});if(Q)throw Q}const{error:q}=await G.from("platform_users").update({email:f.email,first_name:f.first_name,last_name:f.last_name,status:f.status}).eq("id",u.id);if(q)throw q;o("Usuário atualizado com sucesso"),await R(),d(!1)}catch(q){console.error("Erro ao atualizar usuário:",q),a("Erro ao atualizar usuário")}finally{n(!1)}},F=q=>new Date(q).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),M=q=>{q!=="acoes"&&(k===q?A(Q=>Q==="asc"?"desc":"asc"):(S(q),A("asc")))},z=[...r].sort((q,Q)=>{let T=q[k],H=Q[k];return k==="full_name"&&(T=`${q.first_name} ${q.last_name}`,H=`${Q.first_name} ${Q.last_name}`),typeof T=="string"&&typeof H=="string"?(T=T.toLowerCase(),H=H.toLowerCase(),T<H?N==="asc"?-1:1:T>H?N==="asc"?1:-1:0):typeof T=="number"&&typeof H=="number"?N==="asc"?T-H:H-T:T==null?1:H==null?-1:0}).filter(q=>{if(!g.trim())return!0;const Q=g.toLowerCase();return`${q.first_name} ${q.last_name}`.toLowerCase().includes(Q)||q.email.toLowerCase().includes(Q)||q.phone&&q.phone.toLowerCase().includes(Q)||q.role&&(q.role==="publisher"?"publisher":q.role==="advertiser"?"anunciante":"admin").toLowerCase().includes(Q)||q.status&&q.status.toLowerCase().includes(Q)}),V=Math.ceil(z.length/v)||1,W=z.slice((y-1)*v,y*v);y>V&&w(V);const Z=({show:q})=>q?l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"w-2 h-1.5 fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"w-2 h-1.5 fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]}):null;return t?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):l.jsxs(vh,{permission:"user.view",fallback:l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-error-500",children:"Acesso não autorizado"})}),children:[l.jsx(er,{pageTitle:"Usuários da Plataforma",description:"Gerenciamento de usuários da plataforma"}),l.jsx(Dr,{pageTitle:"Usuários"}),l.jsx("div",{className:"flex justify-end mb-6",children:l.jsx(nt,{variant:"primary",size:"md",onClick:()=>E("/users/register/admin-register"),children:"Cadastrar novo administrador"})}),s&&l.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:s}),i&&l.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:i}),l.jsxs("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:[l.jsxs("div",{className:"flex flex-col gap-2 px-4 py-4 border-b border-gray-100 dark:border-white/[0.05] rounded-t-xl sm:flex-row sm:items-center sm:justify-between",children:[l.jsx(WE,{itemsPerPage:v,onItemsPerPageChange:q=>{x(q),w(1)},itemLabel:"registros"}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{className:"absolute text-gray-500 -translate-y-1/2 left-4 top-1/2 dark:text-gray-400",children:l.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.04199 9.37363C3.04199 5.87693 5.87735 3.04199 9.37533 3.04199C12.8733 3.04199 15.7087 5.87693 15.7087 9.37363C15.7087 12.8703 12.8733 15.7053 9.37533 15.7053C5.87735 15.7053 3.04199 12.8703 3.04199 9.37363ZM9.37533 1.54199C5.04926 1.54199 1.54199 5.04817 1.54199 9.37363C1.54199 13.6991 5.04926 17.2053 9.37533 17.2053C11.2676 17.2053 13.0032 16.5344 14.3572 15.4176L17.1773 18.238C17.4702 18.5309 17.945 18.5309 18.2379 18.238C18.5308 17.9451 18.5309 17.4703 18.238 17.1773L15.4182 14.3573C16.5367 13.0033 17.2087 11.2669 17.2087 9.37363C17.2087 5.04817 13.7014 1.54199 9.37533 1.54199Z",fill:""})})}),l.jsx("input",{placeholder:"Pesquisar...",className:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent py-2.5 pl-12 pr-4 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 xl:w-[300px]",type:"text",value:g,onChange:q=>{m(q.target.value),w(1)}})]})]}),l.jsx("div",{className:"max-w-full overflow-x-auto",children:l.jsx("div",{className:"min-w-[1102px]",children:l.jsxs(To,{children:[l.jsx(Po,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:l.jsxs(Mr,{children:[l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-white/10 transition",onClick:()=>M("full_name"),children:l.jsxs("span",{className:"flex items-center",children:["Usuário",l.jsx(Z,{show:k==="full_name"})]})})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-white/10 transition",onClick:()=>M("email"),children:l.jsxs("span",{className:"flex items-center",children:["E-mail",l.jsx(Z,{show:k==="email"})]})})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-white/10 transition",onClick:()=>M("role"),children:l.jsxs("span",{className:"flex items-center",children:["Tipo de Conta",l.jsx(Z,{show:k==="role"})]})})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-white/10 transition",onClick:()=>M("status"),children:l.jsxs("span",{className:"flex items-center",children:["Status",l.jsx(Z,{show:k==="status"})]})})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-white/10 transition",onClick:()=>M("created_at"),children:l.jsxs("span",{className:"flex items-center",children:["Criado em",l.jsx(Z,{show:k==="created_at"})]})})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 select-none px-5 py-3",children:l.jsx("span",{children:"Ações"})})})]})}),l.jsx(Lo,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:W.map(q=>l.jsxs(Mr,{children:[l.jsx(et,{className:"px-5 py-4 sm:px-6 text-start",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 overflow-hidden rounded-full",children:l.jsx(z6,{userId:q.id,name:`${q.first_name} ${q.last_name}`,size:"sm"})}),l.jsxs("div",{children:[l.jsxs("span",{className:"block font-medium text-gray-800 text-theme-sm dark:text-white/90",children:[q.first_name," ",q.last_name]}),l.jsx("span",{className:" text-gray-500 text-theme-xs dark:text-gray-400",children:q.phone})]})]})}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:q.email}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:l.jsx(Dt,{color:q.role==="publisher"?"primary":q.role==="advertiser"?"warning":"info",variant:"light",children:q.role==="publisher"?"Publisher":q.role==="advertiser"?"Anunciante":"Admin"})}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:l.jsx(Dt,{color:q.status==="active"?"success":q.status==="suspended"?"error":"warning",children:q.status==="active"?"Ativo":q.status==="suspended"?"Suspenso":"Pendente"})}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:F(q.created_at)}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>O(q),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Editar",children:l.jsx(Ao,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>L(q.id),className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",title:"Excluir",children:l.jsx(Fa,{className:"w-5 h-5"})})]})})]},q.id))})]})})}),V>1&&l.jsxs("div",{className:"flex justify-end items-center gap-2 px-4 py-2",children:[l.jsx("button",{className:"px-2 py-1 text-sm text-gray-500 disabled:opacity-50",onClick:()=>w(q=>Math.max(1,q-1)),disabled:y===1,children:"Anterior"}),l.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Página ",y," de ",V]}),l.jsx("button",{className:"px-2 py-1 text-sm text-gray-500 disabled:opacity-50",onClick:()=>w(q=>Math.min(V,q+1)),disabled:y===V,children:"Próxima"})]})]}),l.jsx(ai,{isOpen:c,onClose:()=>d(!1),className:"max-w-[700px] m-4",children:l.jsxs("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-11",children:[l.jsxs("div",{className:"px-2 pr-14",children:[l.jsx("h4",{className:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90",children:"Editar Usuário"}),l.jsx("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7",children:"Atualize as informações do usuário"})]}),l.jsxs("form",{className:"flex flex-col",children:[l.jsx("div",{className:"px-2 overflow-y-auto custom-scrollbar",children:l.jsxs("div",{className:"grid grid-cols-1 gap-x-6 gap-y-5",children:[l.jsxs("div",{children:[l.jsx(Me,{children:"Email"}),l.jsx(st,{type:"email",value:f.email,onChange:q=>p({...f,email:q.target.value})})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Nome"}),l.jsx(st,{type:"text",value:f.first_name,onChange:q=>p({...f,first_name:q.target.value})})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Sobrenome"}),l.jsx(st,{type:"text",value:f.last_name,onChange:q=>p({...f,last_name:q.target.value})})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Status"}),l.jsxs("select",{value:f.status,onChange:q=>p({...f,status:q.target.value}),className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",children:[l.jsx("option",{value:"pending",children:"Pendente"}),l.jsx("option",{value:"active",children:"Ativo"}),l.jsx("option",{value:"suspended",children:"Suspenso"})]})]})]})}),l.jsxs("div",{className:"flex items-center gap-3 px-2 mt-6 lg:justify-end",children:[l.jsx(nt,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),l.jsx(nt,{onClick:D,disabled:t,children:t?"Salvando...":"Salvar"})]})]})]})})]})}async function Vxe(){const r=new Date,e=new Date(r.getFullYear(),r.getMonth(),1),t=new Date(r.getFullYear(),r.getMonth()+1,1),n=new Date(r.getFullYear(),r.getMonth()-1,1),s=new Date(e),{count:a,error:i}=await G.from("orders").select("*",{count:"exact",head:!0}).gte("created_at",e.toISOString()).lt("created_at",t.toISOString()),{count:o,error:c}=await G.from("orders").select("*",{count:"exact",head:!0}).gte("created_at",n.toISOString()).lt("created_at",s.toISOString());if(i||c)throw i||c;let d=0;return o&&o>0?d=(a-o)/o*100:a&&a>0&&(d=100),{percent:d,current:a||0,previous:o||0}}function qE({content:r,children:e,className:t=""}){const[n,s]=b.useState(!1),[a,i]=b.useState({x:0,y:0}),o=b.useRef(null);function c(d){i({x:d.clientX+12,y:d.clientY+12})}return l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"relative inline-block "+t,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onMouseMove:c,style:{cursor:"pointer"},children:e}),n&&typeof window<"u"&&Ui.createPortal(l.jsx("div",{ref:o,className:"fixed z-[9999999] px-3 py-2 rounded-lg normal-case text-xs text-white bg-gray-900 dark:bg-gray-800 dark:text-white shadow-theme-sm transition-opacity duration-150 pointer-events-auto",style:{left:Math.min(a.x,window.innerWidth-260),top:Math.min(a.y,window.innerHeight-40),minWidth:180,maxWidth:260,opacity:n?1:0,whiteSpace:"normal",position:"fixed",pointerEvents:"auto",zIndex:9999999},children:r}),document.body)]})}async function Wxe(){try{const{count:r,error:e}=await G.from("platform_users").select("*",{count:"exact",head:!0});if(e)throw e;return r||0}catch(r){return console.error("Erro ao contar usuários da plataforma:",r),0}}async function qxe(){const r=new Date,e=new Date(r.getFullYear(),r.getMonth(),1),t=new Date(r.getFullYear(),r.getMonth()+1,1),n=new Date(r.getFullYear(),r.getMonth()-1,1),s=new Date(e),{count:a,error:i}=await G.from("platform_users").select("*",{count:"exact",head:!0}).gte("created_at",e.toISOString()).lt("created_at",t.toISOString()),{count:o,error:c}=await G.from("platform_users").select("*",{count:"exact",head:!0}).gte("created_at",n.toISOString()).lt("created_at",s.toISOString());if(i||c)throw i||c;let d=0;return o&&o>0?d=(a-o)/o*100:a&&a>0&&(d=100),{percent:d,current:a||0,previous:o||0}}function Yxe(){const[r,e]=b.useState(null),[t,n]=b.useState(null),[s,a]=b.useState(null),[i,o]=b.useState(null);return b.useEffect(()=>{async function c(){const d=await rB();e(d);const u=await Vxe();n(u);const h=await Wxe();a(h);const f=await qxe();o(f)}c()},[]),l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:gap-6",children:[l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gray-100 rounded-xl dark:bg-gray-800",children:l.jsx(NR,{className:"text-gray-800 size-6 dark:text-white/90"})}),l.jsxs("div",{className:"flex items-end justify-between mt-5",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Clientes"}),l.jsx("h4",{className:"mt-2 font-bold text-gray-800 text-title-sm dark:text-white/90",children:s!==null?s.toLocaleString("pt-BR"):"..."})]}),l.jsx(Dt,{color:i&&i.percent>=0?"success":"error",children:i?l.jsxs(l.Fragment,{children:[i.percent>=0?l.jsx(Ek,{}):l.jsx(_k,{}),Math.abs(i.percent).toFixed(2),"%"]}):"..."})]})]}),l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] md:p-6",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gray-100 rounded-xl dark:bg-gray-800",children:l.jsx(ER,{className:"text-gray-800 size-6 dark:text-white/90"})}),l.jsxs("div",{className:"flex items-end justify-between mt-5",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-1",children:["Pedidos",l.jsx(qE,{content:"Quantidade total de pedidos realizados neste mês. A variação indica o crescimento ou queda em relação ao mês anterior.",children:l.jsx("span",{className:"ml-1 text-gray-400",children:"ⓘ"})})]}),l.jsx("h4",{className:"mt-2 font-bold text-gray-800 text-title-sm dark:text-white/90",children:r!==null?r.toLocaleString("pt-BR"):"..."})]}),l.jsx(Dt,{color:t&&t.percent>=0?"success":"error",children:t?l.jsxs(l.Fragment,{children:[t.percent>=0?l.jsx(Ek,{}):l.jsx(_k,{}),Math.abs(t.percent).toFixed(2),"%"]}):"..."})]})]})]})}function Gxe(){const[r,e]=b.useState(!1),[t,n]=b.useState(!0);b.useEffect(()=>{s()},[]);async function s(){try{const{data:{user:a}}=await G.auth.getUser();if(!a){console.log("Dashboard: Nenhum usuário autenticado"),n(!1);return}console.log("Dashboard: Verificando admin para usuário:",a.id);const{data:i,error:o}=await G.from("admins").select("role").eq("id",a.id).maybeSingle();console.log("Dashboard: Resultado da consulta admin:",{adminData:i,adminError:o}),(i==null?void 0:i.role)==="admin"?(console.log("Dashboard: Usuário é admin!"),e(!0)):console.log("Dashboard: Usuário não é admin")}catch(a){console.error("Erro ao verificar role de admin:",a)}finally{n(!1)}}return t?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):l.jsxs(l.Fragment,{children:[l.jsx(er,{pageTitle:"Dashboard",description:"Painel de controle para publishers"}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-8 mb-8 items-stretch",children:[l.jsxs("div",{className:"flex flex-col flex-[1.3] gap-4",children:[l.jsx(aE,{className:"mb-4"}),l.jsx("div",{className:"w-full h-full",children:l.jsx("div",{className:"w-full h-full",children:l.jsx(sE,{})})})]}),l.jsx("div",{className:"flex-1 min-w-[320px]",children:l.jsx(zy,{})})]}),r?l.jsxs("div",{className:"grid grid-cols-12 gap-4 md:gap-6",children:[l.jsxs("div",{className:"col-span-12 space-y-6 w-full",children:[l.jsx(Yxe,{}),l.jsx(zy,{})]}),l.jsx("div",{className:"col-span-12 xl:col-span-5",children:l.jsx(l0,{})}),l.jsx("div",{className:"col-span-12 xl:col-span-7",children:l.jsx(o0,{})})]}):l.jsxs("div",{className:"grid grid-cols-12 gap-4 md:gap-6",children:[l.jsx("div",{className:"col-span-12 xl:col-span-5",children:l.jsx(l0,{})}),l.jsx("div",{className:"col-span-12 xl:col-span-7",children:l.jsx(o0,{})})]})]})}function Xxe(){const[r,e]=b.useState(!1),[t,n]=b.useState(!0);b.useEffect(()=>{s()},[]);async function s(){try{const{data:{user:a}}=await G.auth.getUser();if(!a){n(!1);return}const{data:i}=await G.from("admins").select("role").eq("id",a.id).maybeSingle();(i==null?void 0:i.role)==="admin"&&e(!0)}catch(a){console.error("Erro ao verificar role de admin:",a)}finally{n(!1)}}return t?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):l.jsxs(l.Fragment,{children:[l.jsx(er,{pageTitle:"Dashboard",description:"Painel de controle para anunciantes"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[2fr_1fr] gap-8 mb-8 items-start",children:[l.jsxs("div",{className:"flex flex-col gap-4 h-full",children:[l.jsx(aE,{className:"mb-4"}),l.jsx("div",{className:"w-full h-full",children:l.jsxs("div",{className:"h-full grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(sE,{}),l.jsx(lB,{})]})})]}),l.jsx("div",{children:l.jsx(zy,{})}),l.jsx("div",{className:"h-full",children:l.jsx(o0,{})}),l.jsx("div",{children:l.jsx(l0,{})})]})]})}const Zxe=[{code:"BR",label:"+55"},{code:"US",label:"+1"},{code:"GB",label:"+44"},{code:"PT",label:"+351"},{code:"ES",label:"+34"},{code:"FR",label:"+33"},{code:"DE",label:"+49"},{code:"IT",label:"+39"},{code:"JP",label:"+81"},{code:"CN",label:"+86"},{code:"AU",label:"+61"},{code:"CA",label:"+1"},{code:"MX",label:"+52"},{code:"AR",label:"+54"},{code:"CL",label:"+56"},{code:"CO",label:"+57"},{code:"PE",label:"+51"},{code:"UY",label:"+598"},{code:"PY",label:"+595"},{code:"BO",label:"+591"}];function Jxe({profile:r,onUpdate:e,onClose:t}){const[n,s]=b.useState((r==null?void 0:r.first_name)||""),[a,i]=b.useState((r==null?void 0:r.last_name)||""),[o,c]=b.useState((r==null?void 0:r.phone)||""),[d,u]=b.useState(!1),[h,f]=b.useState(""),[p,g]=b.useState(!1);if(b.useEffect(()=>{r&&(s(r.first_name),i(r.last_name),c(r.phone||""))},[r]),!r)return null;const m=async v=>{v.preventDefault();try{if(u(!0),f(""),g(!1),!n.trim()||!a.trim()){f("Nome e sobrenome são obrigatórios");return}const{error:x}=await G.from("platform_users").update({first_name:n.trim(),last_name:a.trim(),phone:o.trim()}).eq("id",r.id);if(x)throw x;g(!0),e(),setTimeout(()=>{g(!1)},3e3)}catch(x){console.error("Erro ao atualizar perfil:",x),f("Erro ao atualizar perfil")}finally{u(!1)}};return l.jsx("div",{className:"p-5 border border-gray-200 rounded-2xl dark:border-gray-800 lg:p-6",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90",children:"Informações Pessoais"}),h&&l.jsx("div",{className:"p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:h}),p&&l.jsx("div",{className:"p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:"Informações atualizadas com sucesso!"}),l.jsxs("form",{onSubmit:m,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsxs("div",{children:[l.jsxs(Me,{children:["Nome ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"text",value:n,onChange:v=>s(v.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Sobrenome ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"text",value:a,onChange:v=>i(v.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Email"}),l.jsx(st,{type:"email",value:r.email,disabled:!0})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Telefone"}),l.jsx(Xu,{countries:Zxe,value:o,onChange:v=>c(v),placeholder:"(99) 99999-9999"})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Tipo de Conta"}),l.jsx(st,{type:"text",value:r.role==="publisher"?"Publisher":"Anunciante",disabled:!0})]})]}),l.jsxs("div",{className:"flex justify-end",children:[t&&l.jsx(nt,{variant:"outline",onClick:t,children:"Cancelar"}),l.jsx(nt,{disabled:d,children:d?"Salvando...":"Salvar"})]})]})]})})}function ZA({userType:r}){const[e,t]=b.useState(null),[n,s]=b.useState(!0),[a,i]=b.useState(""),[o,c]=b.useState("profile");b.useEffect(()=>{d()},[]);async function d(){try{const{data:{user:f}}=await G.auth.getUser();if(!f){i("Usuário não encontrado");return}const{data:p,error:g}=await G.from("platform_users").select("*").eq("id",f.id).single();if(g)throw g;t(p)}catch(f){console.error("Erro ao carregar perfil:",f),i("Erro ao carregar dados do perfil")}finally{s(!1)}}if(n)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})});if(a)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-error-500",children:a})});const u=[{id:"profile",name:"Perfil"},{id:"company",name:"Dados da Empresa"}],h=r==="publisher"?"Publisher":"Anunciante";return l.jsxs(l.Fragment,{children:[l.jsx(er,{title:`Minha Conta | ${h}`,description:"Gerencie suas informações de conta"}),l.jsx(Dr,{pageTitle:"Minha Conta"}),l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]",children:[l.jsx("div",{className:"border-b border-gray-200 dark:border-gray-800",children:l.jsx("div",{className:"flex gap-2 px-5 lg:px-6",children:u.map(f=>l.jsx("button",{onClick:()=>c(f.id),className:`inline-flex items-center gap-2 border-b-2 px-4 py-4 text-sm font-medium hover:text-gray-700 dark:hover:text-gray-300 ${o===f.id?"border-brand-500 text-brand-500 dark:text-brand-400":"border-transparent text-gray-500 dark:text-gray-400"}`,children:f.name},f.id))})}),l.jsxs("div",{className:"p-5 lg:p-6",children:[o==="profile"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx(ZM,{profile:e}),l.jsx(Jxe,{profile:e,onUpdate:d}),l.jsx(iR,{profile:e,onUpdate:d})]}),o==="company"&&l.jsx(xR,{profile:e,onUpdate:d}),o==="account"&&l.jsx(yR,{profile:e,onUpdate:d}),o==="localization"&&l.jsx(bR,{profile:e})]})]})]})}function Kxe(){const r=Sr(),[e,t]=b.useState([]),[n,s]=b.useState(!0),[a,i]=b.useState(""),[o,c]=b.useState("");b.useEffect(()=>{d()},[]);async function d(){try{s(!0),i("");const{data:g,error:m}=await G.from("pages").select("*").order("created_at",{ascending:!1});if(m)throw m;t(g||[])}catch(g){console.error("Error loading pages:",g),i("Erro ao carregar lista de páginas")}finally{s(!1)}}const u=()=>{r("/pages/new")},h=g=>{r(`/pages/edit/${g.id}`)},f=async g=>{if(confirm("Tem certeza que deseja excluir esta página? Esta ação não pode ser desfeita."))try{s(!0),i(""),c("");const{error:m}=await G.from("pages").delete().eq("id",g);if(m)throw m;c("Página excluída com sucesso"),await d()}catch(m){console.error("Error deleting page:",m),i("Erro ao excluir página")}finally{s(!1)}},p=g=>new Date(g).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return n&&!e.length?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):l.jsxs(vh,{permission:"pages.view",fallback:l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-error-500",children:"Acesso não autorizado"})}),children:[l.jsx(er,{title:"Páginas | Painel Admin",description:"Gerenciar páginas do sistema"}),l.jsx(Dr,{pageTitle:"Páginas"}),a&&l.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:a}),o&&l.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:o}),l.jsx("div",{className:"mb-6",children:l.jsx(nt,{onClick:u,children:"Nova Página"})}),l.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:l.jsx("div",{className:"max-w-full overflow-x-auto",children:l.jsx("div",{className:"min-w-[1102px]",children:l.jsxs(To,{children:[l.jsx(Po,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:l.jsxs(Mr,{children:[l.jsx("th",{className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Título"}),l.jsx("th",{className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Slug"}),l.jsx("th",{className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Status"}),l.jsx("th",{className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Visibilidade"}),l.jsx("th",{className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Última Atualização"}),l.jsx("th",{className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Ações"})]})}),l.jsxs(Lo,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:[e.map(g=>l.jsxs(Mr,{children:[l.jsx("td",{className:"px-5 py-4 sm:px-6 text-start",children:l.jsx("span",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:g.title})}),l.jsx("td",{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:g.slug}),l.jsx("td",{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:l.jsx(Dt,{color:g.status==="published"?"success":g.status==="archived"?"error":"warning",children:g.status==="published"?"Publicado":g.status==="archived"?"Arquivado":"Rascunho"})}),l.jsx("td",{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:l.jsx(Dt,{color:g.visible_to==="all"?"primary":g.visible_to==="publisher"?"success":"warning",children:g.visible_to==="all"?"Todos os Usuários":g.visible_to==="publisher"?"Publishers":"Anunciantes"})}),l.jsx("td",{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:p(g.updated_at)}),l.jsx("td",{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>h(g),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Editar",children:l.jsx(Ao,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>f(g.id),className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",title:"Excluir",children:l.jsx(Fa,{className:"w-5 h-5"})})]})})]},g.id)),e.length===0&&l.jsx(Mr,{children:l.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"Nenhuma página encontrada."})})]})]})})})})]})}function JA(){const{id:r}=nc(),e=Sr(),[t,n]=b.useState(!1),[s,a]=b.useState(""),[i,o]=b.useState(""),[c,d]=b.useState(!1),[u,h]=b.useState({}),[f,p]=b.useState({title:"",slug:"",content:"",status:"draft",visible_to:"all"});b.useEffect(()=>{r&&m(r)},[r]),b.useEffect(()=>{if(!c&&f.title){const k=g(f.title);p(S=>({...S,slug:k}))}},[f.title,c]);function g(k){return k.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").replace(/-+/g,"-")}async function m(k){try{n(!0),a("");const{data:S,error:N}=await G.from("pages").select("*").eq("id",k).single();if(N)throw N;S&&(p({title:S.title,slug:S.slug,content:S.content,status:S.status,visible_to:S.visible_to}),d(!0))}catch(S){console.error("Error loading page:",S),a("Erro ao carregar página"),e("/pages")}finally{n(!1)}}const v=()=>{const k={};let S=!0;return f.title.trim()||(k.title="Título é obrigatório",S=!1),f.slug.trim()?/^[a-z0-9]+(?:-[a-z0-9]+)*$/.test(f.slug.trim())||(k.slug="Slug deve conter apenas letras minúsculas, números e hífens",S=!1):(k.slug="Slug é obrigatório",S=!1),f.content.trim()||(k.content="Conteúdo é obrigatório",S=!1),h(k),S},x=async k=>{k.preventDefault();try{if(!v())return;n(!0),a(""),o("");const{data:S,error:N}=await G.from("pages").select("id").eq("slug",f.slug.trim());if(N)throw N;if(S&&S.length>0&&S.some(O=>O.id!==r)){h(O=>({...O,slug:"Este slug já está em uso"}));return}const{data:{user:A}}=await G.auth.getUser();if(!A)throw new Error("Usuário não autenticado");const E={title:f.title.trim(),slug:f.slug.trim(),content:f.content.trim(),status:f.status,visible_to:f.visible_to,updated_by:A.id};if(r){const{error:R}=await G.from("pages").update(E).eq("id",r);if(R)throw R;o("Página atualizada com sucesso")}else{const{error:R}=await G.from("pages").insert([{...E,created_by:A.id}]);if(R)throw R;o("Página criada com sucesso")}setTimeout(()=>{e("/pages")},1500)}catch(S){console.error("Error saving page:",S),a("Erro ao salvar página")}finally{n(!1)}},y=k=>{const S=k.target.value;p(N=>({...N,title:S}))},w=k=>{d(!0),p(S=>({...S,slug:k.target.value}))};return t&&!f.title?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):l.jsxs(vh,{permission:"pages.edit",fallback:l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-error-500",children:"Acesso não autorizado"})}),children:[l.jsx(er,{title:`${r?"Editar":"Nova"} Página | Painel Admin`,description:"Gerenciar páginas do sistema"}),l.jsx(Dr,{pageTitle:`${r?"Editar":"Nova"} Página`}),l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]",children:[s&&l.jsx("div",{className:"p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:s}),i&&l.jsx("div",{className:"p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:i}),l.jsx("form",{onSubmit:x,className:"p-6",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs(Me,{children:["Título ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"text",value:f.title,onChange:y,error:!!u.title,hint:u.title,required:!0})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Slug ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"text",value:f.slug,onChange:w,error:!!u.slug,hint:u.slug,required:!0}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"A versão amigável da URL do título. Será gerada automaticamente a partir do título se deixada em branco."})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Conteúdo ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(tl,{value:f.content,onChange:k=>p({...f,content:k}),rows:20,error:!!u.content,hint:u.content,required:!0})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Status"}),l.jsx(or,{options:[{value:"draft",label:"Rascunho"},{value:"published",label:"Publicado"},{value:"archived",label:"Arquivado"}],value:f.status,onChange:k=>p({...f,status:k})})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Visibilidade"}),l.jsx(or,{options:[{value:"all",label:"Todos os Usuários"},{value:"publisher",label:"Apenas Publishers"},{value:"advertiser",label:"Apenas Anunciantes"}],value:f.visible_to,onChange:k=>p({...f,visible_to:k})}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Controle qual tipo de usuário pode visualizar esta página"})]}),l.jsxs("div",{className:"flex gap-4 pt-6",children:[l.jsx(nt,{variant:"outline",onClick:()=>e("/pages"),children:"Cancelar"}),l.jsx(nt,{disabled:t,children:t?"Salvando...":"Salvar"})]})]})})]})]})}function Qxe(){return l.jsxs("div",{className:"animate-pulse space-y-6",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded-lg w-1/3 dark:bg-gray-800"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 dark:bg-gray-800"}),l.jsx("div",{className:"space-y-4",children:[1,2,3].map(r=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 dark:bg-gray-800"}),l.jsx("div",{className:"h-11 bg-gray-200 rounded-lg dark:bg-gray-800"})]},r))}),l.jsx("div",{className:"flex justify-end",children:l.jsx("div",{className:"h-10 bg-gray-200 rounded-lg w-24 dark:bg-gray-800"})})]})}function e1e({field:r,settings:e,value:t,onChange:n,error:s,onErrorClear:a}){return e!=null&&e.input_mask_enabled&&e.input_mask_pattern?l.jsx(Du,{mask:e.input_mask_pattern,value:t||"",onChange:i=>{n(i.target.value),s&&a&&a()},placeholder:r.placeholder,className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"}):l.jsx(st,{type:"text",value:t||"",onChange:i=>{n(i.target.value),s&&a&&a()},placeholder:r.placeholder,required:r.is_required,error:!!s,hint:s})}function t1e({field:r,value:e,onChange:t,error:n}){return l.jsx(tl,{value:e||"",onChange:t,placeholder:r.placeholder,required:r.is_required,error:!!n,hint:n})}function r1e({field:r,value:e,onChange:t}){var i;const n=((i=r.options)==null?void 0:i.map(o=>({value:o.value||o.label,label:o.label})))||[],s=o=>{t(o)},a=r.placeholder||"Select an option";return l.jsx(or,{options:n,value:e,onChange:s,placeholder:a})}function n1e({field:r,settings:e,value:t=[],onChange:n,error:s,onErrorClear:a}){var v;const[i,o]=b.useState(!1),[c,d]=b.useState(""),u=b.useRef(null),h=e==null?void 0:e.max_selections,f=h&&Array.isArray(t)&&t.length>=h;b.useEffect(()=>{const x=y=>{u.current&&!u.current.contains(y.target)&&o(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=x=>{const y=Array.isArray(t)?[...t]:[];y.includes(x)?n(y.filter(w=>w!==x)):f||n([...y,x]),s&&a&&a()},g=(x,y)=>{y.stopPropagation();const w=Array.isArray(t)?[...t]:[];n(w.filter(k=>k!==x)),s&&a&&a()},m=((v=r.options)==null?void 0:v.filter(x=>x.label.toLowerCase().includes(c.toLowerCase())))||[];return l.jsxs("div",{className:"relative",ref:u,children:[l.jsxs("div",{onClick:()=>o(!i),className:`relative flex flex-col items-center h-auto min-h-[2.75rem] w-full rounded-lg border ${s?"border-error-500 dark:border-error-500":i?"border-brand-500 ring-3 ring-brand-500/10 dark:border-brand-500":"border-gray-300 dark:border-gray-700"} bg-transparent`,children:[l.jsx("div",{className:"flex flex-wrap flex-grow w-full gap-1 p-1",children:Array.isArray(t)&&t.length>0?t.map((x,y)=>{var k;const w=(k=r.options)==null?void 0:k.find(S=>(S.value||S.label)===x);return l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 m-1 text-sm font-medium text-gray-700 bg-gray-100 rounded-md dark:bg-gray-800 dark:text-gray-300",children:[l.jsx("span",{children:(w==null?void 0:w.label)||x}),l.jsx("button",{onClick:S=>g(x,S),className:"p-0.5 hover:text-gray-900 dark:hover:text-white",children:l.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},y)}):l.jsx("div",{className:"flex-1 p-2 text-sm text-gray-400 dark:text-gray-500",children:r.placeholder||"Select options"})}),l.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:l.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${i?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",children:l.jsx("path",{d:"M7 7l3 3 3-3",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),i&&l.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg",children:[l.jsx("div",{className:"p-2",children:l.jsx("input",{type:"text",className:"w-full p-2 text-sm bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg",placeholder:"Search options...",value:c,onChange:x=>d(x.target.value),onClick:x=>x.stopPropagation()})}),l.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[m.map((x,y)=>{const w=x.value||x.label,k=Array.isArray(t)&&t.includes(w);return l.jsx("div",{onClick:()=>p(w),className:`flex items-center px-4 py-2 text-sm cursor-pointer ${k?"bg-brand-50 text-brand-600 dark:bg-brand-500/10 dark:text-brand-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"} ${f&&!k?"opacity-50 cursor-not-allowed":""}`,children:l.jsxs("div",{className:"flex items-center w-full",children:[l.jsx("div",{className:"relative flex items-center justify-center w-5 h-5 mr-3",children:k&&l.jsx("svg",{className:"w-4 h-4 text-brand-500 dark:text-brand-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),l.jsx("span",{className:"flex-grow",children:x.label})]})},y)}),m.length===0&&l.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400 text-center",children:"No options found"})]})]}),h&&l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:Array.isArray(t)&&t.length===h?l.jsxs("span",{className:"text-warning-500",children:["Máximo de ",h," seleções atingido"]}):`Você pode selecionar até ${h} ${h===1?"opção":"opções"}`}),s&&l.jsx("p",{className:"mt-1 text-sm text-error-500",children:s})]})}function s1e({field:r,settings:e,value:t,onChange:n,error:s}){var i,o;const a=(e==null?void 0:e.inline_layout)||((i=r.validation_rules)==null?void 0:i.inline_layout);return l.jsxs("div",{className:`${a?"flex flex-wrap gap-4":"space-y-2"}`,children:[(o=r.options)==null?void 0:o.map((c,d)=>l.jsx(yv,{id:`${r.id}_${d}`,name:r.id,value:c.value||c.label,checked:t===(c.value||c.label),onChange:n,label:c.label},d)),s&&l.jsx("p",{className:"text-sm text-error-500 w-full",children:s})]})}function a1e({field:r,settings:e,value:t=[],onChange:n,error:s,onErrorClear:a}){var d,u;const i=Array.isArray(t)?t:[],o=(e==null?void 0:e.max_selections)&&i.length>=e.max_selections,c=(e==null?void 0:e.inline_layout)||((d=r.validation_rules)==null?void 0:d.inline_layout);return l.jsxs("div",{className:`${c?"flex flex-wrap gap-4":"space-y-2"}`,children:[(u=r.options)==null?void 0:u.map((h,f)=>{const p=h.value||h.label,g=i.includes(p);return l.jsx(Ou,{checked:g,onChange:m=>{let v;m?!o||g?v=[...i,p]:v=[...i]:v=i.filter(x=>x!==p),n(v),s&&a&&a()},label:h.label,disabled:o&&!g},f)}),(e==null?void 0:e.max_selections)&&l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 w-full",children:i.length===e.max_selections?l.jsxs("span",{className:"text-warning-500",children:["Máximo de ",e.max_selections," seleções atingido"]}):`Você pode selecionar até ${e.max_selections} ${e.max_selections===1?"opção":"opções"}`}),s&&l.jsx("p",{className:"text-sm text-error-500 w-full",children:s})]})}function i1e({field:r,value:e,onChange:t,error:n,onErrorClear:s}){const a=i=>i?i.includes("@"):!0;return l.jsx(st,{type:"email",value:e||"",onChange:i=>{const o=i.target.value;t(o),n&&s&&a(o)&&s()},onBlur:i=>{!a(i.target.value)&&!n&&t(i.target.value)},placeholder:r.placeholder,required:r.is_required,error:!!n,hint:n||(r.description?r.description:"")})}function o1e({field:r,value:e,onChange:t,error:n,onErrorClear:s}){const a=o=>{if(!o)return!0;const c=o.match(/^https?:\/\//)?o:`https://${o}`;try{return new URL(c),!0}catch{return!1}},i=o=>{const c=o.target.value.trim();c&&!c.match(/^https?:\/\//)&&t(`https://${c}`)};return l.jsx(st,{type:"url",value:e||"",onChange:o=>{const c=o.target.value;t(c),n&&s&&a(c)&&s()},onBlur:i,placeholder:r.placeholder||"https://example.com",required:r.is_required,error:!!n,hint:n||(r.description?r.description:"")})}function l1e({field:r,value:e,onChange:t,error:n}){return l.jsxs("div",{children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Vr,{label:r.label,checked:e||!1,onChange:t})}),r.description&&l.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:r.description}),n&&l.jsx("p",{className:"mt-1 text-sm text-error-500",children:n})]})}function c1e({field:r}){return l.jsxs("div",{className:"w-full",children:[l.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-800 dark:text-white/90",children:r.label}),r.description&&l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.description})]})}function d1e({value:r,onChange:e,error:t,onErrorClear:n,settings:s}){var v;const a=(s==null?void 0:s.max_files)||1,i=(s==null?void 0:s.max_file_size)||5*1024*1024,o=(s==null?void 0:s.multiple_files)||!1,c=((v=s==null?void 0:s.allowed_extensions)==null?void 0:v.split(",").map(x=>x.trim()))||[],d=b.useCallback(x=>{const y=[...r];x.forEach(k=>{var N;const S=(N=k.name.split(".").pop())==null?void 0:N.toLowerCase();if(c.length>0&&S&&!c.includes(S)){console.error(`File type .${S} not allowed`);return}if(k.size>i){console.error("File too large");return}y.push(k)});const w=y.slice(0,a);e(w),t&&n&&n()},[r,a,i,c,t,n]),{getRootProps:u,getInputProps:h,isDragActive:f}=JN({onDrop:d,multiple:o,maxFiles:a,maxSize:i,accept:c.length>0?c.reduce((x,y)=>{const w=u1e(y);return w&&(x[w]||(x[w]=[]),x[w].push(`.${y}`)),x},{}):void 0}),p=x=>{const y=r.filter((w,k)=>k!==x);e(y)},g=x=>{var w;if(!x)return l.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})});const y=(w=x.split(".").pop())==null?void 0:w.toLowerCase();return["mp3","wav","ogg","m4a"].includes(y||"")?l.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}):["mp4","webm","ogg","mov","avi"].includes(y||"")?l.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}):["doc","docx"].includes(y||"")?l.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}):["pdf"].includes(y||"")?l.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}):["jpg","jpeg","png","gif","webp"].includes(y||"")?l.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}):l.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})},m=()=>!c||c.length===0?"All files":c.map(x=>`.${x}`).join(", ");return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{...u(),className:`transition border-2 border-dashed cursor-pointer dark:hover:border-brand-500 dark:border-gray-700 rounded-xl hover:border-brand-500 ${f?"border-brand-500 bg-gray-100 dark:bg-gray-800":"border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-900"}`,children:[l.jsx("input",{...h()}),l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"mb-4",children:l.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),l.jsx("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:f?"Drop files here...":"Drag & drop files here, or click to select files"}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Allowed types: ",m()]}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Max size: ",KA(i)]}),o&&l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Max files: ",a]})]})]}),r&&r.length>0&&l.jsx("div",{className:"space-y-2",children:r.map((x,y)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[g(x.name),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:x.name}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:KA(x.size)})]})]}),l.jsx("button",{type:"button",onClick:()=>p(y),className:"p-1 text-gray-400 hover:text-error-500 dark:hover:text-error-400",children:l.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},y))}),t&&l.jsx("p",{className:"text-sm text-error-500",children:t})]})}function KA(r,e=2){if(r===0)return"0 Bytes";const t=1024,n=e<0?0:e,s=["Bytes","KB","MB","GB","TB"],a=Math.floor(Math.log(r)/Math.log(t));return`${parseFloat((r/Math.pow(t,a)).toFixed(n))} ${s[a]}`}function u1e(r){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",txt:"text/plain",csv:"text/csv",mp3:"audio/mpeg",wav:"audio/wav",ogg:"audio/ogg",m4a:"audio/mp4",mp4:"video/mp4",webm:"video/webm",mov:"video/quicktime",avi:"video/x-msvideo"}[r.toLowerCase()]||null}function QA(r,e){if(r==null)return"";const n=String(r).replace(/\D/g,"");let s=parseInt(n);return!isNaN(s)&&e!==void 0&&(s=Math.min(s,e)),isNaN(s)?"":s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function h1e(r){return typeof r=="string"?r:typeof r=="number"?String(r):""}const f1e=r=>r>=80?{letter:"A",bgColor:"#9EF2C9",textColor:"#007C65",hoverBgColor:"#00C192",hoverTextColor:"#fff"}:r>=60?{letter:"B",bgColor:"#C4E5FE",textColor:"#006DCA",hoverBgColor:"#2BB3FF",hoverTextColor:"#fff"}:r>=40?{letter:"C",bgColor:"#EDD9FF",textColor:"#8649E1",hoverBgColor:"#AB6CFE",hoverTextColor:"#fff"}:r>=20?{letter:"D",bgColor:"#FCE081",textColor:"#A75800",hoverBgColor:"#EF9800",hoverTextColor:"#fff"}:{letter:"F",bgColor:"#f9b4b4",textColor:"#b84f53",hoverBgColor:"#ff4953",hoverTextColor:"#fff"};function p1e({field:r,value:e,onChange:t,error:n,onErrorClear:s}){const a=["moz_da","semrush_as","ahrefs_dr"].includes(r.field_type),[i,o]=b.useState(!1),[c,d]=b.useState(null);return b.useEffect(()=>{if(a&&e){const u=h1e(e),h=parseInt(u.replace(/,/g,""));!isNaN(h)&&h>=0&&h<=100?(d(f1e(h)),o(!0)):o(!1)}else o(!1)},[e,a]),l.jsx("div",{className:"relative",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(st,{type:"text",value:e?QA(e,a?100:void 0):"",onChange:u=>{const h=QA(u.target.value,a?100:void 0);t(h),n&&s&&s()},placeholder:"0",error:!!n,hint:n,className:"flex-1"}),i&&c&&l.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded-sm text-xs font-bold transition-colors hover:scale-110",style:{backgroundColor:c.bgColor,color:c.textColor,cursor:"pointer"},onMouseOver:u=>{u.currentTarget.style.backgroundColor=c.hoverBgColor,u.currentTarget.style.color=c.hoverTextColor},onMouseOut:u=>{u.currentTarget.style.backgroundColor=c.bgColor,u.currentTarget.style.color=c.textColor},title:`Score ${c.letter}`,children:c.letter})]})})}function g1e({field:r}){return l.jsx("div",{className:"prose max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:r.description||""}})}function m1e({value:r,onChange:e,error:t,onErrorClear:n}){const s="dd/mm/yyyy",a=o=>{if(!o)return"";try{const c=new Date(o);if(isNaN(c.getTime()))return"";const d=c.getDate().toString().padStart(2,"0"),u=(c.getMonth()+1).toString().padStart(2,"0"),h=c.getFullYear();switch(s){case"dd/mm/yyyy":return`${d}/${u}/${h}`;default:return o}}catch{return""}},i=o=>{if(!o)return"";try{let c,d,u;switch(s){case"dd/mm/yyyy":[c,d,u]=o.split("/");break;default:return o}return new Date(parseInt(u),parseInt(d)-1,parseInt(c)).toISOString().split("T")[0]}catch{return""}};return l.jsx(st,{type:"date",value:i(r),onChange:o=>{const c=a(o.target.value);e(c),t&&n&&n()},placeholder:s.toUpperCase(),error:!!t,hint:t})}function x1e({value:r,onChange:e,error:t,onErrorClear:n}){const s="HH:mm",a=o=>{if(!o)return"";try{const[c,d]=o.split(":"),u=parseInt(c),h=parseInt(d);return isNaN(u)||isNaN(h)?"":`${c.padStart(2,"0")}:${d.padStart(2,"0")}`}catch{return""}},i=o=>{if(!o)return"";try{return o}catch{return""}};return l.jsx(st,{type:"time",value:i(r),onChange:o=>{const c=a(o.target.value);e(c),t&&n&&n()},placeholder:s,error:!!t,hint:t})}function v1e({value:r={},onChange:e,error:t,onErrorClear:n,settings:s}){var u;let a={};try{a=typeof r=="string"?JSON.parse(r||"{}"):r||{}}catch{console.log("Failed to parse JSON in CountryField, using empty object:",r),a={}}const i=Object.keys(a).length,o=s==null?void 0:s.max_selections,c=o&&i>=o,d=h=>{const f={...a};h in f?delete f[h]:f[h]=!0,e(f),t&&n&&n()};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(u=s==null?void 0:s.countries)==null?void 0:u.map(h=>{const f=h,p=f in a;return l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("div",{className:"flex items-center gap-2 min-w-[140px]",children:[l.jsx("input",{type:"checkbox",checked:p,onChange:()=>d(f),disabled:c&&!p,className:`w-4 h-4 rounded border-gray-300 text-brand-500 focus:ring-brand-500/20 dark:border-gray-700 dark:bg-gray-900 ${c&&!p?"opacity-50 cursor-not-allowed":""}`}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:Hp(h),width:"20",height:"20",alt:eT(h),className:`rounded-full ${h==="ROW"?"dark:invert":""}`}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:eT(h)})]})]})},h)})}),o&&l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:i===o?l.jsxs("span",{className:"text-warning-500",children:["Máximo de ",o," países selecionados"]}):`Você pode selecionar até ${o} ${o===1?"país":"países"}`}),t&&l.jsx("p",{className:"text-sm text-error-500",children:t})]})}function eT(r){return{BR:"Brasil",US:"Estados Unidos",GB:"Reino Unido",PT:"Portugal",ES:"Espanha",FR:"França",DE:"Alemanha",IT:"Itália",CA:"Canadá",AU:"Austrália",JP:"Japão",CN:"China",IN:"Índia",RU:"Rússia",MX:"México",AR:"Argentina",CL:"Chile",CO:"Colômbia",PE:"Peru",VE:"Venezuela",ROW:"Rest of World"}[r]||r}function y1e({value:r,onChange:e,error:t,onErrorClear:n,settings:s}){var x;const[a,i]=b.useState([]),[o,c]=b.useState([]),[d,u]=b.useState(!1);let h={};try{h=typeof r=="string"?JSON.parse(r||"{}"):r||{}}catch{console.log("Failed to parse JSON in BrazilianStatesField, using empty object:",r),h={}}const f=(s==null?void 0:s.max_selections)!==1;b.useEffect(()=>{p()},[]),b.useEffect(()=>{h.state&&g(h.state)},[h.state]);async function p(){try{u(!0);const y=await fetch("https://brasilapi.com.br/api/ibge/uf/v1");if(!y.ok)throw new Error(`Failed to fetch states: ${y.status}`);const w=await y.json();i(w.sort((k,S)=>k.nome.localeCompare(S.nome)))}catch(y){console.error("Error loading states:",y)}finally{u(!1)}}async function g(y){if(y)try{u(!0);const w=await fetch(`https://brasilapi.com.br/api/ibge/municipios/v1/${y}`);if(!w.ok)throw new Error(`Failed to fetch cities: ${w.status}`);const k=await w.json();c(k.sort((S,N)=>S.nome.localeCompare(N.nome)))}catch(w){console.error("Error loading cities:",w)}finally{u(!1)}}const m=y=>{const w=a.find(S=>S.sigla===y),k={...h,state:y,state_name:(w==null?void 0:w.nome)||"",cities:[],city_names:[]};e(k),t&&n&&n()},v=y=>{const w={...h,cities:y,city_names:y};e(w),t&&n&&n()};return d&&a.length===0?l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando estados..."}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsx(or,{options:a.map(y=>({value:y.sigla,label:`${y.nome} (${y.sigla})`})),value:h.state||"",onChange:m,placeholder:"Selecione o estado"})}),h.state&&l.jsx("div",{children:d&&o.length===0?l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando cidades..."}):f?l.jsx($F,{options:o.map(y=>({value:y.nome,text:y.nome})),defaultSelected:h.cities||[],onChange:v,maxSelections:s==null?void 0:s.max_selections}):l.jsx(or,{options:o.map(y=>({value:y.nome,label:y.nome})),value:((x=h.cities)==null?void 0:x[0])||"",onChange:y=>v([y]),placeholder:"Selecione a cidade"})}),t&&l.jsx("p",{className:"text-sm text-error-500",children:t})]})}const b1e=[{code:"BR",label:"+55"},{code:"US",label:"+1"},{code:"GB",label:"+44"},{code:"PT",label:"+351"},{code:"ES",label:"+34"},{code:"FR",label:"+33"},{code:"DE",label:"+49"},{code:"IT",label:"+39"},{code:"JP",label:"+81"},{code:"CN",label:"+86"},{code:"AU",label:"+61"},{code:"CA",label:"+1"},{code:"MX",label:"+52"},{code:"AR",label:"+54"},{code:"CL",label:"+56"},{code:"CO",label:"+57"},{code:"PE",label:"+51"},{code:"UY",label:"+598"},{code:"PY",label:"+595"},{code:"BO",label:"+591"}];function w1e({value:r,onChange:e,error:t,onErrorClear:n}){return l.jsx(Xu,{countries:b1e,value:r||"",onChange:s=>{e(s),t&&n&&n()},placeholder:"(99) 99999-9999"})}function Ev(r){const e=typeof r=="string"?parseFloat(r):r;return isNaN(e)?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function k1e(r){if(!r)return 0;const e=r.replace(/[^\d,]/g,"").replace(",","."),t=parseFloat(e);return isNaN(t)?0:t}function tT(r){const e=r.replace(/\D/g,"");return e?(parseInt(e,10)/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):""}function rT(r){if(!r)return"";const e=typeof r=="string"?k1e(r):r;return isNaN(e)||e===0?"":e.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}function C1e({value:r,onChange:e,error:t,onErrorClear:n,settings:s}){const a=Qn(),[i,o]=b.useState(""),[c,d]=b.useState(""),[u,h]=b.useState("");b.useEffect(()=>{let N={};try{typeof r=="string"?N=JSON.parse(r||"{}"):typeof r=="object"&&r!==null?N=r:r?N={promotional_price:String(r)}:N={}}catch{r?N={promotional_price:String(r)}:N={}}const A=N.old_price||N.price||"",E=N.old_promotional_price||N.promotional_price||"";d(rT(A)),h(rT(E))},[r]);let f={};try{typeof r=="string"?f=JSON.parse(r||"{}"):typeof r=="object"&&r!==null?f=r:r?f={promotional_price:String(r)}:f={}}catch{r?f={promotional_price:String(r)}:f={}}const p=N=>{if(!N)return 0;let E=N.toString().replace(/[^\d,.]/g,"");E.includes(",")&&(E=E.replace(/\./g,"").replace(",","."));const R=parseFloat(E);return isNaN(R)?0:R},g=N=>{const A=N.target.value,E=tT(A);d(E);const R={...f,price:E,old_price:E};if(o(""),f.old_promotional_price&&E){const O=p(f.old_promotional_price),L=p(E);L>0&&O>=L&&o("Preço promocional deve ser menor que o preço normal")}e(JSON.stringify(R)),t&&n&&n()},m=()=>{},v=N=>{const A=N.target.value,E=tT(A);if(E&&f.old_price){const O=p(E),L=p(f.old_price);if(L>0&&O>=L){o("Preço promocional deve ser menor que o preço normal");return}}h(E);const R={...f,promotional_price:E,old_promotional_price:E};o(""),e(JSON.stringify(R)),t&&n&&n()},x=()=>{},w=(()=>{if(s!=null&&s.product_description){if(typeof s.product_description=="string")try{const N=JSON.parse(s.product_description);return{price_description:N.price_description||"",promotional_price_description:N.promotional_price_description||""}}catch{return{price_description:s.product_description,promotional_price_description:""}}if(typeof s.product_description=="object"){const N=s.product_description;return{price_description:N.price_description||"",promotional_price_description:N.promotional_price_description||""}}}return{price_description:"",promotional_price_description:""}})(),k=!a.pathname.includes("pages/cadastro-de-sitewebsite"),S=()=>f.old_promotional_price&&f.old_promotional_price!==""?f.old_promotional_price:f.old_price&&f.old_price!==""?f.old_price:f.promotional_price&&f.promotional_price!==""?f.promotional_price:f.price||"";return l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-400",children:"Preço"}),l.jsx(st,{type:"text",name:"price",value:c,onChange:g,onBlur:m,placeholder:"0,00",error:!!t,hint:t||w.price_description})]}),k&&l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-400",children:"Preço Promocional"}),l.jsx(st,{type:"text",name:"promotional_price",value:u,onChange:v,onBlur:x,placeholder:"0,00",error:!!i,hint:i||w.promotional_price_description})]}),l.jsx("input",{type:"hidden",name:"main_price",value:S()})]})}function XC({commission:r,productData:e,layout:t="inline",showMarginBelow:n=!0,className:s="",showOriginalPrice:a=!1}){const i=a?WH(e):YE(e),o=r||0,c=u=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u);let d=null;if(i&&o>=0){const u=i.price,h=i.promotional_price;let f,p,g;a?(f=h||u,p=f,g=0):(f=h||u,g=f*o/100,p=f+g);let m=null;if(a&&e){if(typeof e=="object"){const w=e.old_price?parseFloat(e.old_price):null;m=w&&w>u?w:null}else if(typeof e=="string")try{const w=JSON.parse(e),k=w.old_price?parseFloat(w.old_price):null;m=k&&k>u?k:null}catch{}}let v=null,x=0,y=!1;if(a)h?(v=u,y=!0,x=Math.round((u-h)/u*100)):m&&(v=m,y=!0,x=Math.round((m-u)/m*100));else if(h){const w=u*o/100,k=u+w;v=k,y=!0,x=Math.round((k-p)/k*100)}d={originalPrice:v,promotionalPrice:y?f:void 0,finalPrice:f,marginValue:g,priceWithCommission:p,discountPercentage:x}}return d?t==="inline"?l.jsxs("div",{className:s,children:[" ",l.jsxs("div",{className:"flex flex-col items-start",children:[(a||d.promotionalPrice)&&d.originalPrice&&l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:c(d.originalPrice)})," ",l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:c(d.priceWithCommission)}),(a||d.promotionalPrice)&&d.discountPercentage>0&&l.jsxs("span",{className:"text-success-600 text-xs font-medium dark:text-success-500",children:[d.discountPercentage,"%"," ","OFF"]})]})]}),n&&l.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Margem: ",c(d.marginValue)]})]}):l.jsxs("div",{className:`p-3 bg-gray-50 dark:bg-gray-800 rounded-lg ${s}`,children:[l.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Simulação de Preço com Comissão"}),l.jsxs("div",{className:"space-y-2",children:[" ",(d.promotionalPrice||a)&&d.originalPrice&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:a?"Preço anterior:":"Preço original (c/ comissão):"}),l.jsx("span",{className:"text-sm text-gray-500 line-through",children:c(d.originalPrice)}),d.discountPercentage>0&&l.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-xs rounded-full font-medium dark:bg-red-900/20 dark:text-red-400",children:[d.discountPercentage,"% OFF"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Preço do artigo:"}),l.jsx("span",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:c(d.finalPrice)})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Margem (",o,"%):"]}),l.jsxs("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:["+ ",c(d.marginValue)]})]}),l.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-2"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Preço final:"}),l.jsx("span",{className:"text-base font-bold text-brand-600 dark:text-brand-400",children:c(d.priceWithCommission)})]})]})]}):null}function WH(r){if(!r)return null;if(typeof r=="string")try{const e=JSON.parse(r);return WH(e)}catch{return null}if(typeof r=="object"){const e=r.price?Au(r.price):0,t=r.promotional_price?Au(r.promotional_price):void 0,n=r.old_price?Au(r.old_price):void 0,s=r.old_promotional_price?Au(r.old_promotional_price):void 0,a=n&&n>e?n:void 0,i=s&&t&&s>t?s:void 0;return{price:e,promotional_price:t&&!isNaN(t)?t:void 0,old_price:a&&!isNaN(a)?a:void 0,old_promotional_price:i&&!isNaN(i)?i:void 0}}return null}function Au(r){if(!r)return 0;let e=String(r);if(e=e.replace(/[R$\s"\\]/g,""),e.includes(",")&&e.includes("."))e=e.replace(/\./g,"").replace(",",".");else if(e.includes(","))e=e.replace(",",".");else if(e.includes(".")){const n=e.split(".");n.length===2&&n[1].length<=2||(e=e.replace(/\./g,""))}const t=parseFloat(e);return isNaN(t)?0:t}function YE(r){if(!r)return null;if(typeof r=="string")try{const e=JSON.parse(r);return YE(e)}catch{const e=Au(r);return!isNaN(e)&&e>0?{price:e,promotional_price:void 0}:null}if(typeof r=="object"){const e=r.old_price||r.price,t=r.old_promotional_price||r.promotional_price,n=Au(e),s=t?Au(t):void 0;return isNaN(n)?null:{price:n,promotional_price:s&&!isNaN(s)?s:void 0}}return null}function S1e(r,e,t=!1){const n=YE(e);if(!n||!r||r<=0)return null;const s=n.price,a=n.promotional_price,i=a||s,o=i*r/100,c=i+o,d=s*r/100,u=s+d,h=t||!!a,f=t?s:u,p=h?Math.round((f-(t?i:c))/f*100):0;return{originalPrice:f,promotionalPrice:h?t?i:a:void 0,finalPrice:i,marginValue:o,priceWithCommission:c,discountPercentage:p,hasDiscount:h,formatCurrency:g=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(g)}}function N1e({value:r,onChange:e,error:t,onErrorClear:n,productData:s}){const a=c=>{const d=Math.min(1e3,Math.max(0,parseFloat(c.target.value)||0));e(d.toString()),t&&n&&n()},i=parseFloat(r)||0,o=S1e(i,s);return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(st,{type:"number",value:r||"",onChange:a,min:"0",max:"1000",step:.01,placeholder:"0.00",error:!!t,hint:t}),l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"%"})]}),o&&l.jsxs("div",{className:"flex flex-col ml-[205px]",children:[o.promotionalPrice&&l.jsx("div",{className:"text-xs text-gray-500 line-through mb-1",children:o.formatCurrency(o.originalPrice)}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:o.formatCurrency(o.priceWithCommission)}),o.promotionalPrice&&l.jsxs("span",{className:"text-green-600 text-xs font-medium dark:text-green-400",children:[o.discountPercentage,"% OFF"]})]})]})]}),o&&l.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Margem: ",o.formatCurrency(o.marginValue)]})]})}function E1e({value:r,onChange:e,error:t,onErrorClear:n}){const[s,a]=b.useState(""),[i,o]=b.useState(""),[c,d]=b.useState(null),[u,h]=b.useState(!1),[f,p]=b.useState(""),[g,m]=b.useState("");b.useEffect(()=>{try{let S={};try{S=typeof r=="string"?JSON.parse(r||"{}"):r||{}}catch{console.log("Failed to parse JSON in BrandField, using empty object:",r),S={}}a(S.name||""),o(S.logo||""),S.logo&&v(S.logo)}catch(S){console.error("Error parsing brand value:",S),a(""),o("")}},[r]);const v=async S=>{if(S)try{const{data:N}=G.storage.from("brand_logos").getPublicUrl(S);N!=null&&N.publicUrl&&m(N.publicUrl)}catch(N){console.error("Error generating preview URL:",N)}},x=S=>{const N=S.target.value;a(N),k(N,i),t&&n&&n()},y=S=>{var R;const N=(R=S.target.files)==null?void 0:R[0];if(!N)return;if(!N.type.startsWith("image/png")&&!N.type.startsWith("image/jpeg")){p("O arquivo deve ser uma imagem PNG ou JPG");return}if(N.size>2*1024*1024){p("A imagem deve ter menos de 2MB");return}const A=new Image,E=URL.createObjectURL(N);A.onload=()=>{if(A.width!==A.height){p("A imagem deve ser quadrada (mesma largura e altura)"),URL.revokeObjectURL(E);return}if(A.width>512||A.height>512){p("A imagem deve ter no máximo 512x512 pixels"),URL.revokeObjectURL(E);return}d(N),m(E),p(""),t&&n&&n()},A.onerror=()=>{p("Erro ao carregar a imagem"),URL.revokeObjectURL(E)},A.src=E},w=async()=>{if(c)try{h(!0),p("");const S=c.name.split(".").pop(),A=`${`${Date.now()}-${Math.random().toString(36).substring(2,15)}.${S}`}`,{error:E}=await G.storage.from("brand_logos").upload(A,c);if(E)throw E;o(A),k(s,A)}catch(S){console.error("Error uploading logo:",S),p(S.message||"Erro ao fazer upload do logo")}finally{h(!1)}},k=(S,N)=>{e(JSON.stringify({name:S,logo:N}))};return l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("input",{type:"file",accept:"image/png,image/jpeg",onChange:y,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-brand-50 file:text-brand-700 hover:file:bg-brand-100 dark:text-gray-400"}),l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG ou JPG, máximo 512x512px, 2MB"}),c&&l.jsx(nt,{onClick:w,disabled:u,size:"sm",children:u?"Enviando...":"Enviar Logo"})]}),g&&l.jsx("div",{className:"flex items-center justify-center p-2 bg-gray-50 dark:bg-gray-800 rounded-lg",children:l.jsx("img",{src:g,alt:"Logo Preview",className:"max-w-[80px] max-h-[80px] object-contain"})}),f&&l.jsx("p",{className:"text-sm text-error-500",children:f})]}),l.jsx("div",{children:l.jsx(st,{type:"text",value:s,onChange:x,placeholder:"Digite o nome da marca"})}),t&&l.jsx("div",{className:"col-span-2",children:l.jsx("p",{className:"text-sm text-error-500",children:t})})]})}function _1e({field:r,settings:e,error:t}){const n=e!=null&&e.custom_button_text&&(e!=null&&e.button_text)?e.button_text:r.label||"Comprar",a=((e==null?void 0:e.button_style)||"primary")==="primary"?"inline-flex items-center gap-2 px-4 py-3 text-sm font-medium text-white transition rounded-lg bg-brand-500 shadow-theme-xs hover:bg-brand-600":"inline-flex items-center gap-2 rounded-lg bg-white px-4 py-3 text-sm font-medium text-gray-700 shadow-theme-xs ring-1 ring-gray-300 transition hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-white/[0.03]";return l.jsxs("div",{children:[l.jsxs("button",{type:"button",className:a,children:[l.jsx(M0,{className:"w-5 h-5"}),n]}),t&&l.jsx("p",{className:"mt-1.5 text-xs text-error-500",children:t})]})}function rl(r){return Array.isArray(r)?r.map(t=>{if(typeof t=="string")try{const n=JSON.parse(t);return rl([n])[0]}catch{return{text:t,icon:void 0}}if(t&&typeof t=="object"){if(t.niche&&typeof t.niche=="string")if(t.niche.startsWith("{")&&t.niche.includes("text"))try{const i=JSON.parse(t.niche);return{text:i.text||"",icon:i.icon}}catch{return{text:t.niche,icon:void 0}}else return{text:t.niche,icon:void 0};if(typeof t.text=="string"&&t.text.startsWith("{"))try{const i=JSON.parse(t.text);return rl([i])[0]}catch{return{text:t.text||"",icon:t.icon}}const n=t.text||t.niche||"",s=t.icon;return{text:n,icon:s}}return{text:"",icon:void 0}}):[]}function j1e(r){return rl(r).filter(t=>t.text&&t.text.trim()!=="")}async function qH(r){const{data:e,error:t}=await G.from("form_field_niche").select("*").eq("form_field_id",r).maybeSingle();return t?null:e}async function A1e(r){const{data:e,error:t}=await G.from("form_field_niche").insert([r]).select().single();return t?null:e}async function T1e(r,e){try{const{data:t,error:n}=await G.from("form_field_niche").select("id, options").eq("form_field_id",r).limit(1);if(console.log("[updateFormFieldNiche] Encontrado:",t),n)throw console.error("Erro ao buscar form_field_niche:",n),n;if(t&&t.length>0){console.log("[updateFormFieldNiche] Fazendo update para id:",t[0].id,"com",e),console.log("[updateFormFieldNiche] Updates options detail:",e.options),Array.isArray(e.options)&&e.options.forEach((s,a)=>{console.log(`[updateFormFieldNiche] Update option ${a}:`,s),typeof s=="object"&&s.icon&&console.log(`[updateFormFieldNiche] Icon found in update option ${a}:`,s.icon)});try{const{data:s,error:a}=await G.from("form_field_niche").update(e).eq("id",t[0].id).select().single();if(a)throw console.error("Erro ao atualizar form_field_niche:",a),a;return console.log("[updateFormFieldNiche] Update result:",s),s}catch(s){throw console.error("[updateFormFieldNiche] CATCH update:",s),s}}return console.log("[updateFormFieldNiche] Nenhum registro encontrado para update, retornando null"),null}catch(t){throw console.error("Erro inesperado no updateFormFieldNiche:",t),t}}function P1e({value:r,field:e,error:t,onChange:n}){const[s,a]=b.useState([]),[i,o]=b.useState([]);b.useEffect(()=>{async function f(){if(!(e!=null&&e.id))return;console.log("[NicheField] Fetching options for field:",e.id);const p=await qH(e.id);if(p&&p.options){console.log("[NicheField] Raw options from DB:",p.options);const g=rl(p.options);console.log("[NicheField] Parsed options:",g),a(g)}else console.log("[NicheField] No options found"),a([])}f()},[e==null?void 0:e.id]),b.useEffect(()=>{if(s.length===0)return;console.log("[NicheField] Checking for orphaned selected niches"),console.log("[NicheField] Available options:",s.map(g=>g.text)),console.log("[NicheField] Current selected niches:",i.map(g=>g.niche));const f=s.map(g=>g.text),p=i.filter(g=>f.includes(g.niche));p.length!==i.length&&(console.log("[NicheField] Found orphaned niches, cleaning up"),console.log("[NicheField] Removed niches:",i.filter(g=>!f.includes(g.niche)).map(g=>g.niche)),console.log("[NicheField] New selected niches:",p),o(p),n(p))},[s,i,n]);const c=(f,p)=>{console.log(`[NicheField] handleNicheSelect - niche: ${f}, checked: ${p}`),console.log("[NicheField] handleNicheSelect - current selectedNiches:",i);let g=[...i];p?g.find(m=>m.niche===f)||(g.push({niche:f,price:""}),console.log(`[NicheField] handleNicheSelect - Added niche: ${f}`)):(g=g.filter(m=>m.niche!==f),console.log(`[NicheField] handleNicheSelect - Removed niche: ${f}`)),console.log("[NicheField] handleNicheSelect - new selectedNiches:",g),o(g),n(g),console.log("[NicheField] handleNicheSelect - Called onChange with:",g)},d=(f,p)=>{console.log(`[NicheField] handlePriceChange - niche: ${f}, price: ${p}`),console.log("[NicheField] handlePriceChange - current selectedNiches:",i);const g=i.map(m=>m.niche===f?{...m,price:p}:m);console.log("[NicheField] handlePriceChange - new selectedNiches:",g),o(g),n(g),console.log("[NicheField] handlePriceChange - Called onChange with:",g)};let u=r;if(console.log("[NicheField] Initial value received:",r),console.log("[NicheField] Value type:",typeof r),typeof u=="string")try{u=JSON.parse(u),console.log("[NicheField] Parsed string to:",u)}catch{console.log("[NicheField] Failed to parse string, treating as array"),u=[]}let h=[];return Array.isArray(u)?(console.log("[NicheField] Processing array value:",u),h=u.map(f=>{if(console.log("[NicheField] Processing item:",f),typeof f=="string")return{niche:f,price:""};if(typeof f=="object"&&f!==null){if(f.niche&&typeof f.niche=="string")if(f.niche.startsWith("{")&&f.niche.includes("text"))try{const p=JSON.parse(f.niche);return console.log("[NicheField] Parsed niche JSON:",p),{niche:p.text||f.niche,price:f.price||""}}catch{return console.log("[NicheField] Failed to parse niche JSON"),{niche:f.niche,price:f.price||""}}else return{niche:f.niche,price:f.price||""};return f.text?{niche:f.text,price:f.price||""}:"price"in f?f:{...f,price:""}}return{niche:"",price:""}}).filter(f=>f.niche&&f.niche.trim()!=="")):typeof u=="object"&&u!==null&&(console.log("[NicheField] Processing single object:",u),(u.niche||u.text)&&(h=[{niche:u.text||u.niche||"",price:u.price||""}])),console.log("[NicheField] Final safe initial value:",h),b.useEffect(()=>{console.log("[NicheField] useEffect - safeInitialValue:",h),console.log("[NicheField] useEffect - current selectedNiches:",i),Array.isArray(h)&&h.length>0?(o(h),console.log("[NicheField] useEffect - Set selectedNiches to:",h)):(o([]),console.log("[NicheField] useEffect - Reset selectedNiches to empty array"))},[r]),l.jsxs("div",{children:[l.jsx("div",{className:"flex gap-4",children:l.jsx("div",{className:"flex-1",children:l.jsxs("table",{className:"w-full border-separate border-spacing-y-2",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left text-sm font-semibold text-gray-700 dark:text-gray-400 pb-1",children:"Nichos"}),l.jsx("th",{className:"text-left text-sm font-semibold text-gray-700 dark:text-gray-400 pb-1",children:"Preço"})]})}),l.jsx("tbody",{children:s.length>0?s.map(f=>{var m;const p=i.some(v=>v.niche===f.text),g=((m=i.find(v=>v.niche===f.text))==null?void 0:m.price)||"";return l.jsxs("tr",{children:[l.jsx("td",{className:"align-middle",children:l.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-primary-500 border-gray-300 dark:border-gray-600 focus:ring-primary-500",value:f.text,checked:p,onChange:v=>c(f.text,v.target.checked)}),l.jsx("span",{children:f.text})]})}),l.jsx("td",{className:"align-middle",children:l.jsx("div",{className:"relative",children:l.jsx("input",{type:"text",className:`w-full min-w-[120px] max-w-[180px] border rounded px-3 py-2 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors ${p?"":"opacity-50 cursor-not-allowed"}`,inputMode:"decimal",placeholder:"R$ 0,00",value:g,disabled:!p,onChange:v=>{if(!p)return;let x=v.target.value.replace(/\D/g,"");x||(x="0");const y=(Number(x)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});d(f.text,y)}})})})]},f.text)}):l.jsx("tr",{children:l.jsx("td",{colSpan:2,className:"text-gray-400",children:"Nenhum nicho cadastrado"})})})]})})}),t&&l.jsx("p",{className:"mt-1.5 text-xs text-error-500 dark:text-error-400",children:t})]})}function L1e(){return{mapCsvData:(e,t)=>{const n={url:[],da:[],preco:[]};return Object.entries(t).forEach(([s,a])=>{if(!a)return;const i=e.headers.indexOf(a);if(i===-1)return;const o=e.rows.map(c=>c[i]||"");s in n&&(n[s]=o)}),n}}}class D1e{static async createFormEntry(e,t){try{console.log("📝 [FormEntryService] Criando form_entry para formId:",e);const{data:n,error:s}=await G.from("form_entries").insert([{form_id:e,ip_address:null,user_agent:navigator.userAgent,created_by:t||null,status:"em_analise"}]).select().single();if(s)throw console.error("❌ [FormEntryService] Erro ao criar form_entry:",s),new Error("Erro ao criar entrada do formulário. Tente novamente.");if(!n)throw new Error("Falha ao criar entrada. Tente novamente.");return console.log("✅ [FormEntryService] Form_entry criado com sucesso:",n.id),n}catch(n){throw console.error("❌ [FormEntryService] Erro no createFormEntry:",n),n}}}class M1e{static async insertEntryValues(e){try{console.log("📦 [FormEntryValueService] Inserindo",e.length,"valores"),console.log("🔍 [FormEntryValueService] Primeiros 3 valores:",e.slice(0,3));const{error:t}=await G.from("form_entry_values").insert(e);if(t)throw console.error("❌ [FormEntryValueService] Erro ao inserir valores:",t),new Error("Erro ao salvar dados do formulário. Tente novamente.");console.log("✅ [FormEntryValueService] Valores inseridos com sucesso!")}catch(t){throw console.error("❌ [FormEntryValueService] Erro no insertEntryValues:",t),t}}}const As=[];for(let r=0;r<256;++r)As.push((r+256).toString(16).slice(1));function R1e(r,e=0){return(As[r[e+0]]+As[r[e+1]]+As[r[e+2]]+As[r[e+3]]+"-"+As[r[e+4]]+As[r[e+5]]+"-"+As[r[e+6]]+As[r[e+7]]+"-"+As[r[e+8]]+As[r[e+9]]+"-"+As[r[e+10]]+As[r[e+11]]+As[r[e+12]]+As[r[e+13]]+As[r[e+14]]+As[r[e+15]]).toLowerCase()}let O4;const I1e=new Uint8Array(16);function O1e(){if(!O4){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");O4=crypto.getRandomValues.bind(crypto)}return O4(I1e)}const F1e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),nT={randomUUID:F1e};function kp(r,e,t){var s;if(nT.randomUUID&&!r)return nT.randomUUID();r=r||{};const n=r.random??((s=r.rng)==null?void 0:s.call(r))??O1e();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,R1e(n)}class B1e{static formatUrl(e){if(!e||typeof e!="string")return e;let t=e.trim();return t?(/^https?:\/\//i.test(t)||(t=`https://${t}`),/^https?:\/\/www\./i.test(t)||(t=t.replace(/^(https?:\/\/)/i,"$1www.")),console.log(`🔗 [UrlValidationService] URL formatada: ${e} → ${t}`),t):e}static isValidUrl(e){try{return new URL(e),!0}catch{return!1}}static formatUrlList(e){return e.map(t=>this.formatUrl(t))}}class z1e{static async processCSVData(e,t){var h,f,p,g,m,v;console.log("🔄 [CsvDataProcessor] Processando dados CSV com campos completos");const{data:n,error:s}=await G.from("form_fields").select("*").eq("form_id",t).order("position");if(s||!n)throw new Error(`Erro ao buscar campos do formulário: ${s==null?void 0:s.message}`);console.log("📋 [CsvDataProcessor] Campos do formulário encontrados:",n.length);const a=n.find(x=>{var y,w;return x.field_type==="url"||((y=x.label)==null?void 0:y.toLowerCase().includes("url"))||((w=x.label)==null?void 0:w.toLowerCase().includes("site"))}),i=n.find(x=>{var y,w,k;return((y=x.label)==null?void 0:y.toLowerCase().includes("da"))||((w=x.label)==null?void 0:w.toLowerCase().includes("domain authority"))||x.field_type==="number"&&((k=x.label)==null?void 0:k.toLowerCase().includes("da"))}),o=n.find(x=>{var y,w,k;return x.field_type==="product"||((y=x.label)==null?void 0:y.toLowerCase().includes("preço"))||((w=x.label)==null?void 0:w.toLowerCase().includes("preco"))||((k=x.label)==null?void 0:k.toLowerCase().includes("price"))});console.log("🎯 [CsvDataProcessor] Campos mapeados:",{url:a==null?void 0:a.label,da:i==null?void 0:i.label,preco:o==null?void 0:o.label});const c=Math.max(((h=e.url)==null?void 0:h.length)||0,((f=e.da)==null?void 0:f.length)||0,((p=e.preco)==null?void 0:p.length)||0);if(console.log("📊 [CsvDataProcessor] Quantidade de registros:",c),c===0)throw new Error("Nenhum dado para importar");const d=[],u=[];for(let x=0;x<c;x++){const y=kp();u.push(y),console.log(`📝 [CsvDataProcessor] Processando registro ${x+1}/${c} - entryId: ${y}`);for(const w of n){let k=null,S=null;if(w.id===(a==null?void 0:a.id)&&((g=e.url)!=null&&g[x]))k=B1e.formatUrl(e.url[x]),console.log(`🔗 [CsvDataProcessor] URL formatada: ${e.url[x]} → ${k}`);else if(w.id===(i==null?void 0:i.id)&&((m=e.da)!=null&&m[x]))k=e.da[x],console.log(`📊 [CsvDataProcessor] DA: ${k}`);else if(w.id===(o==null?void 0:o.id)&&((v=e.preco)!=null&&v[x])){const N=e.preco[x];S={price:N,old_price:N,promotional_price:"0",old_promotional_price:"0"},console.log(`💰 [CsvDataProcessor] Preço: ${N}, Preço promocional: 0`)}else k=null,S=null;d.push({entry_id:y,field_id:w.id,value:k,value_json:S})}}return console.log("📦 [CsvDataProcessor] Resumo:"),console.log(`   - Registros processados: ${c}`),console.log(`   - Campos por registro: ${n.length}`),console.log(`   - Total FormEntryValue: ${d.length}`),console.log("   - Campos preenchidos apenas com dados do CSV (URL, DA, Preço)"),console.log("   - Demais campos ficam vazios/null para preenchimento posterior"),{entryValues:d,entryIds:u}}}class H1e{static async importCsvData(e){var t,n,s;try{if(console.log("🚀 [CsvImportOrchestrator] Iniciando importação CSV"),console.log("📥 [CsvImportOrchestrator] csvData:",e.csvData),console.log("📋 [CsvImportOrchestrator] formFields:",e.formFields),Math.max(((t=e.csvData.url)==null?void 0:t.length)||0,((n=e.csvData.da)==null?void 0:n.length)||0,((s=e.csvData.preco)==null?void 0:s.length)||0)===0)return{success:!1,error:"Nenhum dado para importar"};const{entryValues:i,entryIds:o}=await z1e.processCSVData(e.csvData,e.formId);console.log("📝 [CsvImportOrchestrator] Criando form_entries...");const c=[];for(const d of o)try{const u=await D1e.createFormEntry(e.formId,e.userId);c.push(u.id),i.forEach(h=>{h.entry_id===d&&(h.entry_id=u.id)})}catch(u){throw console.error(`❌ [CsvImportOrchestrator] Erro ao criar entry ${d}:`,u),u}return console.log("💾 [CsvImportOrchestrator] Inserindo form_entry_values..."),await M1e.insertEntryValues(i),console.log("✅ [CsvImportOrchestrator] Importação concluída com sucesso!"),{success:!0,entries:c}}catch(a){return console.error("❌ [CsvImportOrchestrator] Erro na importação:",a),{success:!1,error:a.message}}}}function U1e(){const[r,e]=b.useState(!1),[t,n]=b.useState(null);return{importCsvData:async a=>{e(!0),n(null);try{console.log("🎯 [useCsvImport] Iniciando importação com request:",a);const i=await H1e.importCsvData(a);return i.success?(console.log("✅ [useCsvImport] Importação bem-sucedida!"),i.entries||[]):(n(i.error||"Erro desconhecido"),null)}catch(i){return console.error("❌ [useCsvImport] Erro no hook:",i),n(i.message),null}finally{e(!1)}},loading:r,error:t,clearError:()=>n(null)}}const $1e=[{key:"url",label:"URL do Site"},{key:"da",label:"DA"},{key:"preco",label:"Preço"}],V1e=({csvData:r,mapping:e,onMappingChange:t,formFields:n=[],formId:s,userId:a,onSuccess:i,onSubmit:o})=>{const{mapCsvData:c}=L1e(),{importCsvData:d,loading:u,error:h}=U1e(),f=(m,v)=>{t({...e,[m]:v})},p=async()=>{try{const m=c(r,e);if(console.log("🔍 Dados mapeados do CSV:",m),console.log("📋 FormFields recebidos:",n),n.length>0&&s){console.log("💾 Iniciando importação para o banco...");const x=await d({csvData:m,formFields:n,formId:s,userId:a});if(x){console.log("✅ Sites importados com sucesso! Entry IDs:",x),Tn("CSV importado com sucesso!","success"),i&&i();return}else{console.log("❌ Falha na importação para o banco"),Tn("Erro ao importar CSV. Tente novamente.","error");return}}else console.log("⚠️ Nenhum formField ou formId fornecido, usando callback fallback"),Tn("CSV importado com sucesso!","success"),i&&i();o&&o(m)}catch(m){console.error("❌ Erro inesperado no CSV Import:",m),Tn("Erro inesperado ao processar CSV. Tente novamente.","error")}},g=[{value:"",label:"Selecione a coluna..."},...r.headers.map(m=>({value:m,label:m}))];return l.jsxs("div",{className:"space-y-3",children:[$1e.map(m=>l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:m.label}),l.jsx(or,{options:g,value:e[m.key]||"",onChange:v=>f(m.key,v),placeholder:"Selecione a coluna..."})]},m.key)),h&&l.jsx("div",{className:"text-red-600 text-sm mt-2",children:h}),l.jsx("button",{type:"button",onClick:p,disabled:u,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:u?"Importando...":"Salvar"})]})},YH=({open:r,onClose:e,onCsvUpload:t,csvData:n,mapping:s,onMappingChange:a,formFields:i,formId:o,userId:c,onSuccess:d})=>{if(!r)return null;const u=h=>{var p;const f=(p=h.target.files)==null?void 0:p[0];f&&t(f)};return l.jsx("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center bg-gray-400/50 backdrop-blur-[--background-blur] dark:text-white",onMouseDown:e,children:l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg p-6 w-full max-w-lg",onMouseDown:h=>h.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Importar e Mapear CSV"}),l.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block mb-2 font-medium text-gray-700 dark:text-gray-300",children:"Upload do arquivo CSV"}),l.jsx(UF,{onChange:u})]}),l.jsx(V1e,{csvData:n,mapping:s,onMappingChange:a,formFields:i,formId:o,userId:c,onSuccess:d,onSubmit:h=>{console.log("Dados mapeados do CSV:",h),d==null||d()}})]})})};function GH(){const[r,e]=b.useState({headers:[],rows:[]}),[t,n]=b.useState(null);return{csvData:r,error:t,parseCsvColumns:a=>{n(null);const i=new FileReader;i.onload=o=>{var p;const d=((p=o.target)==null?void 0:p.result).split(/\r?\n/).filter(g=>g.trim());if(d.length===0){n("Arquivo CSV vazio.");return}const u=g=>{const m=[];let v="",x=!1,y=0;for(;y<g.length;){const w=g[y];w==='"'&&(y===0||g[y-1]===","||g[y-1]===";")?x=!0:w==='"'&&x&&(y===g.length-1||g[y+1]===","||g[y+1]===";")?x=!1:(w===","||w===";")&&!x?(m.push(v.trim()),v=""):v+=w,y++}return m.push(v.trim()),m.filter(Boolean)},h=u(d[0]);if(h.length===0){n("Não foi possível detectar colunas no CSV.");return}const f=d.slice(1).map(g=>u(g));console.log("🔍 [useCsvColumns] Headers:",h),console.log("🔍 [useCsvColumns] First row parsed:",f[0]),e({headers:h,rows:f})},i.onerror=()=>{n("Erro ao ler o arquivo CSV.")},i.readAsText(a)}}}const sT={url:"",da:"",preco:""};function W1e({onChange:r,error:e,formFields:t,formId:n,userId:s,onSuccess:a}){const[i,o]=b.useState(!1),[c,d]=b.useState(sT),{csvData:u,error:h,parseCsvColumns:f}=GH(),p=m=>{f(m),r(m),d(sT)},g=m=>{d(m)};return l.jsxs("div",{children:[l.jsx("button",{type:"button",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>o(!0),children:"Importar CSV"}),l.jsx(YH,{open:i,onClose:()=>o(!1),onCsvUpload:p,csvData:u,mapping:c,onMappingChange:g,formFields:t,formId:n,userId:s,onSuccess:()=>{o(!1),console.log("CSV importado com sucesso!"),a&&a()}}),h&&l.jsx("div",{className:"text-red-500 text-sm mt-2",children:h}),e&&l.jsx("div",{className:"text-red-500 text-sm mt-2",children:e})]})}const H2=Object.freeze(Object.defineProperty({__proto__:null,ApiField:p1e,BrandField:E1e,BrazilianStatesField:y1e,ButtonBuyField:_1e,CheckboxField:a1e,CommissionField:N1e,CountryField:v1e,DateField:m1e,EmailField:i1e,FileField:d1e,HtmlField:g1e,ImportCsvField:W1e,MultiSelectField:n1e,NicheField:P1e,PhoneField:w1e,ProductField:C1e,RadioField:s1e,SectionField:c1e,SelectField:r1e,TextAreaField:t1e,TextField:e1e,TimeField:x1e,ToggleField:l1e,UrlField:o1e},Symbol.toStringTag,{value:"Module"})),q1e=H2;function XH({formId:r}){const e=Sr(),[t,n]=b.useState(!0),[s,a]=b.useState(""),[i,o]=b.useState(!1),[c,d]=b.useState(null),[u,h]=b.useState([]),[f,p]=b.useState({}),[g,m]=b.useState(!1),[v,x]=b.useState({}),[y,w]=b.useState({}),[k,S]=b.useState(null),[N,A]=b.useState(!1);b.useEffect(()=>{O(),E(),R()},[r]);async function E(){try{const{data:{user:B}}=await G.auth.getUser();B&&(S(B),console.log(k))}catch(B){console.error("Error getting current user:",B)}}async function R(){try{const{data:{user:B}}=await G.auth.getUser();if(!B)return;const{data:z}=await G.from("admins").select("id").eq("id",B.id).maybeSingle();A(!!z)}catch(B){console.error("Error checking user role:",B)}}async function O(){try{n(!0),a("");const{data:B,error:z}=await G.from("forms").select("*").eq("id",r).single();if(z)throw z;if(!B){m(!0);return}d(B);const{data:V,error:W}=await G.from("form_fields").select(`
          *,
          form_field_settings (*)
        `).eq("form_id",r).order("position",{ascending:!0});if(W)throw W;const Z={};V.forEach(q=>{q.form_field_settings&&(Z[q.id]=q.form_field_settings)}),w(Z),h(V||[])}catch(B){console.error("Error loading form:",B),a("Error loading form")}finally{n(!1)}}const L=(B,z)=>{var W,Z,q,Q;const V=y[B.id];if(B.is_required&&(z==null||z===""))return"This field is required";if(!z)return null;switch(B.field_type){case"email":if(!z.includes("@"))return"Please enter a valid email address with @";break;case"url":try{new URL(z);const K=(W=B.validation_rules)==null?void 0:W.type,re=(Z=B.validation_rules)==null?void 0:Z.pattern;if(K==="url"&&re&&!new RegExp(re).test(z))return"URL must start with http:// or https://"}catch{return"Please enter a valid URL"}break;case"multiselect":case"checkbox":if(V!=null&&V.max_selections&&Array.isArray(z)&&z.length>V.max_selections)return`You can select up to ${V.max_selections} options`;break;case"file":if(!Array.isArray(z))return null;const T=(V==null?void 0:V.max_files)||1,H=((V==null?void 0:V.max_file_size)||5)*1024*1024,$=((q=V==null?void 0:V.allowed_extensions)==null?void 0:q.split(",").map(K=>K.trim().toLowerCase()))||[];if(z.length>T)return`You can upload up to ${T} file${T>1?"s":""}`;for(const K of z){if(K.size>H)return`File size must be less than ${V==null?void 0:V.max_file_size}MB`;if($.length>0){const re=(Q=K.name.split(".").pop())==null?void 0:Q.toLowerCase();if(re&&!$.includes(re))return`Only ${$.join(", ")} files are allowed`}}break;case"commission":const Y=parseFloat(z);if(isNaN(Y)||Y<0||Y>1e3)return"Commission must be between 0 and 1000";break}return null},D=async B=>{B.preventDefault();try{x({});const z={};if(u.forEach(T=>{const H=L(T,f[T.id]);H&&(z[T.id]=H)}),Object.keys(z).length>0){x(z);return}n(!0),a(""),o(!1);const{data:{user:V}}=await G.auth.getUser(),{data:W,error:Z}=await G.from("form_entries").insert([{form_id:r,ip_address:null,user_agent:navigator.userAgent,created_by:(V==null?void 0:V.id)||null,status:"em_analise"}]).select().single();if(Z)throw console.error("Entry creation error:",Z),new Error("Error creating form entry. Please try again.");if(!W)throw new Error("Failed to create entry. Please try again.");const q=[];console.log("📤 [FormRenderer] Preparando para salvar formData:",f);for(const[T,H]of Object.entries(f)){const $=u.find(Y=>Y.id===T);if($)if(console.log(`📝 [FormRenderer] Processando campo ${$.label} (${$.field_type}):`,H),$.field_type==="product"){let Y=H;if(typeof H=="string")try{Y=JSON.parse(H),console.log(`🏷️ [FormRenderer] Campo produto (${$.label}) - JSON parseado:`,Y)}catch{console.log(`❌ [FormRenderer] Campo produto (${$.label}) - Erro no parse, mantendo string:`,H)}typeof Y=="object"&&Y!==null?(console.log(`💾 [FormRenderer] Campo produto (${$.label}) - Salvando como value_json:`,Y),q.push({entry_id:W.id,field_id:T,value:null,value_json:Y})):(console.log(`💾 [FormRenderer] Campo produto (${$.label}) - Salvando como value:`,Y),q.push({entry_id:W.id,field_id:T,value:String(Y),value_json:null}))}else if($.field_type==="niche")console.log(`🎯 [FormRenderer] Campo nicho (${$.label}) - Valor recebido:`,H,`Tipo: ${typeof H}`),Array.isArray(H)||typeof H=="object"&&H!==null?(console.log(`💾 [FormRenderer] Campo nicho (${$.label}) - Salvando como value_json:`,H),q.push({entry_id:W.id,field_id:T,value:null,value_json:H})):(console.log(`💾 [FormRenderer] Campo nicho (${$.label}) - Salvando como value:`,H),q.push({entry_id:W.id,field_id:T,value:String(H),value_json:null}));else{const Y=typeof H!="string";console.log(`💾 [FormRenderer] Campo ${$.label} - isJsonValue: ${Y}, value:`,H),q.push({entry_id:W.id,field_id:T,value:Y?null:H,value_json:Y?H:null})}}const{error:Q}=await G.from("form_entry_values").insert(q);if(Q)throw console.error("Values insertion error:",Q),new Error("Error saving form data. Please try again.");o(!0),c.redirect_page?e(`/pages/${c.redirect_page}`):p({})}catch(z){console.error("Error submitting form:",z),a(z.message||"Error submitting form")}finally{n(!1)}},F=B=>{const z=y[B.id];if((z==null?void 0:z.visibility)==="marketplace"||(z==null?void 0:z.visibility)==="hidden"||(z==null?void 0:z.visibility)==="admin"&&!N)return null;const V=`${B.width==="half"?"md:col-span-6":B.width==="third"?"md:col-span-4":B.width==="quarter"?"md:col-span-3":"col-span-12"}`,W=M(B.field_type),Z=W==="niche",q=W==="importCsv";let Q={field:B,settings:Z?z||{value:{niche:"",price:""},options:[],multiple:!1}:z,value:f[B.id],onChange:$=>{p({...f,[B.id]:$}),v[B.id]&&x(Y=>{const K={...Y};return delete K[B.id],K})},error:v[B.id],onErrorClear:()=>{v[B.id]&&x($=>{const Y={...$};return delete Y[B.id],Y})}};if(q){const $=u.map(Y=>{var K;return{id:Y.id,key:Y.field_key||((K=Y.label)==null?void 0:K.toLowerCase().replace(/\s+/g,"_")),field_key:Y.field_key,type:Y.field_type,field_type:Y.field_type,label:Y.label}});console.log("🔧 [FormRenderer] Campo import_csv detectado! FormFields gerados:",$),Q={...Q,formFields:$,formId:r,userId:k==null?void 0:k.id}}const T=()=>B.field_type==="section"||B.field_type==="html"||(z==null?void 0:z.label_visibility)==="hidden"?null:l.jsxs(l.Fragment,{children:[l.jsxs("label",{className:"mb-2 block text-sm font-semibold text-gray-700 dark:text-gray-400",children:[B.label,B.is_required&&l.jsx("span",{className:"text-error-500 ml-1",children:"*"})]}),B.description&&B.field_type!=="toggle"&&l.jsx("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:B.description})]}),H=q1e[`${W.charAt(0).toUpperCase()+W.slice(1)}Field`];return H?l.jsxs("div",{className:V,children:[T(),l.jsx(H,{...Q})]},B.id):(console.error(`No component found for field type: ${B.field_type} (mapped to ${W})`),null)},M=B=>["moz_da","semrush_as","ahrefs_dr","ahrefs_traffic","similarweb_traffic","google_traffic"].includes(B)?"api":B==="commission"?"commission":B==="brazilian_states"?"brazilianStates":B==="brand"?"brand":B==="button_buy"?"buttonBuy":B==="multiselect"?"multiSelect":B==="niche"?"niche":B==="import_csv"?"importCsv":B;return t?l.jsx(Qxe,{}):g?l.jsx("div",{className:"p-4 text-center",children:l.jsx("div",{className:"inline-block p-4 bg-gray-100 dark:bg-gray-800 rounded-lg",children:l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Este formulário foi excluído"})})}):s?l.jsx("div",{className:"p-4 text-center text-error-500",children:s}):c?l.jsx("div",{className:"w-full",children:i?l.jsxs("div",{className:"p-6 text-center bg-success-50 dark:bg-success-500/15 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium text-success-600 dark:text-success-500 mb-2",children:c.success_message||"Form submitted successfully!"}),!c.redirect_page&&l.jsx("button",{onClick:()=>{o(!1),O()},className:"mt-4 px-4 py-2 text-sm font-medium text-white bg-success-600 rounded-lg hover:bg-success-700 focus:outline-none focus:ring-2 focus:ring-success-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900",children:"Submit Another Response"})]}):l.jsxs("form",{onSubmit:D,className:"space-y-6",children:[s&&l.jsx("div",{className:"p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:s}),l.jsx("div",{className:"grid grid-cols-12 gap-6",children:u.map(B=>F(B))}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",disabled:t,className:"px-4 py-2 text-sm font-medium text-white bg-brand-500 rounded-lg hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Submitting...":c.submit_button_text||"Enviar"})})]})}):l.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"Form not found"})}function Y1e(r){if(!r||r===""||r===null||r===void 0||r.toString().trim()==="")return!1;const e=parseFloat(r.toString().replace(/\./g,"").replace(",","."));return!(!isNaN(e)&&e===0)}function G1e(r){let e;return r.price===r.price&&r.promotional_price!==void 0?(console.log("Product Data:",r.promotional_price),Y1e(r.promotional_price)?e=r.promotional_price:e=r.price):e=r.price,e}function X1e(r){const e=parseFloat(r.toString());return isNaN(e)?r.toString():new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function Z1e(r){var e;try{const t=G1e(r);return X1e(t)}catch(t){return console.error("Error formatting price:",t),((e=r.price)==null?void 0:e.toString())||"-"}}function J1e(r){try{const e=typeof r=="string"?JSON.parse(r):r;return Z1e(e)}catch(e){return console.error("Error processing product value:",e),(r==null?void 0:r.toString())||"-"}}function ZH({entries:r,fields:e,urlFields:t=[],onEdit:n,onDelete:s,show:a=!0}){if(!a)return null;const[i,o]=b.useState("created_at"),[c,d]=b.useState("desc"),[u,h]=b.useState(10),[f,p]=b.useState(1),g=D=>{i===D?d(F=>F==="asc"?"desc":"asc"):(o(D),d("asc"))},m=(D,F,M)=>{var V,W,Z,q;let B,z;return M==="created_at"?(B=D.created_at,z=F.created_at):M==="publisher"?(B=((V=D.publisher)==null?void 0:V.first_name)+" "+((W=D.publisher)==null?void 0:W.last_name),z=((Z=F.publisher)==null?void 0:Z.first_name)+" "+((q=F.publisher)==null?void 0:q.last_name)):M==="status"?(B=D.status,z=F.status):(B=D.values[M],z=F.values[M]),B==null&&(B=""),z==null&&(z=""),typeof B=="string"&&typeof z=="string"?B.localeCompare(z,"pt",{sensitivity:"base"}):typeof B=="number"&&typeof z=="number"?B-z:String(B).localeCompare(String(z),"pt",{sensitivity:"base"})},v=[...r].sort((D,F)=>{const M=m(D,F,i);return c==="asc"?M:-M}),x=Math.ceil(v.length/u)||1,y=v.slice((f-1)*u,f*u);f>x&&p(x);const w=D=>new Date(D).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),k=(D,F,M)=>{if(!D)return"-";if(F==="url"||t.includes(M))return S(D);if(F==="brand")return N(D);if(F==="country"&&typeof D=="object")return R(D,M);switch(F){case"file":return Array.isArray(D)?`${D.length} arquivo(s)`:"1 arquivo";case"checkbox":case"multiselect":return Array.isArray(D)?D.join(", "):D;case"toggle":return D?"Sim":"Não";case"product":return J1e(D);case"commission":const B=parseFloat(D);return isNaN(B)?D:`${B}%`;case"brazilian_states":if(typeof D=="object"){const{state_name:z,city_names:V,state:W,cities:Z}=D;return Array.isArray(V)&&V.length>0?l.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-theme-sm",children:[z," - ",V.join(", ")]}):Array.isArray(Z)&&Z.length>0?l.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-theme-sm",children:[z," - ",Z.join(", ")]}):l.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-theme-sm",children:z||W||"-"})}return D.toString();default:return D.toString()}},S=D=>{if(!D)return"-";let F=D;return F=F.replace(/^https?:\/\//,""),F=F.replace(/\/$/,""),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:Vl(D),alt:"Site icon",width:"20",height:"20",className:"flex-shrink-0",onError:M=>{M.target.style.display="none"}}),l.jsx("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-gray-800 text-theme-sm dark:text-white/90 hover:underline whitespace-nowrap",children:F})]})},N=D=>{try{const F=typeof D=="string"?JSON.parse(D):D;if(!F||!F.name)return"-";if(!F.logo)return F.name;const M=A(F.logo);return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:M,alt:`${F.name} logo`,className:"w-8 h-8 object-contain",onError:B=>{B.target.style.display="none"}}),l.jsx("span",{className:"text-gray-800 dark:text-white/90 font-medium",children:F.name})]})}catch(F){return console.error("Error rendering brand:",F),(D==null?void 0:D.toString())||"-"}},A=D=>{if(!D)return"";try{const{data:F}=G.storage.from("brand_logos").getPublicUrl(D);return(F==null?void 0:F.publicUrl)||""}catch(F){return console.error("Error getting brand logo URL:",F),""}},E=D=>{const F=e.find(M=>M.id===D);return F?F.form_field_settings:null},R=(D,F)=>{if(!D||Object.keys(D).length===0)return"-";const M=E(F),B=(M==null?void 0:M.show_percentage)===!0;return l.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(D).map(([z,V])=>l.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 dark:bg-gray-800 rounded px-2 py-1",children:[l.jsx("img",{src:Hp(z),alt:z,width:"20",height:"20",className:`rounded-full ${z==="ROW"?"dark:invert":""}`,onError:W=>{W.target.style.display="none"}}),B?l.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-xs font-medium",children:z}):V?l.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:["(",V,"%)"]}):null]},z))})},O=e.filter(D=>{const F=D.form_field_settings;return!F||F.visibility!=="admin"}),L=({show:D})=>D?l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"w-2 h-1.5 fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"w-2 h-1.5 fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]}):null;return l.jsxs("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:[l.jsx("div",{className:"flex items-center justify-between px-4 py-4 border-b border-gray-100 dark:border-white/[0.05] rounded-t-xl",children:l.jsx(WE,{itemsPerPage:u,onItemsPerPageChange:D=>{h(D),p(1)},itemLabel:"registros"})}),l.jsx("div",{className:"max-w-full overflow-x-auto",children:l.jsx("div",{className:"min-w-[1102px]",children:l.jsxs(To,{children:[l.jsx(Po,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:l.jsxs(Mr,{children:[l.jsx("th",{className:"h-12 relative px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-white/10 transition",onClick:()=>g("created_at"),children:l.jsxs("span",{className:"flex items-center",children:["Data",l.jsx(L,{show:i==="created_at"})]})})}),O.map(D=>l.jsx("th",{className:"h-12 relative px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-white/10 transition",onClick:()=>g(D.id),children:l.jsxs("span",{className:"flex items-center",children:[D.label,l.jsx(L,{show:i===D.id})]})})},D.id)),l.jsx("th",{className:"h-12 relative px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-white/10 transition",onClick:()=>g("publisher"),children:l.jsxs("span",{className:"flex items-center",children:["Publisher",l.jsx(L,{show:i==="publisher"})]})})}),l.jsx("th",{className:"h-12 relative px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 group",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center px-5 py-3 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-white/10 transition",onClick:()=>g("status"),children:l.jsxs("span",{className:"flex items-center",children:["Status",l.jsx(L,{show:i==="status"})]})})}),l.jsx("th",{className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Ações"})]})}),l.jsxs(Lo,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:[y.map(D=>l.jsxs(Mr,{className:"hover:bg-gray-50 dark:hover:bg-white/10 transition",children:[l.jsx("td",{className:"px-5 py-4 sm:px-6 text-start whitespace-nowrap",children:l.jsx("span",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:w(D.created_at)})}),O.map(F=>l.jsx("td",{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400 whitespace-nowrap",children:k(D.values[F.id],F.field_type,F.id)},F.id)),l.jsx("td",{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400 whitespace-nowrap",children:D.publisher?l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium",children:[D.publisher.first_name," "," ",D.publisher.last_name]}),l.jsx("div",{className:"text-xs",children:D.publisher.email})]}):"-"}),l.jsx("td",{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400 whitespace-nowrap",children:l.jsx(Dt,{color:D.status==="verificado"?"success":D.status==="reprovado"?"error":"warning",children:D.status==="verificado"?"Verificado":D.status==="reprovado"?"Reprovado":"Em Análise"})}),l.jsx("td",{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400 whitespace-nowrap",children:l.jsxs("div",{className:"flex gap-2",children:[n&&l.jsx("button",{onClick:()=>n(D),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Editar",children:l.jsx(Ao,{className:"w-5 h-5"})}),s&&l.jsx("button",{onClick:()=>{confirm("Tem certeza que deseja excluir este registro?")&&s(D.id)},className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",title:"Excluir",children:l.jsx(Fa,{className:"w-5 h-5"})})]})})]},D.id)),y.length===0&&l.jsx(Mr,{children:l.jsx("td",{colSpan:O.length+4,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"Nenhum registro encontrado"})})]})]})})}),x>1&&l.jsxs("div",{className:"flex justify-end items-center gap-2 px-4 py-2",children:[l.jsx("button",{className:"px-2 py-1 text-sm text-gray-500 disabled:opacity-50",onClick:()=>p(D=>Math.max(1,D-1)),disabled:f===1,children:"Anterior"}),l.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Página ",f," de ",x]}),l.jsx("button",{className:"px-2 py-1 text-sm text-gray-500 disabled:opacity-50",onClick:()=>p(D=>Math.min(x,D+1)),disabled:f===x,children:"Próxima"})]})]})}function JH(){return l.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"border-b border-gray-100 dark:border-white/[0.05] p-4",children:l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 dark:bg-gray-800"})}),l.jsx("div",{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:[1,2,3].map(r=>l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"space-y-2 flex-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 dark:bg-gray-800"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 dark:bg-gray-800"})]}),l.jsx("div",{className:"h-8 bg-gray-200 rounded w-20 dark:bg-gray-800"})]})},r))})]})})}class aT{static async analyzeEntry(e,t){try{console.log("🔍 [EntryCompatibilityAnalyzer] Analisando compatibilidade do entry:",e);const{data:n,error:s}=await G.from("form_entries").select(`
          id,
          form_id,
          status,
          created_by,
          created_at,
          form_entry_values!inner(
            field_id,
            value,
            value_json
          )
        `).eq("id",e).single();if(s||!n)throw new Error(`Entry ${e} não encontrado`);const{data:a,error:i}=await G.from("form_fields").select("*").eq("form_id",t).order("position");if(i||!a)throw new Error("Erro ao buscar campos do formulário");const o=n.form_entry_values||[],c=o.map(m=>m.field_id),u=a.map(m=>m.id).filter(m=>!c.includes(m)),h=[],f=[];o.forEach(m=>{const v=a.find(x=>x.id===m.field_id);if(v){if(v.is_required&&(m.value===null||m.value===void 0||m.value==="")&&(m.value_json===null||m.value_json===void 0)&&(h.push(`Campo obrigatório ${v.label} está vazio`),f.push(`Preencher valor para o campo obrigatório ${v.label}`)),v.field_type==="product"&&m.value_json){const x=m.value_json;(!x.price||!x.old_price)&&(h.push(`Campo ${v.label} tem estrutura JSON incompleta`),f.push(`Completar estrutura JSON do campo ${v.label}`))}v.field_type==="url"&&m.value&&(m.value.startsWith("http")||(h.push(`URL ${v.label} sem protocolo HTTP`),f.push(`Adicionar https:// ao campo ${v.label}`))),v.field_type==="email"&&m.value&&!m.value.includes("@")&&(h.push(`Email ${v.label} tem formato inválido`),f.push(`Corrigir formato do email ${v.label}`))}});const p=u.filter(m=>{const v=a.find(x=>x.id===m);return v&&v.is_required});p.length>0&&p.forEach(m=>{const v=a.find(x=>x.id===m);v&&(h.push(`Campo obrigatório ${v.label} está faltando`),f.push(`Adicionar campo obrigatório ${v.label}`))}),u.length>0&&f.push(`Adicionar ${u.length} campos faltantes`);const g=u.length===0&&h.length===0;return console.log(`📊 [EntryCompatibilityAnalyzer] Entry ${e} - Compatível: ${g}`),{isComplete:g,missingFields:u.map(m=>{const v=a.find(x=>x.id===m);return(v==null?void 0:v.label)||m}),incompatibleValues:h,recommendations:f}}catch(n){throw console.error("❌ [EntryCompatibilityAnalyzer] Erro na análise:",n),n}}static async analyzeBatch(e,t){const n=[];for(const s of e)try{const a=await this.analyzeEntry(s,t);n.push(a)}catch(a){console.error(`Erro ao analisar entry ${s}:`,a),n.push({isComplete:!1,missingFields:[],incompatibleValues:[`Erro ao analisar entry ${s}`],recommendations:[`Verificar manualmente o entry ${s}`]})}return n}}class iT{static async fixEntry(e,t){try{console.log("🔧 [EntryCompatibilityFixer] Iniciando correção do entry:",e);const{data:n,error:s}=await G.from("form_fields").select("*").eq("form_id",t).order("position");if(s||!n)throw new Error("Erro ao buscar campos do formulário");const{data:a,error:i}=await G.from("form_entry_values").select("*").eq("entry_id",e);if(i)throw new Error("Erro ao buscar valores existentes");const o=(a||[]).map(h=>h.field_id),d=n.filter(h=>!o.includes(h.id)).map(h=>({entry_id:e,field_id:h.id,value:this.getDefaultValueForField(h),value_json:this.getDefaultJsonValueForField(h)})).filter(h=>h.value!==null||h.value_json!==null);if(d.length>0){const{error:h}=await G.from("form_entry_values").insert(d);if(h)throw console.error("❌ [EntryCompatibilityFixer] Erro ao inserir valores padrão:",h),h;console.log(`✅ [EntryCompatibilityFixer] Adicionados ${d.length} campos faltantes`)}const u=[];for(const h of a||[]){const f=n.find(g=>g.id===h.field_id);if(!f)continue;const p=this.correctValueForField(h,f);p&&(p.value!==h.value||JSON.stringify(p.value_json)!==JSON.stringify(h.value_json))&&u.push({id:h.id,...p})}for(const h of u){const{error:f}=await G.from("form_entry_values").update({value:h.value,value_json:h.value_json}).eq("id",h.id);f&&console.error("❌ [EntryCompatibilityFixer] Erro ao atualizar valor:",f)}return console.log(`✅ [EntryCompatibilityFixer] Entry ${e} corrigido com sucesso`),!0}catch(n){return console.error("❌ [EntryCompatibilityFixer] Erro na correção:",n),!1}}static getDefaultValueForField(e){var n;const t=e.is_required;switch(e.field_type){case"text":case"textarea":return t?"Não informado":"";case"email":return t?"email@example.com":"";case"url":return"https://www.example.com";case"number":case"commission":return"0";case"select":const s=(n=e.form_field_settings)==null?void 0:n.options;return s&&s.length>0?s[0].value||"":t?"default":"";case"da":return t?"0":"";default:return t?"Não informado":null}}static getDefaultJsonValueForField(e){switch(e.field_type){case"product":return{price:"0",old_price:"0",promotional_price:"0",old_promotional_price:"0"};case"multiselect":case"checkbox":return[];default:return null}}static correctValueForField(e,t){switch(t.field_type){case"url":if(e.value&&!e.value.startsWith("http"))return{value:`https://${e.value}`,value_json:e.value_json};break;case"product":if(e.value_json){const n=e.value_json,s={price:n.price||"0",old_price:n.old_price||n.price||"0",promotional_price:n.promotional_price||n.price||"0",old_promotional_price:n.old_promotional_price||n.price||"0"};if(JSON.stringify(s)!==JSON.stringify(n))return{value:e.value,value_json:s}}break}return null}static async fixBatch(e,t){let n=0,s=0;for(const a of e)await this.fixEntry(a,t)?n++:s++;return console.log(`📊 [EntryCompatibilityFixer] Batch concluído: ${n} sucessos, ${s} falhas`),{success:n,failed:s}}}function K1e(){const[r,e]=b.useState(!1),[t,n]=b.useState(null),[s,a]=b.useState([]);return{loading:r,error:t,analysisResults:s,analyzeEntry:async(f,p)=>{e(!0),n(null);try{const g=await aT.analyzeEntry(f,p);return a([g]),g}catch(g){return n(g.message),null}finally{e(!1)}},analyzeBatch:async(f,p)=>{e(!0),n(null);try{const g=await aT.analyzeBatch(f,p);return a(g),g}catch(g){return n(g.message),[]}finally{e(!1)}},fixEntry:async(f,p)=>{e(!0),n(null);try{return await iT.fixEntry(f,p)}catch(g){return n(g.message),!1}finally{e(!1)}},fixBatch:async(f,p)=>{e(!0),n(null);try{return await iT.fixBatch(f,p)}catch(g){return n(g.message),{success:0,failed:f.length}}finally{e(!1)}},clearError:()=>n(null),clearResults:()=>a([])}}function Q1e({entryIds:r,formId:e,onCompatibilityFixed:t}){const{loading:n,error:s,analysisResults:a,analyzeBatch:i,fixBatch:o,clearError:c}=K1e(),[d,u]=b.useState(!1),[h,f]=b.useState(!1);b.useEffect(()=>{r.length>0&&e&&i(r,e)},[r,e]);const p=async()=>{f(!0);try{const x=a.map((y,w)=>({result:y,entryId:r[w]})).filter(({result:y})=>!y.isComplete).map(({entryId:y})=>y);if(x.length>0){const y=await o(x,e);console.log(`✅ Correção concluída: ${y.success} sucessos, ${y.failed} falhas`),t&&t(),await i(r,e)}}catch(x){console.error("Erro ao corrigir entradas:",x)}finally{f(!1)}},g=a.filter(x=>!x.isComplete).length,m=a.filter(x=>x.isComplete).length;if(n)return l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),l.jsx("span",{className:"text-blue-800",children:"Analisando compatibilidade dos registros..."})]})});if(s)return l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-red-800",children:["Erro na análise: ",s]}),l.jsx("button",{onClick:c,className:"text-red-600 hover:text-red-800",children:"✕"})]})});if(a.length===0)return null;const v=g===0;return l.jsxs("div",{className:`border rounded-lg p-4 ${v?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:`font-medium ${v?"text-green-800":"text-yellow-800"}`,children:v?"✅ Todos os registros são compatíveis":"⚠️ Problemas de compatibilidade detectados"}),!v&&l.jsx("button",{onClick:p,disabled:h,className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 disabled:opacity-50",children:h?"Corrigindo...":"Corrigir Todos"})]}),l.jsxs("div",{className:`text-sm ${v?"text-green-700":"text-yellow-700"}`,children:[l.jsxs("span",{children:["✅ ",m," compatíveis"]}),g>0&&l.jsxs("span",{className:"ml-4",children:["⚠️ ",g," precisam de correção"]})]}),!v&&l.jsxs("div",{className:"mt-2",children:[l.jsx("button",{onClick:()=>u(!d),className:"text-blue-600 hover:text-blue-800 text-sm underline",children:d?"Ocultar detalhes":"Ver detalhes"}),d&&l.jsx("div",{className:"mt-3 space-y-2",children:a.map((x,y)=>!x.isComplete&&l.jsxs("div",{className:"bg-white border border-yellow-300 rounded p-3 text-sm",children:[l.jsxs("div",{className:"font-medium text-gray-800 mb-1",children:["Registro ",y+1]}),x.missingFields.length>0&&l.jsxs("div",{className:"text-orange-700 mb-1",children:[l.jsx("span",{className:"font-medium",children:"Campos faltantes:"})," ",x.missingFields.join(", ")]}),x.incompatibleValues.length>0&&l.jsxs("div",{className:"text-red-700 mb-1",children:[l.jsx("span",{className:"font-medium",children:"Valores incompatíveis:"}),l.jsx("ul",{className:"list-disc list-inside ml-2",children:x.incompatibleValues.map((w,k)=>l.jsx("li",{children:w},k))})]}),x.recommendations.length>0&&l.jsxs("div",{className:"text-blue-700",children:[l.jsx("span",{className:"font-medium",children:"Recomendações:"}),l.jsx("ul",{className:"list-disc list-inside ml-2",children:x.recommendations.map((w,k)=>l.jsx("li",{children:w},k))})]})]},y))})]})]})}function eve({formId:r}){const[e,t]=b.useState(!0),[n,s]=b.useState(""),[a,i]=b.useState([]),[o,c]=b.useState([]),[d,u]=b.useState(!1),[h,f]=b.useState(null),[p,g]=b.useState(!1),[m,v]=b.useState("No entries found"),[x,y]=b.useState([]),[w,k]=b.useState({}),[S,N]=b.useState("em_analise"),[A,E]=b.useState(""),[R,O]=b.useState({}),[L,D]=b.useState({});b.useEffect(()=>{M(),F()},[]),b.useEffect(()=>{B()},[r]),b.useEffect(()=>{h&&(N(h.status||"em_analise"),k(h.values||{}))},[h]);async function F(){try{const{data:{user:T}}=await G.auth.getUser()}catch(T){console.error("Error getting current user:",T)}}async function M(){try{const{data:{user:T}}=await G.auth.getUser();if(!T){u(!1);return}const{data:H}=await G.from("admins").select("id").eq("id",T.id).maybeSingle();u(!!H)}catch(T){console.error("Error checking user type:",T),s("Error checking permissions")}}async function B(){try{t(!0),s("");const{data:T,error:H}=await G.from("forms").select("no_data_message").eq("id",r).single();if(H)throw H;T!=null&&T.no_data_message&&v(T.no_data_message);const{data:$,error:Y}=await G.from("form_fields").select(`
          *,
          form_field_settings (*)
        `).eq("form_id",r).order("position",{ascending:!0});if(Y)throw Y;const K={};$.forEach(Se=>{Se.form_field_settings&&(K[Se.id]=Se.form_field_settings)}),O(K);const re=($||[]).filter(Se=>{const De=Se.form_field_settings;return De?!(De.visibility==="hidden"||De.visibility==="admin"&&!d||De.visibility==="marketplace"&&!d||Se.field_type==="button_buy"):!0});c(re);const oe=$.filter(Se=>Se.field_type==="url").map(Se=>Se.id);y(oe);const{data:ue,error:be}=await G.from("form_entries").select(`
          id,
          created_at,
          status,
          created_by,
          form_entry_values (
            field_id,
            value,
            value_json
          )
        `).eq("form_id",r).order("created_at",{ascending:!1});if(be)throw be;const Ce=await Promise.all((ue||[]).map(async Se=>{const De={};Se.form_entry_values.forEach(le=>{if(le.value_json!==null)De[le.field_id]=le.value_json;else try{const ut=JSON.parse(le.value);if(ut&&typeof ut=="object"&&ut.promotional_price){const rt=$.find(je=>je.id===le.field_id);rt&&rt.field_type==="product"?De[le.field_id]=ut:De[le.field_id]=ut.promotional_price}else De[le.field_id]=le.value}catch{De[le.field_id]=le.value}});const at=$.find(le=>le.field_type==="niche");at&&!(at.id in De)&&(De[at.id]=[]);let _e=null;if(Se.created_by){const{data:le,error:ut}=await G.from("platform_users").select("first_name, last_name, email").eq("id",Se.created_by).maybeSingle();if(!ut&&le)_e=le;else{const{data:rt,error:je}=await G.from("admins").select("first_name, last_name, email").eq("id",Se.created_by).maybeSingle();!je&&rt&&(_e=rt)}}return{id:Se.id,created_at:Se.created_at,status:Se.status,created_by:Se.created_by,publisher:_e,values:De}}));i(Ce)}catch(T){console.error("Error loading form data:",T),s("Error loading form data")}finally{t(!1)}}const z=T=>{f(T),k({...T.values}),D({}),g(!0)},V=async T=>{try{t(!0),s("");const{error:H}=await G.from("form_entries").delete().eq("id",T);if(H)throw H;await B()}catch(H){console.error("Error deleting entry:",H),s("Error deleting entry")}finally{t(!1)}},W=(T,H)=>{if(T.is_required&&(H==null||H===""))return"This field is required";if(!H)return null;switch(T.field_type){case"email":if(!H.includes("@"))return"Please enter a valid email address with @";break;case"url":try{new URL(H)}catch{return"Please enter a valid URL"}break;case"multiselect":case"checkbox":const $=R[T.id];if($!=null&&$.max_selections&&Array.isArray(H)&&H.length>$.max_selections)return`You can select up to ${$.max_selections} options`;break;case"commission":const Y=parseFloat(H);if(isNaN(Y)||Y<0||Y>1e3)return"Commission must be between 0 and 1000";break}return null},Z=async()=>{if(h)try{t(!0),s(""),D({});const T={};if(o.forEach(re=>{const oe=W(re,w[re.id]);oe&&(T[re.id]=oe)}),Object.keys(T).length>0){D(T),t(!1);return}const{error:H}=await G.from("form_entries").update({status:S}).eq("id",h.id);if(H)throw H;const $=[];for(const[re,oe]of Object.entries(w)){const ue=o.find(Se=>Se.id===re);if(!ue)continue;const be=ue.field_type==="niche",Ce=typeof oe!="string";$.push({entry_id:h.id,field_id:re,value:!be&&!Ce?oe:null,value_json:!be&&Ce?oe:null,niches:be?oe:null})}const{error:Y}=await G.from("form_entry_values").delete().eq("entry_id",h.id);if(Y)throw Y;const{error:K}=await G.from("form_entry_values").insert($);if(K)throw K;if(A.trim()){const{data:{user:re}}=await G.auth.getUser(),{error:oe}=await G.from("form_entry_notes").insert([{entry_id:h.id,note:A.trim(),created_by:re==null?void 0:re.id}]);if(oe)throw oe}await B(),g(!1),E("")}catch(T){console.error("Error updating entry:",T),s("Error updating entry")}finally{t(!1)}},q=T=>{const H=R[T.id]||{},$=w[T.id],Y=L[T.id];if(H.visibility==="hidden"&&!d||H.visibility==="admin"&&!d||H.visibility==="marketplace"&&!d||T.field_type==="button_buy")return null;const oe={field:T,settings:H,value:$,onChange:Ce=>{k(Se=>({...Se,[T.id]:Ce})),Y&&D(Se=>{const De={...Se};return delete De[T.id],De})},error:Y,onErrorClear:()=>{Y&&D(Ce=>{const Se={...Ce};return delete Se[T.id],Se})}};console.log("[FormEntriesRenderer] field:",T.label,"type:",T.field_type,"value:",$);const ue=Q(T.field_type),be=H2[`${ue.charAt(0).toUpperCase()+ue.slice(1)}Field`];return be?l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-400",children:[T.label,T.is_required&&l.jsx("span",{className:"text-error-500 ml-1",children:"*"}),H.visibility==="admin"&&l.jsx("span",{className:"ml-2 text-xs text-brand-500 dark:text-brand-400",children:"(Admin Only)"}),H.visibility==="marketplace"&&l.jsx("span",{className:"ml-2 text-xs text-warning-500 dark:text-warning-400",children:"(Marketplace Only)"})]}),l.jsx(be,{...oe})]}):l.jsxs("div",{className:"text-error-500",children:["Unknown field type: ",T.field_type]})},Q=T=>["moz_da","semrush_as","ahrefs_dr","ahrefs_traffic","similarweb_traffic","google_traffic"].includes(T)?"api":T==="commission"?"commission":T==="brazilian_states"?"brazilianStates":T==="brand"?"brand":T==="button_buy"?"buttonBuy":T;return e?l.jsx(JH,{}):n?l.jsx("div",{className:"p-4 text-center text-error-500",children:n}):a.length===0?l.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:m}):l.jsxs("div",{className:"w-full",children:[d&&a.length>0&&l.jsx("div",{className:"mb-4",children:l.jsx(Q1e,{entryIds:a.map(T=>T.id),formId:r,onCompatibilityFixed:B})}),l.jsx(ZH,{entries:a,fields:o,urlFields:x,onEdit:d?z:void 0,onDelete:d?V:void 0}),l.jsx(ai,{isOpen:p,onClose:()=>g(!1),className:"max-w-[800px] m-4",children:l.jsxs("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-8",children:[l.jsx("div",{className:"mb-6",children:l.jsx("h4",{className:"text-xl font-semibold text-gray-800 dark:text-white/90",children:"Editar Entrada"})}),h&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6",children:[l.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Dados do Formulário"}),l.jsx("div",{className:"grid grid-cols-1 gap-6",children:o.map(T=>q(T))})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6",children:[l.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Status"}),l.jsx(or,{options:[{value:"em_analise",label:"Análise"},{value:"verificado",label:"Verificado"},{value:"reprovado",label:"Reprovado"}],value:S,onChange:T=>N(T)})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Adicionar Nota"}),l.jsx(tl,{value:A,onChange:E,rows:4,placeholder:"Adicione uma nota sobre esta entrada..."})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[l.jsx(nt,{variant:"outline",onClick:()=>g(!1),children:"Cancelar"}),l.jsx(nt,{onClick:Z,disabled:e,children:e?"Salvando...":"Salvar Alterações"})]})]})]})})]})}async function KH(){const{data:r,error:e}=await G.from("form_fields").select("*").or("field_type.eq.commission,label.ilike.%comissão%,label.ilike.%commission%").limit(1);return e?null:r==null?void 0:r[0]}function oT(r){let e=String(r);if(e=e.replace(/R\$|\$|R/g,"").trim(),e.includes(",")&&e.includes("."))e=e.replace(/\./g,"").replace(",",".");else if(e.includes(","))e=e.replace(",",".");else if(e.includes(".")){const n=e.split(".");n.length===2&&n[1].length<=2||(e=e.replace(/\./g,""))}const t=parseFloat(e);return isNaN(t)?0:t}function QH(r,e){if(console.log("🔍 [DEBUG] applyCommissionToFormValues - INÍCIO"),console.log("📝 [DEBUG] formValues recebidos:",r),console.log("📋 [DEBUG] commissionFieldId:",e),!r||typeof r!="object")return console.log("⚠️ [DEBUG] formValues inválido, retornando objeto vazio"),{};const t={...r};let n=0;return e&&r[e]?(console.log("💰 [DEBUG] Valor bruto da comissão:",r[e]),n=parseFloat(r[e].toString().replace(/\./g,"").replace(",","."))||0,console.log("📊 [DEBUG] Comissão parseada (%):",n)):console.log("❌ [DEBUG] Não foi encontrado commissionFieldId ou valor está vazio"),n===0?(console.log("⚠️ [DEBUG] Comissão é 0, retornando valores originais sem processamento"),t):(console.log("✅ [DEBUG] Aplicando comissão de",n,"% aos valores"),Object.entries(t).forEach(([s,a])=>{if(console.log(`🔄 [DEBUG] Processando campo ${s}:`,a),a==null){console.log(`⚠️ [DEBUG] ${s} - Valor nulo/indefinido, pulando`);return}let i=a;if(typeof a=="string")try{i=JSON.parse(a),console.log(`📄 [DEBUG] ${s} - JSON parseado:`,i)}catch{console.log(`📝 [DEBUG] ${s} - Não é JSON, mantendo como string`),i=a}if(i&&typeof i=="object"&&(i.price||i.promotional_price)){if(console.log(`💰 [DEBUG] ${s} - Encontrou objeto com preços:`,i),i.old_price||i.price){const o=i.old_price||i.price;console.log(`💵 [DEBUG] ${s} - Processando price usando old_price:`,o);const c=oT(o);if(console.log(`💵 [DEBUG] ${s} - basePrice original:`,o),console.log(`💵 [DEBUG] ${s} - Price parseado:`,c),isNaN(c))console.log(`❌ [DEBUG] ${s} - Price não é um número válido:`,c);else{const d=c+c*n/100;console.log(`💰 [DEBUG] ${s} - CÁLCULO DETALHADO:`),console.log(`💰 [DEBUG] ${s} - price:`,c),console.log(`💰 [DEBUG] ${s} - commissionPercent:`,n),console.log(`💰 [DEBUG] ${s} - (price * commissionPercent) / 100:`,c*n/100),console.log(`💰 [DEBUG] ${s} - result (price + margem):`,d);const u=d.toFixed(2).replace(".",",");console.log(`💰 [DEBUG] ${s} - formattedResult:`,u),console.log(`💵 [DEBUG] ${s} - Price original (old_price):`,c),console.log(`💵 [DEBUG] ${s} - Price com comissão:`,d),console.log(`💵 [DEBUG] ${s} - Price formatado final:`,u),i.old_price||(i.old_price=String(c).replace(".",",")),i.price=u}}if(i.old_promotional_price||i.promotional_price){const o=i.old_promotional_price||i.promotional_price;console.log(`🏷️ [DEBUG] ${s} - Processando promotional_price usando old_promotional_price:`,o);const c=oT(o);if(console.log(`🏷️ [DEBUG] ${s} - Promotional_price parseado:`,c),!isNaN(c)&&c!==0){const d=c+c*n/100,u=d.toFixed(2).replace(".",",");console.log(`🏷️ [DEBUG] ${s} - Promotional_price original (old_promotional_price):`,c),console.log(`🏷️ [DEBUG] ${s} - Promotional_price com comissão:`,d),console.log(`🏷️ [DEBUG] ${s} - Promotional_price formatado final:`,u),i.old_promotional_price||(i.old_promotional_price=String(c).replace(".",",")),i.promotional_price=u}else console.log(`❌ [DEBUG] ${s} - Promotional_price não válido (NaN ou 0):`,c)}console.log(`📋 [DEBUG] ${s} - Objeto final após processamento:`,i),t[s]=i}else console.log(`⏭️ [DEBUG] ${s} - Não é um objeto com preços, pulando`)}),console.log("🎉 [DEBUG] applyCommissionToFormValues - FINALIZADO"),console.log("📤 [DEBUG] Valores finais retornados:",t),t)}function tve(r){return r.filter(e=>e.field_type==="url")}function rve(r,e){return r.filter(t=>{const n=t.form_field_settings;return n?!(n.visibility==="hidden"||n.visibility==="admin"&&!e||n.visibility==="marketplace"&&!e):!0})}function nve(r){return r.filter(e=>e.field_type==="url").map(e=>e.id)}function sve(r){const e={};return r.forEach(t=>{t.form_field_settings&&(e[t.id]=t.form_field_settings)}),e}function lT(r,e){const t=r.form_field_settings;return t?!(t.visibility==="admin"&&!e||t.visibility==="marketplace"&&!e):!0}const ave=H2;function ive({formId:r,show:e=!0}){const[t,n]=b.useState(!0),[s,a]=b.useState(""),[i,o]=b.useState([]),[c,d]=b.useState([]),[u,h]=b.useState([]),[f,p]=b.useState(null),[g,m]=b.useState(null),[v,x]=b.useState(!1),[y,w]=b.useState("Você ainda não enviou nenhuma entrada para este formulário"),[k,S]=b.useState([]),[N,A]=b.useState({}),[E,R]=b.useState(""),[O,L]=b.useState({}),[D,F]=b.useState({}),[M,B]=b.useState(""),[z,V]=b.useState(!1);b.useEffect(()=>{W()},[]),b.useEffect(()=>{f?(q(),Z()):n(!1)},[r,f]),b.useEffect(()=>{g&&A(g.values||{})},[g]);async function W(){try{const{data:{user:re}}=await G.auth.getUser();re?p(re):(a(""),n(!1))}catch(re){console.error("Error getting current user:",re),a("Erro ao verificar usuário"),n(!1)}}async function Z(){try{if(!f)return;const{data:re}=await G.from("admins").select("id").eq("id",f.id).maybeSingle();V(!!re)}catch(re){console.error("Error checking user role:",re)}}async function q(){if(!(!f||!r))try{n(!0),a("");const{data:re,error:oe}=await G.from("forms").select("no_data_message, title").eq("id",r).single();if(oe)throw oe;re!=null&&re.no_data_message&&w(re.no_data_message),re!=null&&re.title&&B(re.title);const{data:ue,error:be}=await G.from("form_fields").select(`
          *,
          form_field_settings (*)
        `).eq("form_id",r).order("position",{ascending:!0});if(be)throw be;const Ce=sve(ue);L(Ce);const Se=rve(ue||[],z),De=tve(Se),at=ue||[];d(De),h(at);const _e=nve(ue||[]);S(_e);const{data:le,error:ut}=await G.from("form_entries").select(`
          id,
          created_at,
          status,
          created_by,
          form_entry_values (
            field_id,
            value,
            value_json
          ),
          notes:form_entry_notes(
            id,
            note,
            created_at,
            created_by,
            type
          )
        `).eq("form_id",r).eq("created_by",f.id).order("created_at",{ascending:!1});if(ut)throw ut;const rt=await Promise.all((le||[]).map(async je=>{const fe={};je.form_entry_values.forEach(ze=>{let Fe;if(ze.value_json!==null)Fe=ze.value_json;else try{const ft=JSON.parse(ze.value);if(ft&&typeof ft=="object"&&ft.promotional_price){const xt=ue.find(Ae=>Ae.id===ze.field_id);xt&&xt.field_type==="product"?Fe=ft:Fe=ft.promotional_price}else Fe=ze.value}catch{Fe=ze.value}const Ze=ue.find(ft=>ft.id===ze.field_id);Ze&&Ze.field_type==="niche"&&(Array.isArray(Fe)?Fe=Fe.map(ft=>typeof ft=="string"?{niche:ft,price:""}:typeof ft=="object"&&ft!==null&&!("price"in ft)?{...ft,price:""}:ft):Fe=[]),fe[ze.field_id]=Fe});const Re=ue.find(ze=>ze.field_type==="niche");Re&&!(Re.id in fe)&&(fe[Re.id]=[]);let He=null;const{data:it,error:Le}=await G.from("platform_users").select("first_name, last_name, email").eq("id",f.id).maybeSingle();if(!Le&&it)He=it;else{const{data:ze,error:Fe}=await G.from("admins").select("first_name, last_name, email").eq("id",f.id).maybeSingle();!Fe&&ze&&(He=ze)}return{id:je.id,created_at:je.created_at,status:je.status,created_by:je.created_by,publisher:He,values:fe,notes:je.notes||[]}}));o(rt)}catch(re){console.error("Error loading form data:",re),a("Erro ao carregar dados do formulário")}finally{n(!1)}}const Q=re=>{m(re),A({...re.values}),F({}),x(!0)},T=async re=>{if(confirm("Tem certeza que deseja excluir esta entrada? Esta ação não pode ser desfeita."))try{n(!0),a("");const{error:oe}=await G.from("form_entries").delete().eq("id",re).eq("created_by",f.id);if(oe)throw oe;await q()}catch(oe){console.error("Error deleting entry:",oe),a("Error deleting entry")}finally{n(!1)}},H=(re,oe)=>{if(re.is_required&&(oe==null||oe===""))return"Este campo é obrigatório";if(!oe)return null;switch(re.field_type){case"email":if(!oe.includes("@"))return"Por favor, insira um endereço de email válido com @";break;case"url":try{new URL(oe)}catch{return"Por favor, insira uma URL válida"}break;case"commission":const ue=parseFloat(oe);if(isNaN(ue)||ue<0||ue>1e3)return"Commission must be between 0 and 1000";break}return null},$=async()=>{if(!(!g||!f))try{n(!0),a(""),F({});const re=await KH(),oe=re==null?void 0:re.id;console.log("🔍 [DEBUG] Commission Field:",re),console.log("🆔 [DEBUG] Commission Field ID:",oe);const ue={};if(c.forEach(fe=>{const Re=H(fe,N[fe.id]);Re&&(ue[fe.id]=Re)}),Object.keys(ue).length>0){F(ue),n(!1);return}const{data:be,error:Ce}=await G.from("form_entries").select("created_by").eq("id",g.id).single();if(Ce)throw Ce;if(be.created_by!==f.id)throw new Error("Você só pode editar suas próprias entradas");const{data:Se,error:De}=await G.from("form_entry_values").select("field_id, value, value_json").eq("entry_id",g.id);if(De)throw De;const at={};Se.forEach(fe=>{let Re;fe.value_json!==null?Re=fe.value_json:Re=fe.value,at[fe.field_id]=Re}),console.log("📄 [DEBUG] All original values:",at),console.log("✏️ [DEBUG] Editable form values:",N);const _e={...at,...N};console.log("🔗 [DEBUG] Complete form values before commission:",_e),oe&&_e[oe]?console.log("💰 [DEBUG] Commission value found:",_e[oe]):console.log("❌ [DEBUG] Commission value NOT found or commissionFieldId is null");const le=QH(_e,oe||null);console.log("✅ [DEBUG] Form values WITH commission:",le);const ut=[];for(const[fe,Re]of Object.entries(le)){if(!u.find(Le=>Le.id===fe))continue;const it=typeof Re!="string";ut.push({entry_id:g.id,field_id:fe,value:it?null:Re,value_json:it?Re:null})}const{error:rt}=await G.from("form_entry_values").delete().eq("entry_id",g.id);if(rt)throw rt;const{error:je}=await G.from("form_entry_values").insert(ut);if(je)throw je;if(E.trim()){const{error:fe}=await G.from("form_entry_notes").insert([{entry_id:g.id,note:E.trim(),created_by:f.id}]);if(fe)throw fe}await q(),x(!1),R("")}catch(re){console.error("Error updating entry:",re),a(re.message||"Erro ao atualizar entrada")}finally{n(!1)}},Y=re=>{const oe=O[re.id]||{},ue=N[re.id],be=D[re.id];if(oe.visibility==="marketplace"||!lT(re,z))return null;const De={field:re,settings:oe,value:ue,onChange:le=>{A(ut=>({...ut,[re.id]:le})),be&&F(ut=>{const rt={...ut};return delete rt[re.id],rt})},error:be,onErrorClear:()=>{be&&F(le=>{const ut={...le};return delete ut[re.id],ut})}},at=K(re.field_type);at==="niche"&&console.log("[UserFormEntriesRenderer] Valor enviado para NicheField:",ue),console.log("[UserFormEntriesRenderer] fieldProps.value:",ue);const _e=ave[`${at.charAt(0).toUpperCase()+at.slice(1)}Field`];return _e?l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-400",children:[re.label,re.is_required&&l.jsx("span",{className:"text-error-500 ml-1",children:"*"}),oe.visibility==="admin"&&l.jsx("span",{className:"ml-2 text-xs text-brand-500 dark:text-brand-400",children:"(Admin Only)"}),oe.visibility==="marketplace"&&l.jsx("span",{className:"ml-2 text-xs text-warning-500 dark:text-warning-400",children:"(Marketplace Only)"})]}),l.jsx(_e,{...De})]}):l.jsxs("div",{className:"text-error-500",children:["Tipo de campo desconhecido: ",re.field_type]})},K=re=>["moz_da","semrush_as","ahrefs_dr","ahrefs_traffic","similarweb_traffic","google_traffic"].includes(re)?"api":re==="commission"?"commission":re==="brazilian_states"?"brazilianStates":re==="brand"?"brand":re==="button_buy"?"buttonBuy":re==="multiselect"?"multiSelect":re;return t?l.jsx(JH,{}):s?l.jsx("div",{className:"p-4 text-center text-error-500",children:s}):f?i.length===0?l.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:y}):l.jsxs("div",{className:"w-full",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90 mb-4",children:["Suas entradas para: ",M]}),l.jsx(ZH,{entries:i,fields:c,urlFields:k,onEdit:Q,onDelete:T,show:e}),l.jsx(ai,{isOpen:v,onClose:()=>x(!1),className:"max-w-[800px] m-4",children:l.jsxs("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"text-xl font-semibold text-gray-800 dark:text-white/90",children:"Editar Entradas"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:M})]}),s&&l.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:s}),g&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6",children:[l.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Dados do Formulário"})," ",l.jsx("div",{className:"grid grid-cols-1 gap-6",children:u.filter(re=>lT(re,z)).map(re=>Y(re))})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Adicionar Nota"}),l.jsx(tl,{value:E,onChange:R,rows:4,placeholder:"Adicione uma nota sobre esta entrada..."})]}),g.notes&&g.notes.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Notas"}),l.jsx("div",{className:"space-y-3",children:g.notes.map(re=>l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:re.note}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:new Date(re.created_at).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]},re.id))})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[l.jsx(nt,{variant:"outline",onClick:()=>x(!1),children:"Cancelar"}),l.jsx(nt,{onClick:$,disabled:t,children:t?"Salvando...":"Salvar Alterações"})]})]})]})})]}):l.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"Você precisa estar logado para ver suas entradas"})}function ove(r){return!["button_buy","actions","modal","checkbox"].includes(r.field_type)}function cT({entryId:r,productName:e,price:t,buttonStyle:n="primary",buttonText:s="Comprar",image:a,url:i,isInCart:o=!1}){const{addItem:c,items:d}=gh(),[u,h]=b.useState(!1),[f,p]=b.useState(o);b.useEffect(()=>{const x=d.some(y=>y.entry_id===r);p(x)},[d,r]);const g=async()=>{if(!f)try{h(!0),await c(r,e,t,1,a,i),Tn("Item adicionado ao carrinho!","success"),setTimeout(()=>{},2e3)}catch(x){console.error("Error adding item to cart:",x),Tn("Erro ao adicionar item ao carrinho","error")}finally{h(!1)}},m=n==="primary"?"inline-flex items-center justify-center w-full gap-1 px-2 text-[14px] font-medium text-white transition rounded-lg bg-brand-500 shadow-theme-xs hover:bg-brand-600":"inline-flex items-center justify-center w-full gap-1 rounded-lg bg-white px-2 text-[14px] font-medium text-gray-700 shadow-theme-xs ring-1 ring-gray-300 transition hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-white/[0.03]",v={height:"38px",minWidth:"80.58px"};return l.jsx("button",{type:"button",className:m,style:v,onClick:x=>{x.stopPropagation(),g()},disabled:u||f,children:u?l.jsx("span",{className:"animate-spin stroke-brand-500 text-gray-200 dark:text-gray-800",children:l.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"10",cy:"10",r:"8.75",stroke:"currentColor",strokeWidth:"2.5"}),l.jsx("mask",{id:"path-2-inside-1_3755_26477",fill:"white",children:l.jsx("path",{d:"M18.2372 12.9506C18.8873 13.1835 19.6113 12.846 19.7613 12.1719C20.0138 11.0369 20.0672 9.86319 19.9156 8.70384C19.7099 7.12996 19.1325 5.62766 18.2311 4.32117C17.3297 3.01467 16.1303 1.94151 14.7319 1.19042C13.7019 0.637155 12.5858 0.270357 11.435 0.103491C10.7516 0.00440265 10.179 0.561473 10.1659 1.25187C10.1528 1.94226 10.7059 2.50202 11.3845 2.6295C12.1384 2.77112 12.8686 3.02803 13.5487 3.39333C14.5973 3.95661 15.4968 4.76141 16.1728 5.74121C16.8488 6.721 17.2819 7.84764 17.4361 9.02796C17.5362 9.79345 17.5172 10.5673 17.3819 11.3223C17.2602 12.002 17.5871 12.7178 18.2372 12.9506Z"})}),l.jsx("path",{d:"M18.2372 12.9506C18.8873 13.1835 19.6113 12.846 19.7613 12.1719C20.0138 11.0369 20.0672 9.86319 19.9156 8.70384C19.7099 7.12996 19.1325 5.62766 18.2311 4.32117C17.3297 3.01467 16.1303 1.94151 14.7319 1.19042C13.7019 0.637155 12.5858 0.270357 11.435 0.103491C10.7516 0.00440265 10.179 0.561473 10.1659 1.25187C10.1528 1.94226 10.7059 2.50202 11.3845 2.6295C12.1384 2.77112 12.8686 3.02803 13.5487 3.39333C14.5973 3.95661 15.4968 4.76141 16.1728 5.74121C16.8488 6.721 17.2819 7.84764 17.4361 9.02796C17.5362 9.79345 17.5172 10.5673 17.3819 11.3223C17.2602 12.002 17.5871 12.7178 18.2372 12.9506Z",stroke:"currentColor",strokeWidth:"4",mask:"url(#path-2-inside-1_3755_26477)"})]})}):f?l.jsx("svg",{className:"w-[20px] h-[20px] text-green-500",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.70186 12.0001C3.70186 7.41711 7.41711 3.70186 12.0001 3.70186C16.5831 3.70186 20.2984 7.41711 20.2984 12.0001C20.2984 16.5831 16.5831 20.2984 12.0001 20.2984C7.41711 20.2984 3.70186 16.5831 3.70186 12.0001ZM12.0001 1.90186C6.423 1.90186 1.90186 6.423 1.90186 12.0001C1.90186 17.5772 6.423 22.0984 12.0001 22.0984C17.5772 22.0984 22.0984 17.5772 22.0984 12.0001C22.0984 6.423 17.5772 1.90186 12.0001 1.90186ZM15.6197 10.7395C15.9712 10.388 15.9712 9.81819 15.6197 9.46672C15.2683 9.11525 14.6984 9.11525 14.347 9.46672L11.1894 12.6243L9.6533 11.0883C9.30183 10.7368 8.73198 10.7368 8.38051 11.0883C8.02904 11.4397 8.02904 12.0096 8.38051 12.3611L10.553 14.5335C10.7217 14.7023 10.9507 14.7971 11.1894 14.7971C11.428 14.7971 11.657 14.7023 11.8257 14.5335L15.6197 10.7395Z",fill:"currentColor"})}):l.jsxs(l.Fragment,{children:[l.jsx(M0,{className:"w-[18px] h-[18px]"}),s]})})}function lve(){return l.jsxs("div",{className:"animate-pulse",children:[l.jsxs("div",{className:"flex justify-between p-4 mb-4 rounded-lg dark:bg-gray-800",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-16 h-8 bg-gray-200 rounded dark:bg-gray-800"}),l.jsx("div",{className:"w-16 h-8 bg-gray-200 rounded dark:bg-gray-800"})]}),l.jsx("div",{className:"w-48 h-8 bg-gray-200 rounded dark:bg-gray-800"})]}),l.jsx("div",{className:"h-12 bg-gray-200 rounded-t-lg w-full dark:bg-gray-800"}),l.jsx("div",{className:"space-y-1",children:[1,2,3,4,5].map(r=>l.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-800"},r))}),l.jsxs("div",{className:"flex justify-between p-4 mt-4 rounded-lg dark:bg-gray-800",children:[l.jsx("div",{className:"w-48 h-6 bg-gray-200 rounded dark:bg-gray-800"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("div",{className:"w-24 h-10 bg-gray-200 rounded dark:bg-gray-800"}),l.jsx("div",{className:"w-32 h-10 bg-gray-200 rounded dark:bg-gray-800"}),l.jsx("div",{className:"w-24 h-10 bg-gray-200 rounded dark:bg-gray-800"})]})]})]})}function cve({message:r}){return l.jsxs("div",{className:"overflow-hidden bg-white dark:bg-white/[0.03]",children:[l.jsxs("div",{className:"flex flex-col gap-2 px-4 py-4 border-b border-gray-100 dark:border-white/[0.05] rounded-t-xl sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Show"}),l.jsxs("div",{className:"relative z-20 bg-transparent",children:[l.jsxs("select",{className:"w-full py-2 pl-3 pr-8 text-sm text-gray-800 bg-transparent border border-gray-300 rounded-lg appearance-none dark:bg-dark-900 h-9 bg-none shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",children:[l.jsx("option",{value:"10",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"10"}),l.jsx("option",{value:"25",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"25"}),l.jsx("option",{value:"50",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"50"}),l.jsx("option",{value:"100",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"100"})]}),l.jsx("span",{className:"absolute z-30 text-gray-500 -translate-y-1/2 right-2 top-1/2 dark:text-gray-400",children:l.jsx("svg",{className:"stroke-current",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M3.8335 5.9165L8.00016 10.0832L12.1668 5.9165",stroke:"",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"entries"})]}),l.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:l.jsxs("div",{className:"relative",children:[l.jsx("button",{className:"absolute text-gray-500 -translate-y-1/2 left-4 top-1/2 dark:text-gray-400",children:l.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.04199 9.37363C3.04199 5.87693 5.87735 3.04199 9.37533 3.04199C12.8733 3.04199 15.7087 5.87693 15.7087 9.37363C15.7087 12.8703 12.8733 15.7053 9.37533 15.7053C5.87735 15.7053 3.04199 12.8703 3.04199 9.37363ZM9.37533 1.54199C5.04926 1.54199 1.54199 5.04817 1.54199 9.37363C1.54199 13.6991 5.04926 17.2053 9.37533 17.2053C11.2676 17.2053 13.0032 16.5344 14.3572 15.4176L17.1773 18.238C17.4702 18.5309 17.945 18.5309 18.2379 18.238C18.5308 17.9451 18.5309 17.4703 18.238 17.1773L15.4182 14.3573C16.5367 13.0033 17.2087 11.2669 17.2087 9.37363C17.2087 5.04817 13.7014 1.54199 9.37533 1.54199Z",fill:""})})}),l.jsx("input",{placeholder:"Pesquisar...",className:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent py-2.5 pl-11 pr-4 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 xl:w-[300px]",type:"text"})]})})]}),l.jsx("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400 border-t-0 border-gray-100 dark:border-white/[0.05] rounded-b-xl",children:l.jsxs("div",{className:"flex flex-col items-center justify-center",children:[l.jsx("svg",{className:"w-16 h-16 mb-4 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("p",{className:"text-lg font-medium",children:r})]})})]})}const fu=class fu{constructor(){hr(this,"callbacks",new Set);hr(this,"realtimeChannel",null);hr(this,"isListening",!1)}static getInstance(){return fu.instance||(fu.instance=new fu),fu.instance}onCacheInvalidation(e){return this.callbacks.add(e),this.startListening(),()=>{this.callbacks.delete(e),this.callbacks.size===0&&this.stopListening()}}startListening(){this.isListening||this.realtimeChannel||(this.realtimeChannel=G.channel("form_field_niche_changes").on("postgres_changes",{event:"*",schema:"public",table:"form_field_niche"},()=>{this.invalidateCache()}).subscribe(),this.isListening=!0)}stopListening(){this.realtimeChannel&&(G.removeChannel(this.realtimeChannel),this.realtimeChannel=null),this.isListening=!1}invalidateCache(){this.callbacks.forEach(e=>{try{e()}catch(t){console.error("[NicheCacheManager] Error in cache invalidation callback:",t)}})}manualInvalidate(){this.invalidateCache()}destroy(){this.stopListening(),this.callbacks.clear()}};hr(fu,"instance");let ZC=fu;const eU=ZC.getInstance(),pu=class pu{constructor(){hr(this,"cache",[]);hr(this,"isLoaded",!1);hr(this,"loadingPromise",null);hr(this,"cacheCleanupFunction",null);this.cacheCleanupFunction=eU.onCacheInvalidation(()=>{this.clearCache()})}static getInstance(){return pu.instance||(pu.instance=new pu),pu.instance}async getAllNiches(){if(this.isLoaded&&this.cache.length>0)return this.cache;if(this.loadingPromise)return this.loadingPromise;this.loadingPromise=this.loadNichesFromDatabase();try{const e=await this.loadingPromise;return this.cache=e,this.isLoaded=!0,e}finally{this.loadingPromise=null}}async loadNichesFromDatabase(){try{const{data:e,error:t}=await G.from("form_field_niche").select("options");if(t)return[];const n=new Map;return e==null||e.forEach(a=>{a.options&&Array.isArray(a.options)&&rl(a.options).forEach(o=>{o.text&&o.text.trim()!==""&&n.set(o.text,o)})}),Array.from(n.values())}catch(e){return console.error("[NicheDataService] Error loading niches:",e),[]}}clearCache(){this.cache=[],this.isLoaded=!1,this.loadingPromise=null}destroy(){this.clearCache(),this.cacheCleanupFunction&&(this.cacheCleanupFunction(),this.cacheCleanupFunction=null)}};hr(pu,"instance");let JC=pu;const dve=JC.getInstance();function uve(){const[r,e]=b.useState([]),[t,n]=b.useState(!0),[s,a]=b.useState(null),i=b.useCallback(async()=>{try{n(!0),a(null);const o=await dve.getAllNiches();e(o),a(null)}catch(o){console.error("[useNichesWithRealTimeUpdates] Error loading niches:",o),a(o instanceof Error?o.message:"Erro ao carregar nichos")}finally{n(!1)}},[]);return b.useEffect(()=>{let o=!0;i();const c=eU.onCacheInvalidation(()=>{o&&(console.log("[useNichesWithRealTimeUpdates] Cache invalidated, reloading niches"),i())});return()=>{o=!1,c()}},[i]),{niches:r,loading:t,error:s,refetch:i}}function hve(r){if(!r)return[];try{let e=[];if(typeof r=="string")if(r.trim().startsWith("[")||r.trim().startsWith("{"))try{const t=JSON.parse(r);e=rl(Array.isArray(t)?t:[t])}catch{return console.log("[parseNicheValue] Failed to parse JSON, skipping malformed data"),[]}else e=[{text:r,icon:void 0}];else Array.isArray(r)?e=rl(r):e=rl([r]);return e.filter(t=>{const n=t.text&&t.text.trim()!=="",s=t.icon&&t.icon.trim()!=="";return n||s})}catch(e){return console.error("[parseNicheValue] Error parsing niche value:",e),[]}}function fve(r){let e=r.parentElement;for(;e;){const t=getComputedStyle(e).overflowY;if(t==="auto"||t==="scroll")return e;e=e.parentElement}return window}function pve(r){if(r instanceof Window)return{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth};const e=r.getBoundingClientRect();return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}function gve(r,e){const t=r.getBoundingClientRect(),n=e.getBoundingClientRect(),s=fve(r),a=pve(s),i=a.bottom-t.bottom,o=t.top-a.top,c=n.height,d=i<c+8&&o>c+8?"top":"bottom",u=n.width,h=(t.left+t.right)/2,f=h-u/2,p=h+u/2,g=8;let m="center";return f<a.left+g?m="left":p>a.right-g&&(m="right"),{placement:d,alignX:m}}function mve({onReady:r,dependencies:e=[],delay:t=0}){const n=b.useCallback(()=>{const s=setTimeout(()=>{r()},t);return()=>clearTimeout(s)},[r,t]);b.useEffect(()=>{if(document.readyState==="complete")return n();const s=()=>{n()};return window.addEventListener("load",s),()=>{window.removeEventListener("load",s)}},[n]),b.useEffect(()=>n(),e),b.useEffect(()=>{const s=setTimeout(()=>{r()},300);return()=>clearTimeout(s)},[r])}function xve(){const[r,e]=b.useState("bottom"),[t,n]=b.useState("center"),s=b.useRef(null),a=b.useRef(null),i=b.useCallback(()=>{if(!s.current||!a.current)return;const o=gve(s.current,a.current);e(o.placement),n(o.alignX)},[]);return mve({onReady:i,delay:0}),b.useEffect(()=>{const o=new MutationObserver(()=>{i()});return s.current&&o.observe(s.current,{attributes:!0,attributeFilter:["class"],subtree:!0}),()=>o.disconnect()},[i]),b.useEffect(()=>{var u;const o=()=>{i()};window.addEventListener("resize",o),window.addEventListener("scroll",o,!0);let c=null,d=(u=s.current)==null?void 0:u.parentElement;for(;d;){const h=getComputedStyle(d).overflowY;if(h==="auto"||h==="scroll"){c=d,d.addEventListener("scroll",o);break}d=d.parentElement}return()=>{window.removeEventListener("resize",o),window.removeEventListener("scroll",o,!0),c&&c.removeEventListener("scroll",o)}},[i]),{placement:r,alignX:t,triggerRef:s,tooltipRef:a,updatePosition:i}}function vve(){const[r,e]=b.useState(!1),t=b.useRef(null);return b.useEffect(()=>{const n=t.current;if(!n)return;const s=()=>e(!0),a=()=>e(!1),i=()=>e(!0),o=()=>e(!1);return n.addEventListener("mouseenter",s),n.addEventListener("mouseleave",a),n.addEventListener("focus",i),n.addEventListener("blur",o),()=>{n.removeEventListener("mouseenter",s),n.removeEventListener("mouseleave",a),n.removeEventListener("focus",i),n.removeEventListener("blur",o)}},[]),{isVisible:r,triggerRef:t}}function yve(){const r=xve(),e=vve();return b.useEffect(()=>{if(e.isVisible){const t=setTimeout(()=>{r.updatePosition()},10);return()=>clearTimeout(t)}},[e.isVisible,r.updatePosition]),b.useEffect(()=>{const t=setTimeout(()=>{r.updatePosition()},100);return()=>clearTimeout(t)},[r.updatePosition]),{placement:r.placement,alignX:r.alignX,isVisible:e.isVisible,triggerRef:r.triggerRef,tooltipRef:r.tooltipRef,updatePosition:r.updatePosition}}function bve(){const[r,e]=b.useState("bottom"),[t,n]=b.useState("center"),s=b.useRef(null),a=b.useRef(null);return b.useEffect(()=>{function i(){if(!s.current||!a.current)return;const o=s.current.getBoundingClientRect(),c=a.current.getBoundingClientRect();let d=null,u=s.current.parentElement;for(;u;){if(u.classList.contains("marketplace-table")){d=u;break}u=u.parentElement}let h=window.innerHeight,f=0,p=0,g=window.innerWidth;if(d){const S=d.getBoundingClientRect();h=S.bottom,f=S.top,p=S.left,g=S.right}const m=h-o.bottom,v=o.top-f,x=c.width,y=(o.left+o.right)/2,w=y-x/2,k=y+x/2;m<c.height+8&&v>c.height+8?e("top"):e("bottom"),w<p+8&&k>g-8?n("center"):w<p+8?n("left"):k>g-8?n("right"):n("center")}if(i(),window.addEventListener("resize",i),window.addEventListener("scroll",i,!0),s.current){let o=s.current.parentElement;for(;o;){if(o.classList.contains("marketplace-table")||getComputedStyle(o).overflowX==="auto"||getComputedStyle(o).overflowX==="scroll"){o.addEventListener("scroll",i);break}o=o.parentElement}}return()=>{if(window.removeEventListener("resize",i),window.removeEventListener("scroll",i,!0),s.current){let o=s.current.parentElement;for(;o;){if(o.classList.contains("marketplace-table")||getComputedStyle(o).overflowX==="auto"||getComputedStyle(o).overflowX==="scroll"){o.removeEventListener("scroll",i);break}o=o.parentElement}}}},[]),{placement:r,alignX:t,triggerRef:s,tooltipRef:a}}function wve({text:r,className:e="",children:t}){const{placement:n,alignX:s,triggerRef:a,tooltipRef:i}=bve();let o="";return s==="left"?o="left-0 -translate-x-0":s==="right"?o="right-0 translate-x-0":o="left-1/2 -translate-x-1/2",l.jsxs("div",{className:`group relative ${e}`,ref:a,children:[t||l.jsx("svg",{className:"w-3 h-3 text-gray-400 dark:text-gray-500 cursor-help",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("div",{ref:i,className:`absolute ${o} w-auto px-3 py-2 bg-gray-900 text-white !text-white text-[13px] rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 ${n==="top"?"bottom-full mb-2":"top-full mt-2"}`,style:{color:"#fff",width:"max-content"},children:[l.jsx("span",{className:"block",style:{color:"#fff",fontSize:"inherit",fontWeight:"inherit",lineHeight:"inherit",fontFamily:"inherit",WebkitTextFillColor:"#fff",textShadow:"none",filter:"none",background:"none",boxShadow:"none",border:"none",outline:"none",textDecoration:"none",fontStyle:"inherit",letterSpacing:"inherit",wordBreak:"normal",whiteSpace:"normal",textAlign:"inherit",verticalAlign:"inherit",textTransform:"inherit",textRendering:"inherit",MozOsxFontSmoothing:"inherit",WebkitFontSmoothing:"inherit",fontVariant:"inherit",colorScheme:"light"},children:r}),n==="top"?l.jsx("div",{className:`absolute top-full ${s==="center"?"left-1/2 -translate-x-1/2":s==="left"?"left-4":"right-4"} border-4 border-transparent border-t-gray-900`}):l.jsx("div",{className:`absolute bottom-full ${s==="center"?"left-1/2 -translate-x-1/2":s==="left"?"left-4":"right-4"} border-4 border-transparent border-b-gray-900`})]})]})}function kve({niche:r,isActive:e,index:t}){const n=r.icon?eee[r.icon]:null;return n?l.jsx(wve,{text:l.jsx("span",{style:{color:"#fff"},children:e?`Aceita conteúdos relacionados a ${r.text}`:`Não aceita conteúdos relacionados a ${r.text}`}),children:l.jsx("div",{className:`inline-flex items-center justify-center w-[19px] h-[19px] rounded-full transition-all cursor-help ${e?"bg-brand-100 dark:bg-brand-900/50 text-brand-600 dark:text-brand-400 ring-2 ring-brand-500/30":"bg-gray-100 dark:bg-gray-800 text-gray-300 dark:text-gray-600"}`,children:l.jsx(n,{className:"w-[11px] h-[11px]"})})},`${r.text}-${t}`):null}function Cve(){return l.jsx("div",{className:"flex gap-1",children:[...Array(3)].map((r,e)=>l.jsx("div",{className:"w-[19px] h-[19px] bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"},e))})}function Sve({value:r}){const{niches:e,loading:t,error:n}=uve();if(t)return l.jsx(Cve,{});if(n)return console.error("[NicheRenderer] Error loading niches:",n),l.jsx("span",{children:"-"});try{const a=hve(r).map(i=>i.text).filter(i=>i&&i.trim()!=="");return l.jsx("div",{style:{display:"flex",gap:8,flexWrap:"nowrap",width:"max-content"},children:e.map((i,o)=>{const c=a.includes(i.text);return l.jsx(kve,{niche:i,isActive:c,index:o},`${i.text}-${o}`)})})}catch(s){return console.error("[NicheRenderer] Error rendering niche:",s),l.jsx("span",{children:"-"})}}function Nve({value:r}){let e,t;typeof r=="string"?(e=r==="Sim",t=r):(e=!!r,t=e?"Sim":"Não");const n=e?"badge-sponsored-yes":"badge-sponsored-no";return l.jsx("span",{className:n,children:t})}function Eve({value:r}){const t=(r==null?void 0:r.toLowerCase())==="dofollow"?"badge-link-dofollow":"badge-link-nofollow";return l.jsx("span",{className:t,children:r})}function dT(r){return typeof r!="string"?!1:r==="Dofollow"||r==="Nofollow"}function _ve(r,e){return r==="toggle"?!0:r==="radio"&&typeof e=="string"?e==="Sim"||e==="Não":!1}function jve(r,e,t){if(t){const n=t.toLowerCase();if(n.includes("patrocinado")&&typeof r=="string"&&(r==="Sim"||r==="Não"))return"sponsored";if(n.includes("link")&&dT(r))return"linkType"}return dT(r)?"linkType":_ve(e,r)?"sponsored":"default"}function Ave(r,e,t){if(r==null)return{shouldRenderBadge:!1,fallbackValue:"-"};const n=jve(r,e,t),s=r.toString();switch(r==="Sim"&&console.log("🎪 [DEBUG] getBadgeRenderer processing SIM:",{value:r,fieldType:e,fieldLabel:t,valueType:n,stringValue:s}),n){case"sponsored":return r==="Sim"&&console.log("✨ [DEBUG] Creating SponsoredBadge for SIM:",{value:s,about_to_create:"SponsoredBadge"}),{shouldRenderBadge:!0,badgeComponent:l.jsx(Nve,{value:s}),fallbackValue:s};case"linkType":return{shouldRenderBadge:!0,badgeComponent:l.jsx(Eve,{value:s}),fallbackValue:s};default:return r==="Sim"&&console.log("❌ [DEBUG] Default case for SIM - no badge:",{value:r,valueType:n,fieldType:e,fieldLabel:t}),{shouldRenderBadge:!1,fallbackValue:s}}}function uT(r,e,t){const n=Ave(r,e,t);return n.shouldRenderBadge&&n.badgeComponent?n.badgeComponent:n.fallbackValue||(r==null?void 0:r.toString())||"-"}function Tve(r){if(!r)return"-";const e=rE(r);return l.jsxs("div",{className:"url-cell",children:[l.jsx("img",{src:Vl(r),alt:"Site icon",width:"20",height:"20",className:"flex-shrink-0",onError:t=>{t.target.style.display="none"}}),l.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-gray-800 text-theme-2xs xl:text-theme-sm dark:text-white/90 hover:underline whitespace-nowrap",children:e})]})}function Pve(r){try{const e=typeof r=="string"?JSON.parse(r):r;if(!e||!e.name)return"-";if(!e.logo)return e.name;const t=Lve(e.logo);return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:t,alt:`${e.name} logo`,className:"w-8 h-8 object-contain",onError:n=>{n.target.style.display="none"}}),l.jsx("span",{className:"text-gray-800 dark:text-white/90 font-medium text-theme-2xs xl:text-sm",children:e.name})]})}catch(e){return console.error("Error rendering brand:",e),(r==null?void 0:r.toString())||"-"}}function Lve(r){if(!r)return"";try{const{data:e}=G.storage.from("brand_logos").getPublicUrl(r);return(e==null?void 0:e.publicUrl)||""}catch(e){return console.error("Error getting brand logo URL:",e),""}}function Dve(r,e=!1){return!r||Object.keys(r).length===0?"-":l.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(r).map(([t,n])=>l.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 dark:bg-gray-800 rounded px-2 py-1",children:[l.jsx("img",{src:Hp(t),alt:t,width:"20",height:"20",className:`rounded-full ${t==="ROW"?"dark:invert":""}`,onError:s=>{s.target.style.display="none"}}),e?l.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-[13px] font-medium",children:t}):n?l.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-[13px]",children:["(",n,"%)"]}):null]},t))})}function hT(r){return l.jsx(Sve,{value:r})}function KC(r,e,t=!1,n){if(r==null)return"-";if(e==="button_buy")return null;if(e==="url")return Tve(r);if(e==="brand")return Pve(r);if(e==="niche")return hT(r);if(e==="country"&&typeof r=="object")return Dve(r,t);if(e==="niche")return hT(r);switch(e){case"file":return Array.isArray(r)?`${r.length} arquivo(s)`:"1 arquivo";case"checkbox":case"multiselect":return Array.isArray(r)?l.jsx("div",{className:"flex flex-wrap gap-1",children:r.map((o,c)=>l.jsx("span",{className:"badge-gray-light",children:o},c))}):r;case"toggle":case"radio":return uT(r,e,n);case"product":try{const o=typeof r=="string"?JSON.parse(r):r;let c=null;if(o.promotional_price){const d=parseFloat(o.promotional_price);!isNaN(d)&&d>0&&(c=d)}if(c===null&&o.price){const d=parseFloat(o.price);isNaN(d)||(c=d)}if(c!==null)return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c)}catch(o){console.error("Error formatting price:",o);const c=parseFloat(r);if(!isNaN(c))return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c)}return r.toString();case"commission":const a=parseFloat(r);return isNaN(a)?r:`${a}%`;case"brazilian_states":if(typeof r=="object"){const{state_name:o,city_names:c,state:d,cities:u}=r;return Array.isArray(c)&&c.length>0?l.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-[13px]",children:[o," - ",c.join(", ")]}):Array.isArray(u)&&u.length>0?l.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-[13px]",children:[o," - ",u.join(", ")]}):l.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-[13px]",children:o||d||"-"})}return r.toString();default:return uT(r,e,n)}}function _v(r){if(typeof r=="number")return r;const e=String(r).replace(/[^\d,\.]/g,"").replace(",",".");return parseFloat(e)||0}function Mve(r){if(!r||r===""||r===null||r===void 0)return!1;const e=_v(r);return!isNaN(e)&&e>0}function tU(r){try{if(typeof r=="string")return _v(r);if(typeof r=="object"&&r){if(r.promotional_price&&Mve(r.promotional_price))return _v(r.promotional_price);if(r.price)return _v(r.price)}return 0}catch(e){return console.error("Error calculating product price:",e),0}}function rU(r,e){if(!e||!r.values)return 0;try{const t=r.values[e.id];return tU(t)}catch(t){return console.error("Error extracting product price:",t),0}}function Rve({selectedCount:r,onClear:e,selectedEntries:t,productNameField:n,productPriceField:s,productUrlField:a,entries:i}){const{addItem:o}=gh(),[c,d]=b.useState(!1),[u,h]=b.useState(!1),f=async()=>{d(!0);try{const g=i.filter(v=>t.includes(v.id));for(const v of g){const x=n?v.values[n.id]:"Product";let y=a?v.values[a.id]:"";const w=rU(v,s);await o(v.id,x,w,1,void 0,y)}const m=g.length===1?"item":"itens";Tn(`${g.length} ${m} adicionados ao carrinho!`,"success"),e()}catch{Tn("Erro ao adicionar itens ao carrinho","error")}finally{d(!1)}},p=async()=>{h(!0);try{const{data:{user:g}}=await G.auth.getUser();if(!g){alert("Você precisa estar logado para adicionar aos favoritos");return}const m=t.map(x=>({user_id:g.id,entry_id:x})),{error:v}=await G.from("user_favorites").upsert(m,{onConflict:"user_id,entry_id"});if(v)throw v;e()}catch{}finally{h(!1)}};return l.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-10 w-full max-w-4xl",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-3 flex items-center",children:[l.jsxs("div",{className:"text-gray-700 dark:text-gray-300",children:["Selecionado ",l.jsx("strong",{children:r})," Produtos"]}),l.jsx("button",{type:"button",className:"ml-4 px-3 py-1 text-sm font-medium text-gray-700 dark:text-gray-300 bg-transparent border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onClick:e,children:l.jsx("span",{children:"Limpar"})}),l.jsx("button",{type:"button",className:"ml-2 px-3 py-1 text-sm font-medium text-gray-700 dark:text-gray-300 bg-transparent border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onClick:p,disabled:u,children:l.jsx("span",{children:u?"Adicionando...":"Favorito"})}),l.jsx("div",{className:"flex-1"}),l.jsx(nt,{onClick:f,disabled:c,size:"sm",children:c?"Adicionando...":"Adicionar ao Carrinho"})]})})}const F4={async getAllByUser(r){const{data:e,error:t}=await G.from("favorite_sites").select("*").eq("user_id",r);if(t)throw t;return e||[]},async add(r,e){await G.from("favorite_sites").upsert([{user_id:r,entry_id:e,id:crypto.randomUUID()}])},async remove(r,e){await G.from("favorite_sites").delete().eq("user_id",r).eq("entry_id",e)}},nU=b.createContext(void 0);function Ive({children:r}){const[e,t]=b.useState([]),[n,s]=b.useState(!1),[a,i]=b.useState(null);b.useEffect(()=>{G.auth.getUser().then(({data:h})=>{var f;i(((f=h==null?void 0:h.user)==null?void 0:f.id)??null)})},[]);const o=async()=>{if(a){s(!0);try{const h=await F4.getAllByUser(a);t(h.map(f=>f.entry_id))}catch(h){console.error("Error fetching favorites:",h)}finally{s(!1)}}},c=async h=>{if(a)try{await F4.add(a,h),t(f=>[...f,h])}catch(f){console.error("Error adding to favorites:",f)}},d=async h=>{if(a)try{await F4.remove(a,h),t(f=>f.filter(p=>p!==h))}catch(f){console.error("Error removing from favorites:",f)}},u=h=>e.includes(h);return b.useEffect(()=>{if(!a)return;o();const h=G.channel(`favorites_${a}`).on("postgres_changes",{event:"*",schema:"public",table:"favorite_sites",filter:`user_id=eq.${a}`},()=>{o()}).subscribe();return()=>{G.removeChannel(h)}},[a]),l.jsx(nU.Provider,{value:{favoriteEntryIds:e,loading:n,addToFavorites:c,removeFromFavorites:d,isFavorite:u,refetch:o},children:r})}function sU(){const r=b.useContext(nU);if(r===void 0)throw new Error("useFavorites must be used within a FavoritesProvider");return r}function Ove({entryId:r}){const{addToFavorites:e,removeFromFavorites:t,isFavorite:n}=sU(),s=n(r);return l.jsx("button",{type:"button","aria-label":s?"Remover dos favoritos":"Adicionar aos favoritos",onClick:()=>s?t(r):e(r),className:"transition-none ml-1 rounded-md p-0.5 outline-none border-none bg-transparent",style:{boxShadow:"none"},children:l.jsx(Z6,{width:20,height:20,filled:s,className:"text-gray-300 dark:text-gray-700 transition-colors hover:text-[#fdb022]",style:{color:s?"#fdb022":void 0}})})}function Fve({value:r,fieldType:e}){const t=c=>c>=80?{letter:"A",bgColor:"#9EF2C9",textColor:"#007C65"}:c>=60?{letter:"B",bgColor:"#C4E5FE",textColor:"#006DCA"}:c>=40?{letter:"C",bgColor:"#EDD9FF",textColor:"#8649E1"}:c>=20?{letter:"D",bgColor:"#FCE081",textColor:"#A75800"}:{letter:"F",bgColor:"#f9b4b4",textColor:"#b84f53"};if(!["moz_da","semrush_as","ahrefs_dr"].includes(e))return null;const s=parseInt(r.toString().replace(/,/g,""));if(isNaN(s)||s<0||s>100)return null;const{letter:a,bgColor:i,textColor:o}=t(s);return l.jsx("div",{className:"inline-flex items-center justify-center w-5 h-5 rounded-sm font-bold ml-2",style:{backgroundColor:i,color:o,fontSize:"13px"},title:`Score ${a}`,children:a})}function Bve(r={}){const e=yve(),{tableLoaded:t=!0,entriesCount:n=0}=r;return b.useEffect(()=>{if(t&&n>0){const s=setTimeout(()=>{e.updatePosition()},150);return()=>clearTimeout(s)}},[t,n,e.updatePosition]),b.useEffect(()=>{const s=new MutationObserver(i=>{i.some(c=>c.type==="childList"&&c.target instanceof HTMLElement&&(c.target.tagName==="TBODY"||c.target.tagName==="THEAD"||c.target.closest("table.marketplace-table")))&&setTimeout(()=>{e.updatePosition()},50)}),a=document.querySelector("table.marketplace-table");return a&&s.observe(a,{childList:!0,subtree:!0}),()=>s.disconnect()},[e.updatePosition]),e}const fT=({text:r,className:e="",children:t,tableLoaded:n,entriesCount:s})=>{const{placement:a,alignX:i,triggerRef:o,tooltipRef:c}=Bve({tableLoaded:n,entriesCount:s});let d="";return i==="left"?d="left-0 -translate-x-0":i==="right"?d="right-0 translate-x-0":d="left-1/2 -translate-x-1/2",l.jsxs("div",{className:`group relative ${e}`,ref:o,children:[t||l.jsx("svg",{className:"w-3 h-3 text-gray-400 dark:text-gray-500 cursor-help",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("div",{ref:c,className:`absolute ${d} w-auto px-3 py-2 bg-gray-900 text-white !text-white text-[13px] rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 ${a==="top"?"bottom-full mb-2":"top-full mt-2"}`,style:{color:"#fff",width:"max-content"},children:[l.jsx("span",{className:"block",style:{color:"#fff"},children:r}),a==="top"?l.jsx("div",{className:`absolute top-full ${i==="center"?"left-1/2 -translate-x-1/2":i==="left"?"left-4":"right-4"} border-4 border-transparent border-t-gray-900`}):l.jsx("div",{className:`absolute bottom-full ${i==="center"?"left-1/2 -translate-x-1/2":i==="left"?"left-4":"right-4"} border-4 border-transparent border-b-gray-900`})]})]})},zve=(r={})=>{const{entriesCount:e,checkInterval:t=100}=r,[n,s]=b.useState(!1),[a,i]=b.useState(0);return b.useEffect(()=>{const o=()=>{const u=document.querySelector('[class*="marketplace"]');if(!u)return!1;const f=u.querySelectorAll("tbody tr, .table-row").length;return i(f),e&&e>0?f>=e:f>0},c=setInterval(()=>{o()&&(s(!0),clearInterval(c))},t),d=setTimeout(()=>{clearInterval(c),s(!0)},5e3);return()=>{clearInterval(c),clearTimeout(d)}},[e,t]),{tableLoaded:n,actualEntriesCount:a}};function Hve({isOpen:r,onClose:e,entry:t,fields:n,productNameField:s}){const[a,i]=b.useState(r),[o,c]=b.useState(t),[d,u]=b.useState(r);if(b.useEffect(()=>{if(r&&t)i(!0),c(t),setTimeout(()=>u(!0),10);else if(!r&&a){const m=setTimeout(()=>i(!1),300);return u(!1),()=>clearTimeout(m)}},[r,t]),!a)return null;const h=o;if(!h)return null;const f=["url","site_url","categories","category","product","button_buy"],p=n.filter(m=>!f.includes(m.field_type)),g=s?h.values[s.id]||"Produto":"Detalhes do Produto";return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`fixed inset-0 z-[999999] bg-black transition-opacity duration-300 ${r?"bg-opacity-50 visible":"bg-opacity-0 invisible"}`,onClick:e}),l.jsx("div",{className:`fixed top-0 right-0 h-full w-full sm:w-96 max-w-md bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800 shadow-2xl z-[999999] transform transition-transform duration-300 ease-in-out ${d?"translate-x-0":"translate-x-full"}`,children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white",children:g}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors hover:rotate-90 transition-transform duration-200",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l.jsxs("div",{className:"space-y-4",children:[p.map(m=>{const x=(m.form_field_settings||{}).marketplace_label||m.label,y=h.values[m.id];return y==null||y===""?null:l.jsxs("div",{className:"space-y-1",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:x}),l.jsx("div",{className:"text-gray-800 dark:text-white text-sm",children:KC(y,m.field_type,!0)})]},m.id)}),p.length===0&&l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma informação adicional disponível"})})]})})]})})]})}function Uve(r,e="desc"){const[t,n]=b.useState({field:r||null,direction:e}),s=b.useCallback(c=>{n(d=>d.field===c?{field:c,direction:d.direction==="asc"?"desc":"asc"}:{field:c,direction:"desc"})},[]),a=b.useCallback((c,d)=>{n({field:c,direction:d})},[]),i=b.useCallback(()=>{n({field:null,direction:"desc"})},[]),o=b.useCallback(()=>t.field!==null,[t.field]);return{sortState:t,handleSort:s,setSorting:a,clearSorting:i,hasActiveSorting:o}}class B4{static findDAField(e){const t=e.find(s=>s.field_type==="moz_da");if(t)return t;const n=["domain_authority","da","authority","ahrefs_dr"];for(const s of n){const a=e.find(i=>i.field_type===s);if(a)return a}return null}static isSortableField(e){return["moz_da","domain_authority","ahrefs_dr","ahrefs_traffic","similarweb_traffic","google_traffic","semrush_as","product","commission","number","text","url"].includes(e.field_type)}static findTrafficFields(e){const t=["ahrefs_traffic","similarweb_traffic","google_traffic","semrush_traffic"];return e.filter(n=>t.includes(n.field_type))}}function $ve({fields:r,onSortChange:e,currentSortField:t}){const n=b.useCallback(()=>{if(t)return;const a=B4.findDAField(r);if(a){e(a.id,"desc");return}const i=B4.findTrafficFields(r);if(i.length>0){e(i[0].id,"desc");return}e("created_at","desc")},[r,e,t]);return b.useEffect(()=>{r.length>0&&n()},[r,n]),{resetToDefaultSorting:b.useCallback(()=>{const a=B4.findDAField(r);e(a?a.id:"created_at","desc")},[r,e]),applyDefaultSorting:n}}function Vve({fields:r,initialField:e,initialDirection:t="desc"}){const{sortState:n,handleSort:s,setSorting:a,clearSorting:i,hasActiveSorting:o}=Uve(e,t),{resetToDefaultSorting:c,applyDefaultSorting:d}=$ve({fields:r,onSortChange:a,currentSortField:n.field});return{sortState:n,handleSort:s,setSorting:a,clearSorting:i,hasActiveSorting:o,resetToDefaultSorting:c,applyDefaultSorting:d}}function pT(r,e){const t=r.values[e.id];if(e.field_type==="product")try{return tU(t)}catch(n){return console.error(`Error extracting price for sorting from field ${e.id}:`,n),0}return t}function Wve(r,e,t){if(r==null&&e==null)return 0;if(r==null)return t==="asc"?-1:1;if(e==null)return t==="asc"?1:-1;const n=Number(r),s=Number(e),a=!isNaN(n)&&isFinite(n),i=!isNaN(s)&&isFinite(s);if(a&&i){const u=n-s;return t==="asc"?u:-u}if(a&&!i)return t==="asc"?-1:1;if(!a&&i)return t==="asc"?1:-1;const o=String(r).toLowerCase(),c=String(e).toLowerCase(),d=o.localeCompare(c,"pt-BR",{numeric:!0,sensitivity:"base"});return t==="asc"?d:-d}function qve(r,e,t){return[...r].sort((n,s)=>{const a=pT(n,e),i=pT(s,e);return Wve(a,i,t)})}function aU(r,e){const t=()=>{var d;return e&&r.find(u=>u.id===e)?e:((d=r[0])==null?void 0:d.id)||""},[n,s]=b.useState(t()),a=b.useCallback(d=>{const u=r.find(f=>f.id===d);if(!u){console.warn(`🚫 [TabNavigation] Tab não encontrada: ${d}`);return}if(u.disabled){console.warn(`🚫 [TabNavigation] Tab desabilitada: ${d}`);return}const h=r.find(f=>f.id===n);console.log("🔄 [TabNavigation] Alternando tabs:"),console.log(`   De: ${(h==null?void 0:h.label)||"N/A"} (${n})`),console.log(`   Para: ${u.label} (${d})`),console.log(`   Timestamp: ${new Date().toISOString()}`),s(d)},[r,n]),i=b.useCallback(()=>{const d=r[0];d&&(console.log(`🔄 [TabNavigation] Resetando para primeira tab: ${d.label}`),a(d.id))},[r,a]),o=b.useCallback(()=>{const u=(r.findIndex(f=>f.id===n)+1)%r.length,h=r[u];h&&!h.disabled&&(console.log(`➡️ [TabNavigation] Avançando para próxima tab: ${h.label}`),a(h.id))},[r,n,a]),c=b.useCallback(()=>{const d=r.findIndex(f=>f.id===n),u=d-1<0?r.length-1:d-1,h=r[u];h&&!h.disabled&&(console.log(`⬅️ [TabNavigation] Retrocedendo para tab anterior: ${h.label}`),a(h.id))},[r,n,a]);return{activeTabId:n,handleTabChange:a,resetToFirstTab:i,goToNextTab:o,goToPreviousTab:c,currentTab:r.find(d=>d.id===n),tabCount:r.length,currentIndex:r.findIndex(d=>d.id===n)}}function Yve(r,e){return!!iU(r,e)}function iU(r,e){if(["ahrefs_traffic","similarweb_traffic","google_traffic","semrush_as"].includes(r))return!0;if(e){const n=e.toLowerCase();return["tráfego","traffic","visitantes","visitas"].some(a=>n.includes(a))}return!1}function Gve(r,e){return iU(r,e)?"traffic":"none"}function Xve({className:r=""}){return l.jsx(kR,{className:`w-4 h-4 text-gray-500 dark:text-gray-400 flex-shrink-0 ${r}`})}function Jh({children:r,fieldType:e,fieldLabel:t,className:n=""}){if(!Yve(e,t))return l.jsx(l.Fragment,{children:r});const a=Gve(e,t),i=()=>{switch(a){case"traffic":return l.jsx(Xve,{});default:return null}};return l.jsxs("div",{className:`flex items-center justify-between gap-2 ${n}`,children:[l.jsx("span",{className:"flex-1 min-w-0",children:r}),i()]})}const Zve=({totalItems:r,initialItemsPerPage:e=10,onPageChange:t,onItemsPerPageChange:n})=>{const[s,a]=b.useState(1),[i,o]=b.useState(e),c=Math.ceil(r/i)||1,d=(s-1)*i,u=Math.min(d+i,r),h=b.useCallback(g=>{o(g),a(1),n==null||n(g)},[n]),f=b.useCallback(g=>{a(g),t==null||t(g)},[t]);return b.useEffect(()=>{s>c&&c>0&&a(c)},[s,c]),{...{currentPage:s,itemsPerPage:i,totalPages:c,startIndex:d,endIndex:u},setCurrentPage:f,handleItemsPerPageChange:h,goToFirstPage:()=>f(1),goToLastPage:()=>f(c),goToNextPage:()=>f(Math.min(s+1,c)),goToPreviousPage:()=>f(Math.max(s-1,1))}},Jve=({itemsPerPage:r,onItemsPerPageChange:e,options:t=[10,25,50,100]})=>{const n=s=>{e(s)};return l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-[13px]",children:"Mostrar"}),l.jsx("div",{className:"relative z-20 bg-transparent",children:l.jsx("select",{className:"w-full py-2 pl-3 pr-8 text-[13px] text-gray-800 bg-transparent border border-gray-300 rounded-lg appearance-none dark:bg-dark-900 h-9 bg-none shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",value:r,onChange:s=>n(Number(s.target.value)),children:t.map(s=>l.jsx("option",{value:s,children:s},s))})}),l.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-[13px]",children:"entradas"})]})},Kve=({itemsPerPage:r,onItemsPerPageChange:e,searchTerm:t,onSearchChange:n,tabs:s,activeTabId:a,onTabChange:i})=>l.jsxs("div",{className:"w-full flex flex-col gap-2 px-4 py-4 border-b border-gray-100 dark:border-white/[0.05] rounded-t-xl sm:flex-row sm:items-center sm:justify-between",children:[l.jsx(Jve,{itemsPerPage:r,onItemsPerPageChange:e}),l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[l.jsx(bJ,{tabs:s,activeTabId:a,onTabChange:i,compact:!0}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{type:"button",className:"absolute text-gray-500 -translate-y-1/2 left-4 top-1/2 dark:text-gray-400 transition-colors hover:text-black focus:text-black",tabIndex:0,"aria-label":"Buscar",onClick:()=>{},disabled:!0,children:l.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.04199 9.37363C3.04199 5.87693 5.87735 3.04199 9.37533 3.04199C12.8733 3.04199 15.7087 5.87693 15.7087 9.37363C15.7087 12.8703 12.8733 15.7053 9.37533 15.7053C5.87735 15.7053 3.04199 12.8703 3.04199 9.37363ZM9.37533 1.54199C5.04926 1.54199 1.54199 5.04817 1.54199 9.37363C1.54199 13.6991 5.04926 17.2053 9.37533 17.2053C11.2676 17.2053 13.0032 16.5344 14.3572 15.4176L17.1773 18.238C17.4702 18.5309 17.945 18.5309 18.2379 18.238C18.5308 17.9451 18.5309 17.4703 18.238 17.1773L15.4182 14.3573C16.5367 13.0033 17.2087 11.2669 17.2087 9.37363C17.2087 5.04817 13.7014 1.54199 9.37533 1.54199Z",fill:"currentColor"})})}),l.jsx("input",{placeholder:"Pesquisar...",className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent py-2.5 pl-12 pr-4 text-[13px] text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 xl:w-[300px]",type:"text",value:t,onChange:o=>n(o.target.value)})]})]})]}),Qve=({currentPage:r,totalPages:e,startIndex:t,endIndex:n,totalItems:s,onPreviousPage:a,onNextPage:i})=>e<=1?null:l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-200 dark:border-gray-800 sm:px-6",children:[l.jsx("div",{className:"flex items-center",children:l.jsxs("p",{className:"text-[13px] text-gray-700 dark:text-gray-300",children:["Mostrando ",t+1," a"," ",n," de"," ",s," resultados"]})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:a,disabled:r===1,className:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700",children:"Anterior"}),l.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Página ",r," de ",e]}),l.jsx("button",{onClick:i,disabled:r===e,className:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700",children:"Próxima"})]})]});function eye({currentPageEntries:r,allEntries:e=[],scope:t="page"}){const[n,s]=b.useState([]),a=t==="page"?r:e,i=b.useMemo(()=>{const u=n.length,f=a.length>0&&a.every(g=>n.includes(g.id)),p=u>0&&!f;return{selectedEntries:n,isAllSelected:f,isIndeterminate:p}},[n,a]),o=(u,h)=>{h.stopPropagation(),s(f=>f.includes(u)?f.filter(p=>p!==u):[...f,u])},c=u=>{if(u.stopPropagation(),i.isAllSelected)s(h=>h.filter(f=>!a.some(p=>p.id===f)));else{const h=a.map(f=>f.id);s(f=>[...f.filter(g=>!h.includes(g)),...h])}},d=()=>{s([])};return{...i,selectedCount:n.length,handleSelectEntry:o,handleSelectAll:c,handleClearSelection:d}}function tye({formId:r}){var rt,je;const{favoriteEntryIds:e}=sU(),{items:t}=gh(),[n,s]=b.useState(!0),[a,i]=b.useState(""),[o,c]=b.useState([]),[d,u]=b.useState([]),[h,f]=b.useState([]),[p,g]=b.useState(""),[m,v]=b.useState(!1),[x,y]=b.useState(null),{currentPage:w,itemsPerPage:k,totalPages:S,startIndex:N,endIndex:A,handleItemsPerPageChange:E,goToNextPage:R,goToPreviousPage:O,setCurrentPage:L}=Zve({totalItems:d.length,initialItemsPerPage:100}),D=[{id:"todos",label:"Todos",icon:l.jsx(wR,{className:"w-4 h-4"})},{id:"promocao",label:"Promoção",icon:l.jsx(RR,{className:"w-4 h-4"})},{id:"favoritos",label:"Favoritos",icon:l.jsx(Z6,{className:"w-4 h-4"})}],{activeTabId:F,handleTabChange:M}=aU(D),{sortState:B,handleSort:z}=Vve({fields:h.map(fe=>({id:fe.id,field_type:fe.field_type,label:fe.label}))}),{tableLoaded:V}=zve({entriesCount:o.length}),W=d.slice((w-1)*k,w*k),{selectedEntries:Z,isAllSelected:q,selectedCount:Q,handleSelectEntry:T,handleSelectAll:H,handleClearSelection:$}=eye({currentPageEntries:W,scope:"page"}),Y=fe=>{y(fe),v(!0)},K=()=>{v(!1),y(null)};b.useEffect(()=>{re()},[r]),b.useEffect(()=>{let fe=[...o];if(F==="promocao"?fe=fe.filter(Re=>{const He=h.find(it=>it.field_type==="product");if(He){const it=Re.values[He.id];if(it&&typeof it=="object"){const Le=it.promotional_price||it.price_promotional;return Le&&parseFloat(Le)>0}}return!1}):F==="favoritos"&&(fe=fe.filter(Re=>e.includes(Re.id))),p){const Re=p.toLowerCase();fe=fe.filter(He=>Object.entries(He.values).some(([it,Le])=>{const ze=h.find(Fe=>Fe.id===it);return ze&&["text","textarea","email","url"].includes(ze.field_type)?String(Le).toLowerCase().includes(Re):!1}))}if(B.field){const Re=h.find(He=>He.id===B.field);Re&&(fe=qve(fe,Re,B.direction))}u(fe)},[o,p,B.field,B.direction,h,F]);async function re(){try{s(!0),i("");const{data:fe,error:Re}=await G.from("form_fields").select("*, form_field_settings (*)").eq("form_id",r).order("position",{ascending:!0});if(Re)throw console.error("❌ [MarketplaceTable] Error loading fields:",Re),Re;const He=fe.filter(Fe=>{const Ze=Fe.form_field_settings;return!((Ze==null?void 0:Ze.visibility)==="hidden"||(Ze==null?void 0:Ze.visibility)==="admin")});f(He);const{data:it,error:Le}=await G.from("form_entries").select(`
          id,
          created_at,
          status,
          form_entry_values (
            field_id,
            value,
            value_json
          )
        `).eq("form_id",r).eq("status","verificado");if(Le)throw console.error("❌ [MarketplaceTable] Error loading entries:",Le),Le;const ze=(it||[]).map(Fe=>{const Ze={};return Fe.form_entry_values.forEach(ft=>{if(ft.value_json!==null)Ze[ft.field_id]=ft.value_json;else try{const xt=JSON.parse(ft.value);xt&&typeof xt=="object"?Ze[ft.field_id]=xt:Ze[ft.field_id]=ft.value}catch{Ze[ft.field_id]=ft.value}}),{id:Fe.id,created_at:Fe.created_at,status:Fe.status,values:Ze}});c(ze)}catch(fe){console.error("❌ [MarketplaceTable] Error loading marketplace data:",fe),i("Erro ao carregar dados do marketplace")}finally{s(!1)}}const oe=h.find(fe=>{var Re;return((Re=fe.form_field_settings)==null?void 0:Re.is_product_name)===!0}),ue=h.find(fe=>{var Re;return((Re=fe.form_field_settings)==null?void 0:Re.is_site_url)===!0}),be=h.find(fe=>fe.field_type==="product"),Ce=h.find(fe=>fe.field_type==="commission"),Se=h.find(fe=>{var Re;return fe.field_type==="button_buy"&&((Re=fe.form_field_settings)==null?void 0:Re.position_last_column)===!0}),De=Se?h.filter(fe=>fe.id!==Se.id):h,at=De.find(fe=>fe.field_type==="url"||fe.field_type==="site_url"),_e=De.find(fe=>fe.field_type==="categories"||fe.field_type==="category"),le=De.find(fe=>fe.field_type==="product"),ut=[at,_e,le].filter(Boolean);return n?l.jsx(lve,{}):a?l.jsx("div",{className:"p-4 text-center text-red-500",children:a}):o.length===0?l.jsx(cve,{message:"Nenhum produto encontrado"}):l.jsxs("div",{className:"w-full relative overflow-hidden",children:[Z.length>0&&l.jsx(Rve,{selectedCount:Q,onClear:$,selectedEntries:Z,productNameField:oe,productPriceField:be,productUrlField:ue,entries:o,fields:h}),l.jsxs("div",{className:"w-full bg-white dark:bg-white/[0.03] overflow-hidden",children:[l.jsx(Kve,{itemsPerPage:k,onItemsPerPageChange:E,searchTerm:p,onSearchChange:g,tabs:D,activeTabId:F,onTabChange:M}),l.jsx("div",{className:"w-full overflow-x-auto overflow-y-hidden custom-scrollbar",children:l.jsxs("table",{className:"marketplace-table w-full divide-y divide-gray-200 dark:divide-gray-800",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"w-10 text-left text-[13px] font-semibold text-gray-900 dark:text-white",children:l.jsx("div",{className:"flex items-center justify-start gap-1",children:l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"checkbox",id:"selectAll",className:"sr-only",checked:q,onChange:H}),l.jsx("label",{htmlFor:"selectAll",className:`flex h-5 w-5 cursor-pointer items-center justify-center rounded-md border-[1.25px] hover:border-brand-500 dark:hover:border-brand-500 ${q?"border-brand-500 bg-brand-500":"bg-transparent border-gray-300 dark:border-gray-700"}`,children:l.jsx("span",{className:q?"":"opacity-0",children:l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M11.6666 3.5L5.24992 9.91667L2.33325 7",stroke:"white",strokeWidth:"1.94437",strokeLinecap:"round",strokeLinejoin:"round"})})})})]})})}),ut.map(fe=>{if(!fe)return null;const He=(fe.form_field_settings||{}).marketplace_label||fe.label;return l.jsx("th",{scope:"col",className:"xl:hidden text-left text-[13px] font-semibold text-gray-900 dark:text-white",children:l.jsx("span",{children:He})},fe.id)}),De.map(fe=>{const Re=fe.form_field_settings||{},He=Re.marketplace_label||fe.label,it=ove(fe);let Le="",ze=!0;const Fe=Re.helptext||Re.help_text||fe.helptext||fe.help_text;if(typeof Fe=="string"&&Fe.trim()!=="")Le=Fe;else switch(fe.field_type){case"brand":Le="Artigo Patrocinado: será em forma de publicidade.";break;case"country":Le="País: País de origem ou audiência.";break;case"moz_da":Le="DA: Pontuação de autoridade do domínio (Moz).";break;case"ahrefs_traffic":case"similarweb_traffic":case"google_traffic":case"semrush_as":Le="Tráfego: Número estimado de visitantes.";break;case"categories":case"category":Le="Categorias: Tópicos principais do site.";break;case"links":Le="Quantidade de Links: Número de links (internos ou externos).";break;case"product":Le="Preço do Artigo: Custo para publicar um artigo.";break;case"site_url":case"url":ze=!1;break;case"toggle":Le="Artigo Patrocinado: será em forma de publicidade.";break;default:He&&He.toLowerCase().includes("site")||He&&He.toLowerCase().includes("comprar")?ze=!1:He&&He.toLowerCase().includes("categoria")?Le="Categorias: Tópicos principais do site.":He&&He.toLowerCase().includes("marca")?Le="Artigo Patrocinado: será em forma de publicidade.":He&&He.toLowerCase().includes("link")&&(Le="Quantidade de Links: Número de links (internos ou externos).");break}return l.jsx("th",{scope:"col",className:`hidden xl:table-cell text-left text-[13px] font-semibold text-gray-900 dark:text-white ${it?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700":""}`,onClick:it?()=>z(fe.id):void 0,children:l.jsx("div",{className:"flex items-center justify-start gap-2",children:l.jsxs("div",{className:"flex items-center justify-start",children:[l.jsx("div",{className:"flex items-center gap-1",children:fe.field_type==="niche"?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{children:He}),l.jsx(fT,{text:"O Site recusará ofertas para artigos relacionados a nichos diferentes dos itens destacados nesta coluna.",tableLoaded:V,entriesCount:o.length})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:He}),ze&&l.jsx(fT,{text:Le,tableLoaded:V,entriesCount:o.length})]})}),it&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:`${B.field===fe.id&&B.direction==="asc"?"fill-brand-500 dark:fill-brand-400":"fill-gray-300 dark:fill-gray-700"}`,width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:`${B.field===fe.id&&B.direction==="desc"?"fill-brand-500 dark:fill-brand-400":"fill-gray-300 dark:fill-gray-700"}`,width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})},fe.id)}),Se&&l.jsx("th",{scope:"col",className:"xl:hidden text-left text-[13px] font-semibold text-gray-900 dark:text-white",children:l.jsx("span",{children:((rt=Se==null?void 0:Se.form_field_settings)==null?void 0:rt.marketplace_label)||(Se==null?void 0:Se.label)})}),Se&&l.jsx("th",{scope:"col",className:"hidden xl:table-cell sticky right-0 z-10 bg-gray-50 dark:bg-gray-800 text-left text-[13px] font-semibold text-gray-900 dark:text-white",style:{boxShadow:"-2px 0 4px rgba(0, 0, 0, 0.05)"},children:l.jsx("span",{children:((je=Se==null?void 0:Se.form_field_settings)==null?void 0:je.marketplace_label)||(Se==null?void 0:Se.label)})})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-800 dark:bg-gray-900",children:W.map(fe=>{const Re=oe?fe.values[oe.id]:"Product";let He=ue?fe.values[ue.id]:"";typeof He!="string"&&(He="");const it=rU(fe,be),Le=t.some(Fe=>Fe.entry_id===fe.id),ze=`checkbox-${fe.id}`;return l.jsxs("tr",{className:`cursor-pointer xl:cursor-auto ${Z.includes(fe.id)?"bg-brand-50 dark:bg-brand-900/10":""}`,onClick:Fe=>{window.innerWidth<1280&&(Fe.target.closest("input, label")||Y(fe))},children:[l.jsx("td",{className:"whitespace-nowrap text-[13px]",children:l.jsxs("div",{className:"flex items-center justify-start gap-1",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"checkbox",id:ze,className:"sr-only",checked:Z.includes(fe.id),onChange:Fe=>T(fe.id,Fe)}),l.jsx("label",{htmlFor:ze,className:`flex h-5 w-5 cursor-pointer items-center justify-center rounded-md border-[1.25px] hover:border-brand-500 dark:hover:border-brand-500 ${Z.includes(fe.id)?"border-brand-500 bg-brand-500":"bg-transparent border-gray-300 dark:border-gray-700"}`,children:l.jsx("span",{className:Z.includes(fe.id)?"":"opacity-0",children:l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M11.6666 3.5L5.24992 9.91667L2.33325 7",stroke:"white",strokeWidth:"1.94437",strokeLinecap:"round",strokeLinejoin:"round"})})})})]}),l.jsx(Ove,{entryId:fe.id})]})}),ut.map(Fe=>Fe?l.jsx("td",{className:"xl:hidden text-[13px] text-gray-700 dark:text-gray-300 xl:whitespace-nowrap",children:l.jsx("div",{className:"flex items-center justify-start",children:(()=>{const Ze=fe.values[Fe.id];if(Fe.field_type==="product"){const xt=Ce&&parseFloat(fe.values[Ce.id])||0;return l.jsx(XC,{commission:xt,productData:Ze,layout:"inline",showMarginBelow:!1,showOriginalPrice:!0})}if(Ze==="Sim"||Ze==="Não"){const xt=Ze==="Sim"?"badge-sponsored-yes":"badge-sponsored-no";return l.jsx(Jh,{fieldType:Fe.field_type,fieldLabel:Fe.label,children:l.jsx("span",{className:xt,children:Ze})})}const ft=KC(Ze,Fe.field_type,!0,Fe.label);return l.jsx(Jh,{fieldType:Fe.field_type,fieldLabel:Fe.label,children:ft})})()})},Fe.id):null),De.map(Fe=>l.jsx("td",{className:"hidden xl:table-cell whitespace-nowrap text-[13px] text-gray-700 dark:text-gray-300",children:l.jsx("div",{className:"flex items-center justify-start",children:(()=>{const Ze=fe.values[Fe.id],ft=Ze==null?void 0:Ze.toString().trim();if(ft==="Sim"||ft==="Não"){const Ae=ft==="Sim"?"badge-sponsored-yes":"badge-sponsored-no";return l.jsx(Jh,{fieldType:Fe.field_type,fieldLabel:Fe.label,children:l.jsx("span",{className:Ae,children:ft})})}if(Ze==="Sim"||Ze==="Não"){const Ae=Ze==="Sim"?"badge-sponsored-yes":"badge-sponsored-no";return l.jsx(Jh,{fieldType:Fe.field_type,fieldLabel:Fe.label,children:l.jsx("span",{className:Ae,children:Ze})})}if(Fe.field_type==="product"){const Ae=Ce&&parseFloat(fe.values[Ce.id])||0;return l.jsx(XC,{commission:Ae,productData:Ze,layout:"inline",showMarginBelow:!1,showOriginalPrice:!0})}if(["moz_da","semrush_as","ahrefs_dr"].includes(Fe.field_type)){if(Ze==null)return"-";const Ae=parseInt(Ze.toString().replace(/,/g,""));return l.jsx(Jh,{fieldType:Fe.field_type,fieldLabel:Fe.label,children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{children:Ze}),!isNaN(Ae)&&l.jsx(Fve,{value:Ae,fieldType:Fe.field_type})]})})}const xt=KC(Ze,Fe.field_type,!0,Fe.label);return l.jsx(Jh,{fieldType:Fe.field_type,fieldLabel:Fe.label,children:xt})})()})},Fe.id)),Se&&l.jsx("td",{className:"xl:hidden text-[13px] xl:whitespace-nowrap",children:l.jsx("div",{className:"flex items-center justify-start",children:l.jsx(cT,{entryId:fe.id,productName:Re,price:it,url:He,isInCart:Le,buttonStyle:"outline"})})}),Se&&l.jsx("td",{className:"hidden xl:table-cell sticky right-0 z-10 whitespace-nowrap text-[13px]",style:{boxShadow:"rgba(0, 0, 0, 0.05) -2px 0px 4px"},children:l.jsx("div",{className:"flex items-center justify-start",children:l.jsx(cT,{entryId:fe.id,productName:Re,price:it,url:He,isInCart:Le,buttonStyle:"outline"})})})]},fe.id)})})]})}),l.jsx(Qve,{currentPage:w,totalPages:S,totalItems:d.length,startIndex:N,endIndex:A,onPreviousPage:O,onNextPage:R,onPageChange:L})]}),l.jsx(Hve,{isOpen:m,onClose:K,entry:x,fields:De,productNameField:oe})]})}function rye({formId:r}){const[e,t]=b.useState(!0),[n,s]=b.useState(""),[a,i]=b.useState(!1);b.useEffect(()=>{o()},[r]);async function o(){try{t(!0),s("");const{data:c,error:d}=await G.from("forms").select("id").eq("id",r).eq("status","published").single();if(d)throw d;i(!!c)}catch(c){console.error("Error checking form:",c),s("Error loading marketplace data")}finally{t(!1)}}return e?null:n?l.jsx("div",{className:"p-4 text-center text-error-500",children:n}):a?l.jsx("div",{className:"w-full xl:-mx-6",children:l.jsx("div",{className:"w-full xl:overflow-x-auto xl:px-6",children:l.jsx(Ive,{children:l.jsx(tye,{formId:r})})})}):l.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"Formulário não encontrado ou não está publicado"})}function nye(){const{slug:r}=nc(),e=Sr(),[t,n]=b.useState(null),[s,a]=b.useState(!0),[i,o]=b.useState("");b.useEffect(()=>{c()},[r]);async function c(){try{a(!0),o("");const{data:u,error:h}=await G.from("pages").select("*").eq("slug",r).eq("status","published").single();if(h)throw h;if(!u){e("/404");return}n(u)}catch(u){console.error("Error loading page:",u),o("Erro ao carregar página"),e("/404")}finally{a(!1)}}const d=u=>{const h=[];let f=0;const p=/\[(form|form_entries|user_form_entries|marketplace)\s+id="([^"]+)"\]/g;let g;for(;(g=p.exec(u))!==null;){g.index>f&&h.push(l.jsx("div",{dangerouslySetInnerHTML:{__html:u.slice(f,g.index)}},`text-${g.index}`));const[m,v,x]=g;v==="form"?h.push(l.jsx("div",{className:"w-full my-8",children:l.jsx(XH,{formId:x})},`form-${x}`)):v==="form_entries"?h.push(l.jsx("div",{className:"w-full my-8",children:l.jsx(eve,{formId:x})},`entries-${x}`)):v==="user_form_entries"?h.push(l.jsx("div",{className:"w-full my-8",children:l.jsx(ive,{formId:x})},`user-entries-${x}`)):v==="marketplace"&&h.push(l.jsx("div",{className:"w-full my-8",children:l.jsx(rye,{formId:x})},`marketplace-${x}`)),f=g.index+g[0].length}return f<u.length&&h.push(l.jsx("div",{dangerouslySetInnerHTML:{__html:u.slice(f)}},"text-end")),h};return s?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):i||!t?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-error-500",children:i||"Página não encontrada"})}):l.jsxs(l.Fragment,{children:[l.jsx(er,{title:t.meta_title||t.title,description:t.meta_description||`View ${t.title} page`}),l.jsxs("div",{className:"w-full rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03] overflow-hidden",children:[l.jsx("h1",{className:"mb-6 text-2xl font-semibold text-gray-800 dark:text-white/90",children:t.title}),l.jsx("div",{className:`w-full prose max-w-none dark:prose-invert \r
                     prose-headings:text-gray-800\r
                     prose-p:text-gray-600\r
                     prose-strong:text-gray-800\r
                     prose-a:text-brand-600\r
                     prose-li:text-gray-600\r
                     prose-blockquote:text-gray-600\r
                     [&>div]:text-gray-600\r
                     [&_p]:text-gray-600\r
                     [&_h1]:text-gray-800\r
                     [&_h2]:text-gray-800\r
                     [&_h3]:text-gray-800\r
                     [&_h4]:text-gray-800\r
                     [&_h5]:text-gray-800\r
                     [&_h6]:text-gray-800\r
                     [&_div_p]:text-gray-600\r
                     [&_*[style*='color']]:text-gray-600\r
                     dynamic-content\r
                     overflow-hidden`,children:d(t.content)})]})]})}function sye(){const r=Sr(),[e,t]=b.useState([]),[n,s]=b.useState(!0),[a,i]=b.useState(""),[o,c]=b.useState("");b.useEffect(()=>{d()},[]);async function d(){try{s(!0),i("");const{data:g,error:m}=await G.from("menu_items").select("*").order("position",{ascending:!0});if(m)throw m;t(g||[])}catch(g){console.error("Error loading menu items:",g),i("Erro ao carregar lista de itens do menu")}finally{s(!1)}}const u=()=>{r("/menu-dash/new")},h=g=>{r(`/menu-dash/edit/${g.id}`)},f=async g=>{if(confirm("Tem certeza que deseja excluir este item? Esta ação não pode ser desfeita."))try{s(!0),i(""),c("");const{error:m}=await G.from("menu_items").delete().eq("id",g);if(m)throw m;c("Item excluído com sucesso"),await d()}catch(m){console.error("Error deleting item:",m),i("Erro ao excluir item")}finally{s(!1)}},p=g=>new Date(g).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return n&&!e.length?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):l.jsxs(vh,{permission:"menu.view",fallback:l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-error-500",children:"Acesso não autorizado"})}),children:[l.jsx(er,{pageTitle:"Dashboard de Menu",description:"Gerenciar menu do dashboard"}),l.jsx(Dr,{pageTitle:"Dashboard de Menu"}),a&&l.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:a}),o&&l.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:o}),l.jsx("div",{className:"mb-6",children:l.jsx(nt,{onClick:u,children:"Novo Item"})}),l.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:l.jsx("div",{className:"max-w-full overflow-x-auto",children:l.jsx("div",{className:"min-w-[1102px]",children:l.jsxs(To,{children:[l.jsx(Po,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:l.jsxs(Mr,{children:[l.jsx(et,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Nome"}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Caminho"}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Posição"}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Visível"}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Última Atualização"}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Ações"})]})}),l.jsxs(Lo,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:[e.map(g=>l.jsxs(Mr,{children:[l.jsxs(et,{className:"px-5 py-4 sm:px-6 text-start",children:[l.jsx("span",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:g.name}),g.description&&l.jsx("span",{className:"block text-sm text-gray-500 dark:text-gray-400",children:g.description})]}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:g.path||"-"}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:g.position}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:l.jsx(Dt,{color:g.is_visible?"success":"error",children:g.is_visible?"Sim":"Não"})}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:p(g.updated_at)}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>h(g),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Editar",children:l.jsx(Ao,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>f(g.id),className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",title:"Excluir",children:l.jsx(Fa,{className:"w-5 h-5"})})]})})]},g.id)),e.length===0&&l.jsx(Mr,{children:l.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"Nenhum item encontrado."})})]})]})})})})]})}function gT(){const{id:r}=nc(),e=Sr(),[t,n]=b.useState(!1),[s,a]=b.useState(""),[i,o]=b.useState(""),[c,d]=b.useState([]),[u,h]=b.useState([]),[f,p]=b.useState({}),[g,m]=b.useState({name:"",description:"",icon:"",path:"",parent_id:"",position:0,is_visible:!0,visible_to:"all",selectedPage:""}),v=Object.keys(fy).filter(N=>N!=="default").map(N=>({value:N,label:N,icon:ht.createElement(fy[N])}));b.useEffect(()=>{(async()=>{n(!0);try{await Promise.all([x(),y(),r?w(r):Promise.resolve()])}catch(A){console.error("Error initializing data:",A),a("Erro ao carregar dados")}finally{n(!1)}})()},[r]);async function x(){try{const{data:N,error:A}=await G.from("menu_items").select("*").is("parent_id",null).order("position",{ascending:!0});if(A)throw A;d(N||[])}catch(N){throw console.error("Error loading parent menu items:",N),N}}async function y(){try{const{data:N,error:A}=await G.from("pages").select("id, title, slug").eq("status","published").order("title",{ascending:!0});if(A)throw A;h(N||[])}catch(N){throw console.error("Error loading pages:",N),N}}async function w(N){try{const{data:A,error:E}=await G.from("menu_items").select("*").eq("id",N).single();if(E)throw E;if(A&&(m({name:A.name,description:A.description||"",icon:A.icon||"",path:A.path||"",parent_id:A.parent_id||"",position:A.position,is_visible:A.is_visible,visible_to:A.visible_to||"all",selectedPage:""}),A.path)){const R=A.path.match(/^\/pages\/(.+)$/);if(R){const O=R[1],L=u.find(D=>D.slug===O);L&&m(D=>({...D,selectedPage:L.id}))}}}catch(A){throw console.error("Error loading menu item:",A),A}}const k=()=>{const N={};let A=!0;return g.name.trim()||(N.name="Nome é obrigatório",A=!1),!g.selectedPage&&g.path&&!g.path.startsWith("/")&&!g.path.startsWith("#")&&(N.path="Caminho deve começar com / ou #",A=!1),g.position<0&&(N.position="Posição deve ser um número positivo",A=!1),p(N),A},S=async N=>{N.preventDefault();try{if(!k())return;n(!0),a(""),o("");let A=g.path;if(g.selectedPage){const O=u.find(L=>L.id===g.selectedPage);O&&(A=`/pages/${O.slug}`)}const{data:{user:E}}=await G.auth.getUser();if(!E)throw new Error("Usuário não autenticado");const R={name:g.name.trim(),description:g.description.trim()||null,icon:g.icon||null,path:A.trim()||null,parent_id:g.parent_id||null,position:g.position,is_visible:g.is_visible,visible_to:g.visible_to,updated_by:E.id};if(r){const{error:O}=await G.from("menu_items").update(R).eq("id",r);if(O)throw O;o("Item do menu atualizado com sucesso")}else{const{error:O}=await G.from("menu_items").insert([{...R,created_by:E.id}]);if(O)throw O;o("Item do menu criado com sucesso")}setTimeout(()=>{e("/menu-dash")},1500)}catch(A){console.error("Error saving menu item:",A),a("Erro ao salvar item do menu")}finally{n(!1)}};return t?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):l.jsxs(vh,{permission:"menu.edit",fallback:l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-error-500",children:"Acesso não autorizado"})}),children:[l.jsx(er,{title:`${r?"Editar":"Novo"} Item do Menu | Painel Admin`,description:"Gerenciar itens do menu do dashboard"}),l.jsx(Dr,{pageTitle:`${r?"Editar":"Novo"} Item do Menu`}),l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]",children:[s&&l.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:s}),i&&l.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:i}),l.jsxs("form",{onSubmit:S,className:"max-w-2xl space-y-6",children:[l.jsxs("div",{children:[l.jsxs(Me,{children:["Nome ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"text",value:g.name,onChange:N=>m({...g,name:N.target.value}),error:!!f.name,hint:f.name,required:!0})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Descrição"}),l.jsx(tl,{value:g.description,onChange:N=>m({...g,description:N}),rows:3})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Ícone"}),l.jsx(or,{options:[{value:"",label:"Nenhum"},...v],value:g.icon,onChange:N=>m({...g,icon:N})})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Link para Página"}),l.jsx(or,{options:[{value:"",label:"Nenhum (usar caminho personalizado)"},...u.map(N=>({value:N.id,label:N.title}))],value:g.selectedPage,onChange:N=>m({...g,selectedPage:N,path:N?"":g.path})}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Selecione uma página existente para vincular, ou deixe vazio para usar um caminho personalizado"})]}),!g.selectedPage&&l.jsxs("div",{children:[l.jsx(Me,{children:"Caminho"}),l.jsx(st,{type:"text",value:g.path,onChange:N=>m({...g,path:N.target.value}),error:!!f.path,hint:f.path,placeholder:"/exemplo/caminho ou #submenu"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Use # para criar um grupo de submenu sem um link direto"})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Item de Menu Pai"}),l.jsx(or,{options:[{value:"",label:"Nenhum (item raiz)"},...c.filter(N=>!r||N.id!==r).map(N=>({value:N.id,label:N.name}))],value:g.parent_id,onChange:N=>m({...g,parent_id:N})})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Posição ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"number",value:g.position,onChange:N=>m({...g,position:parseInt(N.target.value)}),error:!!f.position,hint:f.position,min:"0",required:!0})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Visibilidade"}),l.jsx(or,{options:[{value:"all",label:"Todos os Usuários"},{value:"publisher",label:"Apenas Publishers"},{value:"advertiser",label:"Apenas Anunciantes"}],value:g.visible_to??"",onChange:N=>m({...g,visible_to:N})}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Controle qual tipo de usuário pode ver este item do menu"})]}),l.jsxs("div",{className:"flex gap-4 pt-6",children:[l.jsx(nt,{variant:"outline",onClick:()=>e("/menu-dash"),children:"Cancelar"}),l.jsx(nt,{disabled:t,children:t?"Salvando...":"Salvar"})]})]})]})]})}function aye({formId:r}){const[e,t]=b.useState(!1),[n,s]=b.useState(!1),[a,i]=b.useState(!1),[o,c]=b.useState(!1),d=`[form id="${r}"]`,u=`[form_entries id="${r}"]`,h=`[user_form_entries id="${r}"]`,f=`[marketplace id="${r}"]`,p=async(g,m)=>{try{await navigator.clipboard.writeText(g),m==="form"?(t(!0),setTimeout(()=>t(!1),2e3)):m==="entries"?(s(!0),setTimeout(()=>s(!1),2e3)):m==="user_entries"?(i(!0),setTimeout(()=>i(!1),2e3)):m==="marketplace"&&(c(!0),setTimeout(()=>c(!1),2e3))}catch(v){console.error("Failed to copy:",v)}};return l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg font-mono text-sm text-gray-700 dark:text-gray-300",children:d}),l.jsxs(nt,{onClick:()=>p(d,"form"),variant:"outline",className:"min-w-[100px]",children:[l.jsx(qc,{className:"w-5 h-5 mr-2"}),e?"Copiado!":"Copiar"]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg font-mono text-sm text-gray-700 dark:text-gray-300",children:u}),l.jsxs(nt,{onClick:()=>p(u,"entries"),variant:"outline",className:"min-w-[100px]",children:[l.jsx(qc,{className:"w-5 h-5 mr-2"}),n?"Copiado!":"Copiar"]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg font-mono text-sm text-gray-700 dark:text-gray-300",children:h}),l.jsxs(nt,{onClick:()=>p(h,"user_entries"),variant:"outline",className:"min-w-[100px]",children:[l.jsx(qc,{className:"w-5 h-5 mr-2"}),a?"Copiado!":"Copiar"]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg font-mono text-sm text-gray-700 dark:text-gray-300",children:f}),l.jsxs(nt,{onClick:()=>p(f,"marketplace"),variant:"outline",className:"min-w-[100px]",children:[l.jsx(qc,{className:"w-5 h-5 mr-2"}),o?"Copiado!":"Copiar"]})]}),l.jsxs("div",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:[l.jsx("p",{children:l.jsx("strong",{children:"Shortcodes:"})}),l.jsxs("ul",{className:"list-disc pl-5 mt-1",children:[l.jsxs("li",{children:[l.jsx("code",{children:'[form id="..."]'})," - Exibe o formulário para preenchimento"]}),l.jsxs("li",{children:[l.jsx("code",{children:'[form_entries id="..."]'})," - Exibe todas as entradas do formulário"]}),l.jsxs("li",{children:[l.jsx("code",{children:'[user_form_entries id="..."]'})," - Exibe apenas as entradas enviadas pelo usuário atual"]}),l.jsxs("li",{children:[l.jsx("code",{children:'[marketplace id="..."]'})," - Exibe as entradas verificadas em formato de marketplace"]})]})]})]})}function iye(){const r=Sr(),[e,t]=b.useState([]),[n,s]=b.useState(!0),[a,i]=b.useState(""),[o,c]=b.useState(""),[d,u]=b.useState(!1),[h,f]=b.useState({}),[p,g]=b.useState(""),[m,v]=b.useState(null),[x,y]=b.useState(!1);b.useEffect(()=>{w()},[]);async function w(){try{s(!0),i("");const{data:O,error:L}=await G.from("forms").select("*, fields:form_fields(*)").order("created_at",{ascending:!1});if(L)throw L;t(O||[])}catch(O){console.error("Error loading forms:",O),i("Erro ao carregar lista de formulários")}finally{s(!1)}}const k=()=>{g(""),f({}),u(!0)},S=async O=>{O.preventDefault();try{if(!p.trim()){f({title:"Título é obrigatório"});return}s(!0),i(""),c("");const{data:{user:L}}=await G.auth.getUser();if(!L)throw new Error("Usuário não autenticado");const{data:D,error:F}=await G.from("forms").insert([{title:p.trim(),fields:[],validation_rules:{},created_by:L.id}]).select().single();if(F)throw F;if(!D)throw new Error("Formulário não criado");u(!1),r(`/forms/edit/${D.id}`)}catch(L){console.error("Error creating form:",L),i("Erro ao criar formulário")}finally{s(!1)}},N=O=>{r(`/forms/edit/${O.id}`)},A=async O=>{if(confirm("Tem certeza que deseja excluir este formulário? Esta ação não pode ser desfeita."))try{s(!0),i(""),c("");const{error:L}=await G.from("forms").delete().eq("id",O);if(L)throw L;c("Formulário excluído com sucesso"),await w()}catch(L){console.error("Error deleting form:",L),i("Erro ao excluir formulário")}finally{s(!1)}},E=O=>{v(O),y(!0)},R=O=>new Date(O).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return n&&!e.length?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):l.jsxs(vh,{permission:"forms.view",fallback:l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-error-500",children:"Acesso não autorizado"})}),children:[l.jsx(er,{title:"Formulários | Painel Admin",description:"Gerenciar formulários do sistema"}),l.jsx(Dr,{pageTitle:"Formulários"}),a&&l.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:a}),o&&l.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:o}),l.jsx("div",{className:"mb-6",children:l.jsx(nt,{onClick:k,children:"Novo Formulário"})}),l.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:l.jsx("div",{className:"max-w-full overflow-x-auto",children:l.jsx("div",{className:"min-w-[1102px]",children:l.jsxs(To,{children:[l.jsx(Po,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:l.jsxs(Mr,{children:[l.jsx(et,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Título"}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Campos"}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Status"}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Última Atualização"}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:"Ações"})]})}),l.jsxs(Lo,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:[e.map(O=>{var L;return l.jsxs(Mr,{children:[l.jsxs(et,{className:"px-5 py-4 sm:px-6 text-start",children:[l.jsx("span",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:O.title}),O.description&&l.jsx("span",{className:"block text-sm text-gray-500 dark:text-gray-400",children:O.description}),l.jsx("button",{onClick:()=>E(O),className:"mt-2 text-sm text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Ver Shortcodes"})]}),l.jsxs(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:[((L=O.fields)==null?void 0:L.length)||0," campos"]}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:l.jsx(Dt,{color:O.status==="published"?"success":O.status==="archived"?"error":"warning",children:O.status==="published"?"Publicado":O.status==="archived"?"Arquivado":"Rascunho"})}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:R(O.updated_at)}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-theme-sm dark:text-gray-400",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>N(O),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Editar",children:l.jsx(Ao,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>r(`/forms/settings/${O.id}`),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Configurações",children:l.jsx(G6,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>A(O.id),className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",title:"Excluir",children:l.jsx(Fa,{className:"w-5 h-5"})})]})})]},O.id)}),e.length===0&&l.jsx(Mr,{children:l.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"Nenhum registro encontrado."})})]})]})})})}),l.jsx(ai,{isOpen:d,onClose:()=>u(!1),className:"max-w-[500px] m-4",children:l.jsxs("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"text-xl font-semibold text-gray-800 dark:text-white/90",children:"Novo Formulário"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Digite um nome para seu novo formulário"})]}),l.jsxs("form",{onSubmit:S,children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs(Me,{children:["Título do Formulário ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"text",value:p,onChange:O=>{g(O.target.value),h.title&&f({})},error:!!h.title,hint:h.title,placeholder:"Digite o título do formulário",required:!0})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(nt,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),l.jsx(nt,{disabled:n,children:n?"Salvando...":"Salvar"})]})]})]})}),l.jsx(ai,{isOpen:x,onClose:()=>y(!1),className:"max-w-[700px] m-4",children:l.jsxs("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"text-xl font-semibold text-gray-800 dark:text-white/90",children:"Shortcodes"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Use estes shortcodes para inserir o formulário ou sua listagem em páginas"})]}),m&&l.jsx(aye,{formId:m.id}),l.jsx("div",{className:"flex justify-end mt-6",children:l.jsx(nt,{variant:"outline",onClick:()=>y(!1),children:"Fechar"})})]})})]})}const oU=b.createContext({dragDropManager:void 0});function zr(r){"@babel/helpers - typeof";return zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr(r)}function Ti(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var mT=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),xT=function(){return Math.random().toString(36).substring(7).split("").join(".")},vT={INIT:"@@redux/INIT"+xT(),REPLACE:"@@redux/REPLACE"+xT()};function oye(r){if(typeof r!="object"||r===null)return!1;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}function lU(r,e,t){var n;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Ti(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Ti(1));return t(lU)(r,e)}if(typeof r!="function")throw new Error(Ti(2));var s=r,a=e,i=[],o=i,c=!1;function d(){o===i&&(o=i.slice())}function u(){if(c)throw new Error(Ti(3));return a}function h(m){if(typeof m!="function")throw new Error(Ti(4));if(c)throw new Error(Ti(5));var v=!0;return d(),o.push(m),function(){if(v){if(c)throw new Error(Ti(6));v=!1,d();var y=o.indexOf(m);o.splice(y,1),i=null}}}function f(m){if(!oye(m))throw new Error(Ti(7));if(typeof m.type>"u")throw new Error(Ti(8));if(c)throw new Error(Ti(9));try{c=!0,a=s(a,m)}finally{c=!1}for(var v=i=o,x=0;x<v.length;x++){var y=v[x];y()}return m}function p(m){if(typeof m!="function")throw new Error(Ti(10));s=m,f({type:vT.REPLACE})}function g(){var m,v=h;return m={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(Ti(11));function w(){y.next&&y.next(u())}w();var k=v(w);return{unsubscribe:k}}},m[mT]=function(){return this},m}return f({type:vT.INIT}),n={dispatch:f,subscribe:h,getState:u,replaceReducer:p},n[mT]=g,n}function Qt(r,e,...t){if(lye()&&e===void 0)throw new Error("invariant requires an error message argument");if(!r){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;n=new Error(e.replace(/%s/g,function(){return t[s++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function lye(){return typeof process<"u"&&!0}function cye(r,e,t){return e.split(".").reduce((n,s)=>n&&n[s]?n[s]:t||null,r)}function dye(r,e){return r.filter(t=>t!==e)}function cU(r){return typeof r=="object"}function uye(r,e){const t=new Map,n=a=>{t.set(a,t.has(a)?t.get(a)+1:1)};r.forEach(n),e.forEach(n);const s=[];return t.forEach((a,i)=>{a===1&&s.push(i)}),s}function hye(r,e){return r.filter(t=>e.indexOf(t)>-1)}const GE="dnd-core/INIT_COORDS",U2="dnd-core/BEGIN_DRAG",XE="dnd-core/PUBLISH_DRAG_SOURCE",$2="dnd-core/HOVER",V2="dnd-core/DROP",W2="dnd-core/END_DRAG";function yT(r,e){return{type:GE,payload:{sourceClientOffset:e||null,clientOffset:r||null}}}const fye={type:GE,payload:{clientOffset:null,sourceClientOffset:null}};function pye(r){return function(t=[],n={publishSource:!0}){const{publishSource:s=!0,clientOffset:a,getSourceClientOffset:i}=n,o=r.getMonitor(),c=r.getRegistry();r.dispatch(yT(a)),gye(t,o,c);const d=vye(t,o);if(d==null){r.dispatch(fye);return}let u=null;if(a){if(!i)throw new Error("getSourceClientOffset must be defined");mye(i),u=i(d)}r.dispatch(yT(a,u));const f=c.getSource(d).beginDrag(o,d);if(f==null)return;xye(f),c.pinSource(d);const p=c.getSourceType(d);return{type:U2,payload:{itemType:p,item:f,sourceId:d,clientOffset:a||null,sourceClientOffset:u||null,isSourcePublic:!!s}}}}function gye(r,e,t){Qt(!e.isDragging(),"Cannot call beginDrag while dragging."),r.forEach(function(n){Qt(t.getSource(n),"Expected sourceIds to be registered.")})}function mye(r){Qt(typeof r=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function xye(r){Qt(cU(r),"Item must be an object.")}function vye(r,e){let t=null;for(let n=r.length-1;n>=0;n--)if(e.canDragSource(r[n])){t=r[n];break}return t}function yye(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function bye(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),n.forEach(function(s){yye(r,s,t[s])})}return r}function wye(r){return function(t={}){const n=r.getMonitor(),s=r.getRegistry();kye(n),Nye(n).forEach((i,o)=>{const c=Cye(i,o,s,n),d={type:V2,payload:{dropResult:bye({},t,c)}};r.dispatch(d)})}}function kye(r){Qt(r.isDragging(),"Cannot call drop while not dragging."),Qt(!r.didDrop(),"Cannot call drop twice during one drag operation.")}function Cye(r,e,t,n){const s=t.getTarget(r);let a=s?s.drop(n,r):void 0;return Sye(a),typeof a>"u"&&(a=e===0?{}:n.getDropResult()),a}function Sye(r){Qt(typeof r>"u"||cU(r),"Drop result must either be an object or undefined.")}function Nye(r){const e=r.getTargetIds().filter(r.canDropOnTarget,r);return e.reverse(),e}function Eye(r){return function(){const t=r.getMonitor(),n=r.getRegistry();_ye(t);const s=t.getSourceId();return s!=null&&(n.getSource(s,!0).endDrag(t,s),n.unpinSource()),{type:W2}}}function _ye(r){Qt(r.isDragging(),"Cannot call endDrag while not dragging.")}function QC(r,e){return e===null?r===null:Array.isArray(r)?r.some(t=>t===e):r===e}function jye(r){return function(t,{clientOffset:n}={}){Aye(t);const s=t.slice(0),a=r.getMonitor(),i=r.getRegistry(),o=a.getItemType();return Pye(s,i,o),Tye(s,a,i),Lye(s,a,i),{type:$2,payload:{targetIds:s,clientOffset:n||null}}}}function Aye(r){Qt(Array.isArray(r),"Expected targetIds to be an array.")}function Tye(r,e,t){Qt(e.isDragging(),"Cannot call hover while not dragging."),Qt(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<r.length;n++){const s=r[n];Qt(r.lastIndexOf(s)===n,"Expected targetIds to be unique in the passed array.");const a=t.getTarget(s);Qt(a,"Expected targetIds to be registered.")}}function Pye(r,e,t){for(let n=r.length-1;n>=0;n--){const s=r[n],a=e.getTargetType(s);QC(a,t)||r.splice(n,1)}}function Lye(r,e,t){r.forEach(function(n){t.getTarget(n).hover(e,n)})}function Dye(r){return function(){if(r.getMonitor().isDragging())return{type:XE}}}function Mye(r){return{beginDrag:pye(r),publishDragSource:Dye(r),hover:jye(r),drop:wye(r),endDrag:Eye(r)}}class Rye{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;function n(a){return(...i)=>{const o=a.apply(e,i);typeof o<"u"&&t(o)}}const s=Mye(this);return Object.keys(s).reduce((a,i)=>{const o=s[i];return a[i]=n(o),a},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function Iye(r,e){return{x:r.x+e.x,y:r.y+e.y}}function dU(r,e){return{x:r.x-e.x,y:r.y-e.y}}function Oye(r){const{clientOffset:e,initialClientOffset:t,initialSourceClientOffset:n}=r;return!e||!t||!n?null:dU(Iye(e,n),t)}function Fye(r){const{clientOffset:e,initialClientOffset:t}=r;return!e||!t?null:dU(e,t)}const Em=[],ZE=[];Em.__IS_NONE__=!0;ZE.__IS_ALL__=!0;function Bye(r,e){return r===Em?!1:r===ZE||typeof e>"u"?!0:hye(e,r).length>0}class zye{subscribeToStateChange(e,t={}){const{handlerIds:n}=t;Qt(typeof e=="function","listener must be a function."),Qt(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const a=()=>{const i=this.store.getState(),o=i.stateId;try{o===s||o===s+1&&!Bye(i.dirtyHandlerIds,n)||e()}finally{s=o}};return this.store.subscribe(a)}subscribeToOffsetChange(e){Qt(typeof e=="function","listener must be a function.");let t=this.store.getState().dragOffset;const n=()=>{const s=this.store.getState().dragOffset;s!==t&&(t=s,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return Qt(t,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(Qt(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),s=this.getItemType();return QC(n,s)&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(Qt(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),s=this.getItemType();return n!==s?!1:t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:n}=t;if(!this.isDragging())return!1;const s=this.registry.getTargetType(e),a=this.getItemType();if(a&&!QC(s,a))return!1;const i=this.getTargetIds();if(!i.length)return!1;const o=i.indexOf(e);return n?o===i.length-1:o>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Oye(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Fye(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const bT=typeof global<"u"?global:self,uU=bT.MutationObserver||bT.WebKitMutationObserver;function hU(r){return function(){const t=setTimeout(s,0),n=setInterval(s,50);function s(){clearTimeout(t),clearInterval(n),r()}}}function Hye(r){let e=1;const t=new uU(r),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const Uye=typeof uU=="function"?Hye:hU;class $ye{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let n=0,s=e.length-this.index;n<s;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Uye(this.flush),this.requestErrorThrow=hU(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Vye{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}class Wye{create(e){const t=this.freeTasks,n=t.length?t.pop():new Vye(this.onError,s=>t[t.length]=s);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const fU=new $ye,qye=new Wye(fU.registerPendingError);function Yye(r){fU.enqueueTask(qye.create(r))}const JE="dnd-core/ADD_SOURCE",KE="dnd-core/ADD_TARGET",QE="dnd-core/REMOVE_SOURCE",q2="dnd-core/REMOVE_TARGET";function Gye(r){return{type:JE,payload:{sourceId:r}}}function Xye(r){return{type:KE,payload:{targetId:r}}}function Zye(r){return{type:QE,payload:{sourceId:r}}}function Jye(r){return{type:q2,payload:{targetId:r}}}function Kye(r){Qt(typeof r.canDrag=="function","Expected canDrag to be a function."),Qt(typeof r.beginDrag=="function","Expected beginDrag to be a function."),Qt(typeof r.endDrag=="function","Expected endDrag to be a function.")}function Qye(r){Qt(typeof r.canDrop=="function","Expected canDrop to be a function."),Qt(typeof r.hover=="function","Expected hover to be a function."),Qt(typeof r.drop=="function","Expected beginDrag to be a function.")}function eS(r,e){if(e&&Array.isArray(r)){r.forEach(t=>eS(t,!1));return}Qt(typeof r=="string"||typeof r=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Bi;(function(r){r.SOURCE="SOURCE",r.TARGET="TARGET"})(Bi||(Bi={}));let ebe=0;function tbe(){return ebe++}function rbe(r){const e=tbe().toString();switch(r){case Bi.SOURCE:return`S${e}`;case Bi.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${r}`)}}function wT(r){switch(r[0]){case"S":return Bi.SOURCE;case"T":return Bi.TARGET;default:throw new Error(`Cannot parse handler ID: ${r}`)}}function kT(r,e){const t=r.entries();let n=!1;do{const{done:s,value:[,a]}=t.next();if(a===e)return!0;n=!!s}while(!n);return!1}class nbe{addSource(e,t){eS(e),Kye(t);const n=this.addHandler(Bi.SOURCE,e,t);return this.store.dispatch(Gye(n)),n}addTarget(e,t){eS(e,!0),Qye(t);const n=this.addHandler(Bi.TARGET,e,t);return this.store.dispatch(Xye(n)),n}containsHandler(e){return kT(this.dragSources,e)||kT(this.dropTargets,e)}getSource(e,t=!1){return Qt(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return Qt(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return Qt(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return Qt(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return wT(e)===Bi.SOURCE}isTargetId(e){return wT(e)===Bi.TARGET}removeSource(e){Qt(this.getSource(e),"Expected an existing source."),this.store.dispatch(Zye(e)),Yye(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){Qt(this.getTarget(e),"Expected an existing target."),this.store.dispatch(Jye(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);Qt(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){Qt(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){const s=rbe(e);return this.types.set(s,t),e===Bi.SOURCE?this.dragSources.set(s,n):e===Bi.TARGET&&this.dropTargets.set(s,n),s}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const sbe=(r,e)=>r===e;function abe(r,e){return!r&&!e?!0:!r||!e?!1:r.x===e.x&&r.y===e.y}function ibe(r,e,t=sbe){if(r.length!==e.length)return!1;for(let n=0;n<r.length;++n)if(!t(r[n],e[n]))return!1;return!0}function obe(r=Em,e){switch(e.type){case $2:break;case JE:case KE:case q2:case QE:return Em;case U2:case XE:case W2:case V2:default:return ZE}const{targetIds:t=[],prevTargetIds:n=[]}=e.payload,s=uye(t,n);if(!(s.length>0||!ibe(t,n)))return Em;const i=n[n.length-1],o=t[t.length-1];return i!==o&&(i&&s.push(i),o&&s.push(o)),s}function lbe(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function cbe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),n.forEach(function(s){lbe(r,s,t[s])})}return r}const CT={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function dbe(r=CT,e){const{payload:t}=e;switch(e.type){case GE:case U2:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case $2:return abe(r.clientOffset,t.clientOffset)?r:cbe({},r,{clientOffset:t.clientOffset});case W2:case V2:return CT;default:return r}}function ube(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Kh(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),n.forEach(function(s){ube(r,s,t[s])})}return r}const hbe={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function fbe(r=hbe,e){const{payload:t}=e;switch(e.type){case U2:return Kh({},r,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case XE:return Kh({},r,{isSourcePublic:!0});case $2:return Kh({},r,{targetIds:t.targetIds});case q2:return r.targetIds.indexOf(t.targetId)===-1?r:Kh({},r,{targetIds:dye(r.targetIds,t.targetId)});case V2:return Kh({},r,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case W2:return Kh({},r,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return r}}function pbe(r=0,e){switch(e.type){case JE:case KE:return r+1;case QE:case q2:return r-1;default:return r}}function gbe(r=0){return r+1}function mbe(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function xbe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),n.forEach(function(s){mbe(r,s,t[s])})}return r}function vbe(r={},e){return{dirtyHandlerIds:obe(r.dirtyHandlerIds,{type:e.type,payload:xbe({},e.payload,{prevTargetIds:cye(r,"dragOperation.targetIds",[])})}),dragOffset:dbe(r.dragOffset,e),refCount:pbe(r.refCount,e),dragOperation:fbe(r.dragOperation,e),stateId:gbe(r.stateId)}}function ybe(r,e=void 0,t={},n=!1){const s=bbe(n),a=new zye(s,new nbe(s)),i=new Rye(s,a),o=r(i,e,t);return i.receiveBackend(o),i}function bbe(r){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return lU(vbe,r&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function wbe(r,e){if(r==null)return{};var t=kbe(r,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function kbe(r,e){if(r==null)return{};var t={},n=Object.keys(r),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(t[s]=r[s]);return t}let ST=0;const jv=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Cbe=b.memo(function(e){var{children:t}=e,n=wbe(e,["children"]);const[s,a]=Sbe(n);return b.useEffect(()=>{if(a){const i=pU();return++ST,()=>{--ST===0&&(i[jv]=null)}}},[]),l.jsx(oU.Provider,{value:s,children:t})});function Sbe(r){if("manager"in r)return[{dragDropManager:r.manager},!1];const e=Nbe(r.backend,r.context,r.options,r.debugMode),t=!r.context;return[e,t]}function Nbe(r,e=pU(),t,n){const s=e;return s[jv]||(s[jv]={dragDropManager:ybe(r,e,t,n)}),s[jv]}function pU(){return typeof global<"u"?global:window}var Ebe=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,s,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(s=n;s--!==0;)if(!r(e[s],t[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){var i=a[s];if(!r(e[i],t[i]))return!1}return!0}return e!==e&&t!==t};const _be=_o(Ebe),ih=typeof window<"u"?b.useLayoutEffect:b.useEffect;function jbe(r,e,t){const[n,s]=b.useState(()=>e(r)),a=b.useCallback(()=>{const i=e(r);_be(n,i)||(s(i),t&&t())},[n,r,t]);return ih(a),[n,a]}function Abe(r,e,t){const[n,s]=jbe(r,e,t);return ih(function(){const i=r.getHandlerId();if(i!=null)return r.subscribeToStateChange(s,{handlerIds:[i]})},[r,s]),n}function gU(r,e,t){return Abe(e,r||(()=>({})),()=>t.reconnect())}function mU(r,e){const t=[];return typeof r!="function"&&t.push(r),b.useMemo(()=>typeof r=="function"?r():r,t)}function Tbe(r){return b.useMemo(()=>r.hooks.dragSource(),[r])}function Pbe(r){return b.useMemo(()=>r.hooks.dragPreview(),[r])}let z4=!1,H4=!1;class Lbe{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){Qt(!z4,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return z4=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{z4=!1}}isDragging(){if(!this.sourceId)return!1;Qt(!H4,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return H4=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{H4=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let U4=!1;class Dbe{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;Qt(!U4,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return U4=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{U4=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Mbe(r,e,t){const n=t.getRegistry(),s=n.addTarget(r,e);return[s,()=>n.removeTarget(s)]}function Rbe(r,e,t){const n=t.getRegistry(),s=n.addSource(r,e);return[s,()=>n.removeSource(s)]}function tS(r,e,t,n){let s;if(s!==void 0)return!!s;if(r===e)return!0;if(typeof r!="object"||!r||typeof e!="object"||!e)return!1;const a=Object.keys(r),i=Object.keys(e);if(a.length!==i.length)return!1;const o=Object.prototype.hasOwnProperty.bind(e);for(let c=0;c<a.length;c++){const d=a[c];if(!o(d))return!1;const u=r[d],h=e[d];if(s=void 0,s===!1||s===void 0&&u!==h)return!1}return!0}function rS(r){return r!==null&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function Ibe(r){if(typeof r.type=="string")return;const e=r.type.displayName||r.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Obe(r){return(e=null,t=null)=>{if(!b.isValidElement(e)){const a=e;return r(a,t),a}const n=e;return Ibe(n),Fbe(n,t?a=>r(a,t):r)}}function xU(r){const e={};return Object.keys(r).forEach(t=>{const n=r[t];if(t.endsWith("Ref"))e[t]=r[t];else{const s=Obe(n);e[t]=()=>s}}),e}function NT(r,e){typeof r=="function"?r(e):r.current=e}function Fbe(r,e){const t=r.ref;return Qt(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?b.cloneElement(r,{ref:n=>{NT(t,n),NT(e,n)}}):b.cloneElement(r,{ref:e})}class Bbe{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!tS(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!tS(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=xU({dragSource:(t,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,rS(t)?this.dragSourceRef=t:this.dragSourceNode=t,this.reconnectDragSource()},dragPreview:(t,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,rS(t)?this.dragPreviewRef=t:this.dragPreviewNode=t,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class zbe{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!tS(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=xU({dropTarget:(t,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,rS(t)?this.dropTargetRef=t:this.dropTargetNode=t,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function $p(){const{dragDropManager:r}=b.useContext(oU);return Qt(r!=null,"Expected drag drop context"),r}function Hbe(r,e){const t=$p(),n=b.useMemo(()=>new Bbe(t.getBackend()),[t]);return ih(()=>(n.dragSourceOptions=r||null,n.reconnect(),()=>n.disconnectDragSource()),[n,r]),ih(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function Ube(){const r=$p();return b.useMemo(()=>new Lbe(r),[r])}class $be{beginDrag(){const e=this.spec,t=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(t):n={},n??null}canDrag(){const e=this.spec,t=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(t):!0}isDragging(e,t){const n=this.spec,s=this.monitor,{isDragging:a}=n;return a?a(s):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,n=this.connector,{end:s}=e;s&&s(t.getItem(),t),n.reconnect()}constructor(e,t,n){this.spec=e,this.monitor=t,this.connector=n}}function Vbe(r,e,t){const n=b.useMemo(()=>new $be(r,e,t),[e,t]);return b.useEffect(()=>{n.spec=r},[r]),n}function Wbe(r){return b.useMemo(()=>{const e=r.type;return Qt(e!=null,"spec.type must be defined"),e},[r])}function qbe(r,e,t){const n=$p(),s=Vbe(r,e,t),a=Wbe(r);ih(function(){if(a!=null){const[o,c]=Rbe(a,s,n);return e.receiveHandlerId(o),t.receiveHandlerId(o),c}},[n,e,t,s,a])}function Ybe(r,e){const t=mU(r);Qt(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=Ube(),s=Hbe(t.options,t.previewOptions);return qbe(t,n,s),[gU(t.collect,n,s),Tbe(s),Pbe(s)]}function Gbe(r){return b.useMemo(()=>r.hooks.dropTarget(),[r])}function Xbe(r){const e=$p(),t=b.useMemo(()=>new zbe(e.getBackend()),[e]);return ih(()=>(t.dropTargetOptions=r||null,t.reconnect(),()=>t.disconnectDropTarget()),[r]),t}function Zbe(){const r=$p();return b.useMemo(()=>new Dbe(r),[r])}function Jbe(r){const{accept:e}=r;return b.useMemo(()=>(Qt(r.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class Kbe{canDrop(){const e=this.spec,t=this.monitor;return e.canDrop?e.canDrop(t.getItem(),t):!0}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function Qbe(r,e){const t=b.useMemo(()=>new Kbe(r,e),[e]);return b.useEffect(()=>{t.spec=r},[r]),t}function e2e(r,e,t){const n=$p(),s=Qbe(r,e),a=Jbe(r);ih(function(){const[o,c]=Mbe(a,s,n);return e.receiveHandlerId(o),t.receiveHandlerId(o),c},[n,e,s,t,a.map(i=>i.toString()).join("|")])}function t2e(r,e){const t=mU(r),n=Zbe(),s=Xbe(t.options);return e2e(t,n,s),[gU(t.collect,n,s),Gbe(s)]}function vU(r){let e=null;return()=>(e==null&&(e=r()),e)}function r2e(r,e){return r.filter(t=>t!==e)}function n2e(r,e){const t=new Set,n=a=>t.add(a);r.forEach(n),e.forEach(n);const s=[];return t.forEach(a=>s.push(a)),s}class s2e{enter(e){const t=this.entered.length,n=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(e));return this.entered=n2e(this.entered.filter(n),[e]),t===0&&this.entered.length>0}leave(e){const t=this.entered.length;return this.entered=r2e(this.entered.filter(this.isNodeInDocument),e),t>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class a2e{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach(n=>{const s=this.config.exposeProperties[n];s!=null&&(t[n]={value:s(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const yU="__NATIVE_FILE__",bU="__NATIVE_URL__",wU="__NATIVE_TEXT__",kU="__NATIVE_HTML__",ET=Object.freeze(Object.defineProperty({__proto__:null,FILE:yU,HTML:kU,TEXT:wU,URL:bU},Symbol.toStringTag,{value:"Module"}));function $4(r,e,t){const n=e.reduce((s,a)=>s||r.getData(a),"");return n??t}const nS={[yU]:{exposeProperties:{files:r=>Array.prototype.slice.call(r.files),items:r=>r.items,dataTransfer:r=>r},matchesTypes:["Files"]},[kU]:{exposeProperties:{html:(r,e)=>$4(r,e,""),dataTransfer:r=>r},matchesTypes:["Html","text/html"]},[bU]:{exposeProperties:{urls:(r,e)=>$4(r,e,"").split(`
`),dataTransfer:r=>r},matchesTypes:["Url","text/uri-list"]},[wU]:{exposeProperties:{text:(r,e)=>$4(r,e,""),dataTransfer:r=>r},matchesTypes:["Text","text/plain"]}};function i2e(r,e){const t=nS[r];if(!t)throw new Error(`native type ${r} has no configuration`);const n=new a2e(t);return n.loadDataTransfer(e),n}function V4(r){if(!r)return null;const e=Array.prototype.slice.call(r.types||[]);return Object.keys(nS).filter(t=>{const n=nS[t];return n!=null&&n.matchesTypes?n.matchesTypes.some(s=>e.indexOf(s)>-1):!1})[0]||null}const o2e=vU(()=>/firefox/i.test(navigator.userAgent)),CU=vU(()=>!!window.safari);class _T{interpolate(e){const{xs:t,ys:n,c1s:s,c2s:a,c3s:i}=this;let o=t.length-1;if(e===t[o])return n[o];let c=0,d=i.length-1,u;for(;c<=d;){u=Math.floor(.5*(c+d));const p=t[u];if(p<e)c=u+1;else if(p>e)d=u-1;else return n[u]}o=Math.max(0,d);const h=e-t[o],f=h*h;return n[o]+s[o]*h+a[o]*f+i[o]*h*f}constructor(e,t){const{length:n}=e,s=[];for(let p=0;p<n;p++)s.push(p);s.sort((p,g)=>e[p]<e[g]?-1:1);const a=[],i=[];let o,c;for(let p=0;p<n-1;p++)o=e[p+1]-e[p],c=t[p+1]-t[p],a.push(o),i.push(c/o);const d=[i[0]];for(let p=0;p<a.length-1;p++){const g=i[p],m=i[p+1];if(g*m<=0)d.push(0);else{o=a[p];const v=a[p+1],x=o+v;d.push(3*x/((x+v)/g+(x+o)/m))}}d.push(i[i.length-1]);const u=[],h=[];let f;for(let p=0;p<d.length-1;p++){f=i[p];const g=d[p],m=1/a[p],v=g+d[p+1]-f-f;u.push((f-g-v)*m),h.push(v*m*m)}this.xs=e,this.ys=t,this.c1s=d,this.c2s=u,this.c3s=h}}const l2e=1;function SU(r){const e=r.nodeType===l2e?r:r.parentElement;if(!e)return null;const{top:t,left:n}=e.getBoundingClientRect();return{x:n,y:t}}function D1(r){return{x:r.clientX,y:r.clientY}}function c2e(r){var e;return r.nodeName==="IMG"&&(o2e()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(r)))}function d2e(r,e,t,n){let s=r?e.width:t,a=r?e.height:n;return CU()&&r&&(a/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:a}}function u2e(r,e,t,n,s){const a=c2e(e),o=SU(a?r:e),c={x:t.x-o.x,y:t.y-o.y},{offsetWidth:d,offsetHeight:u}=r,{anchorX:h,anchorY:f}=n,{dragPreviewWidth:p,dragPreviewHeight:g}=d2e(a,e,d,u),m=()=>{let N=new _T([0,.5,1],[c.y,c.y/u*g,c.y+g-u]).interpolate(f);return CU()&&a&&(N+=(window.devicePixelRatio-1)*g),N},v=()=>new _T([0,.5,1],[c.x,c.x/d*p,c.x+p-d]).interpolate(h),{offsetX:x,offsetY:y}=s,w=x===0||x,k=y===0||y;return{x:w?x:v(),y:k?y:m()}}class h2e{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function f2e(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function jT(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),n.forEach(function(s){f2e(r,s,t[s])})}return r}class p2e{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;(t=this.window)===null||t===void 0||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,n){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);const s=i=>this.handleDragStart(i,e),a=i=>this.handleSelectStart(i);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",s),t.addEventListener("selectstart",a),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",s),t.removeEventListener("selectstart",a),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const n=i=>this.handleDragEnter(i,e),s=i=>this.handleDragOver(i,e),a=i=>this.handleDrop(i,e);return t.addEventListener("dragenter",n),t.addEventListener("dragover",s),t.addEventListener("drop",a),()=>{t.removeEventListener("dragenter",n),t.removeEventListener("dragover",s),t.removeEventListener("drop",a)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return jT({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return jT({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(ET).some(t=>ET[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=i2e(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const t=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},t)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const a=this.sourceNodes.get(s);return a&&SU(a)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:a}=this;this.dragStartSourceIds=null;const i=D1(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(a||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:i});const{dataTransfer:o}=s,c=V4(o);if(this.monitor.isDragging()){if(o&&typeof o.setDragImage=="function"){const u=this.monitor.getSourceId(),h=this.sourceNodes.get(u),f=this.sourcePreviewNodes.get(u)||h;if(f){const{anchorX:p,anchorY:g,offsetX:m,offsetY:v}=this.getCurrentSourcePreviewNodeOptions(),w=u2e(h,f,i,{anchorX:p,anchorY:g},{offsetX:m,offsetY:v});o.setDragImage(f,w.x,w.y)}}try{o==null||o.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:d}=this.getCurrentSourcePreviewNodeOptions();d?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(o&&!o.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var a;(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:o}=s,c=V4(o);c&&this.beginDragNativeItem(c,o)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:a}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,a.length>0&&this.actions.hover(a,{clientOffset:D1(s)}),a.some(o=>this.monitor.canDropOnTarget(o))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var a;(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:a}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=D1(s),this.scheduleHover(a),(a||[]).some(o=>this.monitor.canDropOnTarget(o))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var a;s.preventDefault(),(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(s.dataTransfer)}else V4(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:a}=this;this.dropTargetIds=[],this.actions.hover(a,{clientOffset:D1(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const a=s.target;typeof a.dragDrop=="function"&&(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.isContentEditable||(s.preventDefault(),a.dragDrop()))},this.options=new h2e(t,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new s2e(this.isNodeInDocument)}}const g2e=function(e,t,n){return new p2e(e,t,n)},AT=[{title:"Campos Básicos",fields:[{type:"text",title:"Texto Simples",description:"Para respostas curtas",icon:"FileIcon"},{type:"textarea",title:"Texto Longo",description:"Para respostas mais longas",icon:"FileIcon"},{type:"number",title:"Número",description:"Apenas para números",icon:"FileIcon"},{type:"email",title:"Email",description:"Para endereços de email",icon:"EnvelopeIcon"},{type:"phone",title:"Telefone",description:"Para números de telefone",icon:"FileIcon"}]},{title:"Campos de Escolha",fields:[{type:"select",title:"Lista Suspensa",description:"Escolha única de uma lista",icon:"ListIcon"},{type:"multiselect",title:"Múltipla Escolha",description:"Várias escolhas de uma lista",icon:"ListIcon"},{type:"radio",title:"Botões de Opção",description:"Seleção de escolha única",icon:"CheckCircleIcon"},{type:"checkbox",title:"Caixas de Seleção",description:"Seleção de múltipla escolha",icon:"CheckCircleIcon"},{type:"toggle",title:"Toggle Switch",description:"Alternância entre sim/não",icon:"CheckCircleIcon"}]},{title:"Campos Avançados",fields:[{type:"date",title:"Data",description:"Seletor de data",icon:"CalenderIcon"},{type:"time",title:"Hora",description:"Seletor de hora",icon:"TimeIcon"},{type:"file",title:"Upload de Arquivo",description:"Campo para envio de arquivos",icon:"FileIcon"},{type:"url",title:"URL do Site",description:"Para endereços de websites",icon:"FileIcon"},{type:"product",title:"Produto",description:"Campo para preço do produto",icon:"BoxIcon"},{type:"commission",title:"Comissão de Venda",description:"Porcentagem de comissão",icon:"DollarLineIcon"},{type:"country",title:"País",description:"Seleção de países",icon:"GridIcon"},{type:"brazilian_states",title:"Estados do Brasil",description:"Seleção de estado e cidade do Brasil",icon:"GridIcon"},{type:"brand",title:"Marca",description:"Nome e logo da marca",icon:"BoxCubeIcon"},{type:"button_buy",title:"Botão de Compra",description:"Botão para comprar produtos",icon:"ShoppingCartIcon"},{type:"niche",title:"Nichos e preços",description:"Adicionar os nichos e preços que o site aceita",icon:"FileIcon"},{type:"import_csv",title:"Importar CSV",description:"importar sites via csv",icon:"UploadIcon"}]},{title:"Campos de Layout",fields:[{type:"section",title:"Seção",description:"Adicionar título de seção com descrição",icon:"ListIcon"},{type:"html",title:"HTML",description:"Adicionar conteúdo HTML personalizado",icon:"CodeIcon"}]},{title:"Campos de API",fields:[{type:"moz_da",title:"Moz DA",description:"Domain Authority do Moz",icon:"ChartIcon"},{type:"semrush_as",title:"Semrush AS",description:"Authority Score do Semrush",icon:"ChartIcon"},{type:"ahrefs_dr",title:"Ahrefs DR",description:"Domain Rating do Ahrefs",icon:"ChartIcon"},{type:"ahrefs_traffic",title:"Ahrefs Traffic",description:"Tráfego orgânico do Ahrefs",icon:"AhrefsTrafficIcon"},{type:"similarweb_traffic",title:"Similarweb Traffic",description:"Tráfego total do Similarweb",icon:"SimilarwebTrafficIcon"},{type:"google_traffic",title:"Google Traffic",description:"Tráfego estimado do Google",icon:"GoogleTrafficIcon"}]}];function m2e({onAddField:r}){const[e,t]=b.useState(""),[n,s]=b.useState(new Set(AT.map(o=>o.title))),a=o=>{s(c=>{const d=new Set(c);return d.has(o)?d.delete(o):d.add(o),d})},i=AT.map(o=>({...o,fields:o.fields.filter(c=>c.title.toLowerCase().includes(e.toLowerCase())||c.description.toLowerCase().includes(e.toLowerCase()))})).filter(o=>o.fields.length>0);return l.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white/90 mb-4",children:"Adicionar Campos"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"Buscar campos...",value:e,onChange:o=>t(o.target.value),className:"w-full h-10 pl-10 pr-4 text-sm bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:border-brand-500 dark:focus:border-brand-500"}),l.jsx(Of,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:i.map(o=>l.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-800 last:border-0",children:[l.jsxs("button",{onClick:()=>a(o.title),className:"w-full flex items-center justify-between px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[o.title,l.jsx(p2,{className:`w-5 h-5 transition-transform ${n.has(o.title)?"rotate-180":""}`})]}),n.has(o.title)&&l.jsx("div",{className:"p-4 grid grid-cols-2 gap-3",children:o.fields.map(c=>{const d=fy[c.icon];return l.jsxs("button",{onClick:()=>r(c.type),className:"flex flex-col items-center justify-center p-3 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white/90 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-brand-500 dark:hover:border-brand-500 transition-colors group",title:c.description,children:[l.jsx(d,{className:"mb-2 w-6 h-6 group-hover:text-brand-500"}),l.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:c.title})]},c.type)})})]},o.title))})]})}const W4=[{code:"BR",name:"Brasil"},{code:"US",name:"Estados Unidos"},{code:"GB",name:"Reino Unido"},{code:"PT",name:"Portugal"},{code:"ES",name:"Espanha"},{code:"FR",name:"França"},{code:"DE",name:"Alemanha"},{code:"IT",name:"Itália"},{code:"JP",name:"Japão"},{code:"CN",name:"China"},{code:"AU",name:"Austrália"},{code:"CA",name:"Canadá"},{code:"MX",name:"México"},{code:"AR",name:"Argentina"},{code:"CL",name:"Chile"},{code:"CO",name:"Colômbia"},{code:"PE",name:"Peru"},{code:"UY",name:"Uruguai"},{code:"PY",name:"Paraguai"},{code:"BO",name:"Bolívia"},{code:"ROW",name:"Rest of World"}].sort((r,e)=>r.name.localeCompare(e.name));function x2e({settings:r,onChange:e}){const[t,n]=b.useState(r.max_selections!==1),s=()=>{e({...r,countries:W4.map(c=>c.code)})},a=()=>{e({...r,countries:[]})},i=c=>{n(c),e({...r,max_selections:c?void 0:1})},o=c=>{const d=c?parseInt(c):void 0;e({...r,max_selections:d})};return l.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[l.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Country Settings"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx(Me,{children:"Available Countries"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(nt,{variant:"outline",size:"sm",onClick:s,children:"Select All"}),l.jsx(nt,{variant:"outline",size:"sm",onClick:a,children:"Unselect All"})]})]}),l.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:W4.map(c=>{var d;return l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"checkbox",checked:(d=r.countries)==null?void 0:d.includes(c.code),onChange:u=>{const h=u.target.checked?[...r.countries||[],c.code]:(r.countries||[]).filter(f=>f!==c.code);e({...r,countries:h})},className:"w-4 h-4 rounded border-gray-300 text-brand-500 focus:ring-brand-500/20 dark:border-gray-700 dark:bg-gray-900"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:Hp(c.code),width:"24",height:"24",alt:c.name,className:`rounded-full ${c.code==="ROW"?"dark:invert":""}`}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:c.name})]})]},c.code)})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Vr,{label:"Allow Multiple Selection",checked:t,onChange:i})}),t&&l.jsxs("div",{children:[l.jsx(Me,{children:"Maximum Selections"}),l.jsx(st,{type:"number",value:r.max_selections||"",onChange:c=>o(c.target.value),min:"1",max:W4.length.toString(),placeholder:"Leave empty for unlimited"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Limit how many countries users can select. Leave empty to allow unlimited selections."})]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Vr,{label:"Show Country Codes",checked:r.show_percentage,onChange:c=>e({...r,show_percentage:c})})}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Display country codes (BR, US, etc.) alongside flags in tables and forms"})]})]})]})}function v2e({settings:r,onChange:e}){const[t,n]=b.useState(r.max_selections!==1),s=i=>{n(i),e({...r,max_selections:i?void 0:1})},a=i=>{const o=i?parseInt(i):void 0;e({...r,max_selections:o})};return l.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[l.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Configurações de Municípios"}),l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Vr,{label:"Permitir Seleção Múltipla",checked:t,onChange:s})}),t&&l.jsxs("div",{children:[l.jsx(Me,{children:"Limite de Seleções"}),l.jsx(st,{type:"number",value:r.max_selections||"",onChange:i=>a(i.target.value),min:"1",placeholder:"Deixe em branco para ilimitado"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Limite quantos municípios os usuários podem selecionar. Deixe em branco para permitir seleções ilimitadas."})]})]})})]})}function y2e({settings:r,onChange:e}){const[t,n]=b.useState({product_price:"",promotional_price:""});b.useEffect(()=>{if(r.product_description){let i={price_description:"",promotional_price_description:""};if(typeof r.product_description=="string")try{i=JSON.parse(r.product_description)}catch{i={price_description:r.product_description,promotional_price_description:""}}else typeof r.product_description=="object"&&(i=r.product_description);n({product_price:i.price_description||"",promotional_price:i.promotional_price_description||""})}else n({product_price:"",promotional_price:""})},[r.product_description]);const s=i=>{const o={...t,product_price:i};n(o);const c={price_description:o.product_price,promotional_price_description:o.promotional_price};e({...r,product_description:c})},a=i=>{const o={...t,promotional_price:i};n(o);const c={price_description:o.product_price,promotional_price_description:o.promotional_price};e({...r,product_description:c})};return l.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[l.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Configurações do Produto"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx(Me,{children:"Descrição do Preço"}),l.jsx(st,{type:"text",value:t.product_price,onChange:i=>s(i.target.value),placeholder:"Ex: Artigo com até 2 links"})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Descrição do Preço Promocional"}),l.jsx(st,{type:"text",value:t.promotional_price,onChange:i=>a(i.target.value),placeholder:"Ex: Preço especial Black Friday"})]})]})]})}function b2e({settings:r,onChange:e,type:t}){return l.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[l.jsxs("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:[t==="date"?"Date":"Time"," Settings"]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Format"}),l.jsx(or,{options:t==="date"?[{value:"dd/mm/yyyy",label:"DD/MM/YYYY"},{value:"mm/dd/yyyy",label:"MM/DD/YYYY"},{value:"yyyy-mm-dd",label:"YYYY-MM-DD"}]:[{value:"HH:mm",label:"24-hour (HH:mm)"},{value:"hh:mm A",label:"12-hour (hh:mm AM/PM)"}],value:t==="date"?r.date_format:r.time_format,onChange:n=>{e(t==="date"?{...r,date_format:n}:{...r,time_format:n})}})]})]})}function w2e({settings:r,onChange:e}){const t=[{value:"jpg,jpeg,png",label:"Imagens (JPG, PNG)"},{value:"pdf",label:"PDF"},{value:"doc,docx",label:"Word (DOC, DOCX)"},{value:"mp3,wav",label:"Áudio (MP3, WAV)"},{value:"mp4,mov",label:"Vídeo (MP4, MOV)"},{value:"jpg,jpeg,png,pdf,doc,docx,mp3,mp4,wav,mov",label:"Todos os tipos suportados"}],n=s=>{e({...r,allowed_extensions:s})};return l.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[l.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"File Upload Settings"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Me,{children:"Predefined File Types"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-2",children:t.map(s=>l.jsx("button",{type:"button",className:`px-3 py-2 text-sm rounded-lg border ${r.allowed_extensions===s.value?"border-brand-500 bg-brand-50 text-brand-700 dark:border-brand-400 dark:bg-brand-900/20 dark:text-brand-400":"border-gray-200 text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-800"}`,onClick:()=>n(s.value),children:s.label},s.value))})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Me,{children:"Allowed Extensions"}),l.jsx(st,{type:"text",value:r.allowed_extensions||"",onChange:s=>e({...r,allowed_extensions:s.target.value}),placeholder:"jpg, png, pdf, doc, docx, mp3, mp4, wav, mov"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Separate file extensions with commas (e.g., jpg, png, pdf, doc, docx, mp3, mp4, wav, mov)"})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Maximum File Size (MB)"}),l.jsx(st,{type:"number",value:r.max_file_size||"",onChange:s=>e({...r,max_file_size:s.target.value?parseInt(s.target.value):void 0}),min:"1",placeholder:"5"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Maximum size per file in megabytes"})]}),l.jsx("div",{className:"space-y-4",children:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Vr,{label:"Allow Multiple Files",checked:r.multiple_files,onChange:s=>e({...r,multiple_files:s,max_files:s?r.max_files:1})})})}),r.multiple_files&&l.jsxs("div",{children:[l.jsx(Me,{children:"Maximum Files"}),l.jsx(st,{type:"number",value:r.max_files||"",onChange:s=>e({...r,max_files:s.target.value?parseInt(s.target.value):void 0}),min:"1",placeholder:"10"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Maximum number of files that can be uploaded"})]})]})]})}function k2e({settings:r,onChange:e}){return l.jsxs("div",{className:"space-y-4 md:col-span-2",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Vr,{label:"Enable Input Mask",checked:r.input_mask_enabled,onChange:t=>e({...r,input_mask_enabled:t})})}),r.input_mask_enabled&&l.jsxs("div",{children:[l.jsx(Me,{children:"Input Mask Pattern"}),l.jsx(st,{type:"text",value:r.input_mask_pattern||"",onChange:t=>e({...r,input_mask_pattern:t.target.value}),placeholder:"999.999.999-99"}),l.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:["Use 9 for numbers, A for letters, * for alphanumeric. Examples:",l.jsx("br",{}),"- CPF: 999.999.999-99",l.jsx("br",{}),"- Phone: (99) 99999-9999",l.jsx("br",{}),"- Date: 99/99/9999"]})]})]})}function C2e({settings:r,options:e,onChange:t,onOptionsChange:n,fieldType:s}){const[a,i]=b.useState(!1),[o,c]=b.useState(""),d=()=>{n([...e,{label:"",value:""}])},u=p=>{n(e.filter((g,m)=>m!==p))},h=(p,g,m)=>{const v=[...e];v[p]={...v[p],[g]:m},n(v)},f=()=>{const g=o.split(`
`).filter(m=>m.trim()).map(m=>{const[v,x]=m.split("|").map(y=>y.trim());return{label:v||"",value:x||v||""}});n(g),i(!1),c("")};return l.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90",children:"Field Options"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(nt,{variant:"outline",onClick:()=>i(!a),children:"Bulk Add"}),l.jsxs(nt,{onClick:d,children:[l.jsx(Pr,{className:"w-5 h-5 mr-2"}),"Add Option"]})]})]}),a?l.jsxs("div",{className:"space-y-4",children:[l.jsx(tl,{value:o,onChange:c,rows:10,placeholder:`Enter one option per line
For custom values use: Label|Value

Example:
First Option
Second Option|second_opt
Third Option|third_opt`}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(nt,{variant:"outline",onClick:()=>{i(!1),c("")},children:"Cancel"}),l.jsx(nt,{onClick:f,children:"Add Options"})]})]}):l.jsx("div",{className:"space-y-4",children:e.map((p,g)=>l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(Me,{children:"Label"}),l.jsx(st,{type:"text",value:p.label,onChange:m=>h(g,"label",m.target.value),placeholder:"Option Label"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Me,{children:"Value"}),l.jsx(st,{type:"text",value:p.value,onChange:m=>h(g,"value",m.target.value),placeholder:"Option Value"})]}),l.jsx("div",{className:"flex items-end",children:l.jsx("button",{type:"button",onClick:()=>u(g),className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",children:l.jsx(Fa,{className:"w-5 h-5"})})})]},g))}),(s==="multiselect"||s==="checkbox")&&l.jsxs("div",{className:"mt-6",children:[l.jsx(Me,{children:"Maximum Selections"}),l.jsx(st,{type:"number",value:r.max_selections||"",onChange:p=>t({...r,max_selections:p.target.value?parseInt(p.target.value):void 0}),min:"1",max:String(e.length),placeholder:"Leave empty for unlimited"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Limit how many options users can select. Leave empty to allow unlimited selections."})]}),(s==="radio"||s==="checkbox")&&l.jsxs("div",{className:"mt-6",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Vr,{label:"Inline Layout",checked:r.inline_layout,onChange:p=>t({...r,inline_layout:p})})}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Display options in a horizontal line instead of stacked vertically"})]})]})}function S2e({settings:r,onChange:e}){const[t,n]=b.useState(r.custom_button_text||!1),s=i=>{n(i),e({...r,custom_button_text:i})},a=i=>{e({...r,button_text:i.target.value})};return l.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[l.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Configurações do Botão de Compra"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Vr,{label:"Posicionar na última coluna",checked:r.position_last_column||!1,onChange:i=>e({...r,position_last_column:i})})}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Quando ativado, o botão será exibido na última coluna da tabela de marketplace"})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Estilo do Botão"}),l.jsx(or,{options:[{value:"primary",label:"Modelo 1 - Cor da marca"},{value:"outline",label:"Modelo 2 - Branco"}],value:r.button_style||"primary",onChange:i=>e({...r,button_style:i})}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Escolha o estilo visual do botão de compra"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Vr,{label:"Personalizar texto do botão",checked:t,onChange:s})}),t&&l.jsxs("div",{children:[l.jsx(Me,{children:"Texto do Botão"}),l.jsx(st,{type:"text",value:r.button_text||"",onChange:a,placeholder:"Comprar"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Personalize o texto que aparecerá no botão de compra"})]})]})]})]})}function N2e({settings:r,onChange:e}){const[t,n]=b.useState(r.show_logo!==!1),[s,a]=b.useState(r.is_product_name||!1),[i,o]=b.useState(r.is_site_url||!1);b.useEffect(()=>{n(r.show_logo!==!1),a(!!r.is_product_name),o(!!r.is_site_url)},[r]);const c=h=>{n(h),e({...r,show_logo:h})},d=h=>{a(h),e({...r,is_product_name:h})},u=h=>{o(h),e({...r,is_site_url:h})};return l.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[l.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Configurações da Marca"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Vr,{label:"Exibir Logo",checked:t,onChange:c})}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Quando desativado, apenas o nome da marca será exibido, sem o logo."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Vr,{label:"Nome do Produto na Loja",checked:s,onChange:d})}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Quando ativado, este campo será usado como o nome principal do produto na loja."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Vr,{label:"URL de Site",checked:i,onChange:u})}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Quando ativado, este campo será usado como a URL do site do produto."})]})]})]})}function E2e({settings:r,onChange:e}){const[t,n]=b.useState(!1);b.useEffect(()=>{console.log("Settings received in ApiFieldSettings:",r),n(!!r.sort_by_field)},[r]);const s=a=>{n(a);const i={...r,sort_by_field:a};e(i),console.log("Sort by field changed to:",a),console.log("Updated settings:",i)};return l.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[l.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"API Field Settings"}),l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Vr,{label:"Sort by this field in marketplace",checked:t,onChange:s})}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"When enabled, the marketplace table will be sorted by this field in descending order (highest values first)"})]})})]})}function _2e({settings:r,onChange:e}){const[t,n]=b.useState(r.is_site_url||!1),[s,a]=b.useState(r.is_product_name||!1);b.useEffect(()=>{n(!!r.is_site_url),a(!!r.is_product_name)},[r]);const i=c=>{n(c),e({...r,is_site_url:c})},o=c=>{a(c),e({...r,is_product_name:c})};return l.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 dark:border-gray-800 mt-6 pt-6",children:[l.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Configurações de URL"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Vr,{label:"Nome do Produto na Loja",checked:s,onChange:o})}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Quando ativado, este campo será usado como o nome principal do produto na loja."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Vr,{label:"URL de Site",checked:t,onChange:i})}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Quando ativado, este campo será usado como a URL do site do produto."})]})]})]})}const TT=[{name:"FinanceIcon",component:J6},{name:"HeartIcon",component:K6},{name:"CasinoIcon",component:Q6},{name:"EntertainmentIcon",component:tN},{name:"TechIcon",component:eN}];function j2e({selectedIcon:r,onIconSelect:e,onClear:t,placeholder:n="Selecione um ícone"}){var u;const[s,a]=b.useState(!1),i=b.useRef(null),o=r?(u=TT.find(h=>h.name===r))==null?void 0:u.component:null,c=h=>{e(h),a(!1)},d=h=>{h.stopPropagation(),t&&t()};return b.useEffect(()=>{function h(f){i.current&&!i.current.contains(f.target)&&a(!1)}return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]),l.jsxs("div",{className:"relative",ref:i,children:[l.jsxs("div",{onClick:()=>a(!s),className:"w-full flex items-center justify-between px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:border-gray-400 dark:hover:border-gray-500 transition-colors cursor-pointer",children:[l.jsx("div",{className:"flex items-center gap-2",children:o?l.jsxs(l.Fragment,{children:[(()=>{const h=o;return l.jsx(h,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})(),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:r==null?void 0:r.replace("Icon","")})]}):l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:n})}),l.jsxs("div",{className:"flex items-center gap-1",children:[r&&t&&l.jsx("button",{type:"button",onClick:d,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded text-xs",title:"Remover ícone",children:"×"}),l.jsx(p2,{className:`w-4 h-4 text-gray-500 transition-transform ${s?"rotate-180":""}`})]})]}),s&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:l.jsx("div",{className:"grid grid-cols-6 gap-2 p-3",children:TT.map(h=>{const f=h.component;return l.jsx("button",{type:"button",onClick:()=>c(h.name),className:`p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center justify-center ${r===h.name?"bg-brand-100 dark:bg-brand-900 border border-brand-500":"border border-transparent"}`,title:h.name.replace("Icon",""),children:l.jsx(f,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})},h.name)})})})]})}function A2e({settings:r,onChange:e}){const[t,n]=b.useState(()=>{const d=rl(r.options||[]);return d.length>0?d:[{text:"",icon:void 0}]});b.useEffect(()=>{async function d(){if(!r.field_id)return;console.log("[NicheSettings] Fetching options for field_id:",r.field_id);const u=await qH(r.field_id);if(u&&Array.isArray(u.options)&&u.options.length>0){console.log("[NicheSettings] Raw data from DB:",u.options);const h=rl(u.options);console.log("[NicheSettings] Parsed options:",h),console.log("[NicheSettings] Icons in parsed options:"),h.forEach((f,p)=>{console.log(`[NicheSettings] Option ${p} icon:`,f.icon)}),n(h),e({...r,options:h})}}d()},[r.field_id]);const s=(d,u)=>{const h=t.map((f,p)=>p===d?{...f,text:u}:f);n(h),console.log("[NicheSettings] Text changed - sending to parent:",h),e({...r,options:h})},a=(d,u)=>{var f;console.log(`[NicheSettings] Icon changing for index ${d}: ${u}`);const h=t.map((p,g)=>g===d?{...p,icon:u}:p);n(h),console.log("[NicheSettings] Icon changed - sending to parent:",h),console.log(`[NicheSettings] New icon for index ${d}:`,(f=h[d])==null?void 0:f.icon),e({...r,options:h})},i=d=>{var h;console.log(`[NicheSettings] Icon clearing for index ${d}`);const u=t.map((f,p)=>p===d?{...f,icon:void 0}:f);n(u),console.log("[NicheSettings] Icon cleared - sending to parent:",u),console.log(`[NicheSettings] Cleared icon for index ${d}:`,(h=u[d])==null?void 0:h.icon),e({...r,options:u})},o=()=>{const d=[...t,{text:"",icon:void 0}];n(d),console.log("[NicheSettings] Niche added - sending to parent:",d),e({...r,options:d})},c=d=>{if(t.length===1)return;const u=t.filter((h,f)=>f!==d);n(u),console.log("[NicheSettings] Niche removed - sending to parent:",u),e({...r,options:u})};return l.jsxs("div",{children:[l.jsx(Me,{children:"Nichos"}),l.jsx("button",{type:"button",className:"text-brand-500 hover:underline text-sm mt-1 mb-2",onClick:o,children:"+ Adicionar nicho"}),t.map((d,u)=>l.jsxs("div",{className:"space-y-3 mb-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800/50",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex-1",children:l.jsx(st,{type:"text",value:d.text,onChange:h=>s(u,h.target.value),placeholder:`Nicho ${u+1}`,name:`niche-option-${u}`,"data-idx":u})}),t.length>1&&l.jsx("button",{type:"button",className:"px-2 py-1 rounded bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-white hover:bg-red-200 dark:hover:bg-red-900 transition-colors",onClick:()=>c(u),title:"Remover nicho",children:"×"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ícone (opcional)"}),l.jsx(j2e,{selectedIcon:d.icon,onIconSelect:h=>a(u,h),onClear:()=>i(u),placeholder:"Selecione um ícone"})]})]},u)),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Defina um ou mais nichos relacionados a este campo. Cada nicho pode ter um ícone opcional."})]})}function T2e({field:r,isOpen:e,onClose:t,onSave:n}){var g;const[s,a]=b.useState(!1),[i,o]=b.useState(""),[c,d]=b.useState(r.options||[]),[u,h]=b.useState({field_id:r.id,label_text:r.label,label_visibility:"visible",placeholder_text:r.placeholder,help_text:r.description,is_required:r.is_required,no_duplicates:!1,visibility:"visible",validation_type:r.field_type==="url"?"url":void 0,validation_regex:r.field_type==="url"?"^https?://":void 0,field_identifier:r.field_type==="button_buy"?"botao_comprar":r.css_class,input_mask_enabled:!1,input_mask_pattern:"",columns:1,max_selections:void 0,inline_layout:!1,allowed_extensions:"",multiple_files:!1,max_files:1,max_file_size:5,commission_rate:0,product_currency:"BRL",product_description:"",disable_quantity:!1,date_format:"dd/mm/yyyy",time_format:"HH:mm",countries:[],show_percentage:!1,marketplace_label:"",custom_button_text:!1,button_text:"",position_last_column:!1,button_style:"primary",sort_by_field:!1,is_product_name:!1,is_site_url:!1});b.useEffect(()=>{e&&f()},[e,r.id]),b.useEffect(()=>{r.field_type==="niche"&&Array.isArray(u.options)&&(console.log("[FormFieldSettings] Syncing niche options from settings:",u.options),d(u.options))},[u.options,r.field_type]);async function f(){try{a(!0),o("");const{data:m,error:v}=await G.from("form_field_settings").select("*").eq("field_id",r.id).maybeSingle();if(v)throw v;m?h(m):r.field_type==="button_buy"&&h(x=>({...x,field_identifier:"botao_comprar"})),d(r.options||[]),console.log("[FormFieldSettings] Loaded field options:",r.options)}catch(m){console.error("Erro ao carregar configurações do campo:",m),o("Erro ao carregar configurações do campo")}finally{a(!1)}}const p=async m=>{m.preventDefault(),console.log("[FormFieldSettings] options prop on submit:",c);try{if(a(!0),o(""),console.log("Saving settings:",u),r.field_type==="niche"&&c&&c.length>0)try{console.log("[FormFieldSettings] Raw options received:",c),console.log("[FormFieldSettings] Options with icons check:",c.map(R=>({niche:R.niche||R.text,icon:R.icon,hasIcon:!!R.icon})));const A=j1e(c);console.log("[FormFieldSettings] Sanitized options for DB:",A),console.log("[FormFieldSettings] Raw data being sent to updateFormFieldNiche:",{field_id:r.id,options:A}),await T1e(r.id,{options:A})||await A1e({form_field_id:r.id,options:A})}catch(A){o("Erro ao atualizar nichos: "+(A instanceof Error?A.message:String(A))),a(!1);return}const{data:{user:v}}=await G.auth.getUser();if(!v)throw new Error("User not authenticated");const{options:x,id:y,...w}=u,{error:k}=await G.from("form_field_settings").upsert({...w,field_id:r.id},{onConflict:"field_id"});if(k)throw k;let S;switch(u.columns){case 2:S="half";break;case 3:S="third";break;default:S="full"}const N={...r,label:u.label_text,description:r.field_type==="section"?r.description:u.help_text,placeholder:u.placeholder_text,is_required:u.is_required,width:S,css_class:u.field_identifier,options:c,validation_rules:{...r.validation_rules,type:u.validation_type,pattern:u.validation_regex,input_mask:u.input_mask_enabled?u.input_mask_pattern:void 0,max_selections:u.max_selections,inline_layout:u.inline_layout,allowed_extensions:u.allowed_extensions,multiple_files:u.multiple_files,max_files:u.max_files,max_file_size:u.max_file_size,commission_rate:u.commission_rate,product_currency:u.product_currency,product_description:u.product_description,disable_quantity:u.disable_quantity,date_format:u.date_format,time_format:u.time_format,countries:u.countries,show_percentage:u.show_percentage,marketplace_label:u.marketplace_label,sort_by_field:u.sort_by_field,is_product_name:u.is_product_name,is_site_url:u.is_site_url}};n(N),t()}catch(v){console.error("Erro ao salvar configurações do campo:",v),o("Erro ao salvar configurações do campo")}finally{a(!1)}};return l.jsx(ai,{isOpen:e,onClose:t,className:"max-w-[900px] m-4",children:l.jsxs("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"text-xl font-semibold text-gray-800 dark:text-white/90",children:"Configurações do Campo"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Configure as propriedades do campo"})]}),i&&l.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:i}),l.jsxs("form",{onSubmit:p,children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs(Me,{children:["Texto do Rótulo ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"text",value:u.label_text,onChange:m=>h({...u,label_text:m.target.value}),required:!0})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Rótulo do Marketplace"}),l.jsx(st,{type:"text",value:u.marketplace_label||"",onChange:m=>h({...u,marketplace_label:m.target.value}),placeholder:"Custom label for marketplace table"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Custom label to display in marketplace tables (leave empty to use default label)"})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Identificador do Campo"}),l.jsx(st,{type:"text",value:u.field_identifier||"",onChange:m=>h({...u,field_identifier:m.target.value}),placeholder:r.field_type==="button_buy"?"botao_comprar":"website_url"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Um identificador único para este campo (opcional)"})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Visibilidade do Rótulo"}),l.jsx(or,{options:[{value:"visible",label:"Visível"},{value:"hidden",label:"Oculto"}],value:u.label_visibility,onChange:m=>h({...u,label_visibility:m})})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Colunas"}),l.jsx(or,{options:[{value:"1",label:"1 Column (100% width)"},{value:"2",label:"2 Columns (50% width)"},{value:"3",label:"3 Columns (33% width)"}],value:((g=u.columns)==null?void 0:g.toString())||"1",onChange:m=>h({...u,columns:parseInt(m)})}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Define how many columns this field should span"})]}),r.field_type!=="section"&&r.field_type!=="html"&&r.field_type!=="button_buy"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx(Me,{children:"Texto de Marcação"}),l.jsx(st,{type:"text",value:u.placeholder_text||"",onChange:m=>h({...u,placeholder_text:m.target.value}),placeholder:r.field_type==="url"?"https://example.com":"Digite o texto de marcação"})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Texto de Ajuda"}),l.jsx(st,{type:"text",value:u.help_text||"",onChange:m=>h({...u,help_text:m.target.value})})]})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Visibilidade"}),l.jsx(or,{options:[{value:"visible",label:"Visível"},{value:"hidden",label:"Oculto"},{value:"admin",label:"Apenas Admin"},{value:"marketplace",label:"Apenas Marketplace"}],value:u.visibility,onChange:m=>h({...u,visibility:m})})]}),r.field_type==="url"&&l.jsxs("div",{children:[l.jsx(Me,{children:"Validação de URL"}),l.jsx(or,{options:[{value:"url",label:"Exigir HTTPS"},{value:"any_url",label:"Permitir qualquer URL"}],value:u.validation_type,onChange:m=>h({...u,validation_type:m,validation_regex:m==="url"?"^https?://":void 0})}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Escolha como as URLs devem ser validadas neste campo"})]}),r.field_type==="text"&&l.jsx(k2e,{settings:u,onChange:h}),r.field_type!=="section"&&r.field_type!=="html"&&r.field_type!=="button_buy"&&l.jsxs("div",{className:"space-y-4 md:col-span-2",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Vr,{label:"Campo Obrigatório",checked:u.is_required,onChange:m=>h({...u,is_required:m})})}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Vr,{label:"Não Permitir Duplicatas",checked:u.no_duplicates,onChange:m=>h({...u,no_duplicates:m})})})]}),r.field_type==="file"&&l.jsx(w2e,{settings:u,onChange:h}),(r.field_type==="select"||r.field_type==="multiselect"||r.field_type==="radio"||r.field_type==="checkbox")&&l.jsx(C2e,{settings:u,options:c,onChange:h,onOptionsChange:d,fieldType:r.field_type}),r.field_type==="product"&&l.jsx(y2e,{settings:u,onChange:h}),(r.field_type==="date"||r.field_type==="time")&&l.jsx(b2e,{settings:u,onChange:h,type:r.field_type}),r.field_type==="country"&&l.jsx(x2e,{settings:u,onChange:h}),r.field_type==="brazilian_states"&&l.jsx(v2e,{settings:u,onChange:h}),r.field_type==="button_buy"&&l.jsx(S2e,{settings:u,onChange:h}),r.field_type==="brand"&&l.jsx(N2e,{settings:u,onChange:h}),["moz_da","semrush_as","ahrefs_dr","ahrefs_traffic","similarweb_traffic","google_traffic"].includes(r.field_type)&&l.jsx(E2e,{settings:u,onChange:h}),r.field_type==="url"&&l.jsx(_2e,{settings:u,onChange:h}),r.field_type==="niche"&&l.jsx(A2e,{settings:u||{niche:"",price:""},onChange:h})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[l.jsx(nt,{variant:"outline",onClick:t,children:"Cancelar"}),l.jsx(nt,{disabled:s,children:s?"Salvando...":"Salvar Alterações"})]})]})]})})}function P2e({field:r,index:e,moveField:t,onEdit:n,onDelete:s}){const a=b.useRef(null),[i,o]=b.useState(!1),[{handlerId:c},d]=t2e({accept:"form-field",collect(m){return{handlerId:m.getHandlerId()}},hover(m,v){var A;if(!a.current)return;const x=m.index,y=e;if(x===y)return;const w=(A=a.current)==null?void 0:A.getBoundingClientRect(),k=(w.bottom-w.top)/2,N=v.getClientOffset().y-w.top;x<y&&N<k||x>y&&N>k||(t(x,y),m.index=y)}}),[{isDragging:u},h]=Ybe({type:"form-field",item:()=>({id:r.id,index:e,type:"form-field"}),collect:m=>({isDragging:m.isDragging()})}),f=u?.4:1;h(d(a));const p=()=>{switch(r.field_type){case"text":return l.jsx(Ml,{className:"w-5 h-5"});case"textarea":return l.jsx(Ml,{className:"w-5 h-5"});case"number":return l.jsx(Ml,{className:"w-5 h-5"});case"email":return l.jsx(W6,{className:"w-5 h-5"});case"phone":return l.jsx(Ml,{className:"w-5 h-5"});case"select":return l.jsx(hy,{className:"w-5 h-5"});case"multiselect":return l.jsx(hy,{className:"w-5 h-5"});case"radio":return l.jsx(Nk,{className:"w-5 h-5"});case"checkbox":return l.jsx(Nk,{className:"w-5 h-5"});case"date":return l.jsx(q6,{className:"w-5 h-5"});case"time":return l.jsx(Y6,{className:"w-5 h-5"});case"file":return l.jsx(Ml,{className:"w-5 h-5"});case"hidden":return l.jsx(vd,{className:"w-5 h-5"});case"html":return l.jsx(qc,{className:"w-5 h-5"});case"niche":return l.jsx(Of,{className:"w-5 h-5"});default:return l.jsx(Ml,{className:"w-5 h-5"})}},g=m=>{switch(m){case"text":return"Texto Simples";case"textarea":return"Texto Longo";case"number":return"Número";case"email":return"Email";case"phone":return"Telefone";case"select":return"Lista Suspensa";case"multiselect":return"Múltipla Escolha";case"radio":return"Botões de Opção";case"checkbox":return"Caixas de Seleção";case"date":return"Data";case"time":return"Hora";case"file":return"Upload de Arquivo";case"hidden":return"Campo Oculto";case"html":return"HTML";case"niche":return"Nichos";default:return m.charAt(0).toUpperCase()+m.slice(1)}};return l.jsxs(l.Fragment,{children:[l.jsx("div",{ref:a,style:{opacity:f},"data-handler-id":c,className:`relative p-4 mb-4 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow ${u?"border-brand-500 dark:border-brand-500":""}`,onClick:()=>o(!0),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg",children:p()}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-medium text-gray-800 dark:text-white/90",children:[r.label,r.is_required&&l.jsx("span",{className:"ml-1 text-error-500",children:"*"})]}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Campo de ",g(r.field_type)]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:m=>{m.stopPropagation(),o(!0)},className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Editar campo",children:l.jsx(Ao,{className:"w-5 h-5"})}),l.jsx("button",{onClick:m=>{m.stopPropagation(),s(r.id)},className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",title:"Excluir campo",children:l.jsx(Fa,{className:"w-5 h-5"})}),l.jsx("div",{className:"cursor-move p-2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-400",children:l.jsx(Xm,{className:"w-5 h-5"})})]})]})}),l.jsx(T2e,{field:r,isOpen:i,onClose:()=>o(!1),onSave:n})]})}function L2e({formId:r}){const[e,t]=b.useState(!1),n=`[form id="${r}"]`,s=async()=>{try{await navigator.clipboard.writeText(n),t(!0),setTimeout(()=>t(!1),2e3)}catch(a){console.error("Failed to copy:",a)}};return l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg font-mono text-sm text-gray-700 dark:text-gray-300",children:n}),l.jsxs(nt,{onClick:s,variant:"outline",className:"min-w-[100px]",children:[l.jsx(qc,{className:"w-5 h-5 mr-2"}),e?"Copiado!":"Copiar"]})]})}function D2e(){const{id:r}=nc(),e=Sr(),[t,n]=b.useState(!1),[s,a]=b.useState(""),[i,o]=b.useState(""),[c,d]=b.useState(null),[u,h]=b.useState([]),[f,p]=b.useState(!1),[g,m]=b.useState("draft");b.useEffect(()=>{r&&v()},[r]);async function v(){try{n(!0),a("");const{data:A,error:E}=await G.from("forms").select("*").eq("id",r).single();if(E)throw E;const{data:R,error:O}=await G.from("form_fields").select("*").eq("form_id",r).order("position",{ascending:!0});if(O)throw O;d(A),h(R||[]),m(A.status)}catch(A){console.error("Error loading form:",A),a("Error loading form"),e("/forms")}finally{n(!1)}}const x=async()=>{try{n(!0),a(""),o("");const{data:{user:A}}=await G.auth.getUser();if(!A)throw new Error("User not authenticated");const{error:E}=await G.from("forms").update({status:g,updated_by:A.id}).eq("id",r);if(E)throw E;o("Formulário salvo com sucesso"),setTimeout(()=>o(""),3e3)}catch(A){console.error("Error saving form:",A),a("Erro ao salvar formulário")}finally{n(!1)}},y=async A=>{if(c)try{n(!0),a("");const{data:{user:E}}=await G.auth.getUser();if(!E)throw new Error("User not authenticated");const R=u.length>0?Math.max(...u.map(D=>D.position))+1:0,{data:O,error:L}=await G.from("form_fields").insert([{form_id:c.id,field_type:A,label:`New ${A} field`,position:R,is_required:!1,width:"full",created_by:E.id}]).select().single();if(L)throw L;h(D=>[...D,O])}catch(E){console.error("Error adding field:",E),a("Error adding field")}finally{n(!1)}},w=async A=>{try{n(!0),a("");const{data:{user:E}}=await G.auth.getUser();if(!E)throw new Error("User not authenticated");const{error:R}=await G.from("form_fields").update({...A,updated_by:E.id}).eq("id",A.id);if(R)throw R;h(O=>O.map(L=>L.id===A.id?A:L))}catch(E){console.error("Error updating field:",E),a("Error updating field")}finally{n(!1)}},k=async A=>{if(confirm("Are you sure you want to delete this field? This action cannot be undone."))try{n(!0),a("");const{error:E}=await G.from("form_fields").delete().eq("id",A);if(E)throw E;h(R=>R.filter(O=>O.id!==A))}catch(E){console.error("Error deleting field:",E),a("Error deleting field")}finally{n(!1)}},S=async(A,E)=>{try{const R=u[A],O=u[E],L=[...u];L[A]=O,L[E]=R,h(L);const D=[{id:R.id,position:E,field_type:R.field_type,label:R.label,is_required:R.is_required,width:R.width},{id:O.id,position:A,field_type:O.field_type,label:O.label,is_required:O.is_required,width:O.width}],{error:F}=await G.from("form_fields").upsert(D);if(F)throw F}catch(R){console.error("Error updating field positions:",R),a("Error updating field positions"),h(u)}},N=()=>{c&&window.open(`/forms/preview/${c.id}`,"_blank")};return t&&!c?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):c?l.jsxs(Cbe,{backend:g2e,children:[l.jsx(er,{title:`Edit Form: ${c.title} | Admin Panel`,description:"Edit form fields and settings"}),l.jsxs("div",{className:"form-editor-layout",children:[l.jsx("div",{className:"form-editor-main",children:l.jsxs("div",{className:"form-editor-content p-4 md:p-6",children:[s&&l.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:s}),i&&l.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:i}),l.jsx("div",{className:"form_editor_fields_container",children:u.length>0?l.jsx("div",{className:"space-y-4",children:u.map((A,E)=>l.jsx(P2e,{field:A,index:E,moveField:S,onEdit:w,onDelete:k},A.id))}):l.jsx("div",{className:"form_editor_fields_no_fields",children:l.jsx("div",{className:"dropzone__target",children:l.jsxs("div",{className:"dropzone__placeholder",children:[l.jsx("img",{src:"/images/error/maintenance.svg",alt:"No fields",className:"gform-editor__no-fields-graphic dark:hidden"}),l.jsx("img",{src:"/images/error/maintenance-dark.svg",alt:"No fields",className:"gform-editor__no-fields-graphic hidden dark:block"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Arraste campos aqui ou use o menu lateral para adicionar campos ao seu formulário"})]})})})})]})}),l.jsxs("div",{className:"form-editor-sidebar",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-white/90",children:c.title}),c.description&&l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:c.description})]}),l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(or,{options:[{value:"draft",label:"Rascunho"},{value:"published",label:"Publicado"},{value:"archived",label:"Arquivado"}],value:g,onChange:A=>m(A)}),l.jsx(nt,{onClick:x,disabled:t,children:t?"Salvando...":"Salvar"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(nt,{variant:"outline",onClick:()=>p(!f),className:"w-full",children:[l.jsx(qc,{className:"w-5 h-5 mr-2"}),"Shortcode"]}),l.jsxs(nt,{variant:"outline",onClick:N,className:"w-full",children:[l.jsx(Ql,{className:"w-5 h-5 mr-2"}),"Visualizar"]})]}),l.jsxs(nt,{variant:"outline",onClick:()=>e(`/forms/settings/${c.id}`),className:"w-full",children:[l.jsx(G6,{className:"w-5 h-5 mr-2"}),"Configurações"]}),l.jsxs(nt,{variant:"outline",onClick:()=>e("/forms"),className:"w-full",children:[l.jsx(TR,{className:"w-5 h-5 mr-2"}),"Voltar"]})]})]}),f&&l.jsx("div",{className:"mt-4",children:l.jsx(L2e,{formId:c.id})})]}),l.jsx(m2e,{onAddField:y})]})]})]}):l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-error-500",children:"Form not found"})})}function M2e(){const{id:r}=nc(),e=Sr(),[t,n]=b.useState(!1),[s,a]=b.useState(""),[i,o]=b.useState(!1),[c,d]=b.useState([]),[u,h]=b.useState({title:"",description:"",submit_button_text:"Enviar",success_message:"",failure_message:"",redirect_page:"",no_data_message:"Nenhum registro encontrado"});b.useEffect(()=>{r&&(p(),f())},[r]);async function f(){try{const{data:m,error:v}=await G.from("pages").select("id, title, slug, status").eq("status","published").order("title",{ascending:!0});if(v)throw v;d(m||[])}catch(m){console.error("Error loading pages:",m)}}async function p(){try{n(!0),a("");const{data:m,error:v}=await G.from("forms").select("*").eq("id",r).single();if(v)throw v;m&&h({title:m.title||"",description:m.description||"",submit_button_text:m.submit_button_text||"Enviar",success_message:m.success_message||"",failure_message:m.failure_message||"",redirect_page:m.redirect_page||"",no_data_message:m.no_data_message||"Nenhum registro encontrado"})}catch(m){console.error("Error loading form settings:",m),a("Erro ao carregar configurações do formulário"),e("/forms")}finally{n(!1)}}const g=async m=>{m.preventDefault();try{n(!0),a(""),o(!1);const{data:{user:v}}=await G.auth.getUser();if(!v)throw new Error("Usuário não autenticado");const{error:x}=await G.from("forms").update({title:u.title.trim(),description:u.description.trim()||null,submit_button_text:u.submit_button_text.trim(),success_message:u.success_message.trim()||null,failure_message:u.failure_message.trim()||null,redirect_page:u.redirect_page||null,no_data_message:u.no_data_message.trim()||"Nenhum registro encontrado",updated_by:v.id}).eq("id",r);if(x)throw x;o(!0),setTimeout(()=>{e(`/forms/edit/${r}`)},1500)}catch(v){console.error("Error saving form settings:",v),a("Erro ao salvar configurações do formulário")}finally{n(!1)}};return t&&!u.title?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):l.jsxs(l.Fragment,{children:[l.jsx(er,{title:"Configurações do Formulário | Painel Admin",description:"Configurar configurações do formulário"}),l.jsx(Dr,{pageTitle:"Configurações do Formulário"}),l.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]",children:[s&&l.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:s}),i&&l.jsx("div",{className:"mb-6 p-4 text-sm text-success-600 bg-success-50 rounded-lg dark:bg-success-500/15 dark:text-success-500",children:"Configurações salvas com sucesso!"}),l.jsxs("form",{onSubmit:g,className:"max-w-2xl space-y-6",children:[l.jsxs("div",{children:[l.jsx(Me,{children:"Título do Formulário"}),l.jsx(st,{type:"text",value:u.title,onChange:m=>h({...u,title:m.target.value}),required:!0})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Descrição"}),l.jsx(st,{type:"text",value:u.description,onChange:m=>h({...u,description:m.target.value})})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Texto do Botão de Envio"}),l.jsx(st,{type:"text",value:u.submit_button_text,onChange:m=>h({...u,submit_button_text:m.target.value}),required:!0})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Mensagem de Sucesso"}),l.jsx(st,{type:"text",value:u.success_message,onChange:m=>h({...u,success_message:m.target.value}),placeholder:"Formulário enviado com sucesso!"})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Mensagem de Erro"}),l.jsx(st,{type:"text",value:u.failure_message,onChange:m=>h({...u,failure_message:m.target.value}),placeholder:"Erro ao enviar formulário. Tente novamente."})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Mensagem de Nenhum Dado"}),l.jsx(st,{type:"text",value:u.no_data_message,onChange:m=>h({...u,no_data_message:m.target.value}),placeholder:"Nenhuma entrada encontrada"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Mensagem a ser exibida quando não há entradas para mostrar"})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Página de Redirecionamento"}),l.jsx(or,{options:[{value:"",label:"Nenhuma (mostrar mensagem de sucesso)"},...c.map(m=>({value:m.slug,label:m.title}))],value:u.redirect_page,onChange:m=>h({...u,redirect_page:m})}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Selecione uma página para redirecionar após o envio bem-sucedido do formulário"})]}),l.jsxs("div",{className:"flex gap-4 pt-6",children:[l.jsx(nt,{variant:"outline",onClick:()=>e(`/forms/edit/${r}`),children:"Cancelar"}),l.jsx(nt,{disabled:t,children:t?"Salvando...":"Salvar"})]})]})]})]})}function R2e(){const{id:r}=nc(),[e,t]=b.useState(!0),[n,s]=b.useState(""),[a,i]=b.useState(null);b.useEffect(()=>{r&&o(r)},[r]);async function o(c){try{t(!0),s("");const{data:d,error:u}=await G.from("forms").select("*").eq("id",c).single();if(u)throw u;if(!d)throw new Error("Form not found");i(d)}catch(d){console.error("Error loading form:",d),s(d.message||"Error loading form")}finally{t(!1)}}return e?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):n?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-error-500",children:n})}):l.jsxs(l.Fragment,{children:[l.jsx(mh,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-white/90 mb-6",children:a.title}),a.description&&l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8",children:a.description}),l.jsx(XH,{formId:a.id})]})})]})}function e8({show:r,message:e,type:t="success",top:n=90,onClose:s,className:a}){const i=b.useRef(null),[o,c]=b.useState(!1),[d,u]=b.useState(!1);b.useEffect(()=>{r?(u(!0),setTimeout(()=>c(!0),10)):!r&&o&&c(!1)},[r]),b.useEffect(()=>{if(!o&&d){const f=setTimeout(()=>{u(!1),s&&s()},500);return()=>clearTimeout(f)}},[o,d,s]);const h=()=>{c(!1)};return d?l.jsx("div",{ref:i,className:`fixed right-0 z-[999999] transition-transform duration-500 ${t==="success"?"bg-success-500 dark:bg-success-600":"bg-error-500 dark:bg-error-600"} text-white px-6 py-3 rounded-l-lg shadow-lg flex items-center ${a||""}`,style:{minWidth:220,top:n,transform:o?"translateX(0)":"translateX(100%)"},onClick:h,children:e}):null}async function sS(){const{data:r,error:e}=await G.from("publisher_services").select("*");return e?(console.error("Erro ao buscar publisher_services:",e),null):r}async function I2e(r){const{data:e,error:t}=await G.from("publisher_services").select("*").eq("id",r).single();return t?(console.error("Erro ao buscar publisher_service por id:",t),null):e}async function O2e(r){const{data:e,error:t}=await G.from("publisher_services").insert([r]).select().single();return t?(console.error("Erro ao criar publisher_service:",t),null):e}async function F2e(r,e){const{data:t,error:n}=await G.from("publisher_services").update(e).eq("id",r).select().single();return n?(console.error("Erro ao atualizar publisher_service:",n),null):t}async function B2e(r){const{error:e}=await G.from("publisher_services").delete().eq("id",r);return e?(console.error("Erro ao deletar publisher_service:",e),!1):!0}async function z2e(r,e,t,n){if(console.log("setActivePublisherService params:",{id:r,current_id:e,service_type:t,checked:n}),n){const{data:s,error:a}=await G.from("publisher_services").select("id, is_active").eq("current_id",e).eq("service_type",t).neq("id",r);if(a){console.error("Erro ao buscar outros serviços:",a);return}if(s&&s.length>0){const i=s.map(o=>o.id);await G.from("publisher_services").update({is_active:!1}).in("id",i)}}await G.from("publisher_services").update({is_active:n}).eq("id",r)}const NU=b.createContext({fetchServices:()=>{}}),EU=()=>b.useContext(NU),H2e=[{value:"Conteúdo",label:"Conteúdo"},{value:"Patrocinio",label:"Patrocinio"},{value:"Radio",label:"Radio"}];function U2e({field:r}){const[e,t]=b.useState(!1),[n,s]=b.useState(""),[a,i]=b.useState("Conteúdo"),[o,c]=b.useState(""),[d,u]=b.useState([]),[h,f]=b.useState([]),[p,g]=b.useState(null),[m,v]=b.useState(null),{fetchServices:x}=EU();b.useEffect(()=>{async function k(){const S=await nE();console.log("Resultado do getForms:",S),S&&u(S.map(N=>({id:N.id,name:N.title})))}k()},[]),b.useEffect(()=>{async function k(){const S=await IZ();if(!S){g(null),v(null);return}v(S),S.type==="admin"?g("admin"):S.type==="platform"&&g(S.data.role||"platform")}k()},[]),b.useEffect(()=>{if(!a||d.length===0)return;let k="";if(a==="Conteúdo"?k="cadastro de sites":a==="Radio"?k="Radios":a==="Patrocinio"&&(k="serv32"),k){const S=d.find(N=>N.name.trim().toLowerCase()===k.trim().toLowerCase());S&&c(S.id)}},[a,d]);function y(k,S){const N=kp();f(A=>[...A,{id:N,message:k,type:S}]),setTimeout(()=>{f(A=>A.filter(E=>E.id!==N))},4e3)}const w=async k=>{if(k.preventDefault(),!n||!a||!o||!m)return;const S={service_title:n,service_type:a,product_type:o};p==="admin"?S.admin_id=m.user.id:S.user_id=m.user.id,await O2e(S)?(y("Serviço cadastrado com sucesso!","success"),t(!1),s(""),i("Conteúdo"),c(""),x()):y("Erro ao criar serviço. Tente novamente ou entre em contato com o suporte.","error")};return l.jsxs(l.Fragment,{children:[h.map((k,S)=>l.jsx(e8,{show:!0,message:k.message,type:k.type,top:90+S*60,onClose:()=>{f(N=>N.filter(A=>A.id!==k.id))}},k.id)),l.jsx("div",{className:"mb-6",children:l.jsx(nt,{onClick:()=>t(!0),children:r.label||"Abrir Modal"})}),e&&l.jsx("div",{onMouseDown:()=>t(!1),className:"fixed inset-0 z-[99999] flex items-center justify-center bg-gray-400/50 backdrop-blur-[--background-blur] dark:text-white",children:l.jsxs("div",{onMouseDown:k=>k.stopPropagation(),className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:r.modalTitle||"Novo Serviço"}),l.jsxs("form",{className:"space-y-4",onSubmit:w,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Título do serviço"}),l.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-black dark:bg-gray-900 dark:border-gray-700 dark:text-white",value:n,onChange:k=>s(k.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de serviço"}),l.jsx("select",{className:"w-full border rounded px-3 py-2 text-black dark:bg-gray-900 dark:border-gray-700 dark:text-white",value:a,onChange:k=>i(k.target.value),required:!0,children:H2e.map(k=>l.jsx("option",{value:k.value,children:k.label},k.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Produto"}),l.jsxs("select",{className:"w-full border rounded px-3 py-2 text-black appearance-none !bg-none dark:bg-gray-900 dark:border-gray-700 dark:text-white",value:o,onChange:k=>c(k.target.value),required:!0,disabled:!0,style:{backgroundImage:"none"},children:[l.jsx("option",{value:"",children:"Selecione um formulário"}),d.map(k=>l.jsx("option",{value:k.id,children:k.name},k.id))]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[l.jsx("button",{type:"button",onClick:()=>{t(!1),s(""),i("Conteúdo"),c("")},className:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400 transition-colors",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-500 text-white rounded hover:bg-brand-600 transition-colors",children:"Salvar"})]})]})]})})]})}function aS(){return aS=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},aS.apply(this,arguments)}var $2e=ht.createElement("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0}},ht.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})),V2e=ht.createElement("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0}},ht.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}));function PT(r){if(r.length===7)return r;for(var e="#",t=1;t<4;t+=1)e+=r[t]+r[t];return e}function LT(r,e,t,n,s){return function(a,i,o,c,d){var u=(a-o)/(i-o);if(u===0)return c;if(u===1)return d;for(var h="#",f=1;f<6;f+=2){var p=parseInt(c.substr(f,2),16),g=parseInt(d.substr(f,2),16),m=Math.round((1-u)*p+u*g).toString(16);m.length===1&&(m="0"+m),h+=m}return h}(r,e,t,PT(n),PT(s))}var Y2=function(r){function e(t){r.call(this,t);var n=t.height,s=t.width,a=t.checked;this.t=t.handleDiameter||n-2,this.i=Math.max(s-n,s-(n+this.t)/2),this.o=Math.max(0,(n-this.t)/2),this.state={h:a?this.i:this.o},this.l=0,this.u=0,this.p=this.p.bind(this),this.v=this.v.bind(this),this.k=this.k.bind(this),this.m=this.m.bind(this),this.M=this.M.bind(this),this.T=this.T.bind(this),this.$=this.$.bind(this),this.C=this.C.bind(this),this.D=this.D.bind(this),this.O=this.O.bind(this),this.S=this.S.bind(this),this.W=this.W.bind(this)}return r&&(e.__proto__=r),(e.prototype=Object.create(r&&r.prototype)).constructor=e,e.prototype.componentDidMount=function(){this.I=!0},e.prototype.componentDidUpdate=function(t){t.checked!==this.props.checked&&this.setState({h:this.props.checked?this.i:this.o})},e.prototype.componentWillUnmount=function(){this.I=!1},e.prototype.H=function(t){this.R.focus(),this.setState({j:t,B:!0,L:Date.now()})},e.prototype.N=function(t){var n=this.state,s=n.j,a=n.h,i=(this.props.checked?this.i:this.o)+t-s;n.U||t===s||this.setState({U:!0});var o=Math.min(this.i,Math.max(this.o,i));o!==a&&this.setState({h:o})},e.prototype.A=function(t){var n=this.state,s=n.h,a=n.U,i=n.L,o=this.props.checked,c=(this.i+this.o)/2;this.setState({h:this.props.checked?this.i:this.o});var d=Date.now()-i;(!a||d<250||o&&s<=c||!o&&s>=c)&&this.X(t),this.I&&this.setState({U:!1,B:!1}),this.l=Date.now()},e.prototype.p=function(t){t.preventDefault(),typeof t.button=="number"&&t.button!==0||(this.H(t.clientX),window.addEventListener("mousemove",this.v),window.addEventListener("mouseup",this.k))},e.prototype.v=function(t){t.preventDefault(),this.N(t.clientX)},e.prototype.k=function(t){this.A(t),window.removeEventListener("mousemove",this.v),window.removeEventListener("mouseup",this.k)},e.prototype.m=function(t){this.F=null,this.H(t.touches[0].clientX)},e.prototype.M=function(t){this.N(t.touches[0].clientX)},e.prototype.T=function(t){t.preventDefault(),this.A(t)},e.prototype.C=function(t){Date.now()-this.l>50&&(this.X(t),Date.now()-this.u>50&&this.I&&this.setState({B:!1}))},e.prototype.D=function(){this.u=Date.now()},e.prototype.O=function(){this.setState({B:!0})},e.prototype.S=function(){this.setState({B:!1})},e.prototype.W=function(t){this.R=t},e.prototype.$=function(t){t.preventDefault(),this.R.focus(),this.X(t),this.I&&this.setState({B:!1})},e.prototype.X=function(t){var n=this.props;(0,n.onChange)(!n.checked,t,n.id)},e.prototype.render=function(){var t=this.props,n=t.checked,s=t.disabled,a=t.className,i=t.offColor,o=t.onColor,c=t.offHandleColor,d=t.onHandleColor,u=t.checkedIcon,h=t.uncheckedIcon,f=t.checkedHandleIcon,p=t.uncheckedHandleIcon,g=t.boxShadow,m=t.activeBoxShadow,v=t.height,x=t.width,y=t.borderRadius,w=function(B,z){var V={};for(var W in B)Object.prototype.hasOwnProperty.call(B,W)&&z.indexOf(W)===-1&&(V[W]=B[W]);return V}(t,["checked","disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","checkedHandleIcon","uncheckedHandleIcon","boxShadow","activeBoxShadow","height","width","borderRadius","handleDiameter"]),k=this.state,S=k.h,N=k.U,A=k.B,E={position:"relative",display:"inline-block",textAlign:"left",opacity:s?.5:1,direction:"ltr",borderRadius:v/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},R={height:v,width:x,margin:Math.max(0,(this.t-v)/2),position:"relative",background:LT(S,this.i,this.o,i,o),borderRadius:typeof y=="number"?y:v/2,cursor:s?"default":"pointer",WebkitTransition:N?null:"background 0.25s",MozTransition:N?null:"background 0.25s",transition:N?null:"background 0.25s"},O={height:v,width:Math.min(1.5*v,x-(this.t+v)/2+1),position:"relative",opacity:(S-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:N?null:"opacity 0.25s",MozTransition:N?null:"opacity 0.25s",transition:N?null:"opacity 0.25s"},L={height:v,width:Math.min(1.5*v,x-(this.t+v)/2+1),position:"absolute",opacity:1-(S-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:N?null:"opacity 0.25s",MozTransition:N?null:"opacity 0.25s",transition:N?null:"opacity 0.25s"},D={height:this.t,width:this.t,background:LT(S,this.i,this.o,c,d),display:"inline-block",cursor:s?"default":"pointer",borderRadius:typeof y=="number"?y-1:"50%",position:"absolute",transform:"translateX("+S+"px)",top:Math.max(0,(v-this.t)/2),outline:0,boxShadow:A?m:g,border:0,WebkitTransition:N?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:N?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:N?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"},F={height:this.t,width:this.t,opacity:Math.max(2*(1-(S-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:N?null:"opacity 0.25s",MozTransition:N?null:"opacity 0.25s",transition:N?null:"opacity 0.25s"},M={height:this.t,width:this.t,opacity:Math.max(2*((S-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:N?null:"opacity 0.25s",MozTransition:N?null:"opacity 0.25s",transition:N?null:"opacity 0.25s"};return ht.createElement("div",{className:a,style:E},ht.createElement("div",{className:"react-switch-bg",style:R,onClick:s?null:this.$,onMouseDown:function(B){return B.preventDefault()}},u&&ht.createElement("div",{style:O},u),h&&ht.createElement("div",{style:L},h)),ht.createElement("div",{className:"react-switch-handle",style:D,onClick:function(B){return B.preventDefault()},onMouseDown:s?null:this.p,onTouchStart:s?null:this.m,onTouchMove:s?null:this.M,onTouchEnd:s?null:this.T,onTouchCancel:s?null:this.S},p&&ht.createElement("div",{style:F},p),f&&ht.createElement("div",{style:M},f)),ht.createElement("input",aS({},{type:"checkbox",role:"switch","aria-checked":n,checked:n,disabled:s,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}},w,{ref:this.W,onFocus:this.O,onBlur:this.S,onKeyUp:this.D,onChange:this.C})))},e}(b.Component);Y2.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:$2e,checkedIcon:V2e,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56};function W2e({serviceId:r,open:e,onClose:t}){const[n,s]=b.useState(""),[a,i]=b.useState("Conteúdo"),[o,c]=b.useState(""),[d,u]=b.useState([]),[h,f]=b.useState([]),{fetchServices:p}=EU();b.useEffect(()=>{e&&r&&(async()=>{const x=await I2e(r);x&&(s(x.service_title),i(x.service_type),c(x.product_type))})()},[e,r]),b.useEffect(()=>{async function x(){const y=await nE();y&&u(y.map(w=>({value:w.id,label:w.title})))}e&&x()},[e]),b.useEffect(()=>{if(!a||d.length===0)return;let x="";if(a==="Conteúdo"?x="cadastro de sites":a==="Radio"?x="Radios":a==="Patrocinio"&&(x="serv32"),x){const y=d.find(w=>w.label.trim().toLowerCase()===x.trim().toLowerCase());y&&c(y.value)}},[a,d]);function g(x,y){const w=kp();f(k=>[...k,{id:w,message:x,type:y}]),setTimeout(()=>{f(k=>k.filter(S=>S.id!==w))},4e3)}const m=async x=>{if(x.preventDefault(),!n||!a||!o)return;await F2e(r,{service_title:n,service_type:a,product_type:o})?(g("Serviço atualizado com sucesso!","success"),setTimeout(()=>{t(),p()},400)):g("Erro ao atualizar serviço. Tente novamente ou entre em contato com o suporte.","error")},v=[{value:"Conteúdo",label:"Conteúdo"},{value:"Patrocinio",label:"Patrocinio"},{value:"Radio",label:"Radio"}];return l.jsxs(l.Fragment,{children:[h.map((x,y)=>l.jsx(e8,{show:!0,message:x.message,type:x.type,top:90+y*60,onClose:()=>{f(w=>w.filter(k=>k.id!==x.id))},className:`toast-anim-${x.id}`},x.id)),e&&l.jsx("div",{onMouseDown:t,className:"fixed inset-0 z-[99999] flex items-center justify-center bg-gray-400/50 backdrop-blur-[--background-blur] dark:text-white",children:l.jsxs("div",{onMouseDown:x=>x.stopPropagation(),className:"bg-white dark:bg-gray-900 rounded-lg shadow-lg p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Editar Serviço"}),l.jsxs("form",{className:"space-y-4",onSubmit:m,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Título do serviço"}),l.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-black dark:bg-gray-900 dark:border-gray-700 dark:text-white",value:n,onChange:x=>s(x.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de serviço"}),l.jsx(or,{options:v,value:a,onChange:i,placeholder:"Selecione o tipo de serviço",className:"dark:bg-gray-900 dark:border-gray-700 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de produto"}),l.jsx(or,{options:d,value:o,onChange:()=>{},placeholder:"Selecione o formulário",className:"pointer-events-none opacity-60 appearance-none !bg-none dark:bg-gray-900 dark:border-gray-700 dark:text-white"})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400 transition-colors",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-500 text-white rounded hover:bg-brand-600 transition-colors",children:"Salvar"})]})]})]})})]})}function q2e(r){return new Date(r).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}const Y2e=({packages:r,onDelete:e,onRefresh:t})=>{const[n,s]=b.useState(!1),[a,i]=b.useState(null),[o,c]=b.useState(()=>{const k={};return r.forEach(S=>{k[S.id]=S.is_active}),k}),d=Sr();ht.useEffect(()=>{c(k=>{const S={...k};return r.forEach(N=>{S[N.id]=N.is_active}),S})},[r]);const u=k=>{i(k),s(!0)},h=async(k,S)=>{if(!window.confirm(`Tem certeza que deseja excluir o serviço "${S}"?`))return;await B2e(k)?e(k):alert("Erro ao excluir serviço.")},[f,p]=b.useState("created_at"),[g,m]=b.useState("desc"),v=k=>{f===k?m(S=>S==="asc"?"desc":"asc"):(p(k),m("asc"))},x=[...r].sort((k,S)=>{let N=k[f],A=S[f];return f==="created_at"||f==="updated_at"?(N=N?new Date(N).getTime():0,A=A?new Date(A).getTime():0,g==="asc"?N-A:A-N):typeof N=="string"&&typeof A=="string"?(N=N.toLowerCase(),A=A.toLowerCase(),N<A?g==="asc"?-1:1:N>A?g==="asc"?1:-1:0):typeof N=="number"&&typeof A=="number"?g==="asc"?N-A:A-N:typeof N=="boolean"&&typeof A=="boolean"?g==="asc"?Number(N)-Number(A):Number(A)-Number(N):N==null?1:A==null?-1:0}),y={};x.forEach(k=>{y[k.service_type]||(y[k.service_type]=[]),y[k.service_type].push(k)});const w=Object.keys(y);return l.jsxs(l.Fragment,{children:[l.jsx(W2e,{serviceId:a||"",open:n,onClose:()=>s(!1)}),l.jsx("div",{className:"mt-6 overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:l.jsx("div",{className:"max-w-full overflow-x-auto",children:l.jsx("div",{className:"min-w-[1102px]",children:l.jsxs(To,{children:[l.jsx(Po,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:l.jsxs(Mr,{children:[l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("title"),children:[l.jsx("span",{children:"Título"}),f==="title"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("fields"),children:[l.jsx("span",{children:"Cards"}),f==="fields"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("service_type"),children:[l.jsx("span",{children:"Tipo de Serviço"}),f==="service_type"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("updated_at"),children:[l.jsx("span",{children:"Última atualização"}),f==="updated_at"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("is_active"),children:[l.jsx("span",{children:"Status"}),f==="is_active"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left select-none px-5 py-3",children:l.jsx("span",{children:"Ações"})})})]})}),l.jsxs(Lo,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:[w.map(k=>l.jsx(ht.Fragment,{children:y[k].map(S=>l.jsxs(Mr,{children:[l.jsx(et,{className:"px-5 py-4 sm:px-6 text-start",children:l.jsx("span",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:S.title})}),l.jsxs(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:[S.fields," ",S.fields<=1?"Card":"Cards"]}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:S.service_type}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:q2e(S.updated_at)}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:S.is_active===!0?l.jsx("span",{className:"inline-block px-2 py-1 rounded-full bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300 text-xs font-semibold",onClick:()=>console.log(S),children:"Ativo"}):l.jsx("span",{className:"inline-block px-2 py-1 rounded-full bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300 text-xs font-semibold",onClick:()=>console.log(S),children:"Inativo"})}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Editar",onClick:()=>{console.log("id:",S.id),d(`/service-packages/${S.id}`)},children:l.jsx(Ao,{className:"w-5 h-5"})}),l.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Configurações",onClick:()=>u(S.id),children:l.jsx(X6,{className:"w-5 h-5"})}),l.jsx("button",{className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",title:"Excluir",onClick:()=>h(S.id,S.title),children:l.jsx(Fa,{className:"w-5 h-5"})}),l.jsx(Y2,{checked:o[S.id],onChange:async N=>{c(A=>({...A,[S.id]:N})),await z2e(S.id,S.current_id,S.service_type,N),t&&await t()},onColor:"#3b82f6",offColor:"#d1d5db",checkedIcon:!1,uncheckedIcon:!1,height:16,width:32})]})})]},S.id))},k)),r.length===0&&l.jsx(Mr,{children:l.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"Nenhum registro encontrado."})})]})]})})})})]})};async function Cp(){const{data:r,error:e}=await G.from("service_cards").select(`
      id,
      service_id,
      title,
      subtitle,
      price,
      price_per_word,
      word_count,
      benefits,
      not_benefits,
      period,
      is_free,
      updated_at,
      layout_toggle
    `).order("order_layout",{ascending:!0});return e?(console.error("Erro ao buscar service_cards:",e),null):r}async function G2e(r){const{data:e,error:t}=await G.from("service_cards").select("*").eq("id",r).single();return t?(console.error("Erro ao buscar service_card por id:",t),null):e}async function X2e(r){const{data:e,error:t}=await G.from("service_cards").insert([r]).select().single();return t?(console.error("Erro ao criar service_card:",t),null):e}async function Z2e(r,e){const{data:t,error:n}=await G.from("service_cards").update(e).eq("id",r).select().single();return n?(console.error("Erro ao atualizar service_card:",n),null):t}async function J2e(r){const{error:e}=await G.from("service_cards").delete().eq("id",r);return e?(console.error("Erro ao deletar service_card:",e),!1):!0}async function K2e(r){const e=r.map(t=>G.from("service_cards").update({order_layout:t.order_layout}).eq("id",t.id));await Promise.all(e)}async function Q2e(r,e){const{error:t}=await G.from("service_cards").update({layout_toggle:e}).eq("id",r);return t?(console.error("Erro ao atualizar layout_toggle do service_card:",t),!1):!0}const ewe=()=>{const[r,e]=b.useState([]),[t,n]=b.useState(!0),s=async()=>{n(!0);const a=await sS();let i=[];try{i=await Cp()||[]}catch{i=[]}e(a?a.map(o=>{const c=o.id,d=i.filter(u=>u.service_id===c).length;return{id:o.id,current_id:o.current_id,title:o.service_title,fields:d,service_type:o.service_type,updated_at:o.updated_at,is_active:o.is_active,created_at:o.created_at,service_id:o.id}}).sort((o,c)=>new Date(o.created_at).getTime()-new Date(c.created_at).getTime()):[]),n(!1)};return b.useEffect(()=>{s()},[]),l.jsx(NU.Provider,{value:{fetchServices:s},children:l.jsxs("div",{children:[l.jsx("h2",{className:"mb-6 text-xl font-semibold text-gray-800 dark:text-white/90","x-text":"pageName",children:"Serviços"}),l.jsx(U2e,{field:{label:"Novo Serviço",modalTitle:"Adicionar novo serviço"}}),l.jsx(Y2e,{packages:r,onDelete:a=>e(i=>i.filter(o=>o.id!==a)),onRefresh:s}),t&&l.jsx("div",{className:"fixed bottom-6 right-6 z-[9999] bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 shadow-lg rounded-lg px-6 py-3 text-gray-500 dark:text-gray-200 animate-fade-in",children:"Carregando..."})]})})};function twe(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return b.useMemo(()=>n=>{e.forEach(s=>s(n))},e)}const G2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vp(r){const e=Object.prototype.toString.call(r);return e==="[object Window]"||e==="[object global]"}function t8(r){return"nodeType"in r}function Ba(r){var e,t;return r?Vp(r)?r:t8(r)&&(e=(t=r.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function r8(r){const{Document:e}=Ba(r);return r instanceof e}function K0(r){return Vp(r)?!1:r instanceof Ba(r).HTMLElement}function _U(r){return r instanceof Ba(r).SVGElement}function Wp(r){return r?Vp(r)?r.document:t8(r)?r8(r)?r:K0(r)||_U(r)?r.ownerDocument:document:document:document}const ll=G2?b.useLayoutEffect:b.useEffect;function n8(r){const e=b.useRef(r);return ll(()=>{e.current=r}),b.useCallback(function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function rwe(){const r=b.useRef(null),e=b.useCallback((n,s)=>{r.current=setInterval(n,s)},[]),t=b.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[e,t]}function b0(r,e){e===void 0&&(e=[r]);const t=b.useRef(r);return ll(()=>{t.current!==r&&(t.current=r)},e),t}function Q0(r,e){const t=b.useRef();return b.useMemo(()=>{const n=r(t.current);return t.current=n,n},[...e])}function Ab(r){const e=n8(r),t=b.useRef(null),n=b.useCallback(s=>{s!==t.current&&(e==null||e(s,t.current)),t.current=s},[]);return[t,n]}function iS(r){const e=b.useRef();return b.useEffect(()=>{e.current=r},[r]),e.current}let q4={};function ex(r,e){return b.useMemo(()=>{if(e)return e;const t=q4[r]==null?0:q4[r]+1;return q4[r]=t,r+"-"+t},[r,e])}function jU(r){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return n.reduce((a,i)=>{const o=Object.entries(i);for(const[c,d]of o){const u=a[c];u!=null&&(a[c]=u+r*d)}return a},{...e})}}const Yf=jU(1),Tb=jU(-1);function nwe(r){return"clientX"in r&&"clientY"in r}function s8(r){if(!r)return!1;const{KeyboardEvent:e}=Ba(r.target);return e&&r instanceof e}function swe(r){if(!r)return!1;const{TouchEvent:e}=Ba(r.target);return e&&r instanceof e}function oS(r){if(swe(r)){if(r.touches&&r.touches.length){const{clientX:e,clientY:t}=r.touches[0];return{x:e,y:t}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:e,clientY:t}=r.changedTouches[0];return{x:e,y:t}}}return nwe(r)?{x:r.clientX,y:r.clientY}:null}const w0=Object.freeze({Translate:{toString(r){if(!r)return;const{x:e,y:t}=r;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:e,scaleY:t}=r;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(r){if(r)return[w0.Translate.toString(r),w0.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:e,duration:t,easing:n}=r;return e+" "+t+"ms "+n}}}),DT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function awe(r){return r.matches(DT)?r:r.querySelector(DT)}const iwe={display:"none"};function owe(r){let{id:e,value:t}=r;return ht.createElement("div",{id:e,style:iwe},t)}function lwe(r){let{id:e,announcement:t,ariaLiveType:n="assertive"}=r;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ht.createElement("div",{id:e,style:s,role:"status","aria-live":n,"aria-atomic":!0},t)}function cwe(){const[r,e]=b.useState("");return{announce:b.useCallback(n=>{n!=null&&e(n)},[]),announcement:r}}const AU=b.createContext(null);function dwe(r){const e=b.useContext(AU);b.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(r)},[r,e])}function uwe(){const[r]=b.useState(()=>new Set),e=b.useCallback(n=>(r.add(n),()=>r.delete(n)),[r]);return[b.useCallback(n=>{let{type:s,event:a}=n;r.forEach(i=>{var o;return(o=i[s])==null?void 0:o.call(i,a)})},[r]),e]}const hwe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},fwe={onDragStart(r){let{active:e}=r;return"Picked up draggable item "+e.id+"."},onDragOver(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(r){let{active:e}=r;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function pwe(r){let{announcements:e=fwe,container:t,hiddenTextDescribedById:n,screenReaderInstructions:s=hwe}=r;const{announce:a,announcement:i}=cwe(),o=ex("DndLiveRegion"),[c,d]=b.useState(!1);if(b.useEffect(()=>{d(!0)},[]),dwe(b.useMemo(()=>({onDragStart(h){let{active:f}=h;a(e.onDragStart({active:f}))},onDragMove(h){let{active:f,over:p}=h;e.onDragMove&&a(e.onDragMove({active:f,over:p}))},onDragOver(h){let{active:f,over:p}=h;a(e.onDragOver({active:f,over:p}))},onDragEnd(h){let{active:f,over:p}=h;a(e.onDragEnd({active:f,over:p}))},onDragCancel(h){let{active:f,over:p}=h;a(e.onDragCancel({active:f,over:p}))}}),[a,e])),!c)return null;const u=ht.createElement(ht.Fragment,null,ht.createElement(owe,{id:n,value:s.draggable}),ht.createElement(lwe,{id:o,announcement:i}));return t?Ui.createPortal(u,t):u}var is;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(is||(is={}));function Pb(){}function gwe(r,e){return b.useMemo(()=>({sensor:r,options:e??{}}),[r,e])}function mwe(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return b.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const Eo=Object.freeze({x:0,y:0});function xwe(r,e){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function vwe(r,e){let{data:{value:t}}=r,{data:{value:n}}=e;return t-n}function ywe(r,e){let{data:{value:t}}=r,{data:{value:n}}=e;return n-t}function bwe(r,e){if(!r||r.length===0)return null;const[t]=r;return t[e]}function MT(r,e,t){return e===void 0&&(e=r.left),t===void 0&&(t=r.top),{x:e+r.width*.5,y:t+r.height*.5}}const wwe=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=r;const s=MT(e,e.left,e.top),a=[];for(const i of n){const{id:o}=i,c=t.get(o);if(c){const d=xwe(MT(c),s);a.push({id:o,data:{droppableContainer:i,value:d}})}}return a.sort(vwe)};function kwe(r,e){const t=Math.max(e.top,r.top),n=Math.max(e.left,r.left),s=Math.min(e.left+e.width,r.left+r.width),a=Math.min(e.top+e.height,r.top+r.height),i=s-n,o=a-t;if(n<s&&t<a){const c=e.width*e.height,d=r.width*r.height,u=i*o,h=u/(c+d-u);return Number(h.toFixed(4))}return 0}const Cwe=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=r;const s=[];for(const a of n){const{id:i}=a,o=t.get(i);if(o){const c=kwe(o,e);c>0&&s.push({id:i,data:{droppableContainer:a,value:c}})}}return s.sort(ywe)};function Swe(r,e,t){return{...r,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function TU(r,e){return r&&e?{x:r.left-e.left,y:r.top-e.top}:Eo}function Nwe(r){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return s.reduce((i,o)=>({...i,top:i.top+r*o.y,bottom:i.bottom+r*o.y,left:i.left+r*o.x,right:i.right+r*o.x}),{...t})}}const Ewe=Nwe(1);function _we(r){if(r.startsWith("matrix3d(")){const e=r.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(r.startsWith("matrix(")){const e=r.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function jwe(r,e,t){const n=_we(e);if(!n)return r;const{scaleX:s,scaleY:a,x:i,y:o}=n,c=r.left-i-(1-s)*parseFloat(t),d=r.top-o-(1-a)*parseFloat(t.slice(t.indexOf(" ")+1)),u=s?r.width/s:r.width,h=a?r.height/a:r.height;return{width:u,height:h,top:d,right:c+u,bottom:d+h,left:c}}const Awe={ignoreTransform:!1};function qp(r,e){e===void 0&&(e=Awe);let t=r.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:u}=Ba(r).getComputedStyle(r);d&&(t=jwe(t,d,u))}const{top:n,left:s,width:a,height:i,bottom:o,right:c}=t;return{top:n,left:s,width:a,height:i,bottom:o,right:c}}function RT(r){return qp(r,{ignoreTransform:!0})}function Twe(r){const e=r.innerWidth,t=r.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function Pwe(r,e){return e===void 0&&(e=Ba(r).getComputedStyle(r)),e.position==="fixed"}function Lwe(r,e){e===void 0&&(e=Ba(r).getComputedStyle(r));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=e[s];return typeof a=="string"?t.test(a):!1})}function a8(r,e){const t=[];function n(s){if(e!=null&&t.length>=e||!s)return t;if(r8(s)&&s.scrollingElement!=null&&!t.includes(s.scrollingElement))return t.push(s.scrollingElement),t;if(!K0(s)||_U(s)||t.includes(s))return t;const a=Ba(r).getComputedStyle(s);return s!==r&&Lwe(s,a)&&t.push(s),Pwe(s,a)?t:n(s.parentNode)}return r?n(r):t}function PU(r){const[e]=a8(r,1);return e??null}function Y4(r){return!G2||!r?null:Vp(r)?r:t8(r)?r8(r)||r===Wp(r).scrollingElement?window:K0(r)?r:null:null}function LU(r){return Vp(r)?r.scrollX:r.scrollLeft}function DU(r){return Vp(r)?r.scrollY:r.scrollTop}function lS(r){return{x:LU(r),y:DU(r)}}var ms;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(ms||(ms={}));function MU(r){return!G2||!r?!1:r===document.scrollingElement}function RU(r){const e={x:0,y:0},t=MU(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},n={x:r.scrollWidth-t.width,y:r.scrollHeight-t.height},s=r.scrollTop<=e.y,a=r.scrollLeft<=e.x,i=r.scrollTop>=n.y,o=r.scrollLeft>=n.x;return{isTop:s,isLeft:a,isBottom:i,isRight:o,maxScroll:n,minScroll:e}}const Dwe={x:.2,y:.2};function Mwe(r,e,t,n,s){let{top:a,left:i,right:o,bottom:c}=t;n===void 0&&(n=10),s===void 0&&(s=Dwe);const{isTop:d,isBottom:u,isLeft:h,isRight:f}=RU(r),p={x:0,y:0},g={x:0,y:0},m={height:e.height*s.y,width:e.width*s.x};return!d&&a<=e.top+m.height?(p.y=ms.Backward,g.y=n*Math.abs((e.top+m.height-a)/m.height)):!u&&c>=e.bottom-m.height&&(p.y=ms.Forward,g.y=n*Math.abs((e.bottom-m.height-c)/m.height)),!f&&o>=e.right-m.width?(p.x=ms.Forward,g.x=n*Math.abs((e.right-m.width-o)/m.width)):!h&&i<=e.left+m.width&&(p.x=ms.Backward,g.x=n*Math.abs((e.left+m.width-i)/m.width)),{direction:p,speed:g}}function Rwe(r){if(r===document.scrollingElement){const{innerWidth:a,innerHeight:i}=window;return{top:0,left:0,right:a,bottom:i,width:a,height:i}}const{top:e,left:t,right:n,bottom:s}=r.getBoundingClientRect();return{top:e,left:t,right:n,bottom:s,width:r.clientWidth,height:r.clientHeight}}function IU(r){return r.reduce((e,t)=>Yf(e,lS(t)),Eo)}function Iwe(r){return r.reduce((e,t)=>e+LU(t),0)}function Owe(r){return r.reduce((e,t)=>e+DU(t),0)}function Fwe(r,e){if(e===void 0&&(e=qp),!r)return;const{top:t,left:n,bottom:s,right:a}=e(r);PU(r)&&(s<=0||a<=0||t>=window.innerHeight||n>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const Bwe=[["x",["left","right"],Iwe],["y",["top","bottom"],Owe]];class i8{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=a8(t),s=IU(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,i,o]of Bwe)for(const c of i)Object.defineProperty(this,c,{get:()=>{const d=o(n),u=s[a]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class _m{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...t)})},this.target=e}add(e,t,n){var s;(s=this.target)==null||s.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function zwe(r){const{EventTarget:e}=Ba(r);return r instanceof e?r:Wp(r)}function G4(r,e){const t=Math.abs(r.x),n=Math.abs(r.y);return typeof e=="number"?Math.sqrt(t**2+n**2)>e:"x"in e&&"y"in e?t>e.x&&n>e.y:"x"in e?t>e.x:"y"in e?n>e.y:!1}var Ii;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(Ii||(Ii={}));function IT(r){r.preventDefault()}function Hwe(r){r.stopPropagation()}var Ar;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(Ar||(Ar={}));const OU={start:[Ar.Space,Ar.Enter],cancel:[Ar.Esc],end:[Ar.Space,Ar.Enter,Ar.Tab]},Uwe=(r,e)=>{let{currentCoordinates:t}=e;switch(r.code){case Ar.Right:return{...t,x:t.x+25};case Ar.Left:return{...t,x:t.x-25};case Ar.Down:return{...t,y:t.y+25};case Ar.Up:return{...t,y:t.y-25}}};class FU{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new _m(Wp(t)),this.windowListeners=new _m(Ba(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ii.Resize,this.handleCancel),this.windowListeners.add(Ii.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ii.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&Fwe(n),t(Eo)}handleKeyDown(e){if(s8(e)){const{active:t,context:n,options:s}=this.props,{keyboardCodes:a=OU,coordinateGetter:i=Uwe,scrollBehavior:o="smooth"}=s,{code:c}=e;if(a.end.includes(c)){this.handleEnd(e);return}if(a.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:d}=n.current,u=d?{x:d.left,y:d.top}:Eo;this.referenceCoordinates||(this.referenceCoordinates=u);const h=i(e,{active:t,context:n.current,currentCoordinates:u});if(h){const f=Tb(h,u),p={x:0,y:0},{scrollableAncestors:g}=n.current;for(const m of g){const v=e.code,{isTop:x,isRight:y,isLeft:w,isBottom:k,maxScroll:S,minScroll:N}=RU(m),A=Rwe(m),E={x:Math.min(v===Ar.Right?A.right-A.width/2:A.right,Math.max(v===Ar.Right?A.left:A.left+A.width/2,h.x)),y:Math.min(v===Ar.Down?A.bottom-A.height/2:A.bottom,Math.max(v===Ar.Down?A.top:A.top+A.height/2,h.y))},R=v===Ar.Right&&!y||v===Ar.Left&&!w,O=v===Ar.Down&&!k||v===Ar.Up&&!x;if(R&&E.x!==h.x){const L=m.scrollLeft+f.x,D=v===Ar.Right&&L<=S.x||v===Ar.Left&&L>=N.x;if(D&&!f.y){m.scrollTo({left:L,behavior:o});return}D?p.x=m.scrollLeft-L:p.x=v===Ar.Right?m.scrollLeft-S.x:m.scrollLeft-N.x,p.x&&m.scrollBy({left:-p.x,behavior:o});break}else if(O&&E.y!==h.y){const L=m.scrollTop+f.y,D=v===Ar.Down&&L<=S.y||v===Ar.Up&&L>=N.y;if(D&&!f.x){m.scrollTo({top:L,behavior:o});return}D?p.y=m.scrollTop-L:p.y=v===Ar.Down?m.scrollTop-S.y:m.scrollTop-N.y,p.y&&m.scrollBy({top:-p.y,behavior:o});break}}this.handleMove(e,Yf(Tb(h,this.referenceCoordinates),p))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}FU.activators=[{eventName:"onKeyDown",handler:(r,e,t)=>{let{keyboardCodes:n=OU,onActivation:s}=e,{active:a}=t;const{code:i}=r.nativeEvent;if(n.start.includes(i)){const o=a.activatorNode.current;return o&&r.target!==o?!1:(r.preventDefault(),s==null||s({event:r.nativeEvent}),!0)}return!1}}];function OT(r){return!!(r&&"distance"in r)}function FT(r){return!!(r&&"delay"in r)}class o8{constructor(e,t,n){var s;n===void 0&&(n=zwe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:i}=a;this.props=e,this.events=t,this.document=Wp(i),this.documentListeners=new _m(this.document),this.listeners=new _m(n),this.windowListeners=new _m(Ba(i)),this.initialCoordinates=(s=oS(a))!=null?s:Eo,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ii.Resize,this.handleCancel),this.windowListeners.add(Ii.DragStart,IT),this.windowListeners.add(Ii.VisibilityChange,this.handleCancel),this.windowListeners.add(Ii.ContextMenu,IT),this.documentListeners.add(Ii.Keydown,this.handleKeydown),t){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(FT(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(OT(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:s}=this.props;s(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ii.Click,Hwe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ii.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:s,props:a}=this,{onMove:i,options:{activationConstraint:o}}=a;if(!s)return;const c=(t=oS(e))!=null?t:Eo,d=Tb(s,c);if(!n&&o){if(OT(o)){if(o.tolerance!=null&&G4(d,o.tolerance))return this.handleCancel();if(G4(d,o.distance))return this.handleStart()}if(FT(o)&&G4(d,o.tolerance))return this.handleCancel();this.handlePending(o,d);return}e.cancelable&&e.preventDefault(),i(c)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Ar.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const $we={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class l8 extends o8{constructor(e){const{event:t}=e,n=Wp(t.target);super(e,$we,n)}}l8.activators=[{eventName:"onPointerDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;return!t.isPrimary||t.button!==0?!1:(n==null||n({event:t}),!0)}}];const Vwe={move:{name:"mousemove"},end:{name:"mouseup"}};var cS;(function(r){r[r.RightClick=2]="RightClick"})(cS||(cS={}));class Wwe extends o8{constructor(e){super(e,Vwe,Wp(e.event.target))}}Wwe.activators=[{eventName:"onMouseDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;return t.button===cS.RightClick?!1:(n==null||n({event:t}),!0)}}];const X4={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class qwe extends o8{constructor(e){super(e,X4)}static setup(){return window.addEventListener(X4.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(X4.move.name,e)};function e(){}}}qwe.activators=[{eventName:"onTouchStart",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;const{touches:s}=t;return s.length>1?!1:(n==null||n({event:t}),!0)}}];var jm;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(jm||(jm={}));var Lb;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(Lb||(Lb={}));function Ywe(r){let{acceleration:e,activator:t=jm.Pointer,canScroll:n,draggingRect:s,enabled:a,interval:i=5,order:o=Lb.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:h,threshold:f}=r;const p=Xwe({delta:h,disabled:!a}),[g,m]=rwe(),v=b.useRef({x:0,y:0}),x=b.useRef({x:0,y:0}),y=b.useMemo(()=>{switch(t){case jm.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case jm.DraggableRect:return s}},[t,s,c]),w=b.useRef(null),k=b.useCallback(()=>{const N=w.current;if(!N)return;const A=v.current.x*x.current.x,E=v.current.y*x.current.y;N.scrollBy(A,E)},[]),S=b.useMemo(()=>o===Lb.TreeOrder?[...d].reverse():d,[o,d]);b.useEffect(()=>{if(!a||!d.length||!y){m();return}for(const N of S){if((n==null?void 0:n(N))===!1)continue;const A=d.indexOf(N),E=u[A];if(!E)continue;const{direction:R,speed:O}=Mwe(N,E,y,e,f);for(const L of["x","y"])p[L][R[L]]||(O[L]=0,R[L]=0);if(O.x>0||O.y>0){m(),w.current=N,g(k,i),v.current=O,x.current=R;return}}v.current={x:0,y:0},x.current={x:0,y:0},m()},[e,k,n,m,a,i,JSON.stringify(y),JSON.stringify(p),g,d,S,u,JSON.stringify(f)])}const Gwe={x:{[ms.Backward]:!1,[ms.Forward]:!1},y:{[ms.Backward]:!1,[ms.Forward]:!1}};function Xwe(r){let{delta:e,disabled:t}=r;const n=iS(e);return Q0(s=>{if(t||!n||!s)return Gwe;const a={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[ms.Backward]:s.x[ms.Backward]||a.x===-1,[ms.Forward]:s.x[ms.Forward]||a.x===1},y:{[ms.Backward]:s.y[ms.Backward]||a.y===-1,[ms.Forward]:s.y[ms.Forward]||a.y===1}}},[t,e,n])}function Zwe(r,e){const t=e!=null?r.get(e):void 0,n=t?t.node.current:null;return Q0(s=>{var a;return e==null?null:(a=n??s)!=null?a:null},[n,e])}function Jwe(r,e){return b.useMemo(()=>r.reduce((t,n)=>{const{sensor:s}=n,a=s.activators.map(i=>({eventName:i.eventName,handler:e(i.handler,n)}));return[...t,...a]},[]),[r,e])}var k0;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(k0||(k0={}));var dS;(function(r){r.Optimized="optimized"})(dS||(dS={}));const BT=new Map;function Kwe(r,e){let{dragging:t,dependencies:n,config:s}=e;const[a,i]=b.useState(null),{frequency:o,measure:c,strategy:d}=s,u=b.useRef(r),h=v(),f=b0(h),p=b.useCallback(function(x){x===void 0&&(x=[]),!f.current&&i(y=>y===null?x:y.concat(x.filter(w=>!y.includes(w))))},[f]),g=b.useRef(null),m=Q0(x=>{if(h&&!t)return BT;if(!x||x===BT||u.current!==r||a!=null){const y=new Map;for(let w of r){if(!w)continue;if(a&&a.length>0&&!a.includes(w.id)&&w.rect.current){y.set(w.id,w.rect.current);continue}const k=w.node.current,S=k?new i8(c(k),k):null;w.rect.current=S,S&&y.set(w.id,S)}return y}return x},[r,a,t,h,c]);return b.useEffect(()=>{u.current=r},[r]),b.useEffect(()=>{h||p()},[t,h]),b.useEffect(()=>{a&&a.length>0&&i(null)},[JSON.stringify(a)]),b.useEffect(()=>{h||typeof o!="number"||g.current!==null||(g.current=setTimeout(()=>{p(),g.current=null},o))},[o,h,p,...n]),{droppableRects:m,measureDroppableContainers:p,measuringScheduled:a!=null};function v(){switch(d){case k0.Always:return!1;case k0.BeforeDragging:return t;default:return!t}}}function BU(r,e){return Q0(t=>r?t||(typeof e=="function"?e(r):r):null,[e,r])}function Qwe(r,e){return BU(r,e)}function e5e(r){let{callback:e,disabled:t}=r;const n=n8(e),s=b.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(n)},[n,t]);return b.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function X2(r){let{callback:e,disabled:t}=r;const n=n8(e),s=b.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[t]);return b.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function t5e(r){return new i8(qp(r),r)}function zT(r,e,t){e===void 0&&(e=t5e);const[n,s]=b.useState(null);function a(){s(c=>{if(!r)return null;if(r.isConnected===!1){var d;return(d=c??t)!=null?d:null}const u=e(r);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const i=e5e({callback(c){if(r)for(const d of c){const{type:u,target:h}=d;if(u==="childList"&&h instanceof HTMLElement&&h.contains(r)){a();break}}}}),o=X2({callback:a});return ll(()=>{a(),r?(o==null||o.observe(r),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),i==null||i.disconnect())},[r]),n}function r5e(r){const e=BU(r);return TU(r,e)}const HT=[];function n5e(r){const e=b.useRef(r),t=Q0(n=>r?n&&n!==HT&&r&&e.current&&r.parentNode===e.current.parentNode?n:a8(r):HT,[r]);return b.useEffect(()=>{e.current=r},[r]),t}function s5e(r){const[e,t]=b.useState(null),n=b.useRef(r),s=b.useCallback(a=>{const i=Y4(a.target);i&&t(o=>o?(o.set(i,lS(i)),new Map(o)):null)},[]);return b.useEffect(()=>{const a=n.current;if(r!==a){i(a);const o=r.map(c=>{const d=Y4(c);return d?(d.addEventListener("scroll",s,{passive:!0}),[d,lS(d)]):null}).filter(c=>c!=null);t(o.length?new Map(o):null),n.current=r}return()=>{i(r),i(a)};function i(o){o.forEach(c=>{const d=Y4(c);d==null||d.removeEventListener("scroll",s)})}},[s,r]),b.useMemo(()=>r.length?e?Array.from(e.values()).reduce((a,i)=>Yf(a,i),Eo):IU(r):Eo,[r,e])}function UT(r,e){e===void 0&&(e=[]);const t=b.useRef(null);return b.useEffect(()=>{t.current=null},e),b.useEffect(()=>{const n=r!==Eo;n&&!t.current&&(t.current=r),!n&&t.current&&(t.current=null)},[r]),t.current?Tb(r,t.current):Eo}function a5e(r){b.useEffect(()=>{if(!G2)return;const e=r.map(t=>{let{sensor:n}=t;return n.setup==null?void 0:n.setup()});return()=>{for(const t of e)t==null||t()}},r.map(e=>{let{sensor:t}=e;return t}))}function i5e(r,e){return b.useMemo(()=>r.reduce((t,n)=>{let{eventName:s,handler:a}=n;return t[s]=i=>{a(i,e)},t},{}),[r,e])}function zU(r){return b.useMemo(()=>r?Twe(r):null,[r])}const $T=[];function o5e(r,e){e===void 0&&(e=qp);const[t]=r,n=zU(t?Ba(t):null),[s,a]=b.useState($T);function i(){a(()=>r.length?r.map(c=>MU(c)?n:new i8(e(c),c)):$T)}const o=X2({callback:i});return ll(()=>{o==null||o.disconnect(),i(),r.forEach(c=>o==null?void 0:o.observe(c))},[r]),s}function l5e(r){if(!r)return null;if(r.children.length>1)return r;const e=r.children[0];return K0(e)?e:r}function c5e(r){let{measure:e}=r;const[t,n]=b.useState(null),s=b.useCallback(d=>{for(const{target:u}of d)if(K0(u)){n(h=>{const f=e(u);return h?{...h,width:f.width,height:f.height}:f});break}},[e]),a=X2({callback:s}),i=b.useCallback(d=>{const u=l5e(d);a==null||a.disconnect(),u&&(a==null||a.observe(u)),n(u?e(u):null)},[e,a]),[o,c]=Ab(i);return b.useMemo(()=>({nodeRef:o,rect:t,setRef:c}),[t,o,c])}const d5e=[{sensor:l8,options:{}},{sensor:FU,options:{}}],u5e={current:{}},Av={draggable:{measure:RT},droppable:{measure:RT,strategy:k0.WhileDragging,frequency:dS.Optimized},dragOverlay:{measure:qp}};class Am extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return(t=(n=this.get(e))==null?void 0:n.node.current)!=null?t:void 0}}const h5e={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Am,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Pb},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Av,measureDroppableContainers:Pb,windowRect:null,measuringScheduled:!1},f5e={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Pb,draggableNodes:new Map,over:null,measureDroppableContainers:Pb},Z2=b.createContext(f5e),HU=b.createContext(h5e);function p5e(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Am}}}function g5e(r,e){switch(e.type){case is.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case is.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:e.coordinates.x-r.draggable.initialCoordinates.x,y:e.coordinates.y-r.draggable.initialCoordinates.y}}};case is.DragEnd:case is.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case is.RegisterDroppable:{const{element:t}=e,{id:n}=t,s=new Am(r.droppable.containers);return s.set(n,t),{...r,droppable:{...r.droppable,containers:s}}}case is.SetDroppableDisabled:{const{id:t,key:n,disabled:s}=e,a=r.droppable.containers.get(t);if(!a||n!==a.key)return r;const i=new Am(r.droppable.containers);return i.set(t,{...a,disabled:s}),{...r,droppable:{...r.droppable,containers:i}}}case is.UnregisterDroppable:{const{id:t,key:n}=e,s=r.droppable.containers.get(t);if(!s||n!==s.key)return r;const a=new Am(r.droppable.containers);return a.delete(t),{...r,droppable:{...r.droppable,containers:a}}}default:return r}}function m5e(r){let{disabled:e}=r;const{active:t,activatorEvent:n,draggableNodes:s}=b.useContext(Z2),a=iS(n),i=iS(t==null?void 0:t.id);return b.useEffect(()=>{if(!e&&!n&&a&&i!=null){if(!s8(a)||document.activeElement===a.target)return;const o=s.get(i);if(!o)return;const{activatorNode:c,node:d}=o;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const h=awe(u);if(h){h.focus();break}}})}},[n,e,s,i,a]),null}function x5e(r,e){let{transform:t,...n}=e;return r!=null&&r.length?r.reduce((s,a)=>a({transform:s,...n}),t):t}function v5e(r){return b.useMemo(()=>({draggable:{...Av.draggable,...r==null?void 0:r.draggable},droppable:{...Av.droppable,...r==null?void 0:r.droppable},dragOverlay:{...Av.dragOverlay,...r==null?void 0:r.dragOverlay}}),[r==null?void 0:r.draggable,r==null?void 0:r.droppable,r==null?void 0:r.dragOverlay])}function y5e(r){let{activeNode:e,measure:t,initialRect:n,config:s=!0}=r;const a=b.useRef(!1),{x:i,y:o}=typeof s=="boolean"?{x:s,y:s}:s;ll(()=>{if(!i&&!o||!e){a.current=!1;return}if(a.current||!n)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const u=t(d),h=TU(u,n);if(i||(h.x=0),o||(h.y=0),a.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=PU(d);f&&f.scrollBy({top:h.y,left:h.x})}},[e,i,o,n,t])}const UU=b.createContext({...Eo,scaleX:1,scaleY:1});var Oc;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(Oc||(Oc={}));const b5e=b.memo(function(e){var t,n,s,a;let{id:i,accessibility:o,autoScroll:c=!0,children:d,sensors:u=d5e,collisionDetection:h=Cwe,measuring:f,modifiers:p,...g}=e;const m=b.useReducer(g5e,void 0,p5e),[v,x]=m,[y,w]=uwe(),[k,S]=b.useState(Oc.Uninitialized),N=k===Oc.Initialized,{draggable:{active:A,nodes:E,translate:R},droppable:{containers:O}}=v,L=A!=null?E.get(A):null,D=b.useRef({initial:null,translated:null}),F=b.useMemo(()=>{var Er;return A!=null?{id:A,data:(Er=L==null?void 0:L.data)!=null?Er:u5e,rect:D}:null},[A,L]),M=b.useRef(null),[B,z]=b.useState(null),[V,W]=b.useState(null),Z=b0(g,Object.values(g)),q=ex("DndDescribedBy",i),Q=b.useMemo(()=>O.getEnabled(),[O]),T=v5e(f),{droppableRects:H,measureDroppableContainers:$,measuringScheduled:Y}=Kwe(Q,{dragging:N,dependencies:[R.x,R.y],config:T.droppable}),K=Zwe(E,A),re=b.useMemo(()=>V?oS(V):null,[V]),oe=Jr(),ue=Qwe(K,T.draggable.measure);y5e({activeNode:A!=null?E.get(A):null,config:oe.layoutShiftCompensation,initialRect:ue,measure:T.draggable.measure});const be=zT(K,T.draggable.measure,ue),Ce=zT(K?K.parentElement:null),Se=b.useRef({activatorEvent:null,active:null,activeNode:K,collisionRect:null,collisions:null,droppableRects:H,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),De=O.getNodeFor((t=Se.current.over)==null?void 0:t.id),at=c5e({measure:T.dragOverlay.measure}),_e=(n=at.nodeRef.current)!=null?n:K,le=N?(s=at.rect)!=null?s:be:null,ut=!!(at.nodeRef.current&&at.rect),rt=r5e(ut?null:be),je=zU(_e?Ba(_e):null),fe=n5e(N?De??K:null),Re=o5e(fe),He=x5e(p,{transform:{x:R.x-rt.x,y:R.y-rt.y,scaleX:1,scaleY:1},activatorEvent:V,active:F,activeNodeRect:be,containerNodeRect:Ce,draggingNodeRect:le,over:Se.current.over,overlayNodeRect:at.rect,scrollableAncestors:fe,scrollableAncestorRects:Re,windowRect:je}),it=re?Yf(re,R):null,Le=s5e(fe),ze=UT(Le),Fe=UT(Le,[be]),Ze=Yf(He,ze),ft=le?Ewe(le,He):null,xt=F&&ft?h({active:F,collisionRect:ft,droppableRects:H,droppableContainers:Q,pointerCoordinates:it}):null,Ae=bwe(xt,"id"),[he,mt]=b.useState(null),$e=ut?He:Yf(He,Fe),pt=Swe($e,(a=he==null?void 0:he.rect)!=null?a:null,be),Ue=b.useRef(null),yt=b.useCallback((Er,tr)=>{let{sensor:ne,options:ie}=tr;if(M.current==null)return;const ve=E.get(M.current);if(!ve)return;const Ee=Er.nativeEvent,Xe=new ne({active:M.current,activeNode:ve,event:Ee,options:ie,context:Se,onAbort(qe){if(!E.get(qe))return;const{onDragAbort:Tt}=Z.current,Ke={id:qe};Tt==null||Tt(Ke),y({type:"onDragAbort",event:Ke})},onPending(qe,gt,Tt,Ke){if(!E.get(qe))return;const{onDragPending:Mt}=Z.current,lr={id:qe,constraint:gt,initialCoordinates:Tt,offset:Ke};Mt==null||Mt(lr),y({type:"onDragPending",event:lr})},onStart(qe){const gt=M.current;if(gt==null)return;const Tt=E.get(gt);if(!Tt)return;const{onDragStart:Ke}=Z.current,bt={activatorEvent:Ee,active:{id:gt,data:Tt.data,rect:D}};Ui.unstable_batchedUpdates(()=>{Ke==null||Ke(bt),S(Oc.Initializing),x({type:is.DragStart,initialCoordinates:qe,active:gt}),y({type:"onDragStart",event:bt}),z(Ue.current),W(Ee)})},onMove(qe){x({type:is.DragMove,coordinates:qe})},onEnd:ct(is.DragEnd),onCancel:ct(is.DragCancel)});Ue.current=Xe;function ct(qe){return async function(){const{active:Tt,collisions:Ke,over:bt,scrollAdjustedTranslate:Mt}=Se.current;let lr=null;if(Tt&&Mt){const{cancelDrop:Tr}=Z.current;lr={activatorEvent:Ee,active:Tt,collisions:Ke,delta:Mt,over:bt},qe===is.DragEnd&&typeof Tr=="function"&&await Promise.resolve(Tr(lr))&&(qe=is.DragCancel)}M.current=null,Ui.unstable_batchedUpdates(()=>{x({type:qe}),S(Oc.Uninitialized),mt(null),z(null),W(null),Ue.current=null;const Tr=qe===is.DragEnd?"onDragEnd":"onDragCancel";if(lr){const Dn=Z.current[Tr];Dn==null||Dn(lr),y({type:Tr,event:lr})}})}}},[E]),ir=b.useCallback((Er,tr)=>(ne,ie)=>{const ve=ne.nativeEvent,Ee=E.get(ie);if(M.current!==null||!Ee||ve.dndKit||ve.defaultPrevented)return;const Xe={active:Ee};Er(ne,tr.options,Xe)===!0&&(ve.dndKit={capturedBy:tr.sensor},M.current=ie,yt(ne,tr))},[E,yt]),qt=Jwe(u,ir);a5e(u),ll(()=>{be&&k===Oc.Initializing&&S(Oc.Initialized)},[be,k]),b.useEffect(()=>{const{onDragMove:Er}=Z.current,{active:tr,activatorEvent:ne,collisions:ie,over:ve}=Se.current;if(!tr||!ne)return;const Ee={active:tr,activatorEvent:ne,collisions:ie,delta:{x:Ze.x,y:Ze.y},over:ve};Ui.unstable_batchedUpdates(()=>{Er==null||Er(Ee),y({type:"onDragMove",event:Ee})})},[Ze.x,Ze.y]),b.useEffect(()=>{const{active:Er,activatorEvent:tr,collisions:ne,droppableContainers:ie,scrollAdjustedTranslate:ve}=Se.current;if(!Er||M.current==null||!tr||!ve)return;const{onDragOver:Ee}=Z.current,Xe=ie.get(Ae),ct=Xe&&Xe.rect.current?{id:Xe.id,rect:Xe.rect.current,data:Xe.data,disabled:Xe.disabled}:null,qe={active:Er,activatorEvent:tr,collisions:ne,delta:{x:ve.x,y:ve.y},over:ct};Ui.unstable_batchedUpdates(()=>{mt(ct),Ee==null||Ee(qe),y({type:"onDragOver",event:qe})})},[Ae]),ll(()=>{Se.current={activatorEvent:V,active:F,activeNode:K,collisionRect:ft,collisions:xt,droppableRects:H,draggableNodes:E,draggingNode:_e,draggingNodeRect:le,droppableContainers:O,over:he,scrollableAncestors:fe,scrollAdjustedTranslate:Ze},D.current={initial:le,translated:ft}},[F,K,xt,ft,E,_e,le,H,O,he,fe,Ze]),Ywe({...oe,delta:R,draggingRect:ft,pointerCoordinates:it,scrollableAncestors:fe,scrollableAncestorRects:Re});const Yr=b.useMemo(()=>({active:F,activeNode:K,activeNodeRect:be,activatorEvent:V,collisions:xt,containerNodeRect:Ce,dragOverlay:at,draggableNodes:E,droppableContainers:O,droppableRects:H,over:he,measureDroppableContainers:$,scrollableAncestors:fe,scrollableAncestorRects:Re,measuringConfiguration:T,measuringScheduled:Y,windowRect:je}),[F,K,be,V,xt,Ce,at,E,O,H,he,$,fe,Re,T,Y,je]),Nr=b.useMemo(()=>({activatorEvent:V,activators:qt,active:F,activeNodeRect:be,ariaDescribedById:{draggable:q},dispatch:x,draggableNodes:E,over:he,measureDroppableContainers:$}),[V,qt,F,be,x,q,E,he,$]);return ht.createElement(AU.Provider,{value:w},ht.createElement(Z2.Provider,{value:Nr},ht.createElement(HU.Provider,{value:Yr},ht.createElement(UU.Provider,{value:pt},d)),ht.createElement(m5e,{disabled:(o==null?void 0:o.restoreFocus)===!1})),ht.createElement(pwe,{...o,hiddenTextDescribedById:q}));function Jr(){const Er=(B==null?void 0:B.autoScrollEnabled)===!1,tr=typeof c=="object"?c.enabled===!1:c===!1,ne=N&&!Er&&!tr;return typeof c=="object"?{...c,enabled:ne}:{enabled:ne}}}),w5e=b.createContext(null),VT="button",k5e="Draggable";function C5e(r){let{id:e,data:t,disabled:n=!1,attributes:s}=r;const a=ex(k5e),{activators:i,activatorEvent:o,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:h,over:f}=b.useContext(Z2),{role:p=VT,roleDescription:g="draggable",tabIndex:m=0}=s??{},v=(c==null?void 0:c.id)===e,x=b.useContext(v?UU:w5e),[y,w]=Ab(),[k,S]=Ab(),N=i5e(i,e),A=b0(t);ll(()=>(h.set(e,{id:e,key:a,node:y,activatorNode:k,data:A}),()=>{const R=h.get(e);R&&R.key===a&&h.delete(e)}),[h,e]);const E=b.useMemo(()=>({role:p,tabIndex:m,"aria-disabled":n,"aria-pressed":v&&p===VT?!0:void 0,"aria-roledescription":g,"aria-describedby":u.draggable}),[n,p,m,v,g,u.draggable]);return{active:c,activatorEvent:o,activeNodeRect:d,attributes:E,isDragging:v,listeners:n?void 0:N,node:y,over:f,setNodeRef:w,setActivatorNodeRef:S,transform:x}}function S5e(){return b.useContext(HU)}const N5e="Droppable",E5e={timeout:25};function _5e(r){let{data:e,disabled:t=!1,id:n,resizeObserverConfig:s}=r;const a=ex(N5e),{active:i,dispatch:o,over:c,measureDroppableContainers:d}=b.useContext(Z2),u=b.useRef({disabled:t}),h=b.useRef(!1),f=b.useRef(null),p=b.useRef(null),{disabled:g,updateMeasurementsFor:m,timeout:v}={...E5e,...s},x=b0(m??n),y=b.useCallback(()=>{if(!h.current){h.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),p.current=null},v)},[v]),w=X2({callback:y,disabled:g||!i}),k=b.useCallback((E,R)=>{w&&(R&&(w.unobserve(R),h.current=!1),E&&w.observe(E))},[w]),[S,N]=Ab(k),A=b0(e);return b.useEffect(()=>{!w||!S.current||(w.disconnect(),h.current=!1,w.observe(S.current))},[S,w]),b.useEffect(()=>(o({type:is.RegisterDroppable,element:{id:n,key:a,disabled:t,node:S,rect:f,data:A}}),()=>o({type:is.UnregisterDroppable,key:a,id:n})),[n]),b.useEffect(()=>{t!==u.current.disabled&&(o({type:is.SetDroppableDisabled,id:n,key:a,disabled:t}),u.current.disabled=t)},[n,a,t,o]),{active:i,rect:f,isOver:(c==null?void 0:c.id)===n,node:S,over:c,setNodeRef:N}}function c8(r,e,t){const n=r.slice();return n.splice(t<0?n.length+t:t,0,n.splice(e,1)[0]),n}function j5e(r,e){return r.reduce((t,n,s)=>{const a=e.get(n);return a&&(t[s]=a),t},Array(r.length))}function M1(r){return r!==null&&r>=0}function A5e(r,e){if(r===e)return!0;if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function T5e(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const d8=r=>{let{rects:e,activeIndex:t,overIndex:n,index:s}=r;const a=c8(e,n,t),i=e[s],o=a[s];return!o||!i?null:{x:o.left-i.left,y:o.top-i.top,scaleX:o.width/i.width,scaleY:o.height/i.height}},$U="Sortable",VU=ht.createContext({activeIndex:-1,containerId:$U,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:d8,disabled:{draggable:!1,droppable:!1}});function P5e(r){let{children:e,id:t,items:n,strategy:s=d8,disabled:a=!1}=r;const{active:i,dragOverlay:o,droppableRects:c,over:d,measureDroppableContainers:u}=S5e(),h=ex($U,t),f=o.rect!==null,p=b.useMemo(()=>n.map(N=>typeof N=="object"&&"id"in N?N.id:N),[n]),g=i!=null,m=i?p.indexOf(i.id):-1,v=d?p.indexOf(d.id):-1,x=b.useRef(p),y=!A5e(p,x.current),w=v!==-1&&m===-1||y,k=T5e(a);ll(()=>{y&&g&&u(p)},[y,p,g,u]),b.useEffect(()=>{x.current=p},[p]);const S=b.useMemo(()=>({activeIndex:m,containerId:h,disabled:k,disableTransforms:w,items:p,overIndex:v,useDragOverlay:f,sortedRects:j5e(p,c),strategy:s}),[m,h,k.draggable,k.droppable,w,p,v,c,f,s]);return ht.createElement(VU.Provider,{value:S},e)}const L5e=r=>{let{id:e,items:t,activeIndex:n,overIndex:s}=r;return c8(t,n,s).indexOf(e)},D5e=r=>{let{containerId:e,isSorting:t,wasDragging:n,index:s,items:a,newIndex:i,previousItems:o,previousContainerId:c,transition:d}=r;return!d||!n||o!==a&&s===i?!1:t?!0:i!==s&&e===c},M5e={duration:200,easing:"ease"},WU="transform",R5e=w0.Transition.toString({property:WU,duration:0,easing:"linear"}),I5e={roleDescription:"sortable"};function O5e(r){let{disabled:e,index:t,node:n,rect:s}=r;const[a,i]=b.useState(null),o=b.useRef(t);return ll(()=>{if(!e&&t!==o.current&&n.current){const c=s.current;if(c){const d=qp(n.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&i(u)}}t!==o.current&&(o.current=t)},[e,t,n,s]),b.useEffect(()=>{a&&i(null)},[a]),a}function F5e(r){let{animateLayoutChanges:e=D5e,attributes:t,disabled:n,data:s,getNewIndex:a=L5e,id:i,strategy:o,resizeObserverConfig:c,transition:d=M5e}=r;const{items:u,containerId:h,activeIndex:f,disabled:p,disableTransforms:g,sortedRects:m,overIndex:v,useDragOverlay:x,strategy:y}=b.useContext(VU),w=B5e(n,p),k=u.indexOf(i),S=b.useMemo(()=>({sortable:{containerId:h,index:k,items:u},...s}),[h,s,k,u]),N=b.useMemo(()=>u.slice(u.indexOf(i)),[u,i]),{rect:A,node:E,isOver:R,setNodeRef:O}=_5e({id:i,data:S,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...c}}),{active:L,activatorEvent:D,activeNodeRect:F,attributes:M,setNodeRef:B,listeners:z,isDragging:V,over:W,setActivatorNodeRef:Z,transform:q}=C5e({id:i,data:S,attributes:{...I5e,...t},disabled:w.draggable}),Q=twe(O,B),T=!!L,H=T&&!g&&M1(f)&&M1(v),$=!x&&V,Y=$&&H?q:null,re=H?Y??(o??y)({rects:m,activeNodeRect:F,activeIndex:f,overIndex:v,index:k}):null,oe=M1(f)&&M1(v)?a({id:i,items:u,activeIndex:f,overIndex:v}):k,ue=L==null?void 0:L.id,be=b.useRef({activeId:ue,items:u,newIndex:oe,containerId:h}),Ce=u!==be.current.items,Se=e({active:L,containerId:h,isDragging:V,isSorting:T,id:i,index:k,items:u,newIndex:be.current.newIndex,previousItems:be.current.items,previousContainerId:be.current.containerId,transition:d,wasDragging:be.current.activeId!=null}),De=O5e({disabled:!Se,index:k,node:E,rect:A});return b.useEffect(()=>{T&&be.current.newIndex!==oe&&(be.current.newIndex=oe),h!==be.current.containerId&&(be.current.containerId=h),u!==be.current.items&&(be.current.items=u)},[T,oe,h,u]),b.useEffect(()=>{if(ue===be.current.activeId)return;if(ue&&!be.current.activeId){be.current.activeId=ue;return}const _e=setTimeout(()=>{be.current.activeId=ue},50);return()=>clearTimeout(_e)},[ue]),{active:L,activeIndex:f,attributes:M,data:S,rect:A,index:k,newIndex:oe,items:u,isOver:R,isSorting:T,isDragging:V,listeners:z,node:E,overIndex:v,over:W,setNodeRef:Q,setActivatorNodeRef:Z,setDroppableNodeRef:O,setDraggableNodeRef:B,transform:De??re,transition:at()};function at(){if(De||Ce&&be.current.newIndex===k)return R5e;if(!($&&!s8(D)||!d)&&(T||Se))return w0.Transition.toString({...d,property:WU})}}function B5e(r,e){var t,n;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(t=r==null?void 0:r.draggable)!=null?t:e.draggable,droppable:(n=r==null?void 0:r.droppable)!=null?n:e.droppable}}Ar.Down,Ar.Right,Ar.Up,Ar.Left;function WT({field:r,onSuccess:e}){const[t,n]=b.useState(""),[s,a]=b.useState(),[i,o]=b.useState(),[c,d]=b.useState(""),[u,h]=b.useState(""),[f,p]=b.useState(""),[g,m]=b.useState([]),[v,x]=b.useState(!1);function y(B,z){const V=kp();m(W=>[...W,{id:V,message:B,type:z}]),setTimeout(()=>{m(W=>W.filter(Z=>Z.id!==V))},4e3)}const[w,k]=b.useState([""]),S=()=>{w.length+E.length<6&&k([...w,""])},N=(B,z)=>{k(w.map((V,W)=>W===B?z:V))},A=B=>{w.length!==1&&k(w.filter((z,V)=>V!==B))},[E,R]=b.useState([""]),O=()=>{w.length+E.length<6&&R([...E,""])},L=(B,z)=>{R(E.map((V,W)=>W===B?z:V))},D=B=>{E.length!==1&&R(E.filter((z,V)=>V!==B))},F=B=>{const z=B.replace(/\D/g,""),V=(parseInt(z,10)/100).toFixed(2);return Number.isNaN(Number(V))?"":Number(V).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})};b.useEffect(()=>{async function B(){if(r.id){const z=await G2e(r.id);z&&(n(z.title),d(z.subtitle||""),a(z.price_per_word??void 0),o(z.word_count??void 0),k(z.benefits.length?z.benefits:[""]),R(z.not_benefits.length?z.not_benefits:[""]),h(z.period),p(""),x(!!z.is_free))}else n(""),d(""),a(void 0),o(void 0),k([""]),R([""]),h(""),p("")}B()},[r.id]);const M=async()=>{if(!t.trim()||s===void 0||i===void 0||w.some(V=>!V.trim())||!(u==="custom"?f.trim():u)){y("Preencha todos os campos obrigatórios.","error");return}const B={service_id:r.service_id,title:t,subtitle:c||null,price:v?0:Number((s*i).toFixed(2)),price_per_word:s,word_count:i,benefits:w.filter(V=>V.trim()!==""),not_benefits:E.filter(V=>V.trim()!==""),period:u==="custom"?f:u,is_free:v};let z;r.id?z=await Z2e(r.id,B):z=await X2e(B),z?(y(r.id?"Pacote atualizado com sucesso!":"Pacote criado com sucesso!","success"),e&&e()):y(r.id?"Erro ao atualizar pacote":"Erro ao criar pacote","error"),n(""),d(""),a(void 0),o(void 0),k([""]),R([""]),h(""),p("")};return l.jsx(l.Fragment,{children:l.jsxs("div",{className:"top-0 right-0 h-full w-full max-w-md bg-white dark:bg-gray-900 shadow-lg p-6 z-50 flex flex-col border-l border-gray-200 dark:border-gray-800",style:{minWidth:340},children:[l.jsxs("form",{className:"flex-1 flex flex-col",onSubmit:B=>{B.preventDefault(),M()},children:[l.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-white/90",children:r.label||"Novo Pacote"}),l.jsxs("div",{className:"space-y-4 flex-1",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Título do pacote"}),l.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-black dark:text-white bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700",value:t,onChange:B=>n(B.target.value),placeholder:"Ex: Enterprise",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Subtítulo do pacote (opcional)"}),l.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-black dark:text-white bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700",value:c,onChange:B=>d(B.target.value),placeholder:"Ex: Ideal para empresas iniciantes"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Preço por palavra"}),l.jsx("input",{type:"number",step:"0.01",min:"0",className:"w-full border rounded px-3 py-2 text-black dark:text-white bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700",value:s??"",onChange:B=>a(B.target.value?Number(B.target.value):void 0),placeholder:"0,07",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Quantidade de palavras do pacote"}),l.jsxs("div",{className:"flex items-center mb-1 gap-1 relative z-[9999999]",children:[l.jsx("input",{type:"checkbox",id:"free-word-checkbox",checked:v,onChange:()=>x(B=>!B),className:"accent-brand-500"}),l.jsx("label",{htmlFor:"free-word-checkbox",className:"text-sm font-medium text-gray-700 dark:text-gray-200 cursor-pointer flex items-center gap-1 select-none",style:{userSelect:"none"},children:"Grátis"}),l.jsx(qE,{content:"Selecione caso a quantidade de palavras digitadas nesse campo, sejam gratuitas. a contagem de valor ocorrerá quando o cliente solicitar um número maior de palavras.",children:l.jsx("span",{className:"ml-0.5 text-xs text-brand-500 cursor-pointer align-middle select-none",children:"?"})})]}),l.jsx("input",{type:"number",min:"1",className:"w-full border rounded px-3 py-2 text-black dark:text-white bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700",value:i??"",onChange:B=>o(B.target.value?Number(B.target.value):void 0),placeholder:"600",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Preço total"}),l.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-black dark:text-white bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-700 cursor-not-allowed",value:v?F("0.00"):s!==void 0&&i!==void 0?F((s*i).toFixed(2)):"",readOnly:!0,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Benefícios do pacote"}),l.jsx("button",{type:"button",className:`text-brand-500 hover:underline text-sm mt-1 mb-2 ${w.length+E.length>=6?"opacity-50 cursor-not-allowed":""}`,onClick:S,disabled:w.length+E.length>=6,children:"+ Adicionar benefício"}),w.map((B,z)=>l.jsxs("div",{className:"relative flex items-center gap-2 mb-2",children:[l.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-black dark:text-white bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 pr-10",value:B,onChange:V=>N(z,V.target.value),placeholder:`Benefício ${z+1}`,required:!0}),w.length>1&&l.jsx("button",{type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 flex items-center justify-center bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white transition-colors hover:bg-red-200 dark:hover:bg-red-900 rounded-tr rounded-br p-0",style:{width:35,height:35,fontSize:14,lineHeight:1},onClick:()=>A(z),title:"Remover benefício",children:"×"})]},z))]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Recursos NÃO inclusos no pacote (opcional)"}),l.jsx("button",{type:"button",className:`text-brand-500 hover:underline text-sm mt-1 mb-2 ${w.length+E.length>=6?"opacity-50 cursor-not-allowed":""}`,onClick:O,disabled:w.length+E.length>=6,children:"+ Adicionar recurso não incluso"}),E.map((B,z)=>l.jsxs("div",{className:"relative flex items-center gap-2 mb-2",children:[l.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-black dark:text-white bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 pr-10",value:B,onChange:V=>L(z,V.target.value),placeholder:`Recurso não incluso ${z+1}`}),E.length>1&&l.jsx("button",{type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 flex items-center justify-center bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white transition-colors hover:bg-red-200 dark:hover:bg-red-900 rounded-tr rounded-br p-0",style:{width:35,height:35,fontSize:14,lineHeight:1},onClick:()=>D(z),title:"Remover recurso não incluso",children:"×"})]},z))]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Período do pacote"}),l.jsxs("select",{className:"w-full border rounded px-3 py-2 text-black dark:text-white bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 mb-2",value:u,onChange:B=>h(B.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Selecione o período"}),l.jsx("option",{value:"por mês",children:"Por mês"}),l.jsx("option",{value:"por ano",children:"Por ano"}),l.jsx("option",{value:"custom",children:"Outro (especificar)"})]}),u==="custom"&&l.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-black dark:text-white bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 mt-2",value:f,onChange:B=>p(B.target.value),placeholder:"Digite o período personalizado",required:!0})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[l.jsx("button",{type:"button",onClick:()=>{n(""),d(""),a(void 0),o(void 0),k([""]),R([""]),h(""),p("")},className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-white rounded hover:bg-gray-400 dark:hover:bg-gray-600 transition-colors",children:"Limpar"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-500 text-white rounded hover:bg-brand-600 transition-colors",children:"Salvar"})]})]})]}),g.map((B,z)=>l.jsx("div",{className:"  right-8",style:{top:90+z*60,zIndex:99999},children:l.jsx(e8,{show:!0,message:B.message,type:B.type,top:90+z*60,onClose:()=>m(V=>V.filter(W=>W.id!==B.id)),className:`toast-anim-${B.id}`},B.id)}))]})})}function z5e(r){const[e,t]=b.useState(null);return b.useEffect(()=>{(async()=>{if(!r)return;const{data:s,error:a}=await G.from("publisher_services").select("*").eq("id",r).single();t(a?null:s)})()},[r]),e}function H5e(r){const[e,t]=b.useState([]),[n,s]=b.useState(!0);return b.useEffect(()=>{async function a(){s(!0);const i=await Cp();t(i?i.filter(o=>o.service_id===r):[]),s(!1)}r&&a()},[r]),{cards:e,setCards:t,loading:n,setLoading:s}}const Db={border:"border-gray-200",bg:"bg-white",borderDark:"dark:border-gray-800",bgDark:"dark:bg-white/[0.03]",title:"text-gray-800",titleDark:"dark:text-white/90",price:"text-gray-800",priceDark:"dark:text-white/90",period:"text-gray-500",periodDark:"dark:text-gray-400",benefit:"text-gray-500",benefitDark:"dark:text-gray-400",notBenefit:"text-gray-400",divider:"bg-gray-200",dividerDark:"dark:bg-gray-800",button:"bg-gray-800",buttonHover:"hover:bg-brand-500",buttonDark:"dark:bg-white/10",buttonDarkHover:"dark:hover:bg-brand-600"},uS={border:"border-gray-800",bg:"bg-gray-800",borderDark:"dark:border-white/10",bgDark:"dark:bg-white/10",title:"text-white",titleDark:"text-white",price:"text-white",priceDark:"text-white",period:"text-white/70",periodDark:"text-white/70",benefit:"text-white/80",benefitDark:"text-white/80",notBenefit:"text-gray-300",divider:"bg-white/20",dividerDark:"bg-white/20",button:"bg-brand-500",buttonHover:"hover:bg-brand-600",buttonDark:"dark:hover:bg-brand-600",buttonDarkHover:"dark:hover:bg-brand-600"};function U5e(){return b.useState(Db)}function $5e(r,e){const[t,n]=b.useState(null),[s,a]=b.useState(!1),[i,o]=b.useState(!1),c=b.useRef(null);return{editCardId:t,setEditCardId:n,showEditModal:s,setShowEditModal:a,editModalVisible:i,setEditModalVisible:o,editModalTimeout:c,handleEdit:g=>{n(g),o(!0),setTimeout(()=>a(!0),10)},handleCloseEditModal:()=>{a(!1),c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{o(!1)},300)},handleDelete:async g=>{if(!window.confirm("Tem certeza que deseja excluir este pacote?"))return;e(!0),await J2e(g)?r(x=>x.filter(y=>y.id!==g)):alert("Erro ao excluir pacote."),e(!1)},handleCardsOrderChange:async g=>{r(g),await K2e(g.map((m,v)=>({id:m.id,order_layout:v}))),console.log("Ordem salva no banco!")},handleToggleCardLayout:(g,m)=>{r(v=>v.map(x=>x.id===g?{...x,cardColors:m?uS:Db}:x))}}}async function V5e(r){const e={title:r.title,price:r.price,price_per_word:r.price_per_word,word_count:r.word_count,is_free:r.is_free,benefits:r.benefits};console.log("Payload sendo enviado com benefits:",e);const t=[e],{createClient:n}=await Oa(async()=>{const{createClient:h}=await Promise.resolve().then(()=>_Z);return{createClient:h}},void 0),i=n("https://uxbeaslwirkepnowydfu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV4YmVhc2x3aXJrZXBub3d5ZGZ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE4MTQwNTUsImV4cCI6MjA1NzM5MDA1NX0.bhPFhXaCgp363YlcAWtNhPlpj82dSNUWwNim2fgYh5s"),{data:{user:o},error:c}=await i.auth.getUser();if(c||!o){console.error("Usuário não autenticado.");return}const d=o.id,u=await dd(d);if(!u||u.length===0){console.error("Nenhum item encontrado para o usuário.");return}await Promise.all(u.map(async h=>{let f=null;if(h.service_selected&&Array.isArray(h.service_selected)&&h.service_selected.length>0){const g=h.service_selected[0];typeof g=="object"&&g.word_count!==void 0&&g.word_count!==r.word_count&&g.word_count>0&&(f=g.word_count)}const p={title:r.title,price:r.price,price_per_word:r.price_per_word,word_count:f!==null?f:r.word_count,is_free:r.is_free,benefits:r.benefits};return Bl(h.id,{service_selected:[p]})})),console.log("Todos os registros atualizados com sucesso!",t),window.dispatchEvent(new Event("resume-table-reload"))}const W5e=({id:r,service_id:e,title:t,price:n,period:s,subtitle:a,benefits:i,not_benefits:o,buttonText:c,cardColors:d,button:u=!1,created_at:h,updated_at:f,price_per_word:p,word_count:g,is_free:m})=>{const y=[...(i||[]).map(S=>({text:S,type:"benefit"})),...(o||[]).map(S=>({text:S,type:"not_benefit"}))].slice(0,6),[w]=U5e(),k=d||w;return l.jsxs("div",{className:`relative rounded-2xl border ${k.border} ${k.bg} p-6 ${k.borderDark} ${k.bgDark} xl:p-8`,style:{height:480},children:[l.jsx("div",{className:"flex items-start justify-between -mb-4",children:l.jsx("span",{className:`block mb-3 font-semibold ${k.title} text-theme-xl ${k.titleDark}`,style:{fontSize:20},children:t})}),l.jsx("div",{className:"flex items-end justify-between mb-1",children:l.jsxs("div",{className:"flex items-end gap-1",style:{gap:5},children:[l.jsx("h2",{className:`font-bold ${k.price} text-title-md ${k.priceDark}`,style:{fontSize:36,height:43},children:n.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),l.jsxs("span",{className:`inline-block mb-1 text-sm ${k.period} ${k.periodDark}`,children:["/",s]})]})}),l.jsx("p",{className:`text-sm ${k.benefit} ${k.benefitDark}`,children:a}),l.jsx("div",{className:`w-full h-px my-6 ${k.divider} ${k.dividerDark}`}),l.jsx("ul",{className:"mb-8 space-y-3",children:y.map((S,N)=>S.type==="benefit"?l.jsxs("li",{className:`flex items-center gap-3 text-sm ${k.benefit} ${k.benefitDark}`,children:[l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-success-500",children:l.jsx("path",{d:"M13.4017 4.35986L6.12166 11.6399L2.59833 8.11657",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})}),S.text]},"b-"+N):l.jsxs("li",{className:`flex items-center gap-3 text-sm ${k.benefit} ${k.benefitDark}`,children:[l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:k.notBenefit,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.05394 4.78033C3.76105 4.48744 3.76105 4.01256 4.05394 3.71967C4.34684 3.42678 4.82171 3.42678 5.1146 3.71967L8.33437 6.93944L11.5521 3.72173C11.845 3.42883 12.3199 3.42883 12.6127 3.72173C12.9056 4.01462 12.9056 4.48949 12.6127 4.78239L9.39503 8.0001L12.6127 11.2178C12.9056 11.5107 12.9056 11.9856 12.6127 12.2785C12.3198 12.5713 11.845 12.5713 11.5521 12.2785L8.33437 9.06076L5.11462 12.2805C4.82173 12.5734 4.34685 12.5734 4.05396 12.2805C3.76107 11.9876 3.76107 11.5127 4.05396 11.2199L7.27371 8.0001L4.05394 4.78033Z",fill:"currentColor"})}),S.text]},"nb-"+N))}),l.jsx("button",{className:`absolute bottom-[30px] left-0 right-0 mx-auto flex w-[90%] items-center justify-center rounded-lg ${k.button} p-3.5 text-sm font-medium text-white shadow-theme-xs transition-colors ${k.buttonHover} ${k.buttonDark} ${k.buttonDarkHover}`,onClick:u?()=>{V5e({title:t,price:n,benefits:i,price_per_word:p,word_count:g,is_free:m})}:void 0,children:c})]})};function q5e({card:r,handleEdit:e,handleDelete:t,editButtons:n=!0,button:s=!1}){const[a,i]=ht.useState(r.layout_toggle??!1),[o,c]=ht.useState(!1),[d,u]=ht.useState(a?uS:Db),h=async f=>{i(f),c(!0),await Q2e(r.id,f),u(f?uS:Db),c(!1)};return l.jsxs("div",{className:"relative w-full",children:[n&&l.jsxs("div",{className:"absolute top-2 right-2 flex flex-row items-center gap-2 z-10",children:[l.jsx(Y2,{checked:a,onChange:h,onColor:"#f9f9f9",offColor:"#1d2939",checkedIcon:!1,uncheckedIcon:!1,height:16,width:32,offHandleColor:"#ededed",onHandleColor:"#cacaca",disabled:o}),l.jsxs("button",{className:"w-10 h-10 rounded bg-gray-100 text-gray-700 hover:bg-gray-300 flex items-center justify-center shadow-md transition-colors duration-150",title:"Editar",onClick:()=>e(r.id),children:[l.jsx("input",{type:"radio",name:`action-${r.id}`,className:"sr-only",tabIndex:-1}),l.jsx(Ao,{className:"w-5 h-5 text-gray-600"})]}),l.jsxs("button",{className:"w-10 h-10 rounded bg-gray-100 text-gray-700 hover:bg-red-200 flex items-center justify-center shadow-md transition-colors duration-150",title:"Excluir",onClick:()=>t(r.id),children:[l.jsx("input",{type:"radio",name:`action-${r.id}`,className:"sr-only",tabIndex:-1}),l.jsx(Fa,{className:"w-5 h-5 text-gray-600"})]})]}),l.jsx(W5e,{id:r.id,service_id:r.service_id,title:r.title,subtitle:r.subtitle,price:r.price,benefits:r.benefits,not_benefits:r.not_benefits,period:r.period,created_at:r.created_at,updated_at:r.updated_at,price_per_word:r.price_per_word,word_count:r.word_count,is_free:r.is_free,buttonText:"Contratar",cardColors:d,button:s})]})}function qU({card:r,handleEdit:e,handleDelete:t,editButtons:n=!0,button:s=!1}){const{attributes:a,listeners:i,setNodeRef:o,transform:c,transition:d,isDragging:u}=F5e({id:r.id,resizeObserverConfig:{disabled:!1}}),h={transform:c?w0.Transform.toString(c):void 0,transition:d,zIndex:u?50:1};return l.jsx("div",{ref:o,style:h,...a,className:(n?"cursor-grab ":"cursor-default ")+(u?"opacity-70":""),...i,children:l.jsx(q5e,{card:r,handleEdit:e,handleDelete:t,editButtons:n,button:s})})}const Y5e=()=>{const{id:r}=nc(),e=z5e(r),{cards:t,setCards:n,loading:s,setLoading:a}=H5e(r),{editCardId:i,showEditModal:o,editModalVisible:c,handleEdit:d,handleCloseEditModal:u,handleDelete:h,handleCardsOrderChange:f}=$5e(n,a),p=mwe(gwe(l8,{activationConstraint:{distance:5}})),g=m=>{const{active:v,over:x}=m;if(x&&v.id!==x.id){const y=t.findIndex(S=>S.id===v.id),w=t.findIndex(S=>S.id===x.id),k=c8(t,y,w);f(k)}};return e?e.service_type==="Conteúdo"?l.jsxs("section",{className:"flex min-h-screen",children:[l.jsxs("div",{className:"flex-1 pr-0 md:pr-4 lg:pr-8 xl:pr-12 2xl:pr-16",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white/90","x-text":"pageName",children:["Adicionar pacotes para ",e.service_title]}),l.jsxs("button",{type:"button",className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-brand-500 dark:hover:text-brand-400 transition-colors text-sm font-medium",onClick:()=>window.history.back(),children:[l.jsx("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M11.25 15L5.25 9L11.25 3",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})}),"Voltar"]})]}),s?l.jsx("div",{children:"Carregando pacotes..."}):t.length===0?l.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:l.jsx("h2",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Nenhum pacote cadastrado para este serviço."})}):l.jsx(b5e,{sensors:p,collisionDetection:wwe,onDragEnd:g,children:l.jsx(P5e,{items:t.map(m=>m.id),strategy:d8,children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map(m=>l.jsx(qU,{card:m,handleEdit:d,handleDelete:h},m.id))})})})]}),l.jsx(WT,{field:{label:"Novo Pacote",service_id:e.id},onSuccess:()=>{a(!0),Cp().then(m=>{n(m?m.filter(v=>v.service_id===r):[]),a(!1)})}}),c&&i&&l.jsx("div",{className:"absolute inset-0 z-[99999] bg-gray-400/50 backdrop-blur-[--background-blur] dark:text-white",onMouseDown:u,children:l.jsxs("div",{className:"absolute top-0 right-0 h-full w-full max-w-md bg-white dark:bg-gray-900 shadow-lg border-l border-gray-200 dark:border-gray-800 transition-transform duration-300 ease-in-out "+(o?"translate-x-0":"translate-x-full"),style:{minWidth:340},onMouseDown:m=>m.stopPropagation(),children:[l.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800 z-10",onClick:u,"aria-label":"Fechar",type:"button",children:"✕"}),l.jsx(WT,{field:{label:"Editar Pacote",service_id:e.id,id:i},onSuccess:()=>{u(),r&&(a(!0),Cp().then(m=>{n(m?m.filter(v=>v.service_id===r):[]),a(!1)}))}})]})})]}):l.jsx("div",{children:l.jsx("h2",{children:'O serviço não é do tipo "Conteúdo"'})}):l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("h2",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Nenhum dado de pacote encontrado."})})},G5e=l.jsx("svg",{className:"size-5",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 22 22",fill:"none",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.70186 11.0001C2.70186 6.41711 6.41711 2.70186 11.0001 2.70186C15.5831 2.70186 19.2984 6.41711 19.2984 11.0001C19.2984 15.5831 15.5831 19.2984 11.0001 19.2984C6.41711 19.2984 2.70186 15.5831 2.70186 11.0001ZM11.0001 0.901855C5.423 0.901855 0.901855 5.423 0.901855 11.0001C0.901855 16.5772 5.423 21.0984 11.0001 21.0984C16.5772 21.0984 21.0984 16.5772 21.0984 11.0001C21.0984 5.423 16.5772 0.901855 11.0001 0.901855ZM14.6197 9.73951C14.9712 9.38804 14.9712 8.81819 14.6197 8.46672C14.2683 8.11525 13.6984 8.11525 13.347 8.46672L10.1894 11.6243L8.6533 10.0883C8.30183 9.7368 7.73198 9.7368 7.38051 10.0883C7.02904 10.4397 7.02904 11.0096 7.38051 11.3611L9.55295 13.5335C9.72174 13.7023 9.95065 13.7971 10.1894 13.7971C10.428 13.7971 10.657 13.7023 10.8257 13.5335L14.6197 9.73951Z",fill:"currentColor"})}),X5e=l.jsxs("svg",{className:"size-5",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 22 22",fill:"none",children:[l.jsx("circle",{cx:"11",cy:"11",r:"10",fill:"currentColor",fillOpacity:"0.2",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M7.75 7.75L14.25 14.25M14.25 7.75L7.75 14.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]});function Z5e({message:r,type:e="success",onClose:t,duration:n=2500,className:s=""}){const[a,i]=b.useState(!0);return b.useEffect(()=>{if(!a&&t){const o=setTimeout(()=>t(),300);return()=>clearTimeout(o)}if(a&&n>0){const o=setTimeout(()=>i(!1),n);return()=>clearTimeout(o)}},[a,n,t]),a?l.jsx("div",{className:`fixed left-8 bottom-8 z-[99999] max-w-[340px] w-full opacity-100 transition-all duration-300 pointer-events-auto ${s}`,style:{background:"transparent"},children:l.jsxs("div",{className:`flex items-center justify-between gap-3 w-full rounded-md border-b-4 p-3 shadow-theme-sm bg-white dark:bg-gray-900 ${e==="success"?"border-success-500":"border-error-500"}`,style:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.18), 0 1.5px 6px 0 rgba(60,60,60,0.10)",borderRadius:12},children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-lg ${e==="success"?"bg-success-50 text-success-500 dark:bg-success-500/20 dark:text-success-400":"bg-error-50 text-error-500 dark:bg-error-500/20 dark:text-error-400"}`,children:e==="success"?G5e:X5e}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm text-gray-800 sm:text-base dark:text-white/90",children:e==="success"?"Sucesso!":"Erro!"}),l.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300 mt-1",children:r})]})]}),l.jsx("button",{className:"text-gray-400 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white/90",onClick:()=>i(!1),children:l.jsx("svg",{className:"size-6",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.04289 16.5418C5.65237 16.9323 5.65237 17.5655 6.04289 17.956C6.43342 18.3465 7.06658 18.3465 7.45711 17.956L11.9987 13.4144L16.5408 17.9565C16.9313 18.347 17.5645 18.347 17.955 17.9565C18.3455 17.566 18.3455 16.9328 17.955 16.5423L13.4129 12.0002L17.955 7.45808C18.3455 7.06756 18.3455 6.43439 17.955 6.04387C17.5645 5.65335 16.9313 5.65335 16.5408 6.04387L11.9987 10.586L7.45711 6.04439C7.06658 5.65386 6.43342 5.65386 6.04289 6.04439C5.65237 6.43491 5.65237 7.06808 6.04289 7.4586L10.5845 12.0002L6.04289 16.5418Z",fill:"currentColor"})})})]})}):null}function u8({toasts:r,onRemove:e}){return l.jsx("div",{className:"fixed left-8 bottom-8 z-[2147483647] flex flex-col gap-3 items-start pointer-events-none",children:r.map(t=>l.jsx("div",{className:"pointer-events-auto",children:l.jsx(Z5e,{message:t.message,type:t.type,onClose:()=>e(t.id)})},t.id))})}function h8(){const[r,e]=b.useState([]),t=b.useCallback((s,a="success")=>{const i=Math.random().toString(36).substring(2,9);e(o=>[...o,{id:i,message:s,type:a}])},[]),n=b.useCallback(s=>{e(a=>a.filter(i=>i.id!==s))},[]);return{toasts:r,addToast:t,removeToast:n}}const YU=b.createContext({fetchCoupons:()=>{}}),J5e=()=>b.useContext(YU);async function K5e(){try{const{data:r,error:e}=await G.from("coupons").select("*").order("created_at",{ascending:!1});return e?(console.error("Error fetching coupons:",e),[]):r||[]}catch(r){return console.error("Error in getCoupons:",r),[]}}async function qT(r){try{const{data:e,error:t}=await G.from("coupons").select("*").eq("id",r).single();return t?(console.error("Error fetching coupon:",t),null):e}catch(e){return console.error("Error in getCouponById:",e),null}}async function Q5e(r){try{const{data:e,error:t}=await G.from("coupons").select("*").ilike("code",r).eq("is_active",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();return t?(console.error("Error fetching coupon by code:",t),null):e}catch(e){return console.error("Error in getCouponByCode:",e),null}}async function e4e(r){try{const{data:{user:e}}=await G.auth.getUser(),{data:t,error:n}=await G.from("coupons").insert({...r,code:r.code.toUpperCase(),created_by:e==null?void 0:e.id,updated_by:e==null?void 0:e.id}).select().single();return n?(console.error("Error creating coupon:",n),null):t}catch(e){return console.error("Error in createCoupon:",e),null}}async function t4e(r){try{const{data:{user:e}}=await G.auth.getUser(),{id:t,...n}=r,{data:s,error:a}=await G.from("coupons").update({...n,code:n.code?n.code.toUpperCase():void 0,updated_by:e==null?void 0:e.id,updated_at:new Date().toISOString()}).eq("id",t).select().single();return a?(console.error("Error updating coupon:",a),null):s}catch(e){return console.error("Error in updateCoupon:",e),null}}async function r4e(r){try{const{error:e}=await G.from("coupons").delete().eq("id",r);return e?(console.error("Error deleting coupon:",e),!1):!0}catch(e){return console.error("Error in deleteCoupon:",e),!1}}async function n4e(r,e){try{const{data:{user:t}}=await G.auth.getUser(),{error:n}=await G.from("coupons").update({is_active:e,updated_by:t==null?void 0:t.id,updated_at:new Date().toISOString()}).eq("id",r);return n?(console.error("Error toggling coupon status:",n),!1):!0}catch(t){return console.error("Error in toggleCouponStatus:",t),!1}}async function s4e(r,e){try{const t=await Q5e(r);if(!t)return{valid:!1,error:"Cupom não encontrado"};if(!t.is_active)return{valid:!1,error:"Cupom inativo"};const n=new Date,s=t.start_date?new Date(t.start_date):null,a=t.end_date?new Date(t.end_date):null;return s&&s.getTime()>n.getTime()?{valid:!1,error:"Cupom ainda não está ativo"}:a&&a.getTime()<n.getTime()?{valid:!1,error:"Cupom expirado"}:t.minimum_amount&&e<t.minimum_amount?{valid:!1,error:`Valor mínimo de R$ ${t.minimum_amount.toFixed(2)} não atingido`}:t.usage_limit&&t.usage_count>=t.usage_limit?{valid:!1,error:"Limite de uso do cupom atingido"}:{valid:!0,coupon:t}}catch(t){return console.error("Error in validateCoupon:",t),{valid:!1,error:"Erro ao validar cupom"}}}function a4e(r,e){if(r.discount_type==="percentage"){const t=e*r.discount_value/100;return r.maximum_discount&&t>r.maximum_discount?r.maximum_discount:t}else return Math.min(r.discount_value,e)}function i4e({field:r}){const[e,t]=b.useState(!1),[n,s]=b.useState({code:"",name:"",description:"",discount_type:"percentage",discount_value:0,minimum_amount:void 0,maximum_amount:void 0,maximum_discount:void 0,usage_limit:void 0,usage_limit_per_customer:void 0,start_date:"",end_date:"",is_active:!0,individual_use_only:!1,exclude_sale_items:!1}),{toasts:a,addToast:i,removeToast:o}=h8(),{fetchCoupons:c}=J5e(),d=m=>{const{name:v,value:x,type:y}=m.target;if(y==="checkbox"){const w=m.target.checked;s(k=>({...k,[v]:w}))}else s(y==="number"?w=>({...w,[v]:x===""?void 0:parseFloat(x)}):w=>({...w,[v]:x||void 0}))},u=()=>{const m="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let v="";for(let x=0;x<8;x++)v+=m.charAt(Math.floor(Math.random()*m.length));s(x=>({...x,code:v}))},h=()=>n.code.trim()?n.name.trim()?n.discount_value<=0?(i("[Desconto] Valor do desconto deve ser maior que zero","error"),!1):n.discount_type==="percentage"&&n.discount_value>100?(i("[Desconto] Desconto percentual não pode ser maior que 100%","error"),!1):n.maximum_amount&&n.minimum_amount&&n.maximum_amount<=n.minimum_amount?(i("[Valor Máximo] Valor máximo deve ser maior que o valor mínimo","error"),!1):n.end_date&&n.start_date&&new Date(n.end_date)<=new Date(n.start_date)?(i("[Datas] Data de fim deve ser posterior à data de início","error"),!1):!0:(i("[Nome] Nome é obrigatório","error"),!1):(i("[Código] Código é obrigatório","error"),!1),f=async m=>{if(m.preventDefault(),!h())return;const v={...n,start_date:n.start_date||void 0,end_date:n.end_date||void 0};try{await e4e(v)?(i("Cupom criado com sucesso!","success"),s({code:"",name:"",description:"",discount_type:"percentage",discount_value:0,minimum_amount:void 0,maximum_amount:void 0,maximum_discount:void 0,usage_limit:void 0,usage_limit_per_customer:void 0,start_date:"",end_date:"",is_active:!0,individual_use_only:!1,exclude_sale_items:!1}),c(),t(!1)):i("Erro ao criar cupom","error")}catch(x){console.error("Erro ao criar cupom:",x),i("Erro ao criar cupom","error")}};function p(m){const v=x=>x.toString().padStart(2,"0");return m.getFullYear()+"-"+v(m.getMonth()+1)+"-"+v(m.getDate())+"T"+v(m.getHours())+":"+v(m.getMinutes())}const g=p(new Date);return l.jsxs(l.Fragment,{children:[l.jsx(u8,{toasts:a,onRemove:o}),l.jsx(nt,{onClick:()=>t(!0),className:"mb-4 bg-blue-600 hover:bg-blue-700 text-white",children:r.label||"Novo Cupom"}),e&&l.jsxs("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center bg-gray-400/50 backdrop-blur-[--background-blur] dark:text-white",children:[l.jsx("div",{onClick:()=>t(!1),className:"absolute inset-0"}),l.jsxs("div",{className:"relative bg-white dark:bg-gray-900 rounded-lg shadow-lg w-full max-w-4xl max-h-[90vh] overflow-hidden z-10",children:[l.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.modalTitle||"Adicionar Novo Cupom"})}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Código *"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",name:"code",value:n.code,onChange:d,className:"flex-1 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",placeholder:"Ex: DESCONTO10",required:!0}),l.jsx("button",{type:"button",onClick:u,className:"bg-gray-500 hover:bg-gray-600 text-white text-xs px-3 py-2 rounded-md",children:"Gerar"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome *"}),l.jsx("input",{type:"text",name:"name",value:n.name,onChange:d,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",placeholder:"Nome do cupom",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descrição"}),l.jsx("textarea",{name:"description",value:n.description,onChange:d,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",rows:2,placeholder:"Descrição opcional"})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[l.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-white mb-4",children:"Configurações de Desconto"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de Desconto *"}),l.jsxs("select",{name:"discount_type",value:n.discount_type,onChange:d,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",children:[l.jsx("option",{value:"percentage",children:"Desconto em porcentagem"}),l.jsx("option",{value:"cart_fixed",children:"Desconto fixo de carrinho"}),l.jsx("option",{value:"product_fixed",children:"Desconto fixo de produto"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Valor do Desconto * ",n.discount_type==="percentage"?"(%)":"(R$)"]}),l.jsx("input",{type:"number",name:"discount_value",value:n.discount_value,onChange:d,min:"0",max:n.discount_type==="percentage"?"100":void 0,step:n.discount_type==="percentage"?"1":"0.01",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",required:!0})]})]})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[l.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-white mb-4",children:"Limites e Valores"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Valor Mínimo (R$)"}),l.jsx("input",{type:"number",name:"minimum_amount",value:n.minimum_amount||"",onChange:d,min:"0",step:"0.01",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",placeholder:"Valor mínimo para usar o cupom"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Valor Máximo (R$)"}),l.jsx("input",{type:"number",name:"maximum_amount",value:n.maximum_amount||"",onChange:d,min:"0",step:"0.01",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",placeholder:"Valor máximo do pedido para usar o cupom"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Limite de Uso"}),l.jsx("input",{type:"number",name:"usage_limit",value:n.usage_limit||"",onChange:d,min:"1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",placeholder:"Deixe vazio para uso ilimitado"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Limite de Uso por Cliente"}),l.jsx("input",{type:"number",name:"usage_limit_per_customer",value:n.usage_limit_per_customer||"",onChange:d,min:"1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",placeholder:"Quantas vezes cada cliente pode usar"})]})]})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[l.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-white mb-4",children:"Período de Validade"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data de Início"}),l.jsx("input",{type:"datetime-local",name:"start_date",value:n.start_date,onChange:d,min:g,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data de Expiração"}),l.jsx("input",{type:"datetime-local",name:"end_date",value:n.end_date,onChange:d,min:n.start_date||g,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white"})]})]})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[l.jsx("h4",{className:"text-md font-medium text-gray-800 dark:text-white mb-4",children:"Configurações Avançadas"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"is_active",checked:n.is_active,onChange:d,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Cupom ativo"})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("input",{type:"checkbox",name:"individual_use_only",checked:n.individual_use_only,onChange:d,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5"}),l.jsxs("div",{className:"ml-2",children:[l.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Apenas uso individual"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Marque esta opção caso o cupom não possa ser utilizado juntamente com outros cupons."})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("input",{type:"checkbox",name:"exclude_sale_items",checked:n.exclude_sale_items,onChange:d,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5"}),l.jsxs("div",{className:"ml-2",children:[l.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Excluir itens em oferta"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Selecione esta opção caso o cupom não seja válido para produtos em promoção. Cupons aplicados por item funcionarão somente se o item não estiver em promoção. Cupons aplicados ao carrinho só serão válidos caso não haja produtos em promoção no carrinho."})]})]})]})]}),l.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:l.jsxs("div",{className:"flex gap-3 justify-end",children:[l.jsx(nt,{onClick:()=>t(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-700",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white inline-flex items-center justify-center gap-2 rounded-lg transition px-5 py-3.5 text-sm",children:"Criar Cupom"})]})})]})})]})]})]})}function o4e(r="created_at",e="desc"){const[t,n]=b.useState(r),[s,a]=b.useState(e),i=b.useCallback(o=>{t===o?a(c=>c==="asc"?"desc":"asc"):(n(o),a("asc"))},[t]);return{sortField:t,sortDirection:s,handleSort:i,setSortField:n,setSortDirection:a}}const l4e=r=>({percentage:"Desconto em porcentagem",cart_fixed:"Desconto fixo de carrinho",product_fixed:"Desconto fixo de produto",fixed:"Valor fixo"})[r]||r,c4e=r=>r.discount_type==="percentage"?`${r.discount_value}%`:`R$ ${r.discount_value.toFixed(2)}`,d4e=r=>r==null?"-":`R$ ${r.toFixed(2)}`;function u4e(r){return new Date(r).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function YT(r){return d4e(r)}const h4e=({coupons:r,onDelete:e,onToggleStatus:t})=>{const[n,s]=ht.useState(()=>{const m={};return r.forEach(v=>{m[v.id]=v.is_active}),m});ht.useEffect(()=>{s(m=>{const v={...m};return r.forEach(x=>{v[x.id]=x.is_active}),v})},[r]);const{sortField:a,sortDirection:i,handleSort:o}=o4e("created_at","desc"),c=Sr(),d=[...r].sort((m,v)=>{let x=m[a],y=v[a];return a==="created_at"||a==="end_date"?(x=x?new Date(x).getTime():0,y=y?new Date(y).getTime():0,i==="asc"?x-y:y-x):typeof x=="string"&&typeof y=="string"?(x=x.toLowerCase(),y=y.toLowerCase(),x<y?i==="asc"?-1:1:x>y?i==="asc"?1:-1:0):typeof x=="number"&&typeof y=="number"?i==="asc"?x-y:y-x:typeof x=="boolean"&&typeof y=="boolean"?i==="asc"?Number(x)-Number(y):Number(y)-Number(x):x==null?1:y==null?-1:0}),u=async(m,v)=>{window.confirm(`Tem certeza que deseja excluir o cupom "${v}"?`)&&e(m)},h=m=>{navigator.clipboard.writeText(m)},f=m=>c4e(m),p=m=>m.is_active?m.end_date&&new Date(m.end_date)<new Date?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300",g=m=>m.is_active?m.end_date&&new Date(m.end_date)<new Date?"Expirado":"Ativo":"Inativo";return l.jsx("div",{className:"mt-6 overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:l.jsx("div",{className:"max-w-full overflow-x-auto",children:l.jsx("div",{className:"min-w-[1200px]",children:l.jsxs(To,{children:[l.jsx(Po,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:l.jsxs(Mr,{children:[l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>o("code"),children:[l.jsx("span",{children:"Código"}),a==="code"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>o("name"),children:[l.jsx("span",{children:"Nome"}),a==="name"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>o("discount_value"),children:[l.jsx("span",{children:"Desconto"}),a==="discount_value"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>o("discount_type"),children:[l.jsx("span",{children:"Tipo"}),a==="discount_type"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>o("usage_count"),children:[l.jsx("span",{children:"Usos"}),a==="usage_count"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>o("end_date"),children:[l.jsx("span",{children:"Validade"}),a==="end_date"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsxs("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>o("is_active"),children:[l.jsx("span",{children:"Status"}),a==="is_active"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left select-none px-5 py-3",children:l.jsx("span",{children:"Ações"})})})]})}),l.jsxs(Lo,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:[d.map(m=>l.jsxs(Mr,{children:[l.jsx(et,{className:"px-5 py-4 sm:px-6 text-start",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-mono font-medium text-gray-800 text-theme-sm dark:text-white/90",children:m.code}),l.jsx("button",{onClick:()=>h(m.code),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"Copiar código",children:l.jsx(AR,{className:"w-4 h-4"})})]})}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-800 dark:text-white/90",children:m.name}),m.description&&l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:m.description})]})}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-800 dark:text-white/90",children:f(m)}),m.minimum_amount&&l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Min: ",YT(m.minimum_amount)]}),m.maximum_amount&&l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Max: ",YT(m.maximum_amount)]})]})}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-800 dark:text-white/90 text-xs",children:l4e(m.discount_type)}),l.jsxs("div",{className:"flex gap-1 mt-1",children:[m.individual_use_only&&l.jsx("span",{className:"inline-block px-1 py-0.5 text-xs bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300 rounded",children:"Individual"}),m.exclude_sale_items&&l.jsx("span",{className:"inline-block px-1 py-0.5 text-xs bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300 rounded",children:"Sem promoção"})]})]})}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-800 dark:text-white/90",children:m.usage_limit?`${m.usage_count}/${m.usage_limit}`:`${m.usage_count} (ilimitado)`}),m.usage_limit_per_customer&&l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Máx ",m.usage_limit_per_customer,"/cliente"]})]})}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:m.end_date?l.jsxs("div",{children:[l.jsx("div",{className:"text-xs",children:"Até:"}),l.jsx("div",{children:u4e(m.end_date)})]}):"Sem expiração"}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:l.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${p(m)}`,children:g(m)})}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Editar",onClick:()=>c(`/tickets/${m.id}`),children:l.jsx(Ao,{className:"w-5 h-5"})}),l.jsx("button",{className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",title:"Excluir",onClick:()=>u(m.id,m.name),children:l.jsx(Fa,{className:"w-5 h-5"})}),l.jsx(Y2,{checked:n[m.id],onChange:async v=>{s(x=>({...x,[m.id]:v})),await t(m.id,v)},onColor:"#3b82f6",offColor:"#d1d5db",checkedIcon:!1,uncheckedIcon:!1,height:16,width:32})]})})]},m.id)),r.length===0&&l.jsx(Mr,{children:l.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"Nenhum cupom encontrado."})})]})]})})})})};function f4e(r,e,t){return r.map(n=>n.id===e?{...n,is_active:t}:n)}const p4e=()=>{const[r,e]=b.useState([]),[t,n]=b.useState(!0),s=async()=>{n(!0);try{const c=await K5e();e(c)}catch(c){console.error("Erro ao buscar cupons:",c),e([])}finally{n(!1)}};b.useEffect(()=>{s()},[]);const a=async c=>{try{await r4e(c)?e(u=>u.filter(h=>h.id!==c)):alert("Erro ao excluir cupom.")}catch(d){console.error("Erro ao excluir cupom:",d),alert("Erro ao excluir cupom.")}},i=c=>{console.log("Editando cupom:",c),alert("Funcionalidade de edição será implementada em breve.")},o=async(c,d)=>{try{await n4e(c,d)?e(h=>f4e(h,c,d)):alert("Erro ao alterar status do cupom.")}catch(u){console.error("Erro ao alterar status do cupom:",u),alert("Erro ao alterar status do cupom.")}};return l.jsx(YU.Provider,{value:{fetchCoupons:s},children:l.jsxs("div",{children:[l.jsx("h2",{className:"mb-6 text-xl font-semibold text-gray-800 dark:text-white/90","x-text":"pageName",children:"Cupons"}),l.jsx(i4e,{field:{label:"Novo Cupom",modalTitle:"Adicionar novo cupom"}}),l.jsx(h4e,{coupons:r,onDelete:a,onEdit:i,onToggleStatus:o,onRefresh:s}),t&&l.jsx("div",{className:"fixed bottom-6 right-6 z-[9999] bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 shadow-lg rounded-lg px-6 py-3 text-gray-500 dark:text-gray-200 animate-fade-in",children:"Carregando..."})]})})};function g4e(){const[r,e]=b.useState("/favicon.png"),[t,n]=b.useState(!0);b.useEffect(()=>{s();const a=G.channel("settings_changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"settings"},()=>{s()}).subscribe();return()=>{G.removeChannel(a)}},[]);async function s(){try{n(!0);const{data:a,error:i}=await G.from("settings").select("platform_icon").single();if(i){console.error("Error fetching settings:",i);return}if(a!=null&&a.platform_icon)try{const{data:o}=G.storage.from("logos").getPublicUrl(a.platform_icon);o!=null&&o.publicUrl&&(await fetch(o.publicUrl,{method:"HEAD"})).ok&&e(o.publicUrl)}catch(o){console.error("Error accessing storage:",o)}}catch(a){console.error("Error loading favicon:",a)}finally{n(!1)}}return{favicon:r,loading:t}}function m4e(){const{favicon:r}=g4e();return b.useEffect(()=>{const e=document.querySelector("link[rel*='icon']");e&&(e.href=r)},[r]),null}function x4e({isOpen:r,onClose:e,entry:t,isAdmin:n}){var v;const[s,a]=b.useState([]),[i,o]=b.useState(!1);b.useEffect(()=>{t&&r&&c()},[t,r]);async function c(){if(t!=null&&t.form_id)try{o(!0);const{data:x,error:y}=await G.from("form_fields").select(`
          *,
          form_field_settings (*)
        `).eq("form_id",t.form_id).order("position",{ascending:!0});if(y)throw y;a(x||[])}catch(x){console.error("Error loading form fields:",x)}finally{o(!1)}}if(!t)return null;const d=x=>new Date(x).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),u=x=>{switch(x){case"verificado":return l.jsx(Dt,{color:"success",children:"Verificado"});case"reprovado":return l.jsx(Dt,{color:"error",children:"Reprovado"});case"em_analise":default:return l.jsx(Dt,{color:"warning",children:"Em Análise"})}},h=x=>x?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:Vl(x),alt:"Site icon",className:"w-4 h-4",onError:y=>{y.target.style.display="none"}}),l.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400 hover:underline truncate max-w-[200px]",children:tE(x)})]}):"-",f=x=>{try{const y=typeof x=="string"?JSON.parse(x):x;if(!y||!y.name)return"-";if(!y.logo)return y.name;const w=p(y.logo);return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:w,alt:`${y.name} logo`,className:"w-8 h-8 object-contain",onError:k=>{k.target.style.display="none"}}),l.jsx("span",{className:"text-gray-800 dark:text-white/90 font-medium",children:y.name})]})}catch(y){return console.error("Error rendering brand:",y),(x==null?void 0:x.toString())||"-"}},p=x=>{if(!x)return"";try{const{data:y}=G.storage.from("brand_logos").getPublicUrl(x);return(y==null?void 0:y.publicUrl)||""}catch(y){return console.error("Error getting brand logo URL:",y),""}},g=x=>!x||Object.keys(x).length===0?"-":l.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(x).map(([y,w])=>l.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 dark:bg-gray-800 rounded px-2 py-1",children:[l.jsx("img",{src:Hp(y),alt:y,className:`w-4 h-4 object-cover ${y==="ROW"?"dark:invert":""}`,onError:k=>{k.target.style.display="none"}}),w&&l.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:["(",w,"%)"]})]},y))}),m=(x,y)=>{if(x==null)return"-";if(y==="brand")return f(x);if(y==="url"||typeof x=="string"&&(x.startsWith("http://")||x.startsWith("https://")))return h(x);if(y==="country"&&typeof x=="object")return g(x);if(y==="button_buy")return null;switch(y){case"file":return Array.isArray(x)?`${x.length} arquivo(s)`:"1 arquivo";case"checkbox":case"multiselect":return Array.isArray(x)?x.join(", "):x;case"toggle":return x?"Sim":"Não";case"product":try{const k=typeof x=="string"?JSON.parse(x):x;if(typeof k.price=="string"){const S=k.price;return S.startsWith("R$")?S:`R$ ${S}`}else{const S=parseFloat(k.price);if(!isNaN(S))return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S)}}catch(k){console.error("Error formatting price:",k)}return x.toString();case"commission":const w=parseFloat(x);return isNaN(w)?x:`${w}%`;case"brazilian_states":if(typeof x=="object"){const{state_name:k,city_names:S,state:N,cities:A}=x;return Array.isArray(S)&&S.length>0?l.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:[k," - ",S.join(", ")]}):Array.isArray(A)&&A.length>0?l.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:[k," - ",A.join(", ")]}):l.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:k||N||"-"})}return x.toString();default:return x.toString()}};return l.jsx(ai,{isOpen:r,onClose:e,className:"max-w-[800px] m-4",children:l.jsx("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-8",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:((v=t.form)==null?void 0:v.title)||"Formulário sem título"}),l.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:["Criado em ",d(t.created_at)]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),u(t.status||"em_analise")]}),t.publisher&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Publisher"}),l.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[l.jsxs("p",{children:[t.publisher.first_name," ",t.publisher.last_name]}),l.jsx("p",{children:t.publisher.email})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Valores do Formulário"}),i?l.jsx("div",{className:"flex items-center justify-center h-20",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando campos..."})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(x=>{const y=t.values[x.id],w=x.form_field_settings;return(w==null?void 0:w.visibility)==="hidden"&&!n||(w==null?void 0:w.visibility)==="admin"&&!n||(w==null?void 0:w.visibility)==="marketplace"&&!n||x.field_type==="button_buy"?null:l.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[l.jsxs("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:[x.label,(w==null?void 0:w.visibility)==="admin"&&l.jsx("span",{className:"ml-2 text-xs text-brand-500 dark:text-brand-400",children:"(Admin Only)"}),(w==null?void 0:w.visibility)==="marketplace"&&l.jsx("span",{className:"ml-2 text-xs text-warning-500 dark:text-warning-400",children:"(Marketplace Only)"})]}),l.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:m(y,x.field_type)})]},x.id)})})]}),t.notes&&t.notes.length>0&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notas"}),l.jsx("div",{className:"space-y-3",children:t.notes.map(x=>l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:x.note}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:d(x.created_at)})]},x.id))})]})]})})})}class hS{static async loadFormFields(e){try{const{data:t,error:n}=await G.from("form_fields").select(`
          *,
          form_field_settings (*)
        `).eq("form_id",e).order("position",{ascending:!0});if(n)return console.error("FormFieldsService - Load fields error:",n),{fields:[],fieldSettings:{},error:n};const s={};return t==null||t.forEach(a=>{a.form_field_settings&&(s[a.id]=a.form_field_settings)}),{fields:t||[],fieldSettings:s,error:null}}catch(t){return console.error("FormFieldsService - Unexpected error:",t),{fields:[],fieldSettings:{},error:t}}}static shouldFieldBeVisible(e,t){return!(e.visibility==="hidden"&&!t||e.visibility==="admin"&&!t||e.visibility==="marketplace"&&!t)}static mapFieldType(e){return["moz_da","semrush_as","ahrefs_dr","ahrefs_traffic","similarweb_traffic","google_traffic"].includes(e)?"api":{commission:"commission",brazilian_states:"brazilianStates",brand:"brand",button_buy:"buttonBuy",multiselect:"multiSelect"}[e]||e}}function v4e(r,e){const[t,n]=b.useState([]),[s,a]=b.useState({}),[i,o]=b.useState(!1),[c,d]=b.useState("");b.useEffect(()=>{r&&e&&u()},[r,e]);const u=async()=>{if(r!=null&&r.form_id)try{o(!0),d("");const h=await hS.loadFormFields(r.form_id);if(h.error)throw h.error;n(h.fields),a(h.fieldSettings)}catch(h){console.error("Error loading form fields:",h),d("Error loading form fields")}finally{o(!1)}};return{fields:t,fieldSettings:s,fieldsLoading:i,error:c,setError:d,loadFormFields:u}}function y4e(r,e,t){const[n,s]=b.useState({}),[a,i]=b.useState({});b.useEffect(()=>{r&&e&&o()},[r,e]),b.useEffect(()=>{t.length>0&&c()},[t]);const o=()=>{if(r!=null&&r.values){const h={};Object.entries(r.values).forEach(([f,p])=>{let g=p;if(typeof p=="string")try{const m=JSON.parse(p);m&&typeof m=="object"&&(g=m)}catch{g=p}h[f]=g}),s(h)}else s({})},c=()=>{s(h=>{const f={...h};t.forEach(g=>{if(g.field_type==="niche")if(!Array.isArray(f[g.id]))f[g.id]=[];else{const m=f[g.id].map(v=>{if(typeof v=="string")return{niche:v,price:""};if(typeof v=="object"&&v.niche)if(typeof v.niche=="string"&&v.niche.startsWith("{"))try{const x=JSON.parse(v.niche);return{niche:x.text||x.niche||v.niche,price:v.price||"",icon:x.icon}}catch{return{niche:v.niche,price:v.price||""}}else return{niche:v.niche,price:v.price||"",icon:v.icon};return typeof v=="object"&&v.text&&!v.niche?{niche:v.text,price:v.price||""}:v});f[g.id]=m}});const p=t.find(g=>g.field_type==="niche");return p&&!(p.id in f)&&(f[p.id]=[]),f})};return{formValues:n,validationErrors:a,setValidationErrors:i,updateFormValue:(h,f)=>{s(p=>({...p,[h]:f})),a[h]&&i(p=>{const g={...p};return delete g[h],g})},clearValidationError:h=>{a[h]&&i(f=>{const p={...f};return delete p[h],p})}}}class fS{static isFieldRequired(e){var t,n,s,a,i,o,c,d,u,h,f;return!!(e.field_type==="url"||(t=e.label)!=null&&t.toLowerCase().includes("url")&&!((n=e.label)!=null&&n.toLowerCase().includes("tipo de link"))&&!((s=e.label)!=null&&s.toLowerCase().includes("saída"))||(a=e.label)!=null&&a.toLowerCase().includes("site")||(i=e.label)!=null&&i.toLowerCase().includes("da ")&&!((o=e.label)!=null&&o.toLowerCase().includes("tipo"))||(c=e.label)!=null&&c.toLowerCase().includes("domain authority")||e.field_type==="number"&&((d=e.label)!=null&&d.toLowerCase().includes("domain"))||e.field_type==="product"||(u=e.label)!=null&&u.toLowerCase().includes("preço")||(h=e.label)!=null&&h.toLowerCase().includes("preco")||(f=e.label)!=null&&f.toLowerCase().includes("price"))}static validateField(e,t,n){if(this.isFieldRequired(e)&&(t==null||t===""))return"Este campo é obrigatório";if(!t)return null;switch(e.field_type){case"email":if(!t.includes("@"))return"Por favor, insira um endereço de email válido com @";break;case"url":try{new URL(t)}catch{return"Por favor, insira uma URL válida"}break;case"number":if(isNaN(Number(t)))return"Por favor, insira um número válido";break;case"multiselect":case"checkbox":const a=n[e.id];if(a!=null&&a.max_selections&&Array.isArray(t)&&t.length>a.max_selections)return`Você pode selecionar no máximo ${a.max_selections} opções`;break;case"commission":const i=parseFloat(t);if(isNaN(i)||i<0||i>1e3)return"Commission must be between 0 and 1000";break}return null}static validateAllFields(e,t,n){const s={};return console.log("🔍 [FormValidationService] Validando",e.length,"campos"),e.forEach(a=>{const i=t[a.id];this.isFieldRequired(a)&&console.log(`🔍 [FormValidationService] Campo obrigatório: ${a.label} (${a.field_type}) = `,i);const c=this.validateField(a,i,n);c&&(console.log(`❌ [FormValidationService] ERRO: ${a.label} - ${c}`),s[a.id]=c)}),Object.keys(s).length>0?(console.log("❌ [FormValidationService] Total de erros:",Object.keys(s).length),console.log("❌ [FormValidationService] Detalhes dos erros:",s)):console.log("✅ [FormValidationService] Validação concluída sem erros"),s}static hasValidationErrors(e){return Object.keys(e).length>0}}class b4e{static async submitFormEntry(e){const{entry:t,status:n,note:s,formValues:a,fields:i,fieldSettings:o,syncPriceFromValue:c}=e;try{const d=await KH(),u=d==null?void 0:d.id,h=fS.validateAllFields(i,a,o);if(fS.hasValidationErrors(h))return console.error("❌ [FormSubmissionService] Erros de validação:",h),{success:!1,error:`Erros de validação encontrados:
${Object.entries(h).map(([y,w])=>{const k=i.find(S=>S.id===y);return`${(k==null?void 0:k.label)||y}: ${w}`}).join(`
`)}`};const{error:f}=await G.from("form_entries").update({status:n}).eq("id",t.id);if(f)return console.error("FormSubmissionService - Status update error:",f),{success:!1,error:"Failed to update entry status"};const p=QH(a,u||null),g=[];for(const[x,y]of Object.entries(p)){const w=i.find(S=>S.id===x);if(!w)continue;w.field_type==="niche"&&Array.isArray(y)&&y.forEach(S=>{S&&typeof S=="object"&&S.icon&&console.log("Niche item with icon preserved:",S)});const k=typeof y!="string";g.push({entry_id:t.id,field_id:x,value:k?null:y,value_json:k?y:null})}const m=vC.validateFormEntryValues(g);if(!m.isValid)return console.error("FormSubmissionService - Validation errors:",m.errors),{success:!1,error:"Invalid form entry values"};const v=await vC.upsertFormEntryValues(t.id,g);if(!v.success)return console.error("FormSubmissionService - Upsert error:",v.error),{success:!1,error:"Failed to save form values"};if(s.trim()){const x=await this.addEntryNote(t.id,s.trim());x.success||console.warn("FormSubmissionService - Note creation failed:",x.error)}if(t.entry_id)try{await c(t.entry_id)}catch(x){console.warn("FormSubmissionService - Price sync failed:",x)}return console.log(`✅ [FormSubmissionService] Entry submission completed successfully for entry: ${t.id}`),{success:!0}}catch(d){return console.error("FormSubmissionService - Unexpected error:",d),{success:!1,error:"Unexpected error occurred"}}}static async addEntryNote(e,t){try{const{data:{user:n}}=await G.auth.getUser();if(!n)return{success:!1,error:"User not authenticated"};const{error:s}=await G.from("form_entry_notes").insert([{entry_id:e,note:t,created_by:n.id}]);return s?{success:!1,error:s}:{success:!0}}catch(n){return{success:!1,error:n}}}}class w4e{constructor(){hr(this,"listeners",new Map);hr(this,"eventHistory",[]);hr(this,"maxHistorySize",100)}addListener(e){return this.listeners.set(e.id,e),console.log(`📡 [FormEntryEventEmitter] Listener added: ${e.id} for form: ${e.formId||"ALL"}`),()=>this.removeListener(e.id)}removeListener(e){this.listeners.delete(e)&&console.log(`📡 [FormEntryEventEmitter] Listener removed: ${e}`)}async emitEvent(e){this.eventHistory.push(e),this.eventHistory.length>this.maxHistorySize&&this.eventHistory.shift(),console.log(`🚀 [FormEntryEventEmitter] Emitting event: ${e.type} for entry: ${e.entryId} in form: ${e.formId}`);const t=Array.from(this.listeners.values()).filter(s=>!s.formId||s.formId===e.formId);t.sort((s,a)=>(a.priority||0)-(s.priority||0)),console.log(`📡 [FormEntryEventEmitter] Found ${t.length} relevant listeners`);const n=t.map(async s=>{try{console.log(`🔄 [FormEntryEventEmitter] Executing listener: ${s.id}`),await Promise.resolve(s.callback(e)),console.log(`✅ [FormEntryEventEmitter] Listener executed successfully: ${s.id}`)}catch(a){console.error(`❌ [FormEntryEventEmitter] Error executing listener ${s.id}:`,a)}});await Promise.allSettled(n),console.log(`✅ [FormEntryEventEmitter] Event emission completed for: ${e.type}`)}getActiveListeners(){return Array.from(this.listeners.values())}getEventHistory(){return[...this.eventHistory]}getStats(){const e=this.eventHistory[this.eventHistory.length-1];return{totalListeners:this.listeners.size,activeListeners:this.listeners.size,eventCount:this.eventHistory.length,lastEventTimestamp:e==null?void 0:e.timestamp}}clear(){this.listeners.clear(),this.eventHistory=[],console.log("🧹 [FormEntryEventEmitter] Cleared all listeners and history")}}const GU=b.createContext(void 0);function k4e({children:r,debugMode:e=!1}){const t=b.useRef(new w4e),[n,s]=b.useState(e);b.useEffect(()=>()=>{t.current.clear()},[]),b.useEffect(()=>{n&&console.log("🐛 [DataSyncProvider] Debug mode enabled")},[n]);const a=b.useCallback(h=>{const f={...h,timestamp:Date.now()};n&&console.log("🐛 [DataSyncProvider] Emitting event:",f),t.current.emitEvent(f)},[n]),i=b.useCallback(h=>(n&&console.log("🐛 [DataSyncProvider] Adding listener:",h),t.current.addListener(h)),[n]),o=b.useCallback(h=>{n&&console.log(`🐛 [DataSyncProvider] Removing listener: ${h}`),t.current.removeListener(h)},[n]),c=b.useCallback(async h=>{n&&console.log(`🐛 [DataSyncProvider] Refreshing all tables for form: ${h||"ALL"}`);const f={type:"FORM_ENTRY_UPDATED",entryId:"bulk-refresh",formId:h||"all",timestamp:Date.now(),data:{isBulkRefresh:!0}};await t.current.emitEvent(f)},[n]),d=b.useCallback(()=>t.current.getActiveListeners(),[]),u={emitFormEntryUpdate:a,addListener:i,removeListener:o,refreshAllTables:c,getActiveListeners:d,isDebugMode:n,setDebugMode:s};return n&&(window.__dataSyncStats=()=>t.current.getStats()),l.jsx(GU.Provider,{value:u,children:r})}function XU(r={}){const e=b.useContext(GU),t=b.useRef(r);if(t.current=r,!e)throw new Error("useDataSync must be used within a DataSyncProvider");const{emitFormEntryUpdate:n,addListener:s,removeListener:a,refreshAllTables:i,getActiveListeners:o,isDebugMode:c}=e;return b.useEffect(()=>{if(!t.current.autoRefresh)return;const d=t.current.listenerId||`auto-refresh-${Date.now()}`,u={id:d,formId:t.current.formId,priority:t.current.priority||0,callback:async f=>{c&&console.log(`🔄 [useDataSync] Auto-refresh triggered for listener: ${d}`,f)}},h=s(u);return c&&console.log(`🔗 [useDataSync] Auto-refresh listener registered: ${d}`),h},[s,c]),{emitFormEntryUpdate:n,addListener:s,removeListener:a,refreshAllTables:i,getActiveListeners:o,isDebugMode:c,emitEntryCreated:(d,u,h)=>{n({type:"FORM_ENTRY_CREATED",entryId:d,formId:u,data:h})},emitEntryUpdated:(d,u,h)=>{n({type:"FORM_ENTRY_UPDATED",entryId:d,formId:u,data:h})},emitEntryDeleted:(d,u,h)=>{n({type:"FORM_ENTRY_DELETED",entryId:d,formId:u,data:h})}}}function C4e(r,e,t={}){const{addListener:n,isDebugMode:s}=XU(),a=b.useRef(e);a.current=e,b.useEffect(()=>{const i=t.listenerId||`table-sync-${r}-${Date.now()}`,o={id:i,formId:r,priority:t.priority||0,callback:async d=>{s&&console.log(`🔄 [useTableDataSync] Refreshing table for form: ${r}, event: ${d.type}`);try{await Promise.resolve(a.current()),s&&console.log(`✅ [useTableDataSync] Table refresh completed for form: ${r}`)}catch(u){console.error(`❌ [useTableDataSync] Table refresh failed for form: ${r}:`,u)}}},c=n(o);return s&&console.log(`🔗 [useTableDataSync] Table listener registered: ${i} for form: ${r}`),c},[n,r,s,t.listenerId,t.priority])}function S4e(r){const e=XU(),t=b.useCallback(async(i,o=!1,c)=>{const d=o?"FORM_ENTRY_UPDATED":"FORM_ENTRY_CREATED";e.isDebugMode&&console.log(`📝 [useFormDataSync] Emitting ${d} for entry: ${i} in form: ${r}`),e.emitFormEntryUpdate({type:d,entryId:i,formId:r,data:{...c,isFormSubmission:!0,submissionTimestamp:Date.now()}})},[e,r]),n=b.useCallback(async(i,o)=>{e.isDebugMode&&console.log(`🗑️ [useFormDataSync] Emitting deletion for entry: ${i} in form: ${r}`),e.emitFormEntryUpdate({type:"FORM_ENTRY_DELETED",entryId:i,formId:r,data:{...o,isDeletion:!0,deletionTimestamp:Date.now()}})},[e,r]),s=b.useCallback(async(i,o)=>{e.isDebugMode&&console.log(`📦 [useFormDataSync] Emitting bulk update for ${i.length} entries in form: ${r}`);const c=i.map(d=>e.emitFormEntryUpdate({type:"FORM_ENTRY_UPDATED",entryId:d,formId:r,data:{...o,isBulkUpdate:!0,bulkUpdateTimestamp:Date.now()}}));await Promise.all(c)},[e,r]),a=b.useCallback(async()=>{e.isDebugMode&&console.log(`🔄 [useFormDataSync] Refreshing all tables for form: ${r}`),await e.refreshAllTables(r)},[e,r]);return{formId:r,emitEntrySubmitted:t,emitEntryDeleted:n,emitBulkUpdate:s,refreshFormTables:a,isDebugMode:e.isDebugMode}}const N4e=({field:r,fieldSettings:e,formValues:t,validationErrors:n,updateFormValue:s,clearValidationError:a,isAdmin:i,fields:o})=>{const c=e[r.id]||{},d=t[r.id],u=n[r.id];if(!hS.shouldFieldBeVisible(c,i)||r.field_type==="button_buy")return null;const g={field:r,settings:c,value:d,onChange:x=>{s(r.id,x)},error:u,onErrorClear:()=>{a(r.id)},productData:(()=>{const x=o.find(y=>y.field_type==="product");return x&&t[x.id]?t[x.id]:null})()},m=hS.mapFieldType(r.field_type),v=H2[`${m.charAt(0).toUpperCase()+m.slice(1)}Field`];return v?l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-400",children:[r.label,fS.isFieldRequired(r)&&l.jsx("span",{className:"text-error-500 ml-1",children:"*"}),c.visibility==="admin"&&l.jsx("span",{className:"ml-2 text-xs text-brand-500 dark:text-brand-400",children:"(Admin Only)"}),c.visibility==="marketplace"&&l.jsx("span",{className:"ml-2 text-xs text-warning-500 dark:text-warning-400",children:"(Marketplace Only)"})]}),l.jsx(v,{...g})]}):l.jsxs("div",{className:"text-error-500",children:["Unknown field type: ",r.field_type," (mapped to ",m,")"]})};class su{static showEntryUpdated(){Tn(this.messages.success.updated,"success")}static showEntrySaved(){Tn(this.messages.success.saved,"success")}static showUpdateFailed(e){const t=e||this.messages.error.updateFailed;Tn(t,"error")}static showUnexpectedError(){Tn(this.messages.error.unexpectedError,"error")}static showValidationError(e){const t=e||this.messages.error.validationError;Tn(t,"error")}static showCustom(e,t){Tn(e,t)}}hr(su,"messages",{success:{updated:"Entrada atualizada com sucesso!",saved:"Alterações salvas com sucesso!"},error:{updateFailed:"Erro ao atualizar entrada",unexpectedError:"Erro inesperado ao atualizar entrada",validationError:"Erro de validação nos dados"}});function E4e(){return{showEntryUpdated:()=>{su.showEntryUpdated()},showEntrySaved:()=>{su.showEntrySaved()},showUpdateFailed:i=>{su.showUpdateFailed(i)},showUnexpectedError:()=>{su.showUnexpectedError()},showValidationError:i=>{su.showValidationError(i)},showCustomToast:(i,o)=>{su.showCustom(i,o)}}}function _4e({isOpen:r,onClose:e,entry:t,onSave:n,isAdmin:s}){var R;const[a,i]=b.useState((t==null?void 0:t.status)||"em_analise"),[o,c]=b.useState(""),[d,u]=b.useState(!1),h=S4e((t==null?void 0:t.form_id)||""),{showEntryUpdated:f,showUpdateFailed:p,showUnexpectedError:g}=E4e();b.useEffect(()=>{t&&r&&(i(t.status||"em_analise"),c(""))},[t,r]);const{syncPriceFromValue:m}=eE(),{fields:v,fieldSettings:x,fieldsLoading:y}=v4e(t,r),{formValues:w,validationErrors:k,setValidationErrors:S,updateFormValue:N,clearValidationError:A}=y4e(t,r,v),E=async O=>{O.preventDefault();try{u(!0),S({});const L=await b4e.submitFormEntry({entry:t,status:a,note:o,formValues:w,fields:v,fieldSettings:x,syncPriceFromValue:m});L.success?(console.log("✅ [EntryEditModal] Form submission successful, emitting data sync event"),f(),await h.emitEntrySubmitted(t.id,!0,{status:a,formValues:w,note:o.trim()}),typeof n=="function"&&await n(),e(),console.log("✅ [EntryEditModal] Entry update process completed")):p(L.error)}catch(L){console.error("Unexpected error:",L),g()}finally{u(!1)}};return t?l.jsx(ai,{isOpen:r,onClose:e,className:"max-w-[800px] m-4",children:l.jsxs("div",{className:"relative w-full p-4 overflow-y-auto bg-white no-scrollbar rounded-3xl dark:bg-gray-900 lg:p-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"text-xl font-semibold text-gray-800 dark:text-white/90",children:"Editar Entrada"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:((R=t.form)==null?void 0:R.title)||"Formulário sem título"})]}),y?l.jsx("div",{className:"flex items-center justify-center h-40",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando campos..."})}):l.jsxs("form",{onSubmit:E,className:"space-y-6",children:[l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6",children:[l.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Dados do Formulário"}),l.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[v.map(O=>l.jsx(N4e,{field:O,fieldSettings:x,formValues:w,validationErrors:k,updateFormValue:N,clearValidationError:A,isAdmin:s,fields:v},O.id)),v.length===0&&l.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"Nenhum campo encontrado para este formulário"})]})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6",children:[l.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Status"}),l.jsx(or,{options:[{value:"em_analise",label:"Em Análise"},{value:"verificado",label:"Verificado"},{value:"reprovado",label:"Reprovado"}],value:a,onChange:O=>i(O)})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-gray-800 dark:text-white/90 mb-4",children:"Adicionar Nota"}),l.jsx(tl,{value:o,onChange:c,rows:4,placeholder:"Adicione uma nota sobre esta entrada..."})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[l.jsx(nt,{variant:"outline",onClick:e,disabled:d,children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d,className:"inline-flex items-center justify-center gap-2 rounded-lg transition px-5 py-3.5 text-sm bg-brand-500 text-white shadow-theme-xs hover:bg-brand-600 disabled:bg-brand-300",children:d?"Salvando...":"Salvar Alterações"})]})]})]})}):null}function j4e({forms:r,selectedFormId:e,onSelectForm:t}){return l.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(MR,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white/90",children:"Filtrar Entradas"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-full sm:w-64",children:l.jsx(or,{options:r.map(n=>({value:n.id,label:n.title})),value:e,onChange:t,placeholder:"Selecione um formulário"})}),e&&l.jsx(nt,{variant:"outline",onClick:()=>t(""),className:"whitespace-nowrap",children:"Limpar Filtro"})]})]})}function A4e(r){if(!r)return"-";let e=r;return e=e.replace(/^https?:\/\//,""),e=e.replace(/\/$/,""),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:Vl(r),alt:"Site icon",width:"20",height:"20",className:"flex-shrink-0",onError:t=>{t.target.style.display="none"}}),l.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-gray-800 text-theme-sm dark:text-white/90 hover:underline whitespace-nowrap",children:e})]})}function T4e(r){try{const e=typeof r=="string"?JSON.parse(r):r;if(!e||!e.name)return"-";if(!e.logo)return e.name;const t=P4e(e.logo);return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:t,alt:`${e.name} logo`,className:"w-8 h-8 object-contain",onError:n=>{n.target.style.display="none"}}),l.jsx("span",{className:"text-gray-800 dark:text-white/90 font-medium",children:e.name})]})}catch(e){return console.error("Error rendering brand:",e),(r==null?void 0:r.toString())||"-"}}function P4e(r){if(!r)return"";try{const{data:e}=G.storage.from("brand_logos").getPublicUrl(r);return(e==null?void 0:e.publicUrl)||""}catch(e){return console.error("Error getting brand logo URL:",e),""}}function L4e(r,e){var n;if(!r||Object.keys(r).length===0)return"-";const t=((n=e.form_field_settings)==null?void 0:n.show_percentage)===!0;return l.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(r).map(([s,a])=>l.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 dark:bg-gray-800 rounded px-2 py-1",children:[l.jsx("img",{src:Hp(s),alt:s,width:"20",height:"20",className:`rounded-full ${s==="ROW"?"dark:invert":""}`,onError:i=>{i.target.style.display="none"}}),t?l.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-xs font-medium",children:s}):a?l.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:["(",a,"%)"]}):null]},s))})}function D4e(r,e,t){if(r==null)return"-";if(e==="button_buy")return null;if(e==="url")return A4e(r);if(e==="brand")return T4e(r);if(e==="country"&&typeof r=="object")return L4e(r,t);switch(e){case"file":return Array.isArray(r)?`${r.length} arquivo(s)`:"1 arquivo";case"checkbox":case"multiselect":return Array.isArray(r)?r.join(", "):r;case"toggle":return r?"Sim":"Não";case"product":try{const s=typeof r=="string"?JSON.parse(r):r,a=parseFloat(s.price);if(!isNaN(a))return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a)}catch(s){console.error("Error formatting price:",s)}return r.toString();case"commission":const n=parseFloat(r);return isNaN(n)?r:`${n}%`;case"brazilian_states":if(typeof r=="object"){const{state_name:s,city_names:a,state:i,cities:o}=r;return Array.isArray(a)&&a.length>0?l.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:[s," - ",a.join(", ")]}):Array.isArray(o)&&o.length>0?l.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:[s," - ",o.join(", ")]}):l.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:s||i||"-"})}return r.toString();default:return r.toString()}}const GT={url:"",da:"",preco:""};function M4e({formFields:r,formId:e,userId:t,onSuccess:n}){const[s,a]=b.useState(!1),[i,o]=b.useState(GT),{csvData:c,error:d,parseCsvColumns:u}=GH(),h=g=>{u(g),o(GT)},f=g=>{o(g)},p=()=>{a(!1),n()};return l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>a(!0),className:"shadow-theme-xs flex w-full items-center justify-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-[11px] text-sm font-medium text-gray-700 sm:w-auto dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:"Importar dados de CSV",children:["Importar",l.jsx(CR,{className:"w-5 h-5 fill-current"})]}),l.jsx(YH,{open:s,onClose:()=>a(!1),onCsvUpload:h,csvData:c,mapping:i,onMappingChange:f,formFields:r,formId:e,userId:t||void 0,onSuccess:p}),d&&l.jsx("div",{className:"fixed bottom-4 right-4 p-4 bg-red-50 border border-red-200 rounded-lg shadow-lg",children:l.jsx("div",{className:"text-red-600 text-sm",children:d})})]})}var Js=Uint8Array,ni=Uint16Array,f8=Int32Array,J2=new Js([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),K2=new Js([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),pS=new Js([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ZU=function(r,e){for(var t=new ni(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var s=new f8(t[30]),n=1;n<30;++n)for(var a=t[n];a<t[n+1];++a)s[a]=a-t[n]<<5|n;return{b:t,r:s}},JU=ZU(J2,2),KU=JU.b,gS=JU.r;KU[28]=258,gS[258]=28;var QU=ZU(K2,0),R4e=QU.b,XT=QU.r,mS=new ni(32768);for(var dn=0;dn<32768;++dn){var Ec=(dn&43690)>>1|(dn&21845)<<1;Ec=(Ec&52428)>>2|(Ec&13107)<<2,Ec=(Ec&61680)>>4|(Ec&3855)<<4,mS[dn]=((Ec&65280)>>8|(Ec&255)<<8)>>1}var nl=function(r,e,t){for(var n=r.length,s=0,a=new ni(e);s<n;++s)r[s]&&++a[r[s]-1];var i=new ni(e);for(s=1;s<e;++s)i[s]=i[s-1]+a[s-1]<<1;var o;if(t){o=new ni(1<<e);var c=15-e;for(s=0;s<n;++s)if(r[s])for(var d=s<<4|r[s],u=e-r[s],h=i[r[s]-1]++<<u,f=h|(1<<u)-1;h<=f;++h)o[mS[h]>>c]=d}else for(o=new ni(n),s=0;s<n;++s)r[s]&&(o[s]=mS[i[r[s]-1]++]>>15-r[s]);return o},Nd=new Js(288);for(var dn=0;dn<144;++dn)Nd[dn]=8;for(var dn=144;dn<256;++dn)Nd[dn]=9;for(var dn=256;dn<280;++dn)Nd[dn]=7;for(var dn=280;dn<288;++dn)Nd[dn]=8;var C0=new Js(32);for(var dn=0;dn<32;++dn)C0[dn]=5;var I4e=nl(Nd,9,0),O4e=nl(Nd,9,1),F4e=nl(C0,5,0),B4e=nl(C0,5,1),Z4=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},so=function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},J4=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},p8=function(r){return(r+7)/8|0},e$=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Js(r.subarray(e,t))},z4e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],lo=function(r,e,t){var n=new Error(e||z4e[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,lo),!t)throw n;return n},H4e=function(r,e,t,n){var s=r.length,a=0;if(!s||e.f&&!e.l)return t||new Js(0);var i=!t,o=i||e.i!=2,c=e.i;i&&(t=new Js(s*3));var d=function(Ce){var Se=t.length;if(Ce>Se){var De=new Js(Math.max(Se*2,Ce));De.set(t),t=De}},u=e.f||0,h=e.p||0,f=e.b||0,p=e.l,g=e.d,m=e.m,v=e.n,x=s*8;do{if(!p){u=so(r,h,1);var y=so(r,h+1,3);if(h+=3,y)if(y==1)p=O4e,g=B4e,m=9,v=5;else if(y==2){var N=so(r,h,31)+257,A=so(r,h+10,15)+4,E=N+so(r,h+5,31)+1;h+=14;for(var R=new Js(E),O=new Js(19),L=0;L<A;++L)O[pS[L]]=so(r,h+L*3,7);h+=A*3;for(var D=Z4(O),F=(1<<D)-1,M=nl(O,D,1),L=0;L<E;){var B=M[so(r,h,F)];h+=B&15;var w=B>>4;if(w<16)R[L++]=w;else{var z=0,V=0;for(w==16?(V=3+so(r,h,3),h+=2,z=R[L-1]):w==17?(V=3+so(r,h,7),h+=3):w==18&&(V=11+so(r,h,127),h+=7);V--;)R[L++]=z}}var W=R.subarray(0,N),Z=R.subarray(N);m=Z4(W),v=Z4(Z),p=nl(W,m,1),g=nl(Z,v,1)}else lo(1);else{var w=p8(h)+4,k=r[w-4]|r[w-3]<<8,S=w+k;if(S>s){c&&lo(0);break}o&&d(f+k),t.set(r.subarray(w,S),f),e.b=f+=k,e.p=h=S*8,e.f=u;continue}if(h>x){c&&lo(0);break}}o&&d(f+131072);for(var q=(1<<m)-1,Q=(1<<v)-1,T=h;;T=h){var z=p[J4(r,h)&q],H=z>>4;if(h+=z&15,h>x){c&&lo(0);break}if(z||lo(2),H<256)t[f++]=H;else if(H==256){T=h,p=null;break}else{var $=H-254;if(H>264){var L=H-257,Y=J2[L];$=so(r,h,(1<<Y)-1)+KU[L],h+=Y}var K=g[J4(r,h)&Q],re=K>>4;K||lo(3),h+=K&15;var Z=R4e[re];if(re>3){var Y=K2[re];Z+=J4(r,h)&(1<<Y)-1,h+=Y}if(h>x){c&&lo(0);break}o&&d(f+131072);var oe=f+$;if(f<Z){var ue=a-Z,be=Math.min(Z,oe);for(ue+f<0&&lo(3);f<be;++f)t[f]=n[ue+f]}for(;f<oe;++f)t[f]=t[f-Z]}}e.l=p,e.p=T,e.b=f,e.f=u,p&&(u=1,e.m=m,e.d=g,e.n=v)}while(!u);return f!=t.length&&i?e$(t,0,f):t.subarray(0,f)},_l=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},Fg=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},K4=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var s=t.length,a=t.slice();if(!s)return{t:r$,l:0};if(s==1){var i=new Js(t[0].s+1);return i[t[0].s]=1,{t:i,l:1}}t.sort(function(S,N){return S.f-N.f}),t.push({s:-1,f:25001});var o=t[0],c=t[1],d=0,u=1,h=2;for(t[0]={s:-1,f:o.f+c.f,l:o,r:c};u!=s-1;)o=t[t[d].f<t[h].f?d++:h++],c=t[d!=u&&t[d].f<t[h].f?d++:h++],t[u++]={s:-1,f:o.f+c.f,l:o,r:c};for(var f=a[0].s,n=1;n<s;++n)a[n].s>f&&(f=a[n].s);var p=new ni(f+1),g=xS(t[u-1],p,0);if(g>e){var n=0,m=0,v=g-e,x=1<<v;for(a.sort(function(N,A){return p[A.s]-p[N.s]||N.f-A.f});n<s;++n){var y=a[n].s;if(p[y]>e)m+=x-(1<<g-p[y]),p[y]=e;else break}for(m>>=v;m>0;){var w=a[n].s;p[w]<e?m-=1<<e-p[w]++-1:++n}for(;n>=0&&m;--n){var k=a[n].s;p[k]==e&&(--p[k],++m)}g=e}return{t:new Js(p),l:g}},xS=function(r,e,t){return r.s==-1?Math.max(xS(r.l,e,t+1),xS(r.r,e,t+1)):e[r.s]=t},ZT=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new ni(++e),n=0,s=r[0],a=1,i=function(c){t[n++]=c},o=1;o<=e;++o)if(r[o]==s&&o!=e)++a;else{if(!s&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(s),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(s);a=1,s=r[o]}return{c:t.subarray(0,n),n:e}},Bg=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},t$=function(r,e,t){var n=t.length,s=p8(e+2);r[s]=n&255,r[s+1]=n>>8,r[s+2]=r[s]^255,r[s+3]=r[s+1]^255;for(var a=0;a<n;++a)r[s+a+4]=t[a];return(s+4+n)*8},JT=function(r,e,t,n,s,a,i,o,c,d,u){_l(e,u++,t),++s[256];for(var h=K4(s,15),f=h.t,p=h.l,g=K4(a,15),m=g.t,v=g.l,x=ZT(f),y=x.c,w=x.n,k=ZT(m),S=k.c,N=k.n,A=new ni(19),E=0;E<y.length;++E)++A[y[E]&31];for(var E=0;E<S.length;++E)++A[S[E]&31];for(var R=K4(A,7),O=R.t,L=R.l,D=19;D>4&&!O[pS[D-1]];--D);var F=d+5<<3,M=Bg(s,Nd)+Bg(a,C0)+i,B=Bg(s,f)+Bg(a,m)+i+14+3*D+Bg(A,O)+2*A[16]+3*A[17]+7*A[18];if(c>=0&&F<=M&&F<=B)return t$(e,u,r.subarray(c,c+d));var z,V,W,Z;if(_l(e,u,1+(B<M)),u+=2,B<M){z=nl(f,p,0),V=f,W=nl(m,v,0),Z=m;var q=nl(O,L,0);_l(e,u,w-257),_l(e,u+5,N-1),_l(e,u+10,D-4),u+=14;for(var E=0;E<D;++E)_l(e,u+3*E,O[pS[E]]);u+=3*D;for(var Q=[y,S],T=0;T<2;++T)for(var H=Q[T],E=0;E<H.length;++E){var $=H[E]&31;_l(e,u,q[$]),u+=O[$],$>15&&(_l(e,u,H[E]>>5&127),u+=H[E]>>12)}}else z=I4e,V=Nd,W=F4e,Z=C0;for(var E=0;E<o;++E){var Y=n[E];if(Y>255){var $=Y>>18&31;Fg(e,u,z[$+257]),u+=V[$+257],$>7&&(_l(e,u,Y>>23&31),u+=J2[$]);var K=Y&31;Fg(e,u,W[K]),u+=Z[K],K>3&&(Fg(e,u,Y>>5&8191),u+=K2[K])}else Fg(e,u,z[Y]),u+=V[Y]}return Fg(e,u,z[256]),u+V[256]},U4e=new f8([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),r$=new Js(0),$4e=function(r,e,t,n,s,a){var i=a.z||r.length,o=new Js(n+i+5*(1+Math.ceil(i/7e3))+s),c=o.subarray(n,o.length-s),d=a.l,u=(a.r||0)&7;if(e){u&&(c[0]=a.r>>3);for(var h=U4e[e-1],f=h>>13,p=h&8191,g=(1<<t)-1,m=a.p||new ni(32768),v=a.h||new ni(g+1),x=Math.ceil(t/3),y=2*x,w=function(at){return(r[at]^r[at+1]<<x^r[at+2]<<y)&g},k=new f8(25e3),S=new ni(288),N=new ni(32),A=0,E=0,R=a.i||0,O=0,L=a.w||0,D=0;R+2<i;++R){var F=w(R),M=R&32767,B=v[F];if(m[M]=B,v[F]=M,L<=R){var z=i-R;if((A>7e3||O>24576)&&(z>423||!d)){u=JT(r,c,0,k,S,N,E,O,D,R-D,u),O=A=E=0,D=R;for(var V=0;V<286;++V)S[V]=0;for(var V=0;V<30;++V)N[V]=0}var W=2,Z=0,q=p,Q=M-B&32767;if(z>2&&F==w(R-Q))for(var T=Math.min(f,z)-1,H=Math.min(32767,R),$=Math.min(258,z);Q<=H&&--q&&M!=B;){if(r[R+W]==r[R+W-Q]){for(var Y=0;Y<$&&r[R+Y]==r[R+Y-Q];++Y);if(Y>W){if(W=Y,Z=Q,Y>T)break;for(var K=Math.min(Q,Y-2),re=0,V=0;V<K;++V){var oe=R-Q+V&32767,ue=m[oe],be=oe-ue&32767;be>re&&(re=be,B=oe)}}}M=B,B=m[M],Q+=M-B&32767}if(Z){k[O++]=268435456|gS[W]<<18|XT[Z];var Ce=gS[W]&31,Se=XT[Z]&31;E+=J2[Ce]+K2[Se],++S[257+Ce],++N[Se],L=R+W,++A}else k[O++]=r[R],++S[r[R]]}}for(R=Math.max(R,L);R<i;++R)k[O++]=r[R],++S[r[R]];u=JT(r,c,d,k,S,N,E,O,D,R-D,u),d||(a.r=u&7|c[u/8|0]<<3,u-=7,a.h=v,a.p=m,a.i=R,a.w=L)}else{for(var R=a.w||0;R<i+d;R+=65535){var De=R+65535;De>=i&&(c[u/8|0]=d,De=i),u=t$(c,u+1,r.subarray(R,De))}a.i=i}return e$(o,0,n+p8(u)+s)},n$=function(){var r=1,e=0;return{p:function(t){for(var n=r,s=e,a=t.length|0,i=0;i!=a;){for(var o=Math.min(i+2655,a);i<o;++i)s+=n+=t[i];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}r=n,e=s},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},V4e=function(r,e,t,n,s){if(!s&&(s={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),i=new Js(a.length+r.length);i.set(a),i.set(r,a.length),r=i,s.w=a.length}return $4e(r,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,s)},s$=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},W4e=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var s=n$();s.p(e.dictionary),s$(r,2,s.d())}},q4e=function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&lo(6,"invalid zlib data"),(r[1]>>5&1)==1&&lo(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function vS(r,e){e||(e={});var t=n$();t.p(r);var n=V4e(r,e,e.dictionary?6:2,4);return W4e(n,e),s$(n,n.length-4,t.d()),n}function Y4e(r,e){return H4e(r.subarray(q4e(r),-4),{i:2},e,e)}var G4e=typeof TextDecoder<"u"&&new TextDecoder,X4e=0;try{G4e.decode(r$,{stream:!0}),X4e=1}catch{}var Wt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Q4(){Wt.console&&typeof Wt.console.log=="function"&&Wt.console.log.apply(Wt.console,arguments)}var Xr={log:Q4,warn:function(r){Wt.console&&(typeof Wt.console.warn=="function"?Wt.console.warn.apply(Wt.console,arguments):Q4.call(null,arguments))},error:function(r){Wt.console&&(typeof Wt.console.error=="function"?Wt.console.error.apply(Wt.console,arguments):Q4(r))}};function e3(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){au(n.response,e,t)},n.onerror=function(){Xr.error("could not download file")},n.send()}function KT(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function R1(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Tm,yS,au=Wt.saveAs||((typeof window>"u"?"undefined":zr(window))!=="object"||window!==Wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=Wt.URL||Wt.webkitURL,s=document.createElement("a");e=e||r.name||"download",s.download=e,s.rel="noopener",typeof r=="string"?(s.href=r,s.origin!==location.origin?KT(s.href)?e3(r,e,t):R1(s,s.target="_blank"):R1(s)):(s.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){R1(s)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(KT(r))e3(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){R1(n)})}else navigator.msSaveOrOpenBlob(function(s,a){return a===void 0?a={autoBom:!1}:zr(a)!=="object"&&(Xr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return e3(r,e,t);var s=r.type==="application/octet-stream",a=/constructor/i.test(Wt.HTMLElement)||Wt.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||s&&a)&&(typeof FileReader>"u"?"undefined":zr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=i?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(r)}else{var c=Wt.URL||Wt.webkitURL,d=c.createObjectURL(r);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function a$(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<t.length;n++){var s=t[n].re,a=t[n].process,i=s.exec(r);i&&(e=a(i),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+o+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function t3(r,e){var t=r[0],n=r[1],s=r[2],a=r[3];t=$s(t,n,s,a,e[0],7,-680876936),a=$s(a,t,n,s,e[1],12,-389564586),s=$s(s,a,t,n,e[2],17,606105819),n=$s(n,s,a,t,e[3],22,-1044525330),t=$s(t,n,s,a,e[4],7,-176418897),a=$s(a,t,n,s,e[5],12,1200080426),s=$s(s,a,t,n,e[6],17,-1473231341),n=$s(n,s,a,t,e[7],22,-45705983),t=$s(t,n,s,a,e[8],7,1770035416),a=$s(a,t,n,s,e[9],12,-1958414417),s=$s(s,a,t,n,e[10],17,-42063),n=$s(n,s,a,t,e[11],22,-1990404162),t=$s(t,n,s,a,e[12],7,1804603682),a=$s(a,t,n,s,e[13],12,-40341101),s=$s(s,a,t,n,e[14],17,-1502002290),t=Vs(t,n=$s(n,s,a,t,e[15],22,1236535329),s,a,e[1],5,-165796510),a=Vs(a,t,n,s,e[6],9,-1069501632),s=Vs(s,a,t,n,e[11],14,643717713),n=Vs(n,s,a,t,e[0],20,-373897302),t=Vs(t,n,s,a,e[5],5,-701558691),a=Vs(a,t,n,s,e[10],9,38016083),s=Vs(s,a,t,n,e[15],14,-660478335),n=Vs(n,s,a,t,e[4],20,-405537848),t=Vs(t,n,s,a,e[9],5,568446438),a=Vs(a,t,n,s,e[14],9,-1019803690),s=Vs(s,a,t,n,e[3],14,-187363961),n=Vs(n,s,a,t,e[8],20,1163531501),t=Vs(t,n,s,a,e[13],5,-1444681467),a=Vs(a,t,n,s,e[2],9,-51403784),s=Vs(s,a,t,n,e[7],14,1735328473),t=Ws(t,n=Vs(n,s,a,t,e[12],20,-1926607734),s,a,e[5],4,-378558),a=Ws(a,t,n,s,e[8],11,-2022574463),s=Ws(s,a,t,n,e[11],16,1839030562),n=Ws(n,s,a,t,e[14],23,-35309556),t=Ws(t,n,s,a,e[1],4,-1530992060),a=Ws(a,t,n,s,e[4],11,1272893353),s=Ws(s,a,t,n,e[7],16,-155497632),n=Ws(n,s,a,t,e[10],23,-1094730640),t=Ws(t,n,s,a,e[13],4,681279174),a=Ws(a,t,n,s,e[0],11,-358537222),s=Ws(s,a,t,n,e[3],16,-722521979),n=Ws(n,s,a,t,e[6],23,76029189),t=Ws(t,n,s,a,e[9],4,-640364487),a=Ws(a,t,n,s,e[12],11,-421815835),s=Ws(s,a,t,n,e[15],16,530742520),t=qs(t,n=Ws(n,s,a,t,e[2],23,-995338651),s,a,e[0],6,-198630844),a=qs(a,t,n,s,e[7],10,1126891415),s=qs(s,a,t,n,e[14],15,-1416354905),n=qs(n,s,a,t,e[5],21,-57434055),t=qs(t,n,s,a,e[12],6,1700485571),a=qs(a,t,n,s,e[3],10,-1894986606),s=qs(s,a,t,n,e[10],15,-1051523),n=qs(n,s,a,t,e[1],21,-2054922799),t=qs(t,n,s,a,e[8],6,1873313359),a=qs(a,t,n,s,e[15],10,-30611744),s=qs(s,a,t,n,e[6],15,-1560198380),n=qs(n,s,a,t,e[13],21,1309151649),t=qs(t,n,s,a,e[4],6,-145523070),a=qs(a,t,n,s,e[11],10,-1120210379),s=qs(s,a,t,n,e[2],15,718787259),n=qs(n,s,a,t,e[9],21,-343485551),r[0]=Qc(t,r[0]),r[1]=Qc(n,r[1]),r[2]=Qc(s,r[2]),r[3]=Qc(a,r[3])}function Q2(r,e,t,n,s,a){return e=Qc(Qc(e,r),Qc(n,a)),Qc(e<<s|e>>>32-s,t)}function $s(r,e,t,n,s,a,i){return Q2(e&t|~e&n,r,e,s,a,i)}function Vs(r,e,t,n,s,a,i){return Q2(e&n|t&~n,r,e,s,a,i)}function Ws(r,e,t,n,s,a,i){return Q2(e^t^n,r,e,s,a,i)}function qs(r,e,t,n,s,a,i){return Q2(t^(e|~n),r,e,s,a,i)}function i$(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)t3(n,Z4e(r.substring(e-64,e)));r=r.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)s[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(t3(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,t3(n,s),n}function Z4e(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}Tm=Wt.atob.bind(Wt),yS=Wt.btoa.bind(Wt);var QT="0123456789abcdef".split("");function J4e(r){for(var e="",t=0;t<4;t++)e+=QT[r>>8*t+4&15]+QT[r>>8*t&15];return e}function K4e(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function bS(r){return i$(r).map(K4e).join("")}var Q4e=function(r){for(var e=0;e<r.length;e++)r[e]=J4e(r[e]);return r.join("")}(i$("hello"))!="5d41402abc4b2a76b9719d911017c592";function Qc(r,e){if(Q4e){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function wS(r,e){var t,n,s,a;if(r!==t){for(var i=(s=r,a=1+(256/r.length>>0),new Array(a+1).join(s)),o=[],c=0;c<256;c++)o[c]=c;var d=0;for(c=0;c<256;c++){var u=o[c];d=(d+u+i.charCodeAt(c))%256,o[c]=o[d],o[d]=u}t=r,n=o}else o=n;var h=e.length,f=0,p=0,g="";for(c=0;c<h;c++)p=(p+(u=o[f=(f+1)%256]))%256,o[f]=o[p],o[p]=u,i=o[(o[f]+o[p])%256],g+=String.fromCharCode(e.charCodeAt(c)^i);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var eP={print:4,modify:8,copy:16,"annot-forms":32};function lf(r,e,t,n){this.v=1,this.r=2;var s=192;r.forEach(function(o){if(eP.perm!==void 0)throw new Error("Invalid permission: "+o);s+=eP[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),i=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,i),this.P=-(1+(255^s)),this.encryptionKey=bS(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=wS(this.encryptionKey,this.padding)}function cf(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var s=r.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=r[n]}return e}function tP(r){if(zr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,s){if(s=s||!1,typeof t!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[n,!!s],a},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var a in e[t]){var i=e[t][a];try{i[0].apply(r,n)}catch(o){Wt.console&&Xr.error("jsPDF PubSub Error",o.message,o)}i[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Mb(r){if(!(this instanceof Mb))return new Mb(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function o$(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function hu(r,e,t,n,s){if(!(this instanceof hu))return new hu(r,e,t,n,s);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,o$.call(this,n,s)}function Ef(r,e,t,n,s){if(!(this instanceof Ef))return new Ef(r,e,t,n,s);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,o$.call(this,n,s)}function $t(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],a=arguments[3],i=[],o=1,c=16,d="S",u=null;zr(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,s=r.format||s,a=r.compress||r.compressPdf||a,(u=r.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),d=r.defaultPathOperation||"S"),i=r.filters||(a===!0?["FlateEncode"]:i),n=n||"mm",t=(""+(t||"P")).toLowerCase();var h=r.putOnlyUsedFonts||!1,f={},p={internal:{},__private__:{}};p.__private__.PubSub=tP;var g="1.3",m=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(P){g=P};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var x=p.__private__.getPageFormat=function(P){return v[P]};s=s||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},w=y.COMPAT;function k(){this.saveGraphicsState(),le(new qe(he,0,0,-he,0,dc()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),d="n",w=y.ADVANCED}function S(){this.restoreGraphicsState(),d="S",w=y.COMPAT}var N=p.__private__.combineFontStyleAndFontWeight=function(P,J){if(P=="bold"&&J=="normal"||P=="bold"&&J==400||P=="normal"&&J=="italic"||P=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(P=J==400||J==="normal"?P==="italic"?"italic":"normal":J!=700&&J!=="bold"||P!=="normal"?(J==700?"bold":J)+""+P:"bold"),P};p.advancedAPI=function(P){var J=w===y.COMPAT;return J&&k.call(this),typeof P!="function"||(P(this),J&&S.call(this)),this},p.compatAPI=function(P){var J=w===y.ADVANCED;return J&&S.call(this),typeof P!="function"||(P(this),J&&k.call(this)),this},p.isAdvancedAPI=function(){return w===y.ADVANCED};var A,E=function(P){if(w!==y.ADVANCED)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=p.roundToPrecision=p.__private__.roundToPrecision=function(P,J){var de=e||J;if(isNaN(P)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(de).replace(/0+$/,"")};A=p.hpf=p.__private__.hpf=typeof c=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return R(P,c)}:c==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return R(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return R(P,16)};var O=p.f2=p.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return R(P,2)},L=p.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return R(P,3)},D=p.scale=p.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return w===y.COMPAT?P*he:w===y.ADVANCED?P:void 0},F=function(P){return w===y.COMPAT?dc()-P:w===y.ADVANCED?P:void 0},M=function(P){return D(F(P))};p.__private__.setPrecision=p.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(e=parseInt(P,10))};var B,z="00000000000000000000000000000000",V=p.__private__.getFileId=function(){return z},W=p.__private__.setFileId=function(P){return z=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Bs=new lf(u.userPermissions,u.userPassword,u.ownerPassword,z)),z};p.setFileId=function(P){return W(P),this},p.getFileId=function(){return V()};var Z=p.__private__.convertDateToPDFDate=function(P){var J=P.getTimezoneOffset(),de=J<0?"+":"-",ge=Math.floor(Math.abs(J/60)),Ne=Math.abs(J%60),Be=[de,$(ge),"'",$(Ne),"'"].join("");return["D:",P.getFullYear(),$(P.getMonth()+1),$(P.getDate()),$(P.getHours()),$(P.getMinutes()),$(P.getSeconds()),Be].join("")},q=p.__private__.convertPDFDateToDate=function(P){var J=parseInt(P.substr(2,4),10),de=parseInt(P.substr(6,2),10)-1,ge=parseInt(P.substr(8,2),10),Ne=parseInt(P.substr(10,2),10),Be=parseInt(P.substr(12,2),10),Qe=parseInt(P.substr(14,2),10);return new Date(J,de,ge,Ne,Be,Qe,0)},Q=p.__private__.setCreationDate=function(P){var J;if(P===void 0&&(P=new Date),P instanceof Date)J=Z(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=P}return B=J},T=p.__private__.getCreationDate=function(P){var J=B;return P==="jsDate"&&(J=q(B)),J};p.setCreationDate=function(P){return Q(P),this},p.getCreationDate=function(P){return T(P)};var H,$=p.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},Y=p.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},K=0,re=[],oe=[],ue=0,be=[],Ce=[],Se=!1,De=oe,at=function(){K=0,ue=0,oe=[],re=[],be=[],Dn=Mt(),$n=Mt()};p.__private__.setCustomOutputDestination=function(P){Se=!0,De=P};var _e=function(P){Se||(De=P)};p.__private__.resetCustomOutputDestination=function(){Se=!1,De=oe};var le=p.__private__.out=function(P){return P=P.toString(),ue+=P.length+1,De.push(P),De},ut=p.__private__.write=function(P){return le(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},rt=p.__private__.getArrayBuffer=function(P){for(var J=P.length,de=new ArrayBuffer(J),ge=new Uint8Array(de);J--;)ge[J]=P.charCodeAt(J);return de},je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return je};var fe=r.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(P){return fe=w===y.ADVANCED?P/he:P,this};var Re,He=p.__private__.getFontSize=p.getFontSize=function(){return w===y.COMPAT?fe:fe*he},it=r.R2L||!1;p.__private__.setR2L=p.setR2L=function(P){return it=P,this},p.__private__.getR2L=p.getR2L=function(){return it};var Le,ze=p.__private__.setZoomMode=function(P){var J=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))Re=P;else if(isNaN(P)){if(J.indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');Re=P}else Re=parseInt(P,10)};p.__private__.getZoomMode=function(){return Re};var Fe,Ze=p.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');Le=P};p.__private__.getPageMode=function(){return Le};var ft=p.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');Fe=P};p.__private__.getLayoutMode=function(){return Fe},p.__private__.setDisplayMode=p.setDisplayMode=function(P,J,de){return ze(P),ft(J),Ze(de),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(P){if(Object.keys(xt).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[P]},p.__private__.getDocumentProperties=function(){return xt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(P){for(var J in xt)xt.hasOwnProperty(J)&&P[J]&&(xt[J]=P[J]);return this},p.__private__.setDocumentProperty=function(P,J){if(Object.keys(xt).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[P]=J};var Ae,he,mt,$e,pt,Ue={},yt={},ir=[],qt={},Yr={},Nr={},Jr={},Er=null,tr=0,ne=[],ie=new tP(p),ve=r.hotfixes||[],Ee={},Xe={},ct=[],qe=function P(J,de,ge,Ne,Be,Qe){if(!(this instanceof P))return new P(J,de,ge,Ne,Be,Qe);isNaN(J)&&(J=1),isNaN(de)&&(de=0),isNaN(ge)&&(ge=0),isNaN(Ne)&&(Ne=1),isNaN(Be)&&(Be=0),isNaN(Qe)&&(Qe=0),this._matrix=[J,de,ge,Ne,Be,Qe]};Object.defineProperty(qe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(qe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(qe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(qe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(qe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(qe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(qe.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(qe.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(qe.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(qe.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(qe.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(qe.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(qe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(qe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(qe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(qe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),qe.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(P)},qe.prototype.multiply=function(P){var J=P.sx*this.sx+P.shy*this.shx,de=P.sx*this.shy+P.shy*this.sy,ge=P.shx*this.sx+P.sy*this.shx,Ne=P.shx*this.shy+P.sy*this.sy,Be=P.tx*this.sx+P.ty*this.shx+this.tx,Qe=P.tx*this.shy+P.ty*this.sy+this.ty;return new qe(J,de,ge,Ne,Be,Qe)},qe.prototype.decompose=function(){var P=this.sx,J=this.shy,de=this.shx,ge=this.sy,Ne=this.tx,Be=this.ty,Qe=Math.sqrt(P*P+J*J),St=(P/=Qe)*de+(J/=Qe)*ge;de-=P*St,ge-=J*St;var It=Math.sqrt(de*de+ge*ge);return St/=It,P*(ge/=It)<J*(de/=It)&&(P=-P,J=-J,St=-St,Qe=-Qe),{scale:new qe(Qe,0,0,It,0,0),translate:new qe(1,0,0,1,Ne,Be),rotate:new qe(P,J,-J,P,0,0),skew:new qe(1,0,St,1,0,0)}},qe.prototype.toString=function(P){return this.join(" ")},qe.prototype.inversed=function(){var P=this.sx,J=this.shy,de=this.shx,ge=this.sy,Ne=this.tx,Be=this.ty,Qe=1/(P*ge-J*de),St=ge*Qe,It=-J*Qe,Jt=-de*Qe,Xt=P*Qe;return new qe(St,It,Jt,Xt,-St*Ne-Jt*Be,-It*Ne-Xt*Be)},qe.prototype.applyToPoint=function(P){var J=P.x*this.sx+P.y*this.shx+this.tx,de=P.x*this.shy+P.y*this.sy+this.ty;return new Eh(J,de)},qe.prototype.applyToRectangle=function(P){var J=this.applyToPoint(P),de=this.applyToPoint(new Eh(P.x+P.w,P.y+P.h));return new rg(J.x,J.y,de.x-J.x,de.y-J.y)},qe.prototype.clone=function(){var P=this.sx,J=this.shy,de=this.shx,ge=this.sy,Ne=this.tx,Be=this.ty;return new qe(P,J,de,ge,Ne,Be)},p.Matrix=qe;var gt=p.matrixMult=function(P,J){return J.multiply(P)},Tt=new qe(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Tt;var Ke=function(P,J){if(!Yr[P]){var de=(J instanceof hu?"Sh":"P")+(Object.keys(qt).length+1).toString(10);J.id=de,Yr[P]=de,qt[de]=J,ie.publish("addPattern",J)}};p.ShadingPattern=hu,p.TilingPattern=Ef,p.addShadingPattern=function(P,J){return E("addShadingPattern()"),Ke(P,J),this},p.beginTilingPattern=function(P){E("beginTilingPattern()"),gx(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},p.endTilingPattern=function(P,J){E("endTilingPattern()"),J.stream=Ce[H].join(`
`),Ke(P,J),ie.publish("endTilingPattern",J),ct.pop().restore()};var bt=p.__private__.newObject=function(){var P=Mt();return lr(P,!0),P},Mt=p.__private__.newObjectDeferred=function(){return K++,re[K]=function(){return ue},K},lr=function(P,J){return J=typeof J=="boolean"&&J,re[P]=ue,J&&le(P+" 0 obj"),P},Tr=p.__private__.newAdditionalObject=function(){var P={objId:Mt(),content:""};return be.push(P),P},Dn=Mt(),$n=Mt(),ra=p.__private__.decodeColorString=function(P){var J=P.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length===5&&(J[4]==="k"||J[4]==="K")&&(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var de=parseFloat(J[0]);J=[de,de,de,"r"]}for(var ge="#",Ne=0;Ne<3;Ne++)ge+=("0"+Math.floor(255*parseFloat(J[Ne])).toString(16)).slice(-2);return ge},Ss=p.__private__.encodeColorString=function(P){var J;typeof P=="string"&&(P={ch1:P});var de=P.ch1,ge=P.ch2,Ne=P.ch3,Be=P.ch4,Qe=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var St=new a$(de);if(St.ok)de=St.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var It=parseInt(de.substr(1),16);de=It>>16&255,ge=It>>8&255,Ne=255&It}if(ge===void 0||Be===void 0&&de===ge&&ge===Ne)if(typeof de=="string")J=de+" "+Qe[0];else switch(P.precision){case 2:J=O(de/255)+" "+Qe[0];break;case 3:default:J=L(de/255)+" "+Qe[0]}else if(Be===void 0||zr(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return J=["1.","1.","1.",Qe[1]].join(" ");if(typeof de=="string")J=[de,ge,Ne,Qe[1]].join(" ");else switch(P.precision){case 2:J=[O(de/255),O(ge/255),O(Ne/255),Qe[1]].join(" ");break;default:case 3:J=[L(de/255),L(ge/255),L(Ne/255),Qe[1]].join(" ")}}else if(typeof de=="string")J=[de,ge,Ne,Be,Qe[2]].join(" ");else switch(P.precision){case 2:J=[O(de),O(ge),O(Ne),O(Be),Qe[2]].join(" ");break;case 3:default:J=[L(de),L(ge),L(Ne),L(Be),Qe[2]].join(" ")}return J},Ha=p.__private__.getFilters=function(){return i},gr=p.__private__.putStream=function(P){var J=(P=P||{}).data||"",de=P.filters||Ha(),ge=P.alreadyAppliedFilters||[],Ne=P.addLength1||!1,Be=J.length,Qe=P.objectId,St=function(zs){return zs};if(u!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(St=Bs.encryptor(Qe,0));var It={};de===!0&&(de=["FlateEncode"]);var Jt=P.additionalKeyValues||[],Xt=(It=$t.API.processDataByFilters!==void 0?$t.API.processDataByFilters(J,de):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(It.data.length!==0&&(Jt.push({key:"Length",value:It.data.length}),Ne===!0&&Jt.push({key:"Length1",value:Be})),Xt.length!=0)if(Xt.split("/").length-1==1)Jt.push({key:"Filter",value:Xt});else{Jt.push({key:"Filter",value:"["+Xt+"]"});for(var vr=0;vr<Jt.length;vr+=1)if(Jt[vr].key==="DecodeParms"){for(var mn=[],Cn=0;Cn<It.reverseChain.split("/").length-1;Cn+=1)mn.push("null");mn.push(Jt[vr].value),Jt[vr].value="["+mn.join(" ")+"]"}}le("<<");for(var qn=0;qn<Jt.length;qn++)le("/"+Jt[qn].key+" "+Jt[qn].value);le(">>"),It.data.length!==0&&(le("stream"),le(St(It.data)),le("endstream"))},Ua=p.__private__.putPage=function(P){var J=P.number,de=P.data,ge=P.objId,Ne=P.contentsObjId;lr(ge,!0),le("<</Type /Page"),le("/Parent "+P.rootDictionaryObjId+" 0 R"),le("/Resources "+P.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(A(P.mediaBox.bottomLeftX))+" "+parseFloat(A(P.mediaBox.bottomLeftY))+" "+A(P.mediaBox.topRightX)+" "+A(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&le("/CropBox ["+A(P.cropBox.bottomLeftX)+" "+A(P.cropBox.bottomLeftY)+" "+A(P.cropBox.topRightX)+" "+A(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&le("/BleedBox ["+A(P.bleedBox.bottomLeftX)+" "+A(P.bleedBox.bottomLeftY)+" "+A(P.bleedBox.topRightX)+" "+A(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&le("/TrimBox ["+A(P.trimBox.bottomLeftX)+" "+A(P.trimBox.bottomLeftY)+" "+A(P.trimBox.topRightX)+" "+A(P.trimBox.topRightY)+"]"),P.artBox!==null&&le("/ArtBox ["+A(P.artBox.bottomLeftX)+" "+A(P.artBox.bottomLeftY)+" "+A(P.artBox.topRightX)+" "+A(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&le("/UserUnit "+P.userUnit),ie.publish("putPage",{objId:ge,pageContext:ne[J],pageNumber:J,page:de}),le("/Contents "+Ne+" 0 R"),le(">>"),le("endobj");var Be=de.join(`
`);return w===y.ADVANCED&&(Be+=`
Q`),lr(Ne,!0),gr({data:Be,filters:Ha(),objectId:Ne}),le("endobj"),ge},xi=p.__private__.putPages=function(){var P,J,de=[];for(P=1;P<=tr;P++)ne[P].objId=Mt(),ne[P].contentsObjId=Mt();for(P=1;P<=tr;P++)de.push(Ua({number:P,data:Ce[P],objId:ne[P].objId,contentsObjId:ne[P].contentsObjId,mediaBox:ne[P].mediaBox,cropBox:ne[P].cropBox,bleedBox:ne[P].bleedBox,trimBox:ne[P].trimBox,artBox:ne[P].artBox,userUnit:ne[P].userUnit,rootDictionaryObjId:Dn,resourceDictionaryObjId:$n}));lr(Dn,!0),le("<</Type /Pages");var ge="/Kids [";for(J=0;J<tr;J++)ge+=de[J]+" 0 R ";le(ge+"]"),le("/Count "+tr),le(">>"),le("endobj"),ie.publish("postPutPages")},vi=function(P){ie.publish("putFont",{font:P,out:le,newObject:bt,putStream:gr}),P.isAlreadyPutted!==!0&&(P.objectNumber=bt(),le("<<"),le("/Type /Font"),le("/BaseFont /"+cf(P.postScriptName)),le("/Subtype /Type1"),typeof P.encoding=="string"&&le("/Encoding /"+P.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},na=function(){for(var P in Ue)Ue.hasOwnProperty(P)&&(h===!1||h===!0&&f.hasOwnProperty(P))&&vi(Ue[P])},Ji=function(P){P.objectNumber=bt();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[A(P.x),A(P.y),A(P.x+P.width),A(P.y+P.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var de=P.pages[1].join(`
`);gr({data:de,additionalKeyValues:J,objectId:P.objectNumber}),le("endobj")},yi=function(){for(var P in Ee)Ee.hasOwnProperty(P)&&Ji(Ee[P])},Ns=function(P,J){var de,ge=[],Ne=1/(J-1);for(de=0;de<1;de+=Ne)ge.push(de);if(ge.push(1),P[0].offset!=0){var Be={offset:0,color:P[0].color};P.unshift(Be)}if(P[P.length-1].offset!=1){var Qe={offset:1,color:P[P.length-1].color};P.push(Qe)}for(var St="",It=0,Jt=0;Jt<ge.length;Jt++){for(de=ge[Jt];de>P[It+1].offset;)It++;var Xt=P[It].offset,vr=(de-Xt)/(P[It+1].offset-Xt),mn=P[It].color,Cn=P[It+1].color;St+=Y(Math.round((1-vr)*mn[0]+vr*Cn[0]).toString(16))+Y(Math.round((1-vr)*mn[1]+vr*Cn[1]).toString(16))+Y(Math.round((1-vr)*mn[2]+vr*Cn[2]).toString(16))}return St.trim()},ul=function(P,J){J||(J=21);var de=bt(),ge=Ns(P.colors,J),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+J+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),gr({data:ge,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),le("endobj"),P.objectNumber=bt(),le("<< /ShadingType "+P.type),le("/ColorSpace /DeviceRGB");var Be="/Coords ["+A(parseFloat(P.coords[0]))+" "+A(parseFloat(P.coords[1]))+" ";P.type===2?Be+=A(parseFloat(P.coords[2]))+" "+A(parseFloat(P.coords[3])):Be+=A(parseFloat(P.coords[2]))+" "+A(parseFloat(P.coords[3]))+" "+A(parseFloat(P.coords[4]))+" "+A(parseFloat(P.coords[5])),le(Be+="]"),P.matrix&&le("/Matrix ["+P.matrix.toString()+"]"),le("/Function "+de+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},Vn=function(P,J){var de=Mt(),ge=bt();J.push({resourcesOid:de,objectOid:ge}),P.objectNumber=ge;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+P.boundingBox.map(A).join(" ")+"]"}),Ne.push({key:"XStep",value:A(P.xStep)}),Ne.push({key:"YStep",value:A(P.yStep)}),Ne.push({key:"Resources",value:de+" 0 R"}),P.matrix&&Ne.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),gr({data:P.stream,additionalKeyValues:Ne,objectId:P.objectNumber}),le("endobj")},hl=function(P){var J;for(J in qt)qt.hasOwnProperty(J)&&(qt[J]instanceof hu?ul(qt[J]):qt[J]instanceof Ef&&Vn(qt[J],P))},Ur=function(P){for(var J in P.objectNumber=bt(),le("<<"),P)switch(J){case"opacity":le("/ca "+O(P[J]));break;case"stroke-opacity":le("/CA "+O(P[J]))}le(">>"),le("endobj")},Wn=function(){var P;for(P in Nr)Nr.hasOwnProperty(P)&&Ur(Nr[P])},fl=function(){for(var P in le("/XObject <<"),Ee)Ee.hasOwnProperty(P)&&Ee[P].objectNumber>=0&&le("/"+P+" "+Ee[P].objectNumber+" 0 R");ie.publish("putXobjectDict"),le(">>")},va=function(){Bs.oid=bt(),le("<<"),le("/Filter /Standard"),le("/V "+Bs.v),le("/R "+Bs.r),le("/U <"+Bs.toHexString(Bs.U)+">"),le("/O <"+Bs.toHexString(Bs.O)+">"),le("/P "+Bs.P),le(">>"),le("endobj")},$a=function(){for(var P in le("/Font <<"),Ue)Ue.hasOwnProperty(P)&&(h===!1||h===!0&&f.hasOwnProperty(P))&&le("/"+P+" "+Ue[P].objectNumber+" 0 R");le(">>")},Va=function(){if(Object.keys(qt).length>0){for(var P in le("/Shading <<"),qt)qt.hasOwnProperty(P)&&qt[P]instanceof hu&&qt[P].objectNumber>=0&&le("/"+P+" "+qt[P].objectNumber+" 0 R");ie.publish("putShadingPatternDict"),le(">>")}},Ro=function(P){if(Object.keys(qt).length>0){for(var J in le("/Pattern <<"),qt)qt.hasOwnProperty(J)&&qt[J]instanceof p.TilingPattern&&qt[J].objectNumber>=0&&qt[J].objectNumber<P&&le("/"+J+" "+qt[J].objectNumber+" 0 R");ie.publish("putTilingPatternDict"),le(">>")}},Rd=function(){if(Object.keys(Nr).length>0){var P;for(P in le("/ExtGState <<"),Nr)Nr.hasOwnProperty(P)&&Nr[P].objectNumber>=0&&le("/"+P+" "+Nr[P].objectNumber+" 0 R");ie.publish("putGStateDict"),le(">>")}},an=function(P){lr(P.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),$a(),Va(),Ro(P.objectOid),Rd(),fl(),le(">>"),le("endobj")},bi=function(){var P=[];na(),Wn(),yi(),hl(P),ie.publish("putResources"),P.forEach(an),an({resourcesOid:$n,objectOid:Number.MAX_SAFE_INTEGER}),ie.publish("postPutResources")},tx=function(){ie.publish("putAdditionalObjects");for(var P=0;P<be.length;P++){var J=be[P];lr(J.objId,!0),le(J.content),le("endobj")}ie.publish("postPutAdditionalObjects")},rx=function(P){yt[P.fontName]=yt[P.fontName]||{},yt[P.fontName][P.fontStyle]=P.id},Yp=function(P,J,de,ge,Ne){var Be={id:"F"+(Object.keys(Ue).length+1).toString(10),postScriptName:P,fontName:J,fontStyle:de,encoding:ge,isStandardFont:Ne||!1,metadata:{}};return ie.publish("addFont",{font:Be,instance:this}),Ue[Be.id]=Be,rx(Be),Be.id},tw=function(P){for(var J=0,de=je.length;J<de;J++){var ge=Yp.call(this,P[J][0],P[J][1],P[J][2],je[J][3],!0);h===!1&&(f[ge]=!0);var Ne=P[J][0].split("-");rx({id:ge,fontName:Ne[0],fontStyle:Ne[1]||""})}ie.publish("addFonts",{fonts:Ue,dictionary:yt})},Ki=function(P){return P.foo=function(){try{return P.apply(this,arguments)}catch(ge){var J=ge.stack||"";~J.indexOf(" at ")&&(J=J.split(" at ")[1]);var de="Error in function "+J.split(`
`)[0].split("<")[0]+": "+ge.message;if(!Wt.console)throw new Error(de);Wt.console.error(de,ge),Wt.alert&&alert(de)}},P.foo.bar=P,P.foo},bh=function(P,J){var de,ge,Ne,Be,Qe,St,It,Jt,Xt;if(Ne=(J=J||{}).sourceEncoding||"Unicode",Qe=J.outputEncoding,(J.autoencode||Qe)&&Ue[Ae].metadata&&Ue[Ae].metadata[Ne]&&Ue[Ae].metadata[Ne].encoding&&(Be=Ue[Ae].metadata[Ne].encoding,!Qe&&Ue[Ae].encoding&&(Qe=Ue[Ae].encoding),!Qe&&Be.codePages&&(Qe=Be.codePages[0]),typeof Qe=="string"&&(Qe=Be[Qe]),Qe)){for(It=!1,St=[],de=0,ge=P.length;de<ge;de++)(Jt=Qe[P.charCodeAt(de)])?St.push(String.fromCharCode(Jt)):St.push(P[de]),St[de].charCodeAt(0)>>8&&(It=!0);P=St.join("")}for(de=P.length;It===void 0&&de!==0;)P.charCodeAt(de-1)>>8&&(It=!0),de--;if(!It)return P;for(St=J.noBOM?[]:[254,255],de=0,ge=P.length;de<ge;de++){if((Xt=(Jt=P.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+P+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");St.push(Xt),St.push(Jt-(Xt<<8))}return String.fromCharCode.apply(void 0,St)},ya=p.__private__.pdfEscape=p.pdfEscape=function(P,J){return bh(P,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gp=p.__private__.beginPage=function(P){Ce[++tr]=[],ne[tr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},sx(tr),_e(Ce[H])},nx=function(P,J){var de,ge,Ne;switch(t=J||t,typeof P=="string"&&(de=x(P.toLowerCase()),Array.isArray(de)&&(ge=de[0],Ne=de[1])),Array.isArray(P)&&(ge=P[0]*he,Ne=P[1]*he),isNaN(ge)&&(ge=s[0],Ne=s[1]),(ge>14400||Ne>14400)&&(Xr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Ne=Math.min(14400,Ne)),s=[ge,Ne],t.substr(0,1)){case"l":Ne>ge&&(s=[Ne,ge]);break;case"p":ge>Ne&&(s=[Ne,ge])}Gp(s),dx(Kp),le(Qi),eg!==0&&le(eg+" J"),tg!==0&&le(tg+" j"),ie.publish("addPage",{pageNumber:tr})},rw=function(P){P>0&&P<=tr&&(Ce.splice(P,1),ne.splice(P,1),tr--,H>tr&&(H=tr),this.setPage(H))},sx=function(P){P>0&&P<=tr&&(H=P)},nw=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ce.length-1},ax=function(P,J,de){var ge,Ne=void 0;return de=de||{},P=P!==void 0?P:Ue[Ae].fontName,J=J!==void 0?J:Ue[Ae].fontStyle,ge=P.toLowerCase(),yt[ge]!==void 0&&yt[ge][J]!==void 0?Ne=yt[ge][J]:yt[P]!==void 0&&yt[P][J]!==void 0?Ne=yt[P][J]:de.disableWarning===!1&&Xr.warn("Unable to look up font label for font '"+P+"', '"+J+"'. Refer to getFontList() for available fonts."),Ne||de.noFallback||(Ne=yt.times[J])==null&&(Ne=yt.times.normal),Ne},sw=p.__private__.putInfo=function(){var P=bt(),J=function(ge){return ge};for(var de in u!==null&&(J=Bs.encryptor(P,0)),le("<<"),le("/Producer ("+ya(J("jsPDF "+$t.version))+")"),xt)xt.hasOwnProperty(de)&&xt[de]&&le("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+ya(J(xt[de]))+")");le("/CreationDate ("+ya(J(B))+")"),le(">>"),le("endobj")},Xp=p.__private__.putCatalog=function(P){var J=(P=P||{}).rootDictionaryObjId||Dn;switch(bt(),le("<<"),le("/Type /Catalog"),le("/Pages "+J+" 0 R"),Re||(Re="fullwidth"),Re){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+Re;de.substr(de.length-1)==="%"&&(Re=parseInt(Re)/100),typeof Re=="number"&&le("/OpenAction [3 0 R /XYZ null null "+O(Re)+"]")}switch(Fe||(Fe="continuous"),Fe){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}Le&&le("/PageMode /"+Le),ie.publish("putCatalog"),le(">>"),le("endobj")},aw=p.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(K+1)),le("/Root "+K+" 0 R"),le("/Info "+(K-1)+" 0 R"),u!==null&&le("/Encrypt "+Bs.oid+" 0 R"),le("/ID [ <"+z+"> <"+z+"> ]"),le(">>")},iw=p.__private__.putHeader=function(){le("%PDF-"+g),le("%ºß¬à")},ow=p.__private__.putXRef=function(){var P="0000000000";le("xref"),le("0 "+(K+1)),le("0000000000 65535 f ");for(var J=1;J<=K;J++)typeof re[J]=="function"?le((P+re[J]()).slice(-10)+" 00000 n "):re[J]!==void 0?le((P+re[J]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},pl=p.__private__.buildDocument=function(){at(),_e(oe),ie.publish("buildDocument"),iw(),xi(),tx(),bi(),u!==null&&va(),sw(),Xp();var P=ue;return ow(),aw(),le("startxref"),le(""+P),le("%%EOF"),_e(Ce[H]),oe.join(`
`)},wh=p.__private__.getBlob=function(P){return new Blob([rt(P)],{type:"application/pdf"})},kh=p.output=p.__private__.output=Ki(function(P,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",P){case void 0:return pl();case"save":p.save(J.filename);break;case"arraybuffer":return rt(pl());case"blob":return wh(pl());case"bloburi":case"bloburl":if(Wt.URL!==void 0&&typeof Wt.URL.createObjectURL=="function")return Wt.URL&&Wt.URL.createObjectURL(wh(pl()))||void 0;Xr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",ge=pl();try{de=yS(ge)}catch{de=yS(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+J.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Ne=J.pdfObjectUrl,Be="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",St=Wt.open();return St!==null&&St.document.write(Qe),St}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',Jt=Wt.open();if(Jt!==null){Jt.document.write(It);var Xt=this;Jt.document.documentElement.querySelector("#pdfViewer").onload=function(){Jt.document.title=J.filename,Jt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Xt.output("bloburl"))}}return Jt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var vr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',mn=Wt.open();if(mn!==null&&(mn.document.write(vr),mn.document.title=J.filename),mn||typeof safari>"u")return mn;break;case"datauri":case"dataurl":return Wt.document.location.href=this.output("datauristring",J);default:return null}}),ix=function(P){return Array.isArray(ve)===!0&&ve.indexOf(P)>-1};switch(n){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=ix("px_scaling")==1?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);he=n}var Bs=null;Q(),W();var lw=function(P){return u!==null?Bs.encryptor(P,0):function(J){return J}},ox=p.__private__.getPageInfo=p.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ne[P].objId,pageNumber:P,pageContext:ne[P]}},Yt=p.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in ne)if(ne[J].objId===P)break;return ox(J)},cw=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ne[H].objId,pageNumber:H,pageContext:ne[H]}};p.addPage=function(){return nx.apply(this,arguments),this},p.setPage=function(){return sx.apply(this,arguments),_e.call(this,Ce[H]),this},p.insertPage=function(P){return this.addPage(),this.movePage(H,P),this},p.movePage=function(P,J){var de,ge;if(P>J){de=Ce[P],ge=ne[P];for(var Ne=P;Ne>J;Ne--)Ce[Ne]=Ce[Ne-1],ne[Ne]=ne[Ne-1];Ce[J]=de,ne[J]=ge,this.setPage(J)}else if(P<J){de=Ce[P],ge=ne[P];for(var Be=P;Be<J;Be++)Ce[Be]=Ce[Be+1],ne[Be]=ne[Be+1];Ce[J]=de,ne[J]=ge,this.setPage(J)}return this},p.deletePage=function(){return rw.apply(this,arguments),this},p.__private__.text=p.text=function(P,J,de,ge,Ne){var Be,Qe,St,It,Jt,Xt,vr,mn,Cn,qn=(ge=ge||{}).scope||this;if(typeof P=="number"&&typeof J=="number"&&(typeof de=="string"||Array.isArray(de))){var zs=de;de=J,J=P,P=zs}if(arguments[3]instanceof qe?(E("The transform parameter of text() with a Matrix value"),Cn=Ne):(St=arguments[4],It=arguments[5],zr(vr=arguments[3])==="object"&&vr!==null||(typeof St=="string"&&(It=St,St=null),typeof vr=="string"&&(It=vr,vr=null),typeof vr=="number"&&(St=vr,vr=null),ge={flags:vr,angle:St,align:It})),isNaN(J)||isNaN(de)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return qn;var ds="",eo=!1,Wa=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:Od,Fo=qn.internal.scaleFactor;function mx(Kr){return Kr=Kr.split("	").join(Array(ge.TabLen||9).join(" ")),ya(Kr,vr)}function ig(Kr){for(var Qr,Rn=Kr.concat(),rs=[],yl=Rn.length;yl--;)typeof(Qr=Rn.shift())=="string"?rs.push(Qr):Array.isArray(Kr)&&(Qr.length===1||Qr[1]===void 0&&Qr[2]===void 0)?rs.push(Qr[0]):rs.push([Qr[0],Qr[1],Qr[2]]);return rs}function og(Kr,Qr){var Rn;if(typeof Kr=="string")Rn=Qr(Kr)[0];else if(Array.isArray(Kr)){for(var rs,yl,gg=Kr.concat(),Oh=[],wx=gg.length;wx--;)typeof(rs=gg.shift())=="string"?Oh.push(Qr(rs)[0]):Array.isArray(rs)&&typeof rs[0]=="string"&&(yl=Qr(rs[0],rs[1],rs[2]),Oh.push([yl[0],yl[1],yl[2]]));Rn=Oh}return Rn}var jh=!1,lg=!0;if(typeof P=="string")jh=!0;else if(Array.isArray(P)){var cg=P.concat();Qe=[];for(var Ah,Es=cg.length;Es--;)(typeof(Ah=cg.shift())!="string"||Array.isArray(Ah)&&typeof Ah[0]!="string")&&(lg=!1);jh=lg}if(jh===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var Th=fe/qn.internal.scaleFactor,Ph=Th*(Wa-1);switch(ge.baseline){case"bottom":de-=Ph;break;case"top":de+=Th-Ph;break;case"hanging":de+=Th-2*Ph;break;case"middle":de+=Th/2-Ph}if((Xt=ge.maxWidth||0)>0&&(typeof P=="string"?P=qn.splitTextToSize(P,Xt):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(Kr,Qr){return Kr.concat(qn.splitTextToSize(Qr,Xt))},[]))),Be={text:P,x:J,y:de,options:ge,mutex:{pdfEscape:ya,activeFontKey:Ae,fonts:Ue,activeFontSize:fe}},ie.publish("preProcessText",Be),P=Be.text,St=(ge=Be.options).angle,!(Cn instanceof qe)&&St&&typeof St=="number"){St*=Math.PI/180,ge.rotationDirection===0&&(St=-St),w===y.ADVANCED&&(St=-St);var Lh=Math.cos(St),dg=Math.sin(St);Cn=new qe(Lh,dg,-dg,Lh,0,0)}else St&&St instanceof qe&&(Cn=St);w!==y.ADVANCED||Cn||(Cn=Tt),(Jt=ge.charSpace||Nh)!==void 0&&(ds+=A(D(Jt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(mn=ge.horizontalScale)!==void 0&&(ds+=A(100*mn)+` Tz
`),ge.lang;var ba=-1,yw=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,ug=qn.internal.getCurrentPageInfo().pageContext;switch(yw){case 0:case!1:case"fill":ba=0;break;case 1:case!0:case"stroke":ba=1;break;case 2:case"fillThenStroke":ba=2;break;case 3:case"invisible":ba=3;break;case 4:case"fillAndAddForClipping":ba=4;break;case 5:case"strokeAndAddPathForClipping":ba=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ba=6;break;case 7:case"addToPathForClipping":ba=7}var xx=ug.usedRenderingMode!==void 0?ug.usedRenderingMode:-1;ba!==-1?ds+=ba+` Tr
`:xx!==-1&&(ds+=`0 Tr
`),ba!==-1&&(ug.usedRenderingMode=ba),It=ge.align||"left";var wi,Dh=fe*Wa,vx=qn.internal.pageSize.getWidth(),yx=Ue[Ae];Jt=ge.charSpace||Nh,Xt=ge.maxWidth||0,vr=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var uc=[],zd=function(Kr){return qn.getStringUnitWidth(Kr,{font:yx,charSpace:Jt,fontSize:fe,doKerning:!1})*fe/Fo};if(Object.prototype.toString.call(P)==="[object Array]"){var wa;Qe=ig(P),It!=="left"&&(wi=Qe.map(zd));var sa,hc=0;if(It==="right"){J-=wi[0],P=[],Es=Qe.length;for(var ml=0;ml<Es;ml++)ml===0?(sa=Oo(J),wa=gl(de)):(sa=D(hc-wi[ml]),wa=-Dh),P.push([Qe[ml],sa,wa]),hc=wi[ml]}else if(It==="center"){J-=wi[0]/2,P=[],Es=Qe.length;for(var xl=0;xl<Es;xl++)xl===0?(sa=Oo(J),wa=gl(de)):(sa=D((hc-wi[xl])/2),wa=-Dh),P.push([Qe[xl],sa,wa]),hc=wi[xl]}else if(It==="left"){P=[],Es=Qe.length;for(var Mh=0;Mh<Es;Mh++)P.push(Qe[Mh])}else if(It==="justify"&&yx.encoding==="Identity-H"){P=[],Es=Qe.length,Xt=Xt!==0?Xt:vx;for(var vl=0,Mn=0;Mn<Es;Mn++)if(wa=Mn===0?gl(de):-Dh,sa=Mn===0?Oo(J):vl,Mn<Es-1){var hg=D((Xt-wi[Mn])/(Qe[Mn].split(" ").length-1)),aa=Qe[Mn].split(" ");P.push([aa[0]+" ",sa,wa]),vl=0;for(var ki=1;ki<aa.length;ki++){var Rh=(zd(aa[ki-1]+" "+aa[ki])-zd(aa[ki]))*Fo+hg;ki==aa.length-1?P.push([aa[ki],Rh,0]):P.push([aa[ki]+" ",Rh,0]),vl-=Rh}}else P.push([Qe[Mn],sa,wa]);P.push(["",vl,0])}else{if(It!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Es=Qe.length,Xt=Xt!==0?Xt:vx,Mn=0;Mn<Es;Mn++)wa=Mn===0?gl(de):-Dh,sa=Mn===0?Oo(J):0,Mn<Es-1?uc.push(A(D((Xt-wi[Mn])/(Qe[Mn].split(" ").length-1)))):uc.push(0),P.push([Qe[Mn],sa,wa])}}var bx=typeof ge.R2L=="boolean"?ge.R2L:it;bx===!0&&(P=og(P,function(Kr,Qr,Rn){return[Kr.split("").reverse().join(""),Qr,Rn]})),Be={text:P,x:J,y:de,options:ge,mutex:{pdfEscape:ya,activeFontKey:Ae,fonts:Ue,activeFontSize:fe}},ie.publish("postProcessText",Be),P=Be.text,eo=Be.mutex.isHex||!1;var fg=Ue[Ae].encoding;fg!=="WinAnsiEncoding"&&fg!=="StandardEncoding"||(P=og(P,function(Kr,Qr,Rn){return[mx(Kr),Qr,Rn]})),Qe=ig(P),P=[];for(var Hd,Ud,fc,$d=0,Ih=1,Vd=Array.isArray(Qe[0])?Ih:$d,pc="",pg=function(Kr,Qr,Rn){var rs="";return Rn instanceof qe?(Rn=typeof ge.angle=="number"?gt(Rn,new qe(1,0,0,1,Kr,Qr)):gt(new qe(1,0,0,1,Kr,Qr),Rn),w===y.ADVANCED&&(Rn=gt(new qe(1,0,0,-1,0,0),Rn)),rs=Rn.join(" ")+` Tm
`):rs=A(Kr)+" "+A(Qr)+` Td
`,rs},Ci=0;Ci<Qe.length;Ci++){switch(pc="",Vd){case Ih:fc=(eo?"<":"(")+Qe[Ci][0]+(eo?">":")"),Hd=parseFloat(Qe[Ci][1]),Ud=parseFloat(Qe[Ci][2]);break;case $d:fc=(eo?"<":"(")+Qe[Ci]+(eo?">":")"),Hd=Oo(J),Ud=gl(de)}uc!==void 0&&uc[Ci]!==void 0&&(pc=uc[Ci]+` Tw
`),Ci===0?P.push(pc+pg(Hd,Ud,Cn)+fc):Vd===$d?P.push(pc+fc):Vd===Ih&&P.push(pc+pg(Hd,Ud,Cn)+fc)}P=Vd===$d?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Si=`BT
/`;return Si+=Ae+" "+fe+` Tf
`,Si+=A(fe*Wa)+` TL
`,Si+=Fd+`
`,Si+=ds,Si+=P,le(Si+="ET"),f[Ae]=!0,qn};var dw=p.__private__.clip=p.clip=function(P){return le(P==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return dw("evenodd")},p.__private__.discardPath=p.discardPath=function(){return le("n"),this};var Io=p.__private__.isValidStyle=function(P){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(J=!0),J};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(P){return Io(P)&&(d=P),this};var lx=p.__private__.getStyle=p.getStyle=function(P){var J=d;switch(P){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=P}return J},cx=p.close=function(){return le("h"),this};p.stroke=function(){return le("S"),this},p.fill=function(P){return Ch("f",P),this},p.fillEvenOdd=function(P){return Ch("f*",P),this},p.fillStroke=function(P){return Ch("B",P),this},p.fillStrokeEvenOdd=function(P){return Ch("B*",P),this};var Ch=function(P,J){zr(J)==="object"?hw(J,P):le(P)},Zp=function(P){P===null||w===y.ADVANCED&&P===void 0||(P=lx(P),le(P))};function uw(P,J,de,ge,Ne){var Be=new Ef(J||this.boundingBox,de||this.xStep,ge||this.yStep,this.gState,Ne||this.matrix);Be.stream=this.stream;var Qe=P+"$$"+this.cloneIndex+++"$$";return Ke(Qe,Be),Be}var hw=function(P,J){var de=Yr[P.key],ge=qt[de];if(ge instanceof hu)le("q"),le(fw(J)),ge.gState&&p.setGState(ge.gState),le(P.matrix.toString()+" cm"),le("/"+de+" sh"),le("Q");else if(ge instanceof Ef){var Ne=new qe(1,0,0,-1,0,dc());P.matrix&&(Ne=Ne.multiply(P.matrix||Tt),de=uw.call(ge,P.key,P.boundingBox,P.xStep,P.yStep,Ne).id),le("q"),le("/Pattern cs"),le("/"+de+" scn"),ge.gState&&p.setGState(ge.gState),le(J),le("Q")}},fw=function(P){switch(P){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Jp=p.moveTo=function(P,J){return le(A(D(P))+" "+A(M(J))+" m"),this},Id=p.lineTo=function(P,J){return le(A(D(P))+" "+A(M(J))+" l"),this},lc=p.curveTo=function(P,J,de,ge,Ne,Be){return le([A(D(P)),A(M(J)),A(D(de)),A(M(ge)),A(D(Ne)),A(M(Be)),"c"].join(" ")),this};p.__private__.line=p.line=function(P,J,de,ge,Ne){if(isNaN(P)||isNaN(J)||isNaN(de)||isNaN(ge)||!Io(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return w===y.COMPAT?this.lines([[de-P,ge-J]],P,J,[1,1],Ne||"S"):this.lines([[de-P,ge-J]],P,J,[1,1]).stroke()},p.__private__.lines=p.lines=function(P,J,de,ge,Ne,Be){var Qe,St,It,Jt,Xt,vr,mn,Cn,qn,zs,ds,eo;if(typeof P=="number"&&(eo=de,de=J,J=P,P=eo),ge=ge||[1,1],Be=Be||!1,isNaN(J)||isNaN(de)||!Array.isArray(P)||!Array.isArray(ge)||!Io(Ne)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Jp(J,de),Qe=ge[0],St=ge[1],Jt=P.length,zs=J,ds=de,It=0;It<Jt;It++)(Xt=P[It]).length===2?(zs=Xt[0]*Qe+zs,ds=Xt[1]*St+ds,Id(zs,ds)):(vr=Xt[0]*Qe+zs,mn=Xt[1]*St+ds,Cn=Xt[2]*Qe+zs,qn=Xt[3]*St+ds,zs=Xt[4]*Qe+zs,ds=Xt[5]*St+ds,lc(vr,mn,Cn,qn,zs,ds));return Be&&cx(),Zp(Ne),this},p.path=function(P){for(var J=0;J<P.length;J++){var de=P[J],ge=de.c;switch(de.op){case"m":Jp(ge[0],ge[1]);break;case"l":Id(ge[0],ge[1]);break;case"c":lc.apply(this,ge);break;case"h":cx()}}return this},p.__private__.rect=p.rect=function(P,J,de,ge,Ne){if(isNaN(P)||isNaN(J)||isNaN(de)||isNaN(ge)||!Io(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y.COMPAT&&(ge=-ge),le([A(D(P)),A(M(J)),A(D(de)),A(D(ge)),"re"].join(" ")),Zp(Ne),this},p.__private__.triangle=p.triangle=function(P,J,de,ge,Ne,Be,Qe){if(isNaN(P)||isNaN(J)||isNaN(de)||isNaN(ge)||isNaN(Ne)||isNaN(Be)||!Io(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-P,ge-J],[Ne-de,Be-ge],[P-Ne,J-Be]],P,J,[1,1],Qe,!0),this},p.__private__.roundedRect=p.roundedRect=function(P,J,de,ge,Ne,Be,Qe){if(isNaN(P)||isNaN(J)||isNaN(de)||isNaN(ge)||isNaN(Ne)||isNaN(Be)||!Io(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var St=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*de),Be=Math.min(Be,.5*ge),this.lines([[de-2*Ne,0],[Ne*St,0,Ne,Be-Be*St,Ne,Be],[0,ge-2*Be],[0,Be*St,-Ne*St,Be,-Ne,Be],[2*Ne-de,0],[-Ne*St,0,-Ne,-Be*St,-Ne,-Be],[0,2*Be-ge],[0,-Be*St,Ne*St,-Be,Ne,-Be]],P+Ne,J,[1,1],Qe,!0),this},p.__private__.ellipse=p.ellipse=function(P,J,de,ge,Ne){if(isNaN(P)||isNaN(J)||isNaN(de)||isNaN(ge)||!Io(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*de,Qe=4/3*(Math.SQRT2-1)*ge;return Jp(P+de,J),lc(P+de,J-Qe,P+Be,J-ge,P,J-ge),lc(P-Be,J-ge,P-de,J-Qe,P-de,J),lc(P-de,J+Qe,P-Be,J+ge,P,J+ge),lc(P+Be,J+ge,P+de,J+Qe,P+de,J),Zp(Ne),this},p.__private__.circle=p.circle=function(P,J,de,ge){if(isNaN(P)||isNaN(J)||isNaN(de)||!Io(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,J,de,de,ge)},p.setFont=function(P,J,de){return de&&(J=N(J,de)),Ae=ax(P,J,{disableWarning:!1}),this};var pw=p.__private__.getFont=p.getFont=function(){return Ue[ax.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var P,J,de={};for(P in yt)if(yt.hasOwnProperty(P))for(J in de[P]=[],yt[P])yt[P].hasOwnProperty(J)&&de[P].push(J);return de},p.addFont=function(P,J,de,ge,Ne){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(de=N(de,ge)),Ne=Ne||"Identity-H",Yp.call(this,P,J,de,Ne)};var Od,Kp=r.lineWidth||.200025,Sh=p.__private__.getLineWidth=p.getLineWidth=function(){return Kp},dx=p.__private__.setLineWidth=p.setLineWidth=function(P){return Kp=P,le(A(D(P))+" w"),this};p.__private__.setLineDash=$t.API.setLineDash=$t.API.setLineDashPattern=function(P,J){if(P=P||[],J=J||0,isNaN(J)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(de){return A(D(de))}).join(" "),J=A(D(J)),le("["+P+"] "+J+" d"),this};var ux=p.__private__.getLineHeight=p.getLineHeight=function(){return fe*Od};p.__private__.getLineHeight=p.getLineHeight=function(){return fe*Od};var hx=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Od=P),this},fx=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Od};hx(r.lineHeight);var Oo=p.__private__.getHorizontalCoordinate=function(P){return D(P)},gl=p.__private__.getVerticalCoordinate=function(P){return w===y.ADVANCED?P:ne[H].mediaBox.topRightY-ne[H].mediaBox.bottomLeftY-D(P)},gw=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(P){return A(Oo(P))},cc=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(P){return A(gl(P))},Qi=r.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ra(Qi)},p.__private__.setStrokeColor=p.setDrawColor=function(P,J,de,ge){return Qi=Ss({ch1:P,ch2:J,ch3:de,ch4:ge,pdfColorType:"draw",precision:2}),le(Qi),this};var Qp=r.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ra(Qp)},p.__private__.setFillColor=p.setFillColor=function(P,J,de,ge){return Qp=Ss({ch1:P,ch2:J,ch3:de,ch4:ge,pdfColorType:"fill",precision:2}),le(Qp),this};var Fd=r.textColor||"0 g",mw=p.__private__.getTextColor=p.getTextColor=function(){return ra(Fd)};p.__private__.setTextColor=p.setTextColor=function(P,J,de,ge){return Fd=Ss({ch1:P,ch2:J,ch3:de,ch4:ge,pdfColorType:"text",precision:3}),this};var Nh=r.charSpace,xw=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Nh||0)};p.__private__.setCharSpace=p.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Nh=P,this};var eg=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(P){var J=p.CapJoinStyles[P];if(J===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return eg=J,le(J+" J"),this};var tg=0;p.__private__.setLineJoin=p.setLineJoin=function(P){var J=p.CapJoinStyles[P];if(J===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tg=J,le(J+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(A(D(P))+" M"),this},p.GState=Mb,p.setGState=function(P){(P=typeof P=="string"?Nr[Jr[P]]:px(null,P)).equals(Er)||(le("/"+P.id+" gs"),Er=P)};var px=function(P,J){if(!P||!Jr[P]){var de=!1;for(var ge in Nr)if(Nr.hasOwnProperty(ge)&&Nr[ge].equals(J)){de=!0;break}if(de)J=Nr[ge];else{var Ne="GS"+(Object.keys(Nr).length+1).toString(10);Nr[Ne]=J,J.id=Ne}return P&&(Jr[P]=J.id),ie.publish("addGState",J),J}};p.addGState=function(P,J){return px(P,J),this},p.saveGraphicsState=function(){return le("q"),ir.push({key:Ae,size:fe,color:Fd}),this},p.restoreGraphicsState=function(){le("Q");var P=ir.pop();return Ae=P.key,fe=P.size,Fd=P.color,Er=null,this},p.setCurrentTransformationMatrix=function(P){return le(P.toString()+" cm"),this},p.comment=function(P){return le("#"+P),this};var Eh=function(P,J){var de=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(Be){isNaN(Be)||(de=parseFloat(Be))}});var ge=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(Be){isNaN(Be)||(ge=parseFloat(Be))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(Be){Ne=Be.toString()}}),this},rg=function(P,J,de,ge){Eh.call(this,P,J),this.type="rect";var Ne=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(Qe){isNaN(Qe)||(Ne=parseFloat(Qe))}});var Be=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Qe){isNaN(Qe)||(Be=parseFloat(Qe))}}),this},ng=function(){this.page=tr,this.currentPage=H,this.pages=Ce.slice(0),this.pagesContext=ne.slice(0),this.x=mt,this.y=$e,this.matrix=pt,this.width=Bd(H),this.height=dc(H),this.outputDestination=De,this.id="",this.objectNumber=-1};ng.prototype.restore=function(){tr=this.page,H=this.currentPage,ne=this.pagesContext,Ce=this.pages,mt=this.x,$e=this.y,pt=this.matrix,sg(H,this.width),ag(H,this.height),De=this.outputDestination};var gx=function(P,J,de,ge,Ne){ct.push(new ng),tr=H=0,Ce=[],mt=P,$e=J,pt=Ne,Gp([de,ge])},vw=function(P){if(Xe[P])ct.pop().restore();else{var J=new ng,de="Xo"+(Object.keys(Ee).length+1).toString(10);J.id=de,Xe[P]=de,Ee[de]=J,ie.publish("addFormObject",J),ct.pop().restore()}};for(var _h in p.beginFormObject=function(P,J,de,ge,Ne){return gx(P,J,de,ge,Ne),this},p.endFormObject=function(P){return vw(P),this},p.doFormObject=function(P,J){var de=Ee[Xe[P]];return le("q"),le(J.toString()+" cm"),le("/"+de.id+" Do"),le("Q"),this},p.getFormObject=function(P){var J=Ee[Xe[P]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},p.save=function(P,J){return P=P||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(au(wh(pl()),P),typeof au.unload=="function"&&Wt.setTimeout&&setTimeout(au.unload,911),this):new Promise(function(de,ge){try{var Ne=au(wh(pl()),P);typeof au.unload=="function"&&Wt.setTimeout&&setTimeout(au.unload,911),de(Ne)}catch(Be){ge(Be.message)}})},$t.API)$t.API.hasOwnProperty(_h)&&(_h==="events"&&$t.API.events.length?function(P,J){var de,ge,Ne;for(Ne=J.length-1;Ne!==-1;Ne--)de=J[Ne][0],ge=J[Ne][1],P.subscribe.apply(P,[de].concat(typeof ge=="function"?[ge]:ge))}(ie,$t.API.events):p[_h]=$t.API[_h]);var Bd=p.getPageWidth=function(P){return(ne[P=P||H].mediaBox.topRightX-ne[P].mediaBox.bottomLeftX)/he},sg=p.setPageWidth=function(P,J){ne[P].mediaBox.topRightX=J*he+ne[P].mediaBox.bottomLeftX},dc=p.getPageHeight=function(P){return(ne[P=P||H].mediaBox.topRightY-ne[P].mediaBox.bottomLeftY)/he},ag=p.setPageHeight=function(P,J){ne[P].mediaBox.topRightY=J*he+ne[P].mediaBox.bottomLeftY};return p.internal={pdfEscape:ya,getStyle:lx,getFont:pw,getFontSize:He,getCharSpace:xw,getTextColor:mw,getLineHeight:ux,getLineHeightFactor:fx,getLineWidth:Sh,write:ut,getHorizontalCoordinate:Oo,getVerticalCoordinate:gl,getCoordinateString:gw,getVerticalCoordinateString:cc,collections:{},newObject:bt,newAdditionalObject:Tr,newObjectDeferred:Mt,newObjectDeferredBegin:lr,getFilters:Ha,putStream:gr,events:ie,scaleFactor:he,pageSize:{getWidth:function(){return Bd(H)},setWidth:function(P){sg(H,P)},getHeight:function(){return dc(H)},setHeight:function(P){ag(H,P)}},encryptionOptions:u,encryption:Bs,getEncryptor:lw,output:kh,getNumberOfPages:nw,pages:Ce,out:le,f2:O,f3:L,getPageInfo:ox,getPageInfoByObjId:Yt,getCurrentPageInfo:cw,getPDFVersion:m,Point:Eh,Rectangle:rg,Matrix:qe,hasHotfix:ix},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Bd(H)},set:function(P){sg(H,P)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return dc(H)},set:function(P){ag(H,P)},enumerable:!0,configurable:!0}),tw.call(p,je),Ae="F1",nx(s,t),ie.publish("initialized"),p}lf.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},lf.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},lf.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},lf.prototype.processOwnerPassword=function(r,e){return wS(bS(e).substr(0,5),r)},lf.prototype.encryptor=function(r,e){var t=bS(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return wS(t,n)}},Mb.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||zr(r)!==zr(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},$t.API={events:[]},$t.version="3.0.1";var En=$t.API,g8=1,yh=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qh=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Zt=function(r){return r.toFixed(2)},_c=function(r){return r.toFixed(5)};En.__acroform__={};var za=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},rP=function(r){return r*g8},$o=function(r){var e=new c$,t=Pt.internal.getHeight(r)||0,n=Pt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Zt(n)),Number(Zt(t))],e},e3e=En.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<e},t3e=En.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<e)},r3e=En.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Fn=En.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return r3e(r,e-1)},Bn=En.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return e3e(r,e-1)},zn=En.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return t3e(r,e-1)},n3e=En.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=r[0],a=r[1],i=r[2],o=r[3],c={};return c.lowerLeft_X=t(s)||0,c.lowerLeft_Y=n(a+o)||0,c.upperRight_X=t(s+i)||0,c.upperRight_Y=n(a)||0,[Number(Zt(c.lowerLeft_X)),Number(Zt(c.lowerLeft_Y)),Number(Zt(c.upperRight_X)),Number(Zt(c.upperRight_Y))]},s3e=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=kS(r,t),s=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+s+" "+Zt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=$o(r);return a.scope=r.scope,a.stream=e.join(`
`),a}},kS=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=r.multiline?s.map(function(L){return L.split(`
`)}):s.map(function(L){return[L]});var a=t,i=Pt.internal.getHeight(r)||0;i=i<0?-i:i;var o=Pt.internal.getWidth(r)||0;o=o<0?-o:o;var c=function(L,D,F){if(L+1<s.length){var M=D+" "+s[L+1][0];return I1(M,r,F).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var d,u,h=I1("3",r,a).height,f=r.multiline?i-a:(i-h)/2,p=f+=2,g=0,m=0,v=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+I1(e,r,a=12).width+", FieldWidth:"+o+`
`;break}for(var x="",y=0,w=0;w<s.length;w++)if(s.hasOwnProperty(w)){var k=!1;if(s[w].length!==1&&v!==s[w].length-1){if((h+2)*(y+2)+2>i)continue e;x+=s[w][v],k=!0,m=w,w--}else{x=(x+=s[w][v]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var S=parseInt(w),N=c(S,x,a),A=w>=s.length-1;if(N&&!A){x+=" ",v=0;continue}if(N||A){if(A)m=S;else if(r.multiline&&(h+2)*(y+2)+2>i)continue e}else{if(!r.multiline||(h+2)*(y+2)+2>i)continue e;m=S}}for(var E="",R=g;R<=m;R++){var O=s[R];if(r.multiline){if(R===m){E+=O[v]+" ",v=(v+1)%O.length;continue}if(R===g){E+=O[O.length-1]+" ";continue}}E+=O[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,u=I1(E,r,a).width,r.textAlign){case"right":d=o-u-2;break;case"center":d=(o-u)/2;break;case"left":default:d=2}e+=Zt(d)+" "+Zt(p)+` Td
`,e+="("+yh(E)+`) Tj
`,e+=-Zt(d)+` 0 Td
`,p=-(a+2),u=0,g=k?m:m+1,y++,x=""}break}return n.text=e,n.fontSize=a,n},I1=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},a3e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},i3e=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},o3e=function(r,e){for(var t in r)if(r.hasOwnProperty(t)){var n=t,s=r[t];e.internal.newObjectDeferredBegin(s.objId,!0),zr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete r[n]}},l3e=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Do.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(a3e)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");g8=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new d$,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var a=n[s];a.objId=void 0,a.hasAnnotation&&i3e(a,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,s){var a=!n;for(var i in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var o=n[i],c=[],d=o.Rect;if(o.Rect&&(o.Rect=n3e(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Pt.createDefaultAppearanceStream(o),zr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=s3e(o);c.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var h="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var p=o.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var i in p)if(p.hasOwnProperty(i)){var g=p[i];typeof g=="function"&&(g=g.call(s,o)),h+="/"+i+" "+g+" ",s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(s,o)),h+="/"+i+" "+g,s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:o.objId}),s.internal.out("endobj")}a&&o3e(s.internal.acroformPlugin.xForms,s)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},l$=En.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(i){return i};if(Array.isArray(r)){for(var s="[",a=0;a<r.length;a++)switch(a!==0&&(s+=" "),zr(r[a])){case"boolean":case"number":case"object":s+=r[a].toString();break;case"string":r[a].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),s+="("+yh(n(r[a].toString()))+")"):s+=r[a].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},r3=function(r,e,t){var n=function(s){return s};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),r="("+yh(n(r))+")"},Ko=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ko.prototype.toString=function(){return this.objId+" 0 R"},Ko.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Ko.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],s=this[n];s&&(Array.isArray(s)?r.push({key:n,value:l$(s,this.objId,this.scope)}):s instanceof Ko?(s.scope=this.scope,r.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&r.push({key:n,value:s}))}return r};var c$=function(){Ko.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};za(c$,Ko);var d$=function(){Ko.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+yh(t(r))+")"}},set:function(t){r=t}})};za(d$,Ko);var Do=function r(){Ko.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Fn(e,3)},set:function(x){x?this.F=Bn(e,3):this.F=zn(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');t=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Rb)return;a="FieldObject"+r.FieldNum++}var x=function(y){return y};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+yh(x(a))+")"},set:function(x){a=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(x){a=x}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(x){i=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/g8:d},set:function(x){d=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Rb||this instanceof $u))return r3(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=x}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof xs?f:r3(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=this instanceof xs?x:x.substr(0,1)==="("?Qh(x.substr(1,x.length-2)):Qh(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xs?Qh(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof xs?"/"+x:x}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof xs?p:r3(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof xs?x:x.substr(0,1)==="("?Qh(x.substr(1,x.length-2)):Qh(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xs?Qh(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof xs?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(x){x=!!x,m=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,1)},set:function(x){x?this.Ff=Bn(this.Ff,1):this.Ff=zn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,2)},set:function(x){x?this.Ff=Bn(this.Ff,2):this.Ff=zn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,3)},set:function(x){x?this.Ff=Bn(this.Ff,3):this.Ff=zn(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');v=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(v){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};za(Do,Ko);var Gf=function(){Do.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return l$(e,this.objId,this.scope)},set:function(t){var n,s;s=[],typeof(n=t)=="string"&&(s=function(a,i,o){o||(o=1);for(var c,d=[];c=i.exec(a);)d.push(c[o]);return d}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,18)},set:function(t){t?this.Ff=Bn(this.Ff,18):this.Ff=zn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Bn(this.Ff,19):this.Ff=zn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,20)},set:function(t){t?(this.Ff=Bn(this.Ff,20),e.sort()):this.Ff=zn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,22)},set:function(t){t?this.Ff=Bn(this.Ff,22):this.Ff=zn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,23)},set:function(t){t?this.Ff=Bn(this.Ff,23):this.Ff=zn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,27)},set:function(t){t?this.Ff=Bn(this.Ff,27):this.Ff=zn(this.Ff,27)}}),this.hasAppearanceStream=!1};za(Gf,Do);var Xf=function(){Gf.call(this),this.fontName="helvetica",this.combo=!1};za(Xf,Gf);var Zf=function(){Xf.call(this),this.combo=!0};za(Zf,Xf);var Tv=function(){Zf.call(this),this.edit=!0};za(Tv,Zf);var xs=function(){Do.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,15)},set:function(t){t?this.Ff=Bn(this.Ff,15):this.Ff=zn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,16)},set:function(t){t?this.Ff=Bn(this.Ff,16):this.Ff=zn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,17)},set:function(t){t?this.Ff=Bn(this.Ff,17):this.Ff=zn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,26)},set:function(t){t?this.Ff=Bn(this.Ff,26):this.Ff=zn(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+yh(t(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){zr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};za(xs,Do);var Pv=function(){xs.call(this),this.pushButton=!0};za(Pv,xs);var Jf=function(){xs.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};za(Jf,xs);var Rb=function(){var r,e;Do.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,i=[];for(a in i.push("<<"),n)i.push("/"+a+" ("+yh(s(n[a]))+")");return i.push(">>"),i.join(`
`)},set:function(s){zr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};za(Rb,Do),Jf.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Jf.prototype.createOption=function(r){var e=new Rb;return e.Parent=this,e.optionName=r,this.Kids.push(e),c3e.call(this.scope,e),e};var Lv=function(){xs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Pt.CheckBox.createAppearanceStream()};za(Lv,xs);var $u=function(){Do.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,13)},set:function(e){e?this.Ff=Bn(this.Ff,13):this.Ff=zn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,21)},set:function(e){e?this.Ff=Bn(this.Ff,21):this.Ff=zn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,23)},set:function(e){e?this.Ff=Bn(this.Ff,23):this.Ff=zn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,24)},set:function(e){e?this.Ff=Bn(this.Ff,24):this.Ff=zn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,25)},set:function(e){e?this.Ff=Bn(this.Ff,25):this.Ff=zn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,26)},set:function(e){e?this.Ff=Bn(this.Ff,26):this.Ff=zn(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};za($u,Do);var Dv=function(){$u.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,14)},set:function(r){r?this.Ff=Bn(this.Ff,14):this.Ff=zn(this.Ff,14)}}),this.password=!0};za(Dv,$u);var Pt={CheckBox:{createAppearanceStream:function(){return{N:{On:Pt.CheckBox.YesNormal},D:{On:Pt.CheckBox.YesPushDown,Off:Pt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=$o(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),a=kS(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Zt(Pt.internal.getWidth(r))+" "+Zt(Pt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Zt(a.fontSize)+" Tf "+s),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=$o(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),s=[],a=Pt.internal.getHeight(r),i=Pt.internal.getWidth(r),o=kS(r,r.caption);return s.push("1 g"),s.push("0 0 "+Zt(i)+" "+Zt(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Zt(i-1)+" "+Zt(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Zt(o.fontSize)+" Tf "+n),s.push(o.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(r){var e=$o(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Zt(Pt.internal.getWidth(r))+" "+Zt(Pt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Pt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Pt.RadioButton.Circle.YesNormal,e.D[r]=Pt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=$o(r);e.scope=r.scope;var t=[],n=Pt.internal.getWidth(r)<=Pt.internal.getHeight(r)?Pt.internal.getWidth(r)/4:Pt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Pt.internal.Bezier_C,a=Number((n*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+_c(Pt.internal.getWidth(r)/2)+" "+_c(Pt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=$o(r);e.scope=r.scope;var t=[],n=Pt.internal.getWidth(r)<=Pt.internal.getHeight(r)?Pt.internal.getWidth(r)/4:Pt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*Pt.internal.Bezier_C).toFixed(5)),i=Number((n*Pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+_c(Pt.internal.getWidth(r)/2)+" "+_c(Pt.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),t.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),t.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),t.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+_c(Pt.internal.getWidth(r)/2)+" "+_c(Pt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=$o(r);e.scope=r.scope;var t=[],n=Pt.internal.getWidth(r)<=Pt.internal.getHeight(r)?Pt.internal.getWidth(r)/4:Pt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*Pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+_c(Pt.internal.getWidth(r)/2)+" "+_c(Pt.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),t.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),t.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),t.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Pt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Pt.RadioButton.Cross.YesNormal,e.D[r]=Pt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=$o(r);e.scope=r.scope;var t=[],n=Pt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Zt(Pt.internal.getWidth(r)-2)+" "+Zt(Pt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Zt(n.x1.x)+" "+Zt(n.x1.y)+" m"),t.push(Zt(n.x2.x)+" "+Zt(n.x2.y)+" l"),t.push(Zt(n.x4.x)+" "+Zt(n.x4.y)+" m"),t.push(Zt(n.x3.x)+" "+Zt(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=$o(r);e.scope=r.scope;var t=Pt.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Zt(Pt.internal.getWidth(r))+" "+Zt(Pt.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Zt(Pt.internal.getWidth(r)-2)+" "+Zt(Pt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Zt(t.x1.x)+" "+Zt(t.x1.y)+" m"),n.push(Zt(t.x2.x)+" "+Zt(t.x2.y)+" l"),n.push(Zt(t.x4.x)+" "+Zt(t.x4.y)+" m"),n.push(Zt(t.x3.x)+" "+Zt(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=$o(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Zt(Pt.internal.getWidth(r))+" "+Zt(Pt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Pt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Pt.internal.getWidth(r),t=Pt.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Pt.internal.getWidth=function(r){var e=0;return zr(r)==="object"&&(e=rP(r.Rect[2])),e},Pt.internal.getHeight=function(r){var e=0;return zr(r)==="object"&&(e=rP(r.Rect[3])),e};var c3e=En.addField=function(r){if(l3e(this,r),!(r instanceof Do))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};En.AcroFormChoiceField=Gf,En.AcroFormListBox=Xf,En.AcroFormComboBox=Zf,En.AcroFormEditBox=Tv,En.AcroFormButton=xs,En.AcroFormPushButton=Pv,En.AcroFormRadioButton=Jf,En.AcroFormCheckBox=Lv,En.AcroFormTextField=$u,En.AcroFormPasswordField=Dv,En.AcroFormAppearance=Pt,En.AcroForm={ChoiceField:Gf,ListBox:Xf,ComboBox:Zf,EditBox:Tv,Button:xs,PushButton:Pv,RadioButton:Jf,CheckBox:Lv,TextField:$u,PasswordField:Dv,Appearance:Pt},$t.AcroForm={ChoiceField:Gf,ListBox:Xf,ComboBox:Zf,EditBox:Tv,Button:xs,PushButton:Pv,RadioButton:Jf,CheckBox:Lv,TextField:$u,PasswordField:Dv,Appearance:Pt};$t.AcroForm;function u$(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){r.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(L,D){var F,M,B,z,V,W=e;if((D=D||e)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(N(L))for(V in t)for(B=t[V],F=0;F<B.length;F+=1){for(z=!0,M=0;M<B[F].length;M+=1)if(B[F][M]!==void 0&&B[F][M]!==L[M]){z=!1;break}if(z===!0){W=V;break}}else for(V in t)for(B=t[V],F=0;F<B.length;F+=1){for(z=!0,M=0;M<B[F].length;M+=1)if(B[F][M]!==void 0&&B[F][M]!==L.charCodeAt(M)){z=!1;break}if(z===!0){W=V;break}}return W===e&&D!==e&&(W=D),W},s=function L(D){for(var F=this.internal.write,M=this.internal.putStream,B=(0,this.internal.getFilters)();B.indexOf("FlateEncode")!==-1;)B.splice(B.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:D.width}),z.push({key:"Height",value:D.height}),D.colorSpace===v.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===v.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var V="",W=0,Z=D.transparency.length;W<Z;W++)V+=D.transparency[W]+" "+D.transparency[W]+" ";z.push({key:"Mask",value:"["+V+"]"})}D.sMask!==void 0&&z.push({key:"SMask",value:D.objectId+1+" 0 R"});var q=D.filter!==void 0?["/"+D.filter]:void 0;if(M({data:D.data,additionalKeyValues:z,alreadyAppliedFilters:q,objectId:D.objectId}),F("endobj"),"sMask"in D&&D.sMask!==void 0){var Q="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,T={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:Q,data:D.sMask};"filter"in D&&(T.filter=D.filter),L.call(this,T)}if(D.colorSpace===v.INDEXED){var H=this.internal.newObject();M({data:E(new Uint8Array(D.palette)),objectId:H}),F("endobj")}},a=function(){var L=this.internal.collections.addImage_images;for(var D in L)s.call(this,L[D])},i=function(){var L,D=this.internal.collections.addImage_images,F=this.internal.write;for(var M in D)F("/I"+(L=D[M]).index,L.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",i))},c=function(){var L=this.internal.collections.addImage_images;return o.call(this),L},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(L){return typeof r["process"+L.toUpperCase()]=="function"},h=function(L){return zr(L)==="object"&&L.nodeType===1},f=function(L,D){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var F=""+L.getAttribute("src");if(F.indexOf("data:image/")===0)return Tm(unescape(F).split("base64,").pop());var M=r.loadFile(F,!0);if(M!==void 0)return M}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var B;switch(D){case"PNG":B="image/png";break;case"WEBP":B="image/webp";break;case"JPEG":case"JPG":default:B="image/jpeg"}return Tm(L.toDataURL(B,1).split("base64,").pop())}},p=function(L){var D=this.internal.collections.addImage_images;if(D){for(var F in D)if(L===D[F].alias)return D[F]}},g=function(L,D,F){return L||D||(L=-96,D=-96),L<0&&(L=-1*F.width*72/L/this.internal.scaleFactor),D<0&&(D=-1*F.height*72/D/this.internal.scaleFactor),L===0&&(L=D*F.width/F.height),D===0&&(D=L*F.height/F.width),[L,D]},m=function(L,D,F,M,B,z){var V=g.call(this,F,M,B),W=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,q=c.call(this);if(F=V[0],M=V[1],q[B.index]=B,z){z*=Math.PI/180;var Q=Math.cos(z),T=Math.sin(z),H=function(Y){return Y.toFixed(4)},$=[H(Q),H(T),H(-1*T),H(Q),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,W(L),Z(D+M),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([W(F),"0","0",W(M),"0","0","cm"].join(" "))):this.internal.write([W(F),"0","0",W(M),W(L),Z(D+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+B.index+" Do"),this.internal.write("Q")},v=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=r.__addimage__.sHashCode=function(L){var D,F,M=0;if(typeof L=="string")for(F=L.length,D=0;D<F;D++)M=(M<<5)-M+L.charCodeAt(D),M|=0;else if(N(L))for(F=L.byteLength/2,D=0;D<F;D++)M=(M<<5)-M+L[D],M|=0;return M},w=r.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var D=!0;return L.length===0&&(D=!1),L.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(D=!1),D},k=r.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var D=L.indexOf(",");return D<0?null:L.substring(0,D).trim().endsWith("base64")?L.substring(D+1):null},S=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(L){return S()&&L instanceof ArrayBuffer};var N=r.__addimage__.isArrayBufferView=function(L){return S()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},A=r.__addimage__.binaryStringToUint8Array=function(L){for(var D=L.length,F=new Uint8Array(D),M=0;M<D;M++)F[M]=L.charCodeAt(M);return F},E=r.__addimage__.arrayBufferToBinaryString=function(L){for(var D="",F=N(L)?L:new Uint8Array(L),M=0;M<F.length;M+=8192)D+=String.fromCharCode.apply(null,F.subarray(M,M+8192));return D};r.addImage=function(){var L,D,F,M,B,z,V,W,Z;if(typeof arguments[1]=="number"?(D=e,F=arguments[1],M=arguments[2],B=arguments[3],z=arguments[4],V=arguments[5],W=arguments[6],Z=arguments[7]):(D=arguments[1],F=arguments[2],M=arguments[3],B=arguments[4],z=arguments[5],V=arguments[6],W=arguments[7],Z=arguments[8]),zr(L=arguments[0])==="object"&&!h(L)&&"imageData"in L){var q=L;L=q.imageData,D=q.format||D||e,F=q.x||F||0,M=q.y||M||0,B=q.w||q.width||B,z=q.h||q.height||z,V=q.alias||V,W=q.compression||W,Z=q.rotation||q.angle||Z}var Q=this.internal.getFilters();if(W===void 0&&Q.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(F)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var T=R.call(this,L,D,V,W);return m.call(this,F,M,B,z,T,Z),this};var R=function(L,D,F,M){var B,z,V;if(typeof L=="string"&&n(L)===e){L=unescape(L);var W=O(L,!1);(W!==""||(W=r.loadFile(L,!0))!==void 0)&&(L=W)}if(h(L)&&(L=f(L,D)),D=n(L,D),!u(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((V=F)==null||V.length===0)&&(F=function(Z){return typeof Z=="string"||N(Z)?y(Z):N(Z.data)?y(Z.data):null}(L)),(B=p.call(this,F))||(S()&&(L instanceof Uint8Array||D==="RGBA"||(z=L,L=A(L))),B=this["process"+D.toUpperCase()](L,d.call(this),F,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in r.image_compression?Z:x.NONE}(M),z)),!B)throw new Error("An unknown error occurred whilst processing the image.");return B},O=r.__addimage__.convertBase64ToBinaryString=function(L,D){D=typeof D!="boolean"||D;var F,M="";if(typeof L=="string"){var B;F=(B=k(L))!==null&&B!==void 0?B:L;try{M=Tm(F)}catch(z){if(D)throw w(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};r.getImageProperties=function(L){var D,F,M="";if(h(L)&&(L=f(L)),typeof L=="string"&&n(L)===e&&((M=O(L,!1))===""&&(M=r.loadFile(L)||""),L=M),F=n(L),!u(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(!S()||L instanceof Uint8Array||(L=A(L)),!(D=this["process"+F.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=F,D}})($t.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};$t.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,s,a,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((n=d[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<d.length;f++){n=d[f];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(m.objId),y=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(x(n.contents))+")",a+=" /Popup "+v.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+p(x(y))+") >>",m.content=a;var w=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+i(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(a+=" /Open true"),a+=" >>",v.content=a,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":s="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(g(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var N=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+N+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,s,a,i){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(t),y:d(n),w:c(t+s),h:d(n+a)},options:i,type:"link"})},r.textWithLink=function(t,n,s,a){var i,o,c=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(t,o).length;i=Math.ceil(d*u)}else o=c,i=d;return this.text(t,n,s,a),s+=.2*d,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,s-d,o,i,a),c},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}($t.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];r.__arabicParser__={};var a=r.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},i=r.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=r.__arabicParser__.isArabicEndLetter=function(m){return i(m)&&a(m)&&e[m.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(m){return i(m)&&s.indexOf(m.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return i(m)&&a(m)&&e[m.charCodeAt(0)].length>=1};var d=r.__arabicParser__.arabicLetterHasFinalForm=function(m){return i(m)&&a(m)&&e[m.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(m){return i(m)&&a(m)&&e[m.charCodeAt(0)].length>=3};var u=r.__arabicParser__.arabicLetterHasMedialForm=function(m){return i(m)&&a(m)&&e[m.charCodeAt(0)].length==4},h=r.__arabicParser__.resolveLigatures=function(m){var v=0,x=t,y="",w=0;for(v=0;v<m.length;v+=1)x[m.charCodeAt(v)]!==void 0?(w++,typeof(x=x[m.charCodeAt(v)])=="number"&&(y+=String.fromCharCode(x),x=t,w=0),v===m.length-1&&(x=t,y+=m.charAt(v-(w-1)),v-=w-1,w=0)):(x=t,y+=m.charAt(v-w),v-=w,w=0);return y};r.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var f=r.__arabicParser__.getCorrectForm=function(m,v,x){return i(m)?a(m)===!1?-1:!d(m)||!i(v)&&!i(x)||!i(x)&&o(v)||o(m)&&!i(v)||o(m)&&c(v)||o(m)&&o(v)?0:u(m)&&i(v)&&!o(v)&&i(x)&&d(x)?3:o(m)||!i(x)?1:2:-1},p=function(m){var v=0,x=0,y=0,w="",k="",S="",N=(m=m||"").split("\\s+"),A=[];for(v=0;v<N.length;v+=1){for(A.push(""),x=0;x<N[v].length;x+=1)w=N[v][x],k=N[v][x-1],S=N[v][x+1],i(w)?(y=f(w,k,S),A[v]+=y!==-1?String.fromCharCode(e[w.charCodeAt(0)][y]):w):A[v]+=w;A[v]=h(A[v])}return A.join(" ")},g=r.__arabicParser__.processArabic=r.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(v)){var y=0;for(x=[],y=0;y<v.length;y+=1)Array.isArray(v[y])?x.push([p(v[y][0]),v[y][1],v[y][2]]):x.push([p(v[y])]);m=x}else m=p(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};r.events.push(["preProcessText",g])}($t.API),$t.API.autoPrint=function(r){var e;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var s;if((t=t||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}($t.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),f=d.scaleFactor||this.internal.scaleFactor,p=0,g=0,m=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=d.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,k){return w.concat(v.splitTextToSize(k,x))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)p<(m=this.getStringUnitWidth(c[y],{font:h})*u)&&(p=m);return p!==0&&(g=c.length),{w:p/=f,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=r.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,p&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};r.table=function(c,d,u,h,f){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,g,m,v,x=[],y=[],w=[],k={},S={},N=[],A=[],E=(f=f||{}).autoSize||!1,R=f.printHeaders!==!1,O=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,L=f.margins||Object.assign({width:this.getPageWidth()},e),D=typeof f.padding=="number"?f.padding:3,F=f.headerBackgroundColor||"#c8c8c8",M=f.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=M,this.setFontSize(O),h==null)y=x=Object.keys(u[0]),w=x.map(function(){return"left"});else if(Array.isArray(h)&&zr(h[0])==="object")for(x=h.map(function(q){return q.name}),y=h.map(function(q){return q.prompt||q.name||""}),w=h.map(function(q){return q.align||"left"}),p=0;p<h.length;p+=1)S[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(y=x=h,w=x.map(function(){return"left"}));if(E||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<x.length;p+=1){for(k[v=x[p]]=u.map(function(q){return q[v]}),this.setFont(void 0,"bold"),N.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=k[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)N.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[v]=Math.max.apply(null,N)+D+D,N=[]}if(R){var B={};for(p=0;p<x.length;p+=1)B[x[p]]={},B[x[p]].text=y[p],B[x[p]].align=w[p];var z=o.call(this,B,S);A=x.map(function(q){return new a(c,d,S[q],z,B[q].text,void 0,B[q].align)}),this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}var V=h.reduce(function(q,Q){return q[Q.name]=Q.align,q},{});for(p=0;p<u.length;p+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:p,data:u[p]},this);var W=o.call(this,u[p],S);for(m=0;m<x.length;m+=1){var Z=u[p][x[m]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:p,col:m,data:Z},this),i.call(this,new a(c,d,S[x[m]],W,Z,p+2,V[x[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var o=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(p){var g=c[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,d[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/f+u+u},this).reduce(function(p,g){return Math.max(p,g)},0)};r.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,u),this.setTextColor(g)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),t=!1}}($t.API);var h$={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},f$=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],CS=u$(f$),p$=[100,200,300,400,500,600,700,800,900],d3e=u$(p$);function SS(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(a){return h$[a=a||"normal"]?a:"normal"}(r.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(r.weight),s=function(a){return typeof CS[a=a||"normal"]=="number"?a:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:s,src:r.src||[],ref:r.ref||{name:e,style:[s,t,n].join(" ")}}}function nP(r,e,t,n){var s;for(s=t;s>=0&&s<e.length;s+=n)if(r[e[s]])return r[e[s]];for(s=t;s>=0&&s<e.length;s-=n)if(r[e[s]])return r[e[s]]}var u3e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sP={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function aP(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function h3e(r,e,t){for(var n=(t=t||{}).defaultFontFamily||"times",s=Object.assign({},u3e,t.genericFontFamilies||{}),a=null,i=null,o=0;o<e.length;++o)if(s[(a=SS(e[o])).family]&&(a.family=s[a.family]),r.hasOwnProperty(a.family)){i=r[a.family];break}if(!(i=i||r[n]))throw new Error("Could not find a font-family for the rule '"+aP(a)+"' and default family '"+n+"'.");if(i=function(c,d){if(d[c])return d[c];var u=CS[c],h=u<=CS.normal?-1:1,f=nP(d,f$,u,h);if(!f)throw new Error("Could not find a matching font-stretch value for "+c);return f}(a.stretch,i),i=function(c,d){if(d[c])return d[c];for(var u=h$[c],h=0;h<u.length;++h)if(d[u[h]])return d[u[h]];throw new Error("Could not find a matching font-style for "+c)}(a.style,i),!(i=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var u=d3e[c],h=nP(d,p$,u,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(a.weight,i)))throw new Error("Failed to resolve a font for the rule '"+aP(a)+"'.");return i}function iP(r){return r.trimLeft()}function f3e(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function p3e(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var O1,oP,lP,n3=["times"];(function(r){var e,t,n,s,a,i,o,c,d,u=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new c,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new i,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new i,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=T;Object.defineProperty(this,"pdf",{get:function(){return H}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(_e){$=!!_e}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(_e){Y=!!_e}});var K=0;Object.defineProperty(this,"posX",{get:function(){return K},set:function(_e){isNaN(_e)||(K=_e)}});var re=0;Object.defineProperty(this,"posY",{get:function(){return re},set:function(_e){isNaN(_e)||(re=_e)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(_e){var le;typeof _e=="number"?le=[_e,_e,_e,_e]:((le=new Array(4))[0]=_e[0],le[1]=_e.length>=2?_e[1]:le[0],le[2]=_e.length>=3?_e[2]:le[0],le[3]=_e.length>=4?_e[3]:le[1]),d.margin=le}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(_e){oe=_e}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(_e){ue=_e}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(_e){be=_e}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(_e){_e instanceof u&&(d=_e)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(_e){d.path=_e}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(_e){Ce=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var le;le=f(_e),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var le=f(_e);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var Se=null;function De(_e,le){if(Se===null){var ut=function(rt){var je=[];return Object.keys(rt).forEach(function(fe){rt[fe].forEach(function(Re){var He=null;switch(Re){case"bold":He={family:fe,weight:"bold"};break;case"italic":He={family:fe,style:"italic"};break;case"bolditalic":He={family:fe,weight:"bold",style:"italic"};break;case"":case"normal":He={family:fe}}He!==null&&(He.ref={name:fe,style:Re},je.push(He))})}),je}(_e.getFontList());Se=function(rt){for(var je={},fe=0;fe<rt.length;++fe){var Re=SS(rt[fe]),He=Re.family,it=Re.stretch,Le=Re.style,ze=Re.weight;je[He]=je[He]||{},je[He][it]=je[He][it]||{},je[He][it][Le]=je[He][it][Le]||{},je[He][it][Le][ze]=Re}return je}(ut.concat(le))}return Se}var at=null;Object.defineProperty(this,"fontFaces",{get:function(){return at},set:function(_e){Se=null,at=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var le;if(this.ctx.font=_e,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var ut=le[1];le[2];var rt=le[3],je=le[4];le[5];var fe=le[6],Re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(Re==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:Re==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var He=function(xt){var Ae,he,mt=[],$e=xt.trim();if($e==="")return n3;if($e in sP)return[sP[$e]];for(;$e!=="";){switch(he=null,Ae=($e=iP($e)).charAt(0)){case'"':case"'":he=f3e($e.substring(1),Ae);break;default:he=p3e($e)}if(he===null||(mt.push(he[0]),($e=iP(he[1]))!==""&&$e.charAt(0)!==","))return n3;$e=$e.replace(/^,/,"")}return mt}(fe);if(this.fontFaces){var it=h3e(De(this.pdf,this.fontFaces),He.map(function(xt){return{family:xt,stretch:"normal",weight:rt,style:ut}}));this.pdf.setFont(it.ref.name,it.ref.style)}else{var Le="";(rt==="bold"||parseInt(rt,10)>=700||ut==="bold")&&(Le="bold"),ut==="italic"&&(Le+="italic"),Le.length===0&&(Le="normal");for(var ze="",Fe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ze=0;Ze<He.length;Ze++){if(this.pdf.internal.getFont(He[Ze],Le,{noFallback:!0,disableWarning:!0})!==void 0){ze=He[Ze];break}if(Le==="bolditalic"&&this.pdf.internal.getFont(He[Ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ze=He[Ze],Le="bold";else if(this.pdf.internal.getFont(He[Ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ze=He[Ze],Le="normal";break}}if(ze===""){for(var ft=0;ft<He.length;ft++)if(Fe[He[ft]]){ze=Fe[He[ft]];break}}ze=ze===""?"Times":ze,this.pdf.setFont(ze,Le)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,Q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,Q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};h.prototype.setLineDash=function(T){this.lineDash=T},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){k.call(this,"fill",!1)},h.prototype.stroke=function(){k.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(T,H){if(isNaN(T)||isNaN(H))throw Xr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new i(T,H));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new i(T,H)},h.prototype.closePath=function(){var T=new i(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&zr(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){T=new i(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(T.x,T.y)},h.prototype.lineTo=function(T,H){if(isNaN(T)||isNaN(H))throw Xr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new i(T,H));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new i($.x,$.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},h.prototype.quadraticCurveTo=function(T,H,$,Y){if(isNaN($)||isNaN(Y)||isNaN(T)||isNaN(H))throw Xr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var K=this.ctx.transform.applyToPoint(new i($,Y)),re=this.ctx.transform.applyToPoint(new i(T,H));this.path.push({type:"qct",x1:re.x,y1:re.y,x:K.x,y:K.y}),this.ctx.lastPoint=new i(K.x,K.y)},h.prototype.bezierCurveTo=function(T,H,$,Y,K,re){if(isNaN(K)||isNaN(re)||isNaN(T)||isNaN(H)||isNaN($)||isNaN(Y))throw Xr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new i(K,re)),ue=this.ctx.transform.applyToPoint(new i(T,H)),be=this.ctx.transform.applyToPoint(new i($,Y));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:be.x,y2:be.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new i(oe.x,oe.y)},h.prototype.arc=function(T,H,$,Y,K,re){if(isNaN(T)||isNaN(H)||isNaN($)||isNaN(Y)||isNaN(K))throw Xr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(re=!!re,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new i(T,H));T=oe.x,H=oe.y;var ue=this.ctx.transform.applyToPoint(new i(0,$)),be=this.ctx.transform.applyToPoint(new i(0,0));$=Math.sqrt(Math.pow(ue.x-be.x,2)+Math.pow(ue.y-be.y,2))}Math.abs(K-Y)>=2*Math.PI&&(Y=0,K=2*Math.PI),this.path.push({type:"arc",x:T,y:H,radius:$,startAngle:Y,endAngle:K,counterclockwise:re})},h.prototype.arcTo=function(T,H,$,Y,K){throw new Error("arcTo not implemented.")},h.prototype.rect=function(T,H,$,Y){if(isNaN(T)||isNaN(H)||isNaN($)||isNaN(Y))throw Xr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,H),this.lineTo(T+$,H),this.lineTo(T+$,H+Y),this.lineTo(T,H+Y),this.lineTo(T,H),this.lineTo(T+$,H),this.lineTo(T,H)},h.prototype.fillRect=function(T,H,$,Y){if(isNaN(T)||isNaN(H)||isNaN($)||isNaN(Y))throw Xr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var K={};this.lineCap!=="butt"&&(K.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(K.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,H,$,Y),this.fill(),K.hasOwnProperty("lineCap")&&(this.lineCap=K.lineCap),K.hasOwnProperty("lineJoin")&&(this.lineJoin=K.lineJoin)}},h.prototype.strokeRect=function(T,H,$,Y){if(isNaN(T)||isNaN(H)||isNaN($)||isNaN(Y))throw Xr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(T,H,$,Y),this.stroke())},h.prototype.clearRect=function(T,H,$,Y){if(isNaN(T)||isNaN(H)||isNaN($)||isNaN(Y))throw Xr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,H,$,Y))},h.prototype.save=function(T){T=typeof T!="boolean"||T;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},h.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(H),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(T){var H,$,Y,K;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))H=0,$=0,Y=0,K=0;else{var re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(re!==null)H=parseInt(re[1]),$=parseInt(re[2]),Y=parseInt(re[3]),K=1;else if((re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)H=parseInt(re[1]),$=parseInt(re[2]),Y=parseInt(re[3]),K=parseFloat(re[4]);else{if(K=1,typeof T=="string"&&T.charAt(0)!=="#"){var oe=new a$(T);T=oe.ok?oe.toHex():"#000000"}T.length===4?(H=T.substring(1,2),H+=H,$=T.substring(2,3),$+=$,Y=T.substring(3,4),Y+=Y):(H=T.substring(1,3),$=T.substring(3,5),Y=T.substring(5,7)),H=parseInt(H,16),$=parseInt($,16),Y=parseInt(Y,16)}}return{r:H,g:$,b:Y,a:K,style:T}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(T,H,$,Y){if(isNaN(H)||isNaN($)||typeof T!="string")throw Xr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!p.call(this)){var K=W(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;D.call(this,{text:T,x:H,y:$,scale:re,angle:K,align:this.textAlign,maxWidth:Y})}},h.prototype.strokeText=function(T,H,$,Y){if(isNaN(H)||isNaN($)||typeof T!="string")throw Xr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){Y=isNaN(Y)?void 0:Y;var K=W(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;D.call(this,{text:T,x:H,y:$,scale:re,renderingMode:"stroke",angle:K,align:this.textAlign,maxWidth:Y})}},h.prototype.measureText=function(T){if(typeof T!="string")throw Xr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,$=this.pdf.internal.scaleFactor,Y=H.internal.getFontSize(),K=H.getStringUnitWidth(T)*Y/H.internal.scaleFactor,re=function(oe){var ue=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this};return new re({width:K*=Math.round(96*$/72*1e4)/1e4})},h.prototype.scale=function(T,H){if(isNaN(T)||isNaN(H))throw Xr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new c(T,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply($)},h.prototype.rotate=function(T){if(isNaN(T))throw Xr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},h.prototype.translate=function(T,H){if(isNaN(T)||isNaN(H))throw Xr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new c(1,0,0,1,T,H);this.ctx.transform=this.ctx.transform.multiply($)},h.prototype.transform=function(T,H,$,Y,K,re){if(isNaN(T)||isNaN(H)||isNaN($)||isNaN(Y)||isNaN(K)||isNaN(re))throw Xr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new c(T,H,$,Y,K,re);this.ctx.transform=this.ctx.transform.multiply(oe)},h.prototype.setTransform=function(T,H,$,Y,K,re){T=isNaN(T)?1:T,H=isNaN(H)?0:H,$=isNaN($)?0:$,Y=isNaN(Y)?1:Y,K=isNaN(K)?0:K,re=isNaN(re)?0:re,this.ctx.transform=new c(T,H,$,Y,K,re)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(T,H,$,Y,K,re,oe,ue,be){var Ce=this.pdf.getImageProperties(T),Se=1,De=1,at=1,_e=1;Y!==void 0&&ue!==void 0&&(at=ue/Y,_e=be/K,Se=Ce.width/Y*ue/Y,De=Ce.height/K*be/K),re===void 0&&(re=H,oe=$,H=0,$=0),Y!==void 0&&ue===void 0&&(ue=Y,be=K),Y===void 0&&ue===void 0&&(ue=Ce.width,be=Ce.height);for(var le,ut=this.ctx.transform.decompose(),rt=W(ut.rotate.shx),je=new c,fe=(je=(je=(je=je.multiply(ut.translate)).multiply(ut.skew)).multiply(ut.scale)).applyToRectangle(new o(re-H*at,oe-$*_e,Y*Se,K*De)),Re=v.call(this,fe),He=[],it=0;it<Re.length;it+=1)He.indexOf(Re[it])===-1&&He.push(Re[it]);if(w(He),this.autoPaging)for(var Le=He[0],ze=He[He.length-1],Fe=Le;Fe<ze+1;Fe++){this.pdf.setPage(Fe);var Ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=Fe===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ae=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],he=Fe===1?0:xt+(Fe-2)*Ae;if(this.ctx.clip_path.length!==0){var mt=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(le,this.posX+this.margin[3],-he+ft+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=mt}var $e=JSON.parse(JSON.stringify(fe));$e=y([$e],this.posX+this.margin[3],-he+ft+this.ctx.prevPageLastElemOffset)[0];var pt=(Fe>Le||Fe<ze)&&m.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,Ae,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,rt),pt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",fe.x,fe.y,fe.w,fe.h,null,null,rt)};var v=function(T,H,$){var Y=[];H=H||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var K=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":Y.push(Math.floor((T.y+K)/$)+1);break;case"arc":Y.push(Math.floor((T.y+K-T.radius)/$)+1),Y.push(Math.floor((T.y+K+T.radius)/$)+1);break;case"qct":var re=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);Y.push(Math.floor((re.y+K)/$)+1),Y.push(Math.floor((re.y+re.h+K)/$)+1);break;case"bct":var oe=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);Y.push(Math.floor((oe.y+K)/$)+1),Y.push(Math.floor((oe.y+oe.h+K)/$)+1);break;case"rect":Y.push(Math.floor((T.y+K)/$)+1),Y.push(Math.floor((T.y+T.h+K)/$)+1)}for(var ue=0;ue<Y.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<Y[ue];)x.call(this);return Y},x=function(){var T=this.fillStyle,H=this.strokeStyle,$=this.font,Y=this.lineCap,K=this.lineWidth,re=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=H,this.font=$,this.lineCap=Y,this.lineWidth=K,this.lineJoin=re},y=function(T,H,$){for(var Y=0;Y<T.length;Y++)switch(T[Y].type){case"bct":T[Y].x2+=H,T[Y].y2+=$;case"qct":T[Y].x1+=H,T[Y].y1+=$;case"mt":case"lt":case"arc":default:T[Y].x+=H,T[Y].y+=$}return T},w=function(T){return T.sort(function(H,$){return H-$})},k=function(T,H){for(var $,Y,K=this.fillStyle,re=this.strokeStyle,oe=this.lineCap,ue=this.lineWidth,be=Math.abs(ue*this.ctx.transform.scaleX),Ce=this.lineJoin,Se=JSON.parse(JSON.stringify(this.path)),De=JSON.parse(JSON.stringify(this.path)),at=[],_e=0;_e<De.length;_e++)if(De[_e].x!==void 0)for(var le=v.call(this,De[_e]),ut=0;ut<le.length;ut+=1)at.indexOf(le[ut])===-1&&at.push(le[ut]);for(var rt=0;rt<at.length;rt++)for(;this.pdf.internal.getNumberOfPages()<at[rt];)x.call(this);if(w(at),this.autoPaging)for(var je=at[0],fe=at[at.length-1],Re=je;Re<fe+1;Re++){this.pdf.setPage(Re),this.fillStyle=K,this.strokeStyle=re,this.lineCap=oe,this.lineWidth=be,this.lineJoin=Ce;var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=Re===1?this.posY+this.margin[0]:this.margin[0],Le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=Re===1?0:Le+(Re-2)*ze;if(this.ctx.clip_path.length!==0){var Ze=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y($,this.posX+this.margin[3],-Fe+it+this.ctx.prevPageLastElemOffset),S.call(this,T,!0),this.path=Ze}if(Y=JSON.parse(JSON.stringify(Se)),this.path=y(Y,this.posX+this.margin[3],-Fe+it+this.ctx.prevPageLastElemOffset),H===!1||Re===0){var ft=(Re>je||Re<fe)&&m.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,ze,null).clip().discardPath()),S.call(this,T,H),ft&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}else this.lineWidth=be,S.call(this,T,H),this.lineWidth=ue;this.path=Se},S=function(T,H){if((T!=="stroke"||H||!g.call(this))&&(T==="stroke"||H||!p.call(this))){for(var $,Y,K=[],re=this.path,oe=0;oe<re.length;oe++){var ue=re[oe];switch(ue.type){case"begin":K.push({begin:!0});break;case"close":K.push({close:!0});break;case"mt":K.push({start:ue,deltas:[],abs:[]});break;case"lt":var be=K.length;if(re[oe-1]&&!isNaN(re[oe-1].x)&&($=[ue.x-re[oe-1].x,ue.y-re[oe-1].y],be>0)){for(;be>=0;be--)if(K[be-1].close!==!0&&K[be-1].begin!==!0){K[be-1].deltas.push($),K[be-1].abs.push(ue);break}}break;case"bct":$=[ue.x1-re[oe-1].x,ue.y1-re[oe-1].y,ue.x2-re[oe-1].x,ue.y2-re[oe-1].y,ue.x-re[oe-1].x,ue.y-re[oe-1].y],K[K.length-1].deltas.push($);break;case"qct":var Ce=re[oe-1].x+2/3*(ue.x1-re[oe-1].x),Se=re[oe-1].y+2/3*(ue.y1-re[oe-1].y),De=ue.x+2/3*(ue.x1-ue.x),at=ue.y+2/3*(ue.y1-ue.y),_e=ue.x,le=ue.y;$=[Ce-re[oe-1].x,Se-re[oe-1].y,De-re[oe-1].x,at-re[oe-1].y,_e-re[oe-1].x,le-re[oe-1].y],K[K.length-1].deltas.push($);break;case"arc":K.push({deltas:[],abs:[],arc:!0}),Array.isArray(K[K.length-1].abs)&&K[K.length-1].abs.push(ue)}}Y=H?null:T==="stroke"?"stroke":"fill";for(var ut=!1,rt=0;rt<K.length;rt++)if(K[rt].arc)for(var je=K[rt].abs,fe=0;fe<je.length;fe++){var Re=je[fe];Re.type==="arc"?E.call(this,Re.x,Re.y,Re.radius,Re.startAngle,Re.endAngle,Re.counterclockwise,void 0,H,!ut):F.call(this,Re.x,Re.y),ut=!0}else if(K[rt].close===!0)this.pdf.internal.out("h"),ut=!1;else if(K[rt].begin!==!0){var He=K[rt].start.x,it=K[rt].start.y;M.call(this,K[rt].deltas,He,it),ut=!0}Y&&R.call(this,Y),H&&O.call(this)}},N=function(T){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-$;case"top":return T+H-$;case"hanging":return T+H-2*$;case"middle":return T+H/2-$;case"ideographic":return T;case"alphabetic":default:return T}},A=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(H,$){this.colorStops.push([H,$])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(T,H,$,Y,K,re,oe,ue,be){for(var Ce=z.call(this,$,Y,K,re),Se=0;Se<Ce.length;Se++){var De=Ce[Se];Se===0&&(be?L.call(this,De.x1+T,De.y1+H):F.call(this,De.x1+T,De.y1+H)),B.call(this,T,H,De.x2,De.y2,De.x3,De.y3,De.x4,De.y4)}ue?O.call(this):R.call(this,oe)},R=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(T,H){this.pdf.internal.out(t(T)+" "+n(H)+" m")},D=function(T){var H;switch(T.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var $=this.pdf.getTextDimensions(T.text),Y=N.call(this,T.y),K=A.call(this,Y)-$.h,re=this.ctx.transform.applyToPoint(new i(T.x,Y)),oe=this.ctx.transform.decompose(),ue=new c;ue=(ue=(ue=ue.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var be,Ce,Se,De=this.ctx.transform.applyToRectangle(new o(T.x,Y,$.w,$.h)),at=ue.applyToRectangle(new o(T.x,K,$.w,$.h)),_e=v.call(this,at),le=[],ut=0;ut<_e.length;ut+=1)le.indexOf(_e[ut])===-1&&le.push(_e[ut]);if(w(le),this.autoPaging)for(var rt=le[0],je=le[le.length-1],fe=rt;fe<je+1;fe++){this.pdf.setPage(fe);var Re=fe===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[2],Le=it-this.margin[0],ze=this.pdf.internal.pageSize.width-this.margin[1],Fe=ze-this.margin[3],Ze=fe===1?0:He+(fe-2)*Le;if(this.ctx.clip_path.length!==0){var ft=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(be,this.posX+this.margin[3],-1*Ze+Re),S.call(this,"fill",!0),this.path=ft}var xt=y([JSON.parse(JSON.stringify(at))],this.posX+this.margin[3],-Ze+Re+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*T.scale),Se=this.lineWidth,this.lineWidth=Se*T.scale);var Ae=this.autoPaging!=="text";if(Ae||xt.y+xt.h<=it){if(Ae||xt.y>=Re&&xt.x<=ze){var he=Ae?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||ze-xt.x)[0],mt=y([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-Ze+Re+this.ctx.prevPageLastElemOffset)[0],$e=Ae&&(fe>rt||fe<je)&&m.call(this);$e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,Le,null).clip().discardPath()),this.pdf.text(he,mt.x,mt.y,{angle:T.angle,align:H,renderingMode:T.renderingMode}),$e&&this.pdf.restoreGraphicsState()}}else xt.y<it&&(this.ctx.prevPageLastElemOffset+=it-xt.y);T.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=Se)}else T.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*T.scale),Se=this.lineWidth,this.lineWidth=Se*T.scale),this.pdf.text(T.text,re.x+this.posX,re.y+this.posY,{angle:T.angle,align:H,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=Se)},F=function(T,H,$,Y){$=$||0,Y=Y||0,this.pdf.internal.out(t(T+$)+" "+n(H+Y)+" l")},M=function(T,H,$){return this.pdf.lines(T,H,$,null,null)},B=function(T,H,$,Y,K,re,oe,ue){this.pdf.internal.out([e(s($+T)),e(a(Y+H)),e(s(K+T)),e(a(re+H)),e(s(oe+T)),e(a(ue+H)),"c"].join(" "))},z=function(T,H,$,Y){for(var K=2*Math.PI,re=Math.PI/2;H>$;)H-=K;var oe=Math.abs($-H);oe<K&&Y&&(oe=K-oe);for(var ue=[],be=Y?-1:1,Ce=H;oe>1e-5;){var Se=Ce+be*Math.min(oe,re);ue.push(V.call(this,T,Ce,Se)),oe-=Math.abs(Se-Ce),Ce=Se}return ue},V=function(T,H,$){var Y=($-H)/2,K=T*Math.cos(Y),re=T*Math.sin(Y),oe=K,ue=-re,be=oe*oe+ue*ue,Ce=be+oe*K+ue*re,Se=4/3*(Math.sqrt(2*be*Ce)-Ce)/(oe*re-ue*K),De=oe-Se*ue,at=ue+Se*oe,_e=De,le=-at,ut=Y+H,rt=Math.cos(ut),je=Math.sin(ut);return{x1:T*Math.cos(H),y1:T*Math.sin(H),x2:De*rt-at*je,y2:De*je+at*rt,x3:_e*rt-le*je,y3:_e*je+le*rt,x4:T*Math.cos($),y4:T*Math.sin($)}},W=function(T){return 180*T/Math.PI},Z=function(T,H,$,Y,K,re){var oe=T+.5*($-T),ue=H+.5*(Y-H),be=K+.5*($-K),Ce=re+.5*(Y-re),Se=Math.min(T,K,oe,be),De=Math.max(T,K,oe,be),at=Math.min(H,re,ue,Ce),_e=Math.max(H,re,ue,Ce);return new o(Se,at,De-Se,_e-at)},q=function(T,H,$,Y,K,re,oe,ue){var be,Ce,Se,De,at,_e,le,ut,rt,je,fe,Re,He,it,Le=$-T,ze=Y-H,Fe=K-$,Ze=re-Y,ft=oe-K,xt=ue-re;for(Ce=0;Ce<41;Ce++)rt=(le=(Se=T+(be=Ce/40)*Le)+be*((at=$+be*Fe)-Se))+be*(at+be*(K+be*ft-at)-le),je=(ut=(De=H+be*ze)+be*((_e=Y+be*Ze)-De))+be*(_e+be*(re+be*xt-_e)-ut),Ce==0?(fe=rt,Re=je,He=rt,it=je):(fe=Math.min(fe,rt),Re=Math.min(Re,je),He=Math.max(He,rt),it=Math.max(it,je));return new o(Math.round(fe),Math.round(Re),Math.round(He-fe),Math.round(it-Re))},Q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,H,$=(T=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:H}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})($t.API),function(r){var e=function(a){var i,o,c,d,u,h,f,p,g,m;for(o=[],c=0,d=(a+=i="\0\0\0\0".slice(a.length%4||4)).length;d>c;c+=4)(u=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(h=(u=((u=((u=((u=(u-(m=u%85))/85)-(g=u%85))/85)-(p=u%85))/85)-(f=u%85))/85)%85,o.push(h+33,f+33,p+33,g+33,m+33)):o.push(122);return function(v,x){for(var y=x;y>0;y--)v.pop()}(o,i.length),String.fromCharCode.apply(String,o)+"~>"},t=function(a){var i,o,c,d,u,h=String,f="length",p=255,g="charCodeAt",m="slice",v="replace";for(a[m](-2),a=a[m](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],d=0,u=(a+=i="uuuuu"[m](a[f]%5||5))[f];u>d;d+=5)o=52200625*(a[g](d)-33)+614125*(a[g](d+1)-33)+7225*(a[g](d+2)-33)+85*(a[g](d+3)-33)+(a[g](d+4)-33),c.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(x,y){for(var w=y;w>0;w--)x.pop()}(c,i[f]),h.fromCharCode.apply(h,c)},n=function(a){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),i.test(a)===!1)return"";for(var o="",c=0;c<a.length;c+=2)o+=String.fromCharCode("0x"+(a[c]+a[c+1]));return o},s=function(a){for(var i=new Uint8Array(a.length),o=a.length;o--;)i[o]=a.charCodeAt(o);return a=(i=vS(i)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};r.processDataByFilters=function(a,i){var o=0,c=a||"",d=[];for(typeof(i=i||[])=="string"&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}($t.API),function(r){r.loadFile=function(e,t,n){return function(s,a,i){a=a!==!1,i=typeof i=="function"?i:function(){};var o=void 0;try{o=function(c,d,u){var h=new XMLHttpRequest,f=0,p=function(g){var m=g.length,v=[],x=String.fromCharCode;for(f=0;f<m;f+=1)v.push(x(255&g.charCodeAt(f)));return v.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(p(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return p(h.responseText)}(s,a,i)}catch{}return o}(e,t,n)},r.loadImageFile=r.loadFile}($t.API),function(r){function e(){return(Wt.html2canvas?Promise.resolve(Wt.html2canvas):Oa(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function t(){return(Wt.DOMPurify?Promise.resolve(Wt.DOMPurify):Oa(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var n=function(i){var o=zr(i);return o==="undefined"?"undefined":o==="string"||i instanceof String?"string":o==="number"||i instanceof Number?"number":o==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":o==="object"?"object":"unknown"},s=function(i,o){var c=document.createElement(i);for(var d in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[d]=o.style[d];return c},a=function i(o){var c=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),d=i.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,i,1,[i])).set(o)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(i,o){return i.__proto__=o||a.prototype,i},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(i,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(t).then(function(c){return this.set({src:s("div",{innerHTML:i,dompurify:c})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},a.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(d,u){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),f=d.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(c(f,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(e).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(e).then(function(o){var c=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var p=d[f],g=p.src.find(function(m){return m.format==="truetype"});g&&c.addFont(g.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(i,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(i,o):this.outputPdf(i,o)},a.prototype.outputPdf=function(i,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,o)})},a.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},a.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(i){if(n(i)!=="object")return this;var o=Object.keys(i||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=i[c]};switch(c){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[c]=i[c]}}},this);return this.then(function(){return this.thenList(o)})},a.prototype.get=function(i,o){return this.then(function(){var c=i in a.template.prop?this.prop[i]:this.opt[i];return o?o(c):c})},a.prototype.setMargin=function(i){return this.then(function(){switch(n(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},a.prototype.setPageSize=function(i){function o(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(i=i||$t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:o(i.inner.width,i.k),height:o(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},a.prototype.setProgress=function(i,o,c,d){return i!=null&&(this.progress.val=i),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(i,o,c,d){return this.setProgress(i?this.progress.val+i:null,o||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(i,o){var c=this;return this.thenCore(i,o,function(d,u){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,d),h}).then(d,u).then(function(h){return c.updateProgress(1),h})})},a.prototype.thenCore=function(i,o,c){c=c||Promise.prototype.then,i&&(i=i.bind(this)),o&&(o=o.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),u=c.call(d,i,o);return a.convert(u,this.__proto__)},a.prototype.thenExternal=function(i,o){return Promise.prototype.then.call(this,i,o)},a.prototype.thenList=function(i){var o=this;return i.forEach(function(c){o=o.thenCore(c)}),o},a.prototype.catch=function(i){i&&(i=i.bind(this));var o=Promise.prototype.catch.call(this,i);return a.convert(o,this)},a.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},a.prototype.error=function(i){return this.then(function(){throw new Error(i)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,$t.getPageSize=function(i,o,c){if(zr(i)==="object"){var d=i;i=d.orientation,o=d.unit||o,c=d.format||c}o=o||"mm",c=c||"a4",i=(""+(i||"P")).toLowerCase();var u,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var p,g=0,m=0;if(f.hasOwnProperty(h))g=f[h][1]/u,m=f[h][0]/u;else try{g=c[1],m=c[0]}catch{throw new Error("Invalid format: "+c)}if(i==="p"||i==="portrait")i="p",m>g&&(p=m,m=g,g=p);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",g>m&&(p=m,m=g,g=p)}return{width:m,height:g,unit:o,k:u,orientation:i}},r.html=function(i,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(SS):null;var c=new a(o);return o.worker?c:c.from(i).doCallback()}}($t.API),$t.API.addJS=function(r){return lP=r,this.internal.events.subscribe("postPutResources",function(){O1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(O1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),oP=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+lP+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){O1!==void 0&&oP!==void 0&&this.internal.out("/Names <</JavaScript "+O1+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),a=0;a<s.length;a++){var i=s[a],o=n.exec(i);if(o!=null){var c=o[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(i)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(a=0;a<d;a++){var h=t.internal.newObject();u.push(h);var f=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<u.length;a++)t.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,s,a){var i={title:s,options:a,children:[]};return n==null&&(n=this.root),n.children.push(i),i},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var i=n.children[a];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var c=t.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,s){for(var a=0;a<s.children.length;a++)n.count++,this.count_r(n,s.children[a]);return n.count}}])}($t.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,s,a,i,o){var c,d=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=i||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(h){for(var f,p=256*h.charCodeAt(4)+h.charCodeAt(5),g=h.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=p,e.indexOf(h.charCodeAt(v+1))!==-1){f=256*h.charCodeAt(v+5)+h.charCodeAt(v+6),m={width:256*h.charCodeAt(v+7)+h.charCodeAt(v+8),height:f,numcomponents:h.charCodeAt(v+9)};break}p=256*h.charCodeAt(v+2)+h.charCodeAt(v+3)}return m}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:t,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:d,index:n,alias:s}}return u}}($t.API);var ef,F1,cP,dP,uP,g3e=function(){var r,e,t;function n(a){var i,o,c,d,u,h,f,p,g,m,v,x,y,w;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(i=this.readUInt32(),g=(function(){var k,S;for(S=[],k=0;k<4;++k)S.push(String.fromCharCode(this.data[this.pos++]));return S}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),d=this.readUInt16()||100,h.delay=1e3*u/d,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,i-=4),a=(h!=null?h.data:void 0)||this.imgData,x=0;0<=i?x<i:x>i;0<=i?++x:--x)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((m=c-this.transparency.indexed.length)>0)for(y=0;0<=m?y<m:y>m;0<=m?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":f=(v=this.read(i)).indexOf(0),p=String.fromCharCode.apply(String,v.slice(0,f)),this.text[p]=String.fromCharCode.apply(String,v.slice(f+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var i,o;for(o=[],i=0;0<=a?i<a:i>a;0<=a?++i:--i)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var i=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*i),c=0,d=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function u(h,f,p,g){var m,v,x,y,w,k,S,N,A,E,R,O,L,D,F,M,B,z,V,W,Z,q=Math.ceil((d.width-h)/p),Q=Math.ceil((d.height-f)/g),T=d.width==q&&d.height==Q;for(D=i*q,O=T?o:new Uint8Array(D*Q),k=a.length,L=0,v=0;L<Q&&c<k;){switch(a[c++]){case 0:for(y=B=0;B<D;y=B+=1)O[v++]=a[c++];break;case 1:for(y=z=0;z<D;y=z+=1)m=a[c++],w=y<i?0:O[v-i],O[v++]=(m+w)%256;break;case 2:for(y=V=0;V<D;y=V+=1)m=a[c++],x=(y-y%i)/i,F=L&&O[(L-1)*D+x*i+y%i],O[v++]=(F+m)%256;break;case 3:for(y=W=0;W<D;y=W+=1)m=a[c++],x=(y-y%i)/i,w=y<i?0:O[v-i],F=L&&O[(L-1)*D+x*i+y%i],O[v++]=(m+Math.floor((w+F)/2))%256;break;case 4:for(y=Z=0;Z<D;y=Z+=1)m=a[c++],x=(y-y%i)/i,w=y<i?0:O[v-i],L===0?F=M=0:(F=O[(L-1)*D+x*i+y%i],M=x&&O[(L-1)*D+(x-1)*i+y%i]),S=w+F-M,N=Math.abs(S-w),E=Math.abs(S-F),R=Math.abs(S-M),A=N<=E&&N<=R?w:E<=R?F:M,O[v++]=(m+A)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!T){var H=((f+L*g)*d.width+h)*i,$=L*D;for(y=0;y<q;y+=1){for(var Y=0;Y<i;Y+=1)o[H++]=O[$++];H+=(p-1)*i}}L++}}return a=Y4e(a),d.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var a,i,o,c,d,u,h,f,p;for(o=this.palette,u=this.transparency.indexed||[],d=new Uint8Array((u.length||0)+o.length),c=0,a=0,i=h=0,f=o.length;h<f;i=h+=3)d[c++]=o[i],d[c++]=o[i+1],d[c++]=o[i+2],d[c++]=(p=u[a++])!=null?p:255;return d},n.prototype.copyToImageData=function(a,i){var o,c,d,u,h,f,p,g,m,v,x;if(c=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,o=!0),g=(d=a.data||a).length,h=m||i,u=f=0,c===1)for(;u<g;)p=m?4*i[u/4]:f,v=h[p++],d[u++]=v,d[u++]=v,d[u++]=v,d[u++]=o?h[p++]:255,f=p;else for(;u<g;)p=m?4*i[u/4]:f,d[u++]=h[p++],d[u++]=h[p++],d[u++]=h[p++],d[u++]=o?h[p++]:255,f=p},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var s=function(){if(Object.prototype.toString.call(Wt)==="[object Window]"){try{e=Wt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),r=function(a){var i;if(s()===!0)return t.width=a.width,t.height=a.height,t.clearRect(0,0,a.width,a.height),t.putImageData(a,0,0),(i=new Image).src=e.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var i,o,c,d,u,h,f,p;if(this.animation){for(p=[],o=u=0,h=(f=this.animation.frames).length;u<h;o=++u)i=f[o],c=a.createImageData(i.width,i.height),d=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(c,d),i.imageData=c,p.push(i.image=r(c));return p}},n.prototype.renderFrame=function(a,i){var o,c,d;return o=(c=this.animation.frames)[i],d=c[i-1],i===0&&a.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?a.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&a.putImageData(d.imageData,d.xOffset,d.yOffset),o.blendOp===0&&a.clearRect(o.xOffset,o.yOffset,o.width,o.height),a.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(a){var i,o,c,d,u,h,f=this;return o=0,h=this.animation,d=h.numFrames,c=h.frames,u=h.numPlays,(i=function(){var p,g;if(p=o++%d,g=c[p],f.renderFrame(a,p),d>1&&o/d<u)return f.animation._timeout=setTimeout(i,g.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var i,o;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,i=a.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(o=i.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),i.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function m3e(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,s=r[e++],a=s>>7,i=1<<(7&s)+1;r[e++],r[e++];var o=null,c=null;a&&(o=e,c=i,e+=3*i);var d=!0,u=[],h=0,f=null,p=0,g=null;for(this.width=t,this.height=n;d&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,g=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((L=r[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=r[e++];h=r[e++]|r[e++]<<8,f=r[e++],!(1&m)&&(f=null),p=m>>2&7,e++;break;case 254:for(;;){if(!((L=r[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var v=r[e++]|r[e++]<<8,x=r[e++]|r[e++]<<8,y=r[e++]|r[e++]<<8,w=r[e++]|r[e++]<<8,k=r[e++],S=k>>6&1,N=1<<(7&k)+1,A=o,E=c,R=!1;k>>7&&(R=!0,A=e,E=N,e+=3*N);var O=e;for(e++;;){var L;if(!((L=r[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}u.push({x:v,y:x,width:y,height:w,has_local_palette:R,palette_offset:A,palette_size:E,data_offset:O,data_length:e-O,transparent_index:f,interlaced:!!S,delay:h,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(D){if(D<0||D>=u.length)throw new Error("Frame index out of range.");return u[D]},this.decodeAndBlitFrameBGRA=function(D,F){var M=this.frameInfo(D),B=M.width*M.height,z=new Uint8Array(B);hP(r,M.data_offset,z,B);var V=M.palette_offset,W=M.transparent_index;W===null&&(W=256);var Z=M.width,q=t-Z,Q=Z,T=4*(M.y*t+M.x),H=4*((M.y+M.height)*t+M.x),$=T,Y=4*q;M.interlaced===!0&&(Y+=4*t*7);for(var K=8,re=0,oe=z.length;re<oe;++re){var ue=z[re];if(Q===0&&(Q=Z,($+=Y)>=H&&(Y=4*q+4*t*(K-1),$=T+(Z+q)*(K<<1),K>>=1)),ue===W)$+=4;else{var be=r[V+3*ue],Ce=r[V+3*ue+1],Se=r[V+3*ue+2];F[$++]=Se,F[$++]=Ce,F[$++]=be,F[$++]=255}--Q}},this.decodeAndBlitFrameRGBA=function(D,F){var M=this.frameInfo(D),B=M.width*M.height,z=new Uint8Array(B);hP(r,M.data_offset,z,B);var V=M.palette_offset,W=M.transparent_index;W===null&&(W=256);var Z=M.width,q=t-Z,Q=Z,T=4*(M.y*t+M.x),H=4*((M.y+M.height)*t+M.x),$=T,Y=4*q;M.interlaced===!0&&(Y+=4*t*7);for(var K=8,re=0,oe=z.length;re<oe;++re){var ue=z[re];if(Q===0&&(Q=Z,($+=Y)>=H&&(Y=4*q+4*t*(K-1),$=T+(Z+q)*(K<<1),K>>=1)),ue===W)$+=4;else{var be=r[V+3*ue],Ce=r[V+3*ue+1],Se=r[V+3*ue+2];F[$++]=be,F[$++]=Ce,F[$++]=Se,F[$++]=255}--Q}}}function hP(r,e,t,n){for(var s=r[e++],a=1<<s,i=a+1,o=i+1,c=s+1,d=(1<<c)-1,u=0,h=0,f=0,p=r[e++],g=new Int32Array(4096),m=null;;){for(;u<16&&p!==0;)h|=r[e++]<<u,u+=8,p===1?p=r[e++]:--p;if(u<c)break;var v=h&d;if(h>>=c,u-=c,v!==a){if(v===i)break;for(var x=v<o?v:m,y=0,w=x;w>a;)w=g[w]>>8,++y;var k=w;if(f+y+(x!==v?1:0)>n)return void Xr.log("Warning, gif stream longer than expected.");t[f++]=k;var S=f+=y;for(x!==v&&(t[f++]=k),w=x;y--;)w=g[w],t[--S]=255&w,w>>=8;m!==null&&o<4096&&(g[o++]=m<<8|k,o>=d+1&&c<12&&(++c,d=d<<1|1)),m=v}else o=i+1,d=(1<<(c=s+1))-1,m=null}return f!==n&&Xr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function s3(r){var e,t,n,s,a,i=Math.floor,o=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),f=new Array(65535),p=new Array(64),g=new Array(64),m=[],v=0,x=7,y=new Array(64),w=new Array(64),k=new Array(64),S=new Array(256),N=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],B=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(T,H){for(var $=0,Y=0,K=new Array,re=1;re<=16;re++){for(var oe=1;oe<=T[re];oe++)K[H[Y]]=[],K[H[Y]][0]=$,K[H[Y]][1]=re,Y++,$++;$*=2}return K}function V(T){for(var H=T[0],$=T[1]-1;$>=0;)H&1<<$&&(v|=1<<x),$--,--x<0&&(v==255?(W(255),W(0)):W(v),x=7,v=0)}function W(T){m.push(T)}function Z(T){W(T>>8&255),W(255&T)}function q(T,H,$,Y,K){for(var re,oe=K[0],ue=K[240],be=function(je,fe){var Re,He,it,Le,ze,Fe,Ze,ft,xt,Ae,he=0;for(xt=0;xt<8;++xt){Re=je[he],He=je[he+1],it=je[he+2],Le=je[he+3],ze=je[he+4],Fe=je[he+5],Ze=je[he+6];var mt=Re+(ft=je[he+7]),$e=Re-ft,pt=He+Ze,Ue=He-Ze,yt=it+Fe,ir=it-Fe,qt=Le+ze,Yr=Le-ze,Nr=mt+qt,Jr=mt-qt,Er=pt+yt,tr=pt-yt;je[he]=Nr+Er,je[he+4]=Nr-Er;var ne=.707106781*(tr+Jr);je[he+2]=Jr+ne,je[he+6]=Jr-ne;var ie=.382683433*((Nr=Yr+ir)-(tr=Ue+$e)),ve=.5411961*Nr+ie,Ee=1.306562965*tr+ie,Xe=.707106781*(Er=ir+Ue),ct=$e+Xe,qe=$e-Xe;je[he+5]=qe+ve,je[he+3]=qe-ve,je[he+1]=ct+Ee,je[he+7]=ct-Ee,he+=8}for(he=0,xt=0;xt<8;++xt){Re=je[he],He=je[he+8],it=je[he+16],Le=je[he+24],ze=je[he+32],Fe=je[he+40],Ze=je[he+48];var gt=Re+(ft=je[he+56]),Tt=Re-ft,Ke=He+Ze,bt=He-Ze,Mt=it+Fe,lr=it-Fe,Tr=Le+ze,Dn=Le-ze,$n=gt+Tr,ra=gt-Tr,Ss=Ke+Mt,Ha=Ke-Mt;je[he]=$n+Ss,je[he+32]=$n-Ss;var gr=.707106781*(Ha+ra);je[he+16]=ra+gr,je[he+48]=ra-gr;var Ua=.382683433*(($n=Dn+lr)-(Ha=bt+Tt)),xi=.5411961*$n+Ua,vi=1.306562965*Ha+Ua,na=.707106781*(Ss=lr+bt),Ji=Tt+na,yi=Tt-na;je[he+40]=yi+xi,je[he+24]=yi-xi,je[he+8]=Ji+vi,je[he+56]=Ji-vi,he++}for(xt=0;xt<64;++xt)Ae=je[xt]*fe[xt],p[xt]=Ae>0?Ae+.5|0:Ae-.5|0;return p}(T,H),Ce=0;Ce<64;++Ce)g[A[Ce]]=be[Ce];var Se=g[0]-$;$=g[0],Se==0?V(Y[0]):(V(Y[f[re=32767+Se]]),V(h[re]));for(var De=63;De>0&&g[De]==0;)De--;if(De==0)return V(oe),$;for(var at,_e=1;_e<=De;){for(var le=_e;g[_e]==0&&_e<=De;)++_e;var ut=_e-le;if(ut>=16){at=ut>>4;for(var rt=1;rt<=at;++rt)V(ue);ut&=15}re=32767+g[_e],V(K[(ut<<4)+f[re]]),V(h[re]),_e++}return De!=63&&V(oe),$}function Q(T){T=Math.min(Math.max(T,1),100),a!=T&&(function(H){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var K=i(($[Y]*H+50)/100);K=Math.min(Math.max(K,1),255),o[A[Y]]=K}for(var re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var ue=i((re[oe]*H+50)/100);ue=Math.min(Math.max(ue,1),255),c[A[oe]]=ue}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,Se=0;Se<8;Se++)for(var De=0;De<8;De++)d[Ce]=1/(o[A[Ce]]*be[Se]*be[De]*8),u[Ce]=1/(c[A[Ce]]*be[Se]*be[De]*8),Ce++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),a=T)}this.encode=function(T,H){H&&Q(H),m=new Array,v=0,x=7,Z(65496),Z(65504),Z(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),Z(1),Z(1),W(0),W(0),function(){Z(65499),Z(132),W(0);for(var He=0;He<64;He++)W(o[He]);W(1);for(var it=0;it<64;it++)W(c[it])}(),function(He,it){Z(65472),Z(17),W(8),Z(it),Z(He),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(T.width,T.height),function(){Z(65476),Z(418),W(0);for(var He=0;He<16;He++)W(E[He+1]);for(var it=0;it<=11;it++)W(R[it]);W(16);for(var Le=0;Le<16;Le++)W(O[Le+1]);for(var ze=0;ze<=161;ze++)W(L[ze]);W(1);for(var Fe=0;Fe<16;Fe++)W(D[Fe+1]);for(var Ze=0;Ze<=11;Ze++)W(F[Ze]);W(17);for(var ft=0;ft<16;ft++)W(M[ft+1]);for(var xt=0;xt<=161;xt++)W(B[xt])}(),Z(65498),Z(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var $=0,Y=0,K=0;v=0,x=7,this.encode.displayName="_encode_";for(var re,oe,ue,be,Ce,Se,De,at,_e,le=T.data,ut=T.width,rt=T.height,je=4*ut,fe=0;fe<rt;){for(re=0;re<je;){for(Ce=je*fe+re,De=-1,at=0,_e=0;_e<64;_e++)Se=Ce+(at=_e>>3)*je+(De=4*(7&_e)),fe+at>=rt&&(Se-=je*(fe+1+at-rt)),re+De>=je&&(Se-=re+De-je+4),oe=le[Se++],ue=le[Se++],be=le[Se++],y[_e]=(N[oe]+N[ue+256>>0]+N[be+512>>0]>>16)-128,w[_e]=(N[oe+768>>0]+N[ue+1024>>0]+N[be+1280>>0]>>16)-128,k[_e]=(N[oe+1280>>0]+N[ue+1536>>0]+N[be+1792>>0]>>16)-128;$=q(y,d,$,e,n),Y=q(w,u,Y,t,s),K=q(k,u,K,t,s),re+=32}fe+=8}if(x>=0){var Re=[];Re[1]=x+1,Re[0]=(1<<x+1)-1,V(Re)}return Z(65497),new Uint8Array(m)},r=r||50,function(){for(var T=String.fromCharCode,H=0;H<256;H++)S[H]=T(H)}(),e=z(E,R),t=z(D,F),n=z(O,L),s=z(M,B),function(){for(var T=1,H=2,$=1;$<=15;$++){for(var Y=T;Y<H;Y++)f[32767+Y]=$,h[32767+Y]=[],h[32767+Y][1]=$,h[32767+Y][0]=Y;for(var K=-(H-1);K<=-T;K++)f[32767+K]=$,h[32767+K]=[],h[32767+K][1]=$,h[32767+K][0]=H-1+K;T<<=1,H<<=1}}(),function(){for(var T=0;T<256;T++)N[T]=19595*T,N[T+256>>0]=38470*T,N[T+512>>0]=7471*T+32768,N[T+768>>0]=-11059*T,N[T+1024>>0]=-21709*T,N[T+1280>>0]=32768*T+8421375,N[T+1536>>0]=-27439*T,N[T+1792>>0]=-5329*T}(),Q(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ao(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function fP(r){function e(E){if(!E)throw Error("assert :P")}function t(E,R,O){for(var L=0;4>L;L++)if(E[R+L]!=O.charCodeAt(L))return!0;return!1}function n(E,R,O,L,D){for(var F=0;F<D;F++)E[R+F]=O[L+F]}function s(E,R,O,L){for(var D=0;D<L;D++)E[R+D]=O}function a(E){return new Int32Array(E)}function i(E,R){for(var O=[],L=0;L<E;L++)O.push(new R);return O}function o(E,R){var O=[];return function L(D,F,M){for(var B=M[F],z=0;z<B&&(D.push(M.length>F+1?[]:new R),!(M.length<F+1));z++)L(D[z],F+1,M)}(O,0,E),O}var c=function(){var E=this;function R(C,_){for(var I=1<<_-1>>>0;C&I;)I>>>=1;return I?(C&I-1)+I:C}function O(C,_,I,U,X){e(!(U%I));do C[_+(U-=I)]=X;while(0<U)}function L(C,_,I,U,X){if(e(2328>=X),512>=X)var ee=a(512);else if((ee=a(X))==null)return 0;return function(te,se,ae,ce,me,Te){var Pe,ke,Ye=se,Oe=1<<ae,xe=a(16),we=a(16);for(e(me!=0),e(ce!=null),e(te!=null),e(0<ae),ke=0;ke<me;++ke){if(15<ce[ke])return 0;++xe[ce[ke]]}if(xe[0]==me)return 0;for(we[1]=0,Pe=1;15>Pe;++Pe){if(xe[Pe]>1<<Pe)return 0;we[Pe+1]=we[Pe]+xe[Pe]}for(ke=0;ke<me;++ke)Pe=ce[ke],0<ce[ke]&&(Te[we[Pe]++]=ke);if(we[15]==1)return(ce=new D).g=0,ce.value=Te[0],O(te,Ye,1,Oe,ce),Oe;var Ve,Je=-1,We=Oe-1,Et=0,vt=1,Bt=1,wt=1<<ae;for(ke=0,Pe=1,me=2;Pe<=ae;++Pe,me<<=1){if(vt+=Bt<<=1,0>(Bt-=xe[Pe]))return 0;for(;0<xe[Pe];--xe[Pe])(ce=new D).g=Pe,ce.value=Te[ke++],O(te,Ye+Et,me,wt,ce),Et=R(Et,Pe)}for(Pe=ae+1,me=2;15>=Pe;++Pe,me<<=1){if(vt+=Bt<<=1,0>(Bt-=xe[Pe]))return 0;for(;0<xe[Pe];--xe[Pe]){if(ce=new D,(Et&We)!=Je){for(Ye+=wt,Ve=1<<(Je=Pe)-ae;15>Je&&!(0>=(Ve-=xe[Je]));)++Je,Ve<<=1;Oe+=wt=1<<(Ve=Je-ae),te[se+(Je=Et&We)].g=Ve+ae,te[se+Je].value=Ye-se-Je}ce.g=Pe-ae,ce.value=Te[ke++],O(te,Ye+(Et>>ae),me,wt,ce),Et=R(Et,Pe)}}return vt!=2*we[15]-1?0:Oe}(C,_,I,U,X,ee)}function D(){this.value=this.g=0}function F(){this.value=this.g=0}function M(){this.G=i(5,D),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Es,F)}function B(C,_,I,U){e(C!=null),e(_!=null),e(2147483648>U),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=_,C.pa=I,C.Jd=_,C.Yc=I+U,C.Zc=4<=U?I+U-4+1:I,re(C)}function z(C,_){for(var I=0;0<_--;)I|=ue(C,128)<<_;return I}function V(C,_){var I=z(C,_);return oe(C)?-I:I}function W(C,_,I,U){var X,ee=0;for(e(C!=null),e(_!=null),e(4294967288>U),C.Sb=U,C.Ra=0,C.u=0,C.h=0,4<U&&(U=4),X=0;X<U;++X)ee+=_[I+X]<<8*X;C.Ra=ee,C.bb=U,C.oa=_,C.pa=I}function Z(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<Lh-8>>>0,++C.bb,C.u-=8;$(C)&&(C.h=1,C.u=0)}function q(C,_){if(e(0<=_),!C.h&&_<=Ph){var I=H(C)&Th[_];return C.u+=_,Z(C),I}return C.h=1,C.u=0}function Q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function T(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(C){return C.Ra>>>(C.u&Lh-1)>>>0}function $(C){return e(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>Lh}function Y(C,_){C.u=_,C.h=$(C)}function K(C){C.u>=dg&&(e(C.u>=dg),Z(C))}function re(C){e(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(e(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function oe(C){return z(C,1)}function ue(C,_){var I=C.Ca;0>C.b&&re(C);var U=C.b,X=I*_>>>8,ee=(C.I>>>U>X)+0;for(ee?(I-=X,C.I-=X+1<<U>>>0):I=X+1,U=I,X=0;256<=U;)X+=8,U>>=8;return U=7^X+ba[U],C.b-=U,C.Ca=(I<<U)-1,ee}function be(C,_,I){C[_+0]=I>>24&255,C[_+1]=I>>16&255,C[_+2]=I>>8&255,C[_+3]=I>>0&255}function Ce(C,_){return C[_+0]<<0|C[_+1]<<8}function Se(C,_){return Ce(C,_)|C[_+2]<<16}function De(C,_){return Ce(C,_)|Ce(C,_+2)<<16}function at(C,_){var I=1<<_;return e(C!=null),e(0<_),C.X=a(I),C.X==null?0:(C.Mb=32-_,C.Xa=_,1)}function _e(C,_){e(C!=null),e(_!=null),e(C.Xa==_.Xa),n(_.X,0,C.X,0,1<<_.Xa)}function le(){this.X=[],this.Xa=this.Mb=0}function ut(C,_,I,U){e(I!=null),e(U!=null);var X=I[0],ee=U[0];return X==0&&(X=(C*ee+_/2)/_),ee==0&&(ee=(_*X+C/2)/C),0>=X||0>=ee?0:(I[0]=X,U[0]=ee,1)}function rt(C,_){return C+(1<<_)-1>>>_}function je(C,_){return((4278255360&C)+(4278255360&_)>>>0&4278255360)+((16711935&C)+(16711935&_)>>>0&16711935)>>>0}function fe(C,_){E[_]=function(I,U,X,ee,te,se,ae){var ce;for(ce=0;ce<te;++ce){var me=E[C](se[ae+ce-1],X,ee+ce);se[ae+ce]=je(I[U+ce],me)}}}function Re(){this.ud=this.hd=this.jd=0}function He(C,_){return((4278124286&(C^_))>>>1)+(C&_)>>>0}function it(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function Le(C,_){return it(C+(C-_+.5>>1))}function ze(C,_,I){return Math.abs(_-I)-Math.abs(C-I)}function Fe(C,_,I,U,X,ee,te){for(U=ee[te-1],I=0;I<X;++I)ee[te+I]=U=je(C[_+I],U)}function Ze(C,_,I,U,X){var ee;for(ee=0;ee<I;++ee){var te=C[_+ee],se=te>>8&255,ae=16711935&(ae=(ae=16711935&te)+((se<<16)+se));U[X+ee]=(4278255360&te)+ae>>>0}}function ft(C,_){_.jd=C>>0&255,_.hd=C>>8&255,_.ud=C>>16&255}function xt(C,_,I,U,X,ee){var te;for(te=0;te<U;++te){var se=_[I+te],ae=se>>>8,ce=se,me=255&(me=(me=se>>>16)+((C.jd<<24>>24)*(ae<<24>>24)>>>5));ce=255&(ce=(ce=ce+((C.hd<<24>>24)*(ae<<24>>24)>>>5))+((C.ud<<24>>24)*(me<<24>>24)>>>5)),X[ee+te]=(4278255360&se)+(me<<16)+ce}}function Ae(C,_,I,U,X){E[_]=function(ee,te,se,ae,ce,me,Te,Pe,ke){for(ae=Te;ae<Pe;++ae)for(Te=0;Te<ke;++Te)ce[me++]=X(se[U(ee[te++])])},E[C]=function(ee,te,se,ae,ce,me,Te){var Pe=8>>ee.b,ke=ee.Ea,Ye=ee.K[0],Oe=ee.w;if(8>Pe)for(ee=(1<<ee.b)-1,Oe=(1<<Pe)-1;te<se;++te){var xe,we=0;for(xe=0;xe<ke;++xe)xe&ee||(we=U(ae[ce++])),me[Te++]=X(Ye[we&Oe]),we>>=Pe}else E["VP8LMapColor"+I](ae,ce,Ye,Oe,me,Te,te,se,ke)}}function he(C,_,I,U,X){for(I=_+I;_<I;){var ee=C[_++];U[X++]=ee>>16&255,U[X++]=ee>>8&255,U[X++]=ee>>0&255}}function mt(C,_,I,U,X){for(I=_+I;_<I;){var ee=C[_++];U[X++]=ee>>16&255,U[X++]=ee>>8&255,U[X++]=ee>>0&255,U[X++]=ee>>24&255}}function $e(C,_,I,U,X){for(I=_+I;_<I;){var ee=(te=C[_++])>>16&240|te>>12&15,te=te>>0&240|te>>28&15;U[X++]=ee,U[X++]=te}}function pt(C,_,I,U,X){for(I=_+I;_<I;){var ee=(te=C[_++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;U[X++]=ee,U[X++]=te}}function Ue(C,_,I,U,X){for(I=_+I;_<I;){var ee=C[_++];U[X++]=ee>>0&255,U[X++]=ee>>8&255,U[X++]=ee>>16&255}}function yt(C,_,I,U,X,ee){if(ee==0)for(I=_+I;_<I;)be(U,((ee=C[_++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),X+=32;else n(U,X,C,_,I)}function ir(C,_){E[_][0]=E[C+"0"],E[_][1]=E[C+"1"],E[_][2]=E[C+"2"],E[_][3]=E[C+"3"],E[_][4]=E[C+"4"],E[_][5]=E[C+"5"],E[_][6]=E[C+"6"],E[_][7]=E[C+"7"],E[_][8]=E[C+"8"],E[_][9]=E[C+"9"],E[_][10]=E[C+"10"],E[_][11]=E[C+"11"],E[_][12]=E[C+"12"],E[_][13]=E[C+"13"],E[_][14]=E[C+"0"],E[_][15]=E[C+"0"]}function qt(C){return C==kw||C==Cw||C==_x||C==Sw}function Yr(){this.eb=[],this.size=this.A=this.fb=0}function Nr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Jr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Yr,this.f.kb=new Nr,this.sd=null}function Er(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function tr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ne(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function ie(C,_){var I=C.T,U=_.ba.f.RGBA,X=U.eb,ee=U.fb+C.ka*U.A,te=Ei[_.ba.S],se=C.y,ae=C.O,ce=C.f,me=C.N,Te=C.ea,Pe=C.W,ke=_.cc,Ye=_.dc,Oe=_.Mc,xe=_.Nc,we=C.ka,Ve=C.ka+C.T,Je=C.U,We=Je+1>>1;for(we==0?te(se,ae,null,null,ce,me,Te,Pe,ce,me,Te,Pe,X,ee,null,null,Je):(te(_.ec,_.fc,se,ae,ke,Ye,Oe,xe,ce,me,Te,Pe,X,ee-U.A,X,ee,Je),++I);we+2<Ve;we+=2)ke=ce,Ye=me,Oe=Te,xe=Pe,me+=C.Rc,Pe+=C.Rc,ee+=2*U.A,te(se,(ae+=2*C.fa)-C.fa,se,ae,ke,Ye,Oe,xe,ce,me,Te,Pe,X,ee-U.A,X,ee,Je);return ae+=C.fa,C.j+Ve<C.o?(n(_.ec,_.fc,se,ae,Je),n(_.cc,_.dc,ce,me,We),n(_.Mc,_.Nc,Te,Pe,We),I--):1&Ve||te(se,ae,null,null,ce,me,Te,Pe,ce,me,Te,Pe,X,ee+U.A,null,null,Je),I}function ve(C,_,I){var U=C.F,X=[C.J];if(U!=null){var ee=C.U,te=_.ba.S,se=te==Ex||te==_x;_=_.ba.f.RGBA;var ae=[0],ce=C.ka;ae[0]=C.T,C.Kb&&(ce==0?--ae[0]:(--ce,X[0]-=C.width),C.j+C.ka+C.T==C.o&&(ae[0]=C.o-C.j-ce));var me=_.eb;ce=_.fb+ce*_.A,C=Qr(U,X[0],C.width,ee,ae,me,ce+(se?0:3),_.A),e(I==ae),C&&qt(te)&&Si(me,ce,se,ee,ae,_.A)}return 0}function Ee(C){var _=C.ma,I=_.ba.S,U=11>I,X=I==Sx||I==Nx||I==Ex||I==ww||I==12||qt(I);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!lg(_.Oa,C,X?11:12))return 0;if(X&&qt(I)&&Qe(),C.da)alert("todo:use_scaling");else{if(U){if(_.Ib=ne,C.Kb){if(I=C.U+1>>1,_.memory=a(C.U+2*I),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+C.U,_.Mc=_.cc,_.Nc=_.dc+I,_.Ib=ie,Qe()}}else alert("todo:EmitYUV");X&&(_.Jb=ve,U&&Ne())}if(U&&!_8){for(C=0;256>C;++C)oV[C]=89858*(C-128)+Ax>>jx,dV[C]=-22014*(C-128)+Ax,cV[C]=-45773*(C-128),lV[C]=113618*(C-128)+Ax>>jx;for(C=xg;C<_w;++C)_=76283*(C-16)+Ax>>jx,uV[C-xg]=Wa(_,255),hV[C-xg]=Wa(_+8>>4,15);_8=1}return 1}function Xe(C){var _=C.ma,I=C.U,U=C.T;return e(!(1&C.ka)),0>=I||0>=U?0:(I=_.Ib(C,_),_.Jb!=null&&_.Jb(C,_,I),_.Dc+=I,1)}function ct(C){C.ma.memory=null}function qe(C,_,I,U){return q(C,8)!=47?0:(_[0]=q(C,14)+1,I[0]=q(C,14)+1,U[0]=q(C,1),q(C,3)!=0?0:!C.h)}function gt(C,_){if(4>C)return C+1;var I=C-2>>1;return(2+(1&C)<<I)+q(_,I)+1}function Tt(C,_){return 120<_?_-120:1<=(I=((I=Y$[_-1])>>4)*C+(8-(15&I)))?I:1;var I}function Ke(C,_,I){var U=H(I),X=C[_+=255&U].g-8;return 0<X&&(Y(I,I.u+8),U=H(I),_+=C[_].value,_+=U&(1<<X)-1),Y(I,I.u+C[_].g),C[_].value}function bt(C,_,I){return I.g+=C.g,I.value+=C.value<<_>>>0,e(8>=I.g),C.g}function Mt(C,_,I){var U=C.xc;return e((_=U==0?0:C.vc[C.md*(I>>U)+(_>>U)])<C.Wb),C.Ya[_]}function lr(C,_,I,U){var X=C.ab,ee=C.c*_,te=C.C;_=te+_;var se=I,ae=U;for(U=C.Ta,I=C.Ua;0<X--;){var ce=C.gc[X],me=te,Te=_,Pe=se,ke=ae,Ye=(ae=U,se=I,ce.Ea);switch(e(me<Te),e(Te<=ce.nc),ce.hc){case 2:xx(Pe,ke,(Te-me)*Ye,ae,se);break;case 0:var Oe=me,xe=Te,we=ae,Ve=se,Je=(wt=ce).Ea;Oe==0&&(yw(Pe,ke,null,null,1,we,Ve),Fe(Pe,ke+1,0,0,Je-1,we,Ve+1),ke+=Je,Ve+=Je,++Oe);for(var We=1<<wt.b,Et=We-1,vt=rt(Je,wt.b),Bt=wt.K,wt=wt.w+(Oe>>wt.b)*vt;Oe<xe;){var _r=Bt,Ir=wt,wr=1;for(ug(Pe,ke,we,Ve-Je,1,we,Ve);wr<Je;){var ur=(wr&~Et)+We;ur>Je&&(ur=Je),(0,uc[_r[Ir++]>>8&15])(Pe,ke+ +wr,we,Ve+wr-Je,ur-wr,we,Ve+wr),wr=ur}ke+=Je,Ve+=Je,++Oe&Et||(wt+=vt)}Te!=ce.nc&&n(ae,se-Ye,ae,se+(Te-me-1)*Ye,Ye);break;case 1:for(Ye=Pe,xe=ke,Je=(Pe=ce.Ea)-(Ve=Pe&~(we=(ke=1<<ce.b)-1)),Oe=rt(Pe,ce.b),We=ce.K,ce=ce.w+(me>>ce.b)*Oe;me<Te;){for(Et=We,vt=ce,Bt=new Re,wt=xe+Ve,_r=xe+Pe;xe<wt;)ft(Et[vt++],Bt),zd(Bt,Ye,xe,ke,ae,se),xe+=ke,se+=ke;xe<_r&&(ft(Et[vt++],Bt),zd(Bt,Ye,xe,Je,ae,se),xe+=Je,se+=Je),++me&we||(ce+=Oe)}break;case 3:if(Pe==ae&&ke==se&&0<ce.b){for(xe=ae,Pe=Ye=se+(Te-me)*Ye-(Ve=(Te-me)*rt(ce.Ea,ce.b)),ke=ae,we=se,Oe=[],Ve=(Je=Ve)-1;0<=Ve;--Ve)Oe[Ve]=ke[we+Ve];for(Ve=Je-1;0<=Ve;--Ve)xe[Pe+Ve]=Oe[Ve];wi(ce,me,Te,ae,Ye,ae,se)}else wi(ce,me,Te,Pe,ke,ae,se)}se=U,ae=I}ae!=I&&n(U,I,se,ae,ee)}function Tr(C,_){var I=C.V,U=C.Ba+C.c*C.C,X=_-C.C;if(e(_<=C.l.o),e(16>=X),0<X){var ee=C.l,te=C.Ta,se=C.Ua,ae=ee.width;if(lr(C,X,I,U),X=se=[se],e((I=C.C)<(U=_)),e(ee.v<ee.va),U>ee.o&&(U=ee.o),I<ee.j){var ce=ee.j-I;I=ee.j,X[0]+=ce*ae}if(I>=U?I=0:(X[0]+=4*ee.v,ee.ka=I-ee.j,ee.U=ee.va-ee.v,ee.T=U-I,I=1),I){if(se=se[0],11>(I=C.ca).S){var me=I.f.RGBA,Te=(U=I.S,X=ee.U,ee=ee.T,ce=me.eb,me.A),Pe=ee;for(me=me.fb+C.Ma*me.A;0<Pe--;){var ke=te,Ye=se,Oe=X,xe=ce,we=me;switch(U){case Cx:wa(ke,Ye,Oe,xe,we);break;case Sx:sa(ke,Ye,Oe,xe,we);break;case kw:sa(ke,Ye,Oe,xe,we),Si(xe,we,0,Oe,1,0);break;case v8:xl(ke,Ye,Oe,xe,we);break;case Nx:yt(ke,Ye,Oe,xe,we,1);break;case Cw:yt(ke,Ye,Oe,xe,we,1),Si(xe,we,0,Oe,1,0);break;case Ex:yt(ke,Ye,Oe,xe,we,0);break;case _x:yt(ke,Ye,Oe,xe,we,0),Si(xe,we,1,Oe,1,0);break;case ww:hc(ke,Ye,Oe,xe,we);break;case Sw:hc(ke,Ye,Oe,xe,we),Kr(xe,we,Oe,1,0);break;case y8:ml(ke,Ye,Oe,xe,we);break;default:e(0)}se+=ae,me+=Te}C.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");e(C.Ma<=I.height)}}C.C=_,e(C.C<=C.i)}function Dn(C){var _;if(0<C.ua)return 0;for(_=0;_<C.Wb;++_){var I=C.Ya[_].G,U=C.Ya[_].H;if(0<I[1][U[1]+0].g||0<I[2][U[2]+0].g||0<I[3][U[3]+0].g)return 0}return 1}function $n(C,_,I,U,X,ee){if(C.Z!=0){var te=C.qd,se=C.rd;for(e(mc[C.Z]!=null);_<I;++_)mc[C.Z](te,se,U,X,U,X,ee),te=U,se=X,X+=ee;C.qd=te,C.rd=se}}function ra(C,_){var I=C.l.ma,U=I.Z==0||I.Z==1?C.l.j:C.C;if(U=C.C<U?U:C.C,e(_<=C.l.o),_>U){var X=C.l.width,ee=I.ca,te=I.tb+X*U,se=C.V,ae=C.Ba+C.c*U,ce=C.gc;e(C.ab==1),e(ce[0].hc==3),vx(ce[0],U,_,se,ae,ee,te),$n(I,U,_,ee,te,X)}C.C=C.Ma=_}function Ss(C,_,I,U,X,ee,te){var se=C.$/U,ae=C.$%U,ce=C.m,me=C.s,Te=I+C.$,Pe=Te;X=I+U*X;var ke=I+U*ee,Ye=280+me.ua,Oe=C.Pb?se:16777216,xe=0<me.ua?me.Wa:null,we=me.wc,Ve=Te<ke?Mt(me,ae,se):null;e(C.C<ee),e(ke<=X);var Je=!1;e:for(;;){for(;Je||Te<ke;){var We=0;if(se>=Oe){var Et=Te-I;e((Oe=C).Pb),Oe.wd=Oe.m,Oe.xd=Et,0<Oe.s.ua&&_e(Oe.s.Wa,Oe.s.vb),Oe=se+X$}if(ae&we||(Ve=Mt(me,ae,se)),e(Ve!=null),Ve.Qb&&(_[Te]=Ve.qb,Je=!0),!Je)if(K(ce),Ve.jc){We=ce,Et=_;var vt=Te,Bt=Ve.pd[H(We)&Es-1];e(Ve.jc),256>Bt.g?(Y(We,We.u+Bt.g),Et[vt]=Bt.value,We=0):(Y(We,We.u+Bt.g-256),e(256<=Bt.value),We=Bt.value),We==0&&(Je=!0)}else We=Ke(Ve.G[0],Ve.H[0],ce);if(ce.h)break;if(Je||256>We){if(!Je)if(Ve.nd)_[Te]=(Ve.qb|We<<8)>>>0;else{if(K(ce),Je=Ke(Ve.G[1],Ve.H[1],ce),K(ce),Et=Ke(Ve.G[2],Ve.H[2],ce),vt=Ke(Ve.G[3],Ve.H[3],ce),ce.h)break;_[Te]=(vt<<24|Je<<16|We<<8|Et)>>>0}if(Je=!1,++Te,++ae>=U&&(ae=0,++se,te!=null&&se<=ee&&!(se%16)&&te(C,se),xe!=null))for(;Pe<Te;)We=_[Pe++],xe.X[(506832829*We&4294967295)>>>xe.Mb]=We}else if(280>We){if(We=gt(We-256,ce),Et=Ke(Ve.G[4],Ve.H[4],ce),K(ce),Et=Tt(U,Et=gt(Et,ce)),ce.h)break;if(Te-I<Et||X-Te<We)break e;for(vt=0;vt<We;++vt)_[Te+vt]=_[Te+vt-Et];for(Te+=We,ae+=We;ae>=U;)ae-=U,++se,te!=null&&se<=ee&&!(se%16)&&te(C,se);if(e(Te<=X),ae&we&&(Ve=Mt(me,ae,se)),xe!=null)for(;Pe<Te;)We=_[Pe++],xe.X[(506832829*We&4294967295)>>>xe.Mb]=We}else{if(!(We<Ye))break e;for(Je=We-280,e(xe!=null);Pe<Te;)We=_[Pe++],xe.X[(506832829*We&4294967295)>>>xe.Mb]=We;We=Te,e(!(Je>>>(Et=xe).Xa)),_[We]=Et.X[Je],Je=!0}Je||e(ce.h==$(ce))}if(C.Pb&&ce.h&&Te<X)e(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&_e(C.s.vb,C.s.Wa);else{if(ce.h)break e;te!=null&&te(C,se>ee?ee:se),C.a=0,C.$=Te-I}return 1}return C.a=3,0}function Ha(C){e(C!=null),C.vc=null,C.yc=null,C.Ya=null;var _=C.Wa;_!=null&&(_.X=null),C.vb=null,e(C!=null)}function gr(){var C=new vw;return C==null?null:(C.a=0,C.xb=k8,ir("Predictor","VP8LPredictors"),ir("Predictor","VP8LPredictors_C"),ir("PredictorAdd","VP8LPredictorsAdd"),ir("PredictorAdd","VP8LPredictorsAdd_C"),xx=Ze,zd=xt,wa=he,sa=mt,hc=$e,ml=pt,xl=Ue,E.VP8LMapColor32b=Dh,E.VP8LMapColor8b=yx,C)}function Ua(C,_,I,U,X){var ee=1,te=[C],se=[_],ae=U.m,ce=U.s,me=null,Te=0;e:for(;;){if(I)for(;ee&&q(ae,1);){var Pe=te,ke=se,Ye=U,Oe=1,xe=Ye.m,we=Ye.gc[Ye.ab],Ve=q(xe,2);if(Ye.Oc&1<<Ve)ee=0;else{switch(Ye.Oc|=1<<Ve,we.hc=Ve,we.Ea=Pe[0],we.nc=ke[0],we.K=[null],++Ye.ab,e(4>=Ye.ab),Ve){case 0:case 1:we.b=q(xe,3)+2,Oe=Ua(rt(we.Ea,we.b),rt(we.nc,we.b),0,Ye,we.K),we.K=we.K[0];break;case 3:var Je,We=q(xe,8)+1,Et=16<We?0:4<We?1:2<We?2:3;if(Pe[0]=rt(we.Ea,Et),we.b=Et,Je=Oe=Ua(We,1,0,Ye,we.K)){var vt,Bt=We,wt=we,_r=1<<(8>>wt.b),Ir=a(_r);if(Ir==null)Je=0;else{var wr=wt.K[0],ur=wt.w;for(Ir[0]=wt.K[0][0],vt=1;vt<1*Bt;++vt)Ir[vt]=je(wr[ur+vt],Ir[vt-1]);for(;vt<4*_r;++vt)Ir[vt]=0;wt.K[0]=null,wt.K[0]=Ir,Je=1}}Oe=Je;break;case 2:break;default:e(0)}ee=Oe}}if(te=te[0],se=se[0],ee&&q(ae,1)&&!(ee=1<=(Te=q(ae,4))&&11>=Te)){U.a=3;break e}var Gr;if(Gr=ee)t:{var $r,Kt,Yn,ka=U,Gn=te,Ca=se,Or=Te,Ya=I,Ga=ka.m,us=ka.s,_s=[null],ia=1,_i=0,Bo=G$[Or];r:for(;;){if(Ya&&q(Ga,1)){var hs=q(Ga,3)+2,wl=rt(Gn,hs),Wd=rt(Ca,hs),Fh=wl*Wd;if(!Ua(wl,Wd,0,ka,_s))break r;for(_s=_s[0],us.xc=hs,$r=0;$r<Fh;++$r){var xc=_s[$r]>>8&65535;_s[$r]=xc,xc>=ia&&(ia=xc+1)}}if(Ga.h)break r;for(Kt=0;5>Kt;++Kt){var Sn=b8[Kt];!Kt&&0<Or&&(Sn+=1<<Or),_i<Sn&&(_i=Sn)}var jw=i(ia*Bo,D),T8=ia,P8=i(T8,M);if(P8==null)var Px=null;else e(65536>=T8),Px=P8;var vg=a(_i);if(Px==null||vg==null||jw==null){ka.a=1;break r}var Lx=jw;for($r=Yn=0;$r<ia;++$r){var ro=Px[$r],Bh=ro.G,zh=ro.H,L8=0,Dx=1,D8=0;for(Kt=0;5>Kt;++Kt){Sn=b8[Kt],Bh[Kt]=Lx,zh[Kt]=Yn,!Kt&&0<Or&&(Sn+=1<<Or);s:{var Mx,Aw=Sn,Rx=ka,yg=vg,gV=Lx,mV=Yn,Tw=0,vc=Rx.m,xV=q(vc,1);if(s(yg,0,0,Aw),xV){var vV=q(vc,1)+1,yV=q(vc,1),M8=q(vc,yV==0?1:8);yg[M8]=1,vV==2&&(yg[M8=q(vc,8)]=1);var Ix=1}else{var R8=a(19),I8=q(vc,4)+4;if(19<I8){Rx.a=3;var Ox=0;break s}for(Mx=0;Mx<I8;++Mx)R8[q$[Mx]]=q(vc,3);var Pw=void 0,bg=void 0,O8=Rx,bV=R8,Fx=Aw,F8=yg,Lw=0,yc=O8.m,B8=8,z8=i(128,D);n:for(;L(z8,0,7,bV,19);){if(q(yc,1)){var wV=2+2*q(yc,3);if((Pw=2+q(yc,wV))>Fx)break n}else Pw=Fx;for(bg=0;bg<Fx&&Pw--;){K(yc);var H8=z8[0+(127&H(yc))];Y(yc,yc.u+H8.g);var Hh=H8.value;if(16>Hh)F8[bg++]=Hh,Hh!=0&&(B8=Hh);else{var kV=Hh==16,U8=Hh-16,CV=V$[U8],$8=q(yc,$$[U8])+CV;if(bg+$8>Fx)break n;for(var SV=kV?B8:0;0<$8--;)F8[bg++]=SV}}Lw=1;break n}Lw||(O8.a=3),Ix=Lw}(Ix=Ix&&!vc.h)&&(Tw=L(gV,mV,8,yg,Aw)),Ix&&Tw!=0?Ox=Tw:(Rx.a=3,Ox=0)}if(Ox==0)break r;if(Dx&&W$[Kt]==1&&(Dx=Lx[Yn].g==0),L8+=Lx[Yn].g,Yn+=Ox,3>=Kt){var wg,Dw=vg[0];for(wg=1;wg<Sn;++wg)vg[wg]>Dw&&(Dw=vg[wg]);D8+=Dw}}if(ro.nd=Dx,ro.Qb=0,Dx&&(ro.qb=(Bh[3][zh[3]+0].value<<24|Bh[1][zh[1]+0].value<<16|Bh[2][zh[2]+0].value)>>>0,L8==0&&256>Bh[0][zh[0]+0].value&&(ro.Qb=1,ro.qb+=Bh[0][zh[0]+0].value<<8)),ro.jc=!ro.Qb&&6>D8,ro.jc){var Bx,kl=ro;for(Bx=0;Bx<Es;++Bx){var bc=Bx,wc=kl.pd[bc],zx=kl.G[0][kl.H[0]+bc];256<=zx.value?(wc.g=zx.g+256,wc.value=zx.value):(wc.g=0,wc.value=0,bc>>=bt(zx,8,wc),bc>>=bt(kl.G[1][kl.H[1]+bc],16,wc),bc>>=bt(kl.G[2][kl.H[2]+bc],0,wc),bt(kl.G[3][kl.H[3]+bc],24,wc))}}}us.vc=_s,us.Wb=ia,us.Ya=Px,us.yc=jw,Gr=1;break t}Gr=0}if(!(ee=Gr)){U.a=3;break e}if(0<Te){if(ce.ua=1<<Te,!at(ce.Wa,Te)){U.a=1,ee=0;break e}}else ce.ua=0;var Mw=U,V8=te,NV=se,Rw=Mw.s,Iw=Rw.xc;if(Mw.c=V8,Mw.i=NV,Rw.md=rt(V8,Iw),Rw.wc=Iw==0?-1:(1<<Iw)-1,I){U.xb=rV;break e}if((me=a(te*se))==null){U.a=1,ee=0;break e}ee=(ee=Ss(U,me,0,te,se,se,null))&&!ae.h;break e}return ee?(X!=null?X[0]=me:(e(me==null),e(I)),U.$=0,I||Ha(ce)):Ha(ce),ee}function xi(C,_){var I=C.c*C.i,U=I+_+16*_;return e(C.c<=_),C.V=a(U),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+I+_,1)}function vi(C,_){var I=C.C,U=_-I,X=C.V,ee=C.Ba+C.c*I;for(e(_<=C.l.o);0<U;){var te=16<U?16:U,se=C.l.ma,ae=C.l.width,ce=ae*te,me=se.ca,Te=se.tb+ae*I,Pe=C.Ta,ke=C.Ua;lr(C,te,X,ee),Rn(Pe,ke,me,Te,ce),$n(se,I,I+te,me,Te,ae),U-=te,X+=te*C.c,I+=te}e(I==_),C.C=C.Ma=_}function na(){this.ub=this.yd=this.td=this.Rb=0}function Ji(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function yi(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ns(){this.Yb=function(){var C=[];return function _(I,U,X){for(var ee=X[U],te=0;te<ee&&(I.push(X.length>U+1?[]:0),!(X.length<U+1));te++)_(I[te],U+1,X)}(C,0,[3,11]),C}()}function ul(){this.jb=a(3),this.Wc=o([4,8],Ns),this.Xc=o([4,17],Ns)}function Vn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function hl(){this.ld=this.La=this.dd=this.tc=0}function Ur(){this.Na=this.la=0}function Wn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fl(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function va(){this.uc=this.M=this.Nb=0,this.wa=Array(new hl),this.Y=0,this.ya=Array(new fl),this.aa=0,this.l=new Ro}function $a(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Va(){this.cb=this.a=0,this.sc="",this.m=new Q,this.Od=new na,this.Kc=new Ji,this.ed=new Vn,this.Qa=new yi,this.Ic=this.$c=this.Aa=0,this.D=new va,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,Q),this.ia=0,this.pb=i(4,Wn),this.Pa=new ul,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $a),this.Hd=0,this.rb=Array(new Ur),this.sb=0,this.wa=Array(new hl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fl),this.L=this.aa=0,this.gd=o([4,2],hl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ro(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rd(){var C=new Va;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,mg||(mg=rx)),C}function an(C,_,I){return C.a==0&&(C.a=_,C.sc=I,C.cb=0),0}function bi(C,_,I){return 3<=I&&C[_+0]==157&&C[_+1]==1&&C[_+2]==42}function tx(C,_){if(C==null)return 0;if(C.a=0,C.sc="OK",_==null)return an(C,2,"null VP8Io passed to VP8GetHeaders()");var I=_.data,U=_.w,X=_.ha;if(4>X)return an(C,7,"Truncated header.");var ee=I[U+0]|I[U+1]<<8|I[U+2]<<16,te=C.Od;if(te.Rb=!(1&ee),te.td=ee>>1&7,te.yd=ee>>4&1,te.ub=ee>>5,3<te.td)return an(C,3,"Incorrect keyframe parameters.");if(!te.yd)return an(C,4,"Frame not displayable.");U+=3,X-=3;var se=C.Kc;if(te.Rb){if(7>X)return an(C,7,"cannot parse picture header");if(!bi(I,U,X))return an(C,3,"Bad code word");se.c=16383&(I[U+4]<<8|I[U+3]),se.Td=I[U+4]>>6,se.i=16383&(I[U+6]<<8|I[U+5]),se.Ud=I[U+6]>>6,U+=7,X-=7,C.za=se.c+15>>4,C.Ub=se.i+15>>4,_.width=se.c,_.height=se.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,s((ee=C.Pa).jb,0,255,ee.jb.length),e((ee=C.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,s(ee.Zb,0,0,ee.Zb.length),s(ee.Lb,0,0,ee.Lb)}if(te.ub>X)return an(C,7,"bad partition length");B(ee=C.m,I,U,te.ub),U+=te.ub,X-=te.ub,te.Rb&&(se.Ld=oe(ee),se.Kd=oe(ee)),se=C.Qa;var ae,ce=C.Pa;if(e(ee!=null),e(se!=null),se.Cb=oe(ee),se.Cb){if(se.Bb=oe(ee),oe(ee)){for(se.Fb=oe(ee),ae=0;4>ae;++ae)se.Zb[ae]=oe(ee)?V(ee,7):0;for(ae=0;4>ae;++ae)se.Lb[ae]=oe(ee)?V(ee,6):0}if(se.Bb)for(ae=0;3>ae;++ae)ce.jb[ae]=oe(ee)?z(ee,8):255}else se.Bb=0;if(ee.Ka)return an(C,3,"cannot parse segment header");if((se=C.ed).zd=oe(ee),se.Tb=z(ee,6),se.wb=z(ee,3),se.Pc=oe(ee),se.Pc&&oe(ee)){for(ce=0;4>ce;++ce)oe(ee)&&(se.vd[ce]=V(ee,6));for(ce=0;4>ce;++ce)oe(ee)&&(se.od[ce]=V(ee,6))}if(C.L=se.Tb==0?0:se.zd?1:2,ee.Ka)return an(C,3,"cannot parse filter header");var me=X;if(X=ae=U,U=ae+me,se=me,C.Xb=(1<<z(C.m,2))-1,me<3*(ce=C.Xb))I=7;else{for(ae+=3*ce,se-=3*ce,me=0;me<ce;++me){var Te=I[X+0]|I[X+1]<<8|I[X+2]<<16;Te>se&&(Te=se),B(C.Jc[+me],I,ae,Te),ae+=Te,se-=Te,X+=3}B(C.Jc[+ce],I,ae,se),I=ae<U?0:5}if(I!=0)return an(C,I,"cannot parse partitions");for(I=z(ae=C.m,7),X=oe(ae)?V(ae,4):0,U=oe(ae)?V(ae,4):0,se=oe(ae)?V(ae,4):0,ce=oe(ae)?V(ae,4):0,ae=oe(ae)?V(ae,4):0,me=C.Qa,Te=0;4>Te;++Te){if(me.Cb){var Pe=me.Zb[Te];me.Fb||(Pe+=I)}else{if(0<Te){C.pb[Te]=C.pb[0];continue}Pe=I}var ke=C.pb[Te];ke.Sc[0]=Nw[Wa(Pe+X,127)],ke.Sc[1]=Ew[Wa(Pe+0,127)],ke.Eb[0]=2*Nw[Wa(Pe+U,127)],ke.Eb[1]=101581*Ew[Wa(Pe+se,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=Nw[Wa(Pe+ce,117)],ke.Qc[1]=Ew[Wa(Pe+ae,127)],ke.lc=Pe+ae}if(!te.Rb)return an(C,4,"Not a key frame.");for(oe(ee),te=C.Pa,I=0;4>I;++I){for(X=0;8>X;++X)for(U=0;3>U;++U)for(se=0;11>se;++se)ce=ue(ee,eV[I][X][U][se])?z(ee,8):K$[I][X][U][se],te.Wc[I][X].Yb[U][se]=ce;for(X=0;17>X;++X)te.Xc[I][X]=te.Wc[I][tV[X]]}return C.kc=oe(ee),C.kc&&(C.Bd=z(ee,8)),C.cb=1}function rx(C,_,I,U,X,ee,te){var se=_[X].Yb[I];for(I=0;16>X;++X){if(!ue(C,se[I+0]))return X;for(;!ue(C,se[I+1]);)if(se=_[++X].Yb[0],I=0,X==16)return 16;var ae=_[X+1].Yb;if(ue(C,se[I+2])){var ce=C,me=0;if(ue(ce,(Pe=se)[(Te=I)+3]))if(ue(ce,Pe[Te+6])){for(se=0,Te=2*(me=ue(ce,Pe[Te+8]))+(Pe=ue(ce,Pe[Te+9+me])),me=0,Pe=Z$[Te];Pe[se];++se)me+=me+ue(ce,Pe[se]);me+=3+(8<<Te)}else ue(ce,Pe[Te+7])?(me=7+2*ue(ce,165),me+=ue(ce,145)):me=5+ue(ce,159);else me=ue(ce,Pe[Te+4])?3+ue(ce,Pe[Te+5]):2;se=ae[2]}else me=1,se=ae[1];ae=te+J$[X],0>(ce=C).b&&re(ce);var Te,Pe=ce.b,ke=(Te=ce.Ca>>1)-(ce.I>>Pe)>>31;--ce.b,ce.Ca+=ke,ce.Ca|=1,ce.I-=(Te+1&ke)<<Pe,ee[ae]=((me^ke)-ke)*U[(0<X)+0]}return 16}function Yp(C){var _=C.rb[C.sb-1];_.la=0,_.Na=0,s(C.zc,0,0,C.zc.length),C.ja=0}function tw(C,_){if(C==null)return 0;if(_==null)return an(C,2,"NULL VP8Io parameter in VP8Decode().");if(!C.cb&&!tx(C,_))return 0;if(e(C.cb),_.ac==null||_.ac(_)){_.ob&&(C.L=0);var I=Tx[C.L];if(C.L==2?(C.yb=0,C.zb=0):(C.yb=_.v-I>>4,C.zb=_.j-I>>4,0>C.yb&&(C.yb=0),0>C.zb&&(C.zb=0)),C.Va=_.o+15+I>>4,C.Hb=_.va+15+I>>4,C.Hb>C.za&&(C.Hb=C.za),C.Va>C.Ub&&(C.Va=C.Ub),0<C.L){var U=C.ed;for(I=0;4>I;++I){var X;if(C.Qa.Cb){var ee=C.Qa.Lb[I];C.Qa.Fb||(ee+=U.Tb)}else ee=U.Tb;for(X=0;1>=X;++X){var te=C.gd[I][X],se=ee;if(U.Pc&&(se+=U.vd[0],X&&(se+=U.od[0])),0<(se=0>se?0:63<se?63:se)){var ae=se;0<U.wb&&(ae=4<U.wb?ae>>2:ae>>1)>9-U.wb&&(ae=9-U.wb),1>ae&&(ae=1),te.dd=ae,te.tc=2*se+ae,te.ld=40<=se?2:15<=se?1:0}else te.tc=0;te.La=X}}}I=0}else an(C,6,"Frame setup failed"),I=C.a;if(I=I==0){if(I){C.$c=0,0<C.Aa||(C.Ic=pV);e:{I=C.Ic,U=4*(ae=C.za);var ce=32*ae,me=ae+1,Te=0<C.L?ae*(0<C.Aa?2:1):0,Pe=(C.Aa==2?2:1)*ae;if((te=U+832+(X=3*(16*I+Tx[C.L])/2*ce)+(ee=C.Fa!=null&&0<C.Fa.length?C.Kc.c*C.Kc.i:0))!=te)I=0;else{if(te>C.Vb){if(C.Vb=0,C.Ec=a(te),C.Fc=0,C.Ec==null){I=an(C,1,"no memory during frame initialization.");break e}C.Vb=te}te=C.Ec,se=C.Fc,C.Ac=te,C.Bc=se,se+=U,C.Gd=i(ce,$a),C.Hd=0,C.rb=i(me+1,Ur),C.sb=1,C.wa=Te?i(Te,hl):null,C.Y=0,C.D.Nb=0,C.D.wa=C.wa,C.D.Y=C.Y,0<C.Aa&&(C.D.Y+=ae),e(!0),C.oc=te,C.pc=se,se+=832,C.ya=i(Pe,fl),C.aa=0,C.D.ya=C.ya,C.D.aa=C.aa,C.Aa==2&&(C.D.aa+=ae),C.R=16*ae,C.B=8*ae,ae=(ce=Tx[C.L])*C.R,ce=ce/2*C.B,C.sa=te,C.ta=se+ae,C.qa=C.sa,C.ra=C.ta+16*I*C.R+ce,C.Ha=C.qa,C.Ia=C.ra+8*I*C.B+ce,C.$c=0,se+=X,C.mb=ee?te:null,C.nb=ee?se:null,e(se+ee<=C.Fc+C.Vb),Yp(C),s(C.Ac,C.Bc,0,U),I=1}}if(I){if(_.ka=0,_.y=C.sa,_.O=C.ta,_.f=C.qa,_.N=C.ra,_.ea=C.Ha,_.Vd=C.Ia,_.fa=C.R,_.Rc=C.B,_.F=null,_.J=0,!wx){for(I=-255;255>=I;++I)rs[255+I]=0>I?-I:I;for(I=-1020;1020>=I;++I)yl[1020+I]=-128>I?-128:127<I?127:I;for(I=-112;112>=I;++I)gg[112+I]=-16>I?-16:15<I?15:I;for(I=-255;510>=I;++I)Oh[255+I]=0>I?0:255<I?255:I;wx=1}Mh=sw,vl=rw,hg=sx,aa=nw,ki=ax,Mn=nx,Rh=Qp,bx=Fd,fg=xw,Hd=eg,Ud=mw,fc=Nh,$d=tg,Ih=px,Vd=fx,pc=Oo,pg=gl,Ci=gw,to[0]=Io,to[1]=aw,to[2]=cw,to[3]=dw,to[4]=lx,to[5]=Ch,to[6]=cx,to[7]=Zp,to[8]=hw,to[9]=uw,gc[0]=ix,gc[1]=ow,gc[2]=pl,gc[3]=wh,gc[4]=Bs,gc[5]=lw,gc[6]=ox,bl[0]=lc,bl[1]=iw,bl[2]=fw,bl[3]=Jp,bl[4]=Od,bl[5]=pw,bl[6]=Kp,I=1}else I=0}I&&(I=function(ke,Ye){for(ke.M=0;ke.M<ke.Va;++ke.M){var Oe,xe=ke.Jc[ke.M&ke.Xb],we=ke.m,Ve=ke;for(Oe=0;Oe<Ve.za;++Oe){var Je=we,We=Ve,Et=We.Ac,vt=We.Bc+4*Oe,Bt=We.zc,wt=We.ya[We.aa+Oe];if(We.Qa.Bb?wt.$b=ue(Je,We.Pa.jb[0])?2+ue(Je,We.Pa.jb[2]):ue(Je,We.Pa.jb[1]):wt.$b=0,We.kc&&(wt.Ad=ue(Je,We.Bd)),wt.Za=!ue(Je,145)+0,wt.Za){var _r=wt.Ob,Ir=0;for(We=0;4>We;++We){var wr,ur=Bt[0+We];for(wr=0;4>wr;++wr){ur=Q$[Et[vt+wr]][ur];for(var Gr=w8[ue(Je,ur[0])];0<Gr;)Gr=w8[2*Gr+ue(Je,ur[Gr])];ur=-Gr,Et[vt+wr]=ur}n(_r,Ir,Et,vt,4),Ir+=4,Bt[0+We]=ur}}else ur=ue(Je,156)?ue(Je,128)?1:3:ue(Je,163)?2:0,wt.Ob[0]=ur,s(Et,vt,ur,4),s(Bt,0,ur,4);wt.Dd=ue(Je,142)?ue(Je,114)?ue(Je,183)?1:3:2:0}if(Ve.m.Ka)return an(ke,7,"Premature end-of-partition0 encountered.");for(;ke.ja<ke.za;++ke.ja){if(Ve=xe,Je=(we=ke).rb[we.sb-1],Et=we.rb[we.sb+we.ja],Oe=we.ya[we.aa+we.ja],vt=we.kc?Oe.Ad:0)Je.la=Et.la=0,Oe.Za||(Je.Na=Et.Na=0),Oe.Hc=0,Oe.Gc=0,Oe.ia=0;else{var $r,Kt;if(Je=Et,Et=Ve,vt=we.Pa.Xc,Bt=we.ya[we.aa+we.ja],wt=we.pb[Bt.$b],We=Bt.ad,_r=0,Ir=we.rb[we.sb-1],ur=wr=0,s(We,_r,0,384),Bt.Za)var Yn=0,ka=vt[3];else{Gr=a(16);var Gn=Je.Na+Ir.Na;if(Gn=mg(Et,vt[1],Gn,wt.Eb,0,Gr,0),Je.Na=Ir.Na=(0<Gn)+0,1<Gn)Mh(Gr,0,We,_r);else{var Ca=Gr[0]+3>>3;for(Gr=0;256>Gr;Gr+=16)We[_r+Gr]=Ca}Yn=1,ka=vt[0]}var Or=15&Je.la,Ya=15&Ir.la;for(Gr=0;4>Gr;++Gr){var Ga=1&Ya;for(Ca=Kt=0;4>Ca;++Ca)Or=Or>>1|(Ga=(Gn=mg(Et,ka,Gn=Ga+(1&Or),wt.Sc,Yn,We,_r))>Yn)<<7,Kt=Kt<<2|(3<Gn?3:1<Gn?2:We[_r+0]!=0),_r+=16;Or>>=4,Ya=Ya>>1|Ga<<7,wr=(wr<<8|Kt)>>>0}for(ka=Or,Yn=Ya>>4,$r=0;4>$r;$r+=2){for(Kt=0,Or=Je.la>>4+$r,Ya=Ir.la>>4+$r,Gr=0;2>Gr;++Gr){for(Ga=1&Ya,Ca=0;2>Ca;++Ca)Gn=Ga+(1&Or),Or=Or>>1|(Ga=0<(Gn=mg(Et,vt[2],Gn,wt.Qc,0,We,_r)))<<3,Kt=Kt<<2|(3<Gn?3:1<Gn?2:We[_r+0]!=0),_r+=16;Or>>=2,Ya=Ya>>1|Ga<<5}ur|=Kt<<4*$r,ka|=Or<<4<<$r,Yn|=(240&Ya)<<$r}Je.la=ka,Ir.la=Yn,Bt.Hc=wr,Bt.Gc=ur,Bt.ia=43690&ur?0:wt.ia,vt=!(wr|ur)}if(0<we.L&&(we.wa[we.Y+we.ja]=we.gd[Oe.$b][Oe.Za],we.wa[we.Y+we.ja].La|=!vt),Ve.Ka)return an(ke,7,"Premature end-of-file encountered.")}if(Yp(ke),we=Ye,Ve=1,Oe=(xe=ke).D,Je=0<xe.L&&xe.M>=xe.zb&&xe.M<=xe.Va,xe.Aa==0)e:{if(Oe.M=xe.M,Oe.uc=Je,og(xe,Oe),Ve=1,Oe=(Kt=xe.D).Nb,Je=(ur=Tx[xe.L])*xe.R,Et=ur/2*xe.B,Gr=16*Oe*xe.R,Ca=8*Oe*xe.B,vt=xe.sa,Bt=xe.ta-Je+Gr,wt=xe.qa,We=xe.ra-Et+Ca,_r=xe.Ha,Ir=xe.Ia-Et+Ca,Ya=(Or=Kt.M)==0,wr=Or>=xe.Va-1,xe.Aa==2&&og(xe,Kt),Kt.uc)for(Ga=(Gn=xe).D.M,e(Gn.D.uc),Kt=Gn.yb;Kt<Gn.Hb;++Kt){Yn=Kt,ka=Ga;var us=(_s=(Sn=Gn).D).Nb;$r=Sn.R;var _s=_s.wa[_s.Y+Yn],ia=Sn.sa,_i=Sn.ta+16*us*$r+16*Yn,Bo=_s.dd,hs=_s.tc;if(hs!=0)if(e(3<=hs),Sn.L==1)0<Yn&&pc(ia,_i,$r,hs+4),_s.La&&Ci(ia,_i,$r,hs),0<ka&&Vd(ia,_i,$r,hs+4),_s.La&&pg(ia,_i,$r,hs);else{var wl=Sn.B,Wd=Sn.qa,Fh=Sn.ra+8*us*wl+8*Yn,xc=Sn.Ha,Sn=Sn.Ia+8*us*wl+8*Yn;us=_s.ld,0<Yn&&(bx(ia,_i,$r,hs+4,Bo,us),Hd(Wd,Fh,xc,Sn,wl,hs+4,Bo,us)),_s.La&&(fc(ia,_i,$r,hs,Bo,us),Ih(Wd,Fh,xc,Sn,wl,hs,Bo,us)),0<ka&&(Rh(ia,_i,$r,hs+4,Bo,us),fg(Wd,Fh,xc,Sn,wl,hs+4,Bo,us)),_s.La&&(Ud(ia,_i,$r,hs,Bo,us),$d(Wd,Fh,xc,Sn,wl,hs,Bo,us))}}if(xe.ia&&alert("todo:DitherRow"),we.put!=null){if(Kt=16*Or,Or=16*(Or+1),Ya?(we.y=xe.sa,we.O=xe.ta+Gr,we.f=xe.qa,we.N=xe.ra+Ca,we.ea=xe.Ha,we.W=xe.Ia+Ca):(Kt-=ur,we.y=vt,we.O=Bt,we.f=wt,we.N=We,we.ea=_r,we.W=Ir),wr||(Or-=ur),Or>we.o&&(Or=we.o),we.F=null,we.J=null,xe.Fa!=null&&0<xe.Fa.length&&Kt<Or&&(we.J=ag(xe,we,Kt,Or-Kt),we.F=xe.mb,we.F==null&&we.F.length==0)){Ve=an(xe,3,"Could not decode alpha data.");break e}Kt<we.j&&(ur=we.j-Kt,Kt=we.j,e(!(1&ur)),we.O+=xe.R*ur,we.N+=xe.B*(ur>>1),we.W+=xe.B*(ur>>1),we.F!=null&&(we.J+=we.width*ur)),Kt<Or&&(we.O+=we.v,we.N+=we.v>>1,we.W+=we.v>>1,we.F!=null&&(we.J+=we.v),we.ka=Kt-we.j,we.U=we.va-we.v,we.T=Or-Kt,Ve=we.put(we))}Oe+1!=xe.Ic||wr||(n(xe.sa,xe.ta-Je,vt,Bt+16*xe.R,Je),n(xe.qa,xe.ra-Et,wt,We+8*xe.B,Et),n(xe.Ha,xe.Ia-Et,_r,Ir+8*xe.B,Et))}if(!Ve)return an(ke,6,"Output aborted.")}return 1}(C,_)),_.bc!=null&&_.bc(_),I&=1}return I?(C.cb=0,I):0}function Ki(C,_,I,U,X){X=C[_+I+32*U]+(X>>3),C[_+I+32*U]=-256&X?0>X?0:255:X}function bh(C,_,I,U,X,ee){Ki(C,_,0,I,U+X),Ki(C,_,1,I,U+ee),Ki(C,_,2,I,U-ee),Ki(C,_,3,I,U-X)}function ya(C){return(20091*C>>16)+C}function Gp(C,_,I,U){var X,ee=0,te=a(16);for(X=0;4>X;++X){var se=C[_+0]+C[_+8],ae=C[_+0]-C[_+8],ce=(35468*C[_+4]>>16)-ya(C[_+12]),me=ya(C[_+4])+(35468*C[_+12]>>16);te[ee+0]=se+me,te[ee+1]=ae+ce,te[ee+2]=ae-ce,te[ee+3]=se-me,ee+=4,_++}for(X=ee=0;4>X;++X)se=(C=te[ee+0]+4)+te[ee+8],ae=C-te[ee+8],ce=(35468*te[ee+4]>>16)-ya(te[ee+12]),Ki(I,U,0,0,se+(me=ya(te[ee+4])+(35468*te[ee+12]>>16))),Ki(I,U,1,0,ae+ce),Ki(I,U,2,0,ae-ce),Ki(I,U,3,0,se-me),ee++,U+=32}function nx(C,_,I,U){var X=C[_+0]+4,ee=35468*C[_+4]>>16,te=ya(C[_+4]),se=35468*C[_+1]>>16;bh(I,U,0,X+te,C=ya(C[_+1]),se),bh(I,U,1,X+ee,C,se),bh(I,U,2,X-ee,C,se),bh(I,U,3,X-te,C,se)}function rw(C,_,I,U,X){Gp(C,_,I,U),X&&Gp(C,_+16,I,U+4)}function sx(C,_,I,U){vl(C,_+0,I,U,1),vl(C,_+32,I,U+128,1)}function nw(C,_,I,U){var X;for(C=C[_+0]+4,X=0;4>X;++X)for(_=0;4>_;++_)Ki(I,U,_,X,C)}function ax(C,_,I,U){C[_+0]&&aa(C,_+0,I,U),C[_+16]&&aa(C,_+16,I,U+4),C[_+32]&&aa(C,_+32,I,U+128),C[_+48]&&aa(C,_+48,I,U+128+4)}function sw(C,_,I,U){var X,ee=a(16);for(X=0;4>X;++X){var te=C[_+0+X]+C[_+12+X],se=C[_+4+X]+C[_+8+X],ae=C[_+4+X]-C[_+8+X],ce=C[_+0+X]-C[_+12+X];ee[0+X]=te+se,ee[8+X]=te-se,ee[4+X]=ce+ae,ee[12+X]=ce-ae}for(X=0;4>X;++X)te=(C=ee[0+4*X]+3)+ee[3+4*X],se=ee[1+4*X]+ee[2+4*X],ae=ee[1+4*X]-ee[2+4*X],ce=C-ee[3+4*X],I[U+0]=te+se>>3,I[U+16]=ce+ae>>3,I[U+32]=te-se>>3,I[U+48]=ce-ae>>3,U+=64}function Xp(C,_,I){var U,X=_-32,ee=qa,te=255-C[X-1];for(U=0;U<I;++U){var se,ae=ee,ce=te+C[_-1];for(se=0;se<I;++se)C[_+se]=ae[ce+C[X+se]];_+=32}}function aw(C,_){Xp(C,_,4)}function iw(C,_){Xp(C,_,8)}function ow(C,_){Xp(C,_,16)}function pl(C,_){var I;for(I=0;16>I;++I)n(C,_+32*I,C,_-32,16)}function wh(C,_){var I;for(I=16;0<I;--I)s(C,_,C[_-1],16),_+=32}function kh(C,_,I){var U;for(U=0;16>U;++U)s(_,I+32*U,C,16)}function ix(C,_){var I,U=16;for(I=0;16>I;++I)U+=C[_-1+32*I]+C[_+I-32];kh(U>>5,C,_)}function Bs(C,_){var I,U=8;for(I=0;16>I;++I)U+=C[_-1+32*I];kh(U>>4,C,_)}function lw(C,_){var I,U=8;for(I=0;16>I;++I)U+=C[_+I-32];kh(U>>4,C,_)}function ox(C,_){kh(128,C,_)}function Yt(C,_,I){return C+2*_+I+2>>2}function cw(C,_){var I,U=_-32;for(U=new Uint8Array([Yt(C[U-1],C[U+0],C[U+1]),Yt(C[U+0],C[U+1],C[U+2]),Yt(C[U+1],C[U+2],C[U+3]),Yt(C[U+2],C[U+3],C[U+4])]),I=0;4>I;++I)n(C,_+32*I,U,0,U.length)}function dw(C,_){var I=C[_-1],U=C[_-1+32],X=C[_-1+64],ee=C[_-1+96];be(C,_+0,16843009*Yt(C[_-1-32],I,U)),be(C,_+32,16843009*Yt(I,U,X)),be(C,_+64,16843009*Yt(U,X,ee)),be(C,_+96,16843009*Yt(X,ee,ee))}function Io(C,_){var I,U=4;for(I=0;4>I;++I)U+=C[_+I-32]+C[_-1+32*I];for(U>>=3,I=0;4>I;++I)s(C,_+32*I,U,4)}function lx(C,_){var I=C[_-1+0],U=C[_-1+32],X=C[_-1+64],ee=C[_-1-32],te=C[_+0-32],se=C[_+1-32],ae=C[_+2-32],ce=C[_+3-32];C[_+0+96]=Yt(U,X,C[_-1+96]),C[_+1+96]=C[_+0+64]=Yt(I,U,X),C[_+2+96]=C[_+1+64]=C[_+0+32]=Yt(ee,I,U),C[_+3+96]=C[_+2+64]=C[_+1+32]=C[_+0+0]=Yt(te,ee,I),C[_+3+64]=C[_+2+32]=C[_+1+0]=Yt(se,te,ee),C[_+3+32]=C[_+2+0]=Yt(ae,se,te),C[_+3+0]=Yt(ce,ae,se)}function cx(C,_){var I=C[_+1-32],U=C[_+2-32],X=C[_+3-32],ee=C[_+4-32],te=C[_+5-32],se=C[_+6-32],ae=C[_+7-32];C[_+0+0]=Yt(C[_+0-32],I,U),C[_+1+0]=C[_+0+32]=Yt(I,U,X),C[_+2+0]=C[_+1+32]=C[_+0+64]=Yt(U,X,ee),C[_+3+0]=C[_+2+32]=C[_+1+64]=C[_+0+96]=Yt(X,ee,te),C[_+3+32]=C[_+2+64]=C[_+1+96]=Yt(ee,te,se),C[_+3+64]=C[_+2+96]=Yt(te,se,ae),C[_+3+96]=Yt(se,ae,ae)}function Ch(C,_){var I=C[_-1+0],U=C[_-1+32],X=C[_-1+64],ee=C[_-1-32],te=C[_+0-32],se=C[_+1-32],ae=C[_+2-32],ce=C[_+3-32];C[_+0+0]=C[_+1+64]=ee+te+1>>1,C[_+1+0]=C[_+2+64]=te+se+1>>1,C[_+2+0]=C[_+3+64]=se+ae+1>>1,C[_+3+0]=ae+ce+1>>1,C[_+0+96]=Yt(X,U,I),C[_+0+64]=Yt(U,I,ee),C[_+0+32]=C[_+1+96]=Yt(I,ee,te),C[_+1+32]=C[_+2+96]=Yt(ee,te,se),C[_+2+32]=C[_+3+96]=Yt(te,se,ae),C[_+3+32]=Yt(se,ae,ce)}function Zp(C,_){var I=C[_+0-32],U=C[_+1-32],X=C[_+2-32],ee=C[_+3-32],te=C[_+4-32],se=C[_+5-32],ae=C[_+6-32],ce=C[_+7-32];C[_+0+0]=I+U+1>>1,C[_+1+0]=C[_+0+64]=U+X+1>>1,C[_+2+0]=C[_+1+64]=X+ee+1>>1,C[_+3+0]=C[_+2+64]=ee+te+1>>1,C[_+0+32]=Yt(I,U,X),C[_+1+32]=C[_+0+96]=Yt(U,X,ee),C[_+2+32]=C[_+1+96]=Yt(X,ee,te),C[_+3+32]=C[_+2+96]=Yt(ee,te,se),C[_+3+64]=Yt(te,se,ae),C[_+3+96]=Yt(se,ae,ce)}function uw(C,_){var I=C[_-1+0],U=C[_-1+32],X=C[_-1+64],ee=C[_-1+96];C[_+0+0]=I+U+1>>1,C[_+2+0]=C[_+0+32]=U+X+1>>1,C[_+2+32]=C[_+0+64]=X+ee+1>>1,C[_+1+0]=Yt(I,U,X),C[_+3+0]=C[_+1+32]=Yt(U,X,ee),C[_+3+32]=C[_+1+64]=Yt(X,ee,ee),C[_+3+64]=C[_+2+64]=C[_+0+96]=C[_+1+96]=C[_+2+96]=C[_+3+96]=ee}function hw(C,_){var I=C[_-1+0],U=C[_-1+32],X=C[_-1+64],ee=C[_-1+96],te=C[_-1-32],se=C[_+0-32],ae=C[_+1-32],ce=C[_+2-32];C[_+0+0]=C[_+2+32]=I+te+1>>1,C[_+0+32]=C[_+2+64]=U+I+1>>1,C[_+0+64]=C[_+2+96]=X+U+1>>1,C[_+0+96]=ee+X+1>>1,C[_+3+0]=Yt(se,ae,ce),C[_+2+0]=Yt(te,se,ae),C[_+1+0]=C[_+3+32]=Yt(I,te,se),C[_+1+32]=C[_+3+64]=Yt(U,I,te),C[_+1+64]=C[_+3+96]=Yt(X,U,I),C[_+1+96]=Yt(ee,X,U)}function fw(C,_){var I;for(I=0;8>I;++I)n(C,_+32*I,C,_-32,8)}function Jp(C,_){var I;for(I=0;8>I;++I)s(C,_,C[_-1],8),_+=32}function Id(C,_,I){var U;for(U=0;8>U;++U)s(_,I+32*U,C,8)}function lc(C,_){var I,U=8;for(I=0;8>I;++I)U+=C[_+I-32]+C[_-1+32*I];Id(U>>4,C,_)}function pw(C,_){var I,U=4;for(I=0;8>I;++I)U+=C[_+I-32];Id(U>>3,C,_)}function Od(C,_){var I,U=4;for(I=0;8>I;++I)U+=C[_-1+32*I];Id(U>>3,C,_)}function Kp(C,_){Id(128,C,_)}function Sh(C,_,I){var U=C[_-I],X=C[_+0],ee=3*(X-U)+bw[1020+C[_-2*I]-C[_+I]],te=kx[112+(ee+4>>3)];C[_-I]=qa[255+U+kx[112+(ee+3>>3)]],C[_+0]=qa[255+X-te]}function dx(C,_,I,U){var X=C[_+0],ee=C[_+I];return Ni[255+C[_-2*I]-C[_-I]]>U||Ni[255+ee-X]>U}function ux(C,_,I,U){return 4*Ni[255+C[_-I]-C[_+0]]+Ni[255+C[_-2*I]-C[_+I]]<=U}function hx(C,_,I,U,X){var ee=C[_-3*I],te=C[_-2*I],se=C[_-I],ae=C[_+0],ce=C[_+I],me=C[_+2*I],Te=C[_+3*I];return 4*Ni[255+se-ae]+Ni[255+te-ce]>U?0:Ni[255+C[_-4*I]-ee]<=X&&Ni[255+ee-te]<=X&&Ni[255+te-se]<=X&&Ni[255+Te-me]<=X&&Ni[255+me-ce]<=X&&Ni[255+ce-ae]<=X}function fx(C,_,I,U){var X=2*U+1;for(U=0;16>U;++U)ux(C,_+U,I,X)&&Sh(C,_+U,I)}function Oo(C,_,I,U){var X=2*U+1;for(U=0;16>U;++U)ux(C,_+U*I,1,X)&&Sh(C,_+U*I,1)}function gl(C,_,I,U){var X;for(X=3;0<X;--X)fx(C,_+=4*I,I,U)}function gw(C,_,I,U){var X;for(X=3;0<X;--X)Oo(C,_+=4,I,U)}function cc(C,_,I,U,X,ee,te,se){for(ee=2*ee+1;0<X--;){if(hx(C,_,I,ee,te))if(dx(C,_,I,se))Sh(C,_,I);else{var ae=C,ce=_,me=I,Te=ae[ce-2*me],Pe=ae[ce-me],ke=ae[ce+0],Ye=ae[ce+me],Oe=ae[ce+2*me],xe=27*(Ve=bw[1020+3*(ke-Pe)+bw[1020+Te-Ye]])+63>>7,we=18*Ve+63>>7,Ve=9*Ve+63>>7;ae[ce-3*me]=qa[255+ae[ce-3*me]+Ve],ae[ce-2*me]=qa[255+Te+we],ae[ce-me]=qa[255+Pe+xe],ae[ce+0]=qa[255+ke-xe],ae[ce+me]=qa[255+Ye-we],ae[ce+2*me]=qa[255+Oe-Ve]}_+=U}}function Qi(C,_,I,U,X,ee,te,se){for(ee=2*ee+1;0<X--;){if(hx(C,_,I,ee,te))if(dx(C,_,I,se))Sh(C,_,I);else{var ae=C,ce=_,me=I,Te=ae[ce-me],Pe=ae[ce+0],ke=ae[ce+me],Ye=kx[112+((Oe=3*(Pe-Te))+4>>3)],Oe=kx[112+(Oe+3>>3)],xe=Ye+1>>1;ae[ce-2*me]=qa[255+ae[ce-2*me]+xe],ae[ce-me]=qa[255+Te+Oe],ae[ce+0]=qa[255+Pe-Ye],ae[ce+me]=qa[255+ke-xe]}_+=U}}function Qp(C,_,I,U,X,ee){cc(C,_,I,1,16,U,X,ee)}function Fd(C,_,I,U,X,ee){cc(C,_,1,I,16,U,X,ee)}function mw(C,_,I,U,X,ee){var te;for(te=3;0<te;--te)Qi(C,_+=4*I,I,1,16,U,X,ee)}function Nh(C,_,I,U,X,ee){var te;for(te=3;0<te;--te)Qi(C,_+=4,1,I,16,U,X,ee)}function xw(C,_,I,U,X,ee,te,se){cc(C,_,X,1,8,ee,te,se),cc(I,U,X,1,8,ee,te,se)}function eg(C,_,I,U,X,ee,te,se){cc(C,_,1,X,8,ee,te,se),cc(I,U,1,X,8,ee,te,se)}function tg(C,_,I,U,X,ee,te,se){Qi(C,_+4*X,X,1,8,ee,te,se),Qi(I,U+4*X,X,1,8,ee,te,se)}function px(C,_,I,U,X,ee,te,se){Qi(C,_+4,1,X,8,ee,te,se),Qi(I,U+4,1,X,8,ee,te,se)}function Eh(){this.ba=new Jr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new tr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rg(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ng(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function gx(){this.ua=0,this.Wa=new le,this.vb=new le,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new M,this.yc=new D}function vw(){this.xb=this.a=0,this.l=new Ro,this.ca=new Jr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new T,this.Pb=0,this.wd=new T,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new gx,this.ab=0,this.gc=i(4,ng),this.Oc=0}function _h(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ro,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Bd(C,_,I,U,X,ee,te){for(C=C==null?0:C[_+0],_=0;_<te;++_)X[ee+_]=C+I[U+_]&255,C=X[ee+_]}function sg(C,_,I,U,X,ee,te){var se;if(C==null)Bd(null,null,I,U,X,ee,te);else for(se=0;se<te;++se)X[ee+se]=C[_+se]+I[U+se]&255}function dc(C,_,I,U,X,ee,te){if(C==null)Bd(null,null,I,U,X,ee,te);else{var se,ae=C[_+0],ce=ae,me=ae;for(se=0;se<te;++se)ce=me+(ae=C[_+se])-ce,me=I[U+se]+(-256&ce?0>ce?0:255:ce)&255,ce=ae,X[ee+se]=me}}function ag(C,_,I,U){var X=_.width,ee=_.o;if(e(C!=null&&_!=null),0>I||0>=U||I+U>ee)return null;if(!C.Cc){if(C.ga==null){var te;if(C.ga=new _h,(te=C.ga==null)||(te=_.width*_.o,e(C.Gb.length==0),C.Gb=a(te),C.Uc=0,C.Gb==null?te=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,te=1),te=!te),!te){te=C.ga;var se=C.Fa,ae=C.P,ce=C.qc,me=C.mb,Te=C.nb,Pe=ae+1,ke=ce-1,Ye=te.l;if(e(se!=null&&me!=null&&_!=null),mc[0]=null,mc[1]=Bd,mc[2]=sg,mc[3]=dc,te.ca=me,te.tb=Te,te.c=_.width,te.i=_.height,e(0<te.c&&0<te.i),1>=ce)_=0;else if(te.$a=se[ae+0]>>0&3,te.Z=se[ae+0]>>2&3,te.Lc=se[ae+0]>>4&3,ae=se[ae+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||ae)_=0;else if(Ye.put=Xe,Ye.ac=Ee,Ye.bc=ct,Ye.ma=te,Ye.width=_.width,Ye.height=_.height,Ye.Da=_.Da,Ye.v=_.v,Ye.va=_.va,Ye.j=_.j,Ye.o=_.o,te.$a)e:{e(te.$a==1),_=gr();t:for(;;){if(_==null){_=0;break e}if(e(te!=null),te.mc=_,_.c=te.c,_.i=te.i,_.l=te.l,_.l.ma=te,_.l.width=te.c,_.l.height=te.i,_.a=0,W(_.m,se,Pe,ke),!Ua(te.c,te.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Dn(_.s)?(te.ic=1,se=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(se),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(te.ic=0,_=xi(_,te.c)),!_))break t;_=1;break e}te.mc=null,_=0}else _=ke>=te.c*te.i;te=!_}if(te)return null;C.ga.Lc!=1?C.Ga=0:U=ee-I}e(C.ga!=null),e(I+U<=ee);e:{if(_=(se=C.ga).c,ee=se.l.o,se.$a==0){if(Pe=C.rc,ke=C.Vc,Ye=C.Fa,ae=C.P+1+I*_,ce=C.mb,me=C.nb+I*_,e(ae<=C.P+C.qc),se.Z!=0)for(e(mc[se.Z]!=null),te=0;te<U;++te)mc[se.Z](Pe,ke,Ye,ae,ce,me,_),Pe=ce,ke=me,me+=_,ae+=_;else for(te=0;te<U;++te)n(ce,me,Ye,ae,_),Pe=ce,ke=me,me+=_,ae+=_;C.rc=Pe,C.Vc=ke}else{if(e(se.mc!=null),_=I+U,e((te=se.mc)!=null),e(_<=te.i),te.C>=_)_=1;else if(se.ic||Ne(),se.ic){se=te.V,Pe=te.Ba,ke=te.c;var Oe=te.i,xe=(Ye=1,ae=te.$/ke,ce=te.$%ke,me=te.m,Te=te.s,te.$),we=ke*Oe,Ve=ke*_,Je=Te.wc,We=xe<Ve?Mt(Te,ce,ae):null;e(xe<=we),e(_<=Oe),e(Dn(Te));t:for(;;){for(;!me.h&&xe<Ve;){if(ce&Je||(We=Mt(Te,ce,ae)),e(We!=null),K(me),256>(Oe=Ke(We.G[0],We.H[0],me)))se[Pe+xe]=Oe,++xe,++ce>=ke&&(ce=0,++ae<=_&&!(ae%16)&&ra(te,ae));else{if(!(280>Oe)){Ye=0;break t}Oe=gt(Oe-256,me);var Et,vt=Ke(We.G[4],We.H[4],me);if(K(me),!(xe>=(vt=Tt(ke,vt=gt(vt,me)))&&we-xe>=Oe)){Ye=0;break t}for(Et=0;Et<Oe;++Et)se[Pe+xe+Et]=se[Pe+xe+Et-vt];for(xe+=Oe,ce+=Oe;ce>=ke;)ce-=ke,++ae<=_&&!(ae%16)&&ra(te,ae);xe<Ve&&ce&Je&&(We=Mt(Te,ce,ae))}e(me.h==$(me))}ra(te,ae>_?_:ae);break t}!Ye||me.h&&xe<we?(Ye=0,te.a=me.h?5:3):te.$=xe,_=Ye}else _=Ss(te,te.V,te.Ba,te.c,te.i,_,vi);if(!_){U=0;break e}}I+U>=ee&&(C.Cc=1),U=1}if(!U)return null;if(C.Cc&&((U=C.ga)!=null&&(U.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+I*X}function P(C,_,I,U,X,ee){for(;0<X--;){var te,se=C,ae=_+(I?1:0),ce=C,me=_+(I?0:3);for(te=0;te<U;++te){var Te=ce[me+4*te];Te!=255&&(Te*=32897,se[ae+4*te+0]=se[ae+4*te+0]*Te>>23,se[ae+4*te+1]=se[ae+4*te+1]*Te>>23,se[ae+4*te+2]=se[ae+4*te+2]*Te>>23)}_+=ee}}function J(C,_,I,U,X){for(;0<U--;){var ee;for(ee=0;ee<I;++ee){var te=C[_+2*ee+0],se=15&(ce=C[_+2*ee+1]),ae=4369*se,ce=(240&ce|ce>>4)*ae>>16;C[_+2*ee+0]=(240&te|te>>4)*ae>>16&240|(15&te|te<<4)*ae>>16>>4&15,C[_+2*ee+1]=240&ce|se}_+=X}}function de(C,_,I,U,X,ee,te,se){var ae,ce,me=255;for(ce=0;ce<X;++ce){for(ae=0;ae<U;++ae){var Te=C[_+ae];ee[te+4*ae]=Te,me&=Te}_+=I,te+=se}return me!=255}function ge(C,_,I,U,X){var ee;for(ee=0;ee<X;++ee)I[U+ee]=C[_+ee]>>8}function Ne(){Si=P,Kr=J,Qr=de,Rn=ge}function Be(C,_,I){E[C]=function(U,X,ee,te,se,ae,ce,me,Te,Pe,ke,Ye,Oe,xe,we,Ve,Je){var We,Et=Je-1>>1,vt=se[ae+0]|ce[me+0]<<16,Bt=Te[Pe+0]|ke[Ye+0]<<16;e(U!=null);var wt=3*vt+Bt+131074>>2;for(_(U[X+0],255&wt,wt>>16,Oe,xe),ee!=null&&(wt=3*Bt+vt+131074>>2,_(ee[te+0],255&wt,wt>>16,we,Ve)),We=1;We<=Et;++We){var _r=se[ae+We]|ce[me+We]<<16,Ir=Te[Pe+We]|ke[Ye+We]<<16,wr=vt+_r+Bt+Ir+524296,ur=wr+2*(_r+Bt)>>3;wt=ur+vt>>1,vt=(wr=wr+2*(vt+Ir)>>3)+_r>>1,_(U[X+2*We-1],255&wt,wt>>16,Oe,xe+(2*We-1)*I),_(U[X+2*We-0],255&vt,vt>>16,Oe,xe+(2*We-0)*I),ee!=null&&(wt=wr+Bt>>1,vt=ur+Ir>>1,_(ee[te+2*We-1],255&wt,wt>>16,we,Ve+(2*We-1)*I),_(ee[te+2*We+0],255&vt,vt>>16,we,Ve+(2*We+0)*I)),vt=_r,Bt=Ir}1&Je||(wt=3*vt+Bt+131074>>2,_(U[X+Je-1],255&wt,wt>>16,Oe,xe+(Je-1)*I),ee!=null&&(wt=3*Bt+vt+131074>>2,_(ee[te+Je-1],255&wt,wt>>16,we,Ve+(Je-1)*I)))}}function Qe(){Ei[Cx]=nV,Ei[Sx]=C8,Ei[v8]=sV,Ei[Nx]=S8,Ei[Ex]=N8,Ei[ww]=E8,Ei[y8]=aV,Ei[kw]=C8,Ei[Cw]=S8,Ei[_x]=N8,Ei[Sw]=E8}function St(C){return C&-16384?0>C?0:255:C>>iV}function It(C,_){return St((19077*C>>8)+(26149*_>>8)-14234)}function Jt(C,_,I){return St((19077*C>>8)-(6419*_>>8)-(13320*I>>8)+8708)}function Xt(C,_){return St((19077*C>>8)+(33050*_>>8)-17685)}function vr(C,_,I,U,X){U[X+0]=It(C,I),U[X+1]=Jt(C,_,I),U[X+2]=Xt(C,_)}function mn(C,_,I,U,X){U[X+0]=Xt(C,_),U[X+1]=Jt(C,_,I),U[X+2]=It(C,I)}function Cn(C,_,I,U,X){var ee=Jt(C,_,I);_=ee<<3&224|Xt(C,_)>>3,U[X+0]=248&It(C,I)|ee>>5,U[X+1]=_}function qn(C,_,I,U,X){var ee=240&Xt(C,_)|15;U[X+0]=240&It(C,I)|Jt(C,_,I)>>4,U[X+1]=ee}function zs(C,_,I,U,X){U[X+0]=255,vr(C,_,I,U,X+1)}function ds(C,_,I,U,X){mn(C,_,I,U,X),U[X+3]=255}function eo(C,_,I,U,X){vr(C,_,I,U,X),U[X+3]=255}function Wa(C,_){return 0>C?0:C>_?_:C}function Fo(C,_,I){E[C]=function(U,X,ee,te,se,ae,ce,me,Te){for(var Pe=me+(-2&Te)*I;me!=Pe;)_(U[X+0],ee[te+0],se[ae+0],ce,me),_(U[X+1],ee[te+0],se[ae+0],ce,me+I),X+=2,++te,++ae,me+=2*I;1&Te&&_(U[X+0],ee[te+0],se[ae+0],ce,me)}}function mx(C,_,I){return I==0?C==0?_==0?6:5:_==0?4:0:I}function ig(C,_,I,U,X){switch(C>>>30){case 3:vl(_,I,U,X,0);break;case 2:Mn(_,I,U,X);break;case 1:aa(_,I,U,X)}}function og(C,_){var I,U,X=_.M,ee=_.Nb,te=C.oc,se=C.pc+40,ae=C.oc,ce=C.pc+584,me=C.oc,Te=C.pc+600;for(I=0;16>I;++I)te[se+32*I-1]=129;for(I=0;8>I;++I)ae[ce+32*I-1]=129,me[Te+32*I-1]=129;for(0<X?te[se-1-32]=ae[ce-1-32]=me[Te-1-32]=129:(s(te,se-32-1,127,21),s(ae,ce-32-1,127,9),s(me,Te-32-1,127,9)),U=0;U<C.za;++U){var Pe=_.ya[_.aa+U];if(0<U){for(I=-1;16>I;++I)n(te,se+32*I-4,te,se+32*I+12,4);for(I=-1;8>I;++I)n(ae,ce+32*I-4,ae,ce+32*I+4,4),n(me,Te+32*I-4,me,Te+32*I+4,4)}var ke=C.Gd,Ye=C.Hd+U,Oe=Pe.ad,xe=Pe.Hc;if(0<X&&(n(te,se-32,ke[Ye].y,0,16),n(ae,ce-32,ke[Ye].f,0,8),n(me,Te-32,ke[Ye].ea,0,8)),Pe.Za){var we=te,Ve=se-32+16;for(0<X&&(U>=C.za-1?s(we,Ve,ke[Ye].y[15],4):n(we,Ve,ke[Ye+1].y,0,4)),I=0;4>I;I++)we[Ve+128+I]=we[Ve+256+I]=we[Ve+384+I]=we[Ve+0+I];for(I=0;16>I;++I,xe<<=2)we=te,Ve=se+j8[I],to[Pe.Ob[I]](we,Ve),ig(xe,Oe,16*+I,we,Ve)}else if(we=mx(U,X,Pe.Ob[0]),gc[we](te,se),xe!=0)for(I=0;16>I;++I,xe<<=2)ig(xe,Oe,16*+I,te,se+j8[I]);for(I=Pe.Gc,we=mx(U,X,Pe.Dd),bl[we](ae,ce),bl[we](me,Te),xe=Oe,we=ae,Ve=ce,255&(Pe=I>>0)&&(170&Pe?hg(xe,256,we,Ve):ki(xe,256,we,Ve)),Pe=me,xe=Te,255&(I>>=8)&&(170&I?hg(Oe,320,Pe,xe):ki(Oe,320,Pe,xe)),X<C.Ub-1&&(n(ke[Ye].y,0,te,se+480,16),n(ke[Ye].f,0,ae,ce+224,8),n(ke[Ye].ea,0,me,Te+224,8)),I=8*ee*C.B,ke=C.sa,Ye=C.ta+16*U+16*ee*C.R,Oe=C.qa,Pe=C.ra+8*U+I,xe=C.Ha,we=C.Ia+8*U+I,I=0;16>I;++I)n(ke,Ye+I*C.R,te,se+32*I,16);for(I=0;8>I;++I)n(Oe,Pe+I*C.B,ae,ce+32*I,8),n(xe,we+I*C.B,me,Te+32*I,8)}}function jh(C,_,I,U,X,ee,te,se,ae){var ce=[0],me=[0],Te=0,Pe=ae!=null?ae.kd:0,ke=ae??new rg;if(C==null||12>I)return 7;ke.data=C,ke.w=_,ke.ha=I,_=[_],I=[I],ke.gb=[ke.gb];e:{var Ye=_,Oe=I,xe=ke.gb;if(e(C!=null),e(Oe!=null),e(xe!=null),xe[0]=0,12<=Oe[0]&&!t(C,Ye[0],"RIFF")){if(t(C,Ye[0]+8,"WEBP")){xe=3;break e}var we=De(C,Ye[0]+4);if(12>we||4294967286<we){xe=3;break e}if(Pe&&we>Oe[0]-8){xe=7;break e}xe[0]=we,Ye[0]+=12,Oe[0]-=12}xe=0}if(xe!=0)return xe;for(we=0<ke.gb[0],I=I[0];;){e:{var Ve=C;Oe=_,xe=I;var Je=ce,We=me,Et=Ye=[0];if((wt=Te=[Te])[0]=0,8>xe[0])xe=7;else{if(!t(Ve,Oe[0],"VP8X")){if(De(Ve,Oe[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var vt=De(Ve,Oe[0]+8),Bt=1+Se(Ve,Oe[0]+12);if(2147483648<=Bt*(Ve=1+Se(Ve,Oe[0]+15))){xe=3;break e}Et!=null&&(Et[0]=vt),Je!=null&&(Je[0]=Bt),We!=null&&(We[0]=Ve),Oe[0]+=18,xe[0]-=18,wt[0]=1}xe=0}}if(Te=Te[0],Ye=Ye[0],xe!=0)return xe;if(Oe=!!(2&Ye),!we&&Te)return 3;if(ee!=null&&(ee[0]=!!(16&Ye)),te!=null&&(te[0]=Oe),se!=null&&(se[0]=0),te=ce[0],Ye=me[0],Te&&Oe&&ae==null){xe=0;break}if(4>I){xe=7;break}if(we&&Te||!we&&!Te&&!t(C,_[0],"ALPH")){I=[I],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{vt=C,xe=_,we=I;var wt=ke.gb;Je=ke.na,We=ke.P,Et=ke.Sa,Bt=22,e(vt!=null),e(we!=null),Ve=xe[0];var _r=we[0];for(e(Je!=null),e(Et!=null),Je[0]=null,We[0]=null,Et[0]=0;;){if(xe[0]=Ve,we[0]=_r,8>_r){xe=7;break e}var Ir=De(vt,Ve+4);if(4294967286<Ir){xe=3;break e}var wr=8+Ir+1&-2;if(Bt+=wr,0<wt&&Bt>wt){xe=3;break e}if(!t(vt,Ve,"VP8 ")||!t(vt,Ve,"VP8L")){xe=0;break e}if(_r[0]<wr){xe=7;break e}t(vt,Ve,"ALPH")||(Je[0]=vt,We[0]=Ve+8,Et[0]=Ir),Ve+=wr,_r-=wr}}if(I=I[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],xe!=0)break}I=[I],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(wt=C,xe=_,we=I,Je=ke.gb[0],We=ke.Ja,Et=ke.xa,vt=xe[0],Ve=!t(wt,vt,"VP8 "),Bt=!t(wt,vt,"VP8L"),e(wt!=null),e(we!=null),e(We!=null),e(Et!=null),8>we[0])xe=7;else{if(Ve||Bt){if(wt=De(wt,vt+4),12<=Je&&wt>Je-12){xe=3;break e}if(Pe&&wt>we[0]-8){xe=7;break e}We[0]=wt,xe[0]+=8,we[0]-=8,Et[0]=Bt}else Et[0]=5<=we[0]&&wt[vt+0]==47&&!(wt[vt+4]>>5),We[0]=we[0];xe=0}if(I=I[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],_=_[0],xe!=0)break;if(4294967286<ke.Ja)return 3;if(se==null||Oe||(se[0]=ke.xa?2:1),te=[te],Ye=[Ye],ke.xa){if(5>I){xe=7;break}se=te,Pe=Ye,Oe=ee,C==null||5>I?C=0:5<=I&&C[_+0]==47&&!(C[_+4]>>5)?(we=[0],wt=[0],Je=[0],W(We=new T,C,_,I),qe(We,we,wt,Je)?(se!=null&&(se[0]=we[0]),Pe!=null&&(Pe[0]=wt[0]),Oe!=null&&(Oe[0]=Je[0]),C=1):C=0):C=0}else{if(10>I){xe=7;break}se=Ye,C==null||10>I||!bi(C,_+3,I-3)?C=0:(Pe=C[_+0]|C[_+1]<<8|C[_+2]<<16,Oe=16383&(C[_+7]<<8|C[_+6]),C=16383&(C[_+9]<<8|C[_+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=ke.Ja||!Oe||!C?C=0:(te&&(te[0]=Oe),se&&(se[0]=C),C=1))}if(!C||(te=te[0],Ye=Ye[0],Te&&(ce[0]!=te||me[0]!=Ye)))return 3;ae!=null&&(ae[0]=ke,ae.offset=_-ae.w,e(4294967286>_-ae.w),e(ae.offset==ae.ha-I));break}return xe==0||xe==7&&Te&&ae==null?(ee!=null&&(ee[0]|=ke.na!=null&&0<ke.na.length),U!=null&&(U[0]=te),X!=null&&(X[0]=Ye),0):xe}function lg(C,_,I){var U=_.width,X=_.height,ee=0,te=0,se=U,ae=X;if(_.Da=C!=null&&0<C.Da,_.Da&&(se=C.cd,ae=C.bd,ee=C.v,te=C.j,11>I||(ee&=-2,te&=-2),0>ee||0>te||0>=se||0>=ae||ee+se>U||te+ae>X))return 0;if(_.v=ee,_.j=te,_.va=ee+se,_.o=te+ae,_.U=se,_.T=ae,_.da=C!=null&&0<C.da,_.da){if(!ut(se,ae,I=[C.ib],ee=[C.hb]))return 0;_.ib=I[0],_.hb=ee[0]}return _.ob=C!=null&&C.ob,_.Kb=C==null||!C.Sd,_.da&&(_.ob=_.ib<3*U/4&&_.hb<3*X/4,_.Kb=0),1}function cg(C){if(C==null)return 2;if(11>C.S){var _=C.f.RGBA;_.fb+=(C.height-1)*_.A,_.A=-_.A}else _=C.f.kb,C=C.height,_.O+=(C-1)*_.fa,_.fa=-_.fa,_.N+=(C-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(C-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(C-1)*_.lb,_.lb=-_.lb);return 0}function Ah(C,_,I,U){if(U==null||0>=C||0>=_)return 2;if(I!=null){if(I.Da){var X=I.cd,ee=I.bd,te=-2&I.v,se=-2&I.j;if(0>te||0>se||0>=X||0>=ee||te+X>C||se+ee>_)return 2;C=X,_=ee}if(I.da){if(!ut(C,_,X=[I.ib],ee=[I.hb]))return 2;C=X[0],_=ee[0]}}U.width=C,U.height=_;e:{var ae=U.width,ce=U.height;if(C=U.S,0>=ae||0>=ce||!(C>=Cx&&13>C))C=2;else{if(0>=U.Rd&&U.sd==null){te=ee=X=_=0;var me=(se=ae*A8[C])*ce;if(11>C||(ee=(ce+1)/2*(_=(ae+1)/2),C==12&&(te=(X=ae)*ce)),(ce=a(me+2*ee+te))==null){C=1;break e}U.sd=ce,11>C?((ae=U.f.RGBA).eb=ce,ae.fb=0,ae.A=se,ae.size=me):((ae=U.f.kb).y=ce,ae.O=0,ae.fa=se,ae.Fd=me,ae.f=ce,ae.N=0+me,ae.Ab=_,ae.Cd=ee,ae.ea=ce,ae.W=0+me+ee,ae.Db=_,ae.Ed=ee,C==12&&(ae.F=ce,ae.J=0+me+2*ee),ae.Tc=te,ae.lb=X)}if(_=1,X=U.S,ee=U.width,te=U.height,X>=Cx&&13>X)if(11>X)C=U.f.RGBA,_&=(se=Math.abs(C.A))*(te-1)+ee<=C.size,_&=se>=ee*A8[X],_&=C.eb!=null;else{C=U.f.kb,se=(ee+1)/2,me=(te+1)/2,ae=Math.abs(C.fa),ce=Math.abs(C.Ab);var Te=Math.abs(C.Db),Pe=Math.abs(C.lb),ke=Pe*(te-1)+ee;_&=ae*(te-1)+ee<=C.Fd,_&=ce*(me-1)+se<=C.Cd,_=(_&=Te*(me-1)+se<=C.Ed)&ae>=ee&ce>=se&Te>=se,_&=C.y!=null,_&=C.f!=null,_&=C.ea!=null,X==12&&(_&=Pe>=ee,_&=ke<=C.Tc,_&=C.F!=null)}else _=0;C=_?0:2}}return C!=0||I!=null&&I.fd&&(C=cg(U)),C}var Es=64,Th=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ph=24,Lh=32,dg=8,ba=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];fe("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(C){return C},E.Predictor2=function(C,_,I){return _[I+0]},E.Predictor3=function(C,_,I){return _[I+1]},E.Predictor4=function(C,_,I){return _[I-1]},E.Predictor5=function(C,_,I){return He(He(C,_[I+1]),_[I+0])},E.Predictor6=function(C,_,I){return He(C,_[I-1])},E.Predictor7=function(C,_,I){return He(C,_[I+0])},E.Predictor8=function(C,_,I){return He(_[I-1],_[I+0])},E.Predictor9=function(C,_,I){return He(_[I+0],_[I+1])},E.Predictor10=function(C,_,I){return He(He(C,_[I-1]),He(_[I+0],_[I+1]))},E.Predictor11=function(C,_,I){var U=_[I+0];return 0>=ze(U>>24&255,C>>24&255,(_=_[I-1])>>24&255)+ze(U>>16&255,C>>16&255,_>>16&255)+ze(U>>8&255,C>>8&255,_>>8&255)+ze(255&U,255&C,255&_)?U:C},E.Predictor12=function(C,_,I){var U=_[I+0];return(it((C>>24&255)+(U>>24&255)-((_=_[I-1])>>24&255))<<24|it((C>>16&255)+(U>>16&255)-(_>>16&255))<<16|it((C>>8&255)+(U>>8&255)-(_>>8&255))<<8|it((255&C)+(255&U)-(255&_)))>>>0},E.Predictor13=function(C,_,I){var U=_[I-1];return(Le((C=He(C,_[I+0]))>>24&255,U>>24&255)<<24|Le(C>>16&255,U>>16&255)<<16|Le(C>>8&255,U>>8&255)<<8|Le(C>>0&255,U>>0&255))>>>0};var yw=E.PredictorAdd0;E.PredictorAdd1=Fe,fe("Predictor2","PredictorAdd2"),fe("Predictor3","PredictorAdd3"),fe("Predictor4","PredictorAdd4"),fe("Predictor5","PredictorAdd5"),fe("Predictor6","PredictorAdd6"),fe("Predictor7","PredictorAdd7"),fe("Predictor8","PredictorAdd8"),fe("Predictor9","PredictorAdd9"),fe("Predictor10","PredictorAdd10"),fe("Predictor11","PredictorAdd11"),fe("Predictor12","PredictorAdd12"),fe("Predictor13","PredictorAdd13");var ug=E.PredictorAdd2;Ae("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),Ae("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var xx,wi=E.ColorIndexInverseTransform,Dh=E.MapARGB,vx=E.VP8LColorIndexInverseTransformAlpha,yx=E.MapAlpha,uc=E.VP8LPredictorsAdd=[];uc.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var zd,wa,sa,hc,ml,xl,Mh,vl,Mn,hg,aa,ki,Rh,bx,fg,Hd,Ud,fc,$d,Ih,Vd,pc,pg,Ci,Si,Kr,Qr,Rn,rs=a(511),yl=a(2041),gg=a(225),Oh=a(767),wx=0,bw=yl,kx=gg,qa=Oh,Ni=rs,Cx=0,Sx=1,v8=2,Nx=3,Ex=4,ww=5,y8=6,kw=7,Cw=8,_x=9,Sw=10,$$=[2,3,7],V$=[3,3,11],b8=[280,256,256,256,40],W$=[0,1,1,1,0],q$=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Y$=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],G$=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],X$=8,Nw=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ew=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],mg=null,Z$=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],J$=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],w8=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],K$=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Q$=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],eV=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],tV=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gc=[],to=[],bl=[],rV=1,k8=2,mc=[],Ei=[];Be("UpsampleRgbLinePair",vr,3),Be("UpsampleBgrLinePair",mn,3),Be("UpsampleRgbaLinePair",eo,4),Be("UpsampleBgraLinePair",ds,4),Be("UpsampleArgbLinePair",zs,4),Be("UpsampleRgba4444LinePair",qn,2),Be("UpsampleRgb565LinePair",Cn,2);var nV=E.UpsampleRgbLinePair,sV=E.UpsampleBgrLinePair,C8=E.UpsampleRgbaLinePair,S8=E.UpsampleBgraLinePair,N8=E.UpsampleArgbLinePair,E8=E.UpsampleRgba4444LinePair,aV=E.UpsampleRgb565LinePair,jx=16,Ax=1<<jx-1,xg=-227,_w=482,iV=6,_8=0,oV=a(256),lV=a(256),cV=a(256),dV=a(256),uV=a(_w-xg),hV=a(_w-xg);Fo("YuvToRgbRow",vr,3),Fo("YuvToBgrRow",mn,3),Fo("YuvToRgbaRow",eo,4),Fo("YuvToBgraRow",ds,4),Fo("YuvToArgbRow",zs,4),Fo("YuvToRgba4444Row",qn,2),Fo("YuvToRgb565Row",Cn,2);var j8=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Tx=[0,2,8],fV=[8,7,6,4,4,2,2,2,1,1,1,1],pV=1;this.WebPDecodeRGBA=function(C,_,I,U,X){var ee=Sx,te=new Eh,se=new Jr;te.ba=se,se.S=ee,se.width=[se.width],se.height=[se.height];var ae=se.width,ce=se.height,me=new Er;if(me==null||C==null)var Te=2;else e(me!=null),Te=jh(C,_,I,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Te!=0?ae=0:(ae!=null&&(ae[0]=me.width[0]),ce!=null&&(ce[0]=me.height[0]),ae=1),ae){se.width=se.width[0],se.height=se.height[0],U!=null&&(U[0]=se.width),X!=null&&(X[0]=se.height);e:{if(U=new Ro,(X=new rg).data=C,X.w=_,X.ha=I,X.kd=1,_=[0],e(X!=null),((C=jh(X.data,X.w,X.ha,null,null,null,_,null,X))==0||C==7)&&_[0]&&(C=4),(_=C)==0){if(e(te!=null),U.data=X.data,U.w=X.w+X.offset,U.ha=X.ha-X.offset,U.put=Xe,U.ac=Ee,U.bc=ct,U.ma=te,X.xa){if((C=gr())==null){te=1;break e}if(function(Pe,ke){var Ye=[0],Oe=[0],xe=[0];t:for(;;){if(Pe==null)return 0;if(ke==null)return Pe.a=2,0;if(Pe.l=ke,Pe.a=0,W(Pe.m,ke.data,ke.w,ke.ha),!qe(Pe.m,Ye,Oe,xe)){Pe.a=3;break t}if(Pe.xb=k8,ke.width=Ye[0],ke.height=Oe[0],!Ua(Ye[0],Oe[0],1,Pe,null))break t;return 1}return e(Pe.a!=0),0}(C,U)){if(U=(_=Ah(U.width,U.height,te.Oa,te.ba))==0){t:{U=C;r:for(;;){if(U==null){U=0;break t}if(e(U.s.yc!=null),e(U.s.Ya!=null),e(0<U.s.Wb),e((I=U.l)!=null),e((X=I.ma)!=null),U.xb!=0){if(U.ca=X.ba,U.tb=X.tb,e(U.ca!=null),!lg(X.Oa,I,Nx)){U.a=2;break r}if(!xi(U,I.width)||I.da)break r;if((I.da||qt(U.ca.S))&&Ne(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&Ne()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!at(U.s.vb,U.s.Wa.Xa)){U.a=1;break r}U.xb=0}if(!Ss(U,U.V,U.Ba,U.c,U.i,I.o,Tr))break r;X.Dc=U.Ma,U=1;break t}e(U.a!=0),U=0}U=!U}U&&(_=C.a)}else _=C.a}else{if((C=new Rd)==null){te=1;break e}if(C.Fa=X.na,C.P=X.P,C.qc=X.Sa,tx(C,U)){if((_=Ah(U.width,U.height,te.Oa,te.ba))==0){if(C.Aa=0,I=te.Oa,e((X=C)!=null),I!=null){if(0<(ae=0>(ae=I.Md)?0:100<ae?255:255*ae/100)){for(ce=me=0;4>ce;++ce)12>(Te=X.pb[ce]).lc&&(Te.ia=ae*fV[0>Te.lc?0:Te.lc]>>3),me|=Te.ia;me&&(alert("todo:VP8InitRandom"),X.ia=1)}X.Ga=I.Id,100<X.Ga?X.Ga=100:0>X.Ga&&(X.Ga=0)}tw(C,U)||(_=C.a)}}else _=C.a}_==0&&te.Oa!=null&&te.Oa.fd&&(_=cg(te.ba))}te=_}ee=te!=0?null:11>ee?se.f.RGBA.eb:se.f.kb.y}else ee=null;return ee};var A8=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(E,R){for(var O="",L=0;L<4;L++)O+=String.fromCharCode(E[R++]);return O}function u(E,R){return(E[R+0]<<0|E[R+1]<<8|E[R+2]<<16)>>>0}function h(E,R){return(E[R+0]<<0|E[R+1]<<8|E[R+2]<<16|E[R+3]<<24)>>>0}new c;var f=[0],p=[0],g=[],m=new c,v=r,x=function(E,R){var O={},L=0,D=!1,F=0,M=0;if(O.frames=[],!function(H,$,Y,K){for(var re=0;re<K;re++)if(H[$+re]!=Y.charCodeAt(re))return!0;return!1}(E,R,"RIFF",4)){for(h(E,R+=4),R+=8;R<E.length;){var B=d(E,R),z=h(E,R+=4);R+=4;var V=z+(1&z);switch(B){case"VP8 ":case"VP8L":O.frames[L]===void 0&&(O.frames[L]={}),(q=O.frames[L]).src_off=D?M:R-8,q.src_size=F+z+8,L++,D&&(D=!1,F=0,M=0);break;case"VP8X":(q=O.header={}).feature_flags=E[R];var W=R+4;q.canvas_width=1+u(E,W),W+=3,q.canvas_height=1+u(E,W),W+=3;break;case"ALPH":D=!0,F=V+8,M=R-8;break;case"ANIM":(q=O.header).bgcolor=h(E,R),W=R+4,q.loop_count=(Q=E)[(T=W)+0]<<0|Q[T+1]<<8,W+=2;break;case"ANMF":var Z,q;(q=O.frames[L]={}).offset_x=2*u(E,R),R+=3,q.offset_y=2*u(E,R),R+=3,q.width=1+u(E,R),R+=3,q.height=1+u(E,R),R+=3,q.duration=u(E,R),R+=3,Z=E[R++],q.dispose=1&Z,q.blend=Z>>1&1}B!="ANMF"&&(R+=V)}var Q,T;return O}}(v,0);x.response=v,x.rgbaoutput=!0,x.dataurl=!1;var y=x.header?x.header:null,w=x.frames?x.frames:null;if(y){y.loop_counter=y.loop_count,f=[y.canvas_height],p=[y.canvas_width];for(var k=0;k<w.length&&w[k].blend!=0;k++);}var S=w[0],N=m.WebPDecodeRGBA(v,S.src_off,S.src_size,p,f);S.rgba=N,S.imgwidth=p[0],S.imgheight=f[0];for(var A=0;A<p[0]*f[0]*4;A++)g[A]=N[A];return this.width=p,this.height=f,this.data=g,this}(function(r){var e=function(){return typeof vS=="function"},t=function(f,p,g,m){var v=4,x=i;switch(m){case r.image_compression.FAST:v=1,x=a;break;case r.image_compression.MEDIUM:v=6,x=o;break;case r.image_compression.SLOW:v=9,x=c}f=n(f,p,g,x);var y=vS(f,{level:v});return r.__addimage__.arrayBufferToBinaryString(y)},n=function(f,p,g,m){for(var v,x,y,w=f.length/p,k=new Uint8Array(f.length+w),S=u(),N=0;N<w;N+=1){if(y=N*p,v=f.subarray(y,y+p),m)k.set(m(v,g,x),y+N);else{for(var A,E=S.length,R=[];A<E;A+=1)R[A]=S[A](v,g,x);var O=h(R.concat());k.set(R[O],y+N)}x=v}return k},s=function(f){var p=Array.apply([],f);return p.unshift(0),p},a=function(f,p){var g,m=[],v=f.length;m[0]=1;for(var x=0;x<v;x+=1)g=f[x-p]||0,m[x+1]=f[x]-g+256&255;return m},i=function(f,p,g){var m,v=[],x=f.length;v[0]=2;for(var y=0;y<x;y+=1)m=g&&g[y]||0,v[y+1]=f[y]-m+256&255;return v},o=function(f,p,g){var m,v,x=[],y=f.length;x[0]=3;for(var w=0;w<y;w+=1)m=f[w-p]||0,v=g&&g[w]||0,x[w+1]=f[w]+256-(m+v>>>1)&255;return x},c=function(f,p,g){var m,v,x,y,w=[],k=f.length;w[0]=4;for(var S=0;S<k;S+=1)m=f[S-p]||0,v=g&&g[S]||0,x=g&&g[S-p]||0,y=d(m,v,x),w[S+1]=f[S]-y+256&255;return w},d=function(f,p,g){if(f===p&&p===g)return f;var m=Math.abs(p-g),v=Math.abs(f-g),x=Math.abs(f+p-g-g);return m<=v&&m<=x?f:v<=x?p:g},u=function(){return[s,a,i,o,c]},h=function(f){var p=f.map(function(g){return g.reduce(function(m,v){return m+Math.abs(v)},0)});return p.indexOf(Math.min.apply(null,p))};r.processPNG=function(f,p,g,m){var v,x,y,w,k,S,N,A,E,R,O,L,D,F,M,B=this.decode.FLATE_DECODE,z="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(y=new g3e(f)).imgData,x=y.bits,v=y.colorSpace,k=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){E=(A=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,O=new Uint8Array(E*y.colors),R=new Uint8Array(E);var V,W=y.pixelBitlength-y.bits;for(F=0,M=0;F<E;F++){for(D=A[F],V=0;V<W;)O[M++]=D>>>V&255,V+=y.bits;R[F]=D>>>V&255}}if(y.bits===16){E=(A=new Uint32Array(y.decodePixels().buffer)).length,O=new Uint8Array(E*(32/y.pixelBitlength)*y.colors),R=new Uint8Array(E*(32/y.pixelBitlength)),L=y.colors>1,F=0,M=0;for(var Z=0;F<E;)D=A[F++],O[M++]=D>>>0&255,L&&(O[M++]=D>>>16&255,D=A[F++],O[M++]=D>>>0&255),R[Z++]=D>>>16&255;x=8}m!==r.image_compression.NONE&&e()?(f=t(O,y.width*y.colors,y.colors,m),N=t(R,y.width,1,m)):(f=O,N=R,B=void 0)}if(y.colorType===3&&(v=this.color_spaces.INDEXED,S=y.palette,y.transparency.indexed)){var q=y.transparency.indexed,Q=0;for(F=0,E=q.length;F<E;++F)Q+=q[F];if((Q/=255)===E-1&&q.indexOf(0)!==-1)w=[q.indexOf(0)];else if(Q!==E){for(A=y.decodePixels(),R=new Uint8Array(A.length),F=0,E=A.length;F<E;F++)R[F]=q[A[F]];N=t(R,y.width,1)}}var T=function(H){var $;switch(H){case r.image_compression.FAST:$=11;break;case r.image_compression.MEDIUM:$=13;break;case r.image_compression.SLOW:$=14;break;default:$=12}return $}(m);return B===this.decode.FLATE_DECODE&&(z="/Predictor "+T+" "),z+="/Colors "+k+" /BitsPerComponent "+x+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(N&&this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),{alias:g,data:f,index:p,filter:B,decodeParameters:z,transparency:w,palette:S,sMask:N,predictor:T,width:y.width,height:y.height,bitsPerComponent:x,colorSpace:v}}}})($t.API),function(r){r.processGIF89A=function(e,t,n,s){var a=new m3e(e),i=a.width,o=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:i,height:o},u=new s3(100).encode(d,100);return r.processJPEG.call(this,u,t,n,s)},r.processGIF87A=r.processGIF89A}($t.API),ao.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ao.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Xr.log("bit decode error:"+t)}},ao.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++)for(var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var c=this.palette[a>>7-o&1];this.data[i+4*o]=c.blue,this.data[i+4*o+1]=c.green,this.data[i+4*o+2]=c.red,this.data[i+4*o+3]=255}t!==0&&(this.pos+=4-t)}},ao.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<r;s++){var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*s*4,o=a>>4,c=15&a,d=this.palette[o];if(this.data[i]=d.blue,this.data[i+1]=d.green,this.data[i+2]=d.red,this.data[i+3]=255,2*s+1>=this.width)break;d=this.palette[c],this.data[i+4]=d.blue,this.data[i+4+1]=d.green,this.data[i+4+2]=d.red,this.data[i+4+3]=255}e!==0&&(this.pos+=4-e)}},ao.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;if(s<this.palette.length){var i=this.palette[s];this.data[a]=i.red,this.data[a+1]=i.green,this.data[a+2]=i.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}r!==0&&(this.pos+=4-r)}},ao.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,d=a>>15?255:0,u=n*this.width*4+4*s;this.data[u]=c,this.data[u+1]=o,this.data[u+2]=i,this.data[u+3]=d}this.pos+=r}},ao.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,c=(i>>5&t)/t*255|0,d=(i>>11)/e*255|0,u=s*this.width*4+4*a;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=o,this.data[u+3]=255}this.pos+=r}},ao.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+4*t;this.data[i]=a,this.data[i+1]=s,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},ao.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=a,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=i}},ao.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,s){var a=new ao(e,!1),i=a.width,o=a.height,c={data:a.getData(),width:i,height:o},d=new s3(100).encode(c,100);return r.processJPEG.call(this,d,t,n,s)}}($t.API),fP.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,s){var a=new fP(e),i=a.width,o=a.height,c={data:a.getData(),width:i,height:o},d=new s3(100).encode(c,100);return r.processJPEG.call(this,d,t,n,s)}}($t.API),$t.API.processRGBA=function(r,e,t){for(var n=r.data,s=n.length,a=new Uint8Array(s/4*3),i=new Uint8Array(s/4),o=0,c=0,d=0;d<s;d+=4){var u=n[d],h=n[d+1],f=n[d+2],p=n[d+3];a[o++]=u,a[o++]=h,a[o++]=f,i[c++]=p}var g=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:g,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},$t.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ef=$t.API,F1=ef.getCharWidthsArray=function(r,e){var t,n,s=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),i=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:s.metadata.Unicode.widths,c=o.fof?o.fof:1,d=e.kerning?e.kerning:s.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=e.doKerning!==!1,f=0,p=r.length,g=0,m=o[0]||c,v=[];for(t=0;t<p;t++)n=r.charCodeAt(t),typeof s.metadata.widthOfString=="function"?v.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+i*(1e3/a)||0)/1e3):(f=h&&zr(d[n])==="object"&&!isNaN(parseInt(d[n][g],10))?d[n][g]/u:0,v.push((o[n]||m)/c+f)),g=n;return v},cP=ef.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return ef.processArabic&&(r=ef.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,s)/t:F1.apply(this,arguments).reduce(function(a,i){return a+i},0)},dP=function(r,e,t,n){for(var s=[],a=0,i=r.length,o=0;a!==i&&o+e[a]<t;)o+=e[a],a++;s.push(r.slice(0,a));var c=a;for(o=0;a!==i;)o+e[a]>n&&(s.push(r.slice(c,a)),o=0,c=a),o+=e[a],a++;return c!==a&&s.push(r.slice(c,a)),s},uP=function(r,e,t){t||(t={});var n,s,a,i,o,c,d,u=[],h=[u],f=t.textIndent||0,p=0,g=0,m=r.split(" "),v=F1.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?m[0].length+2:t.lineIndent||0){var x=Array(c).join(" "),y=[];m.map(function(k){(k=k.split(/\s*\n/)).length>1?y=y.concat(k.map(function(S,N){return(N&&S.length?`
`:"")+S})):y.push(k[0])}),m=y,c=cP.apply(this,[x,t])}for(a=0,i=m.length;a<i;a++){var w=0;if(n=m[a],c&&n[0]==`
`&&(n=n.substr(1),w=1),f+p+(g=(s=F1.apply(this,[n,t])).reduce(function(k,S){return k+S},0))>e||w){if(g>e){for(o=dP.apply(this,[n,s,e-(f+p),e]),u.push(o.shift()),u=[o.pop()];o.length;)h.push([o.shift()]);g=s.slice(n.length-(u[0]?u[0].length:0)).reduce(function(k,S){return k+S},0)}else u=[n];h.push(u),f=g+c,p=v}else u.push(n),f+=p+g,p=v}return d=c?function(k,S){return(S?x:"")+k.join(" ")}:function(k){return k.join(" ")},h.map(d)},ef.splitTextToSize=function(r,e,t){var n,s=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var i=1*this.internal.scaleFactor*e/s;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=t.lineIndent;var o,c,d=[];for(o=0,c=n.length;o<c;o++)d=d.concat(uP.apply(this,[n[o],i,a]));return d},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},n={},s=0;s<e.length;s++)t[e[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=e[s];var a=function(h){return"0x"+parseInt(h,10).toString(16)},i=r.__fontmetrics__.compress=function(h){var f,p,g,m,v=["{"];for(var x in h){if(f=h[x],isNaN(parseInt(x,10))?p="'"+x+"'":(x=parseInt(x,10),p=(p=a(x).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof f=="number")f<0?(g=a(f).slice(3),m="-"):(g=a(f).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if(zr(f)!=="object")throw new Error("Don't know what to do with value type "+zr(f)+".");g=i(f)}v.push(p+g)}return v.push("}"),v.join("")},o=r.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,p,g,m,v={},x=1,y=v,w=[],k="",S="",N=h.length-1,A=1;A<N;A+=1)(m=h[A])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(m):m=="{"?(w.push([y,g]),y={},g=void 0):m=="}"?((p=w.pop())[0][p[1]]=y,g=void 0,y=p[0]):m=="-"?x=-1:g===void 0?t.hasOwnProperty(m)?(k+=t[m],g=parseInt(k,16)*x,x=1,k=""):k+=m:t.hasOwnProperty(m)?(S+=t[m],y[g]=parseInt(S,16)*x,x=1,g=void 0,S=""):S+=m;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(h){var f=h.font,p=u.Unicode[f.postScriptName];p&&(f.metadata.Unicode={},f.metadata.Unicode.widths=p.widths,f.metadata.Unicode.kerning=p.kerning);var g=d.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}($t.API),function(r){var e=function(t){for(var n=t.length,s=new Uint8Array(n),a=0;a<n;a++)s[a]=t.charCodeAt(a);return s};r.API.events.push(["addFont",function(t){var n=void 0,s=t.font,a=t.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(i,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Tm(o)),i.metadata=r.API.TTFFont.open(o),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(s,n)}}])}($t),function(r){function e(){return(Wt.canvg?Promise.resolve(Wt.canvg):Oa(()=>import("./index.es-DVKXmvBC.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}$t.API.addSvgAsImage=function(t,n,s,a,i,o,c,d){if(isNaN(n)||isNaN(s))throw Xr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(i))throw Xr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=a,u.height=i;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(g){return g.fromString(h,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),n,s,a,i,c,d)})}}(),$t.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,t);return this},$t.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,s,a,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),c=[],d=0,u=0,h=0;function f(g,m){var v,x=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var p=o.length;for(h=0;h<p;h+=1)t[o[h]].value=t[o[h]].defaultValue,t[o[h]].explicitSet=!1}if(zr(r)==="object"){for(s in r)if(a=r[s],f(o,s)&&a!==void 0){if(t[s].type==="boolean"&&typeof a=="boolean")t[s].value=a;else if(t[s].type==="name"&&f(t[s].valueSet,a))t[s].value=a;else if(t[s].type==="integer"&&Number.isInteger(a))t[s].value=a;else if(t[s].type==="array"){for(d=0;d<a.length;d+=1)if(n=!0,a[d].length===1&&typeof a[d][0]=="number")c.push(String(a[d]-1));else if(a[d].length>1){for(u=0;u<a[d].length;u+=1)typeof a[d][u]!="number"&&(n=!1);n===!0&&c.push([a[d][0]-1,a[d][1]-1].join(" "))}t[s].value="["+c.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in t)t[g].explicitSet===!0&&(t[g].type==="name"?m.push("/"+g+" /"+t[g].value):m.push("/"+g+" "+t[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+i.length+o.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+a+i+o+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}($t.API),function(r){var e=r.API,t=e.pdfEscape16=function(a,i){for(var o,c=i.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,f=a.length;h<f;++h){if(o=i.metadata.characterToGlyph(a.charCodeAt(h)),i.metadata.glyIdsUsed.push(o),i.metadata.toUnicode[o]=a.charCodeAt(h),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(i.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(d[4-o.length],o)}return u.join("")},n=function(a){var i,o,c,d,u,h,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,f=(o=Object.keys(a).sort(function(p,g){return p-g})).length;h<f;h++)i=o[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[i]!==void 0&&a[i]!==null&&typeof a[i].toString=="function"&&(d=("0000"+a[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),c.push("<"+i+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(i){var o=i.font,c=i.out,d=i.newObject,u=i.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",g=0;g<f.length;g++)p+=String.fromCharCode(f[g]);var m=d();u({data:p,addLength1:!0,objectId:m}),c("endobj");var v=d();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var x=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+cf(o.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var y=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+cf(o.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+r.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+cf(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(i){var o=i.font,c=i.out,d=i.newObject,u=i.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,f="",p=0;p<h.length;p++)f+=String.fromCharCode(h[p]);var g=d();u({data:f,addLength1:!0,objectId:g}),c("endobj");var m=d();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var v=d();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+cf(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=d();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+cf(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]);var s=function(a){var i,o=a.text||"",c=a.x,d=a.y,u=a.options||{},h=a.mutex||{},f=h.pdfEscape,p=h.activeFontKey,g=h.fonts,m=p,v="",x=0,y="",w=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:c,y:d,options:u,mutex:h};for(y=o,m=p,Array.isArray(o)&&(y=o[0]),x=0;x<y.length;x+=1)g[m].metadata.hasOwnProperty("cmap")&&(i=g[m].metadata.cmap.unicode.codeMap[y[x].charCodeAt(0)]),i||y[x].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=y[x]:v+="";var k="";return parseInt(m.slice(1))<14||w==="WinAnsiEncoding"?k=f(v,m).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(k=t(v,g[m])),h.isHex=!0,{text:k,x:c,y:d,options:u,mutex:h}};e.events.push(["postProcessText",function(a){var i=a.text||"",o=[],c={text:i,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(i)){var d=0;for(d=0;d<i.length;d+=1)Array.isArray(i[d])&&i[d].length===3?o.push([s(Object.assign({},c,{text:i[d][0]})).text,i[d][1],i[d][2]]):o.push(s(Object.assign({},c,{text:i[d]})).text);a.text=o}else a.text=s(Object.assign({},c,{text:i})).text}])}($t),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}($t.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var s,a,i,o,c,d,u,h=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,w=0;this.__bidiEngine__={};var k=function(L){var D=L.charCodeAt(),F=D>>8,M=m[F];return M!==void 0?h[256*M+(255&D)]:F===252||F===253?"AL":x.test(F)?"L":F===8?"R":"N"},S=function(L){for(var D,F=0;F<L.length;F++){if((D=k(L.charAt(F)))==="L")return!1;if(D==="R")return!0}return!1},N=function(L,D,F,M){var B,z,V,W,Z=D[M];switch(Z){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(Z="AN");break;case"AL":y=!0,Z="R";break;case"WS":Z="N";break;case"CS":M<1||M+1>=D.length||(B=F[M-1])!=="EN"&&B!=="AN"||(z=D[M+1])!=="EN"&&z!=="AN"?Z="N":y&&(z="AN"),Z=z===B?z:"N";break;case"ES":Z=(B=M>0?F[M-1]:"B")==="EN"&&M+1<D.length&&D[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&F[M-1]==="EN"){Z="EN";break}if(y){Z="N";break}for(V=M+1,W=D.length;V<W&&D[V]==="ET";)V++;Z=V<W&&D[V]==="EN"?"EN":"N";break;case"NSM":if(i&&!o){for(W=D.length,V=M+1;V<W&&D[V]==="NSM";)V++;if(V<W){var q=L[M],Q=q>=1425&&q<=2303||q===64286;if(B=D[V],Q&&(B==="R"||B==="AL")){Z="R";break}}}Z=M<1||(B=D[M-1])==="B"?"N":F[M-1];break;case"B":y=!1,s=!0,Z=w;break;case"S":a=!0,Z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":Z="N"}return Z},A=function(L,D,F){var M=L.split("");return F&&E(M,F,{hiLevel:w}),M.reverse(),D&&D.reverse(),M.join("")},E=function(L,D,F){var M,B,z,V,W,Z=-1,q=L.length,Q=0,T=[],H=w?p:f,$=[];for(y=!1,s=!1,a=!1,B=0;B<q;B++)$[B]=k(L[B]);for(z=0;z<q;z++){if(W=Q,T[z]=N(L,$,T,z),M=240&(Q=H[W][g[T[z]]]),Q&=15,D[z]=V=H[Q][5],M>0)if(M===16){for(B=Z;B<z;B++)D[B]=1;Z=-1}else Z=-1;if(H[Q][6])Z===-1&&(Z=z);else if(Z>-1){for(B=Z;B<z;B++)D[B]=V;Z=-1}$[z]==="B"&&(D[z]=0),F.hiLevel|=V}a&&function(Y,K,re){for(var oe=0;oe<re;oe++)if(Y[oe]==="S"){K[oe]=w;for(var ue=oe-1;ue>=0&&Y[ue]==="WS";ue--)K[ue]=w}}($,D,q)},R=function(L,D,F,M,B){if(!(B.hiLevel<L)){if(L===1&&w===1&&!s)return D.reverse(),void(F&&F.reverse());for(var z,V,W,Z,q=D.length,Q=0;Q<q;){if(M[Q]>=L){for(W=Q+1;W<q&&M[W]>=L;)W++;for(Z=Q,V=W-1;Z<V;Z++,V--)z=D[Z],D[Z]=D[V],D[V]=z,F&&(z=F[Z],F[Z]=F[V],F[V]=z);Q=W}Q++}}},O=function(L,D,F){var M=L.split(""),B={hiLevel:w};return F||(F=[]),E(M,F,B),function(z,V,W){if(W.hiLevel!==0&&u)for(var Z,q=0;q<z.length;q++)V[q]===1&&(Z=v.indexOf(z[q]))>=0&&(z[q]=v[Z+1])}(M,F,B),R(2,M,D,F,B),R(1,M,D,F,B),M.join("")};return this.__bidiEngine__.doBidiReorder=function(L,D,F){if(function(B,z){if(z)for(var V=0;V<B.length;V++)z[V]=V;o===void 0&&(o=S(B)),d===void 0&&(d=S(B))}(L,D),i||!c||d)if(i&&c&&o^d)w=o?1:0,L=A(L,D,F);else if(!i&&c&&d)w=o?1:0,L=O(L,D,F),L=A(L,D);else if(!i||o||c||d){if(i&&!c&&o^d)L=A(L,D),o?(w=0,L=O(L,D,F)):(w=1,L=O(L,D,F),L=A(L,D));else if(i&&o&&!c&&d)w=1,L=O(L,D,F),L=A(L,D);else if(!i&&!c&&o^d){var M=u;o?(w=1,L=O(L,D,F),w=0,u=!1,L=O(L,D,F),u=M):(w=0,L=O(L,D,F),L=A(L,D),w=1,u=!1,L=O(L,D,F),u=M,L=A(L,D))}}else w=0,L=O(L,D,F);else w=o?1:0,L=O(L,D,F);return L},this.__bidiEngine__.setOptions=function(L){L&&(i=L.isInputVisual,c=L.isOutputVisual,o=L.isInputRtl,d=L.isOutputRtl,u=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var i=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(i=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?i.push([t.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):i.push([t.doBidiReorder(s[o])]);n.text=i}else n.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])}($t),$t.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Ed(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new P3e(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new x3e(this.contents),this.head=new y3e(this),this.name=new S3e(this),this.cmap=new g$(this),this.toUnicode={},this.hhea=new b3e(this),this.maxp=new N3e(this),this.hmtx=new E3e(this),this.post=new k3e(this),this.os2=new w3e(this),this.loca=new T3e(this),this.glyf=new _3e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,o,c,d;for(d=[],i=0,o=(c=this.bbox).length;i<o;i++)e=c[i],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var s,a,i,o;for(i=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)s=e.charCodeAt(a),i+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/t)||0;return i*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var Mo,Ed=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,s;for(s=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,s,a,i,o,c;return e=this.readByte(),t=this.readByte(),n=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^a)+65536*(255^i)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*s+16777216*a+65536*i+256*o+c},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,s,a;for(a=[],n=0,s=e.length;n<s;n++)t=e[n],a.push(this.writeByte(t));return a},r}(),x3e=function(){var r;function e(t){var n,s,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,s,a,i,o,c,d,u,h,f,p,g,m;for(m in p=Object.keys(t).length,c=Math.log(2),h=16*Math.floor(Math.log(p)/c),i=Math.floor(h/c),u=16*p-h,(s=new Ed).writeInt(this.scalarType),s.writeShort(p),s.writeShort(h),s.writeShort(i),s.writeShort(u),a=16*p,d=s.pos+a,o=null,g=[],t)for(f=t[m],s.writeString(m),s.writeInt(r(f)),s.writeInt(d),s.writeInt(f.length),g=g.concat(f),m==="head"&&(o=d),d+=f.length;d%4;)g.push(0),d++;return s.write(g),n=2981146554-r(s.data),s.pos=o+8,s.writeUInt32(n),s.data},r=function(t){var n,s,a,i;for(t=m$.call(t);t.length%4;)t.push(0);for(a=new Ed(t),s=0,n=0,i=t.length;n<i;n=n+=4)s+=a.readUInt32();return 4294967295&s},e}(),v3e={}.hasOwnProperty,dl=function(r,e){for(var t in e)v3e.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};Mo=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var y3e=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Mo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Ed).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),pP=function(){function r(e,t){var n,s,a,i,o,c,d,u,h,f,p,g,m,v,x,y,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),f=p/2,e.pos+=6,a=function(){var k,S;for(S=[],c=k=0;0<=f?k<f:k>f;c=0<=f?++k:--k)S.push(e.readUInt16());return S}(),e.pos+=2,m=function(){var k,S;for(S=[],c=k=0;0<=f?k<f:k>f;c=0<=f?++k:--k)S.push(e.readUInt16());return S}(),d=function(){var k,S;for(S=[],c=k=0;0<=f?k<f:k>f;c=0<=f?++k:--k)S.push(e.readUInt16());return S}(),u=function(){var k,S;for(S=[],c=k=0;0<=f?k<f:k>f;c=0<=f?++k:--k)S.push(e.readUInt16());return S}(),s=(this.length-e.pos+this.offset)/2,o=function(){var k,S;for(S=[],c=k=0;0<=s?k<s:k>s;c=0<=s?++k:--k)S.push(e.readUInt16());return S}(),c=x=0,w=a.length;x<w;c=++x)for(v=a[c],n=y=g=m[c];g<=v?y<=v:y>=v;n=g<=v?++y:--y)u[c]===0?i=n+d[c]:(i=o[u[c]/2+(n-g)-(f-c)]||0)!==0&&(i+=d[c]),this.codeMap[n]=65535&i}e.pos=h}return r.encode=function(e,t){var n,s,a,i,o,c,d,u,h,f,p,g,m,v,x,y,w,k,S,N,A,E,R,O,L,D,F,M,B,z,V,W,Z,q,Q,T,H,$,Y,K,re,oe,ue,be,Ce,Se;switch(M=new Ed,i=Object.keys(e).sort(function(De,at){return De-at}),t){case"macroman":for(m=0,v=function(){var De=[];for(g=0;g<256;++g)De.push(0);return De}(),y={0:0},a={},B=0,Z=i.length;B<Z;B++)y[ue=e[s=i[B]]]==null&&(y[ue]=++m),a[s]={old:e[s],new:y[e[s]]},v[s]=y[e[s]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(v),{charMap:a,subtable:M.data,maxGlyphID:m+1};case"unicode":for(D=[],h=[],w=0,y={},n={},x=d=null,z=0,q=i.length;z<q;z++)y[S=e[s=i[z]]]==null&&(y[S]=++w),n[s]={old:S,new:y[S]},o=y[S]-s,x!=null&&o===d||(x&&h.push(x),D.push(s),d=o),x=s;for(x&&h.push(x),h.push(65535),D.push(65535),O=2*(R=D.length),E=2*Math.pow(Math.log(R)/Math.LN2,2),f=Math.log(E/2)/Math.LN2,A=2*R-E,c=[],N=[],p=[],g=V=0,Q=D.length;V<Q;g=++V){if(L=D[g],u=h[g],L===65535){c.push(0),N.push(0);break}if(L-(F=n[L].new)>=32768)for(c.push(0),N.push(2*(p.length+R-g)),s=W=L;L<=u?W<=u:W>=u;s=L<=u?++W:--W)p.push(n[s].new);else c.push(F-L),N.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*R+2*p.length),M.writeUInt16(0),M.writeUInt16(O),M.writeUInt16(E),M.writeUInt16(f),M.writeUInt16(A),re=0,T=h.length;re<T;re++)s=h[re],M.writeUInt16(s);for(M.writeUInt16(0),oe=0,H=D.length;oe<H;oe++)s=D[oe],M.writeUInt16(s);for(be=0,$=c.length;be<$;be++)o=c[be],M.writeUInt16(o);for(Ce=0,Y=N.length;Ce<Y;Ce++)k=N[Ce],M.writeUInt16(k);for(Se=0,K=p.length;Se<K;Se++)m=p[Se],M.writeUInt16(m);return{charMap:n,subtable:M.data,maxGlyphID:w+1}}},r}(),g$=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Mo),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,s,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)n=new pP(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var s,a;return n==null&&(n="macroman"),s=pP.encode(t,n),(a=new Ed).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},e}(),b3e=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Mo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),w3e=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Mo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(t.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(t.readInt());return s}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(t.readInt());return s}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),k3e=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Mo),e.prototype.tag="post",e.prototype.parse=function(t){var n,s,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var i;for(s=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)n=t.readByte(),a.push(this.names.push(t.readString(n)));return a;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 196608:break;case 262144:return this.map=(function(){var o,c,d;for(d=[],i=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;i=0<=c?++o:--o)d.push(t.readUInt32());return d}).call(this)}},e}(),C3e=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},S3e=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Mo),e.prototype.tag="name",e.prototype.parse=function(t){var n,s,a,i,o,c,d,u,h,f,p;for(t.pos=this.offset,t.readShort(),n=t.readShort(),c=t.readShort(),s=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(d={},i=h=0,f=s.length;h<f;i=++h)a=s[i],t.pos=a.offset,u=t.readString(a.length),o=new C3e(u,a),d[p=a.nameID]==null&&(d[p]=[]),d[a.nameID].push(o);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),N3e=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Mo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),E3e=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Mo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,s,a,i,o,c,d;for(t.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],n=u=0;0<=a?u<a:u>a;n=0<=a?++u:--u)h.push(t.readInt16());return h}(),this.widths=(function(){var u,h,f,p;for(p=[],u=0,h=(f=this.metrics).length;u<h;u++)i=f[u],p.push(i.advance);return p}).call(this),s=this.widths[this.widths.length-1],d=[],n=o=0;0<=a?o<a:o>a;n=0<=a?++o:--o)d.push(this.widths.push(s));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),m$=[].slice,_3e=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Mo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,s,a,i,o,c,d,u,h,f;return t in this.cache?this.cache[t]:(i=this.file.loca,n=this.file.contents,s=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+s,o=(c=new Ed(n.read(a))).readShort(),u=c.readShort(),f=c.readShort(),d=c.readShort(),h=c.readShort(),this.cache[t]=o===-1?new A3e(c,u,f,d,h):new j3e(c,o,u,f,d,h),this.cache[t]))},e.prototype.encode=function(t,n,s){var a,i,o,c,d;for(o=[],i=[],c=0,d=n.length;c<d;c++)a=t[n[c]],i.push(o.length),a&&(o=o.concat(a.encode(s)));return i.push(o.length),{table:o,offsets:i}},e}(),j3e=function(){function r(e,t,n,s,a,i){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),A3e=function(){function r(e,t,n,s,a){var i,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Ed(m$.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),T3e=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Mo),e.prototype.tag="loca",e.prototype.parse=function(t){var n,s;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var s=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<s.length;++o)if(s[o]=a,i<n.length&&n[i]==o){++i,s[o]=a;var c=this.offsets[o],d=this.offsets[o+1]-c;d>0&&(a+=d)}for(var u=new Array(4*s.length),h=0;h<s.length;++h)u[4*h+3]=255&s[h],u[4*h+2]=(65280&s[h])>>8,u[4*h+1]=(16711680&s[h])>>16,u[4*h]=(4278190080&s[h])>>24;return u},e}(),P3e=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,s,a;for(t in s=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[t],e[t]=s[n];return e},r.prototype.glyphsFor=function(e){var t,n,s,a,i,o,c;for(s={},i=0,o=e.length;i<o;i++)s[a=e[i]]=this.font.glyf.glyphFor(a);for(a in t=[],s)(n=s[a])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(a in c=this.glyphsFor(t))n=c[a],s[a]=n;return s},r.prototype.encode=function(e,t){var n,s,a,i,o,c,d,u,h,f,p,g,m,v,x;for(s in n=g$.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),p={0:0},x=n.charMap)p[(c=x[s]).old]=c.new;for(g in f=n.maxGlyphID,i)g in p||(p[g]=f++);return u=function(y){var w,k;for(w in k={},y)k[y[w]]=w;return k}(p),h=Object.keys(u).sort(function(y,w){return y-w}),m=function(){var y,w,k;for(k=[],y=0,w=h.length;y<w;y++)o=h[y],k.push(u[o]);return k}(),a=this.font.glyf.encode(i,m,p),d=this.font.loca.encode(a.offsets,m),v={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},r}();$t.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,s,a,i;if(Array.isArray(t))return"["+function(){var o,c,d;for(d=[],o=0,c=t.length;o<c;o++)n=t[o],d.push(e.convert(n));return d}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in a=["<<"],t)i=t[s],a.push("/"+s+" "+e.convert(i));return a.push(">>"),a.join(`
`)}return""+t},e}();class m8{static async getLogos(){try{console.log("🎨 [LogoService] Carregando logos do banco de dados...");const{data:e}=await G.from("settings").select("light_logo, dark_logo, platform_icon").single(),t={...this.defaultLogos};if(e){if(e.light_logo){const{data:n}=G.storage.from("logos").getPublicUrl(e.light_logo);n&&(t.light=n.publicUrl)}if(e.dark_logo){const{data:n}=G.storage.from("logos").getPublicUrl(e.dark_logo);n&&(t.dark=n.publicUrl)}if(e.platform_icon){const{data:n}=G.storage.from("logos").getPublicUrl(e.platform_icon);n&&(t.icon=n.publicUrl)}console.log("✅ [LogoService] Logos carregados:",{light:t.light,dark:t.dark,icon:t.icon})}else console.log("⚠️ [LogoService] Nenhuma configuração encontrada, usando logos padrão");return t}catch(e){return console.error("❌ [LogoService] Erro ao carregar logos:",e),console.log("🔄 [LogoService] Retornando logos padrão como fallback"),this.defaultLogos}}static async imageUrlToBase64(e){try{console.log("🖼️ [LogoService] Convertendo imagem para base64:",e);const t=await fetch(e);if(!t.ok)throw new Error(`Erro HTTP: ${t.status}`);const n=await t.blob();return new Promise((s,a)=>{const i=new FileReader;i.onload=()=>s(i.result),i.onerror=()=>a(new Error("Erro ao ler arquivo")),i.readAsDataURL(n)})}catch(t){return console.error("❌ [LogoService] Erro ao converter imagem:",t),null}}static async getLogoForPdf(e=!1){try{const t=await this.getLogos(),n=e?t.dark:t.light;return console.log("📄 [LogoService] Preparando logo para PDF:",n),await this.imageUrlToBase64(n)}catch(t){return console.error("❌ [LogoService] Erro ao preparar logo para PDF:",t),null}}}hr(m8,"defaultLogos",{light:"/images/logo/logo.svg",dark:"/images/logo/logo-dark.svg",icon:"/images/logo/logo-icon.svg"});class L3e{static addLogoToFooter(e,t,n,s){try{if(console.log("🎨 [PdfLogoRenderer] Adicionando logo ao rodapé"),!t){console.warn("⚠️ [PdfLogoRenderer] Logo base64 não fornecido");return}const a=20,i=8,o=15,d=20,u=s-o-i,h=t.includes("data:image/png")?"PNG":"JPEG";console.log("📐 [PdfLogoRenderer] Configurações do logo:",{logoX:d,logoY:u,logoWidth:a,logoHeight:i,format:h,pageWidth:n,pageHeight:s}),e.addImage(t,h,d,u,a,i),console.log("✅ [PdfLogoRenderer] Logo adicionado com sucesso")}catch(a){console.error("❌ [PdfLogoRenderer] Erro ao adicionar logo:",a)}}static addLogoToHeader(e,t,n){try{if(console.log("🎨 [PdfLogoRenderer] Adicionando logo ao cabeçalho"),!t){console.warn("⚠️ [PdfLogoRenderer] Logo base64 não fornecido");return}const s=25,a=10,i=10,c=n-20-s,d=i,u=t.includes("data:image/png")?"PNG":"JPEG";console.log("📐 [PdfLogoRenderer] Configurações do logo no cabeçalho:",{logoX:c,logoY:d,logoWidth:s,logoHeight:a,format:u}),e.addImage(t,u,c,d,s,a),console.log("✅ [PdfLogoRenderer] Logo no cabeçalho adicionado com sucesso")}catch(s){console.error("❌ [PdfLogoRenderer] Erro ao adicionar logo no cabeçalho:",s)}}static addCustomLogo(e,t){try{console.log("🎨 [PdfLogoRenderer] Adicionando logo customizado:",t);const n=t.format||(t.base64Data.includes("data:image/png")?"PNG":"JPEG");e.addImage(t.base64Data,n,t.x,t.y,t.width,t.height),console.log("✅ [PdfLogoRenderer] Logo customizado adicionado com sucesso")}catch(n){console.error("❌ [PdfLogoRenderer] Erro ao adicionar logo customizado:",n)}}}class D3e{static async generatePdf(e){try{console.log("🚀 [PDF] Iniciando geração de PDF"),console.log("📊 [PDF] Dados recebidos:",{formTitle:e.formTitle,totalEntries:e.totalEntries,fieldsCount:e.fields.length,entriesCount:e.entries.length,hasLogo:!!e.logoBase64});let t=e.logoBase64;t||(console.log("🎨 [PDF] Carregando logo da plataforma..."),t=await m8.getLogoForPdf(!1)||void 0,console.log("🎨 [PDF] Logo carregado:",!!t));const n={title:`Relatório - ${e.formTitle}`,subtitle:`Exportado em ${e.exportDate}`,includeHeader:!0,includeFooter:!0,pageOrientation:"landscape"};console.log("⚙️ [PDF] Configurações:",n);const s=new $t({orientation:n.pageOrientation,unit:"mm",format:"a4"});console.log("📄 [PDF] Objeto jsPDF criado"),s.setFont("helvetica"),console.log("🔤 [PDF] Fonte configurada"),n.includeHeader&&(console.log("📋 [PDF] Adicionando cabeçalho..."),this.addHeader(s,n,e),console.log("✅ [PDF] Cabeçalho adicionado")),console.log("📊 [PDF] Adicionando tabela..."),this.addDataTable(s,e),console.log("✅ [PDF] Tabela adicionada"),n.includeFooter&&(console.log("📋 [PDF] Adicionando rodapé..."),this.addFooter(s,e,t),console.log("✅ [PDF] Rodapé adicionado"));const a=this.generateFileName(e.formTitle,e.statusDisplayName,e.searchTerm);console.log("💾 [PDF] Nome do arquivo:",a),s.save(a),console.log("🎉 [PDF] PDF gerado e salvo com sucesso!")}catch(t){throw console.error("❌ [PDF] Erro detalhado ao gerar PDF:",t),console.error("📊 [PDF] Stack trace:",t instanceof Error?t.stack:"N/A"),console.error("📊 [PDF] Dados que causaram erro:",e),new Error(`Falha ao gerar PDF: ${t instanceof Error?t.message:"Erro desconhecido"}`)}}static addHeader(e,t,n){try{console.log("🏷️ [PDF Header] Iniciando adição do cabeçalho");const s=e.internal.pageSize.getWidth();if(console.log("📏 [PDF Header] Largura da página:",s),e.setFontSize(18),e.setTextColor(0,0,0),console.log("📝 [PDF Header] Adicionando título:",t.title),e.text(t.title,s/2,20,{align:"center"}),t.subtitle&&(e.setFontSize(12),e.setTextColor(100,100,100),console.log("📝 [PDF Header] Adicionando subtítulo:",t.subtitle),e.text(t.subtitle,s/2,30,{align:"center"})),n!=null&&n.statusDisplayName){e.setFontSize(10),e.setTextColor(50,50,50);const i=`Filtro: ${n.statusDisplayName}`,o=n.searchTerm?` | Busca: "${n.searchTerm}"`:"",c=` | Total de registros: ${n.totalEntries}`,d=i+o+c;console.log("📝 [PDF Header] Adicionando informações da aba:",d),e.text(d,s/2,40,{align:"center"})}e.setDrawColor(200,200,200);const a=n!=null&&n.statusDisplayName?45:35;e.line(20,a,s-20,a),console.log("➖ [PDF Header] Linha separadora adicionada")}catch(s){throw console.error("❌ [PDF Header] Erro ao adicionar cabeçalho:",s),s}}static addDataTable(e,t){try{console.log("📊 [PDF Table] Iniciando criação da tabela manual"),console.log("📋 [PDF Table] Preparando cabeçalhos...");const n=this.prepareTableHeaders(t.fields);console.log("📋 [PDF Table] Cabeçalhos preparados:",n),console.log("📊 [PDF Table] Preparando dados das linhas...");const s=this.prepareTableRows(t.entries,t.fields);console.log("📊 [PDF Table] Linhas preparadas:",s.length,"linhas");const i=t.statusDisplayName?55:45,o=10,c=12,d=e.internal.pageSize.getWidth(),u=d-20,h=this.calculateColumnWidths(n,u);console.log("📏 [PDF Table] Configurações:",{startY:i,startX:o,rowHeight:c,pageWidth:d.toFixed(2),availableWidth:u.toFixed(2),headers:n.length,columnWidths:h}),e.setFillColor(211,0,0),e.setTextColor(255,255,255),e.setFontSize(9),e.setFont("helvetica","bold");let f=i,p=o;e.rect(o,f,u,c,"F"),n.forEach((g,m)=>{const v=h[m];e.setDrawColor(150,150,150),e.rect(p,f,v,c);const x=g.length>12?g.substring(0,10)+"..":g,y=p+v/2;e.text(x,y,f+8,{align:"center"}),p+=v}),f+=c,e.setTextColor(0,0,0),e.setFont("helvetica","normal"),e.setFontSize(8),s.forEach((g,m)=>{p=o,m%2===0&&(e.setFillColor(248,248,248),e.rect(o,f,u,c,"F")),g.forEach((v,x)=>{const y=h[x];e.setDrawColor(200,200,200),e.rect(p,f,y,c),e.setTextColor(0,0,0);const w=Math.floor(y/2.5);let k=String(v||"-");k.length>w&&(k=k.substring(0,w-2)+".."),e.text(k,p+2,f+8),p+=y}),f+=c,f>e.internal.pageSize.getHeight()-40&&(e.addPage(),f=30,this.redrawTableHeader(e,n,h,o,f),f+=c)}),console.log("✅ [PDF Table] Tabela manual criada com sucesso")}catch(n){throw console.error("❌ [PDF Table] Erro ao criar tabela manual:",n),n}}static calculateColumnWidths(e,t){const n={URL:120,Preço:60,DA:40},s=[];let a=0;if(console.log("📏 [PDF Columns] Headers recebidos:",e),e.forEach(i=>{let o=60;i.toLowerCase().includes("url")||i.toLowerCase().includes("site")?o=n.URL:i.toLowerCase().includes("preço")||i.toLowerCase().includes("preco")||i.toLowerCase().includes("price")?o=n.Preço:(i.toLowerCase().includes("da")||i.toLowerCase().includes("domain authority"))&&(o=n.DA),s.push(o),a+=o}),console.log("📏 [PDF Columns] Larguras iniciais:",s),console.log("📏 [PDF Columns] Largura usada/disponível:",a,"/",t),a>t){const i=t/a;for(let o=0;o<s.length;o++)s[o]=s[o]*i;console.log("📏 [PDF Columns] Larguras reduzidas:",s)}else{const o=(t-a)/e.length;for(let c=0;c<s.length;c++)s[c]+=o;console.log("📏 [PDF Columns] Larguras expandidas:",s)}return s}static redrawTableHeader(e,t,n,s,a){e.setFillColor(211,0,0),e.setTextColor(255,255,255),e.setFontSize(9),e.setFont("helvetica","bold");const i=n.reduce((c,d)=>c+d,0);e.rect(s,a,i,12,"F");let o=s;t.forEach((c,d)=>{const u=n[d];e.setDrawColor(150,150,150),e.rect(o,a,u,12),e.setTextColor(255,255,255);const h=c.length>12?c.substring(0,10)+"..":c,f=o+u/2;e.text(h,f,a+8,{align:"center"}),o+=u})}static addFooter(e,t,n){try{console.log("📋 [Footer] Adicionando rodapé");const s=e.internal.pageSize.getHeight(),a=e.internal.pageSize.getWidth(),i=s-15;e.setDrawColor(211,0,0),e.setLineWidth(.5),e.line(20,i-5,a-20,i-5),e.setFontSize(8),e.setTextColor(0,0,0);const o=`Total de ${t.totalEntries} registros | Exportado em ${t.exportDate}`;e.text(o,20,i),n?(console.log("🎨 [Footer] Adicionando logo ao rodapé"),L3e.addLogoToFooter(e,n,a,s),console.log("✅ [Footer] Logo adicionado ao rodapé")):console.log("⚠️ [Footer] Logo não disponível"),console.log("✅ [Footer] Rodapé concluído")}catch(s){throw console.error("❌ [Footer] Erro ao adicionar rodapé:",s),s}}static prepareTableHeaders(e){const t=e.find(i=>{var o,c;return i.field_type==="url"||((o=i.label)==null?void 0:o.toLowerCase().includes("url"))||((c=i.label)==null?void 0:c.toLowerCase().includes("site"))}),n=e.find(i=>{var o,c,d;return((o=i.label)==null?void 0:o.toLowerCase().includes("da"))||((c=i.label)==null?void 0:c.toLowerCase().includes("domain authority"))||i.field_type==="number"&&((d=i.label)==null?void 0:d.toLowerCase().includes("da"))}),s=e.find(i=>{var o,c,d;return i.field_type==="product"||((o=i.label)==null?void 0:o.toLowerCase().includes("preço"))||((c=i.label)==null?void 0:c.toLowerCase().includes("preco"))||((d=i.label)==null?void 0:d.toLowerCase().includes("price"))}),a=[];return t&&a.push(t.label||"URL"),s&&a.push(s.label||"Preço"),n&&a.push(n.label||"DA"),console.log("📋 [PDF Headers] Cabeçalhos filtrados:",a),a}static prepareTableRows(e,t){const n=t.find(i=>{var o,c;return i.field_type==="url"||((o=i.label)==null?void 0:o.toLowerCase().includes("url"))||((c=i.label)==null?void 0:c.toLowerCase().includes("site"))}),s=t.find(i=>{var o,c,d;return((o=i.label)==null?void 0:o.toLowerCase().includes("da"))||((c=i.label)==null?void 0:c.toLowerCase().includes("domain authority"))||i.field_type==="number"&&((d=i.label)==null?void 0:d.toLowerCase().includes("da"))}),a=t.find(i=>{var o,c,d;return i.field_type==="product"||((o=i.label)==null?void 0:o.toLowerCase().includes("preço"))||((c=i.label)==null?void 0:c.toLowerCase().includes("preco"))||((d=i.label)==null?void 0:d.toLowerCase().includes("price"))});return console.log("🔍 [PDF Rows] Campos identificados:",{url:n==null?void 0:n.label,preco:a==null?void 0:a.label,da:s==null?void 0:s.label}),console.log("📊 [PDF Rows] Processando TODOS os",e.length,"registros"),e.map((i,o)=>{const c=[];if(n){const d=this.formatFieldValue(i.values[n.id],n.field_type);c.push(d)}if(a){const d=this.formatFieldValue(i.values[a.id],a.field_type);console.log(`💰 [PDF Rows] Registro ${o+1} - Preço formatado:`,{original:i.values[a.id],formatted:d,fieldType:a.field_type}),c.push(d)}if(s){const d=this.formatFieldValue(i.values[s.id],s.field_type);c.push(d)}return console.log(`📊 [PDF Rows] Registro ${o+1} processado:`,c),c})}static formatFieldValue(e,t){if(!e&&e!==0)return"-";switch(t){case"product":if(typeof e=="object"&&e.price){const s=String(e.price);return s.includes("R$")?s:`R$ ${s}`}const n=String(e);return n.includes("R$")?n:`R$ ${n}`;case"url":return typeof e=="string"&&e.startsWith("http")?e.length>50?`${e.substring(0,50)}...`:e:String(e);case"number":return String(e);case"email":return String(e);default:return typeof e=="object"?JSON.stringify(e).substring(0,100):String(e).substring(0,100)}}static generateFileName(e,t,n){let s=e;return t&&t!=="Todos os Status"&&(s+=` (${t})`),n&&n.trim()&&(s+=` - Busca: ${n.substring(0,20)}`),`${s}.pdf`}}function M3e(){const[r,e]=b.useState(!1),[t,n]=b.useState(null);return{exportToPdf:async i=>{var o,c;try{if(console.log("🎯 [usePdfExport] Iniciando exportação"),console.log("📊 [usePdfExport] Dados recebidos:",{formTitle:i.formTitle,exportDate:i.exportDate,entriesCount:((o=i.entries)==null?void 0:o.length)||0,fieldsCount:((c=i.fields)==null?void 0:c.length)||0,totalEntries:i.totalEntries}),e(!0),n(null),!i.formTitle)throw new Error("Título do formulário é obrigatório");if(!i.entries||i.entries.length===0)throw new Error("Não há dados para exportar");if(!i.fields||i.fields.length===0)throw new Error("Não há campos configurados para exportar");return console.log("✅ [usePdfExport] Validações passaram, chamando serviço..."),await D3e.generatePdf(i),console.log("🎉 [usePdfExport] Exportação concluída com sucesso"),!0}catch(d){console.error("❌ [usePdfExport] Erro na exportação:",d),console.error("📊 [usePdfExport] Stack trace:",d instanceof Error?d.stack:"N/A");const u=d instanceof Error?d.message:"Erro ao exportar PDF";return n(u),!1}finally{e(!1)}},loading:r,error:t,clearError:()=>{n(null)}}}function R3e({searchTerm:r,onSearchChange:e,onPageReset:t}){const[n,s]=b.useState(r);return b.useEffect(()=>{s(r)},[r]),{searchInput:n,setSearchInput:s,handleSearchSubmit:()=>{n!==r&&(e(n),t())}}}function I3e(r){return["text","textarea","email","url"].includes(r)}function O3e(r,e,t){const n=e.toLowerCase();return Object.entries(r.values).some(([s,a])=>{const i=t.find(o=>o.id===s);return!i||!I3e(i.field_type)?!1:String(a).toLowerCase().includes(n)})}function F3e(r,e){const t=e.toLowerCase();return r.publisher?`${r.publisher.first_name||""} ${r.publisher.last_name||""}`.toLowerCase().includes(t)||(r.publisher.email||"").toLowerCase().includes(t):!1}function B3e(r,e){return(r.status||"").toLowerCase().includes(e.toLowerCase())}function z3e(r,e){return(r.created_at||"").toLowerCase().includes(e.toLowerCase())}function H3e(r,e){const t=e.toLowerCase();return Object.values(r.values).some(n=>typeof n=="number"||!isNaN(Number(n))&&n!==null&&n!==void 0?String(n).toLowerCase().includes(t):!1)}function U3e(r,e,t){return O3e(r,e,t)||F3e(r,e)||B3e(r,e)||z3e(r,e)||H3e(r,e)}class Mv{static generateFieldSortConfig(e){const t=["text","textarea","email","url","select"].includes(e.field_type),n=["number","product","commission"].includes(e.field_type);return{field:e.id,sortable:!0,sortType:"client",customSort:(s,a)=>s.sort((i,o)=>{const c=i.values[e.id],d=o.values[e.id];if(!c&&!d)return 0;if(!c)return a==="asc"?-1:1;if(!d)return a==="asc"?1:-1;let u=c,h=d;return e.field_type==="product"?(u=(c==null?void 0:c.price)||0,h=(d==null?void 0:d.price)||0):n?(u=parseFloat(c)||0,h=parseFloat(d)||0):t&&(u=String(c).toLowerCase(),h=String(d).toLowerCase()),n||e.field_type==="product"?a==="asc"?u-h:h-u:a==="asc"?u.localeCompare(h):h.localeCompare(u)})}}static getSortConfig(e,t){if(this.DEFAULT_SORT_CONFIGS[e])return this.DEFAULT_SORT_CONFIGS[e];if(t){const n=t.find(s=>s.id===e);if(n)return this.generateFieldSortConfig(n)}return null}static isFieldSortable(e,t){const n=this.getSortConfig(e,t);return(n==null?void 0:n.sortable)??!1}static getDatabaseSortColumns(){const e={};return Object.entries(this.DEFAULT_SORT_CONFIGS).forEach(([t,n])=>{n.sortType==="database"&&n.dbColumn&&(e[t]=n.dbColumn)}),e}static isDatabaseSortField(e){const t=this.DEFAULT_SORT_CONFIGS[e];return t?t.sortType==="database":!1}static applyClientSort(e,t,n,s){const a=this.getSortConfig(t,s);return!a||!a.customSort?e:a.customSort(e,n)}}hr(Mv,"DEFAULT_SORT_CONFIGS",{created_at:{field:"created_at",sortable:!0,sortType:"database",dbColumn:"created_at"},updated_at:{field:"updated_at",sortable:!0,sortType:"database",dbColumn:"updated_at"},status:{field:"status",sortable:!0,sortType:"database",dbColumn:"status"},publisher:{field:"publisher",sortable:!0,sortType:"client",customSort:(e,t)=>e.sort((n,s)=>{const a=n.publisher?`${n.publisher.first_name} ${n.publisher.last_name}`.toLowerCase():"",i=s.publisher?`${s.publisher.first_name} ${s.publisher.last_name}`.toLowerCase():"";return t==="asc"?a.localeCompare(i):i.localeCompare(a)})}});class S0{static async loadEntriesPaginated(e){try{const{page:t,limit:n,searchTerm:s,statusFilter:a,sortField:i,sortDirection:o,formId:c}=e,d=(t-1)*n;let u=G.from("form_entries").select(`
          id,
          form_id,
          status,
          created_at,
          updated_at,
          created_by,
          forms!form_id(title),
          form_entry_values(
            field_id,
            value,
            value_json
          ),
          form_entry_notes(
            id,
            note,
            created_at,
            created_by
          )
        `,{count:"exact"});c&&(u=u.eq("form_id",c)),a&&a!=="todos"&&(u=u.eq("status",a));const h=Mv.getDatabaseSortColumns();if(i&&h[i]){const E=h[i];u=u.order(E,{ascending:o==="asc"})}else u=u.order("created_at",{ascending:o==="asc"});u=u.range(d,d+n-1);const{data:f,error:p,count:g}=await u;if(p)throw p;let m=f,v=g;if(s&&c){const{data:E}=await G.from("form_fields").select("id, field_type, label").eq("form_id",c).filter("field_type","in",'("text","textarea","email","url")'),R=E||[],O=s.toLowerCase();let L=G.from("form_entries").select(`
            id,
            form_id,
            status,
            created_at,
            updated_at,
            created_by,
            forms!form_id(title),
            form_entry_values(
              field_id,
              value,
              value_json
            ),
            form_entry_notes(
              id,
              note,
              created_at,
              created_by
            )
          `,{count:"exact"});c&&(L=L.eq("form_id",c)),a&&a!=="todos"&&(L=L.eq("status",a));const{data:D,error:F}=await L;if(F)throw F;const M=(D||[]).map(q=>{const Q={};return(q.form_entry_values||[]).forEach(T=>{const{field_id:H,value:$,value_json:Y}=T;if(Y!==null)Q[H]=Y;else try{const K=JSON.parse($);Q[H]=K}catch{Q[H]=$}}),{...q,values:Q}}),B=[...new Set(M.map(q=>q.created_by).filter(Boolean))];let z=new Map;if(B.length>0){const{data:q}=await G.from("platform_users").select("id, first_name, last_name, email").in("id",B);q==null||q.forEach(T=>{z.set(T.id,{...T,type:"platform"})});const Q=B.filter(T=>!z.has(T));if(Q.length>0){const{data:T}=await G.from("admins").select("id, first_name, last_name, email").in("id",Q);T==null||T.forEach(H=>{z.set(H.id,{...H,type:"admin"})})}}const V=M.filter(q=>{const Q={...q,publisher:z.get(q.created_by)||void 0};return U3e(Q,O,R)}),W=(t-1)*n,Z=W+n;m=V.slice(W,Z),v=V.length}const x=s?m:f,y=[...new Set((x||[]).map(E=>E.created_by).filter(Boolean))];let w=new Map;if(y.length>0){const{data:E}=await G.from("platform_users").select("id, first_name, last_name, email").in("id",y);E==null||E.forEach(O=>{w.set(O.id,{...O,type:"platform"})});const R=y.filter(O=>!w.has(O));if(R.length>0){const{data:O}=await G.from("admins").select("id, first_name, last_name, email").in("id",R);O==null||O.forEach(L=>{w.set(L.id,{...L,type:"admin"})})}}const k=(x||[]).map(E=>{const R={};(E.form_entry_values||[]).forEach(L=>{const{field_id:D,value:F,value_json:M}=L;if(M!==null)R[D]=M;else try{const B=JSON.parse(F);R[D]=B}catch{R[D]=F}});const O=w.get(E.created_by)||null;return{id:E.id,form_id:E.form_id,created_at:E.created_at,updated_at:E.updated_at,status:E.status,created_by:E.created_by,publisher:O,values:R,form:E.forms,notes:E.form_entry_notes||[],fields:[]}});let S=k;if(i&&!Mv.isDatabaseSortField(i)){let E=[];if(c){const{data:R}=await G.from("form_fields").select("id, field_type, label, name").eq("form_id",c);E=R||[]}S=Mv.applyClientSort(k,i,o||"desc",E)}const N=s?v||0:g||0,A=Math.ceil(N/n);return{data:S,pagination:{currentPage:t,totalPages:A,totalItems:N,itemsPerPage:n,hasNextPage:t<A,hasPreviousPage:t>1}}}catch(t){throw console.error("Error loading entries with pagination:",t),t}}static async loadStatusCounts(e){try{let t=G.from("form_entries").select("status",{count:"exact"});e&&(t=t.eq("form_id",e));const{data:n,error:s,count:a}=await t;if(s)throw s;const i={em_analise:0,verificado:0,reprovado:0};return n==null||n.forEach(c=>{i.hasOwnProperty(c.status)&&i[c.status]++}),{todos:a||0,em_analise:i.em_analise,verificado:i.verificado,reprovado:i.reprovado}}catch(t){throw console.error("Error loading status counts:",t),t}}}function $3e({formId:r,statusFilter:e,searchTerm:t}){const[n,s]=b.useState(!1),[a,i]=b.useState(null),o=d=>({todos:"Todos os Status",em_analise:"Em Análise",verificado:"Verificado",reprovado:"Reprovado"})[d]||d;return{loading:n,error:a,getAllEntries:async()=>{try{s(!0),i(null),console.log("📊 [useAllEntriesForExport] Buscando todos os entries para exportação:",{formId:r,statusFilter:e,searchTerm:t,statusDisplayName:o(e)});const d=await S0.loadEntriesPaginated({page:1,limit:1e4,formId:r,statusFilter:e,searchTerm:t,sortField:"created_at",sortDirection:"desc"});return console.log("✅ [useAllEntriesForExport] Entries carregados:",{count:d.data.length,totalItems:d.pagination.totalItems}),d.data}catch(d){const u=d instanceof Error?d.message:"Erro ao carregar entries para exportação";return console.error("❌ [useAllEntriesForExport] Erro:",d),i(u),[]}finally{s(!1)}},getStatusDisplayName:o}}function V3e({entries:r,fields:e,formTitle:t,formId:n,statusFilter:s,searchTerm:a,disabled:i=!1}){const{exportToPdf:o,loading:c,error:d}=M3e(),{getAllEntries:u,getStatusDisplayName:h}=$3e({formId:n,statusFilter:s,searchTerm:a}),[f,p]=b.useState(!1),g=async()=>{if(console.log("🔘 [PdfExportButton] Clique do botão de exportar"),console.log("📊 [PdfExportButton] Estado inicial:",{entriesCount:r.length,fieldsCount:e.length,formTitle:t,statusFilter:s,searchTerm:a,disabled:i,loading:c}),r.length===0){console.warn("⚠️ [PdfExportButton] Sem dados para exportar"),alert("Não há dados para exportar");return}console.log("📦 [PdfExportButton] Buscando TODOS os entries da aba para exportação...");const m=await u();if(m.length===0){console.warn("⚠️ [PdfExportButton] Nenhum entry encontrado para a aba atual"),alert("Não há dados para exportar na aba selecionada");return}console.log("📊 [PdfExportButton] Dados carregados:",{allEntriesCount:m.length,statusFilter:h(s)}),console.log("🎨 [PdfExportButton] Carregando logo...");const v=await m8.getLogoForPdf(!1);console.log("🎨 [PdfExportButton] Logo carregado:",!!v);const x={entries:m.map(w=>({id:w.id,status:w.status,created_at:w.created_at,values:w.values||{},publisher:w.publisher})),fields:e.map(w=>({id:w.id,label:w.label,field_type:w.field_type,position:w.position})),formTitle:t,exportDate:new Date().toLocaleDateString("pt-BR"),totalEntries:m.length,logoBase64:v||void 0,statusFilter:s,statusDisplayName:h(s),searchTerm:a};console.log("📊 [PdfExportButton] Dados preparados:",{entriesProcessed:x.entries.length,fieldsProcessed:x.fields.length,formTitle:x.formTitle,exportDate:x.exportDate,totalEntries:x.totalEntries,hasLogo:!!x.logoBase64}),console.log("🚀 [PdfExportButton] Chamando hook de exportação...");const y=await o(x);!y&&d?(console.error("❌ [PdfExportButton] Falha na exportação:",d),p(!0),setTimeout(()=>p(!1),5e3)):y&&console.log("🎉 [PdfExportButton] Exportação realizada com sucesso")};return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:g,disabled:i||c||r.length===0,className:"shadow-theme-xs flex w-full items-center justify-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-[11px] text-sm font-medium text-gray-700 sm:w-auto dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:r.length===0?"Não há dados para exportar":"Exportar dados para PDF",children:[c?"Exportando...":"Exportar",l.jsx("svg",{className:"fill-current w-5 h-5",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0018 14.083C9.7866 14.083 9.59255 13.9924 9.45578 13.8472L5.61586 10.0097C5.32288 9.71688 5.32272 9.242 5.61552 8.94902C5.90832 8.65603 6.3832 8.65588 6.67618 8.94868L9.25182 11.5227L9.25182 3.33301C9.25182 2.91879 9.5876 2.58301 10.0018 2.58301C10.416 2.58301 10.7518 2.91879 10.7518 3.33301L10.7518 11.5193L13.3242 8.94866C13.6172 8.65587 14.0921 8.65604 14.3849 8.94903C14.6777 9.24203 14.6775 9.7169 14.3845 10.0097L10.5761 13.8154C10.4385 13.979 10.2323 14.083 10.0018 14.083ZM4.0835 13.333C4.0835 12.9188 3.74771 12.583 3.3335 12.583C2.91928 12.583 2.5835 12.9188 2.5835 13.333V15.1663C2.5835 16.409 3.59086 17.4163 4.8335 17.4163H15.1676C16.4102 17.4163 17.4176 16.409 17.4176 15.1663V13.333C17.4176 12.9188 17.0818 12.583 16.6676 12.583C16.2533 12.583 15.9176 12.9188 15.9176 13.333V15.1663C15.9176 15.5806 15.5818 15.9163 15.1676 15.9163H4.8335C4.41928 15.9163 4.0835 15.5806 4.0835 15.1663V13.333Z",fill:""})})]}),f&&d&&l.jsx("div",{className:"absolute top-full left-0 mt-2 p-2 bg-red-100 border border-red-300 text-red-700 text-xs rounded-lg shadow-lg z-50 min-w-max",children:d})]})}function W3e({entriesPerPage:r,onEntriesPerPageChange:e,searchTerm:t,onSearchChange:n,onPageReset:s,formFields:a,formId:i,userId:o,onCsvImportSuccess:c,showCsvImport:d=!0,formTitle:u="Formulário",showPdfExport:h=!0,onStatusFilterChange:f,statusFilter:p="todos",statusCounts:g={todos:0,em_analise:0,verificado:0,reprovado:0},entries:m=[]}){const{searchInput:v,setSearchInput:x,handleSearchSubmit:y}=R3e({searchTerm:t,onSearchChange:n,onPageReset:s}),w=E=>{e(E),s()},k=[{id:"todos",label:"Todos",count:g.todos},{id:"em_analise",label:"Em Análise",count:g.em_analise},{id:"verificado",label:"Verificado",count:g.verificado},{id:"reprovado",label:"Reprovado",count:g.reprovado}],{activeTabId:S,handleTabChange:N}=aU(k,p),A=E=>{N(E),f==null||f(E),s()};return l.jsxs("div",{className:"flex flex-col gap-2 px-4 py-4 border-b border-gray-100 dark:border-white/[0.05] rounded-t-xl sm:flex-row sm:items-center sm:justify-between",children:[l.jsx(WE,{itemsPerPage:r,onItemsPerPageChange:w,itemLabel:"registros"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(dB,{tabs:k,activeTabId:S,onTabChange:A,compact:!0,buttonMinWidth:"120px",className:"h-11 items-center"}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{type:"button",className:"absolute text-gray-500 -translate-y-1/2 left-4 top-1/2 dark:text-gray-400 transition-colors hover:text-black focus:text-black",onClick:y,tabIndex:0,"aria-label":"Buscar",children:l.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.04199 9.37363C3.04199 5.87693 5.87735 3.04199 9.37533 3.04199C12.8733 3.04199 15.7087 5.87693 15.7087 9.37363C15.7087 12.8703 12.8733 15.7053 9.37533 15.7053C5.87735 15.7053 3.04199 12.8703 3.04199 9.37363ZM9.37533 1.54199C5.04926 1.54199 1.54199 5.04817 1.54199 9.37363C1.54199 13.6991 5.04926 17.2053 9.37533 17.2053C11.2676 17.2053 13.0032 16.5344 14.3572 15.4176L17.1773 18.238C17.4702 18.5309 17.945 18.5309 18.2379 18.238C18.5308 17.9451 18.5309 17.4703 18.238 17.1773L15.4182 14.3573C16.5367 13.0033 17.2087 11.2669 17.2087 9.37363C17.2087 5.04817 13.7014 1.54199 9.37533 1.54199Z",fill:"currentColor"})})}),l.jsx("input",{placeholder:"Pesquisar...",className:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent py-2.5 pl-12 pr-4 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 xl:w-[300px]",type:"text",value:v,onChange:E=>x(E.target.value),onKeyDown:E=>{E.key==="Enter"&&y()}})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[d&&i&&l.jsx(M4e,{formFields:a,formId:i,userId:o,onSuccess:c}),h&&l.jsx(V3e,{entries:m,fields:a,formTitle:u,formId:i,statusFilter:p,searchTerm:t})]})]})]})}function q3e({total:r,filtered:e,hasFilter:t,searchTerm:n}){return t?l.jsx("div",{className:"px-4 py-2 border-b border-gray-100 dark:border-white/[0.05] bg-gray-50 dark:bg-gray-800/50",children:l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e===0?l.jsxs(l.Fragment,{children:['Nenhum resultado encontrado para "',l.jsx("strong",{children:n}),'"']}):l.jsxs(l.Fragment,{children:["Mostrando ",l.jsx("strong",{children:e})," de ",l.jsx("strong",{children:r}),' resultados para "',l.jsx("strong",{children:n}),'"']})}),e>0&&l.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:[r-e," ",r-e===1?"item oculto":"itens ocultos"]})]})}):null}function Y3e(r){const[e,t]=b.useState([]),[n,s]=b.useState(!0),[a,i]=b.useState(""),[o,c]=b.useState(0),[d,u]=b.useState({todos:0,em_analise:0,verificado:0,reprovado:0}),[h,f]=b.useState(1),[p,g]=b.useState(10),[m,v]=b.useState(1),[x,y]=b.useState(0),[w,k]=b.useState(""),[S,N]=b.useState("todos"),[A,E]=b.useState("created_at"),[R,O]=b.useState("desc"),L=b.useCallback(async()=>{if(!r){console.warn("[usePaginatedEntries] loadEntries called without formId");return}try{console.log(`🔄 [usePaginatedEntries] Loading entries for form: ${r}, page: ${h}`),s(!0),i("");const Z={page:h,limit:p,searchTerm:w||void 0,statusFilter:S!=="todos"?S:void 0,sortField:A,sortDirection:R,formId:r},q=await S0.loadEntriesPaginated(Z);t(q.data),v(q.pagination.totalPages),y(q.pagination.totalItems),console.log(`✅ [usePaginatedEntries] Loaded ${q.data.length} entries, total: ${q.pagination.totalItems}`)}catch(Z){console.error("Error loading entries:",Z),i("Erro ao carregar entradas"),t([])}finally{s(!1)}},[r,h,p,w,S,A,R,o]),D=b.useCallback(async()=>{if(r)try{const Z=await S0.loadStatusCounts(r);u(Z)}catch(Z){console.error("Error loading status counts:",Z)}},[r]);b.useEffect(()=>{L()},[L]),b.useEffect(()=>{D()},[D]),b.useEffect(()=>{f(1)},[w,S,p]);const F=Z=>{k(Z)},M=Z=>{N(Z)},B=Z=>{g(Z)},z=Z=>{f(Z)},V=Z=>{A===Z?O(q=>q==="asc"?"desc":"asc"):(E(Z),O("asc"))},W=b.useCallback(()=>{console.log(`🔄 [usePaginatedEntries] Refreshing entries for form: ${r}`),c(Z=>Z+1),D(),console.log("✅ [usePaginatedEntries] Refresh triggered successfully")},[r,D]);return{entries:e,loading:n,error:a,statusCounts:d,currentPage:h,entriesPerPage:p,totalPages:m,totalItems:x,searchTerm:w,statusFilter:S,sortField:A,sortDirection:R,handleSearch:F,handleStatusFilter:M,handleEntriesPerPageChange:B,handlePageChange:z,handleSort:V,refreshEntries:W,setCurrentPage:f,setEntriesPerPage:g,setSearchTerm:k,setStatusFilter:N}}class G3e{constructor(e={}){hr(this,"cache",new Map);hr(this,"config");this.config={maxAge:e.maxAge||5*60*1e3,maxEntries:e.maxEntries||50}}generateCacheKey(e){return JSON.stringify({page:e.page,itemsPerPage:e.itemsPerPage||10,searchTerm:e.searchTerm||"",statusFilter:e.statusFilter||"",sortField:e.sortField||"",sortDirection:e.sortDirection||"",formId:e.formId||""})}isExpired(e){return Date.now()-e.timestamp>this.config.maxAge}cleanupExpiredEntries(){const e=Date.now();for(const[t,n]of this.cache.entries())e-n.timestamp>this.config.maxAge&&this.cache.delete(t)}enforceMaxEntries(){this.cache.size>this.config.maxEntries&&Array.from(this.cache.entries()).sort(([,n],[,s])=>n.timestamp-s.timestamp).slice(0,this.cache.size-this.config.maxEntries).forEach(([n])=>this.cache.delete(n))}get(e){this.cleanupExpiredEntries();const t=this.generateCacheKey(e),n=this.cache.get(t);return!n||this.isExpired(n)?(n&&this.cache.delete(t),null):n}set(e,t,n,s){this.cleanupExpiredEntries(),this.enforceMaxEntries();const a=this.generateCacheKey(e),i={data:t,timestamp:Date.now(),totalItems:n,totalPages:s};this.cache.set(a,i)}invalidate(e){if(!e){this.cache.clear();return}for(const[t]of this.cache.entries()){const n=JSON.parse(t);let s=!0;for(const[a,i]of Object.entries(e))if(n[a]!==i){s=!1;break}s&&this.cache.delete(t)}}clear(){this.cache.clear()}size(){return this.cleanupExpiredEntries(),this.cache.size}}function X3e({fetchFunction:r,dependencies:e,cacheConfig:t}){const[n,s]=b.useState([]),[a,i]=b.useState(!0),[o,c]=b.useState(""),[d,u]=b.useState(1),[h,f]=b.useState(0),[p,g]=b.useState(1),[m,v]=b.useState(100),[x,y]=b.useState(""),[w,k]=b.useState("todos"),[S,N]=b.useState("created_at"),[A,E]=b.useState("desc"),R=b.useRef(new G3e(t)),O=b.useCallback(()=>({page:p,itemsPerPage:m,searchTerm:x||void 0,statusFilter:w!=="todos"?w:void 0,sortField:S,sortDirection:A,formId:e[0]}),[p,m,x,w,S,A,e]),L=b.useCallback(async()=>{const Z=O(),q=R.current.get(Z);if(q){s(q.data),u(q.totalPages),f(q.totalItems),i(!1);return}try{i(!0),c("");const Q={page:p,limit:m,searchTerm:x||void 0,statusFilter:w!=="todos"?w:void 0,sortField:S,sortDirection:A,formId:e[0],...e.reduce((H,$,Y)=>(H[`dep_${Y}`]=$,H),{})},T=await r(Q);R.current.set(Z,T.data,T.pagination.totalItems,T.pagination.totalPages),s(T.data),u(T.pagination.totalPages),f(T.pagination.totalItems)}catch(Q){console.error("Error loading data:",Q),c("Erro ao carregar dados"),s([])}finally{i(!1)}},[r,O,p,m,x,w,S,A,e]);return b.useEffect(()=>{e[0]&&L()},[L]),b.useEffect(()=>{g(1)},[x,w,m]),b.useEffect(()=>{R.current.invalidate({formId:e[0]})},e),{data:n,loading:a,error:o,currentPage:p,itemsPerPage:m,totalPages:d,totalItems:h,searchTerm:x,statusFilter:w,sortField:S,sortDirection:A,handleSearch:Z=>{y(Z)},handleStatusFilter:Z=>{k(Z)},handleItemsPerPageChange:Z=>{v(Z),R.current.clear()},handlePageChange:Z=>{g(Z)},handleSort:Z=>{S===Z?E(q=>q==="asc"?"desc":"asc"):(N(Z),E("asc"))},refreshData:()=>{R.current.clear(),L()},clearCache:()=>{R.current.clear()},setCurrentPage:g,setItemsPerPage:v,setSearchTerm:y,setStatusFilter:k,cacheSize:R.current.size()}}function Z3e(r){const[e,t]=b.useState({todos:0,em_analise:0,verificado:0,reprovado:0}),n=b.useCallback(async c=>await S0.loadEntriesPaginated(c),[r]),s=b.useMemo(()=>({maxAge:3*60*1e3,maxEntries:50}),[]),a=X3e({fetchFunction:n,dependencies:[r],cacheConfig:s}),i=b.useCallback(async()=>{if(r)try{const c=await S0.loadStatusCounts(r);t(c)}catch(c){console.error("Error loading status counts:",c)}},[r]);b.useEffect(()=>{i()},[i]);const o=b.useCallback(()=>{a.refreshData(),i()},[a.refreshData,i]);return b.useMemo(()=>({entries:a.data,loading:a.loading,error:a.error,statusCounts:e,currentPage:a.currentPage,entriesPerPage:a.itemsPerPage,totalPages:a.totalPages,totalItems:a.totalItems,searchTerm:a.searchTerm,statusFilter:a.statusFilter,sortField:a.sortField,sortDirection:a.sortDirection,handleSearch:a.handleSearch,handleStatusFilter:a.handleStatusFilter,handleEntriesPerPageChange:a.handleItemsPerPageChange,handlePageChange:a.handlePageChange,handleSort:a.handleSort,refreshEntries:o,setCurrentPage:a.setCurrentPage,setEntriesPerPage:a.setItemsPerPage,setSearchTerm:a.setSearchTerm,setStatusFilter:a.setStatusFilter,clearCache:a.clearCache,cacheSize:a.cacheSize}),[a.data,a.loading,a.error,e,a.currentPage,a.itemsPerPage,a.totalPages,a.totalItems,a.searchTerm,a.statusFilter,a.sortField,a.sortDirection,a.handleSearch,a.handleStatusFilter,a.handleItemsPerPageChange,a.handlePageChange,a.handleSort,o,a.setCurrentPage,a.setItemsPerPage,a.setSearchTerm,a.setStatusFilter,a.clearCache,a.cacheSize])}const J3e=({currentPage:r,itemsPerPage:e,totalItems:t,itemLabel:n="registros"})=>{const s=(r-1)*e+1,a=Math.min(r*e,t);return l.jsx("div",{className:"flex items-center",children:l.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Mostrando"," ",l.jsx("span",{className:"font-medium",children:s})," ","a"," ",l.jsx("span",{className:"font-medium",children:a})," ","de"," ",l.jsx("span",{className:"font-medium",children:t})," ",n]})})},K3e=({currentPage:r,totalPages:e,onPageChange:t})=>{const n=()=>{r>1&&t(r-1)},s=()=>{r<e&&t(r+1)},i=(()=>{let c=Math.max(1,r-Math.floor(2.5)),d=Math.min(e,c+5-1);return d-c+1<5&&(c=Math.max(1,d-5+1)),Array.from({length:d-c+1},(u,h)=>c+h)})();return e<=1?null:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:n,disabled:r===1,className:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700",children:"Anterior"}),l.jsx("div",{className:"flex items-center space-x-1",children:i.map(o=>l.jsx("button",{onClick:()=>t(o),className:`relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${o===r?"bg-brand-500 text-white border border-brand-500":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:o},o))}),l.jsx("button",{onClick:s,disabled:r===e,className:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700",children:"Próxima"})]})},x$=({currentPage:r,totalPages:e,totalItems:t,itemsPerPage:n,onPageChange:s,showInfo:a=!0,itemLabel:i="registros"})=>e<=1?null:l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-200 dark:border-gray-800 sm:px-6",children:[a&&l.jsx(J3e,{currentPage:r,itemsPerPage:n,totalItems:t,itemLabel:i}),l.jsx(K3e,{currentPage:r,totalPages:e,onPageChange:s})]});function Q3e({rows:r=5,columns:e=6}){return l.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:l.jsx("div",{className:"overflow-x-auto table-scrollbar",children:l.jsxs("div",{className:"min-w-[1102px]",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 dark:border-white/[0.05]",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-9 w-24 bg-gray-200 rounded-lg animate-pulse dark:bg-gray-700"}),l.jsx("div",{className:"h-9 w-32 bg-gray-200 rounded-lg animate-pulse dark:bg-gray-700"})]}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("div",{className:"h-9 w-48 bg-gray-200 rounded-lg animate-pulse dark:bg-gray-700"})})]}),l.jsx("div",{className:"px-4 py-2 border-b border-gray-100 dark:border-white/[0.05]",children:l.jsx("div",{className:"h-4 w-64 bg-gray-200 rounded animate-pulse dark:bg-gray-700"})}),l.jsxs(To,{children:[l.jsx(Po,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:l.jsx(Mr,{children:Array.from({length:e}).map((t,n)=>l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse dark:bg-gray-700",style:{width:`${Math.random()*40+60}px`}})},n))})}),l.jsx(Lo,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:Array.from({length:r}).map((t,n)=>l.jsx(Mr,{children:Array.from({length:e}).map((s,a)=>l.jsx(et,{className:"px-5 py-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse dark:bg-gray-700",style:{width:`${Math.random()*60+40}%`}}),a===0&&l.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse dark:bg-gray-700",style:{width:`${Math.random()*40+30}%`}})]})},a))},n))})]}),l.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-t border-gray-100 dark:border-white/[0.05]",children:[l.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse dark:bg-gray-700"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse dark:bg-gray-700"}),l.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse dark:bg-gray-700"}),l.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse dark:bg-gray-700"}),l.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse dark:bg-gray-700"})]})]})]})})})}const zg=({field:r,label:e,sortField:t,sortDirection:n,onSort:s,sortable:a=!0,className:i=""})=>{const c=a&&t===r,d=()=>{a&&s(r)};return l.jsx("div",{className:`
        h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400
        ${i}
      `,children:l.jsxs("div",{className:`
          absolute inset-0 w-full h-full flex items-center gap-1 text-left outline-none px-5 py-3
          ${a?"cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700":"cursor-default"}
        `,onClick:d,role:a?"button":void 0,tabIndex:a?0:void 0,onKeyDown:u=>{a&&(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),d())},children:[l.jsx("span",{children:e}),a&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:`${c&&n==="asc"?"fill-brand-500 dark:fill-brand-400":"fill-gray-300 dark:fill-gray-700"}`,width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z"})}),l.jsx("svg",{className:`${c&&n==="desc"?"fill-brand-500 dark:fill-brand-400":"fill-gray-300 dark:fill-gray-700"}`,width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z"})})]})]})})};function eke(r){switch(r){case"verificado":return l.jsx(Dt,{color:"success",children:"Verificado"});case"reprovado":return l.jsx(Dt,{color:"error",children:"Reprovado"});case"em_analise":default:return l.jsx(Dt,{color:"warning",children:"Em análise"})}}const tke=({fields:r,selectedFormId:e,onView:t,onEdit:n,onDelete:s,userId:a,onCsvImportSuccess:i,formTitle:o})=>{const{entries:c,loading:d,currentPage:u,setCurrentPage:h,totalPages:f,totalItems:p,entriesPerPage:g,setEntriesPerPage:m,searchTerm:v,setSearchTerm:x,statusFilter:y,setStatusFilter:w,statusCounts:k,sortField:S,sortDirection:N,handleSort:A,handlePageChange:E,refreshEntries:R}=Z3e(e);C4e(e,R,{listenerId:`entries-table-${e}`,priority:1});const O=r.find(M=>M.field_type==="product"),L=r.find(M=>M.field_type==="commission"),D=r.filter(M=>M.field_type!=="button_buy"&&M.field_type!=="product"&&M.field_type!=="commission").slice(0,2),F=[...O?[O]:[],...L?[L]:[],...D];return d?l.jsx(Q3e,{rows:g,columns:F.length+5}):l.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:l.jsx("div",{className:"overflow-x-auto table-scrollbar",children:l.jsxs("div",{className:"min-w-[1102px]",children:[l.jsx(W3e,{entriesPerPage:g,onEntriesPerPageChange:m,searchTerm:v,onSearchChange:x,onPageReset:()=>h(1),formFields:r,formId:e,userId:a,onCsvImportSuccess:i,showCsvImport:!!e,formTitle:o,showPdfExport:!0,onStatusFilterChange:w,statusFilter:y,statusCounts:k,entries:c}),l.jsx(q3e,{total:p,filtered:c.length,hasFilter:v!==""||y!=="todos",searchTerm:v}),l.jsxs(To,{children:[l.jsx(Po,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:l.jsxs(Mr,{children:[l.jsx(et,{isHeader:!0,className:"h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsx(zg,{field:"created_at",label:"Data",sortField:S,sortDirection:N,onSort:A,sortable:!0})}),l.jsx(et,{isHeader:!0,className:"h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsx(zg,{field:"updated_at",label:"Atualização",sortField:S,sortDirection:N,onSort:A,sortable:!0})}),F.map(M=>l.jsx(et,{isHeader:!0,className:"font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 whitespace-nowrap",children:l.jsx(zg,{field:M.id,label:M.label||M.name,sortField:S,sortDirection:N,onSort:A,sortable:!0})},M.id)),l.jsx(et,{isHeader:!0,className:"font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 whitespace-nowrap",children:l.jsx(zg,{field:"publisher",label:"Publisher",sortField:S,sortDirection:N,onSort:A,sortable:!0})}),l.jsx(et,{isHeader:!0,className:"font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 whitespace-nowrap",children:l.jsx(zg,{field:"status",label:"Status",sortField:S,sortDirection:N,onSort:A,sortable:!0})}),l.jsx(et,{isHeader:!0,className:"px-4 py-3 font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400 whitespace-nowrap",children:"Ações"})]})}),l.jsxs(Lo,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:[c.map(M=>l.jsxs(Mr,{children:[l.jsx(et,{className:"px-5 py-4 sm:px-6 text-start",children:l.jsx("span",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:b9(M.created_at)})}),l.jsx(et,{className:"px-5 py-4 sm:px-6 text-start",children:l.jsx("span",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:b9(M.updated_at)})}),F.map(B=>{const z=M.values[B.id];if(B.field_type==="product"){const V=L&&parseFloat(M.values[L.id])||0;return l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400 whitespace-nowrap",children:l.jsx(XC,{commission:V,productData:z,layout:"inline",showMarginBelow:!1,showOriginalPrice:!0})},B.id)}return l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400 whitespace-nowrap",children:D4e(z,B.field_type,B)},B.id)}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400 whitespace-nowrap",children:M.publisher?l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium",children:[M.publisher.first_name," ",M.publisher.last_name]}),l.jsx("div",{className:"text-xs",children:M.publisher.email})]}):"-"}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400 whitespace-nowrap",children:eke(M.status||"em_analise")}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400 whitespace-nowrap",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>t(M),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Visualizar",children:l.jsx(Ql,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>n(M),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Editar",children:l.jsx(Ao,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>s(M.id),className:"p-2 text-error-500 hover:text-error-600 dark:text-error-400 dark:hover:text-error-300",title:"Excluir",children:l.jsx(Fa,{className:"w-5 h-5"})})]})})]},M.id)),c.length===0&&l.jsx(Mr,{children:l.jsx("td",{colSpan:5+F.length,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:e?"Nenhum registro encontrado para este formulário":"Selecione um formulário para ver as entradas"})})]})]}),l.jsx(x$,{currentPage:u,totalPages:f,totalItems:p,itemsPerPage:g,onPageChange:E,showInfo:!0,itemLabel:"registros"})]})})})};function rke(){var L;const[r,e]=b.useState(!1),[t,n]=b.useState(!1),[s,a]=b.useState(null),[i,o]=b.useState(!1),[c,d]=b.useState([]),[u,h]=b.useState(""),[f,p]=b.useState([]),[g,m]=b.useState(""),{error:v,refreshEntries:x}=Y3e(u);b.useEffect(()=>{y(),w()},[]),b.useEffect(()=>{u&&k(u)},[u]);async function y(){try{const{data:{user:D}}=await G.auth.getUser();if(!D)return;m(D.id);const{data:F}=await G.from("admins").select("id").eq("id",D.id).maybeSingle();o(!!F)}catch(D){console.error("Error checking user role:",D)}}async function w(){try{const{data:D,error:F}=await G.from("forms").select("id, title").order("title",{ascending:!0});if(F)throw F;d(D||[]),D&&D.length>0&&h(D[0].id)}catch(D){console.error("Error loading forms:",D)}}async function k(D){try{const{data:F,error:M}=await G.from("form_fields").select(`
          *,
          form_field_settings (
            no_duplicates,
            field_identifier,
            visibility,
            show_percentage
          )
        `).eq("form_id",D).order("position",{ascending:!0});if(M)throw M;p(F||[])}catch(F){console.error("Error loading form fields:",F)}}const S=D=>{a(D),e(!0)},N=D=>{a(D),n(!0)},A=async D=>{if(confirm("Are you sure you want to delete this entry? This action cannot be undone."))try{const{error:F}=await G.from("cart_checkout_resume").update({entry_id:null}).eq("entry_id",D);if(F)throw console.error("Error updating cart_checkout_resume:",F),F;const{error:M}=await G.from("form_entries").delete().eq("id",D);if(M)throw M;Tn("Entrada deletada com sucesso!","success"),x()}catch(F){console.error("Error deleting entry:",F),Tn("Erro ao deletar entrada","error")}},E=async()=>{console.log("🔄 [EditorialManager] Entry updated, refreshing entries and closing modal"),x(),n(!1),console.log("✅ [EditorialManager] Entry update process completed")},R=async()=>{Tn("CSV importado com sucesso!","success"),x()},O=((L=c.find(D=>D.id===u))==null?void 0:L.title)||"Formulário";return l.jsx(k4e,{children:l.jsxs(vh,{permission:"forms.entries.view",fallback:l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-error-500",children:"Acesso não autorizado"})}),children:[l.jsx(er,{title:"Gerenciador Editorial | Painel Admin",description:"Gerenciamento de entradas de formulários"}),l.jsx(Dr,{pageTitle:"Gerenciador Editorial"}),v&&l.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:v}),l.jsx("div",{className:"mb-6",children:l.jsx(j4e,{forms:c,selectedFormId:u,onSelectForm:h})}),l.jsx(tke,{fields:f,selectedFormId:u,onView:S,onEdit:N,onDelete:A,userId:g,onCsvImportSuccess:R,formTitle:O}),s&&l.jsx(x4e,{isOpen:r,onClose:()=>e(!1),entry:{...s,form_id:s.form_id},isAdmin:i}),s&&l.jsx(_4e,{isOpen:t,onClose:()=>n(!1),entry:{...s,form_id:s.form_id},onSave:E,isAdmin:i})]})})}const v$=b.createContext(void 0);function y$(){const r=b.useContext(v$);return r||{appliedCoupon:null,discountValue:0,setAppliedCoupon:()=>{},setDiscountValue:()=>{},clearCoupon:()=>{}}}function b$({children:r}){const[e,t]=b.useState(null),[n,s]=b.useState(0),a=b.useCallback(()=>{t(null),s(0)},[]),i=b.useMemo(()=>({appliedCoupon:e,discountValue:n,setAppliedCoupon:t,setDiscountValue:s,clearCoupon:a}),[e,n,a]);return l.jsx(v$.Provider,{value:i,children:r})}function nke(){const r=Sr();return{goToShop:()=>{r("/pages/sites-e-portais")},goToHome:()=>{r("/pages/sites-e-portais")}}}async function ske(){const{data:{user:r},error:e}=await G.auth.getUser();if(e||!r)return[];const{data:t,error:n}=await G.from("shopping_cart_items").select("*").eq("user_id",r.id);return n?[]:t}function w$(){const[r,e]=b.useState(null),[t,n]=b.useState(null),[s,a]=b.useState(null),[i,o]=b.useState(null),[c,d]=b.useState(null),u=t&&r?t.filter(v=>String(v.product_type)===String(r)):[];function h(v){if(!v)return null;const x=v.find(y=>y.is_active===!0);return a(x),console.log("activePublisherService:",x),x}async function f(){const v=await ske();if(!v.length){console.log("Carrinho vazio");return}const y=v[0].entry_id;console.log("entryId extraído do carrinho:",y);const k=(await sB()).find(R=>R.id===y);if(!k){e(null),console.log("Nenhum FormEntry encontrado com id:",y),console.log("Itens do carrinho:",v);return}console.log("FormEntry correspondente ao entryId:",k);const S=k.form_id;e(S),console.log("form_id extraído do FormEntry:",S);const N=await sS(),A=N&&S?N.filter(R=>String(R.product_type)===String(S)):[];n(A),console.log("Publisher services filtrados por product_type:",A);const E=h(A);if(E&&E.id?(o(E.id),console.log("ID do activePublisherService:",E.id)):(o(null),console.log("Nenhum activePublisherService definido.")),E&&E.id){const R=await Cp(),O=R?R.filter(L=>L.service_id===E.id):[];d(O),console.log("Service cards do serviço ativo:",O)}else d([]);console.log("cartProductTypeId (após set):",S),console.log("Itens do carrinho:",v)}async function p(){const v=await sS(),x=v&&r?v.filter(y=>String(y.product_type)===String(r)):[];return n(x),console.log("Publisher services filtrados por product_type:",x),h(x),x}function g(){return s&&s.id?(o(s.id),console.log("ID do activePublisherService:",s.id),s.id):(o(null),console.log("Nenhum activePublisherService definido."),m(),null)}async function m(){if(!s||!s.id)return console.log("Nenhum activePublisherService definido para buscar service cards."),d([]),[];const v=await Cp(),x=v?v.filter(y=>y.service_id===s.id):[];return d(x),console.log("Service cards do serviço ativo:",x),x}return{getActiveCards:f,cartProductTypeId:r,handleGetPublisherServices:p,publisherServices:t,serviceProductType:u,activePublisherService:s,getActivePublisherServiceId:g,activePublisherServiceId:i,fetchServiceCardsByActiveService:m,serviceCardsByActiveService:c}}const ake=()=>{const{getActiveCards:r,serviceCardsByActiveService:e}=w$();return b.useEffect(()=>{r()},[]),l.jsx("div",{children:l.jsxs("div",{className:"mt-4",children:[l.jsx("h2",{className:"font-bold text-lg mb-1",children:"Escolha o pacote de conteúdo"}),l.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Selecione qual pacote de conteúdo você deseja vincular ao seu produto."}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e&&e.length>0?e.map(t=>l.jsx("div",{className:"relative w-full",children:l.jsx("div",{className:"cursor-default",children:l.jsx(qU,{card:t,handleEdit:()=>{},handleDelete:()=>{},editButtons:!1,button:!0})})},t.id)):l.jsx("div",{className:"col-span-full text-center text-gray-500",children:"Nenhum card encontrado para o serviço ativo."})})]})})};async function k$(r){const{data:e,error:t}=await G.from("order_totals").select("*").eq("user_id",r).order("created_at",{ascending:!1});return t?null:e}function ike(){const[r,e]=b.useState({});async function t(i,o,c,d){c(h=>h.map(f=>f.id===i.id?{...f,quantity:o}:f));const u=d.item_total;await Bl(i.id,{quantity:o,item_total:u})}async function n(i,o,c){e(d=>({...d,[i.id]:!0}));try{const d=c.item_total;await Bl(i.id,{quantity:o,item_total:d})}catch(d){console.error("Erro ao atualizar quantidade",d)}finally{e(d=>({...d,[i.id]:!1}))}}async function s(i,o,c,d){c(u=>{var h;return{...u,[i.id]:((h=o[0])==null?void 0:h.niche)||""}});try{const u=d.item_total;await Bl(i.id,{niche_selected:o,item_total:u})}catch(u){console.error("Erro ao atualizar niche_selected",u)}}async function a(i,o,c,d){console.log("🔧 handleWordCountChange chamada:",{itemId:i.id,wordCount:o,currentServiceSelected:c}),e(u=>({...u,[i.id]:!0}));try{let u=c;!Array.isArray(u)||u.length===0?(console.warn("⚠️ currentServiceSelected não é um array válido, criando array padrão"),u=[{title:"Nenhum",price:0,price_per_word:0,word_count:o,is_free:!0,benefits:[]}]):u=c.map(p=>{if(typeof p=="string")try{p=JSON.parse(p)}catch{p={title:p}}return{title:p.title||"Nenhum",price:p.price||0,price_per_word:p.price_per_word||0,word_count:o,is_free:p.is_free!==void 0?p.is_free:!0,benefits:p.benefits||[]}}),console.log("📝 Atualizando service_selected:",{itemId:i.id,updatedServiceSelected:u});const h=d.item_total,f=await Bl(i.id,{service_selected:u,item_total:h});return console.log("✅ Resultado da atualização:",f),f}catch(u){throw console.error("❌ Erro ao atualizar word_count personalizado",u),u}finally{e(u=>({...u,[i.id]:!1}))}}return{loadingItem:r,handleQuantityChange:t,handleQuantityBlur:n,handleNicheChange:s,handleWordCountChange:a}}const Lt={NONE:"Nenhum - eu vou fornecer o conteúdo",LEGACY_NONE:"nenhum - eu vou enviar o conteudo",PLACEHOLDER:"Escolher...",NO_SELECTION:"__NO_SELECTION__"},In={PLACEHOLDER:"Confirme o tipo de conteúdo",DEFAULT:"Artigo Padrão"};function oke(r,e){const t=e[r.id];if(t&&t!==Lt.PLACEHOLDER)return!0;const n=r.service_selected;if(n==null||n==="")return!1;if(typeof n=="string"){if(n===Lt.NONE||n===Lt.LEGACY_NONE)return!1;try{const s=JSON.parse(n);return s&&typeof s=="object"&&"title"in s?s.title!==Lt.NONE&&s.title!==Lt.LEGACY_NONE:!0}catch{return!0}}if(Array.isArray(n)&&n.length>0){const s=n[0];if(typeof s=="string"){if(s===Lt.NONE||s===Lt.LEGACY_NONE)return!1;try{const a=JSON.parse(s);return a&&typeof a=="object"&&"title"in a?a.title!==Lt.NONE&&a.title!==Lt.LEGACY_NONE:!0}catch{return!0}}else if(typeof s=="object"&&s!==null&&"title"in s)return s.title!==Lt.NONE&&s.title!==Lt.LEGACY_NONE}return typeof n=="object"&&n!==null&&"title"in n?n.title!==Lt.NONE&&n.title!==Lt.LEGACY_NONE:!1}function lke(r,e,t){console.log("🔍 getSelectedServicePackage chamada:",{itemId:r.id,selectedService:e[r.id],serviceCardsLength:t.length,itemServiceSelected:r.service_selected});let n=e[r.id];if(!n){const a=r.service_selected;if(a)if(typeof a=="string")try{const i=JSON.parse(a);i&&i.title?n=i.title:n=a}catch{n=a}else if(Array.isArray(a)&&a.length>0){const i=a[0];if(typeof i=="string")try{const o=JSON.parse(i);o&&o.title?n=o.title:n=i}catch{n=i}else typeof i=="object"&&i!==null&&i.title&&(n=i.title)}else typeof a=="object"&&a!==null&&a.title&&(n=a.title)}if(!n||n==="Nenhum")return null;const s=t.find(a=>a.title===n);if(s){console.log("Service card encontrado com benefits:",s);let a=null;if(r.service_selected&&Array.isArray(r.service_selected)&&r.service_selected.length>0){const o=r.service_selected[0];typeof o=="object"&&o.word_count!==void 0&&(a=o.word_count,console.log("🎯 Valor personalizado encontrado:",a))}const i={title:s.title,price:s.price,price_per_word:s.price_per_word,word_count:a!==null?a:s.word_count,is_free:s.is_free,benefits:s.benefits};return console.log("📤 Retornando service package:",{itemId:r.id,customWordCount:a,defaultWordCount:s.word_count,finalWordCount:i.word_count}),i}return null}function Za(r,e,t){const n={};if(Object.keys(e).forEach(a=>{e[a]!==null&&(n[a]=e[a])}),!oke(r,n))return[];const s=lke(r,e,t);return s?[s]:[]}function cke(r,e){console.log(`🔍 getSelectedServiceTitle DEBUG [${r.id}]:`,{localSelection:e[r.id],itemServiceSelected:r.service_selected,typeof_serviceSelected:typeof r.service_selected});const t=e[r.id];if(t!=null)return console.log(`✅ Returning local selection (user choice): ${t}`),t;let n=r.service_selected;if(n==null||n==="")return console.log("❌ Preset is null/undefined/empty, returning NO_SELECTION"),Lt.NO_SELECTION;if(typeof n=="string"&&n!=="[object Object]")return console.log(`✅ Preset string from database (valid selection): ${n}`),n;if(Array.isArray(n)&&n.length>0){const s=n[0];if(typeof s=="string")return console.log(`✅ Array first element from database (valid selection): ${s}`),s;if(typeof s=="object"&&s!==null&&"title"in s)return console.log(`✅ Returning array object title from database: ${s.title}`),s.title}return typeof n=="object"&&n!==null&&"title"in n?(console.log(`✅ Returning object title from database: ${n.title}`),n.title):(console.log("❌ No valid title found, returning NO_SELECTION"),Lt.NO_SELECTION)}function dke(r){if(r==null)return 0;if(typeof r=="number")return r;if(typeof r=="string"){const e=r.replace(/R\$\s*/gi,"").replace(/[^\d,.-]/g,"").trim();if(!e)return 0;if(e.includes(",")&&e.lastIndexOf(".")<e.lastIndexOf(",")){const n=e.replace(/\./g,"").replace(",","."),s=parseFloat(n);return isNaN(s)?0:s}else{const n=parseFloat(e);return isNaN(n)?0:n}}return 0}function C$(r,e){let t=e[r.id];if(!t){const n=r.niche_selected;if(Array.isArray(n)&&n.length>0)try{if(typeof n[0]=="string"){const s=JSON.parse(n[0]);s&&s.niche&&(t=s.niche)}else typeof n[0]=="object"&&n[0]!==null&&n[0].niche&&(t=n[0].niche)}catch{t=n[0]}else if(typeof n=="object"&&n!==null&&n.niche)t=n.niche;else if(typeof n=="string")try{const s=JSON.parse(n);s&&s.niche?t=s.niche:t=n}catch{t=n}}return t||""}function uke(r,e){let t=[];try{t=r.niche?JSON.parse(r.niche):[]}catch{t=[]}const n=C$(r,e);if(!n||n==="Nenhum"||n===In.PLACEHOLDER)return 0;const s=t.find(a=>a.niche===n);if(s&&s.price){const a=dke(s.price);return console.log("🔍 [getNichePrice] Processando preço do nicho:",{originalPrice:s.price,originalType:typeof s.price,normalizedPrice:a,niche:n}),a}return 0}class NS{static initializeNichesFromCartData(e){const t={};return e.forEach(n=>{const s=this.extractNicheValue(n.niche_selected);this.isValidNicheSelection(s)?t[n.id]=s:t[n.id]=In.PLACEHOLDER}),t}static extractNicheValue(e){if(!e)return In.PLACEHOLDER;if(Array.isArray(e)&&e.length>0){const t=e[0];if(typeof t=="object"&&t.niche)return t.niche;if(typeof t=="string")return t}if(typeof e=="object"&&e.niche)return e.niche;if(typeof e=="string")try{const t=JSON.parse(e);return t&&typeof t=="object"&&t.niche?t.niche:e.trim()}catch{return e.trim()}return In.PLACEHOLDER}static isValidNicheSelection(e){return!!e&&e.trim()!==""&&e!==In.PLACEHOLDER&&e!=="null"&&e!=="undefined"}static needsNicheInitialization(e){const t=this.extractNicheValue(e.niche_selected);return!this.isValidNicheSelection(t)&&t!==In.PLACEHOLDER}static createPlaceholderNicheData(){return[{niche:In.PLACEHOLDER,price:"0"}]}}function hke(){const[r,e]=b.useState({}),t=b.useCallback(s=>{const a=NS.initializeNichesFromCartData(s);e(a)},[]),n=b.useCallback((s,a)=>{e(i=>({...i,[s]:a||In.PLACEHOLDER}))},[]);return{selectedNiches:r,initializeNiches:t,updateNiche:n,setSelectedNiches:e}}class fke{static async initializeMissingNiches(e){const t=e.filter(n=>NS.needsNicheInitialization(n)).map(n=>this.saveNicheToDatabase(n.id,NS.createPlaceholderNicheData()));t.length>0&&await Promise.all(t)}static async saveNicheToDatabase(e,t){try{await Bl(e,{niche_selected:t})}catch(n){throw console.error(`Erro ao salvar nicho para item ${e}:`,n),n}}static async getCartItemsWithNiches(e){try{const{data:t,error:n}=await G.from("cart_checkout_resume").select("id, niche_selected").eq("user_id",e);return n?(console.error("Erro ao buscar itens do carrinho:",n),[]):t||[]}catch(t){return console.error("Erro na consulta do carrinho:",t),[]}}}const gu=class gu{constructor(){hr(this,"cache",new Map);hr(this,"CACHE_DURATION",3e4)}static getInstance(){return gu.instance||(gu.instance=new gu),gu.instance}async getData(e,t=!1){const n=`resume_data_${e}`,s=this.cache.get(n),a=Date.now();if(!t&&s&&a-s.timestamp<this.CACHE_DURATION)return console.log("✅ [ResumeTableCacheService] Retornando dados do cache"),s.data;console.log("🔍 [ResumeTableCacheService] Buscando dados do banco de dados...");try{const o=await dd(e)||[];return this.cache.set(n,{data:o,timestamp:a,userId:e}),console.log("✅ [ResumeTableCacheService] Dados carregados do banco e cache atualizado"),o}catch(i){return console.error("❌ [ResumeTableCacheService] Erro ao buscar dados:",i),s?(console.log("⚠️ [ResumeTableCacheService] Retornando cache expirado devido ao erro"),s.data):[]}}invalidateCache(e){const t=`resume_data_${e}`;this.cache.delete(t),console.log("🗑️ [ResumeTableCacheService] Cache invalidado para usuário:",e)}invalidateAllCache(){this.cache.clear(),console.log("🗑️ [ResumeTableCacheService] Todo o cache foi invalidado")}getCacheInfo(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}};hr(gu,"instance");let ES=gu;function pke(){const[r,e]=b.useState(0),[t,n]=b.useState(!1),s=b.useCallback(()=>{console.log("🔄 [useIsolatedTableReload] Recarregando apenas a tabela..."),n(!0),e(i=>i+1),setTimeout(()=>{n(!1)},100)},[]),a=b.useCallback(()=>{console.log("🔄 [useIsolatedTableReload] Resetando estado da tabela..."),e(0),n(!1)},[]);return{tableReloadKey:r,isTableReloading:t,reloadTableOnly:s,resetTableState:a}}function gke(){const[r,e]=b.useState([]),[t,n]=b.useState(!0),[s,a]=b.useState(null),[i,o]=b.useState({}),{selectedNiches:c,initializeNiches:d,setSelectedNiches:u}=hke(),{tableReloadKey:h,reloadTableOnly:f}=pke(),p=ES.getInstance(),[g,m]=b.useState({}),[v,x]=b.useState({}),{serviceCardsByActiveService:y,getActiveCards:w}=w$(),{loadingItem:k,handleQuantityChange:S,handleQuantityBlur:N,handleNicheChange:A,handleWordCountChange:E}=ike();b.useEffect(()=>{w();async function L(){n(!0),a(null);try{const{data:{user:F}}=await G.auth.getUser();if(!F){e([]),n(!1);return}const M=await p.getData(F.id);console.log("📥 Dados carregados (cache ou banco):",M);const B=(M||[]).map(z=>{if(console.log(`🔍 SANITIZING ITEM [${z.id}]:`,{originalServiceSelected:z.service_selected,type:typeof z.service_selected,isArray:Array.isArray(z.service_selected)}),z.service_selected===null||z.service_selected===void 0)return console.log(`✅ Item [${z.id}] has null/undefined service_selected, keeping as null`),z.service_selected=null,z;if(typeof z.service_selected=="string"){try{const V=JSON.parse(z.service_selected);z.service_selected=Array.isArray(V)?V:[V],console.log(`✅ Item [${z.id}] parsed string to array:`,z.service_selected)}catch{console.warn(`⚠️ Item [${z.id}] has malformed service_selected string, setting to null:`,z.service_selected),z.service_selected=null}return z}return typeof z.service_selected=="object"&&!Array.isArray(z.service_selected)?(console.log(`✅ Item [${z.id}] converting object to array:`,z.service_selected),z.service_selected=[z.service_selected],z):Array.isArray(z.service_selected)?(console.log(`✅ Item [${z.id}] already array, keeping:`,z.service_selected),z):(console.warn(`⚠️ Item [${z.id}] unexpected service_selected type, setting to null:`,z.service_selected),z.service_selected=null,z)});console.log("🧹 Dados sanitizados:",B),e(B);try{const z=await k$(F.id);if(z&&z.length>0){const V=z[0];console.log("💾 useResumeTableLogic: Preset encontrado:",V)}}catch(z){console.warn("⚠️ useResumeTableLogic: Erro ao buscar order_totals para preset:",z)}}catch{a("Erro ao buscar dados do resumo."),e([])}finally{n(!1)}}L();const D=()=>{L()};return window.addEventListener("resume-table-reload",D),()=>window.removeEventListener("resume-table-reload",D)},[h]),b.useEffect(()=>{console.log("🔄 Recarregando estados com resumeData:",r),o(()=>{const L={};return r.forEach(D=>{L[D.id]=D.quantity||1}),L}),d(r),m(()=>{const L={};return r.forEach(D=>{console.log("🔍 [DEBUG] Item do banco:",{id:D.id,product_url:D.product_url,service_selected:D.service_selected,service_selected_type:typeof D.service_selected,service_selected_value:JSON.stringify(D.service_selected)});let F=D.service_selected||"";if(!F||F===""||F===null||F===void 0||Array.isArray(F)&&F.length===0){console.log("🚫 [DEBUG] Item sem service_selected válido, não inicializando:",D.id);return}if(Array.isArray(F)&&F.length>0)try{const M=F[0];if(typeof M=="string"){const B=JSON.parse(M);B&&B.title?B.title===Lt.LEGACY_NONE||B.title===Lt.NONE?L[D.id]=Lt.NONE:L[D.id]=B.title:L[D.id]=M}else typeof M=="object"&&M!==null&&M.title&&(M.title===Lt.LEGACY_NONE||M.title===Lt.NONE?L[D.id]=Lt.NONE:L[D.id]=M.title)}catch{}else if(typeof F=="object"&&F!==null&&F.title)F.title===Lt.LEGACY_NONE||F.title===Lt.NONE?L[D.id]=Lt.NONE:L[D.id]=F.title;else if(typeof F=="string"&&F.trim()!=="")try{const M=JSON.parse(F);M&&M.title?M.title===Lt.LEGACY_NONE||M.title===Lt.NONE?L[D.id]=Lt.NONE:L[D.id]=M.title:F===Lt.NONE||F===Lt.LEGACY_NONE?L[D.id]=Lt.NONE:L[D.id]=F}catch{F===Lt.NONE||F===Lt.LEGACY_NONE?L[D.id]=Lt.NONE:L[D.id]=F}}),L}),x(()=>{const L={};return r.forEach(D=>{var B,z;console.log("🔄 Carregando wordCounts para item:",{itemId:D.id,serviceSelected:D.service_selected,serviceSelectedType:typeof D.service_selected,isArray:Array.isArray(D.service_selected)});let F=D.service_selected||"",M=!1;if(Array.isArray(F)&&F.length>0&&(((B=F[0])==null?void 0:B.word_count)!==void 0||typeof F[0]=="string"))if(typeof F[0]=="string")try{const V=JSON.parse(F[0]);V&&V.word_count!==void 0&&(L[D.id]=Number(V.word_count),console.log("✅ WordCount carregado de string JSON:",Number(V.word_count)),M=!0)}catch{}else typeof F[0]=="object"&&((z=F[0])==null?void 0:z.word_count)!==void 0&&(L[D.id]=Number(F[0].word_count),console.log("✅ WordCount carregado de objeto:",Number(F[0].word_count)),M=!0);else if(typeof F=="object"&&F!==null&&F.word_count!==void 0)L[D.id]=Number(F.word_count),console.log("✅ WordCount carregado de objeto direto:",Number(F.word_count)),M=!0;else if(typeof F=="string")try{const V=JSON.parse(F);V&&V.word_count!==void 0&&(L[D.id]=Number(V.word_count),console.log("✅ WordCount carregado de string direto:",Number(V.word_count)),M=!0)}catch{}M||(L[D.id]="",console.log("❌ WordCount não encontrado, usando valor vazio"))}),console.log("📊 WordCounts carregados:",L),L})},[r]);function R(){n(!0),a(null),G.auth.getUser().then(async({data:{user:L}})=>{if(!L){e([]),n(!1);return}try{const D=await p.getData(L.id,!0);console.log("📥 Dados recarregados forçosamente:",D),e(D||[])}catch(D){a("Erro ao buscar dados do resumo."),e([]),console.error("❌ Erro ao recarregar dados:",D)}finally{n(!1)}})}function O(){console.log("🔄 [useResumeTableLogic] Recarregando apenas dados da tabela..."),f(),G.auth.getUser().then(({data:{user:L}})=>{L&&p.invalidateCache(L.id)})}return b.useEffect(()=>{r.length>0&&(fke.initializeMissingNiches(r).catch(L=>{console.warn("Erro ao inicializar nichos no banco:",L)}),r.forEach(async L=>{}))},[r]),{resumeData:r,loading:t,error:s,quantities:i,setQuantities:o,selectedNiches:c,setSelectedNiches:u,selectedService:g,setSelectedService:m,wordCounts:v,setWordCounts:x,loadingItem:k,handleQuantityChange:S,handleQuantityBlur:N,handleNicheChange:A,handleWordCountChange:E,serviceCardsByActiveService:y,getSelectedNicheName:C$,getSelectedServiceTitle:cke,getNichePrice:uke,fetchResumeData:R,reloadTableData:O}}const mke=({value:r,onChange:e,disabled:t})=>l.jsx("input",{type:"number",min:0,value:r,onChange:n=>{const s=Math.max(0,Number(n.target.value));e(s)},className:"w-24 text-center rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-200 text-xs focus:outline-none focus:ring-2 focus:ring-brand-300 py-0 h-7 px-2",style:{MozAppearance:"textfield"},disabled:t}),xke=({rowCount:r=3})=>{const e=Array.from({length:r});return l.jsxs("div",{className:"overflow-hidden bg-white dark:bg-white/[0.03] p-6 rounded-xl border border-gray-200 dark:border-gray-800",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Resumo do Pedido"}),l.jsx("div",{className:"max-w-full overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-800 animate-pulse",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-3.5 text-left text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Produto (URL)"}),l.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Qtd"}),l.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Nicho"}),l.jsx("th",{className:"px-3 py- text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Pacote de Conteúdo"}),l.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Palavras"}),l.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Total"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-800 dark:bg-gray-900",children:e.map((t,n)=>l.jsx("tr",{children:Array.from({length:6}).map((s,a)=>l.jsx("td",{className:"px-3 py-4",children:l.jsx("div",{className:"rounded bg-gray-200 dark:bg-gray-700 w-full",style:{height:38.98,minHeight:16}})},a))},n))})]})})]})};function a3({item:r,quantities:e,selectedNiches:t,selectedService:n,wordCounts:s,serviceCardsByActiveService:a,getServicePackageArray:i,getNichePrice:o}){const c=r.price*(e[r.id]??r.quantity??1);console.log(" item.",r);const d=o(r,t),u=i(r,n,a??[]),h=u.length>0&&u[0].is_free,f=s[r.id]??"",p=u.length>0&&u[0].word_count,g=h?Number(f)>Number(p)?Number(f)-Number(p):0:Number(f),m=u.length>0&&u[0].price_per_word,v=e[r.id]??r.quantity??1,x=m*g*v;return d>0?d*v+x:c+x}function vke({item:r,wordCounts:e,selectedService:t,serviceCardsByActiveService:n,getServicePackageArray:s}){const a=s(r,t,n??[]);if(!a||a.length===0)return 0;const i=a[0].is_free,o=a[0].word_count,c=a[0].price_per_word,d=e[r.id]??"";if(!d||Number(d)<=0)return 0;if(i&&Number(d)>Number(o)){const u=Number(d)-Number(o);return c*u}return i?0:c*Number(d)}const B1=new Map;async function yke(r,e,t,n,s=0,a){if(console.log("🧮 [CALCULATE TOTAL] === FUNÇÃO CHAMADA ===",{discountValue:s,couponId:a,totalFinalArray:r,totalProductArray:e,totalContentArray:t,totalWordCountArray:n,hasDiscount:s>0,hasCouponId:!!a,timestamp:new Date().toISOString(),location:window.location.pathname}),!r||!Array.isArray(r)||r.length===0)return console.log("⚠️ [CALCULATE TOTAL] Array vazio, retornando 0"),0;const i=r.reduce((f,p)=>f+Number(p),0),o=e?e.reduce((f,p)=>f+Number(p),0):i,c=t?t.reduce((f,p)=>f+Number(p),0):0,d=n?n.reduce((f,p)=>f+Number(p||0),0):0,{data:{user:u}}=await G.auth.getUser();if(!u)throw new Error("Usuário não autenticado");if(B1.has(u.id))return await B1.get(u.id);const h=bke(u.id,o,c,i,d,s,a);B1.set(u.id,h);try{return await h}finally{B1.delete(u.id)}}async function bke(r,e,t,n,s,a=0,i){var o;try{console.log("📊 [CALCULATE TOTAL] === SALVANDO TOTAIS ===",{userId:r,somaProduct:e,somaContent:t,somaFinal:n,somaWordCount:s,discountValue:a,couponId:i,timestamp:new Date().toISOString(),location:window.location.pathname,hasDiscount:a>0,hasCouponId:!!i});const c=Math.max(n-a,0);console.log("🧮 [CALCULATE TOTAL] === APLICAÇÃO DA FÓRMULA ===",{formula:"(produto + conteúdo) - desconto = valor final",somaProduct:e,somaContent:t,somaTotal:e+t,somaFinal:n,discountValue:a,finalPriceWithDiscount:c,formulaCheck:{manualCalculation:e+t-a,automaticCalculation:c,matches:Math.abs(e+t-a-c)<.01},timestamp:new Date().toISOString(),location:window.location.pathname});const{data:d}=await G.from("order_totals").select("id").eq("user_id",r).order("created_at",{ascending:!1}).limit(1).maybeSingle(),u={user_id:r,total_product_price:e,total_content_price:t,total_final_price:c,total_word_count:s,applied_coupon_id:i||null,discount_value:a,updated_at:new Date().toISOString()};console.log("💾 [SAVE ORDER TOTALS] === DADOS PARA SALVAR ===",{finalPriceWithDiscount:c,originalTotal:n,discountValue:a,couponId:i,recordData:u,timestamp:new Date().toISOString(),location:window.location.pathname,hasDiscount:a>0,hasCouponId:!!i,calculoCorreto:c===n-a});let h;if(d?(console.log("🔄 [ORDER TOTALS WITH DISCOUNT] Atualizando registro existente:",d.id),h=await G.from("order_totals").update(u).eq("id",d.id).select().single()):(console.log("➕ [ORDER TOTALS WITH DISCOUNT] Criando novo registro"),h=await G.from("order_totals").insert(u).select().single()),h.error)throw console.error("❌ [ORDER TOTALS WITH DISCOUNT] Erro ao salvar:",h.error),new Error(`Erro ao salvar totais: ${h.error.message}`);return console.log("✅ [ORDER TOTALS WITH DISCOUNT] === TOTAIS SALVOS COM SUCESSO ===",{originalTotal:n,discountValue:a,finalPriceWithDiscount:c,couponId:i,timestamp:new Date().toISOString(),location:window.location.pathname,savedSuccessfully:!0,recordId:((o=h.data)==null?void 0:o.id)||"unknown"}),typeof window<"u"&&window.dispatchEvent(new Event("order-totals-updated")),c}catch(c){throw console.error("❌ [CALCULATE TOTAL] Erro:",c),c}}async function wke(r){const e=Object.entries(r).map(async([t,n])=>{try{await Bl(t,{item_total:n})}catch(s){console.error(`Erro ao atualizar item_total para id ${t}:`,s)}});await Promise.all(e)}function kke(r,e){return!(!r||r.trim().toLowerCase().startsWith("nenhum")||r===Lt.NONE||r===Lt.LEGACY_NONE||r===Lt.PLACEHOLDER||!e||e.length===0)}function Cke(r,e){const[t,n]=b.useState(r);return b.useEffect(()=>{const s=setTimeout(()=>{n(r)},e);return()=>{clearTimeout(s)}},[r,e]),t}function Ske(r){const[e,t]=b.useState(0),[n,s]=b.useState(0),[a,i]=b.useState({}),o=gke(),{discountValue:c,appliedCoupon:d}=y$(),{resumeData:u,loading:h,error:f,quantities:p,setQuantities:g,selectedNiches:m,setSelectedNiches:v,selectedService:x,setSelectedService:y,wordCounts:w,setWordCounts:k,loadingItem:S,handleQuantityChange:N,handleQuantityBlur:A,handleNicheChange:E,handleWordCountChange:R,serviceCardsByActiveService:O,getSelectedNicheName:L,getSelectedServiceTitle:D,getNichePrice:F,reloadTableData:M}=o;b.useEffect(()=>{const T=()=>{t($=>$+1),typeof r.onReload=="function"&&r.onReload()},H=()=>{M()};return window.addEventListener("resume-table-reload",T),window.addEventListener("resume-table-data-only-reload",H),()=>{window.removeEventListener("resume-table-reload",T),window.removeEventListener("resume-table-data-only-reload",H)}},[r,M]),b.useEffect(()=>{e>0&&o.fetchResumeData()},[e]),b.useEffect(()=>()=>{Object.values(a).forEach(T=>{clearTimeout(T)})},[a]);const B=Cke(n,500);b.useEffect(()=>{s(T=>T+1)},[u,p,m,x,w,O,c,d==null?void 0:d.id]),b.useEffect(()=>{if(B>0&&u.length>0){const T=u.map(K=>{const re=p[K.id]??K.quantity??1,oe=F(K,m);return oe>0?oe*re:Number(K.price)*re}),H=u.map(K=>vke({item:K,wordCounts:w,selectedService:x,serviceCardsByActiveService:O,getServicePackageArray:Za})),$=u.map(K=>{const re=w[K.id];return typeof re=="number"?re:0}),Y=u.map(K=>a3({item:K,quantities:p,selectedNiches:m,selectedService:x,wordCounts:w,serviceCardsByActiveService:O,getServicePackageArray:Za,getNichePrice:F}));c>0&&console.log("🧮 [RESUME TABLE] Aplicando desconto:",{discountValue:c,appliedCoupon:(d==null?void 0:d.code)||null,somaFinal:Y.reduce((K,re)=>K+re,0),timestamp:new Date().toISOString()}),yke(Y,T,H,$,c,(d==null?void 0:d.id)||null).catch(K=>{console.error("❌ [RESUME TABLE] Erro ao calcular totais:",K)})}},[B,c,d==null?void 0:d.id]);const{removeItem:z}=gh(),V=async(T,H)=>{if(window.confirm("Tem certeza que deseja remover este item?"))try{typeof window<"u"&&(document.body.style.cursor="wait");const{deleteCartCheckoutResume:$}=await Oa(async()=>{const{deleteCartCheckoutResume:K}=await Promise.resolve().then(()=>v9);return{deleteCartCheckoutResume:K}},void 0);await $(T)?(H&&await z(H),window.dispatchEvent(new Event("resume-table-reload"))):alert("Erro ao remover item do resumo.")}finally{typeof window<"u"&&(document.body.style.cursor="default")}};function W(T){return a3({item:T,quantities:p,selectedNiches:m,selectedService:x,wordCounts:w,serviceCardsByActiveService:O,getServicePackageArray:Za,getNichePrice:F})}const[Z,q]=b.useState({});if(b.useEffect(()=>{const T={};u.forEach(H=>{T[H.id]=a3({item:H,quantities:p,selectedNiches:m,selectedService:x,wordCounts:w,serviceCardsByActiveService:O,getServicePackageArray:Za,getNichePrice:F})}),q(T)},[u,p,m,x,w,O,Za,F]),b.useEffect(()=>{Object.keys(Z).length>0&&wke(Z)},[Z]),h){const T=u&&u.length>0?u.length:3;return l.jsx(xke,{rowCount:T})}if(f)return l.jsx("div",{className:"p-6 text-red-500",children:f});function Q(T){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(T)}return l.jsxs("div",{className:"overflow-hidden bg-white dark:bg-white/[0.03] p-6 rounded-xl border border-gray-200 dark:border-gray-800",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Revisão de pedido"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",style:{marginBottom:"20px"},children:"Por favor, confirme o tipo de nicho e conteúdo de cada produto. Alguns sites cobram valores maiores para conteúdos sensíveis ou de nicho, como cassino, conteúdo adulto ou criptomoedas. A seleção correta evita erros no valor final e atrasos na publicação."}),l.jsx("div",{className:"max-w-full overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-800",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-3.5 text-left text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Produto (URL)"}),l.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",style:{display:"none"},children:"Qtd"}),l.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Nicho"}),l.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:l.jsx(qE,{content:"Selecione um opção, caso deseje comprar os conteúdos.",children:"Pacote de Conteúdo"})}),l.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Palavras"}),l.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Total"}),l.jsx("th",{className:"px-3 py-3.5 text-center text-sm text-gray-700 dark:text-gray-200 font-normal",children:"Ações"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-800 dark:bg-gray-900",children:u.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"text-center py-6 text-gray-400",children:"Nenhum item no resumo do pedido."})}):u.map(T=>{let H=[];try{H=T.niche?JSON.parse(T.niche):[]}catch{H=[]}if(Number(T.price),H.length>0&&m[T.id]){const Y=H.find(K=>K.niche===m[T.id]);Y&&Y.price&&Number(String(Y.price).replace(/[^0-9,.-]+/g,"").replace(",","."))}const $=Z[T.id]??0;return l.jsxs("tr",{children:[l.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-700 dark:text-gray-300 text-left",children:l.jsxs("div",{className:"flex items-center gap-2",children:[T.product_url&&l.jsx("img",{src:`https://www.google.com/s2/favicons?domain=${T.product_url}&sz=32`,alt:"Site icon",width:20,height:20,className:"flex-shrink-0"}),l.jsx("span",{className:"font-semibold text-gray-800 text-theme-sm dark:text-white/90 whitespace-nowrap",children:T.product_url?T.product_url.replace(/^(https?:\/\/)?(www\.)?/,""):"-"})]})}),l.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-700 dark:text-gray-300 text-center",style:{display:"none"},children:l.jsx("div",{className:"relative flex items-center justify-center",children:l.jsx("input",{type:"number",min:1,value:p[T.id]??T.quantity??1,onChange:async Y=>{const K=Math.max(1,Number(Y.target.value));g(re=>({...re,[T.id]:K})),await N(T,K,re=>re,{item:T,quantities:{...p,[T.id]:K},selectedNiches:m,selectedService:x,wordCounts:w,serviceCardsByActiveService:O,getServicePackageArray:Za,getNichePrice:F,getTotalForRow:W,item_total:Z[T.id]??0})},onBlur:()=>A(T,p[T.id]??T.quantity??1,{item:T,quantities:p,selectedNiches:m,selectedService:x,wordCounts:w,serviceCardsByActiveService:O,getServicePackageArray:Za,getNichePrice:F,getTotalForRow:W,item_total:Z[T.id]??0}),className:"w-16 text-center rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-200 text-xs focus:outline-none focus:ring-2 focus:ring-brand-300 py-0 h-7 px-2",style:{MozAppearance:"textfield"},disabled:!!S[T.id]})})}),l.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-700 dark:text-gray-300 text-center",children:l.jsxs("div",{className:"relative",children:[l.jsxs("select",{className:`h-11 w-full appearance-none rounded-lg border bg-transparent px-4 py-2.5 pr-11 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 ${L(T,m)===In.PLACEHOLDER?"border-red-300 focus:border-red-300 focus:ring-red-500/10 dark:border-red-700 dark:focus:border-red-800 text-gray-800 dark:text-white/90":L(T,m)?"border-gray-300 focus:border-brand-300 focus:ring-brand-500/10 dark:border-gray-700 dark:focus:border-brand-800 text-gray-800 dark:text-white/90":"border-gray-300 focus:border-brand-300 focus:ring-brand-500/10 dark:border-gray-700 dark:focus:border-brand-800 text-gray-400 dark:text-gray-400"} pl-4`,value:L(T,m)||In.PLACEHOLDER,onChange:async Y=>{const K=Y.target.value;if(!K||K===In.PLACEHOLDER){v(ue=>({...ue,[T.id]:In.PLACEHOLDER})),await E(T,[{niche:In.PLACEHOLDER,price:"0"}],v,{item:T,quantities:p,selectedNiches:{...m,[T.id]:In.PLACEHOLDER},selectedService:x,wordCounts:w,serviceCardsByActiveService:O,getServicePackageArray:Za,getNichePrice:F}),window.dispatchEvent(new Event("niche-selection-changed"));return}if(K===In.DEFAULT){v(ue=>({...ue,[T.id]:"Nenhum"})),await E(T,[{niche:"Nenhum",price:"0"}],v,{item:T,quantities:p,selectedNiches:{...m,[T.id]:"Nenhum"},selectedService:x,wordCounts:w,serviceCardsByActiveService:O,getServicePackageArray:Za,getNichePrice:F}),window.dispatchEvent(new Event("niche-selection-changed"));return}v(ue=>({...ue,[T.id]:K}));const re=H.find(ue=>ue.niche===K),oe=re&&re.price?String(re.price):"";await E(T,[{niche:K,price:oe}],v,{item:T,quantities:p,selectedNiches:{...m,[T.id]:K},selectedService:x,wordCounts:w,serviceCardsByActiveService:O,getServicePackageArray:Za,getNichePrice:F}),window.dispatchEvent(new Event("niche-selection-changed"))},children:[l.jsx("option",{value:In.PLACEHOLDER,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",disabled:!0,children:In.PLACEHOLDER}),l.jsx("option",{value:In.DEFAULT,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:In.DEFAULT}),H.map((Y,K)=>l.jsxs("option",{value:Y.niche,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:[Y.niche," ",Y.price&&`(${Y.price})`]},K))]}),L(T,m)===In.PLACEHOLDER?l.jsx("span",{className:"absolute top-1/2 right-3.5 -translate-y-1/2",children:l.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.58325 7.99967C2.58325 5.00813 5.00838 2.58301 7.99992 2.58301C10.9915 2.58301 13.4166 5.00813 13.4166 7.99967C13.4166 10.9912 10.9915 13.4163 7.99992 13.4163C5.00838 13.4163 2.58325 10.9912 2.58325 7.99967ZM7.99992 1.08301C4.17995 1.08301 1.08325 4.17971 1.08325 7.99967C1.08325 11.8196 4.17995 14.9163 7.99992 14.9163C11.8199 14.9163 14.9166 11.8196 14.9166 7.99967C14.9166 4.17971 11.8199 1.08301 7.99992 1.08301ZM7.09932 5.01639C7.09932 5.51345 7.50227 5.91639 7.99932 5.91639H7.99999C8.49705 5.91639 8.89999 5.51345 8.89999 5.01639C8.89999 4.51933 8.49705 4.11639 7.99999 4.11639H7.99932C7.50227 4.11639 7.09932 4.51933 7.09932 5.01639ZM7.99998 11.8306C7.58576 11.8306 7.24998 11.4948 7.24998 11.0806V7.29627C7.24998 6.88206 7.58576 6.54627 7.99998 6.54627C8.41419 6.54627 8.74998 6.88206 8.74998 7.29627V11.0806C8.74998 11.4948 8.41419 11.8306 7.99998 11.8306Z",fill:"#F04438"})})}):l.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:l.jsx("svg",{className:"stroke-gray-500 dark:stroke-gray-400",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}),l.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-700 dark:text-gray-300 text-center",children:l.jsxs("div",{className:"relative",children:[l.jsxs("select",{className:`h-11 w-full appearance-none rounded-lg border bg-transparent px-4 py-2.5 pr-11 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:bg-gray-900 dark:placeholder:text-white/30 dark:focus:border-brand-800 ${(()=>{const Y=D(T,x);return Y&&Y!==Lt.PLACEHOLDER&&Y!==Lt.NO_SELECTION?"text-gray-800 dark:text-white/90 border-gray-300 dark:border-gray-700":"text-gray-400 dark:text-gray-400 border-red-300 dark:border-red-600"})()} pl-4`,value:(()=>{const Y=D(T,x);return Y===Lt.NO_SELECTION?Lt.PLACEHOLDER:Y})(),onChange:async Y=>{const K=Y.target.value;if(K===Lt.PLACEHOLDER)return;y(oe=>({...oe,[T.id]:K}));const re=O==null?void 0:O.find(oe=>oe.title===K);if(k(oe=>({...oe,[T.id]:(re==null?void 0:re.word_count)??""})),T.id){const{updateCartCheckoutResume:oe}=await Oa(async()=>{const{updateCartCheckoutResume:be}=await Promise.resolve().then(()=>v9);return{updateCartCheckoutResume:be}},void 0);let ue;if(!K||K===Lt.PLACEHOLDER||K==="")return;K===Lt.NONE?ue=[{title:Lt.NONE,price_per_word:0,word_count:0,is_free:!0,price:0,benefits:[]}]:ue=Za(T,{...x,[T.id]:K},O??[]).map(Ce=>({...Ce,price:(re==null?void 0:re.price)??0,word_count:(re==null?void 0:re.word_count)??0})),await oe(T.id,{service_selected:ue}),window.dispatchEvent(new CustomEvent("service-selection-changed"))}},children:[l.jsx("option",{value:Lt.PLACEHOLDER,className:"text-gray-400 dark:bg-gray-900 dark:text-gray-500",disabled:!0,children:Lt.PLACEHOLDER}),l.jsx("option",{value:Lt.NONE,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:Lt.NONE}),O&&O.length>0&&O.map((Y,K)=>l.jsx("option",{value:Y.title,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:Y.title},Y.id||K))]}),l.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:l.jsx("svg",{className:"stroke-gray-500 dark:stroke-gray-400",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}),l.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-700 dark:text-gray-300 text-center",children:(()=>{const Y=x[T.id]??D(T,x),K=Za(T,x,O??[]);if(!kke(Y,K))return null;const re=w[T.id]??"";return l.jsx(mke,{value:re,onChange:async oe=>{k(be=>({...be,[T.id]:oe})),a[T.id]&&clearTimeout(a[T.id]);const ue=setTimeout(async()=>{const be=x[T.id]??D(T,x),Ce=O==null?void 0:O.find(De=>De.title===be),Se=Ce?[{title:Ce.title,price:Ce.price,price_per_word:Ce.price_per_word,word_count:oe,is_free:Ce.is_free,benefits:Ce.benefits}]:[{title:be||"Nenhum",price:0,price_per_word:0,word_count:oe,is_free:!0,benefits:[]}];await R(T,oe,Se,{item:T,quantities:p,selectedNiches:m,selectedService:x,wordCounts:{...w,[T.id]:oe},serviceCardsByActiveService:O,getServicePackageArray:Za,getNichePrice:F})},500);i(be=>({...be,[T.id]:ue}))}})})()}),l.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm font-medium text-gray-800 dark:text-white/90 text-right",children:Q($)}),l.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-center",children:l.jsx("button",{type:"button","aria-label":"Remover item",className:"text-red-500 hover:text-red-700 transition-colors p-1 rounded disabled:opacity-50",onClick:()=>V(T.id,T.entry_id),disabled:!!S[T.id],children:l.jsx(Fa,{className:"w-5 h-5"})})})]},T.id)})})]})})]})}function Nke(){const[r,e]=b.useState("");function t(n){e(n.target.value),console.log("Cupom digitado:",n.target.value)}return{couponValue:r,handleCouponChange:t}}function Eke(r,e){const[t,n]=b.useState(!1),[s,a]=b.useState(null),[i,o]=b.useState(null),[c,d]=b.useState(0),{setAppliedCoupon:u,setDiscountValue:h,clearCoupon:f}=y$(),p=b.useCallback(()=>{if(!r||!e){o(null),d(0),a(null);return}n(!0),a(null),s4e(r,e).then(g=>{if(g.valid&&g.coupon){o(g.coupon);const m=a4e(g.coupon,e);d(m),a(null),console.log("✅ [CUPOM] Aplicado:",{coupon:g.coupon.code,discount:m,orderTotal:e})}else o(null),d(0),a(g.error||"Cupom inválido")}).catch(()=>{o(null),d(0),a("Erro ao validar cupom")}).finally(()=>n(!1))},[r,e]);return b.useEffect(()=>{i&&c>0?(u(i),h(c)):f()},[i,c,u,h,f]),b.useEffect(()=>{p()},[r,e,p]),{loading:t,error:s,appliedCoupon:i,discountValue:c,validate:p}}function _ke(){const[r,e]=b.useState(!1),[t,n]=b.useState(!0),s=async()=>{try{n(!0);const{data:{user:a},error:i}=await G.auth.getUser();if(i||!a){e(!1),n(!1);return}const{data:o,error:c}=await G.from("cart_checkout_resume").select("*").eq("user_id",a.id).order("created_at",{ascending:!1});if(c){console.error("[useCheckoutValidation] Erro ao buscar dados:",c),e(!1),n(!1);return}if(!o||o.length===0){e(!0),n(!1);return}const d=g=>{if(!g||g===null||g===void 0)return!1;if(typeof g=="string"){const m=g.trim();return m!==""&&m!==In.PLACEHOLDER&&m!=="null"&&m!=="undefined"}return!1},u=g=>{if(!g||g===null||g===void 0)return!1;if(typeof g=="string"){const m=g.trim();return m!==""&&m!==Lt.PLACEHOLDER&&m!==Lt.NONE&&m!==Lt.LEGACY_NONE&&m!=="null"&&m!=="undefined"}if(Array.isArray(g)&&g.length>0){const m=g[0];if(typeof m=="object"&&m.title)return m.title!==Lt.PLACEHOLDER&&m.title!==Lt.NONE&&m.title!==Lt.LEGACY_NONE;if(typeof m=="string")return m!==Lt.PLACEHOLDER&&m!==Lt.NONE&&m!==Lt.LEGACY_NONE&&m!==""}return typeof g=="object"&&g.title?g.title!==Lt.PLACEHOLDER&&g.title!==Lt.NONE&&g.title!==Lt.LEGACY_NONE&&g.title!=="":!1},h=g=>{if(!g)return null;if(typeof g=="string")try{const m=JSON.parse(g);if(Array.isArray(m)&&m.length>0){const v=m[0];return typeof v=="object"&&v.niche?v.niche:typeof v=="string"?v:null}return typeof m=="object"&&m.niche?m.niche:g}catch{return g}if(Array.isArray(g)&&g.length>0){const m=g[0];return typeof m=="object"&&m.niche?m.niche:typeof m=="string"?m:null}return typeof g=="object"&&g.niche?g.niche:null},f=g=>{if(!g)return null;if(typeof g=="string")try{const m=JSON.parse(g);if(Array.isArray(m)&&m.length>0){const v=m[0];return typeof v=="object"&&v.title?v.title:typeof v=="string"?v:null}return typeof m=="object"&&m.title?m.title:g}catch{return g}if(Array.isArray(g)&&g.length>0){const m=g[0];return typeof m=="object"&&m.title?m.title:typeof m=="string"?m:null}return typeof g=="object"&&g.title?g.title:null},p=o.every(g=>{const m=h(g.niche_selected),v=f(g.service_selected),x=d(m),y=u(v);return x&&y});e(p)}catch(a){console.error("Erro ao validar campos:",a),e(!1)}finally{n(!1)}};return b.useEffect(()=>{s();const a=()=>{s()};return window.addEventListener("resume-table-reload",a),window.addEventListener("niche-selection-changed",a),window.addEventListener("service-selection-changed",a),()=>{window.removeEventListener("resume-table-reload",a),window.removeEventListener("niche-selection-changed",a),window.removeEventListener("service-selection-changed",a)}},[]),{areAllFieldsSelected:r,loading:t,revalidate:s}}function jke(){const[r,e]=b.useState(0),[t,n]=b.useState(!0),[s,a]=b.useState(null);return b.useEffect(()=>{async function i(){n(!0),a(null);try{const{data:{user:c}}=await G.auth.getUser();if(!c){e(0),n(!1);return}const d=await dd(c.id);if(d&&d.length>0){const u=d.reduce((h,f)=>h+(f.item_total??0),0);e(u)}else e(0)}catch{a("Erro ao buscar total do checkout"),e(0)}finally{n(!1)}}i();function o(){i()}return window.addEventListener("resume-table-reload",o),window.addEventListener("order-totals-updated",o),()=>{window.removeEventListener("resume-table-reload",o),window.removeEventListener("order-totals-updated",o)}},[]),{total:r,loading:t,error:s}}function S$(){const[r,e]=b.useState(null),[t,n]=b.useState(null),[s,a]=b.useState(null),[i,o]=b.useState(null),[c,d]=b.useState(0),[u,h]=b.useState(!0),[f,p]=b.useState(null),[g,m]=b.useState(0),v=Sr(),x=Qn(),{couponValue:y,handleCouponChange:w}=Nke(),[k,S]=b.useState(""),N=b.useRef(null),{total:A,loading:E}=jke(),[R,O]=b.useState([]),[L,D]=b.useState(!0),{areAllFieldsSelected:F,loading:M}=_ke(),B=x.pathname==="/checkout/payment";b.useEffect(()=>{async function T(){try{h(!0),p(null);const{data:{user:H},error:$}=await G.auth.getUser();if($){p("Erro ao verificar usuário logado");return}if(!H){p("Usuário não está logado");return}const Y=await k$(H.id);if(Y&&Y.length>0){const K=Y[0];if(K.user_id===H.id){const re=Number(K.total_product_price)||0,oe=Number(K.total_content_price)||0,ue=Number(K.total_final_price)||0,be=K.applied_coupon_id||null,Ce=Number(K.discount_value)||0;Ce>0&&console.log("💰 [FINISH ORDER] Desconto carregado:",{discount:Ce,finalPrice:ue,calculatedWithoutDiscount:re+oe}),e(re),n(oe),a(ue),o(be),d(Ce)}else e(0),n(0),a(0),o(null),d(0)}else e(0),n(0),a(0),o(null),d(0)}catch{p("Erro ao carregar totais do pedido"),e(0),n(0),a(0)}finally{h(!1)}}T()},[g]),b.useEffect(()=>{async function T(){D(!0);const{data:{user:H}}=await G.auth.getUser();if(!H){O([]),D(!1);return}const $=await dd(H.id);O($||[]),D(!1)}T()},[]),b.useEffect(()=>{function T(){m(H=>H+1)}return window.addEventListener("order-totals-updated",T),()=>window.removeEventListener("order-totals-updated",T)},[]);const{loading:z,error:V,appliedCoupon:W,discountValue:Z}=Eke(y,A);console.log("🎯 [FINISH ORDER] === ESTADO ATUAL DO COMPONENTE ===",{timestamp:new Date().toISOString(),location:window.location.pathname,isPaymentPage:B,estados:{totalProductPrice:r,totalContentPrice:t,totalFinalPrice:s,dbDiscountValue:c,dbAppliedCouponId:i,loading:u,error:f},contexto_cupom:{discountValue:Z,appliedCoupon:(W==null?void 0:W.code)||null,couponLoading:z,couponError:V},checkout_total:{checkoutTotal:A,loadingCheckoutTotal:E},problema_desconto:{deve_mostrar_desconto:B?c>0:Z>0,valor_desconto_usado:B?c:Z,fonte_desconto:B?"dbDiscountValue (banco)":"discountValue (contexto)"}});const q=async()=>{if(!F){p("Selecione o tipo de conteúdo e pacote de conteúdo para todos os itens antes de prosseguir");return}try{h(!0),p(null);const{data:{user:T},error:H}=await G.auth.getUser();if(H||!T){p("Usuário não autenticado"),h(!1);return}h(!1),v("/checkout/payment")}catch{p("Erro ao prosseguir para pagamento"),h(!1)}},Q=()=>{var T;w({target:{value:k}}),(T=N.current)==null||T.focus()};return l.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-xl border border-gray-200 dark:border-gray-800",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-4",children:"Resumo do pedido"}),window.location.pathname==="/checkout"&&l.jsxs("div",{className:"mb-4 flex flex-col items-start gap-2",children:[l.jsx("label",{htmlFor:"inputcode-textfield-with-link",className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cupom de desconto"}),l.jsxs("div",{className:"andes-form-control__control",style:{width:"100%",maxWidth:340,display:"flex",alignItems:"center"},children:[l.jsx("input",{autoComplete:"off",id:"inputcode-textfield-with-link",className:"flex-grow rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-200 text-sm px-3 py-2 focus:outline-none focus:ring-2 focus:ring-brand-300",maxLength:23,placeholder:"Inserir código do cupom","aria-label":"Inserir código do cupom",value:k,onChange:T=>S(T.target.value),style:{minWidth:0},ref:N}),l.jsx("div",{style:{marginLeft:8},children:l.jsx("button",{type:"button",className:"bg-brand-500 hover:bg-brand-600 text-white font-medium py-2 px-4 rounded transition-colors",onClick:Q,children:"Adicionar"})})]}),z&&l.jsx("span",{className:"text-xs text-gray-500",children:"Validando cupom..."}),V&&l.jsx("span",{className:"text-xs text-red-500",children:V}),W&&l.jsxs("span",{className:"text-xs text-green-600",children:["Cupom aplicado: ",W.code," - ",W.name]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-sm text-gray-700 dark:text-gray-200 mb-1",children:"Itens:"}),L?l.jsx("span",{className:"text-xs text-gray-500",children:"Carregando itens..."}):R.length===0?l.jsx("span",{className:"text-xs text-gray-400",children:"Nenhum item encontrado."}):l.jsx("ul",{className:"list-disc list-inside text-xs text-gray-700 dark:text-gray-200",children:R.map((T,H)=>l.jsx("li",{className:"break-all flex items-center",children:l.jsx("span",{children:T.product_url})},H))})]}),f&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:l.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:f})}),l.jsx("div",{className:"py-2"}),l.jsxs("div",{className:"my-2 border-t border-b border-t-gray-300 border-b-gray-300 dark:border-t-gray-700 dark:border-b-gray-700 py-5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:"Valor"}),l.jsx("div",{className:"text-gray-900 dark:text-white",children:u?l.jsx("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 h-4 w-16 rounded"}):l.jsxs(l.Fragment,{children:["R$ ",r!==null?r.toLocaleString("pt-BR",{minimumFractionDigits:2}):"0,00"]})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:"Conteúdo"}),l.jsx("div",{className:"text-gray-900 dark:text-white",children:u?l.jsx("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 h-4 w-16 rounded"}):l.jsxs(l.Fragment,{children:["R$ ",t!==null?t.toLocaleString("pt-BR",{minimumFractionDigits:2}):"0,00"]})})]}),(B?c>0:Z>0)&&l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:"Desconto"}),l.jsxs("div",{className:"text-green-600 dark:text-green-400",children:["- ",Ev(B?c:Z)]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"font-medium text-gray-800 dark:text-white",children:"Total"}),l.jsx("div",{children:u||E?l.jsx("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 h-5 w-20 rounded"}):l.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:Ev(B?s||0:Math.max(A-Z,0))})})]}),window.location.pathname!=="/checkout/payment"&&l.jsxs("div",{children:[l.jsx("button",{className:`w-full mt-2 font-medium py-2 px-4 rounded transition-colors ${F&&!M?"bg-brand-500 hover:bg-brand-600 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,type:"button",onClick:q,disabled:!F||M,title:F?"":"Selecione o tipo de conteúdo e pacote de conteúdo para todos os itens antes de prosseguir",children:M?"Verificando...":"Ir para pagamento"}),!F&&!M&&l.jsx("div",{className:"mt-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Confirme o Nicho e Conteúdo"}),l.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:"Por favor, selecione o tipo de conteúdo e Pacote de Conteúdo para cada item antes de continuar."})]})]})})]})]})}function N$({offsetTop:r=20,onlyOnDesktop:e=!0}={}){const t=b.useRef(null),n=b.useRef(null),[s,a]=b.useState(!1),[i,o]=b.useState({}),[c,d]=b.useState({}),u=b.useRef(null),h=b.useCallback(()=>{var v;if(!t.current)return;if(e&&window.innerWidth<768){a(!1),o({}),d({display:"none"});return}const p=t.current;if(!u.current&&!s){const x=p.getBoundingClientRect();u.current={top:x.top+window.scrollY,left:x.left,width:x.width,height:x.height}}if(!u.current)return;const m=window.scrollY>u.current.top-r;if(m&&!s){const x=p.getBoundingClientRect(),y=(v=p.parentElement)==null?void 0:v.getBoundingClientRect();a(!0),o({position:"fixed",top:r,left:x.left,width:(y==null?void 0:y.width)||x.width,zIndex:10}),d({height:u.current.height,width:"100%",display:"block"})}else!m&&s&&(a(!1),o({}),d({display:"none"}))},[s,r,e]),f=b.useCallback(()=>{u.current=null,a(!1),o({}),d({display:"none"}),requestAnimationFrame(h)},[h]);return b.useEffect(()=>{let p=!1;const g=()=>{p||(requestAnimationFrame(()=>{h(),p=!1}),p=!0)};return window.addEventListener("scroll",g,{passive:!0}),window.addEventListener("resize",f),requestAnimationFrame(h),()=>{window.removeEventListener("scroll",g),window.removeEventListener("resize",f)}},[h,f]),{ref:t,placeholderRef:n,style:i,placeholderStyle:c,isFixed:s}}function Ake(){const{items:r}=gh(),[e,t]=b.useState(!1),{goToShop:n}=nke(),s=N$({offsetTop:80,onlyOnDesktop:!0});return e?l.jsxs(l.Fragment,{children:[l.jsx(er,{title:"Pedido Confirmado | Marketplace",description:"Seu pedido foi confirmado com sucesso"}),l.jsx(Dr,{pageTitle:"Pedido Confirmado"}),l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs("div",{className:"bg-white dark:bg-gray-900 p-8 rounded-xl border border-gray-200 dark:border-gray-800 text-center",children:[l.jsx("div",{className:"mb-6 flex justify-center",children:l.jsx("div",{className:"w-16 h-16 bg-success-100 dark:bg-success-900/30 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-8 h-8 text-success-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white mb-4",children:"Pedido Confirmado!"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Seu pedido foi processado com sucesso. Você receberá um email com os detalhes do pedido em breve."}),l.jsx(nt,{onClick:n,children:"Voltar para a Loja"})]})})]}):r.length===0?l.jsxs(l.Fragment,{children:[l.jsx(er,{title:"Checkout | Marketplace",description:"Finalizar compra"}),l.jsx(Dr,{pageTitle:"Checkout"}),l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs("div",{className:"bg-white dark:bg-gray-900 p-8 rounded-xl border border-gray-200 dark:border-gray-800 text-center",children:[l.jsx("div",{className:"mb-6",children:l.jsx("svg",{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white mb-4",children:"Seu carrinho está vazio"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Adicione alguns produtos ao seu carrinho antes de finalizar a compra."}),l.jsx(nt,{onClick:n,children:"Voltar para a Loja"})]})})]}):l.jsxs(b$,{children:[l.jsx(er,{title:"Checkout | Marketplace",description:"Finalizar compra"}),l.jsx(Dr,{pageTitle:"Checkout"}),l.jsxs("div",{className:"w-full flex mx-auto min-h-screen gap-4",children:[l.jsxs("div",{className:"flex-1 flex flex-col gap-8 mb-8",children:[l.jsx(ake,{}),l.jsx(Ske,{showCouponInput:!0})]}),l.jsxs("div",{className:"my-5 w-full flex-none md:my-0 md:w-72 lg:w-2/6 ml-2 md:ml-3 lg:ml-4",children:[l.jsx("div",{ref:s.placeholderRef,style:s.placeholderStyle}),l.jsx("div",{ref:s.ref,style:s.style,className:"w-full",children:l.jsx(S$,{})})]})]})]})}const La=r=>r.replace(/\D/g,""),E$=r=>{const e=La(r);return e.length<=3?e:e.length<=6?`${e.slice(0,3)}.${e.slice(3)}`:e.length<=9?`${e.slice(0,3)}.${e.slice(3,6)}.${e.slice(6)}`:`${e.slice(0,3)}.${e.slice(3,6)}.${e.slice(6,9)}-${e.slice(9,11)}`},_$=r=>{const e=La(r);return e.length<=2?e:e.length<=5?`${e.slice(0,2)}.${e.slice(2)}`:e.length<=8?`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5)}`:e.length<=12?`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5,8)}/${e.slice(8)}`:`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5,8)}/${e.slice(8,12)}-${e.slice(12,14)}`},Tke=r=>{const e=La(r);return e.length<=5?e:`${e.slice(0,5)}-${e.slice(5,8)}`},Pke=r=>{const e=La(r);let t="",n=e;return e.length>11&&(t=`+${e.slice(0,e.length-11)} `,n=e.slice(e.length-11)),n.length<=2?t+n:n.length<=7?`${t}(${n.slice(0,2)}) ${n.slice(2)}`:n.length<=10?`${t}(${n.slice(0,2)}) ${n.slice(2,6)}-${n.slice(6)}`:`${t}(${n.slice(0,2)}) ${n.slice(2,7)}-${n.slice(7,11)}`},Lke=r=>r.toLowerCase().trim(),j$=r=>{const e=La(r);if(e.length!==11||/^(\d)\1{10}$/.test(e))return!1;let t=0;for(let i=0;i<9;i++)t+=parseInt(e.charAt(i))*(10-i);let n=11-t%11,s=n>=10?0:n;if(parseInt(e.charAt(9))!==s)return!1;t=0;for(let i=0;i<10;i++)t+=parseInt(e.charAt(i))*(11-i);n=11-t%11;let a=n>=10?0:n;return parseInt(e.charAt(10))===a},A$=r=>La(r).length===14,Dke=r=>{const e=La(r);return e.length===8&&/^\d{8}$/.test(e)},T$=r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r),Mke=(r,e)=>{const t=La(r);switch(e){case"cpf":return t.length===11;case"cnpj":return t.length===14;case"cep":return t.length===8;case"phone":return t.length===10||t.length===11;case"email":return T$(r);case"document":return t.length===11||t.length===14;default:return r.trim().length>0}},Rke=r=>La(r).length<=11?E$(r):_$(r),Ike=r=>{const e=La(r);return e.length===11||e.length===14},Hg=({mask:r="none",value:e="",onChange:t,onBlur:n,validateOnBlur:s=!0,type:a="text",id:i,name:o,placeholder:c,className:d="",disabled:u=!1,required:h=!1,maxLength:f,hint:p,autoComplete:g})=>{const[m,v]=b.useState(e),[x,y]=b.useState(null),[w,k]=b.useState("");b.useEffect(()=>{e!==m&&v(S(e))},[e]),b.useEffect(()=>{const{isValid:M,message:B}=N(m);y(M),k(B)},[m]);const S=M=>{if(!M)return"";switch(r){case"cpf":return E$(M);case"cnpj":return _$(M);case"cep":return Tke(M);case"phone":return Pke(M);case"email":return Lke(M);case"document":return Rke(M);default:return M}},N=M=>{const B=r==="phone"?La(M):M;if(!B&&!h)return{isValid:!0,message:""};if(!B&&h)return{isValid:!1,message:"Este campo é obrigatório"};switch(r){case"phone":{const Q=La(M),T=Q.length>=10&&Q.length<=15;return{isValid:T,message:M?T?"":"Telefone deve conter entre 10 e 15 dígitos":""}}case"cpf":const z=j$(M);return{isValid:z,message:z?"":"CPF inválido"};case"cnpj":const V=A$(M);return{isValid:V,message:V?"":"CNPJ inválido"};case"cep":const W=Dke(M);return{isValid:W,message:W?"":"CEP deve ter 8 dígitos"};case"email":const Z=T$(M);return{isValid:Z,message:Z?"":"Email inválido"};case"document":const q=Ike(M);return{isValid:q,message:q?"":"CPF ou CNPJ inválido"};default:return{isValid:!0,message:""}}},A=()=>{if(c)return c;switch(r){case"cpf":return"000.000.000-00";case"cnpj":return"00.000.000/0000-00";case"cep":return"00000-000";case"phone":return"+99 (99) 99999-9999";case"email":return"exemplo@email.com";case"document":return"CPF ou CNPJ";default:return""}},E=()=>{if(f)return f;switch(r){case"cpf":return 14;case"cnpj":return 18;case"cep":return 9;case"phone":return 25;case"document":return 18;default:return 255}},R=()=>{switch(r){case"cpf":return"CPF deve ter 11 dígitos";case"cnpj":return"CNPJ deve ter 14 dígitos";case"cep":return"CEP deve ter 8 dígitos";case"phone":return"Telefone deve conter entre 10 e 15 dígitos";case"email":return"Email inválido";case"document":return"CPF deve ter 11 dígitos ou CNPJ deve ter 14 dígitos";default:return"Campo incompleto"}},O=M=>{const B=M.target.value,z=S(B);v(z),h&&z?(y(!0),k("")):(!h||!z)&&(y(null),k(""));const V={...M,target:{...M.target,name:o||M.target.name,value:r==="email"?z:La(z)}};t==null||t(V)},L=M=>{if(h&&m)if(r==="phone"){const z=N(m);y(z.isValid),k(z.message)}else if(Mke(m,r)){const V=N(m);y(V.isValid),k(V.message)}else y(!1),k(R());else if(s){const z=N(m);y(z.isValid),k(z.message)}const B={...M,target:{...M.target,name:o||M.target.name,value:r==="email"?m:La(m)}};n==null||n(B)},D=x===!1&&m&&m.length>0,F=D?void 0:w||p;return l.jsxs("div",{className:"relative w-full",children:[l.jsx(st,{type:r==="email"?"email":r==="phone"?"tel":a,id:i,name:o,value:m,onChange:O,onBlur:L,placeholder:A(),className:d,disabled:u,required:h,maxLength:E(),autoComplete:g,error:!!D,hint:F}),D&&l.jsx("span",{className:"text-xs text-error-500 absolute left-0 -bottom-5",children:w})]})},z1=[{value:"BR",label:"Brasil",flag:"https://flagcdn.com/br.svg"},{value:"AR",label:"Argentina",flag:"https://flagcdn.com/ar.svg"},{value:"BO",label:"Bolívia",flag:"https://flagcdn.com/bo.svg"},{value:"CL",label:"Chile",flag:"https://flagcdn.com/cl.svg"},{value:"CO",label:"Colômbia",flag:"https://flagcdn.com/co.svg"},{value:"EC",label:"Equador",flag:"https://flagcdn.com/ec.svg"},{value:"GY",label:"Guiana",flag:"https://flagcdn.com/gy.svg"},{value:"PY",label:"Paraguai",flag:"https://flagcdn.com/py.svg"},{value:"PE",label:"Peru",flag:"https://flagcdn.com/pe.svg"},{value:"SR",label:"Suriname",flag:"https://flagcdn.com/sr.svg"},{value:"UY",label:"Uruguai",flag:"https://flagcdn.com/uy.svg"},{value:"VE",label:"Venezuela",flag:"https://flagcdn.com/ve.svg"},{value:"US",label:"Estados Unidos",flag:"https://flagcdn.com/us.svg"},{value:"CA",label:"Canadá",flag:"https://flagcdn.com/ca.svg"},{value:"MX",label:"México",flag:"https://flagcdn.com/mx.svg"},{value:"DE",label:"Alemanha",flag:"https://flagcdn.com/de.svg"},{value:"ES",label:"Espanha",flag:"https://flagcdn.com/es.svg"},{value:"FR",label:"França",flag:"https://flagcdn.com/fr.svg"},{value:"IT",label:"Itália",flag:"https://flagcdn.com/it.svg"},{value:"PT",label:"Portugal",flag:"https://flagcdn.com/pt.svg"},{value:"GB",label:"Reino Unido",flag:"https://flagcdn.com/gb.svg"},{value:"CN",label:"China",flag:"https://flagcdn.com/cn.svg"},{value:"JP",label:"Japão",flag:"https://flagcdn.com/jp.svg"},{value:"KR",label:"Coreia do Sul",flag:"https://flagcdn.com/kr.svg"},{value:"IN",label:"Índia",flag:"https://flagcdn.com/in.svg"},{value:"AU",label:"Austrália",flag:"https://flagcdn.com/au.svg"},{value:"NZ",label:"Nova Zelândia",flag:"https://flagcdn.com/nz.svg"}];class gP{static getAllCountries(){return z1}static getCountryByCode(e){return z1.find(t=>t.value===e)}static searchCountriesByName(e){const t=e.toLowerCase();return z1.filter(n=>n.label.toLowerCase().includes(t))}static getCountriesForSelect(){return z1.map(e=>({value:e.value,label:e.label,flagUrl:e.flag}))}}function Oke(){const[r,e]=b.useState([]),[t,n]=b.useState(!0);return b.useEffect(()=>{(()=>{try{n(!0);const i=gP.getCountriesForSelect();e(i)}catch(i){console.error("Erro ao carregar países:",i),e([])}finally{n(!1)}})()},[]),{countries:r,loading:t,getCountryByCode:a=>gP.getCountryByCode(a)}}const Fke=(r,e)=>l.jsx("img",{src:r,width:"20",height:"15",alt:`Bandeira ${e}`,className:"mr-2 inline-block",style:{objectFit:"cover"},onError:t=>{const n=t.target;n.style.display="none"}}),Bke=(r,e,t)=>({value:r,label:e,icon:Fke(t,e)}),zke=r=>r.map(e=>Bke(e.value,e.label,e.flagUrl));function Hke({value:r,onChange:e,required:t=!1,disabled:n=!1}){const{countries:s,loading:a}=Oke(),i=zke(s);return l.jsxs("div",{children:[l.jsxs(Me,{children:["País ",t&&l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(or,{options:i,value:r,onChange:e,disabled:n||a,placeholder:a?"Carregando países...":"Selecione um país"})]})}function Uke({formData:r,onChange:e,onValidSubmit:t}){console.log("[DEBUG PaymentInformationForm] legal_status:",r.legal_status,"| documentNumber:",r.documentNumber);const[n,s]=b.useState(!0),[a,i]=b.useState(!1),[o,c]=b.useState(r.legal_status||"individual"),[d,u]=b.useState(r.country||"BR"),h=mR[d]||[],f=x=>{c(x),e({target:{name:"legal_status",value:x}})},p=x=>{u(x),e({target:{name:"country",value:x}}),e({target:{name:"state",value:""}})},g=x=>(x==null?void 0:x.replace(/\D/g,""))||"",m=()=>{var M,B,z,V,W,Z;console.log("🔍 VALIDANDO FORMULÁRIO DE INFORMAÇÕES DE PAGAMENTO"),console.log("📋 ESTADO ATUAL DO FORMDATA:",r);const x=!!((M=r.name)!=null&&M.trim())&&r.name.trim().length>=2,y=!!((B=r.email)!=null&&B.trim())&&r.email.includes("@")&&r.email.includes("."),w=!!((z=r.address)!=null&&z.trim())&&r.address.trim().length>=5,k=!!((V=r.city)!=null&&V.trim())&&r.city.trim().length>=2,S=!!((W=r.state)!=null&&W.trim())&&r.state.trim().length>=2,N=g(r.zipCode),A=g(r.documentNumber),E=g(r.phone),R=!!N&&N.length>=5,O=!!E&&E.length>=10&&E.length<=13;let L=!1,D=!0;if(r.legal_status==="business"){console.log("[VALIDAÇÃO DOCUMENTO] Usando validateCNPJ | legal_status:",r.legal_status,"| valor:",r.documentNumber);const q=r.documentNumber,Q=q?q.replace(/\D/g,""):"",T=A$(q);console.log("[DEBUG CNPJ] raw:",q,"| cleaned:",Q,"| valid:",T),L=T,D=!!((Z=r.company_name)!=null&&Z.trim())&&r.company_name.trim().length>=2}else console.log("[VALIDAÇÃO DOCUMENTO] Usando validateCPF | legal_status:",r.legal_status,"| valor:",r.documentNumber),L=j$(r.documentNumber);console.log("🔍 VALIDAÇÃO DETALHADA:",{name:{value:r.name,valid:x},email:{value:r.email,valid:y},address:{value:r.address,valid:w},city:{value:r.city,valid:k},state:{value:r.state,valid:S},zipCode:{value:r.zipCode,cleaned:N,valid:R},document:{value:r.documentNumber,cleaned:A,valid:L},phone:{value:r.phone,cleaned:E,valid:O},company_name:{value:r.company_name,valid:D}});let F=x&&y&&w&&k&&S&&R&&L&&O;return r.legal_status==="business"&&(F=F&&D),console.log("✅ RESULTADO DA VALIDAÇÃO:",{isValid:F}),F};b.useEffect(()=>{const x=setTimeout(()=>{v()},100);return()=>clearTimeout(x)},[]),b.useEffect(()=>{a&&["phone","zipCode","documentNumber"].forEach(y=>{const w=r[y];(!w||w.trim()==="")&&console.log(`🔄 Verificando sincronização para ${y}:`,w)})},[a,r]),b.useEffect(()=>{var x;console.log("📞 PHONE VALUE CHANGED:",{phoneValue:r.phone,phoneType:typeof r.phone,phoneLength:((x=r.phone)==null?void 0:x.length)||0,phoneClean:g(r.phone),timestamp:new Date().toISOString()})},[r.phone]),b.useEffect(()=>{if(a&&!n){const x=["name","email","address","city","state","zipCode","documentNumber","phone"];if(r.legal_status==="business"&&x.push("company_name"),!x.every(k=>r[k]&&r[k].toString().trim()!==""))return;const w=setTimeout(()=>{const k=m();t(k)},300);return()=>clearTimeout(w)}},[r,a,n]);async function v(){try{s(!0),console.log("🔍 LOADING USER DATA - PaymentInformationForm");const{data:{user:x}}=await G.auth.getUser();if(!x){console.log("❌ No user found"),i(!0);return}console.log("👤 User found:",x.id);const{data:y}=await G.from("admins").select("id, email, first_name, last_name, phone").eq("id",x.id).maybeSingle();if(console.log("🔍 Admin data:",y),y){const{data:w}=await G.from("company_data").select("*").eq("admin_id",x.id).maybeSingle(),k=y.phone||"",S=`${y.first_name||""} ${y.last_name||""}`.trim();if(w){c(w.legal_status||"individual"),u(w.country||"BR"),e({target:{name:"legal_status",value:w.legal_status||"individual"}});const N={name:S,email:y.email||"",address:w.address||"",city:w.city||"",state:w.state||"",zipCode:w.zip_code||"",documentNumber:w.document_number||"",phone:k,company_name:w.company_name||""};console.log("📝 Data to update form (admin):",N),Object.entries(N).forEach(([A,E])=>{console.log(`🔄 Updating ${A} with value:`,E),console.log(`🔄 Field "${A}" - Before onChange:`,r[A]);const R=r[A];if(R&&R.toString().trim()!==""){console.log(`🛡️ PROTEÇÃO: Campo ${A} já tem valor, não sobrescrever:`,R);return}const O=E!=null?String(E):"";(!R||R.toString().trim()==="")&&(console.log(`✅ Preenchendo ${A} com valor do banco:`,O),e({target:{name:A,value:O}}))})}}else{const{data:w}=await G.from("platform_users").select("*").eq("id",x.id).maybeSingle();console.log("👥 Platform user data:",w);const k=(w==null?void 0:w.phone)||"";if(w){const{data:S}=await G.from("company_data").select("*").eq("user_id",x.id).maybeSingle(),N=`${w.first_name||""} ${w.last_name||""}`.trim();if(S){c(S.legal_status||"individual"),u(S.country||"BR"),e({target:{name:"legal_status",value:S.legal_status||"individual"}});const A={name:N,email:w.email||"",address:S.address||"",city:S.city||"",state:S.state||"",zipCode:S.zip_code||"",documentNumber:S.document_number||"",phone:k,company_name:S.company_name||""};console.log("📝 Data to update form (platform user with company):",A),Object.entries(A).forEach(([E,R])=>{console.log(`🔄 Updating ${E} with value:`,R),console.log(`🔄 Field "${E}" - Before onChange:`,r[E]);const O=r[E];if(O&&O.toString().trim()!==""){console.log(`🛡️ PROTEÇÃO: Campo ${E} já tem valor, não sobrescrever:`,O);return}const L=R!=null?String(R):"";(!O||O.toString().trim()==="")&&(console.log(`✅ Preenchendo ${E} com valor do banco:`,L),e({target:{name:E,value:L}}))})}else{const A={name:`${w.first_name} ${w.last_name}`,email:w.email||"",address:"",city:"",state:"",zipCode:"",documentNumber:"",phone:""};console.log("📝 Data to update form (platform user without company):",A),Object.entries(A).forEach(([E,R])=>{console.log(`🔄 Updating ${E} with value:`,R),console.log(`🔄 Field "${E}" - Before onChange:`,r[E]);const O=r[E];if(O&&O.toString().trim()!==""){console.log(`🛡️ PROTEÇÃO: Campo ${E} já tem valor, não sobrescrever:`,O);return}const L=R!=null?String(R):"";(!O||O.toString().trim()==="")&&(console.log(`✅ Preenchendo ${E} com valor do banco:`,L),e({target:{name:E,value:L}}))})}}}}catch(x){console.error("❌ Error loading user data:",x)}finally{s(!1),i(!0),setTimeout(()=>{const x=m();t(x)},0),console.log("✅ Loading user data completed")}}return l.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-xl border border-gray-200 dark:border-gray-800 mb-6",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("svg",{className:"w-6 h-6 mr-2 text-gray-800 dark:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white",children:"Informações de pagamento"})]}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:n?"Carregando informações...":o==="business"?"Dados da Empresa":"Dados Pessoais"}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsxs("div",{children:[l.jsxs(Me,{children:["Nome Completo ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"text",name:"name",value:r.name||"",onChange:e,required:!0,placeholder:"Digite o nome completo"})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Email ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"email",name:"email",value:r.email||"",onChange:e,required:!0,placeholder:"Digite o email"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 mt-6",children:[l.jsxs("div",{children:[l.jsxs(Me,{children:["Tipo de Pessoa ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(or,{options:[{value:"individual",label:"Pessoa Física"},{value:"business",label:"Pessoa Jurídica"}],value:o,onChange:f})]}),l.jsx("div",{children:l.jsx(Hke,{value:d,onChange:p,required:!0})})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 mt-6",children:[l.jsxs("div",{children:[l.jsxs(Me,{children:["Estado ",h.length>0&&l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(or,{options:h.length>0?[{value:"",label:"Selecione o estado"},...h]:[{value:"",label:"Selecione o país primeiro"}],value:r.state||"",onChange:x=>e({target:{name:"state",value:x}}),disabled:h.length===0})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Cidade ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"text",name:"city",value:r.city,onChange:e,required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 mt-6",children:[l.jsxs("div",{children:[l.jsxs(Me,{children:["Endereço ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"text",name:"address",value:r.address,onChange:e,required:!0})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:[d==="BR"?"CEP":"Código Postal",d==="BR"&&l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(Hg,{mask:d==="BR"?"cep":"none",name:"zipCode",value:r.zipCode,onChange:e,required:!0})]})]}),o==="business"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 mt-6",children:[l.jsxs("div",{children:[l.jsxs(Me,{children:["CNPJ ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(Hg,{mask:"cnpj",name:"documentNumber",value:r.documentNumber||"",onChange:e,required:!0,placeholder:"Digite o CNPJ"})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Nome da Empresa ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{type:"text",name:"company_name",value:r.company_name||"",onChange:e,required:!0,placeholder:"Digite o nome da empresa"})]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 mt-6",children:l.jsxs("div",{children:[l.jsxs(Me,{children:["Telefone/Celular ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(Hg,{mask:"phone",name:"phone",value:r.phone,onChange:e,required:!0})]})})]}),o==="individual"&&l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 mt-6",children:[l.jsxs("div",{children:[l.jsxs(Me,{children:["CPF ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(Hg,{mask:"cpf",name:"documentNumber",value:r.documentNumber,onChange:e,required:!0})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Telefone/Celular ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(Hg,{mask:"phone",name:"phone",value:r.phone,onChange:e,required:!0})]})]})]})}const $ke=b.memo(Uke);function mP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function xP(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(t),!0).forEach(function(n){P$(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):mP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Rv(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rv=function(e){return typeof e}:Rv=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(r)}function P$(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function L$(r,e){return Vke(r)||Wke(r,e)||qke(r,e)||Yke()}function Vke(r){if(Array.isArray(r))return r}function Wke(r,e){var t=r&&(typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"]);if(t!=null){var n=[],s=!0,a=!1,i,o;try{for(t=t.call(r);!(s=(i=t.next()).done)&&(n.push(i.value),!(e&&n.length===e));s=!0);}catch(c){a=!0,o=c}finally{try{!s&&t.return!=null&&t.return()}finally{if(a)throw o}}return n}}function qke(r,e){if(r){if(typeof r=="string")return vP(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vP(r,e)}}function vP(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Yke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ja=function(e,t,n){var s=!!n,a=ht.useRef(n);ht.useEffect(function(){a.current=n},[n]),ht.useEffect(function(){if(!s||!e)return function(){};var i=function(){a.current&&a.current.apply(a,arguments)};return e.on(t,i),function(){e.off(t,i)}},[s,t,e,a])},_S=function(e){var t=ht.useRef(e);return ht.useEffect(function(){t.current=e},[e]),t.current},Sp=function(e){return e!==null&&Rv(e)==="object"},Gke=function(e){return Sp(e)&&typeof e.then=="function"},Xke=function(e){return Sp(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},yP="[object Object]",Zke=function r(e,t){if(!Sp(e)||!Sp(t))return e===t;var n=Array.isArray(e),s=Array.isArray(t);if(n!==s)return!1;var a=Object.prototype.toString.call(e)===yP,i=Object.prototype.toString.call(t)===yP;if(a!==i)return!1;if(!a&&!n)return e===t;var o=Object.keys(e),c=Object.keys(t);if(o.length!==c.length)return!1;for(var d={},u=0;u<o.length;u+=1)d[o[u]]=!0;for(var h=0;h<c.length;h+=1)d[c[h]]=!0;var f=Object.keys(d);if(f.length!==o.length)return!1;var p=e,g=t,m=function(x){return r(p[x],g[x])};return f.every(m)},D$=function(e,t,n){return Sp(e)?Object.keys(e).reduce(function(s,a){var i=!Sp(t)||!Zke(e[a],t[a]);return n.includes(a)?(i&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),s):i?xP(xP({},s||{}),{},P$({},a,e[a])):s},null):null},M$="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",bP=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M$;if(e===null||Xke(e))return e;throw new Error(t)},Jke=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M$;if(Gke(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(s){return bP(s,t)})};var n=bP(e,t);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},Kke=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},ew=ht.createContext(null);ew.displayName="ElementsContext";var R$=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},I$=function(e){var t=e.stripe,n=e.options,s=e.children,a=ht.useMemo(function(){return Jke(t)},[t]),i=ht.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(n):null}}),o=L$(i,2),c=o[0],d=o[1];ht.useEffect(function(){var f=!0,p=function(m){d(function(v){return v.stripe?v:{stripe:m,elements:m.elements(n)}})};return a.tag==="async"&&!c.stripe?a.stripePromise.then(function(g){g&&f&&p(g)}):a.tag==="sync"&&!c.stripe&&p(a.stripe),function(){f=!1}},[a,c,n]);var u=_S(t);ht.useEffect(function(){u!==null&&u!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,t]);var h=_S(n);return ht.useEffect(function(){if(c.elements){var f=D$(n,h,["clientSecret","fonts"]);f&&c.elements.update(f)}},[n,h,c.elements]),ht.useEffect(function(){Kke(c.stripe)},[c.stripe]),ht.createElement(ew.Provider,{value:c},s)};I$.propTypes={stripe:Ut.any,options:Ut.object};var Qke=function(e){var t=ht.useContext(ew);return R$(t,e)},eCe=function(){var e=Qke("calls useElements()"),t=e.elements;return t};Ut.func.isRequired;var O$=ht.createContext(null);O$.displayName="CustomCheckoutSdkContext";var tCe=function(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e},rCe=ht.createContext(null);rCe.displayName="CustomCheckoutContext";Ut.any,Ut.shape({clientSecret:Ut.string.isRequired,elementsOptions:Ut.object}).isRequired;var jS=function(e){var t=ht.useContext(O$),n=ht.useContext(ew);if(t&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return t?tCe(t,e):R$(n,e)},nCe=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},es=function(e,t){var n="".concat(nCe(e),"Element"),s=function(c){var d=c.id,u=c.className,h=c.options,f=h===void 0?{}:h,p=c.onBlur,g=c.onFocus,m=c.onReady,v=c.onChange,x=c.onEscape,y=c.onClick,w=c.onLoadError,k=c.onLoaderStart,S=c.onNetworksChange,N=c.onConfirm,A=c.onCancel,E=c.onShippingAddressChange,R=c.onShippingRateChange,O=jS("mounts <".concat(n,">")),L="elements"in O?O.elements:null,D="customCheckoutSdk"in O?O.customCheckoutSdk:null,F=ht.useState(null),M=L$(F,2),B=M[0],z=M[1],V=ht.useRef(null),W=ht.useRef(null);Ja(B,"blur",p),Ja(B,"focus",g),Ja(B,"escape",x),Ja(B,"click",y),Ja(B,"loaderror",w),Ja(B,"loaderstart",k),Ja(B,"networkschange",S),Ja(B,"confirm",N),Ja(B,"cancel",A),Ja(B,"shippingaddresschange",E),Ja(B,"shippingratechange",R),Ja(B,"change",v);var Z;m&&(e==="expressCheckout"?Z=m:Z=function(){m(B)}),Ja(B,"ready",Z),ht.useLayoutEffect(function(){if(V.current===null&&W.current!==null&&(L||D)){var Q=null;D?Q=D.createElement(e,f):L&&(Q=L.create(e,f)),V.current=Q,z(Q),Q&&Q.mount(W.current)}},[L,D,f]);var q=_S(f);return ht.useEffect(function(){if(V.current){var Q=D$(f,q,["paymentRequest"]);Q&&"update"in V.current&&V.current.update(Q)}},[f,q]),ht.useLayoutEffect(function(){return function(){if(V.current&&typeof V.current.destroy=="function")try{V.current.destroy(),V.current=null}catch{}}},[]),ht.createElement("div",{id:d,className:u,ref:W})},a=function(c){jS("mounts <".concat(n,">"));var d=c.id,u=c.className;return ht.createElement("div",{id:d,className:u})},i=t?a:s;return i.propTypes={id:Ut.string,className:Ut.string,onChange:Ut.func,onBlur:Ut.func,onFocus:Ut.func,onReady:Ut.func,onEscape:Ut.func,onClick:Ut.func,onLoadError:Ut.func,onLoaderStart:Ut.func,onNetworksChange:Ut.func,onConfirm:Ut.func,onCancel:Ut.func,onShippingAddressChange:Ut.func,onShippingRateChange:Ut.func,options:Ut.object},i.displayName=n,i.__elementType=e,i},ts=typeof window>"u",sCe=ht.createContext(null);sCe.displayName="EmbeddedCheckoutProviderContext";var aCe=function(){var e=jS("calls useStripe()"),t=e.stripe;return t};es("auBankAccount",ts);var i3=es("card",ts);es("cardNumber",ts);es("cardExpiry",ts);es("cardCvc",ts);es("fpxBank",ts);es("iban",ts);es("idealBank",ts);es("p24Bank",ts);es("epsBank",ts);es("payment",ts);es("expressCheckout",ts);es("currencySelector",ts);es("paymentRequestButton",ts);es("linkAuthentication",ts);es("address",ts);es("shippingAddress",ts);es("paymentMethodMessaging",ts);es("affirmMessage",ts);es("afterpayClearpayMessage",ts);function Iv(r){if(!r||typeof r!="string")return"Ocorreu um erro inesperado. Tente novamente.";const e=[/pk_test_[a-zA-Z0-9_]+/g,/pk_live_[a-zA-Z0-9_]+/g,/sk_test_[a-zA-Z0-9_]+/g,/sk_live_[a-zA-Z0-9_]+/g,/whsec_[a-zA-Z0-9_]+/g,/api[_-]?key[s]?[\s]*[:=][\s]*[a-zA-Z0-9_-]+/gi,/secret[_-]?key[s]?[\s]*[:=][\s]*[a-zA-Z0-9_-]+/gi,/access[_-]?token[s]?[\s]*[:=][\s]*[a-zA-Z0-9_-]+/gi,/eyJ[a-zA-Z0-9_-]*\.[a-zA-Z0-9_-]*\.[a-zA-Z0-9_-]*/g,/https?:\/\/[^\/]*\/[^?]*\?[^&]*(?:token|key|secret)[^&\s]*/gi];let t=r;e.forEach(i=>{t=t.replace(i,"[INFORMAÇÃO SENSÍVEL REMOVIDA]")});const n={"Your card was declined.":"Seu cartão foi recusado. Verifique os dados ou tente outro cartão.","Your card number is incorrect.":"O número do cartão está incorreto.","Your card's expiration date is incorrect.":"A data de validade do cartão está incorreta.","Your card's security code is incorrect.":"O código de segurança do cartão está incorreto.","Your card has insufficient funds.":"Seu cartão não possui fundos suficientes.","Your card does not support this type of purchase.":"Seu cartão não suporta este tipo de compra.","Your card has been declined.":"Seu cartão foi recusado.","Payment failed":"Falha no pagamento. Tente novamente.","Invalid API Key provided":"Erro de configuração do sistema de pagamento. Contate o suporte.","No such payment_intent":"Erro na transação. Tente novamente.","This payment requires authentication":"Este pagamento requer autenticação adicional."};for(const[i,o]of Object.entries(n))if(t.toLowerCase().includes(i.toLowerCase()))return o;return t.includes("test mode")&&t.includes("live mode")?"Erro de configuração: modo de teste/produção inconsistente. Contate o suporte.":t.includes("invalid api key")||t.includes("invalid key")?"Erro de configuração do sistema de pagamento. Contate o suporte.":t.includes("card_declined")?"Seu cartão foi recusado. Verifique os dados ou tente outro cartão.":t.includes("insufficient_funds")?"Seu cartão não possui fundos suficientes.":t.includes("expired_card")?"Seu cartão está vencido.":t.includes("incorrect_cvc")?"O código de segurança do cartão está incorreto.":t.includes("incorrect_number")?"O número do cartão está incorreto.":t.includes("processing_error")?"Erro no processamento do pagamento. Tente novamente.":["payment_intent","client_secret","stripe","webhook","endpoint","authentication failed","unauthorized","401","403","500","internal server error"].some(i=>t.toLowerCase().includes(i.toLowerCase()))?"Erro no processamento do pagamento. Tente novamente ou contate o suporte.":(t=t.replace(/https?:\/\/[^\s]+/g,"[URL removida por segurança]"),t.trim().length<10?"Ocorreu um erro no pagamento. Tente novamente.":t)}function o3(r){if(!r)return"Erro desconhecido no pagamento.";const e=typeof r=="string"?r:r.message||r.toString();return Iv(e)}const iCe={style:{base:{color:"#32325d",fontFamily:'"Outfit", sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},hidePostalCode:!0},oCe=b.forwardRef(function({amount:e,currency:t,onSuccess:n,onError:s},a){const i=aCe(),o=eCe(),[c,d]=b.useState(null),u=async()=>{if(!i||!o){console.log("STRIPE ERROR - Stripe or Elements not loaded:",{stripeLoaded:!!i,elementsLoaded:!!o,timestamp:new Date().toISOString()}),s("Stripe não foi carregado corretamente");return}d(null);try{const{data:{session:f}}=await G.auth.getSession();if(!f)throw new Error("No authenticated session found");const p=await fetch("https://uxbeaslwirkepnowydfu.supabase.co/functions/v1/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f.access_token}`},body:JSON.stringify({amount:e,currency:t})});if(!p.ok){const y=await p.json();console.error("Payment intent error response:",y),console.log("PAYMENT INTENT CREATION ERROR:",{errorMessage:y.details||y.error,errorData:y,paymentMethod:"card",timestamp:new Date().toISOString(),amount:e,currency:t,responseStatus:p.status,responseStatusText:p.statusText});const w=y.details||y.error||"Failed to create payment intent",k=o3(w);throw new Error(k)}const{clientSecret:g}=await p.json(),m=o.getElement(i3);if(!m)throw new Error("Card element not found");const{error:v,paymentIntent:x}=await i.confirmCardPayment(g,{payment_method:{card:m,billing_details:{}}});if(v){console.error("Stripe error:",v),console.log("STRIPE PAYMENT ERROR:",{errorMessage:v.message,errorType:v.type,errorCode:v.code,errorDeclineCode:v.decline_code,paymentMethod:"card",timestamp:new Date().toISOString(),amount:e,currency:t,stripeErrorDetails:v});const y=o3(v);throw new Error(y)}if(x.status==="succeeded")n(x.id);else throw new Error(`Payment status: ${x.status}`)}catch(f){console.error("Payment error:",f),console.log("STRIPE PAYMENT PROCESSING ERROR:",{errorMessage:f.message,errorStack:f.stack,paymentMethod:"card",timestamp:new Date().toISOString(),amount:e,currency:t,stripeInitialized:!!i,elementsInitialized:!!o,cardElementFound:!!(o!=null&&o.getElement(i3))});const p=o3(f);d(p),s(p)}};b.useImperativeHandle(a,()=>({submitPayment:u}));const h=async f=>{f.preventDefault(),await u()};return l.jsxs("form",{onSubmit:h,className:"space-y-6",children:[l.jsx("div",{className:"p-4 border border-gray-200 rounded-lg dark:border-gray-700",children:l.jsx(i3,{options:iCe})}),c&&l.jsx("div",{className:"p-3 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:c})]})}),lCe=({options:r,selected:e,onSelect:t})=>{const n=r.map(s=>({value:String(s.installments),label:`${s.installments}x de ${s.formatted_amount} ${s.interest?"(com juros)":"(sem juros)"}`}));return l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block font-medium mb-2",children:"Parcelamento"}),l.jsx(or,{options:n,placeholder:"Selecione o número de parcelas",value:e?String(e):"",onChange:s=>t(Number(s)),className:"z-20"})]})};async function cCe(r,e){var o;const t="https://uxbeaslwirkepnowydfu.supabase.co/functions/v1/pagarme-installments",{data:n}=await G.auth.getSession(),s=(o=n==null?void 0:n.session)==null?void 0:o.access_token;if(!s)throw new Error("Usuário não autenticado.");const a=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({amount:r,card_brand:e})});if(!a.ok)throw new Error("Erro ao buscar opções de parcelamento");return((await a.json()).installments||[]).map(c=>({installments:c.installments,amount:c.amount,formatted_amount:(c.amount/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),interest:!!c.interest}))}function dCe(r){if(!r)return"";const e=r.replace(/\D/g,"");return/^4/.test(e)?"visa":/^5[1-5]/.test(e)?"mastercard":/^3[47]/.test(e)?"amex":/^6/.test(e)?"elo":/^3(0|6|8)/.test(e)?"diners":/^35/.test(e)?"jcb":"desconhecida"}function uCe({paymentMethod:r,stripePromise:e,totalAmount:t,pixQrCodeUrl:n,pixCopiaECola:s,total:a,processing:i,error:o,termsAccepted:c,pixFormValid:d,availablePaymentMethods:u=["card","pix","boleto"],onPaymentMethodChange:h,onTermsAcceptedChange:f,onSubmit:p,onPaymentSuccess:g,onPaymentError:m,onCardDataChange:v,onGeneratePixQrCode:x,allFormsValid:y,isPaymentInfoFormValid:w,isCardFormValid:k,cardData:S,setCardData:N,selectedInstallments:A,onInstallmentsChange:E,installmentsOptions:R,setInstallmentsOptions:O}){const[L,D]=b.useState(!1),[F,M]=b.useState(!1),[B,z]=b.useState(0),[V,W]=b.useState(null),Z=b.useRef(null),[q,Q]=b.useState(1),[T,H]=b.useState(!1),[$,Y]=b.useState(null),[K,re]=b.useState(""),[oe,ue]=b.useState(!1);console.log("PAYMENT METHOD FORM DEBUG:",{availablePaymentMethods:u,availablePaymentMethodsType:typeof u,availablePaymentMethodsIsArray:Array.isArray(u),availablePaymentMethodsLength:u==null?void 0:u.length,timestamp:new Date().toISOString()});const be=[{id:"card",label:"Cartão de Crédito",icon:"credit-card"},{id:"pix",label:"PIX",icon:"pix"}];console.log("FIXED PAYMENT METHODS (ALWAYS AVAILABLE):",{availablePaymentMethods:u,fixedPaymentMethods:be.map(je=>je.id),count:be.length,note:"PIX and card will always be available (boleto removed)",timestamp:new Date().toISOString()}),console.log("🔧 PAYMENT FORM VALIDATION PROPS:",{termsAccepted:c,pixFormValid:d,allFormsValid:y,isPaymentInfoFormValid:w,isCardFormValid:k,processing:i,paymentMethod:r,timestamp:new Date().toISOString()});const Ce=je=>{const{name:fe,value:Re}=je.target,He={...S,[fe]:Re};N(He),v&&v(He)},Se=()=>{s&&navigator.clipboard.writeText(s).then(()=>{D(!0),setTimeout(()=>D(!1),3e3)}).catch(je=>{console.error("Erro ao copiar código PIX:",je)})},De=()=>{M(!0),z(45);const je=setInterval(()=>{z(fe=>fe<=1?(clearInterval(je),M(!1),0):fe-1)},1e3);W(je)};n&&F&&(()=>{V&&(clearInterval(V),W(null)),M(!1),z(0)})();const _e=je=>{const fe=Math.floor(je/60),Re=je%60;return`${fe.toString().padStart(2,"0")}:${Re.toString().padStart(2,"0")}`},le=async()=>{r==="card"&&Z.current?(console.log("HANDLING CARD PAYMENT:",{paymentMethod:r,stripeRefExists:!!Z.current,timestamp:new Date().toISOString()}),await Z.current.submitPayment()):(console.log("HANDLING NON-CARD PAYMENT:",{paymentMethod:r,timestamp:new Date().toISOString()}),p({preventDefault:()=>{}}))};b.useEffect(()=>{const je=dCe(S.cardNumber);re(je),ue(S.cardNumber.replace(/\D/g,"").length>=13&&je!=="desconhecida")},[S.cardNumber]),b.useEffect(()=>{async function je(){var fe;H(!0),Y(null);try{if(!K||!oe||!t)return;const Re=await cCe(t,K);O(Re),Q(((fe=Re[0])==null?void 0:fe.installments)||1)}catch(Re){Y(Re.message||"Erro ao buscar opções de parcelamento")}finally{H(!1)}}r==="card"&&K&&oe&&t>0?je():O([])},[K,oe,t,r]);const ut=A!==void 0?A:q,rt=je=>{E&&E(je),Q(je)};return l.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-xl border border-gray-200 dark:border-gray-800",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("svg",{className:"w-6 h-6 mr-2 text-gray-800 dark:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white",children:"Método de pagamento"})]}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Selecione seu método de pagamento preferido"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"flex flex-wrap gap-4 mb-6",children:be.map(je=>{const fe=r===je.id;return l.jsxs("button",{type:"button",onClick:()=>h(je.id),className:`flex items-center gap-2 px-4 py-3 rounded-lg border transition-colors duration-150
                  ${fe?"border-brand-500 bg-brand-50 dark:bg-brand-900/20 dark:border-brand-400":"border-gray-200 hover:border-brand-500 dark:border-gray-700 dark:hover:border-brand-400"}
                `,children:[je.id==="card"&&l.jsxs("svg",{className:`w-6 h-6 ${fe?"text-brand-500 dark:text-brand-400":"text-gray-500 dark:text-gray-300"}`,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M4 5C2.89543 5 2 5.89543 2 7V17C2 18.1046 2.89543 19 4 19H20C21.1046 19 22 18.1046 22 17V7C22 5.89543 21.1046 5 20 5H4ZM4 7H20V9H4V7ZM4 11H20V17H4V11Z"}),l.jsx("path",{d:"M6 14H10V15H6V14Z"})]}),je.id==="pix"&&l.jsxs("svg",{className:`w-6 h-6 ${fe?"text-brand-500 dark:text-brand-400":"text-gray-500 dark:text-gray-300"}`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M12 4L4 8L12 12L20 8L12 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 16L12 20L20 16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 12L12 16L20 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),je.id==="boleto"&&l.jsxs("svg",{className:`w-6 h-6 ${fe?"text-brand-500 dark:text-brand-400":"text-gray-500 dark:text-gray-300"}`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M4 6H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M4 10H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M4 14H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M4 18H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),l.jsx("span",{className:`${fe?"text-brand-500 dark:text-brand-400":"text-gray-700 dark:text-gray-200"} font-medium`,children:je.label})]},je.id)})}),o&&l.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/10 dark:text-error-300",children:o}),r==="card"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mt-6     rounded-lg",children:e?l.jsx(I$,{stripe:e,children:l.jsx(oCe,{ref:Z,amount:t,currency:"brl",onSuccess:g,onError:m})}):l.jsxs("form",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Me,{children:"Nome no cartão"}),l.jsx(st,{type:"text",name:"cardholderName",value:S.cardholderName,onChange:Ce,placeholder:"Nome como aparece no cartão",required:!0})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Número do cartão"}),l.jsx(Du,{mask:"9999 9999 9999 9999",value:S.cardNumber,onChange:Ce,name:"cardNumber",placeholder:"0000 0000 0000 0000",className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Me,{children:"Data de expiração"}),l.jsx(Du,{mask:"99/99",value:S.cardExpiry,onChange:Ce,name:"cardExpiry",placeholder:"MM/AA",className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",required:!0})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"Código de segurança"}),l.jsx(Du,{mask:"999",value:S.cardCvc,onChange:Ce,name:"cardCvc",placeholder:"CVC",className:"h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",required:!0})]})]}),l.jsxs("div",{children:[l.jsx(Me,{children:"País"}),l.jsx(or,{options:[{value:"BR",label:"Brasil"},{value:"US",label:"Estados Unidos"},{value:"CA",label:"Canadá"},{value:"MX",label:"México"},{value:"AR",label:"Argentina"},{value:"CL",label:"Chile"},{value:"CO",label:"Colômbia"},{value:"PE",label:"Peru"},{value:"UY",label:"Uruguai"}],value:S.country,onChange:je=>{const fe={...S,country:je};N(fe),v&&v(fe)}})]})]})}),K&&oe?T?l.jsx("div",{className:"my-4 text-sm text-gray-500 dark:text-gray-300",children:"Carregando opções de parcelamento..."}):$?l.jsx("div",{className:"my-4 text-sm text-error-500 dark:text-error-300 dark:bg-error-500/10 dark:rounded",children:$}):R.length>0?l.jsx(lCe,{options:R,selected:ut,onSelect:rt}):l.jsx("div",{className:"my-4 text-sm text-gray-500",children:"Nenhuma opção de parcelamento disponível para esta bandeira/valor."}):l.jsx("div",{className:"my-4 text-sm text-gray-500",children:"Digite o número do cartão para ver as opções de parcelamento."}),l.jsxs("div",{className:"mb-4 flex flex-col items-start mt-6",children:[l.jsx(Ou,{checked:c,onChange:f,label:l.jsxs("span",{children:["Eu aceito os"," ",l.jsx("button",{type:"button",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"termos e condições"})]})}),!c&&l.jsx("div",{className:"text-error-500 text-sm mt-1 dark:text-error-300 dark:bg-error-500/10 dark:rounded",children:"Por favor, aceite os termos e condições para continuar"})]}),l.jsx("button",{type:"button",onClick:()=>{console.log("💳 CARD BUTTON CLICKED:",{processing:i,termsAccepted:c,isPaymentInfoFormValid:w,isCardFormValid:k,bothFormsValid:w&&k,disabled:i||!c||!w||!k,timestamp:new Date().toISOString()}),le()},disabled:i||!c||!w||!k,className:"w-full px-4 py-3 bg-brand-500 text-white rounded-lg hover:bg-brand-600 transition-colors disabled:bg-brand-300 flex items-center justify-center gap-2",children:i?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{opacity:"0.5",cx:"10",cy:"10",r:"8.75",stroke:"white",strokeWidth:"2.5"}),l.jsx("mask",{id:"path-2-inside-1_3755_26472",fill:"white",children:l.jsx("path",{d:"M18.2372 12.9506C18.8873 13.1835 19.6113 12.846 19.7613 12.1719C20.0138 11.0369 20.0672 9.86319 19.9156 8.70384C19.7099 7.12996 19.1325 5.62766 18.2311 4.32117C17.3297 3.01467 16.1303 1.94151 14.7319 1.19042C13.7019 0.637155 12.5858 0.270357 11.435 0.103491C10.7516 0.00440265 10.179 0.561473 10.1659 1.25187V1.25187C10.1528 1.94226 10.7059 2.50202 11.3845 2.6295C12.1384 2.77112 12.8686 3.02803 13.5487 3.39333C14.5973 3.95661 15.4968 4.76141 16.1728 5.74121C16.8488 6.721 17.2819 7.84764 17.4361 9.02796C17.5362 9.79345 17.5172 10.5673 17.3819 11.3223C17.2602 12.002 17.5871 12.7178 18.2372 12.9506V12.9506Z"})}),l.jsx("path",{d:"M18.2372 12.9506C18.8873 13.1835 19.6113 12.846 19.7613 12.1719C20.0138 11.0369 20.0672 9.86319 19.9156 8.70384C19.7099 7.12996 19.1325 5.62766 18.2311 4.32117C17.3297 3.01467 16.1303 1.94151 14.7319 1.19042C13.7019 0.637155 12.5858 0.270357 11.435 0.103491C10.7516 0.00440265 10.179 0.561473 10.1659 1.25187V1.25187C10.1528 1.94226 10.7059 2.50202 11.3845 2.6295C12.1384 2.77112 12.8686 3.02803 13.5487 3.39333C14.5973 3.95661 15.4968 4.76141 16.1728 5.74121C16.8488 6.721 17.2819 7.84764 17.4361 9.02796C17.5362 9.79345 17.5172 10.5673 17.3819 11.3223C17.2602 12.002 17.5871 12.7178 18.2372 12.9506V12.9506Z",stroke:"white",strokeWidth:"4",mask:"url(#path-2-inside-1_3755_26472)"})]})}),"Processando..."]}):`Pagar ${Vf(a)}`})]}),r==="pix"&&l.jsxs("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg mb-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-4 text-center",children:"Pagamento via PIX"}),l.jsxs("div",{className:"mb-4 flex flex-col items-center",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:c,onChange:je=>f(je.target.checked),className:"form-checkbox mr-2 h-4 w-4 rounded border-gray-300 text-brand-500 focus:ring-brand-500 dark:border-gray-700 dark:bg-gray-900"}),l.jsxs("span",{className:"text-gray-700 dark:text-gray-200",children:["Eu aceito os"," ",l.jsx("button",{type:"button",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"termos e condições"})]})]}),!c&&l.jsx("div",{className:"text-error-500 text-sm mt-1 dark:text-error-300 dark:bg-error-500/10 dark:rounded",children:"Por favor, aceite os termos e condições para continuar"})]}),l.jsxs("div",{className:"flex items-center justify-center gap-4",children:[l.jsx("button",{type:"button",onClick:()=>{console.log("🎯 PIX BUTTON CLICKED:",{processing:i,isGeneratingQrCode:F,termsAccepted:c,isPaymentInfoFormValid:w,disabled:i||F||!c||!w,timestamp:new Date().toISOString()}),De(),x&&x()},disabled:i||F||!c||!w,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:i||F?"Gerando QR Code...":"Gerar QR Code PIX"}),F&&l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-orange-100 text-orange-800 rounded-lg border border-orange-200 dark:bg-yellow-900/40 dark:text-yellow-200 dark:border-yellow-900/40",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:"text-sm font-mono font-medium",children:_e(B)}),l.jsx("span",{className:"text-xs",children:"restante"})]})]}),F&&l.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-300 mt-3",children:"⏳ Aguardando processamento PIX (pode levar até 2 minutos em produção)"}),l.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-6",children:n?"Escaneie o QR Code abaixo com o aplicativo do seu banco para pagar":"Preencha seus dados e clique em 'Gerar QR Code PIX' para continuar"}),l.jsx("div",{className:"flex justify-center mb-6",children:n?l.jsx("img",{src:n,alt:"QR Code PIX",className:"w-48 h-48 border border-gray-200 dark:border-gray-700 p-2 rounded"}):l.jsx("div",{className:"w-48 h-48 bg-gray-100 dark:bg-gray-800 flex items-center justify-center rounded",children:l.jsx("span",{className:"text-gray-400 dark:text-gray-300",children:"Gerando código..."})})}),l.jsxs("div",{className:"mb-6",children:[l.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Ou copie e cole o código abaixo no seu aplicativo bancário:"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-3 rounded text-center",children:l.jsx("p",{className:"text-sm font-mono break-all select-all overflow-hidden",children:s||"Gerando código..."})}),l.jsx("button",{type:"button",onClick:Se,className:"absolute right-2 top-1/2 transform -translate-y-1/2 px-2 py-1 bg-brand-500 text-white text-xs rounded",children:L?"Copiado!":"Copiar"})]})]}),l.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/40 p-4 rounded-lg mb-6",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("svg",{className:"w-5 h-5 text-yellow-600 dark:text-yellow-200 mt-0.5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Importante"}),l.jsxs("ul",{className:"mt-1 text-sm text-yellow-700 dark:text-yellow-200 list-disc list-inside",children:[l.jsx("li",{children:"O pagamento via PIX é processado instantaneamente"}),l.jsx("li",{children:"O QR Code e o código PIX são válidos por 1 hora"}),l.jsx("li",{children:"Após o pagamento, você receberá um email de confirmação"}),l.jsx("li",{children:"Preencha seus dados reais para garantir a aprovação do pagamento"})]})]})]})})]}),r==="boleto"&&l.jsxs("div",{className:"p-6 border border-gray-200 dark:border-gray-700 rounded-lg mb-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-4",children:"Instruções para Boleto"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:'Após clicar em "Pagar", você receberá o boleto por email. O pagamento pode levar até 3 dias úteis para ser processado.'}),l.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-3 rounded mb-6",children:[l.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Valor: ",Vf(a)]}),l.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Vencimento:"," ",new Date(Date.now()+3*24*60*60*1e3).toLocaleDateString("pt-BR")]})]}),l.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/40 p-4 rounded-lg mb-6",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("svg",{className:"w-5 h-5 text-yellow-600 dark:text-yellow-200 mt-0.5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Importante"}),l.jsxs("ul",{className:"mt-1 text-sm text-yellow-700 dark:text-yellow-200 list-disc list-inside",children:[l.jsx("li",{children:"O boleto tem vencimento em 3 dias úteis"}),l.jsx("li",{children:"Após o pagamento, a compensação pode levar até 3 dias úteis"}),l.jsx("li",{children:"Você receberá o boleto por email"})]})]})]})})]})]}),r==="boleto"&&l.jsx("button",{type:"button",onClick:le,disabled:i||!c,className:"w-full px-4 py-3 bg-brand-500 text-white rounded-lg hover:bg-brand-600 transition-colors disabled:bg-brand-300",children:i?"Processando...":`Pagar ${Vf(a)}`})]})}const x8=({currentStep:r,paymentStatus:e,orderStatus:t,hasArticleDocument:n=!1,articleUrl:s,orderDate:a,showProgressOnly:i=!1,orderItems:o,refreshTrigger:c,orderId:d})=>{const u=Qn(),[h,f]=ht.useState(null),[p,g]=ht.useState([]),[m,v]=ht.useState(!0),[x,y]=ht.useState(null),[,w]=ht.useState(0);ht.useEffect(()=>{w(T=>T+1)},[c]);const k=u.pathname.includes("/success")||u.pathname.includes("/checkout/boleto-success")||u.pathname.includes("/checkout/payment")&&u.search.includes("success=true"),S=async()=>{v(!0),y(null);try{const{data:T,error:H}=await G.from("orders").select("*").eq("id",d).maybeSingle();if(H)throw H;f(T);const{data:$,error:Y}=await G.from("order_items").select("*").eq("order_id",d).order("created_at",{ascending:!0});if(Y)throw Y;g($||[])}catch(T){y(T.message||"Erro ao carregar progresso do pedido")}finally{v(!1)}};ht.useEffect(()=>{d&&S()},[d]),ht.useEffect(()=>{d&&c&&S()},[c,d]);const N=h?h?h.payment_status!=="paid"?2:p.every($=>$.article_document_path)?(p.every($=>$.article_url),4):3:1:r,A=h?h.payment_status:e,E=p.some(T=>T.article_document_path),R=p.some(T=>T.article_url)?"exists":void 0,O=h?h.created_at:a,L=T=>T<N?"completed":T===N?"current":"pending",D=T=>{switch(T){case 1:return"Pedido realizado";case 2:return A==="paid"?"Pagamento processado":A==="processing"?"Processando pagamento":"Aguardando pagamento";case 3:return E?"Artigo recebido":"Em preparação";case 4:return R?"Artigo publicado":"Aguardando";default:return""}},F=[{id:1,title:"Compra",description:D(1),icon:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3 h-3",children:l.jsx("path",{d:"M20 6 9 17l-5-5"})}),status:L(1)},{id:2,title:"Pagamento",description:D(2),icon:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3 h-3",children:l.jsx("path",{d:"M20 6 9 17l-5-5"})}),status:L(2)},{id:3,title:"Artigo",description:D(3),icon:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3 h-3",children:[l.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),l.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),l.jsx("path",{d:"M10 9H8"}),l.jsx("path",{d:"M16 13H8"}),l.jsx("path",{d:"M16 17H8"})]}),status:L(3)},{id:4,title:"Publicação",description:D(4),icon:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3 h-3",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}),l.jsx("path",{d:"M2 12h20"})]}),status:L(4)}];let M=0;const B=F.length-1;if(N===1)M=0;else if(N===2)M=1/B*100;else if(p&&p.length>0&&N===3){const T=p.length;M=(1+p.filter($=>$.article_document_path||$.article_doc&&typeof $.article_doc=="string"&&$.article_doc.includes("http")).length/T)/B*100}else if(p&&p.length>0&&N===4){const T=p.length;M=(2+p.filter($=>$.article_url).length/T)/B*100}else M=(N-1)/B*100;const z=M;let V=`${z}%`;Number.isInteger(M/(100/B))&&M!==0&&M!==100&&(V=`calc(${z}% - 12px)`);const Z=T=>{switch(T){case"completed":return{circle:"bg-green-500 border-green-500 text-white dark:bg-green-400 dark:border-green-400",title:"text-green-700 dark:text-green-400",description:"text-green-600 dark:text-green-500"};case"current":return{circle:"bg-blue-500 border-blue-500 text-white dark:bg-blue-400 dark:border-blue-400",title:"text-blue-700 dark:text-blue-400",description:"text-blue-600 dark:text-blue-500"};case"pending":return{circle:"bg-gray-200 border-gray-300 text-gray-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",title:"text-gray-600 dark:text-gray-400",description:"text-gray-500 dark:text-gray-500"}}},Q=N===1?{title:"Pedido Confirmado",timeEstimate:"Aguardando pagamento",details:O?`Pedido realizado em ${O}`:"Pedido realizado com sucesso"}:N===2?A==="processing"?{title:"Processando Pagamento",timeEstimate:"1-2 dias úteis",details:"Aguardando confirmação de pagamento"}:A==="paid"?{title:"Pagamento Confirmado",timeEstimate:"Processado com sucesso",details:"Pagamento aprovado e confirmado"}:{title:"Aguardando Pagamento",timeEstimate:"Pendente",details:"Aguardando confirmação de pagamento"}:N===3?E?{title:"Artigo Recebido",timeEstimate:"Em análise",details:"Artigo recebido e em processo de revisão"}:{title:"Preparação do Artigo",timeEstimate:"2-3 dias úteis",details:"Aguardando recebimento do artigo para publicação"}:N===4?R?{title:"Artigo Publicado",timeEstimate:"Concluído",details:"Artigo publicado com sucesso"}:{title:"Publicação do Artigo",timeEstimate:"3-5 dias úteis",details:"Aguardando publicação do artigo"}:null;return ht.useEffect(()=>{d&&p.length>0&&p.every(T=>T.article_url)&&JF(d,"completed")},[d,p]),m?l.jsx("div",{className:"flex items-center justify-center min-h-[60px]",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Carregando progresso..."})}):x?l.jsx("div",{className:"flex items-center justify-center min-h-[60px]",children:l.jsx("div",{className:"text-red-500 text-sm",children:x})}):l.jsxs("div",{className:`mb-6 p-3 rounded-lg border ${k?"bg-transparent border-transparent":"bg-gray-50 border-gray-100 dark:bg-gray-800/50 dark:border-gray-700"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Progresso do Pedido"}),l.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[N," de ",F.length," etapas"]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"flex items-center justify-between relative",children:[l.jsx("div",{className:"absolute top-3 left-0 right-0 h-0.5 bg-gray-300 dark:bg-gray-600"}),l.jsx("div",{className:"absolute top-3 left-0 h-0.5 bg-green-500 dark:bg-green-400 transition-all duration-1000 ease-out",style:{width:V}}),F.map(T=>{const H=Z(T.status);return l.jsxs("div",{className:"relative flex flex-col items-center",children:[l.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${H.circle}`,children:T.icon}),l.jsxs("div",{className:"mt-1 text-center",children:[l.jsx("div",{className:`font-medium text-xs ${H.title}`,children:T.title}),l.jsx("div",{className:`text-xs ${H.description}`,children:T.description})]})]},T.id)})]})," "]}),!i&&Q&&l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 dark:bg-blue-400 rounded-full animate-pulse"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:l.jsx("span",{className:"font-medium",children:Q.title})})]}),l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:Q.timeEstimate})]})})]})};function js(r,e="success"){if(typeof window<"u"&&window.document){const t=document.getElementById("orderitem-toast");t&&t.remove();const n=document.createElement("div");n.id="orderitem-toast",n.innerHTML=`
      <div class="flex items-center justify-between gap-3 w-full sm:max-w-[340px] rounded-md border-b-4 p-3 shadow-theme-sm bg-white dark:bg-gray-900 ${e==="success"?"border-success-500":"border-error-500"}">
        <div class="flex items-center gap-4">
          <div class="flex items-center justify-center w-10 h-10 rounded-lg ${e==="success"?"bg-success-50 text-success-500 dark:bg-success-500/20 dark:text-success-400":"bg-error-50 text-error-500 dark:bg-error-500/20 dark:text-error-400"}">
            ${e==="success"?`
              <svg class="size-5" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 22 22" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M2.70186 11.0001C2.70186 6.41711 6.41711 2.70186 11.0001 2.70186C15.5831 2.70186 19.2984 6.41711 19.2984 11.0001C19.2984 15.5831 15.5831 19.2984 11.0001 19.2984C6.41711 19.2984 2.70186 15.5831 2.70186 11.0001ZM11.0001 0.901855C5.423 0.901855 0.901855 5.423 0.901855 11.0001C0.901855 16.5772 5.423 21.0984 11.0001 21.0984C16.5772 21.0984 21.0984 16.5772 21.0984 11.0001C21.0984 5.423 16.5772 0.901855 11.0001 0.901855ZM14.6197 9.73951C14.9712 9.38804 14.9712 8.81819 14.6197 8.46672C14.2683 8.11525 13.6984 8.11525 13.347 8.46672L10.1894 11.6243L8.6533 10.0883C8.30183 9.7368 7.73198 9.7368 7.38051 10.0883C7.02904 10.4397 7.02904 11.0096 7.38051 11.3611L9.55295 13.5335C9.72174 13.7023 9.95065 13.7971 10.1894 13.7971C10.428 13.7971 10.657 13.7023 10.8257 13.5335L14.6197 9.73951Z" fill="currentColor"></path>
              </svg>
            `:`
              <svg class="size-5" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 22 22" fill="none">
                <circle cx="11" cy="11" r="10" fill="currentColor" fill-opacity="0.2" stroke="currentColor" stroke-width="1.5"/>
                <path d="M7.75 7.75L14.25 14.25M14.25 7.75L7.75 14.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
            `}
          </div>
          <div>
            <h4 class="text-sm text-gray-800 sm:text-base dark:text-white/90">${e==="success"?"Sucesso!":"Erro!"}</h4>
            <div class="text-xs text-gray-700 dark:text-gray-300 mt-1">${r}</div>
          </div>
        </div>
        <button class="text-gray-400 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white/90" id="orderitem-toast-close-btn">
          <svg class="size-6" width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M6.04289 16.5418C5.65237 16.9323 5.65237 17.5655 6.04289 17.956C6.43342 18.3465 7.06658 18.3465 7.45711 17.956L11.9987 13.4144L16.5408 17.9565C16.9313 18.347 17.5645 18.347 17.955 17.9565C18.3455 17.566 18.3455 16.9328 17.955 16.5423L13.4129 12.0002L17.955 7.45808C18.3455 7.06756 18.3455 6.43439 17.955 6.04387C17.5645 5.65335 16.9313 5.65335 16.5408 6.04387L11.9987 10.586L7.45711 6.04439C7.06658 5.65386 6.43342 5.65386 6.04289 6.04439C5.65237 6.43491 5.65237 7.06808 6.04289 7.4586L10.5845 12.0002L6.04289 16.5418Z" fill="currentColor"></path>
          </svg>
        </button>
      </div>
    `,n.style.position="fixed",n.style.top="80px",n.style.right="32px",n.style.zIndex="99999",n.style.maxWidth="340px",n.style.width="100%",n.style.opacity="1",n.style.transition="opacity 0.3s",n.style.pointerEvents="auto",n.style.backgroundColor="#fff",document.body.appendChild(n);const s=n.querySelector("#orderitem-toast-close-btn");s&&s.addEventListener("click",()=>{n.style.opacity="0",setTimeout(()=>n.remove(),400)}),setTimeout(()=>{n.style.opacity="0",setTimeout(()=>n.remove(),400)},2500)}}const Yl={async uploadArticleDocument(r,e,t){const{error:n}=await G.from("order_items").update({article_document_path:e,article_doc:t}).eq("id",r);if(n)throw js("Erro ao atualizar documento do artigo.","error"),n;js("Documento do artigo atualizado com sucesso!","success")},async getOrderItemWithOrder(r){const{data:e,error:t}=await G.from("order_items").select(`
        id,
        order_id,
        entry_id,
        product_name,
        product_url,
        quantity,
        unit_price,
        total_price,
        niche,
        service_content,
        created_at,
        article_document_path,
        article_doc,
        article_url_status,
        publication_status,
        article_url,
        orders!inner(
          id,
          user_id
        )
      `).eq("id",r).single();if(t)throw js("Erro ao buscar item do pedido.","error"),t;return js("Item do pedido carregado com sucesso!","success"),e},async createOrderItem(r){const{data:e,error:t}=await G.from("order_items").insert([r]).select().single();if(t)throw js("Erro ao criar item do pedido.","error"),t;return js("Item do pedido criado com sucesso!","success"),e},async getOrderItemById(r){const{data:e,error:t}=await G.from("order_items").select(`
        id,
        order_id,
        entry_id,
        product_name,
        product_url,
        quantity,
        unit_price,
        total_price,
        niche,
        service_content,
        created_at,
        article_document_path,
        article_doc,
        article_url_status,
        publication_status,
        article_url,
        outline
      `).eq("id",r).single();if(t)throw js("Erro ao buscar item do pedido.","error"),t;return js("Item do pedido carregado com sucesso!","success"),e},async updateOrderItem(r,e){const{data:t,error:n}=await G.from("order_items").update(e).eq("id",r).select().single();if(n)throw js("Erro ao atualizar item do pedido.","error"),n;return js("Item do pedido atualizado com sucesso!","success"),t},async deleteOrderItem(r){const{error:e}=await G.from("order_items").delete().eq("id",r);if(e)throw js("Erro ao deletar item do pedido.","error"),e;return js("Item do pedido deletado com sucesso!","success"),!0},async updateOrderItemOutline(r,e){try{const{data:t,error:n}=await G.from("order_items").update({outline:e}).eq("id",r).select().single();if(n)throw console.error("Erro ao salvar pauta:",n),js("Erro ao salvar pauta do artigo.","error"),n;return js("Pauta do artigo salva com sucesso!","success"),t}catch(t){throw console.error("Erro ao atualizar outline:",t),js("Erro ao salvar pauta do artigo.","error"),t}},async listOrderItemsByOrder(r){const{data:e,error:t}=await G.from("order_items").select(`
        id,
        order_id,
        entry_id,
        product_name,
        product_url,
        quantity,
        unit_price,
        total_price,
        niche,
        service_content,
        created_at,
        article_document_path,
        article_doc,
        article_url_status,
        publication_status,
        article_url,
        outline
      `).eq("order_id",r);if(t)throw js("Erro ao listar itens do pedido.","error"),t;return js("Itens do pedido carregados com sucesso!","success"),e}},hCe=["paid","approved","succeeded"];function fCe({orderId:r,onPixPaid:e}){const t=Sr(),n=b.useRef(null),s=b.useRef(!1);return b.useEffect(()=>{if(!r)return;s.current=!1;async function a(){const{data:i,error:o}=await G.from("orders").select("id, payment_status, payment_method").eq("id",r).maybeSingle();if(o){console.error("Erro ao buscar status do pedido PIX:",o);return}i&&hCe.includes(i.payment_status)&&(s.current||(s.current=!0,e()))}return n.current=setInterval(a,5e3),a(),()=>{n.current&&clearInterval(n.current),s.current=!0}},[r,e,t]),null}function F$(r,e){const t=r.replace(/\D/g,""),n=e==="business",s=n?"cnpj":"cpf",a=n?14:11,i=n?"company":"individual";return!t||t.length!==a?{isValid:!1,documentType:s,expectedLength:a,customerType:i,error:`${s.toUpperCase()} deve ter ${a} dígitos. Recebido: ${t.length} dígitos`}:{isValid:!0,documentType:s,expectedLength:a,customerType:i}}function pCe(r){const e=r?r.replace(/\D/g,""):"11987654321";return e.length<10?"11987654321":e}function AS(r){return r.replace(/\D/g,"")}function gCe(r){var t,n,s,a;const e=[];if((t=r.name)!=null&&t.trim()||e.push("Nome é obrigatório"),(n=r.email)!=null&&n.trim()||e.push("Email é obrigatório"),(s=r.document)!=null&&s.trim()||e.push("Documento é obrigatório"),(a=r.phone)!=null&&a.trim()||e.push("Telefone é obrigatório"),r.legal_status||e.push("Tipo de pessoa é obrigatório"),r.document){const i=F$(r.document,r.legal_status);i.isValid||e.push(i.error||"Documento inválido")}return{isValid:e.length===0,errors:e}}function jl(r){return Math.round(r*100)}function mCe(r,e){const t=F$(e,r);return{customer_legal_status:r,customer_document:e,customer_document_clean:AS(e),customer_document_length:AS(e).length,expected_document_type:t.documentType,expected_customer_type:t.customerType,validation_passed:t.isValid,validation_error:t.error||null,timestamp:new Date().toISOString()}}async function xCe(r){try{const{data:e,error:t}=await G.from("payments").insert([r]).select().single();return t?(console.error("Erro ao criar pagamento PIX:",t),null):e}catch(e){return console.error("Erro ao criar pagamento PIX:",e),null}}const mu=class mu{static getInstance(){return mu.instance||(mu.instance=new mu),mu.instance}async generateQrCode(e,t,n){var s,a;try{console.log("🚀 [PIX MODULAR] Iniciando geração do QR Code:",{orderId:n,totalFinalPrice:t.totalFinalPrice,itemsCount:t.items.length}),console.log("📊 [PIX PAYLOAD] === DADOS DE ENTRADA ===",{timestamp:new Date().toISOString(),customerData:{name:e.name,email:e.email,document:e.document,legal_status:e.legal_status,phone:e.phone,company_name:e.company_name},orderSummary:{totalProductPrice:t.totalProductPrice,totalContentPrice:t.totalContentPrice,totalFinalPrice:t.totalFinalPrice,appliedCouponId:t.appliedCouponId,discountValue:t.discountValue,itemsCount:((s=t.items)==null?void 0:s.length)||0,items_preview:(a=t.items)==null?void 0:a.map(p=>({entry_id:p.entry_id,product_url:p.product_url,price:p.price,quantity:p.quantity||1}))},orderId:n});const i=gCe(e);if(!i.isValid)throw new Error(`Dados inválidos: ${i.errors.join(", ")}`);const o=t.totalFinalPrice;console.log("💰 [PIX PAYLOAD] === CÁLCULO DO VALOR TOTAL ===",{timestamp:new Date().toISOString(),valores_originais:{totalProductPrice_reais:t.totalProductPrice,totalContentPrice_reais:t.totalContentPrice,totalFinalPrice_reais:t.totalFinalPrice,discountValue_reais:t.discountValue||0},verificacao_calculo:{produto_mais_conteudo:t.totalProductPrice+t.totalContentPrice,total_final_usado:o,diferenca:t.totalProductPrice+t.totalContentPrice-o,possui_desconto:t.totalProductPrice+t.totalContentPrice!==o,desconto_aplicado:t.appliedCouponId?"SIM":"NÃO"},conversao_centavos:{total_amount_reais:o,total_amount_cents:jl(o),metodo_conversao:"convertToCents(totalAmount) = Math.round(totalAmount * 100)"}});const c=this.prepareOrderItems(t),d=mCe(e.legal_status,e.document);console.log("🐛 [PIX MODULAR] Debug Info:",d),console.log("📦 [PIX PAYLOAD] === ITEMS DO PEDIDO ===",{timestamp:new Date().toISOString(),items_originais:t.items.map((p,g)=>({index:g,entry_id:p.entry_id,product_url:p.product_url,price_original_reais:p.price,quantity:p.quantity||1})),items_processados:c.map((p,g)=>({index:g,description:p.description,amount_cents:p.amount,amount_reais:p.amount/100,quantity:p.quantity,code:p.code})),totalizacao:{soma_items_cents:c.reduce((p,g)=>p+g.amount,0),soma_items_reais:c.reduce((p,g)=>p+g.amount,0)/100,total_final_esperado_cents:jl(o),total_final_esperado_reais:o,valores_conferem:c.reduce((p,g)=>p+g.amount,0)===jl(o)}});const u={amount:jl(o),customer_name:e.name,customer_email:e.email,customer_document:AS(e.document),customer_phone:pCe(e.phone),customer_legal_status:e.legal_status,customer_company_name:e.company_name,order_id:n,order_items:c};console.log("🚀 [PIX PAYLOAD] === PAYLOAD FINAL PAGARME ===",{timestamp:new Date().toISOString(),url_destino:"https://uxbeaslwirkepnowydfu.supabase.co/functions/v1/pagarme-pix-payment",payload_estrutura:{amount_cents:u.amount,amount_reais:u.amount/100,customer_data:{name:u.customer_name,email:u.customer_email,document:u.customer_document,phone:u.customer_phone,legal_status:u.customer_legal_status,company_name:u.customer_company_name},order_info:{order_id:u.order_id,items_count:u.order_items.length,items_total_cents:u.order_items.reduce((p,g)=>p+g.amount,0),items_total_reais:u.order_items.reduce((p,g)=>p+g.amount,0)/100}},verificacao_integridade:{amount_igual_items:u.amount===u.order_items.reduce((p,g)=>p+g.amount,0),todos_campos_preenchidos:{amount:!!u.amount,customer_name:!!u.customer_name,customer_email:!!u.customer_email,customer_document:!!u.customer_document,order_id:!!u.order_id,order_items_length:u.order_items.length>0}},comparacao_com_problema_original:{campo_valor_incluido:!!u.amount,campo_conteudo_via_items:u.order_items.some(p=>p.code==="CONTENT_TOTAL"||p.description.toLowerCase().includes("conteudo")||p.description.toLowerCase().includes("content")||p.description.toLowerCase().includes("extra")),items_sinteticos_corretos:u.order_items.every(p=>p.code==="PRODUCT_TOTAL"||p.code==="CONTENT_TOTAL"),problema_resolvido:!!u.amount&&u.order_items.some(p=>p.code==="CONTENT_TOTAL")&&u.amount===u.order_items.reduce((p,g)=>p+g.amount,0)}}),console.log("📤 [PIX PAYLOAD] Payload completo que será enviado:",JSON.stringify(u,null,2)),console.log("💰 [PIX MODULAR] Valores calculados:",{totalAmount_reais:o,totalAmount_cents:jl(o),orderItemsTotal_cents:c.reduce((p,g)=>p+g.amount,0),itemsCount:c.length,totalProductPrice:t.totalProductPrice,totalContentPrice:t.totalContentPrice});const{data:{user:h}}=await G.auth.getUser();h&&await xCe({user_id:h.id,order_id:n,amount:jl(o),status:"pending"});const f=await this.sendToPagarMe(u);return console.log("📡 [PIX MODULAR] Resposta do PagarMe:",{success:f.success,hasQrCode:!!f.qr_code,hasQrCodeUrl:!!f.qr_code_url,error:f.error}),f}catch(i){return console.error("❌ [PIX MODULAR] Erro:",i),{success:!1,error:i.message||"Erro ao gerar QR Code PIX"}}}prepareOrderItems(e){var c,d;const t=e.totalProductPrice+e.totalContentPrice,n=e.totalFinalPrice,s=t>0?n/t:1;console.log("🧮 [PIX ITEMS] === CÁLCULO DE DESCONTO ===",{timestamp:new Date().toISOString(),valores_base:{totalProductPrice:e.totalProductPrice,totalContentPrice:e.totalContentPrice,totalOriginal:t,totalWithDiscount:n,discountValue:e.discountValue||0},calculo_desconto:{discountRatio:s,percentual_desconto:(1-s)*100,valor_desconto_calculado:t-n,valor_desconto_informado:e.discountValue||0,desconto_aplicado:s<1},coupon_info:{appliedCouponId:e.appliedCouponId,hasCoupon:!!e.appliedCouponId},problema_identificado:{items_carrinho_count:((c=e.items)==null?void 0:c.length)||0,soma_items_carrinho:((d=e.items)==null?void 0:d.reduce((u,h)=>u+(Number(h.price)||0),0))||0,total_product_price:e.totalProductPrice,total_content_price:e.totalContentPrice,items_nao_representam_totais:!0}});const a=[];if(e.totalProductPrice>0){const u=e.totalProductPrice*s,h={amount:jl(u),description:"Produtos do Marketplace",quantity:1,code:"PRODUCT_TOTAL"};a.push(h),console.log("📦 [PIX ITEMS] Item PRODUTO sintético criado:",{valor_original_reais:e.totalProductPrice,valor_com_desconto_reais:u,valor_final_cents:h.amount,tipo:"PRODUTO"})}if(e.totalContentPrice>0){const u=e.totalContentPrice*s,h={amount:jl(u),description:"Conteúdo Extra do Marketplace",quantity:1,code:"CONTENT_TOTAL"};a.push(h),console.log("📦 [PIX ITEMS] Item CONTEÚDO sintético criado:",{valor_original_reais:e.totalContentPrice,valor_com_desconto_reais:u,valor_final_cents:h.amount,tipo:"CONTEUDO",problema_resolvido:!0})}const i=a.reduce((u,h)=>u+h.amount,0),o=jl(n);return console.log("✅ [PIX ITEMS] === VERIFICAÇÃO FINAL ===",{timestamp:new Date().toISOString(),items_gerados:a.length,items_detalhados:a.map((u,h)=>({index:h+1,description:u.description,amount_cents:u.amount,amount_reais:u.amount/100,code:u.code})),totalizacao:{soma_items_cents:i,soma_items_reais:i/100,total_esperado_cents:o,total_esperado_reais:n,valores_conferem:i===o,diferenca_cents:Math.abs(i-o)},solucao_aplicada:{problema_original:"Items do carrinho não incluíam valor do conteúdo",solucao:"Items sintéticos baseados em total_product_price + total_content_price",conteudo_incluido:e.totalContentPrice>0,problema_resolvido:i===o}}),a}async sendToPagarMe(e){var a,i;const{data:{session:t}}=await G.auth.getSession();if(!t)throw new Error("Sessão não encontrada");console.log("🚀 [PIX PAGARME] === ENVIANDO PARA PAGARME ===",{timestamp:new Date().toISOString(),url:"https://uxbeaslwirkepnowydfu.supabase.co/functions/v1/pagarme-pix-payment",request_overview:{amount_cents:e.amount,amount_reais:e.amount/100,order_id:e.order_id,customer_legal_status:e.customer_legal_status,customer_name:e.customer_name,customer_email:e.customer_email,items_count:e.order_items.length,items_total_cents:e.order_items.reduce((o,c)=>o+c.amount,0)},request_payload_detalhado:e});const n=await fetch("https://uxbeaslwirkepnowydfu.supabase.co/functions/v1/pagarme-pix-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`},body:JSON.stringify(e)});console.log("📡 [PIX PAGARME] === RESPOSTA HTTP RECEBIDA ===",{timestamp:new Date().toISOString(),http_status:n.status,http_statusText:n.statusText,response_ok:n.ok,headers:Object.fromEntries(n.headers.entries())});let s;try{if(s=await n.json(),console.log("📋 [PIX PAGARME] === RESPOSTA JSON PARSEADA ===",{timestamp:new Date().toISOString(),response_structure:{success:s.success,has_qr_code:!!s.qr_code,has_qr_code_url:!!s.qr_code_url,has_error:!!s.error,has_raw_response:!!s.raw_response},response_content:s}),(i=(a=s.raw_response)==null?void 0:a.charges)!=null&&i[0]){const o=s.raw_response.charges[0];console.log("💰 [PIX PAGARME] === ANÁLISE DE VALORES NA RESPOSTA ===",{timestamp:new Date().toISOString(),valores_enviados:{amount_cents:e.amount,amount_reais:e.amount/100,items_total_cents:e.order_items.reduce((c,d)=>c+d.amount,0)},valores_recebidos:{charge_amount_cents:o.amount,charge_amount_reais:o.amount/100,charge_id:o.id,charge_status:o.status,payment_method:o.payment_method},conferencia:{valores_coincidem:e.amount===o.amount,diferenca_cents:Math.abs(e.amount-o.amount),problema_valor_resolvido:e.amount===o.amount&&e.amount>0}})}}catch(o){throw console.error("❌ [PIX PAGARME] Erro ao parsear JSON da resposta:",o),new Error("Resposta inválida do servidor PIX")}if(console.log("📋 [PIX MODULAR] Resposta detalhada:",{status:n.status,statusText:n.statusText,success:s.success,timestamp:new Date().toISOString()}),!n.ok)throw new Error(s.error||s.message||"Erro ao gerar PIX");return s}};hr(mu,"instance");let TS=mu;function vCe(){const[r,e]=b.useState({qrCodeUrl:null,copiaECola:null,isGenerating:!1,error:null}),t=TS.getInstance(),n=b.useCallback(async(o,c,d)=>{try{e(h=>({...h,isGenerating:!0,error:null})),console.log("🔄 [PIX HOOK] Iniciando geração do QR Code...");const u=await t.generateQrCode(o,c,d);if(u.success&&u.qr_code&&u.qr_code_url)return e({qrCodeUrl:u.qr_code_url,copiaECola:u.qr_code,isGenerating:!1,error:null}),console.log("✅ [PIX HOOK] QR Code gerado com sucesso"),u;throw new Error(u.error||"Falha ao gerar QR Code PIX")}catch(u){console.error("❌ [PIX HOOK] Erro:",u);const h=u.message||"Erro ao gerar QR code PIX";throw e(f=>({...f,isGenerating:!1,error:h})),u}},[t]),s=b.useCallback(async()=>{if(!r.copiaECola)return!1;try{return await navigator.clipboard.writeText(r.copiaECola),console.log("📋 [PIX HOOK] Código PIX copiado com sucesso"),!0}catch(o){return console.error("❌ [PIX HOOK] Erro ao copiar código PIX:",o),!1}},[r.copiaECola]),a=b.useCallback(()=>{e({qrCodeUrl:null,copiaECola:null,isGenerating:!1,error:null})},[]),i=b.useCallback(()=>{a()},[a]);return{pixQrCodeUrl:r.qrCodeUrl,pixCopiaECola:r.copiaECola,pixProcessing:r.isGenerating,pixError:r.error,generatePixQrCode:n,copyPixCode:s,clearPixData:a,resetPixState:i,pixService:t}}const wP={400:"Requisição inválida. Verifique os dados enviados.",401:"Erro de autenticação. Configuração do sistema inválida.",403:"Acesso negado. Entre em contato com o suporte.",404:"Recurso não encontrado.",412:"Parâmetros válidos mas a requisição falhou. Tente novamente.",422:"Dados inválidos. Verifique as informações do cartão e tente novamente.",429:"Muitas tentativas. Aguarde alguns minutos e tente novamente.",500:"Erro interno do servidor. Tente novamente em alguns minutos."},yCe={"The request is invalid":{message:"Os dados do cartão estão incorretos. Verifique todas as informações e tente novamente.",type:"card"},"Customer not found":{message:"Cliente não encontrado. Tente novamente.",type:"system"},"The number field is not a valid card number":{message:"Número do cartão inválido. Verifique e tente novamente.",type:"card"},"The field number must be a string with a minimum length of 13 and a maximum length of 19":{message:"Número do cartão deve ter entre 13 e 19 dígitos.",type:"card"},"The name field is required":{message:"Nome do portador do cartão é obrigatório.",type:"validation"},"The items field is required":{message:"Itens do pedido são obrigatórios.",type:"validation"},"At least one customer phone is required":{message:"Telefone do cliente é obrigatório.",type:"validation"},card_declined:{message:"Cartão recusado. Verifique os dados ou tente outro cartão.",type:"card"},insufficient_funds:{message:"Saldo insuficiente no cartão.",type:"card"},expired_card:{message:"Cartão vencido. Use um cartão válido.",type:"card"},incorrect_cvc:{message:"Código de segurança (CVV) incorreto.",type:"card"},incorrect_number:{message:"Número do cartão incorreto.",type:"card"},invalid_expiry_date:{message:"Data de validade inválida.",type:"card"},processing_error:{message:"Erro no processamento. Tente novamente em alguns minutos.",type:"system"},issuer_unavailable:{message:"Banco emissor indisponível. Tente novamente mais tarde.",type:"system"},authentication_failed:{message:"Falha na autenticação do cartão. Verifique os dados.",type:"card"},limit_exceeded:{message:"Limite do cartão excedido.",type:"card"},restricted_card:{message:"Cartão com restrição para compras online.",type:"card"},invalid_merchant:{message:"Erro na configuração do comerciante. Entre em contato com o suporte.",type:"system"}},bCe={"order.customer.name":"Nome do cliente é obrigatório.","order.customer.email":"E-mail do cliente é obrigatório.","order.customer.document":"CPF/CNPJ é obrigatório.","order.payments[0].credit_card.card.number":"Número do cartão é obrigatório.","order.payments[0].credit_card.card.exp_month":"Mês de validade é obrigatório.","order.payments[0].credit_card.card.exp_year":"Ano de validade é obrigatório.","order.payments[0].credit_card.card.cvv":"Código de segurança (CVV) é obrigatório.","order.payments[0].credit_card.card.holder_name":"Nome no cartão é obrigatório.","card.number":"Número do cartão inválido.","card.exp_month":"Mês de validade inválido.","card.exp_year":"Ano de validade inválido.","card.cvv":"Código de segurança inválido.","card.holder_name":"Nome no cartão é obrigatório.","order.items":"Itens do pedido são obrigatórios.","billing_address.line_1":"Endereço de cobrança é obrigatório.","billing_address.zip_code":"CEP é obrigatório.","billing_address.city":"Cidade é obrigatória.","billing_address.state":"Estado é obrigatório.","billing_address.country":"País é obrigatório.","customer.phones":"Telefone é obrigatório."};function B$(r){var n;if(!r)return{message:"Erro desconhecido. Tente novamente.",type:"unknown"};const e=typeof r=="string"?r:r.message||"";if(r.status&&wP[r.status])return{message:wP[r.status],type:r.status===422?"validation":"system",originalMessage:e};for(const[s,a]of Object.entries(yCe))if(e.toLowerCase().includes(s.toLowerCase()))return{...a,originalMessage:e};if(r.errors&&typeof r.errors=="object"){const s=[];for(const[a,i]of Object.entries(r.errors))if(Array.isArray(i)&&i.length>0){const o=bCe[a];o?s.push(o):s.push(wCe(a,i[0]))}if(s.length>0)return{message:s.join(" "),type:"validation",originalMessage:e}}if((n=r.gateway_response)!=null&&n.errors&&Array.isArray(r.gateway_response.errors)){const s=r.gateway_response.errors.map(a=>a.message).map(a=>kCe(a)).join(" ");if(s)return{message:s,type:"card",originalMessage:e}}const t=[{pattern:/card.*decline/i,message:"Cartão recusado. Verifique os dados ou use outro cartão.",type:"card"},{pattern:/invalid.*card/i,message:"Dados do cartão inválidos.",type:"card"},{pattern:/expired/i,message:"Cartão vencido.",type:"card"},{pattern:/insufficient.*fund/i,message:"Saldo insuficiente.",type:"card"},{pattern:/cvv.*invalid/i,message:"Código de segurança inválido.",type:"card"},{pattern:/authentication.*fail/i,message:"Falha na autenticação. Verifique os dados do cartão.",type:"card"},{pattern:/timeout/i,message:"Tempo limite excedido. Tente novamente.",type:"system"},{pattern:/network.*error/i,message:"Erro de rede. Verifique sua conexão.",type:"system"},{pattern:/internal.*error/i,message:"Erro interno. Tente novamente em alguns minutos.",type:"system"}];for(const{pattern:s,message:a,type:i}of t)if(s.test(e))return{message:a,type:i,originalMessage:e};return{message:"Erro no processamento do pagamento. Verifique os dados do cartão e tente novamente.",type:"unknown",originalMessage:e}}function wCe(r,e){const t=r.split(".").pop()||r,s={name:"nome",email:"e-mail",number:"número do cartão",exp_month:"mês de validade",exp_year:"ano de validade",cvv:"código de segurança",holder_name:"nome no cartão",document:"CPF/CNPJ",phone:"telefone",address:"endereço",zip_code:"CEP",city:"cidade",state:"estado",country:"país"}[t]||t;return e.includes("required")?`Campo ${s} é obrigatório.`:e.includes("invalid")?`Campo ${s} é inválido.`:`Erro no campo ${s}.`}function kCe(r){return{"At least one customer phone is required":"Telefone é obrigatório.","Card declined":"Cartão recusado.","Insufficient funds":"Saldo insuficiente.","Invalid card number":"Número do cartão inválido.","Invalid expiration date":"Data de validade inválida.","Invalid security code":"Código de segurança inválido.","Expired card":"Cartão vencido.","Card not supported":"Cartão não suportado para este tipo de transação."}[r]||r}function CCe(r){return B$(r).type}const xu=class xu{constructor(){hr(this,"logs",[])}static getInstance(){return xu.instance||(xu.instance=new xu),xu.instance}logError(e,t){const n={id:this.generateId(),timestamp:new Date().toISOString(),error:e,context:t,severity:this.determineSeverity(e)};this.logs.push(n),this.logs.length>100&&(this.logs=this.logs.slice(-100)),this.sendToLoggingService(n)}getErrorStats(){const e={validation:0,card:0,system:0,unknown:0},t={low:0,medium:0,high:0,critical:0};return this.logs.forEach(n=>{e[n.error.type]++,t[n.severity]++}),{total:this.logs.length,byType:e,bySeverity:t,recentErrors:this.logs.slice(-10)}}clearOldLogs(e=24){const t=new Date(Date.now()-e*60*60*1e3);this.logs=this.logs.filter(n=>new Date(n.timestamp)>t)}generateId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}determineSeverity(e){switch(e.type){case"validation":return"low";case"card":return"medium";case"system":return"high";case"unknown":return"critical";default:return"medium"}}logToConsole(e){console.group(`${{low:"🟡",medium:"🟠",high:"🔴",critical:"🚨"}[e.severity]} Erro PagarMe [${e.severity.toUpperCase()}]`),console.log("ID:",e.id),console.log("Timestamp:",e.timestamp),console.log("Tipo:",e.error.type),console.log("Mensagem:",e.error.message),console.log("Componente:",e.context.component),console.log("Ação:",e.context.action),e.error.originalMessage&&console.log("Mensagem original:",e.error.originalMessage),e.error.actionRequired&&console.log("Ação requerida:",e.error.actionRequired),console.groupEnd()}sendToLoggingService(e){console.error("PagarMe Error:",{id:e.id,message:e.error.message,type:e.error.type,severity:e.severity,component:e.context.component,action:e.context.action})}};hr(xu,"instance");let PS=xu;function SCe(){const r=PS.getInstance();return{logError:(s,a,i,o)=>{const c={component:a,action:i,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,originalError:s.originalMessage||s,...o};r.logError(s,c)},getStats:()=>r.getErrorStats(),clearOldLogs:s=>r.clearOldLogs(s)}}const NCe={enableLogging:!0,enableRetryLogic:!0,maxRetryAttempts:3,retryDelayMs:2e3},vu=class vu{constructor(e={}){hr(this,"config");this.config={...NCe,...e}}static getInstance(e){return vu.instance||(vu.instance=new vu(e)),vu.instance}processError(e,t="unknown",n="payment"){const s=B$(e),a=CCe(e),i={message:s.message,type:a,isUserFriendly:!0,originalMessage:s.originalMessage,shouldRetry:this.shouldRetry(a),actionRequired:this.getActionRequired(a,e)};if(this.config.enableLogging){const{logError:o}=SCe();o(i,t,n)}return i}processMultipleErrors(e,t="unknown",n="payment"){return e.map(s=>this.processError(s,t,n))}getErrorSuggestion(e){const n={validation:{default:"Verifique se todos os campos obrigatórios estão preenchidos corretamente."},card:{card_declined:"Tente usar outro cartão ou entre em contato com seu banco.",insufficient_funds:"Verifique o saldo disponível ou use outro cartão.",expired_card:"Use um cartão válido com data de validade atual.",incorrect_cvc:"Verifique o código de segurança no verso do cartão.",incorrect_number:"Confirme se o número do cartão foi digitado corretamente.",default:"Verifique os dados do cartão ou tente com outro cartão."},system:{processing_error:"Aguarde alguns minutos e tente novamente.",issuer_unavailable:"O banco emissor está temporariamente indisponível.",default:"Tente novamente em alguns minutos ou entre em contato com o suporte."},unknown:{default:"Entre em contato com o suporte técnico informando o código do erro."}}[e.type];return n[e.actionRequired||"default"]||n.default}shouldRetry(e){return this.config.enableRetryLogic?e==="system":!1}getActionRequired(e,t){const n=((t==null?void 0:t.message)||"").toLowerCase();switch(e){case"validation":return"check_card_data";case"card":return n.includes("declined")||n.includes("insufficient")?"try_different_card":"check_card_data";case"system":return n.includes("timeout")||n.includes("unavailable")?"try_again_later":"contact_support";case"unknown":default:return"contact_support"}}formatErrorForUI(e){const t=this.getErrorSuggestion(e),n={validation:"Dados incompletos",card:"Problema com o cartão",system:"Erro temporário",unknown:"Erro inesperado"},s={validation:"warning",card:"error",system:"info",unknown:"error"};return{title:n[e.type],message:e.message,suggestion:t,type:s[e.type],showRetryButton:e.shouldRetry}}};hr(vu,"instance");let LS=vu;function ECe(r){const e=LS.getInstance(r);return{processError:(i,o,c)=>e.processError(i,o,c),processMultipleErrors:(i,o,c)=>e.processMultipleErrors(i,o,c),formatErrorForUI:i=>e.formatErrorForUI(i),getErrorSuggestion:i=>e.getErrorSuggestion(i)}}function _Ce(r={}){const{component:e="unknown",enableAutoRetry:t=!1,maxRetryAttempts:n=3,retryDelayMs:s=2e3,onError:a,onRetry:i}=r,{processError:o,formatErrorForUI:c}=ECe(),[d,u]=b.useState({error:null,isRetrying:!1,retryCount:0,hasError:!1}),h=b.useCallback((w,k="payment")=>{const S=o(w,e,k);u(N=>({...N,error:S,hasError:!0,isRetrying:!1})),a&&a(S),t&&S.shouldRetry&&d.retryCount<n&&setTimeout(()=>{f()},s)},[o,e,a,t,d.retryCount,n,s]),f=b.useCallback(()=>{u(w=>({...w,isRetrying:!0,retryCount:w.retryCount+1})),i&&i(),setTimeout(()=>{u(w=>({...w,isRetrying:!1}))},1e3)},[i]),p=b.useCallback(()=>{u({error:null,isRetrying:!1,retryCount:0,hasError:!1})},[]),g=b.useCallback(()=>{var w;return((w=d.error)==null?void 0:w.shouldRetry)&&d.retryCount<n&&!d.isRetrying},[d,n]),m=b.useCallback(()=>d.error?c(d.error):null,[d.error,c]),v=b.useCallback((w,k)=>async(...S)=>{try{return p(),await w(...S)}catch(N){return h(N,k),null}},[h,p]),x=b.useCallback(w=>{var k;return((k=d.error)==null?void 0:k.type)===w},[d.error]),y=b.useCallback(w=>{var k;return((k=d.error)==null?void 0:k.actionRequired)===w},[d.error]);return{...d,handleError:h,retry:f,clearError:p,canRetry:g(),formattedError:m(),withErrorHandling:v,isErrorType:x,requiresAction:y,isValidationError:x("validation"),isCardError:x("card"),isSystemError:x("system"),needsCardDataCheck:y("check_card_data"),needsDifferentCard:y("try_different_card"),needsToTryLater:y("try_again_later"),needsSupport:y("contact_support")}}function kP(r){let e=r;if(Array.isArray(e)&&e.length>0)if(typeof e[0]=="string")try{e=JSON.parse(e[0])}catch{e={}}else typeof e[0]=="object"&&(e=e[0]);else if(typeof e=="string")try{e=JSON.parse(e)}catch{e={}}return e==null?void 0:e.benefits}function jCe(){const r=Sr(),[e,t]=b.useState(!0),[n,s]=b.useState(null),[a,i]=b.useState(!1),[o,c]=b.useState("card"),[d,u]=b.useState(!1),[h,f]=b.useState(0),[p,g]=b.useState({name:"",email:"",address:"",city:"",state:"",zipCode:"",documentNumber:"",phone:"",legal_status:"individual",country:"BR",company_name:"",neighborhood:"",street:"",streetNumber:""}),m=_Ce({component:"Payment",enableAutoRetry:!1,onError:Ae=>{console.log("🔴 Erro PagarMe processado:",Ae),s(Ae.message)}}),[v,x]=b.useState(!1),[y,w]=b.useState({items:[],totalProductPrice:0,totalContentPrice:0,totalFinalPrice:0,appliedCouponId:null,discountValue:0}),{pixQrCodeUrl:k,pixCopiaECola:S,generatePixQrCode:N,clearPixData:A}=vCe(),[E,R]=b.useState(["card","pix","boleto"]),[O,L]=b.useState(null),[D,F]=b.useState([]),[M,B]=b.useState([]),[z,V]=b.useState([]),[W,Z]=b.useState(!1),[q,Q]=b.useState({cardNumber:"",cardExpiry:"",cardCvc:"",cardholderName:"",country:"BR"}),[T]=b.useState(()=>kp()),[H,$]=b.useState(1),[Y,K]=b.useState([]),[re,oe]=b.useState(!1),[ue,be]=b.useState(!1),Ce=N$({offsetTop:80,onlyOnDesktop:!0});b.useEffect(()=>{Se(),De(),_e(),at();const Ae=setTimeout(()=>{console.log("🔄 TIMEOUT: Recarregando order totals após delay"),De()},1e3);return()=>clearTimeout(Ae)},[]),b.useEffect(()=>{function Ae(){console.log("🔄 EVENT: order-totals-updated received, reloading order total"),De()}return window.addEventListener("order-totals-updated",Ae),()=>window.removeEventListener("order-totals-updated",Ae)},[]),b.useEffect(()=>{a&&O&&(Z(!0),Yl.listOrderItemsByOrder(O).then(Ae=>{F(Ae||[]);const he=(Ae||[]).filter(mt=>{const $e=kP(mt.service_content);return $e==null||Array.isArray($e)&&$e.length===0||typeof $e=="string"&&$e.trim()===""});B(he),V((Ae||[]).filter(mt=>!he.includes(mt)))}).finally(()=>Z(!1)))},[a,O]);async function Se(){var Ae;try{t(!0),s(""),console.log("LOADING PAYMENT SETTINGS:",{timestamp:new Date().toISOString(),message:"Starting to load payment settings from database"});const{data:he,error:mt}=await G.from("payment_settings").select("stripe_public_key, stripe_enabled, stripe_test_mode, currency, payment_methods").single();if(console.log("PAYMENT SETTINGS DATABASE RESPONSE:",{hasData:!!he,hasError:!!mt,stripeEnabled:he==null?void 0:he.stripe_enabled,hasStripeKey:!!(he!=null&&he.stripe_public_key),stripeKeyPrefix:(Ae=he==null?void 0:he.stripe_public_key)==null?void 0:Ae.substring(0,20),paymentMethods:he==null?void 0:he.payment_methods,timestamp:new Date().toISOString()}),mt)throw mt;if(he!=null&&he.stripe_enabled&&(he!=null&&he.stripe_public_key)?(console.log("INITIALIZING STRIPE:",{stripeEnabled:he.stripe_enabled,stripeKeyPrefix:he.stripe_public_key.substring(0,20),timestamp:new Date().toISOString()}),console.log("STRIPE INSTANCE CREATED:",{stripeInstanceCreated:!0,timestamp:new Date().toISOString()})):console.log("STRIPE NOT INITIALIZED:",{stripeEnabled:he==null?void 0:he.stripe_enabled,hasStripeKey:!!(he!=null&&he.stripe_public_key),reason:he!=null&&he.stripe_enabled?"No Stripe public key":"Stripe not enabled",timestamp:new Date().toISOString()}),he!=null&&he.payment_methods&&Array.isArray(he.payment_methods)&&he.payment_methods.length>0){const $e=he.payment_methods.filter(pt=>typeof pt=="string"&&["card","pix","boleto"].includes(pt));if($e.length>0)R($e),c($e[0]),console.log("PAYMENT METHODS SET FROM DATABASE:",{originalPaymentMethods:he.payment_methods,validPaymentMethods:$e,defaultMethod:$e[0],timestamp:new Date().toISOString()});else{const pt=["card","pix","boleto"];R(pt),c(pt[0]),console.log("NO VALID PAYMENT METHODS FROM DATABASE, USING DEFAULT:",{originalPaymentMethods:he.payment_methods,defaultPaymentMethods:pt,timestamp:new Date().toISOString()})}}else{const $e=["card","pix","boleto"];R($e),c($e[0]),console.log("USING DEFAULT PAYMENT METHODS:",{hasPaymentMethods:!!(he!=null&&he.payment_methods),isArray:Array.isArray(he==null?void 0:he.payment_methods),paymentMethodsData:he==null?void 0:he.payment_methods,defaultPaymentMethods:$e,defaultMethod:$e[0],timestamp:new Date().toISOString()})}}catch(he){console.error("Error loading payment settings:",he),console.log("PAYMENT SETTINGS LOADING ERROR:",{errorMessage:he instanceof Error?he.message:String(he),errorStack:he instanceof Error?he.stack:void 0,timestamp:new Date().toISOString()}),s("Erro ao carregar configurações de pagamento")}finally{t(!1)}}async function De(){console.log("🔍 [PAYMENT] === CARREGANDO ORDER TOTALS ===",{timestamp:new Date().toISOString(),location:window.location.pathname,action:"loadOrderTotal iniciado"});try{const{data:{user:Ae}}=await G.auth.getUser();if(!Ae){console.log("❌ [PAYMENT] Usuário não autenticado");return}console.log("🔍 [PAYMENT] Buscando dados do banco para usuário:",Ae.id);const{data:he,error:mt}=await G.from("order_totals").select("total_product_price, total_content_price, total_final_price, applied_coupon_id, discount_value").eq("user_id",Ae.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(mt)throw console.error("❌ [PAYMENT] Erro ao buscar order_totals:",mt),mt;if(console.log("📊 [PAYMENT] === DADOS RETORNADOS DO BANCO ===",{data:he,hasData:!!he,timestamp:new Date().toISOString()}),he){f(Math.round(parseFloat(he.total_final_price)*100));const $e={totalProductPrice:Number(he.total_product_price),totalContentPrice:Number(he.total_content_price),totalFinalPrice:Number(he.total_final_price),appliedCouponId:he.applied_coupon_id,discountValue:Number(he.discount_value)||0};w(pt=>({...pt,...$e})),console.log("🔍 [PAYMENT] === ORDER TOTALS LOADED ===",{...$e,calculatedWithoutDiscount:Number(he.total_product_price)+Number(he.total_content_price),timestamp:new Date().toISOString(),hasDiscount:Number(he.discount_value)>0,hasCouponId:!!he.applied_coupon_id,totalAmountCents:Math.round(parseFloat(he.total_final_price)*100)})}else console.log("⚠️ [PAYMENT] No order totals found for user")}catch(Ae){console.error("Error loading order total:",Ae),console.log("ORDER TOTAL LOADING ERROR:",{errorMessage:Ae instanceof Error?Ae.message:String(Ae),errorStack:Ae instanceof Error?Ae.stack:void 0,timestamp:new Date().toISOString()})}}async function at(){try{const{data:{user:Ae}}=await G.auth.getUser();if(!Ae)return;const{data:he,error:mt}=await G.from("cart_checkout_resume").select("*").eq("user_id",Ae.id);if(mt)throw mt;he&&he.length>0&&w($e=>({...$e,items:he}))}catch(Ae){console.error("Error loading cart items:",Ae),console.log("CART ITEMS LOADING ERROR:",{errorMessage:Ae instanceof Error?Ae.message:String(Ae),errorStack:Ae instanceof Error?Ae.stack:void 0,timestamp:new Date().toISOString()})}}async function _e(){try{const{data:{user:Ae}}=await G.auth.getUser();if(!Ae)return;const{data:he}=await G.from("admins").select("id, email, first_name, last_name").eq("id",Ae.id).maybeSingle();if(he){const{data:mt,error:$e}=await G.from("company_data").select("*").eq("admin_id",Ae.id).maybeSingle();if($e)throw $e}else{const{data:mt,error:$e}=await G.from("platform_users").select("*").eq("id",Ae.id).maybeSingle();if($e)throw $e}}catch(Ae){console.error("Error loading company data:",Ae),console.log("COMPANY DATA LOADING ERROR:",{errorMessage:Ae instanceof Error?Ae.message:String(Ae),errorStack:Ae instanceof Error?Ae.stack:void 0,timestamp:new Date().toISOString()})}}const le=Ae=>{const{name:he,value:mt}=Ae.target,$e=mt!=null?String(mt):"";console.log("🔄 DEBUG INPUT CHANGE (Payment.tsx):",{name:he,rawValue:mt,safeValue:$e,valueLength:($e==null?void 0:$e.length)||0,timestamp:new Date().toISOString()}),he==="phone"&&console.log("📞 PHONE FIELD CHANGE DETECTED:",{rawValue:mt,safeValue:$e,valueType:typeof $e,valueLength:($e==null?void 0:$e.length)||0,rawValueJSON:JSON.stringify(mt),timestamp:new Date().toISOString()}),g(pt=>{var yt;const Ue={...pt,[he]:$e};return console.log("🔄 FORM DATA UPDATED (Payment.tsx):",{field:he,oldValue:pt[he],newValue:$e,newFormData:Ue,timestamp:new Date().toISOString()}),he==="phone"&&console.log("📞 PHONE IN FORM DATA AFTER UPDATE:",{phoneValue:Ue.phone,phoneType:typeof Ue.phone,phoneLength:((yt=Ue.phone)==null?void 0:yt.length)||0,allFormData:Ue,timestamp:new Date().toISOString()}),he==="legal_status"&&console.log("[DEBUG Payment.tsx] legal_status atualizado:",Ue.legal_status),Ue})},ut=Ae=>{c(Ae),Ae!=="pix"&&A()};async function rt(){const{data:{user:Ae}}=await G.auth.getUser();if(!Ae)throw new Error("User not authenticated");const he=y.items.map(pt=>{let Ue=pt.niche_selected||null;if(typeof Ue=="string")try{Ue=JSON.parse(Ue)}catch{Ue=null}let yt=pt.service_selected||null;if(typeof yt=="string")try{yt=JSON.parse(yt)}catch{yt=null}return{entry_id:pt.entry_id,product_name:pt.product_url||"Produto",product_url:pt.product_url,quantity:pt.quantity||1,unit_price:Number(pt.price)||0,total_price:(Number(pt.price)||0)*(pt.quantity||1),niche:Ue,service_content:yt}}),mt=y.totalFinalPrice;console.log("🐛 CREATE PIX ORDER - Valores do orderSummary:",{totalFinalPrice:y.totalFinalPrice,totalProductPrice:y.totalProductPrice,totalContentPrice:y.totalContentPrice,discountValue:y.discountValue,appliedCouponId:y.appliedCouponId,calculatedWithoutDiscount:y.totalProductPrice+y.totalContentPrice,timestamp:new Date().toISOString()});const $e=await xC({payment_method:"pix",total_amount:mt,billing_name:p.name,billing_email:p.email,billing_address:p.address,billing_city:p.city,billing_state:p.state,billing_zip_code:p.zipCode,billing_document_number:p.documentNumber,phone:p.phone,items:he,idempotency_key:T});if(!$e)throw new Error("Failed to create order");return await Le(Ae.id),window.dispatchEvent(new Event("cart-cleared")),L($e.id),$e.id}const je=async()=>{var Ae,he,mt;try{if(u(!0),!p.legal_status){console.error("❌ ERRO: legal_status não está definido!"),s("Erro: Status legal do cliente não definido. Recarregue a página.");return}console.log("🔄 Recarregando totais antes de gerar PIX..."),await De(),await new Promise(ir=>setTimeout(ir,100));let $e=O;$e||($e=await rt());const pt={name:p.name,email:p.email,document:p.documentNumber.replace(/\D/g,""),phone:p.phone.replace(/\D/g,""),legal_status:p.legal_status,company_name:p.company_name},Ue={totalProductPrice:y.totalProductPrice,totalContentPrice:y.totalContentPrice,totalFinalPrice:y.totalFinalPrice,items:y.items||[],appliedCouponId:y.appliedCouponId,discountValue:y.discountValue};console.log("� [PAYMENT.TSX] Chamando PIX modular com dados corretos:",{pixCustomerData:pt,pixOrderSummary:Ue,orderId:$e,total_final_price_reais:Ue.totalFinalPrice,total_final_price_cents:Ue.totalFinalPrice*100}),console.log("🔄 [PAYMENT.TSX] === COMPARAÇÃO COM IMPLEMENTAÇÃO ANTERIOR ===",{timestamp:new Date().toISOString(),implementacao_anterior:{usava_totalAmount_state:"setTotalAmount(Math.round(parseFloat(data.total_final_price) * 100))",double_conversion:"totalAmount já em centavos + Math.round(totalToUse * 100)",problema:"Double conversion causava valor errado"},implementacao_modular:{usa_orderSummary_direto:"orderSummary.totalFinalPrice (em reais)",single_conversion:"convertToCents(totalAmount) apenas no serviço modular",solucao:"Conversão única elimina double conversion"},valores_comparacao:{totalAmount_legado_cents:h,totalAmount_legado_reais:h/100,totalFinalPrice_modular_reais:Ue.totalFinalPrice,totalFinalPrice_modular_cents:Ue.totalFinalPrice*100,diferenca_cents:Math.abs(h-Ue.totalFinalPrice*100),problema_resolvido:Math.abs(h-Ue.totalFinalPrice*100)<1}});const yt=await N(pt,Ue,$e);if(console.log("✅ [PAYMENT.TSX] === RESULTADO FINAL ===",{timestamp:new Date().toISOString(),sucesso:!!yt.success,tem_qr_code:!!yt.qr_code,tem_qr_code_url:!!yt.qr_code_url,erro:yt.error||"nenhum",payload_enviado_incluia:{valor_total:!0,dados_cliente:!0,items_produto:!0,items_conteudo:Ue.totalContentPrice>0,problema_original_resolvido:Ue.totalContentPrice>0&&!!yt.success}}),(mt=(he=(Ae=yt.raw_response)==null?void 0:Ae.charges)==null?void 0:he[0])!=null&&mt.id){const ir=yt.raw_response.charges[0].id;await it($e,ir)}console.log("✅ [PAYMENT.TSX] PIX QR Code gerado com sucesso via módulo")}catch($e){console.error("❌ [PAYMENT.TSX] Erro na geração do PIX:",$e);const pt=Iv($e.message||"Erro ao gerar QR code PIX");s(pt)}finally{u(!1)}},fe=async Ae=>{try{if(u(!0),console.log("🎉 PIX PAYMENT SUCCESS - Processando pagamento PIX bem-sucedido:",{paymentId:Ae,paymentMethod:o,timestamp:new Date().toISOString()}),O){console.log("💳 Atualizando status do pagamento PIX para 'paid':",{orderId:O,paymentMethod:"pix"});const{updateOrderStatus:he}=await Oa(async()=>{const{updateOrderStatus:$e}=await Promise.resolve().then(()=>C9);return{updateOrderStatus:$e}},void 0);await he(O,"approved","paid")?console.log("✅ Status do pagamento PIX atualizado com sucesso para 'paid'"):console.error("❌ Falha ao atualizar status do pagamento PIX");try{const pt={order:{name:p.name,email:p.email,total:y.totalFinalPrice,items:y.items.map(Ue=>{let yt="";if(Array.isArray(Ue.niche_selected)&&Ue.niche_selected.length>0)try{const Yr=JSON.parse(Ue.niche_selected[0]);yt=Yr.niche||Yr.title||Yr.name||""}catch{yt=""}let ir="",qt="";if(Array.isArray(Ue.service_selected)&&Ue.service_selected.length>0)try{const Yr=JSON.parse(Ue.service_selected[0]);ir=Yr.title||Yr.name||"",qt=Yr.word_count||""}catch{ir="",qt=""}return{name:Ue.product_url||"Produto",quantity:Ue.quantity,price:Ue.price,niche:yt,package:ir,word_count:qt}})}};console.log("Dados enviados para função Edge (PIX):",JSON.stringify(pt)),await fetch("https://uxbeaslwirkepnowydfu.functions.supabase.co/send-order-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(pt)}),console.log("E-mail de notificação de compra enviado para cliente e administrador (PIX)")}catch($e){console.error("Erro ao enviar e-mail de compra (PIX):",$e)}}i(!0)}catch(he){console.error("Error processing successful PIX payment:",he),console.log("PIX PAYMENT SUCCESS PROCESSING ERROR:",{errorMessage:he instanceof Error?he.message:String(he),errorStack:he instanceof Error?he.stack:void 0,paymentId:Ae,timestamp:new Date().toISOString(),orderSummary:y,formData:p}),s("Erro ao finalizar o pagamento PIX")}finally{u(!1)}},Re=Ae=>{console.log("PAYMENT ERROR RECEIVED:",{errorMessage:Ae,paymentMethod:o,timestamp:new Date().toISOString(),formData:p,orderSummary:y});const he=Iv(Ae);s(he)},He=async Ae=>{try{const{data:{user:he}}=await G.auth.getUser();if(!he)throw new Error("User not authenticated");const mt=y.items.map(Ue=>{let yt=Ue.niche_selected||null;if(typeof yt=="string")try{yt=JSON.parse(yt)}catch{yt=null}let ir=Ue.service_selected||null;if(typeof ir=="string")try{ir=JSON.parse(ir)}catch{ir=null}return{entry_id:Ue.entry_id,product_name:Ue.product_url||"Produto",product_url:Ue.product_url,quantity:Ue.quantity||1,unit_price:Number(Ue.price)||0,total_price:(Number(Ue.price)||0)*(Ue.quantity||1),niche:yt,service_content:ir}}),$e=y.totalFinalPrice,pt=await xC({payment_method:o,total_amount:$e,billing_name:p.name,billing_email:p.email,billing_address:p.address,billing_city:p.city,billing_state:p.state,billing_zip_code:p.zipCode,billing_document_number:p.documentNumber,phone:p.phone,payment_id:Ae,items:mt,idempotency_key:T});if(!pt)throw new Error("Failed to create order");return await Le(he.id),window.dispatchEvent(new Event("cart-cleared")),pt}catch(he){throw console.error("Error creating order:",he),console.log("ORDER CREATION ERROR:",{errorMessage:he instanceof Error?he.message:String(he),errorStack:he instanceof Error?he.stack:void 0,paymentMethod:o,paymentId:Ae,timestamp:new Date().toISOString(),totalAmount:y.totalFinalPrice,billingInfo:{name:p.name,email:p.email,address:p.address,city:p.city,state:p.state,zipCode:p.zipCode,documentNumber:p.documentNumber}}),he}},it=async(Ae,he)=>{try{const{error:mt}=await G.from("orders").update({payment_id:he}).eq("id",Ae);if(mt)throw console.error("Error updating order payment ID:",mt),new Error(`Failed to update payment ID for order ${Ae}: ${mt.message}`);console.log(`✅ Payment ID ${he} updated for order ${Ae}`),Z(!0),Yl.listOrderItemsByOrder(Ae).then($e=>{F($e||[]);const pt=($e||[]).filter(Ue=>{const yt=kP(Ue.service_content);return yt==null||Array.isArray(yt)&&yt.length===0||typeof yt=="string"&&yt.trim()===""});B(pt),V(($e||[]).filter(Ue=>!pt.includes(Ue)))}).finally(()=>Z(!1))}catch(mt){console.error("Error updating order payment ID:",mt),s(Iv(mt instanceof Error?mt.message:"Erro ao atualizar pagamento do pedido"))}},Le=async Ae=>{try{const{error:he}=await G.from("cart_checkout_resume").delete().eq("user_id",Ae);if(he)throw he;const{error:mt}=await G.from("shopping_cart_items").delete().eq("user_id",Ae);if(mt)throw mt;const{error:$e}=await G.from("order_totals").delete().eq("user_id",Ae);if($e)throw $e;return console.log("✅ Cart cleared successfully, including order_totals"),!0}catch(he){return console.error("Error clearing cart:",he),console.log("CART CLEARING ERROR:",{errorMessage:he instanceof Error?he.message:String(he),errorStack:he instanceof Error?he.stack:void 0,userId:Ae,timestamp:new Date().toISOString()}),!1}},ze=Ae=>{Q(Ae)};async function Fe(Ae){var he,mt,$e,pt,Ue,yt,ir,qt,Yr,Nr,Jr,Er,tr,ne,ie,ve,Ee,Xe,ct,qe,gt;console.log("[DEBUG] handleSubmit chamado"),Ae.preventDefault(),u(!0),s(null);try{let Tt=function(Ur){const Wn=Ur.replace(/\D/g,"");let fl="55",va="",$a="";return Wn.length>=12?(fl=Wn.substring(0,2),va=Wn.substring(2,4),$a=Wn.substring(4)):Wn.length===11||Wn.length===10?(va=Wn.substring(0,2),$a=Wn.substring(2)):($a=Wn.slice(-9),va=Wn.slice(-11,-9)),{country_code:fl,area_code:va,number:$a}};if(!q.cardNumber||!q.cardExpiry||!q.cardCvc||!q.cardholderName)throw new Error("Por favor, preencha todos os dados do cartão");if(!p.name||!p.email)throw new Error("Por favor, preencha nome e email");const{data:Ke,error:bt}=await G.auth.getSession();if(console.log("[DEBUG] Verificação de sessão:",{hasSession:!!(Ke!=null&&Ke.session),hasAccessToken:!!((he=Ke==null?void 0:Ke.session)!=null&&he.access_token),tokenExpiry:(mt=Ke==null?void 0:Ke.session)==null?void 0:mt.expires_at,currentTime:new Date().toISOString(),sessionError:bt,userId:(pt=($e=Ke==null?void 0:Ke.session)==null?void 0:$e.user)==null?void 0:pt.id}),bt)throw new Error(`Erro na sessão: ${bt.message}`);if(!((Ue=Ke==null?void 0:Ke.session)!=null&&Ue.access_token))throw new Error("Sessão não encontrada. Faça login novamente.");const Mt=Ke.session.expires_at;if(Mt&&new Date(Mt*1e3)<=new Date)throw new Error("Sessão expirada. Faça login novamente.");const lr=Ke.session.access_token,Tr="https://uxbeaslwirkepnowydfu.supabase.co/functions/v1/pagarme-payment";console.log("[DEBUG] Iniciando fluxo de pagamento com tokenização..."),console.log("- Nome:",p.name),console.log("- Email:",p.email),console.log("- CPF:",p.documentNumber),console.log("- Valor (totalAmount):",h),console.log("- Tipo do valor:",typeof h),console.log("- Dados do cartão:",{cardNumber:q.cardNumber?q.cardNumber.substring(0,4)+"****":"VAZIO",cardExpiry:q.cardExpiry,cardCvc:q.cardCvc?"***":"VAZIO",cardholderName:q.cardholderName}),console.log("- Endereço de cobrança:",{address:p.address,zipCode:p.zipCode,city:p.city,state:p.state}),console.log("[DEBUG] Passo 1: Tokenizando cartão..."),console.log("[DEBUG] formData coletado do formulário:",{name:p.name,email:p.email,address:p.address,city:p.city,state:p.state,zipCode:p.zipCode,documentNumber:p.documentNumber,company_name:p.company_name,phone:p.phone});const Dn=((yt=p.address)==null?void 0:yt.trim())||"",$n=((ir=p.zipCode)==null?void 0:ir.replace(/\D/g,""))||"",ra=((qt=p.city)==null?void 0:qt.trim())||"",Ss=((Yr=p.state)==null?void 0:Yr.trim())||"",gr={line_1:Dn||"Rua das Flores, 123, Centro",zip_code:$n.padStart(8,"0")||"01234567",city:ra||"São Paulo",state:Ss||"SP",country:"BR"};if(!Object.entries(gr).every(([,Ur])=>typeof Ur=="string"&&Ur.length>0)){console.log("[ERROR] Campos de billing inválidos:",{billingAddress:gr,invalidFields:Object.entries(gr).filter(([,Ur])=>!Ur||Ur.length===0)}),s("Preencha todos os campos obrigatórios do endereço de cobrança."),u(!1);return}console.log("[DEBUG] Billing address final (Pagar.me v5 - Estrutura Oficial):",gr),console.log("[DEBUG] Validação dos campos obrigatórios:",{line_1:{value:gr.line_1,valid:!!gr.line_1},zip_code:{value:gr.zip_code,valid:!!gr.zip_code&&gr.zip_code.length===8},city:{value:gr.city,valid:!!gr.city},state:{value:gr.state,valid:!!gr.state},country:{value:gr.country,valid:!!gr.country}});const xi={action:"tokenize",card_number:q.cardNumber.replace(/\s/g,""),card_exp_month:q.cardExpiry.substring(0,2),card_exp_year:"20"+q.cardExpiry.substring(3,5),card_cvv:q.cardCvc,card_holder_name:q.cardholderName};console.log("[DEBUG] Payload enviado para tokenização (SEM billing_address):",xi),console.log("[DEBUG] billing_address será usado apenas no pagamento, não na tokenização v5"),console.log("[DEBUG] URL da função edge:",Tr),console.log("[DEBUG] access_token enviado:",lr),console.log("[DEBUG] Headers enviados:",{"Content-Type":"application/json",Authorization:`Bearer ${lr}`});const vi=await fetch(Tr,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${lr}`},body:JSON.stringify(xi)}),na=await vi.json();if(console.log("[DEBUG] Resultado da tokenização:",na),!vi.ok){console.log("[DEBUG] return: tokenResponse não ok");const Ur={message:na.error||na.message||"The request is invalid",errors:na.errors,status:vi.status};m.handleError(Ur,"card_tokenization"),u(!1);return}if(!na.card_token){console.log("[DEBUG] return: tokenResult.card_token não gerado"),s("Token do cartão não foi gerado."),u(!1);return}console.log("[DEBUG] Token recebido, preparando para montar payload de pagamento"),console.log("[DEBUG] Passo 2: Montando payload de pagamento...");const Ji=Y.find(Ur=>Ur.installments===H);if(!Ji){console.log("[DEBUG] return: selectedInstallmentObj não encontrado"),s("Selecione uma opção de parcelamento válida."),u(!1);return}const yi=Tt(p.phone||""),Ns={items:[{amount:h,description:"Pedido Marketplace",quantity:1,code:"ITEM_"+Date.now()}],customer:{external_id:p.email||p.name||kp(),name:p.name,email:p.email,document:p.documentNumber.replace(/\D/g,""),type:p.legal_status==="business"?"company":"individual",phones:{mobile_phone:{country_code:yi.country_code,area_code:yi.area_code,number:yi.number}},address:gr},payments:[{payment_method:"credit_card",credit_card:{installments:Ji.installments,statement_descriptor:"MARKETPLACE",card_token:na.card_token,card:{holder_name:q.cardholderName||p.name,billing_address:gr}}}]};console.log("[DEBUG] legal_status no submit:",p.legal_status,"| document_type:",p.legal_status==="business"?"cnpj":"cpf","| type:",p.legal_status==="business"?"business":"individual","| document:",p.documentNumber),console.log("[DEBUG] Payload de pagamento montado:",Ns),console.log("[DEBUG] Validação billing_address:",{customer_address:Ns.customer.address,credit_card_billing_address:Ns.payments[0].credit_card.card.billing_address,objects_are_same:Ns.customer.address===Ns.payments[0].credit_card.card.billing_address,tokenization_address:gr,all_three_match:Ns.customer.address===gr&&Ns.payments[0].credit_card.card.billing_address===gr,card_field_present:!!Ns.payments[0].credit_card.card,holder_name:(Nr=Ns.payments[0].credit_card.card)==null?void 0:Nr.holder_name,billing_address_complete:(Jr=Ns.payments[0].credit_card.card)==null?void 0:Jr.billing_address,billing_zipcode:(tr=(Er=Ns.payments[0].credit_card.card)==null?void 0:Er.billing_address)==null?void 0:tr.zip_code}),console.log("[DEBUG] Vai enviar o pagamento para a função edge");const ul=await fetch(Tr,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${lr}`},body:JSON.stringify(Ns)}),Vn=await ul.json();if(console.log("[DEBUG] Resposta recebida da função edge:",Vn),console.log("=== DEBUG RESPOSTA PAGAR.ME ==="),console.log("Status HTTP:",ul.status),console.log("Response OK:",ul.ok),console.log("Resultado completo:",JSON.stringify(Vn,null,2)),console.log("Status do pagamento:",Vn.status),console.log("ID do pedido:",Vn.id),!ul.ok){console.log("[DEBUG] return: response não ok");const Ur={message:Vn.error||Vn.message||"The request is invalid",errors:Vn.errors,gateway_response:Vn.gateway_response,status:ul.status};m.handleError(Ur,"payment_request"),u(!1);return}if(Vn.status==="failed"){const Ur=(Xe=(Ee=(ve=(ie=(ne=Vn.charges)==null?void 0:ne[0])==null?void 0:ie.last_transaction)==null?void 0:ve.gateway_response)==null?void 0:Ee.errors)==null?void 0:Xe[0],Wn={message:(Ur==null?void 0:Ur.message)||"Pagamento rejeitado pelo gateway",gateway_response:(gt=(qe=(ct=Vn.charges)==null?void 0:ct[0])==null?void 0:qe.last_transaction)==null?void 0:gt.gateway_response};m.handleError(Wn,"payment_failed"),u(!1);return}const hl=["paid","approved","processing","pending_payment","authorized"];if(hl.includes(Vn.status)){console.log("✅ Pagamento aceito com status:",Vn.status);const Ur=await He(Vn.id);if(Ur){L(Ur.id),console.log("💳 Atualizando status do pagamento para 'paid':",{orderId:Ur.id,paymentMethod:o});const{updateOrderStatus:Wn}=await Oa(async()=>{const{updateOrderStatus:va}=await Promise.resolve().then(()=>C9);return{updateOrderStatus:va}},void 0);await Wn(Ur.id,"approved","paid")?console.log("✅ Status do pagamento atualizado com sucesso para 'paid'"):console.error("❌ Falha ao atualizar status do pagamento");try{const $a={order:{name:p.name,email:p.email,total:Ur.total_amount,items:y.items.map(Va=>{let Ro="";if(Array.isArray(Va.niche_selected)&&Va.niche_selected.length>0)try{const bi=JSON.parse(Va.niche_selected[0]);Ro=bi.niche||bi.title||bi.name||""}catch{Ro=""}let Rd="",an="";if(Array.isArray(Va.service_selected)&&Va.service_selected.length>0)try{const bi=JSON.parse(Va.service_selected[0]);Rd=bi.title||bi.name||"",an=bi.word_count||""}catch{Rd="",an=""}return{name:Va.product_url||"Produto",quantity:Va.quantity,price:Va.price,niche:Ro,package:Rd,word_count:an}})}};console.log("Dados enviados para função Edge:",JSON.stringify($a)),await fetch("https://uxbeaslwirkepnowydfu.functions.supabase.co/send-order-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($a)}),console.log("E-mail de notificação de compra enviado para cliente e administrador (cartão)")}catch(va){console.error("Erro ao enviar e-mail de compra (cartão):",va)}i(!0)}}else throw console.log("❌ Status não aceito:",Vn.status),console.log("Status aceitos:",hl),new Error(`Status do pagamento: ${Vn.status}. Aguarde a confirmação ou tente novamente.`)}catch(Tt){console.error("[ERROR] Erro no handleSubmit:",Tt),m.handleError(Tt,"credit_card_payment")}finally{u(!1)}}const Ze=()=>{const Ae=!!(q.cardNumber&&q.cardNumber.trim().length>=13),he=!!(q.cardExpiry&&q.cardExpiry.trim().length>=4),mt=!!(q.cardCvc&&q.cardCvc.trim().length>=3),$e=!!(q.cardholderName&&q.cardholderName.trim().length>=2),pt=!!(q.country&&q.country.trim().length>=2);return Ae&&he&&mt&&$e&&pt},ft=()=>{const Ae=!!(p.name&&p.name.trim().length>=2),he=!!(p.email&&p.email.trim().includes("@")),mt=!!(p.documentNumber&&p.documentNumber.trim().length>=8),$e=!!(p.phone&&p.phone.trim().length>=8);return Ae&&he&&mt&&$e},xt=()=>o==="card"?re&&ue:re;return b.useEffect(()=>{const Ae=Ze();be(Ae)},[q]),b.useEffect(()=>{console.log("🎯 isPaymentInfoFormValid CHANGED:",{newValue:re,timestamp:new Date().toISOString()})},[re]),b.useEffect(()=>{console.log("🎯 isPaymentInfoFormValid CHANGED:",{newValue:re,timestamp:new Date().toISOString()})},[re]),e?l.jsxs(l.Fragment,{children:[l.jsx(er,{title:"Pagamento | Marketplace",description:"Página de pagamento"}),l.jsx(Dr,{pageTitle:"Pagamento"}),l.jsx("div",{className:"w-full max-w-4xl mx-auto",children:l.jsx("div",{className:"bg-white dark:bg-gray-900 p-8 rounded-xl border border-gray-200 dark:border-gray-800 flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-500"})})})]}):a?l.jsxs(l.Fragment,{children:[l.jsx(er,{title:"Pagamento Concluído | Marketplace",description:"Pagamento concluído com sucesso"}),l.jsx(Dr,{pageTitle:"Pagamento Concluído"}),l.jsx("main",{className:"flex-1 p-6",children:l.jsx("div",{className:"max-w-4xl mx-auto mt-8",children:l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800 flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-green-50 dark:bg-green-900/20 rounded-full flex items-center justify-center mr-4",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6 text-green-500",children:[l.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),l.jsx("path",{d:"m9 11 3 3L22 4"})]})}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:["Obrigado! Pagamento"," ",o==="boleto"?"Pendente":"Concluído","!"]}),l.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Seu pagamento de"," ",Vf(y.totalProductPrice+y.totalContentPrice)," ",o==="boleto"?"está aguardando processamento":"foi processado com sucesso"]})]})]}),l.jsx("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/20 border-b border-gray-200 dark:border-gray-800",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-800/50 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-blue-600 dark:text-blue-400",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),l.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}),l.jsxs("div",{className:"flex-1",children:[W?l.jsx("p",{className:"text-blue-800 dark:text-blue-200 mb-4",children:"Carregando informações do pedido..."}):l.jsxs(l.Fragment,{children:[M.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Próximo Passo: Envie seu Conteúdo"}),l.jsx("p",{className:"text-blue-800 dark:text-blue-200 mb-4",children:M.map(Ae=>l.jsxs("span",{children:["Para o produto"," ",l.jsx("a",{href:Ae.product_url,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-700 dark:text-blue-300",children:Ae.product_name}),", você deve enviar o conteúdo.",l.jsx("br",{})]},Ae.id))})]}),z.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Aguarde o envio do conteúdo"}),l.jsx("p",{className:"text-blue-800 dark:text-blue-200 mb-4",children:z.map(Ae=>l.jsxs("span",{children:["Para o produto"," ",l.jsx("a",{href:Ae.product_url,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-700 dark:text-blue-300",children:Ae.product_name}),", aguarde o envio do conteúdo.",l.jsx("br",{})]},Ae.id))})]}),M.length===0&&z.length===0&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Próximo Passo: Envie seu Conteúdo"}),l.jsx("p",{className:"text-blue-800 dark:text-blue-200 mb-4",children:"Para dar continuidade ao seu pedido, você precisa enviar o conteúdo do artigo. Acesse os detalhes do pedido para fazer o upload."})]})]}),l.jsx("div",{className:"mb-4",children:l.jsx(x8,{currentStep:o==="boleto"?2:3,paymentStatus:o==="boleto"?"pending":"paid",orderStatus:o==="boleto"?"pending":"processing",hasArticleDocument:!1,articleUrl:"",orderDate:new Date().toLocaleDateString("pt-BR"),showProgressOnly:!0,orderId:O||"",orderItems:D})}),l.jsxs("button",{onClick:()=>O&&r(`/orders/${O}`),disabled:!O,className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:["Acessar Detalhes do Pedido",l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[l.jsx("path",{d:"M5 12h14"}),l.jsx("path",{d:"m12 5 7 7-7 7"})]})]})]})]})}),l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"O que acontece agora?"}),l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 mr-3 flex-shrink-0",children:[l.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),l.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]}),l.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Você receberá um email de confirmação com todos os detalhes da compra"})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 mr-3 flex-shrink-0",children:[l.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),l.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),l.jsx("path",{d:"M10 9H8"}),l.jsx("path",{d:"M16 13H8"}),l.jsx("path",{d:"M16 17H8"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Envie o conteúdo do seu artigo"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:'Acesse "Detalhes do Pedido" para fazer o upload do arquivo ou inserir o texto'})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 mr-3 flex-shrink-0",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("polyline",{points:"12 6 12 12 16 14"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Prazo de publicação: 3-5 dias úteis"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:"Após o envio do conteúdo, seu artigo será publicado no site escolhido"})]})]})]}),l.jsxs("button",{onClick:()=>r(O?`/orders/${O}`:"/orders"),className:"min-w-[200px] bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[l.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),l.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),l.jsx("path",{d:"M10 9H8"}),l.jsx("path",{d:"M16 13H8"}),l.jsx("path",{d:"M16 17H8"})]}),"Enviar Conteúdo"]})]})]})})})]}):l.jsxs(b$,{children:[l.jsx(er,{title:"Pagamento | Marketplace",description:"Página de pagamento"}),l.jsx(Dr,{pageTitle:"Pagamento"}),o==="pix"&&O&&l.jsx(fCe,{orderId:O,onPixPaid:()=>fe(O)}),l.jsx("div",{className:"min-h-screen",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-8 w-full max-w-6xl mx-auto items-start",children:[l.jsxs("div",{className:"w-full md:w-3/5",children:[l.jsx($ke,{formData:p,onChange:le,onValidSubmit:Ae=>{console.log("🎯 RECEBIDO RESULTADO DA VALIDAÇÃO NO PAYMENT.TSX:",{isValid:Ae,timestamp:new Date().toISOString()}),console.log("📝 ANTES: isPaymentInfoFormValid =",re),oe(Ae),console.log("📝 DEPOIS: setIsPaymentInfoFormValid chamado com:",Ae)}}),l.jsx(uCe,{paymentMethod:o,totalAmount:h,pixQrCodeUrl:k,pixCopiaECola:S,total:y.totalFinalPrice,processing:d,error:n,termsAccepted:v,pixFormValid:ft(),availablePaymentMethods:E,onPaymentMethodChange:ut,onTermsAcceptedChange:x,onSubmit:Fe,onPaymentSuccess:fe,onPaymentError:Re,onCardDataChange:ze,cardData:q,setCardData:Q,onGeneratePixQrCode:je,allFormsValid:xt(),isPaymentInfoFormValid:re,isCardFormValid:ue,selectedInstallments:H,onInstallmentsChange:$,installmentsOptions:Y,setInstallmentsOptions:K})]}),l.jsxs("div",{className:"w-full md:w-2/5",children:[l.jsx("div",{ref:Ce.placeholderRef,style:Ce.placeholderStyle}),l.jsx("div",{ref:Ce.ref,style:Ce.style,className:"w-full",children:l.jsx(S$,{})})]})]})})]})}function ACe(){const r=Sr(),e=Qn(),[t,n]=b.useState(null),[s,a]=b.useState([]),[i,o]=b.useState([]),[c,d]=b.useState([]),[u,h]=b.useState(!1);b.useEffect(()=>{var g;(g=e.state)!=null&&g.boletoData?n(e.state.boletoData):n({barCode:"42297.11504 00064.897317 04021.401122 1 11070000082900",amount:829,expirationDate:new Date(Date.now()+3*24*60*60*1e3).toLocaleDateString("pt-BR"),boletoUrl:"#"})},[e]);function f(g){let m=g;if(Array.isArray(m)&&m.length>0)if(typeof m[0]=="string")try{m=JSON.parse(m[0])}catch{m={}}else typeof m[0]=="object"&&(m=m[0]);else if(typeof m=="string")try{m=JSON.parse(m)}catch{m={}}return m==null?void 0:m.benefits}b.useEffect(()=>{t!=null&&t.orderId&&(h(!0),Yl.listOrderItemsByOrder(t.orderId).then(g=>{a(g||[]);const m=(g||[]).filter(v=>{const x=f(v.service_content);return x==null||Array.isArray(x)&&x.length===0||typeof x=="string"&&x.trim()===""});o(m),d((g||[]).filter(v=>!m.includes(v)))}).finally(()=>h(!1)))},[t==null?void 0:t.orderId]);const p=(t==null?void 0:t.amount)||829;return l.jsxs(l.Fragment,{children:[l.jsx(er,{title:"Pagamento Concluído | Marketplace",description:"Pagamento concluído com sucesso"}),l.jsx(Dr,{pageTitle:"Pagamento Concluído"}),l.jsx("main",{className:"flex-1 p-6",children:l.jsx("div",{className:"max-w-4xl mx-auto mt-8",children:l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800 flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-green-50 dark:bg-green-900/20 rounded-full flex items-center justify-center mr-4",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6 text-green-500",children:[l.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),l.jsx("path",{d:"m9 11 3 3L22 4"})]})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Obrigado! Pagamento Pendente!"}),l.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Seu pagamento de ",Vf(p)," está aguardando processamento"]})]})]}),l.jsx("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/20 border-b border-gray-200 dark:border-gray-800",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-800/50 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-blue-600 dark:text-blue-400",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),l.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}),l.jsxs("div",{className:"flex-1",children:[u?l.jsx("p",{className:"text-blue-800 dark:text-blue-200 mb-4",children:"Carregando informações do pedido..."}):l.jsxs(l.Fragment,{children:[i.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Próximo Passo: Envie seu Conteúdo"}),l.jsx("p",{className:"text-blue-800 dark:text-blue-200 mb-4",children:i.map(g=>l.jsxs("span",{children:["Para o produto"," ",l.jsx("a",{href:g.product_url,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-700 dark:text-blue-300",children:g.product_name}),", você deve enviar o conteúdo.",l.jsx("br",{})]},g.id))})]}),c.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Aguarde o envio do conteúdo"}),l.jsx("p",{className:"text-blue-800 dark:text-blue-200 mb-4",children:c.map(g=>l.jsxs("span",{children:["Para o produto"," ",l.jsx("a",{href:g.product_url,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-700 dark:text-blue-300",children:g.product_name}),", aguarde o envio do conteúdo.",l.jsx("br",{})]},g.id))})]}),i.length===0&&c.length===0&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Próximo Passo: Envie seu Conteúdo"}),l.jsx("p",{className:"text-blue-800 dark:text-blue-200 mb-4",children:"Para dar continuidade ao seu pedido, você precisa enviar o conteúdo do artigo. Acesse os detalhes do pedido para fazer o upload."})]})]}),l.jsx("div",{className:"mb-4",children:l.jsx(x8,{currentStep:2,paymentStatus:"pending",orderStatus:"pending",hasArticleDocument:!1,articleUrl:"",orderDate:new Date().toLocaleDateString("pt-BR"),showProgressOnly:!0,orderId:(t==null?void 0:t.orderId)||"",orderItems:s})}),l.jsxs("button",{onClick:()=>(t==null?void 0:t.orderId)&&r(`/orders/${t.orderId}`),disabled:!(t!=null&&t.orderId),className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:["Acessar Detalhes do Pedido",l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[l.jsx("path",{d:"M5 12h14"}),l.jsx("path",{d:"m12 5 7 7-7 7"})]})]})]})]})}),l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"O que acontece agora?"}),l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 mr-3 flex-shrink-0",children:[l.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),l.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]}),l.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Você receberá um email de confirmação com todos os detalhes da compra"})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 mr-3 flex-shrink-0",children:[l.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),l.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),l.jsx("path",{d:"M10 9H8"}),l.jsx("path",{d:"M16 13H8"}),l.jsx("path",{d:"M16 17H8"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Envie o conteúdo do seu artigo"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:'Acesse "Detalhes do Pedido" para fazer o upload do arquivo ou inserir o texto'})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 mr-3 flex-shrink-0",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("polyline",{points:"12 6 12 12 16 14"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Prazo de publicação: 3-5 dias úteis"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:"Após o envio do conteúdo, seu artigo será publicado no site escolhido"})]})]})]}),l.jsxs("div",{className:"flex justify-center",children:[" ",l.jsxs("button",{onClick:()=>t!=null&&t.orderId?r(`/orders/${t.orderId}`):r("/orders"),className:"min-w-[200px] bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[l.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),l.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),l.jsx("path",{d:"M10 9H8"}),l.jsx("path",{d:"M16 13H8"}),l.jsx("path",{d:"M16 17H8"})]}),"Enviar Conteúdo"]})]})]})]})})})]})}const TCe=r=>{const e=r.replace(/\D/g,"");return e.length===11?`(${e.slice(0,2)}) ${e.slice(2,7)}-${e.slice(7)}`:e.length===10?`(${e.slice(0,2)}) ${e.slice(2,6)}-${e.slice(6)}`:r};class PCe{static async isUserAdmin(e){try{console.log("AdminService: Verificando admin para usuário:",e);const{data:t,error:n}=await G.from("admins").select("role").eq("id",e).maybeSingle();if(console.log("AdminService: Resultado da consulta admin:",{adminData:t,adminError:n}),n)return console.error("AdminService: Erro ao verificar admin:",n),!1;const s=(t==null?void 0:t.role)==="admin";return console.log(`AdminService: Usuário ${s?"é":"não é"} admin`),s}catch(t){return console.error("AdminService: Erro ao verificar role de admin:",t),!1}}static async getAdminData(e){try{const{data:t,error:n}=await G.from("admins").select("*").eq("id",e).maybeSingle();return n?(console.error("AdminService: Erro ao obter dados do admin:",n),null):t}catch(t){return console.error("AdminService: Erro ao obter dados do admin:",t),null}}static async getAllAdmins(){try{const{data:e,error:t}=await G.from("admins").select("*").order("created_at",{ascending:!1});return t?(console.error("AdminService: Erro ao listar admins:",t),[]):e||[]}catch(e){return console.error("AdminService: Erro ao listar admins:",e),[]}}}function LCe(){const r=Sr(),[e,t]=b.useState([]),[n,s]=b.useState([]),[a,i]=b.useState(!0),[o,c]=b.useState(""),[d,u]=b.useState(!1),[h,f]=b.useState(""),[p,g]=b.useState(10),[m,v]=b.useState(1),[x,y]=b.useState("created_at"),[w,k]=b.useState("desc"),S=Math.ceil(n.length/p);m>S&&S>0&&v(S),b.useEffect(()=>{N()},[]),b.useEffect(()=>{let M=[...e];if(h){const B=h.toLowerCase();M=M.filter(z=>{var V,W,Z;return z.id.toLowerCase().includes(B)||((V=z.billing_name)==null?void 0:V.toLowerCase().includes(B))||((W=z.billing_email)==null?void 0:W.toLowerCase().includes(B))||((Z=z.phone)==null?void 0:Z.toLowerCase().includes(B))||z.status.toLowerCase().includes(B)||z.payment_method.toLowerCase().includes(B)||z.payment_status.toLowerCase().includes(B)})}M.sort((B,z)=>{let V=B[x],W=z[x];return typeof V=="string"&&typeof W=="string"?(V=V.toLowerCase(),W=W.toLowerCase(),V<W?w==="asc"?-1:1:V>W?w==="asc"?1:-1:0):typeof V=="number"&&typeof W=="number"?w==="asc"?V-W:W-V:V==null?1:W==null?-1:0}),s(M),v(1)},[e,h,x,w]);async function N(){try{i(!0),c("");const{data:{user:M}}=await G.auth.getUser();if(!M)throw new Error("User not authenticated");const B=await PCe.isUserAdmin(M.id);u(B);let z=G.from("orders").select("*");B?z=z.order("created_at",{ascending:!1}):z=z.eq("user_id",M.id).order("created_at",{ascending:!1});const{data:V,error:W}=await z;if(W)throw W;t(V||[])}catch(M){console.error("Error loading orders:",M),c(M.message||"Error loading orders")}finally{i(!1)}}const A=M=>{r(`/orders/${M}`)},E=async(M,B)=>{try{await navigator.clipboard.writeText(M),Tn(`${B} copiado!`,"success"),console.log(`${B} copiado para a área de transferência: ${M}`)}catch(z){console.error("Erro ao copiar para a área de transferência:",z),Tn("Erro ao copiar","error")}},R=M=>new Date(M).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),O=M=>{f(M.target.value)},L=M=>{g(parseInt(M.target.value)),v(1)},D=n.slice((m-1)*p,m*p);return{orders:e,filteredOrders:n,paginatedOrders:D,loading:a,error:o,isAdmin:d,searchTerm:h,ordersPerPage:p,currentPage:m,totalPages:S,sortField:x,sortDirection:w,handleViewOrder:A,copyToClipboard:E,formatDate:R,handleSearch:O,handleOrdersPerPageChange:L,setCurrentPage:v,loadOrders:N,handleSort:M=>{x===M?k(B=>B==="asc"?"desc":"asc"):(y(M),k("asc"))},setSortField:y,setSortDirection:k}}function DCe(){const{paginatedOrders:r,loading:e,error:t,isAdmin:n,searchTerm:s,ordersPerPage:a,currentPage:i,totalPages:o,filteredOrders:c,handleViewOrder:d,copyToClipboard:u,formatDate:h,handleSearch:f,handleOrdersPerPageChange:p,setCurrentPage:g,sortField:m,handleSort:v}=LCe(),x=w=>{switch(w){case"completed":return l.jsx(Dt,{color:"success",children:"Concluído"});case"processing":case"approved":return l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm bg-warning-50 text-warning-600 dark:bg-warning-500/15 dark:text-orange-400",children:"Aguardando artigo"});case"cancelled":return l.jsx(Dt,{color:"error",children:"Cancelado"});case"pending":default:return l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm bg-error-50 text-error-600 dark:bg-error-500/15 dark:text-error-400",children:"Pagamento Pendente"})}},y=w=>{switch(w){case"card":return"Cartão de Crédito";case"pix":return"PIX";case"boleto":return"Boleto";default:return w}};return e?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):l.jsxs(l.Fragment,{children:[l.jsx(er,{title:"Meus Pedidos | Marketplace",description:"Lista de pedidos realizados"})," ",l.jsx(Dr,{pageTitle:"Meus Pedidos"}),t&&l.jsx("div",{className:"mb-6 p-4 text-sm text-error-600 bg-error-50 rounded-lg dark:bg-error-500/15 dark:text-error-500",children:t}),l.jsxs("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-white/[0.05] dark:bg-white/[0.03]",children:[l.jsxs("div",{className:"flex flex-col gap-2 px-4 py-4 border-b border-gray-100 dark:border-white/[0.05] rounded-t-xl sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Mostrar"}),l.jsxs("div",{className:"relative z-20 bg-transparent",children:[l.jsxs("select",{className:"w-full py-2 pl-3 pr-8 text-sm text-gray-800 bg-transparent border border-gray-300 rounded-lg appearance-none dark:bg-dark-900 h-9 bg-none shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800",value:a,onChange:p,children:[l.jsx("option",{value:"10",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"10"}),l.jsx("option",{value:"25",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"25"}),l.jsx("option",{value:"50",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"50"}),l.jsx("option",{value:"100",className:"text-gray-500 dark:bg-gray-900 dark:text-gray-400",children:"100"})]}),l.jsx("span",{className:"absolute z-30 text-gray-500 -translate-y-1/2 right-2 top-1/2 dark:text-gray-400",children:l.jsx("svg",{className:"stroke-current",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M3.8335 5.9165L8.00016 10.0832L12.1668 5.9165",stroke:"",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"entradas"})]}),l.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:l.jsxs("div",{className:"relative",children:[l.jsx("button",{className:"absolute text-gray-500 -translate-y-1/2 left-4 top-1/2 dark:text-gray-400",children:l.jsx("svg",{className:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.04199 9.37363C3.04199 5.87693 5.87735 3.04199 9.37533 3.04199C12.8733 3.04199 15.7087 5.87693 15.7087 9.37363C15.7087 12.8703 12.8733 15.7053 9.37533 15.7053C5.87735 15.7053 3.04199 12.8703 3.04199 9.37363ZM9.37533 1.54199C5.04926 1.54199 1.54199 5.04817 1.54199 9.37363C1.54199 13.6991 5.04926 17.2053 9.37533 17.2053C11.2676 17.2053 13.0032 16.5344 14.3572 15.4176L17.1773 18.238C17.4702 18.5309 17.945 18.5309 18.2379 18.238C18.5308 17.9451 18.5309 17.4703 18.238 17.1773L15.4182 14.3573C16.5367 13.0033 17.2087 11.2669 17.2087 9.37363C17.2087 5.04817 13.7014 1.54199 9.37533 1.54199Z",fill:""})})}),l.jsx("input",{placeholder:"Buscar pedidos...",className:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent py-2.5 pl-12 pr-4 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 xl:w-[300px]",type:"text",value:s,onChange:f})]})})]}),l.jsx("div",{className:"max-w-full overflow-x-auto",children:l.jsx("div",{className:"min-w-[1102px]",children:l.jsxs(To,{children:[" ",l.jsx(Po,{className:"border-b border-gray-100 dark:border-white/[0.05]",children:l.jsxs(Mr,{children:[l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("id"),children:l.jsxs("span",{className:"flex items-center gap-1 h-full",children:[l.jsx("span",{children:"Pedido"}),m==="id"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})}),n&&l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("billing_name"),children:l.jsxs("span",{className:"flex items-center gap-1 h-full",children:[l.jsx("span",{children:"Cliente"}),m==="billing_name"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("created_at"),children:l.jsxs("span",{className:"flex items-center gap-1 h-full",children:[l.jsx("span",{children:"Data"}),m==="created_at"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("payment_method"),children:l.jsxs("span",{className:"flex items-center gap-1 h-full",children:[l.jsx("span",{children:"Método"}),m==="payment_method"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("total_amount"),children:l.jsxs("span",{className:"flex items-center gap-1 h-full",children:[l.jsx("span",{children:"Total"}),m==="total_amount"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("status"),children:l.jsxs("span",{className:"flex items-center gap-1 h-full",children:[l.jsx("span",{children:"Status"}),m==="status"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})}),l.jsx(et,{isHeader:!0,className:"px-5 py-3 h-12 relative font-medium text-gray-500 text-start text-theme-xs dark:text-gray-400",children:l.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center gap-1 text-left cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700 outline-none px-5 py-3",onClick:()=>v("acoes"),children:l.jsxs("span",{className:"flex items-center gap-1 h-full",children:[l.jsx("span",{children:"Ações"}),m==="acoes"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})})]})})," ",l.jsxs(Lo,{className:"divide-y divide-gray-100 dark:divide-white/[0.05]",children:[r.length>0?r.map(w=>l.jsxs(Mr,{children:[" ",l.jsx(et,{className:"px-5 py-4 sm:px-6 text-start",children:l.jsx("span",{className:"font-medium text-gray-800 text-theme-sm dark:text-white/90",children:w.id.substring(0,8)})})," ",n&&l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-800 dark:text-white/90",children:w.billing_name}),l.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[l.jsx("span",{children:w.billing_email}),l.jsx("button",{onClick:()=>u(w.billing_email,"email"),className:"p-0.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Copiar email",children:l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:l.jsx("path",{d:"M8 5H6C4.89543 5 4 5.89543 4 7V19C4 20.1046 4.89543 21 6 21H18C19.1046 21 20 20.1046 20 19V7C20 5.89543 19.1046 5 18 5H16M8 5C8 3.89543 8.89543 3 10 3H14C15.1046 3 16 3.89543 16 5M8 5C8 6.10457 8.89543 7 10 7H14C15.1046 7 16 6.10457 16 5M12 12H16M12 16H16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})," ",w.phone&&l.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[l.jsx("span",{children:TCe(w.phone)}),l.jsx("button",{onClick:()=>{const S=`https://web.whatsapp.com/send?phone=55${w.phone.replace(/\D/g,"")}`;window.open(S,"_blank")},className:"p-0.5 hover:bg-green-100 dark:hover:bg-green-900/20 rounded transition-colors",title:"Abrir WhatsApp",children:l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-green-500 hover:text-green-600 dark:hover:text-green-400",children:l.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.893 3.488",fill:"currentColor"})})})]})]})}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:h(w.created_at)}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:y(w.payment_method)}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:Vf(w.total_amount)}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:x(w.status)}),l.jsx(et,{className:"px-4 py-3 text-gray-500 text-start text-theme-sm dark:text-gray-400",children:l.jsxs(nt,{variant:"outline",size:"sm",onClick:()=>d(w.id),children:["Detalhes",l.jsx(SR,{className:"w-4 h-4 ml-2"})]})})]},w.id)):l.jsx(Mr,{children:l.jsx("td",{colSpan:n?7:6,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:n?"Nenhum pedido encontrado no sistema.":"Você ainda não realizou nenhum pedido."})})," "]})]})})}),l.jsx(x$,{currentPage:i,totalPages:o,totalItems:c.length,itemsPerPage:a,onPageChange:g,showInfo:!0,itemLabel:"pedidos"})]})]})}function MCe(){const{id:r}=nc(),e=Sr(),[t,n]=b.useState(null),[s,a]=b.useState([]),[i,o]=b.useState(!0),[c,d]=b.useState(""),[u,h]=b.useState(!1),[f,p]=b.useState(null),[g,m]=b.useState({}),[v,x]=b.useState({});b.useEffect(()=>{r&&w(r)},[r]);const y=()=>{r&&w(r)};async function w(M){var B;try{o(!0),d("");const{data:{user:z}}=await G.auth.getUser();if(!z)throw new Error("User not authenticated");const{data:V}=await G.from("admins").select("id").eq("id",z.id).maybeSingle(),W=!!V;let Z=G.from("orders").select("*").eq("id",M);W||(Z=Z.eq("user_id",z.id));const{data:q,error:Q}=await Z.single();if(Q)throw(B=Q.message)!=null&&B.includes("multiple (or no) rows returned")?new Error(`Pedido não encontrado ou você não tem permissão para visualizá-lo. ID do pedido: ${M}`):Q;if(!q)throw new Error("Order not found");n(q);const{data:T,error:H}=await G.from("order_items").select("*").eq("order_id",M);if(H)throw H;const $=(T||[]).map(K=>({...K,article_doc:K.article_doc||null,article_document_path:K.article_document_path||null,article_url_status:K.article_url_status||"pending",publication_status:K.publication_status||"pending"}));a($);const Y={};$.forEach(K=>{Y[K.id]=K.article_url||""}),m(Y)}catch(z){console.error("Error loading order details:",z),d(z.message||"Error loading order details")}finally{o(!1)}}const k=async(M,B)=>{try{const{error:z}=await G.from("order_items").update({publication_status:B}).eq("id",M);if(z)throw z;a(V=>V.map(W=>W.id===M?{...W,publication_status:B}:W))}catch(z){console.error("Error updating publication status:",z)}},S=(M,B)=>{m(V=>({...V,[M]:B})),v[M]&&clearTimeout(v[M]);const z=setTimeout(()=>{N(M)},1e3);x(V=>({...V,[M]:z}))},N=async M=>{try{if(!g[M]||g[M].trim()==="")return;const{error:B}=await G.from("order_items").update({article_url:g[M],article_url_status:"sent"}).eq("id",M);if(B)throw B;a(z=>z.map(V=>V.id===M?{...V,article_url:g[M],article_url_status:"sent"}:V))}catch(B){console.error("Error updating article URL:",B)}};return{order:t,orderItems:s,loading:i,error:c,isDocModalOpen:u,selectedItemId:f,articleUrl:g,navigate:e,handleChangePublicationStatus:k,handleArticleUrlChange:S,handleArticleUrlSubmit:N,openDocModal:M=>{p(M),h(!0)},closeDocModal:()=>{h(!1),p(null)},handleFileUpload:async M=>{if(!(!M||!f))try{a(B=>B.map(z=>z.id===f?{...z,article_doc:M.name}:z))}catch(B){console.error("Error updating file info:",B)}},formatDate:M=>new Date(M).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),getStatusBadge:M=>{switch(M){case"completed":return l.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-success-100 dark:bg-success-900/20 text-success-800 dark:text-success-400",children:"Concluído"});case"processing":return l.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-warning-100 dark:bg-warning-900/20 text-warning-800 dark:text-warning-400",children:"Processando"});case"cancelled":return l.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-error-100 dark:bg-error-900/20 text-error-800 dark:text-error-400",children:"Cancelado"});case"pending":default:return l.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-blue-light-100 dark:bg-blue-light-900/20 text-blue-light-800 dark:text-blue-light-400",children:"Pendente"})}},getPaymentStatusBadge:M=>{switch(M){case"paid":return l.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-success-100 dark:bg-success-900/20 text-success-800 dark:text-success-400",children:"Pago"});case"processing":return l.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-warning-100 dark:bg-warning-900/20 text-warning-800 dark:text-warning-400",children:"Processando"});case"failed":return l.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-error-100 dark:bg-error-900/20 text-error-800 dark:text-error-400",children:"Falhou"});case"pending":default:return l.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-blue-light-100 dark:bg-blue-light-900/20 text-blue-light-800 dark:text-blue-light-400",children:"Pendente"})}},getPaymentMethodLabel:M=>{switch(M){case"card":return"Cartão de Crédito";case"pix":return"PIX";case"boleto":return"Boleto";default:return M}},refreshOrderData:y}}class Ib{static async uploadFile(e,t){try{const{data:n,error:s}=await G.storage.from(this.bucketName).upload(e,t,{cacheControl:"3600",upsert:!1});return{data:n,error:s}}catch(n){return{data:null,error:n}}}static async downloadFile(e){try{const{data:t,error:n}=await G.storage.from(this.bucketName).download(e);return{data:t,error:n}}catch(t){return{data:null,error:t}}}static async getSignedUrl(e,t=3600){try{const{data:n,error:s}=await G.storage.from(this.bucketName).createSignedUrl(e,t);return{data:n,error:s}}catch(n){return{data:null,error:n}}}static async fileExists(e){try{const{data:t,error:n}=await G.storage.from(this.bucketName).list("",{limit:1,search:e});return n?!1:t&&t.length>0}catch{return!1}}static async listFiles(e=""){try{const{data:t,error:n}=await G.storage.from(this.bucketName).list(e);return{data:t,error:n}}catch(t){return{data:null,error:t}}}static async deleteFile(e){try{const{data:t,error:n}=await G.storage.from(this.bucketName).remove([e]);return{data:t,error:n}}catch(t){return{data:null,error:t}}}static async getFileInfo(e){try{const{data:t,error:n}=await G.storage.from(this.bucketName).list("",{limit:1,search:e});return n?{data:null,error:n}:{data:t&&t.length>0?t[0]:null,error:null}}catch(t){return{data:null,error:t}}}}hr(Ib,"bucketName","article_documents");function RCe(){const[r,e]=b.useState({}),[t,n]=b.useState(null);return{downloadLoading:r,downloadError:t,handleDownloadFile:async(i,o,c)=>{try{if(e(g=>({...g,[c]:!0})),n(null),!await Ib.fileExists(i))throw new Error("Arquivo não encontrado");const{data:u,error:h}=await Ib.downloadFile(i);if(h)throw h;if(!u)throw new Error("Erro ao baixar o arquivo");const f=URL.createObjectURL(u),p=document.createElement("a");p.href=f,p.download=o||i.split("/").pop()||"documento",document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(f)}catch(d){console.error("Erro ao baixar arquivo:",d),n(d.message||"Erro ao baixar o arquivo")}finally{e(d=>({...d,[c]:!1}))}},clearDownloadError:()=>{n(null)}}}function ICe(){const{order:r,orderItems:e,loading:t,error:n,isDocModalOpen:s,selectedItemId:a,articleUrl:i,navigate:o,handleChangePublicationStatus:c,handleArticleUrlChange:d,openDocModal:u,closeDocModal:h,handleFileUpload:f,formatDate:p,getStatusBadge:g,getPaymentStatusBadge:m,getPaymentMethodLabel:v}=MCe(),{downloadLoading:x,downloadError:y,handleDownloadFile:w,clearDownloadError:k}=RCe(),S=b.useRef(null),[N,A]=b.useState(null),[E,R]=b.useState(!1),[O,L]=b.useState(null),[D,F]=b.useState(!1),[M,B]=b.useState(!1);return{order:r,orderItems:e,loading:t,error:n,isDocModalOpen:s,selectedItemId:a,articleUrl:i,navigate:o,handleChangePublicationStatus:c,handleArticleUrlChange:d,openDocModal:u,closeDocModal:h,handleFileUpload:f,formatDate:p,getStatusBadge:g,getPaymentStatusBadge:m,getPaymentMethodLabel:v,fileInputRef:S,selectedFile:N,setSelectedFile:A,uploadLoading:E,uploadError:O,uploadSuccess:D,handleFileChange:Q=>{Q.target.files&&Q.target.files.length>0&&(A(Q.target.files[0]),L(null))},handleUploadClick:()=>{var Q;(Q=S.current)==null||Q.click()},handleUploadSubmit:async()=>{if(!N||!a){L("Por favor, selecione um arquivo para enviar.");return}try{if(R(!0),L(null),F(!1),!N.name.endsWith(".doc")&&!N.name.endsWith(".docx")){L("Apenas arquivos .doc ou .docx são permitidos.");return}if(N.size>10*1024*1024){L("O arquivo não pode ser maior que 10MB.");return}const Q=N.name.split(".").pop(),H=`${`${a}-${Date.now()}.${Q}`}`,{data:{user:$}}=await G.auth.getUser();if(!$)throw new Error("Usuário não autenticado");const{error:Y}=await G.storage.from("article_documents").upload(H,N);if(Y)throw Y;await Yl.getOrderItemWithOrder(a),await Yl.uploadArticleDocument(a,H,N.name),console.log("📄 Documento do artigo enviado com sucesso:",{itemId:a,filePath:H,fileName:N.name}),F(!0),await f(N),setTimeout(()=>{h(),A(null),F(!1)},2e3)}catch(Q){L(Q.message||"Erro ao enviar o arquivo. Tente novamente.")}finally{R(!1)}},downloadLoading:x,downloadError:y,handleDownloadFile:w,clearDownloadError:k,confirmingBoleto:M,handleConfirmBoletoPayment:async()=>{if(r)try{B(!0),console.log("🏦 Confirmando pagamento de boleto para pedido:",r.id),await KF(r.id)?(console.log("✅ Pagamento confirmado com sucesso"),window.location.reload()):console.error("❌ Falha ao confirmar pagamento")}catch(Q){console.error("❌ Erro ao confirmar pagamento:",Q)}finally{B(!1)}},sendArticleUrl:async(Q,T,H="article_doc")=>{try{console.log(`🔗 Iniciando atualização da URL do artigo (${H}):`,{itemId:Q,url:T}),await Yl.updateOrderItem(Q,{[H]:T,publication_status:"approved"}),console.log(`🔗 Link do artigo salvo em ${H} e status aprovado:`,{itemId:Q,url:T})}catch($){throw console.error(`❌ Erro ao salvar link do artigo em ${H}:`,$),$}}}}function OCe(){const[r,e]=b.useState("bottom"),[t,n]=b.useState("center"),s=b.useRef(null),a=b.useRef(null);return b.useEffect(()=>{function i(){if(!s.current||!a.current)return;const o=s.current.getBoundingClientRect(),c=a.current.getBoundingClientRect();let d=window,u=s.current.parentElement;for(;u;){const S=getComputedStyle(u).overflowY;if(S==="auto"||S==="scroll"){d=u;break}u=u.parentElement}let h=window.innerHeight,f=0,p=0,g=window.innerWidth;if(d instanceof HTMLElement){const S=d.getBoundingClientRect();h=S.bottom,f=S.top,p=S.left,g=S.right}const m=h-o.bottom,v=o.top-f,x=c.width,y=(o.left+o.right)/2,w=y-x/2,k=y+x/2;m<c.height+8&&v>c.height+8?e("top"):e("bottom"),w<p+8&&k>g-8?n("center"):w<p+8?n("left"):k>g-8?n("right"):n("center")}return i(),window.addEventListener("resize",i),window.addEventListener("scroll",i,!0),()=>{window.removeEventListener("resize",i),window.removeEventListener("scroll",i,!0)}},[]),{placement:r,alignX:t,triggerRef:s,tooltipRef:a}}function FCe({text:r,className:e="",children:t}){const{placement:n,alignX:s,triggerRef:a,tooltipRef:i}=OCe();b.useEffect(()=>{if(!a.current)return;let c=a.current.parentElement;for(;c;)c=c.parentElement},[a.current]);let o="";return s==="left"?o="left-0 -translate-x-0":s==="right"?o="right-0 translate-x-0":o="left-1/2 -translate-x-1/2",l.jsxs("div",{className:`group relative ${e}`,ref:a,children:[t||l.jsx("svg",{className:"w-3 h-3 text-gray-400 dark:text-gray-500 cursor-help",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("div",{ref:i,className:`absolute ${o} w-auto px-3 py-2 bg-gray-900 text-white !text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 ${n==="top"?"bottom-full mb-2":"top-full mt-2"}`,style:{color:"#fff",width:"max-content"},children:[l.jsx("span",{className:"block",style:{color:"#fff",fontSize:"inherit",fontWeight:"inherit",lineHeight:"inherit",fontFamily:"inherit",WebkitTextFillColor:"#fff",textShadow:"none",filter:"none",background:"none",boxShadow:"none",border:"none",outline:"none",textDecoration:"none",fontStyle:"inherit",letterSpacing:"inherit",wordBreak:"normal",whiteSpace:"normal",textAlign:"inherit",verticalAlign:"inherit",textTransform:"inherit",textRendering:"inherit",MozOsxFontSmoothing:"inherit",WebkitFontSmoothing:"inherit",fontVariant:"inherit",colorScheme:"light"},children:r}),n==="top"?l.jsx("div",{className:`absolute top-full ${s==="center"?"left-1/2 -translate-x-1/2":s==="left"?"left-4":"right-4"} border-4 border-transparent border-t-gray-900`}):l.jsx("div",{className:`absolute bottom-full ${s==="center"?"left-1/2 -translate-x-1/2":s==="left"?"left-4":"right-4"} border-4 border-transparent border-b-gray-900`})]})]})}function l3({label:r,description:e,value:t,onChange:n,onBlur:s,error:a,required:i=!1,type:o="text",placeholder:c,disabled:d=!1}){const u=h=>{let f=h.target.value;o==="url"&&f&&!f.match(/^https?:\/\//)&&(f=`https://${f}`),n(f)};return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[r,i&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e}),l.jsx("input",{type:o,value:t,onChange:u,onBlur:s,placeholder:c,disabled:d,className:`
          dark:bg-dark-900 shadow-theme-xs h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 transition-all duration-200
          focus:border-[#465fff] focus:ring-[3px] focus:ring-[color-mix(in_oklab,#465fff_10%,transparent)] focus:shadow-[inset_0_0_0_3px_color-mix(in_oklab,#465fff_10%,transparent)] dark:focus:border-[#465fff]
          ${a?"border-red-500 focus:ring-red-500/10 focus:border-red-500":""}
          ${d?"bg-gray-50 dark:bg-gray-800 cursor-not-allowed text-gray-700 dark:text-gray-300":""}
        `}),a&&l.jsx("p",{className:"text-xs text-red-500 mt-1",children:a})]})}function BCe({label:r,description:e,value:t,onChange:n,onBlur:s,error:a,required:i=!1,placeholder:o,rows:c=4,disabled:d=!1}){return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[r,i&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e}),l.jsx("textarea",{value:t,onChange:u=>n(u.target.value),onBlur:s,placeholder:o,rows:c,disabled:d,className:`
          dark:bg-dark-900 shadow-theme-xs min-h-[44px] w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 resize-vertical transition-all duration-200
          focus:border-[#465fff] focus:ring-[3px] focus:ring-[color-mix(in_oklab,#465fff_10%,transparent)] focus:shadow-[inset_0_0_0_3px_color-mix(in_oklab,#465fff_10%,transparent)] dark:focus:border-[#465fff]
          ${a?"border-red-500 focus:ring-red-500/10 focus:border-red-500":""}
          ${d?"bg-gray-50 dark:bg-gray-800 cursor-not-allowed text-gray-700 dark:text-gray-300":""}
        `}),a&&l.jsx("p",{className:"text-xs text-red-500 mt-1",children:a})]})}function zCe(r){try{return new URL(r),!0}catch{return!1}}function HCe(r){const e={};return r.palavraChave.trim()?r.palavraChave.trim().length<2&&(e.palavraChave="Palavra-chave deve ter pelo menos 2 caracteres"):e.palavraChave="Palavra-chave é obrigatória",r.urlSite.trim()?zCe(r.urlSite)||(e.urlSite="URL inválida. Exemplo: https://exemplo.com"):e.urlSite="URL do site é obrigatória",r.textoAncora.trim()?r.textoAncora.trim().length<2&&(e.textoAncora="Texto âncora deve ter pelo menos 2 caracteres"):e.textoAncora="Texto âncora é obrigatório",r.requisitosEspeciais.trim()?r.requisitosEspeciais.trim().length<10&&(e.requisitosEspeciais="Requisitos especiais devem ter pelo menos 10 caracteres"):e.requisitosEspeciais="Requisitos especiais são obrigatórios",e}function CP(r){return Object.keys(r).length>0}const c3={palavraChave:"",urlSite:"",textoAncora:"",requisitosEspeciais:""};function UCe(r){const[e,t]=b.useState(()=>r?(console.log("📝 Inicializando usePautaForm com dados:",r),r):c3),[n,s]=b.useState({}),[a,i]=b.useState({});return b.useEffect(()=>{r?(console.log("📝 Hook usePautaForm recebeu initialData (useEffect):",r),t(r)):(console.log("📝 Resetando para dados vazios"),t(c3))},[r]),{formData:e,errors:n,touched:a,updateField:(f,p)=>{t(g=>({...g,[f]:p})),n[f]&&s(g=>({...g,[f]:void 0}))},touchField:f=>{i(p=>({...p,[f]:!0}))},validateForm:()=>{const f=HCe(e);return s(f),!CP(f)},resetForm:()=>{t(c3),s({}),i({})},shouldShowError:f=>a[f]&&!!n[f],isFormValid:!CP(n)&&Object.keys(a).length>0}}function $Ce({onSubmit:r,loading:e=!1,onCancel:t,mode:n="create",initialData:s}){const a=n==="view",{formData:i,errors:o,updateField:c,touchField:d,validateForm:u,shouldShowError:h}=UCe(s);console.log("🎭 PautaForm - Mode:",n),console.log("📝 PautaForm - FormData atual:",i),console.log("🏁 PautaForm - InitialData recebido:",s);const f=async p=>{p.preventDefault(),u()&&await r(i)};return l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsx(l3,{label:"Palavra-chave alvo para criar o artigo",description:"Qual é a palavra-chave alvo ou o tópico do artigo que você deseja classificar?",value:i.palavraChave,onChange:p=>c("palavraChave",p),onBlur:()=>d("palavraChave"),error:h("palavraChave")?o.palavraChave:void 0,required:!0,placeholder:"Ex: marketing digital, SEO, vendas online...",disabled:a}),l.jsx(l3,{label:"URL do Site",description:"Insira a URL que você deseja incluir no seu conteúdo.",value:i.urlSite,onChange:p=>c("urlSite",p),onBlur:()=>d("urlSite"),error:h("urlSite")?o.urlSite:void 0,required:!0,type:"url",placeholder:"https://exemplo.com",disabled:a}),l.jsx(l3,{label:"Texto âncora",description:"Insira o texto âncora que você deseja inserir no link de saída do seu conteúdo.",value:i.textoAncora,onChange:p=>c("textoAncora",p),onBlur:()=>d("textoAncora"),error:h("textoAncora")?o.textoAncora:void 0,required:!0,placeholder:"Ex: clique aqui, saiba mais, confira nossos serviços...",disabled:a}),l.jsx(BCe,{label:"Requisitos especiais",description:"Se necessário, você pode escrever requisitos de tarefas adicionais aqui, por exemplo, link de artigos de referência, necessidade de divulgação, preferências quanto ao posicionamento do conteúdo, etc.",value:i.requisitosEspeciais,onChange:p=>c("requisitosEspeciais",p),onBlur:()=>d("requisitosEspeciais"),error:h("requisitosEspeciais")?o.requisitosEspeciais:void 0,required:!0,placeholder:"Descreva aqui requisitos específicos, links de referência, preferências de posicionamento, etc...",rows:5,disabled:a}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[l.jsx("button",{type:"button",onClick:t,disabled:e,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600",children:a?"Fechar":"Cancelar"}),!a&&l.jsxs("button",{type:"submit",disabled:e,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-brand-500 border border-transparent rounded-md hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e&&l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Enviar Pauta"]})]})]})}function VCe({isOpen:r,onClose:e,onSubmit:t,loading:n=!1,submitError:s,mode:a="create",initialData:i}){if(!r)return null;const o=a==="view",c=o?"Visualizar Pauta":"Enviar Pauta",d=async u=>{o||await t(u)};return l.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-99999",children:[l.jsx("div",{className:"fixed inset-0 h-full w-full bg-gray-400/50 backdrop-blur-[--background-blur]",onClick:e}),l.jsxs("div",{className:"relative w-full rounded-3xl bg-white dark:bg-gray-900 max-w-2xl mx-4 max-h-[calc(100vh-2rem)] overflow-hidden flex flex-col",children:[l.jsx("button",{onClick:e,className:"absolute right-3 top-3 z-999 flex h-9.5 w-9.5 items-center justify-center rounded-full bg-gray-100 text-gray-400 transition-colors hover:bg-gray-200 hover:text-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white sm:right-6 sm:top-6 sm:h-11 sm:w-11",children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.04289 16.5413C5.65237 16.9318 5.65237 17.565 6.04289 17.9555C6.43342 18.346 7.06658 18.346 7.45711 17.9555L11.9987 13.4139L16.5408 17.956C16.9313 18.3466 17.5645 18.3466 17.955 17.956C18.3455 17.5655 18.3455 16.9323 17.955 16.5418L13.4129 11.9997L17.955 7.4576C18.3455 7.06707 18.3455 6.43391 17.955 6.04338C17.5645 5.65286 16.9313 5.65286 16.5408 6.04338L11.9987 10.5855L7.45711 6.0439C7.06658 5.65338 6.43342 5.65338 6.04289 6.0439C5.65237 6.43442 5.65237 7.06759 6.04289 7.45811L10.5845 11.9997L6.04289 16.5413Z",fill:"currentColor"})})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-6",children:c}),s&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400",children:l.jsx("p",{className:"text-sm",children:s})}),l.jsx($Ce,{onSubmit:d,onCancel:e,loading:n,mode:a,initialData:i})]})]})]})}class z${static formatOutlineData(e){const t=new Date().toISOString();return{palavra_chave:e.palavraChave,url_site:e.urlSite,texto_ancora:e.textoAncora,requisitos_especiais:e.requisitosEspeciais,created_at:t,updated_at:t}}static async saveOutline(e,t){try{console.log("📝 Salvando outline para item:",e),console.log("📋 Dados do formulário:",t);const n=this.formatOutlineData(t);console.log("🔄 Dados formatados para o banco:",n),await Yl.updateOrderItemOutline(e,n),console.log("✅ Outline salvo com sucesso!")}catch(n){throw console.error("❌ Erro ao salvar outline:",n),new Error("Falha ao salvar pauta do artigo")}}static async getOutline(e){try{console.log("🔍 Buscando outline para item:",e);const t=await Yl.getOrderItemById(e);return t?(console.log("📋 Outline encontrado:",t.outline),t.outline||null):(console.log("❌ Item não encontrado"),null)}catch(t){return console.error("❌ Erro ao buscar outline:",t),null}}static async hasOutline(e){try{return await this.getOutline(e)!==null}catch(t){return console.error("❌ Erro ao verificar outline:",t),!1}}}function WCe(){const[r,e]=b.useState(!1),[t,n]=b.useState(null);return{isSubmitting:r,submitError:t,submitPauta:async(i,o)=>{try{if(e(!0),n(null),console.log("🚀 Iniciando submit da pauta"),console.log("📄 Item ID:",i),console.log("📋 Form Data:",o),!i)throw new Error("ID do item é obrigatório");if(!o.palavraChave.trim())throw new Error("Palavra-chave é obrigatória");if(!o.urlSite.trim())throw new Error("URL do site é obrigatória");if(!o.textoAncora.trim())throw new Error("Texto âncora é obrigatório");return await z$.saveOutline(i,o),console.log("✅ Pauta enviada com sucesso!"),!0}catch(c){console.error("❌ Erro ao enviar pauta:",c);const d=c instanceof Error?c.message:"Erro desconhecido ao enviar pauta";return n(d),!1}finally{e(!1)}},clearError:()=>{n(null)}}}function qCe(r){const[e,t]=b.useState(!1),[n,s]=b.useState(""),[a,i]=b.useState("create"),[o,c]=b.useState(void 0),{isSubmitting:d,submitError:u,submitPauta:h,clearError:f}=WCe(),p=async x=>{s(x),i("create"),c(void 0),t(!0),f()},g=async(x,y)=>{try{if(s(x),i("view"),y){console.log("📋 Dados outline recebidos:",y);const w={palavraChave:y.palavra_chave||"",urlSite:y.url_site||"",textoAncora:y.texto_ancora||"",requisitosEspeciais:y.requisitos_especiais||""};console.log("🔄 Dados convertidos para formulário:",w),c(w)}else{const w=await z$.getOutline(x);w&&c({palavraChave:w.palavra_chave||"",urlSite:w.url_site||"",textoAncora:w.texto_ancora||"",requisitosEspeciais:w.requisitos_especiais||""})}t(!0),f()}catch(w){console.error("Erro ao carregar dados da pauta:",w)}},m=()=>{t(!1),s(""),i("create"),c(void 0),f()};return{isOpen:e,selectedItemId:n,mode:a,initialData:o,loading:d,submitError:u,openModal:p,openViewModal:g,closeModal:m,submitPauta:async x=>{if(!n){console.error("❌ Item ID não encontrado");return}await h(n,x)&&(m(),r==null||r())},clearError:f}}function YCe(){const[r,e]=b.useState(null),t=b.useCallback(async(n,s)=>{try{return await navigator.clipboard.writeText(n),e(s),setTimeout(()=>{e(null)},2e3),!0}catch(a){return console.error("Erro ao copiar texto:",a),!1}},[]);return{copiedItem:r,copyToClipboard:t}}function H$({text:r,identifier:e,className:t=""}){const{copiedItem:n,copyToClipboard:s}=YCe(),a=n===e,i=async()=>{r.trim()&&await s(r,e)};return l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:i,disabled:!r.trim(),className:`
          p-1.5 rounded-md transition-colors duration-200
          ${r.trim()?"text-gray-500 hover:text-gray-700 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:bg-gray-700":"text-gray-300 cursor-not-allowed"}
          ${t}
        `,title:r.trim()?"Copiar":"Nenhum texto para copiar",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),a&&l.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 px-2 py-1 bg-gray-800 text-white text-xs rounded whitespace-nowrap z-50",children:["Copiado!",l.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-2 border-r-2 border-t-2 border-transparent border-t-gray-800"})]})]})}function d3({label:r,description:e,value:t,type:n="text",itemId:s,fieldName:a}){const i=t||"Não informado";return l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:r}),e&&l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex-1 p-3 bg-gray-50 dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-700",children:n==="url"&&t?l.jsx("a",{href:t.startsWith("http")?t:`https://${t}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-brand-500 hover:text-brand-600 dark:text-brand-400 hover:underline break-all",children:t}):l.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 break-all",children:i})}),l.jsx(H$,{text:t||"",identifier:`${a}-${s}`})]})]})}function GCe({label:r,description:e,value:t,itemId:n,fieldName:s}){const a=t||"Nenhum requisito especial informado";return l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:r}),e&&l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e}),l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx("div",{className:"flex-1 p-3 bg-gray-50 dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-700 min-h-[80px]",children:l.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap break-words",children:a})}),l.jsx("div",{className:"pt-1",children:l.jsx(H$,{text:t||"",identifier:`${s}-${n}`})})]})]})}function XCe({isOpen:r,onClose:e,itemId:t,pautaData:n,loading:s}){const a=n!=null;return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`fixed inset-0 bg-black z-[999999] transition-all duration-300 ${r?"bg-opacity-50 visible":"bg-opacity-0 invisible"}`,onClick:e}),l.jsx("div",{className:`fixed top-0 right-0 h-full w-96 bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800 shadow-2xl z-[999999] transition-transform duration-300 ease-in-out ${r?"translate-x-0":"translate-x-full"}`,children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white",children:"Detalhes do Artigo"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s?l.jsxs("div",{className:"flex items-center justify-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-500"}),l.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Carregando..."})]}):a?l.jsxs("div",{className:"space-y-6",children:[l.jsx(d3,{label:"Palavra-chave alvo para criar o artigo",value:n.palavra_chave||"",itemId:t,fieldName:"palavra-chave"}),l.jsx(d3,{label:"URL do Site",value:n.url_site||"",type:"url",itemId:t,fieldName:"url-site"}),l.jsx(d3,{label:"Texto âncora",value:n.texto_ancora||"",itemId:t,fieldName:"texto-ancora"}),l.jsx(GCe,{label:"Requisitos especiais",value:n.requisitos_especiais||"",itemId:t,fieldName:"requisitos"}),l.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Pauta enviada em: ",new Date(n.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]})})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"A pauta para este artigo ainda não foi enviada."})})}),l.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-800",children:l.jsx("button",{onClick:e,className:"w-full px-4 py-2 text-sm font-medium text-white bg-brand-500 border border-transparent rounded-md hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 transition-colors",children:"Fechar"})})]})})]})}function ZCe(){const[r,e]=b.useState(!1),[t,n]=b.useState(""),[s,a]=b.useState(null),[i,o]=b.useState(!1),[c,d]=b.useState(null),u=b.useCallback((f,p)=>{if(n(f),e(!0),o(!1),d(null),p){const g={id:f,order_item_id:f,palavra_chave:p.palavra_chave||"",url_site:p.url_site||"",texto_ancora:p.texto_ancora||"",requisitos_especiais:p.requisitos_especiais||"",created_at:p.created_at||new Date().toISOString(),updated_at:p.updated_at||new Date().toISOString()};a(g)}else a(null)},[]),h=b.useCallback(()=>{e(!1),n(""),a(null),o(!1),d(null)},[]);return{isOpen:r,selectedItemId:t,pautaData:s,loading:i,error:c,openModal:u,closeModal:h}}function JCe({isOpen:r,onClose:e,itemId:t,orderItemData:n}){const[s,a]=b.useState(""),[i]=b.useState([{id:"1",text:"Olá! Como posso ajudá-lo com este artigo?",sender:"support",timestamp:new Date}]);if(!r)return null;const o=()=>{s.trim()&&a("")},c=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),o())};return console.log("Chat aberto para item:",t),l.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-99999",children:[l.jsx("div",{className:"fixed inset-0 h-full w-full bg-gray-400/50 backdrop-blur-[--background-blur]",onClick:e}),l.jsxs("div",{className:"relative w-full rounded-3xl bg-white dark:bg-gray-900 max-w-md mx-4 max-h-[600px] overflow-hidden flex flex-col",children:[l.jsx("button",{onClick:e,className:"absolute right-3 top-3 z-999 flex h-9.5 w-9.5 items-center justify-center rounded-full bg-gray-100 text-gray-400 transition-colors hover:bg-gray-200 hover:text-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.04289 16.5413C5.65237 16.9318 5.65237 17.565 6.04289 17.9555C6.43342 18.346 7.06658 18.346 7.45711 17.9555L11.9987 13.4139L16.5408 17.956C16.9313 18.3466 17.5645 18.3466 17.955 17.956C18.3455 17.5655 18.3455 16.9323 17.955 16.5418L13.4129 11.9997L17.955 7.4576C18.3455 7.06707 18.3455 6.43391 17.955 6.04338C17.5645 5.65286 16.9313 5.65286 16.5408 6.04338L11.9987 10.5855L7.45711 6.0439C7.06658 5.65338 6.43342 5.65338 6.04289 6.0439C5.65237 6.43442 5.65237 7.06759 6.04289 7.45811L10.5845 11.9997L6.04289 16.5413Z",fill:"currentColor"})})}),l.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white",children:"Chat - Suporte"}),n&&l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 truncate",children:n.product_name||n.product_url})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-[300px]",children:i.map(d=>l.jsx("div",{className:`flex ${d.sender==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg text-sm ${d.sender==="user"?"bg-brand-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100"}`,children:[l.jsx("p",{children:d.text}),l.jsx("div",{className:`text-xs mt-1 ${d.sender==="user"?"text-brand-100":"text-gray-500 dark:text-gray-400"}`,children:d.timestamp.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})},d.id))}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 p-4",children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("textarea",{value:s,onChange:d=>a(d.target.value),onKeyPress:c,placeholder:"Digite sua mensagem...",rows:2,className:"flex-1 resize-none border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent dark:bg-gray-800 dark:text-white"}),l.jsx("button",{onClick:o,disabled:!s.trim(),className:"px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:"Enviar"})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Pressione Enter para enviar, Shift+Enter para nova linha"})]})]})]})}class U${static determineStatus(e){return e.isRejected?this.STATUS_CONFIG.rejected:e.isPublished||e.hasArticleUrl?this.STATUS_CONFIG.published:e.hasArticle?this.STATUS_CONFIG.in_preparation:e.hasPackage?e.hasOutline?this.STATUS_CONFIG.in_preparation:this.STATUS_CONFIG.pauta_pending:this.STATUS_CONFIG.article_pending}static getStatusConfig(e){return this.STATUS_CONFIG[e]}static getAllStatusTypes(){return Object.keys(this.STATUS_CONFIG)}}hr(U$,"STATUS_CONFIG",{rejected:{type:"rejected",label:"Reprovado",className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm bg-error-100 text-error-800 dark:bg-error-900/20 dark:text-error-400"},published:{type:"published",label:"Publicado",className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm bg-success-100 text-success-800 dark:bg-success-900/20 dark:text-success-400"},article_sent:{type:"article_sent",label:"Artigo Enviado",className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},pauta_sent:{type:"pauta_sent",label:"Pauta Enviada",className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},in_preparation:{type:"in_preparation",label:"Em preparação",className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm bg-gray-500 text-white dark:bg-white/5 dark:text-white"},pauta_pending:{type:"pauta_pending",label:"Aguardando Pauta",className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm bg-gray-500 text-white dark:bg-white/5 dark:text-white"},article_pending:{type:"article_pending",label:"Artigo Pendente",className:"inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium text-sm bg-warning-50 text-warning-600 dark:bg-warning-500/15 dark:text-orange-400"},pending:{type:"pending",label:"Pendente",className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-warning-100 text-warning-800 dark:bg-warning-900/20 dark:text-warning-400"}});class H1{static hasPackageSelected(e){try{let t=null;if(Array.isArray(e.service_content)&&e.service_content.length>0){const n=e.service_content[0];typeof n=="string"?t=JSON.parse(n):typeof n=="object"&&(t=n)}else typeof e.service_content=="string"?t=JSON.parse(e.service_content):typeof e.service_content=="object"&&(t=e.service_content);return t&&t.benefits&&t.benefits.length>0}catch{return!1}}static hasOutlineData(e){return!!(e.outline&&typeof e.outline=="object"&&Object.keys(e.outline).length>0)}static hasArticleData(e){return!!(e.article_document_path||e.article_doc)}static hasArticleUrl(e){return!!(e.article_url&&e.article_url.trim().length>0)}static isRejected(e){return e.publication_status==="rejected"}static isPublished(e){return e.publication_status==="approved"}static extractStatusContext(e){return{hasPackage:this.hasPackageSelected(e),hasOutline:this.hasOutlineData(e),hasArticle:this.hasArticleData(e),hasArticleUrl:this.hasArticleUrl(e),publicationStatus:e.publication_status||"",isRejected:this.isRejected(e),isPublished:this.isPublished(e)}}}function KCe({orderId:r,isAdmin:e,onPackageModalOpen:t,onDocModalOpen:n,onUrlEditModalOpen:s,onDownloadFile:a,onChangePublicationStatus:i,downloadLoading:o,refreshTrigger:c}){const[d,u]=b.useState([]),[h,f]=b.useState(!0),[p,g]=b.useState(null),[m,v]=b.useState(0),[x,y]=b.useState({}),[w,k]=b.useState(null),S=b.useRef(null),[N,A]=b.useState("product_name"),[E,R]=b.useState("asc"),O=qCe(()=>v(T=>T+1)),L=ZCe(),[D,F]=b.useState(!1),[M,B]=b.useState(null),z=T=>{B(T),F(!0)},V=()=>{F(!1),B(null)},W=T=>{L.openModal(T.id,T.outline)},Z=async()=>{try{f(!0),g(null);const{data:T,error:H}=await G.from("order_items").select("*").eq("order_id",r).order("created_at",{ascending:!0});if(H)throw H;u(T||[])}catch(T){console.error("Error loading order items:",T),g(T.message||"Erro ao carregar itens do pedido")}finally{f(!1)}};b.useEffect(()=>{r&&Z()},[r]),b.useEffect(()=>{c&&r&&(console.log("🔄 Refresh manual disparado:",c),Z())},[c,r]),b.useEffect(()=>{m>0&&r&&(console.log("🔄 Refresh após pauta enviada:",m),Z())},[m,r]),b.useEffect(()=>{const T={};d.forEach(H=>{T[H.id]=H.publication_status||"pending"}),y(T)},[d]),b.useEffect(()=>{function T(H){S.current&&!S.current.contains(H.target)&&k(null)}return w?document.addEventListener("mousedown",T):document.removeEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[w]);const q=T=>{N===T?R(H=>H==="asc"?"desc":"asc"):(A(T),R("asc"))},Q=[...d].sort((T,H)=>{let $=T[N],Y=H[N];if(N==="service_content"){const K=re=>{if(!re)return"";let oe=null;try{if(Array.isArray(re)&&re.length>0){const ue=re[0];typeof ue=="string"?oe=JSON.parse(ue):typeof ue=="object"&&(oe=ue)}else typeof re=="string"?oe=JSON.parse(re):typeof re=="object"&&(oe=re)}catch{}return oe&&typeof oe.title=="string"?oe.title:""};$=K($),Y=K(Y)}return["article_document_path","article_url","publication_status"].includes(N)?($=$||"",Y=Y||"",$=String($).toLowerCase(),Y=String(Y).toLowerCase(),$<Y?E==="asc"?-1:1:$>Y?E==="asc"?1:-1:0):N==="acao"?0:typeof $=="string"&&typeof Y=="string"?($=$.toLowerCase(),Y=Y.toLowerCase(),$<Y?E==="asc"?-1:1:$>Y?E==="asc"?1:-1:0):typeof $=="number"&&typeof Y=="number"?E==="asc"?$-Y:Y-$:$==null?1:Y==null?-1:0});return h?l.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-4 mb-6",children:l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-3",children:"Itens do Pedido"}),l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-500"})})]})}):p?l.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-4 mb-6",children:l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-3",children:"Itens do Pedido"}),l.jsx("div",{className:"text-center text-red-500 py-4",children:p})]})}):l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-4 mb-6",children:[l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-3",children:"Itens do Pedido"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-800",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>q("product_name"),children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{children:"Produto"}),N==="product_name"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>q("service_content"),children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{children:"Pacote de Conteúdo"}),N==="service_content"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>q("article_document_path"),children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{children:"Artigo DOC"}),N==="article_document_path"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>q("article_url"),children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{children:"URL do Artigo"}),l.jsx(FCe,{text:"A URL fica disponível após a publicação do artigo em um prazo de 3 a 5 dias"}),N==="article_url"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>q("publication_status"),children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{children:"Status de Publicação"}),N==="publication_status"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}),e&&l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer select-none hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>q("acao"),children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{children:"Ação"}),N==="acao"&&l.jsxs("span",{className:"flex flex-col gap-0.5 ml-1",children:[l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 0.585167C4.21057 0.300808 3.78943 0.300807 3.59038 0.585166L1.05071 4.21327C0.81874 4.54466 1.05582 5 1.46033 5H6.53967C6.94418 5 7.18126 4.54466 6.94929 4.21327L4.40962 0.585167Z",fill:""})}),l.jsx("svg",{className:"fill-gray-300 dark:fill-gray-700",width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4.40962 4.41483C4.21057 4.69919 3.78943 4.69919 3.59038 4.41483L1.05071 0.786732C0.81874 0.455343 1.05582 0 1.46033 0H6.53967C6.94418 0 7.18126 0.455342 6.94929 0.786731L4.40962 4.41483Z",fill:""})})]})]})})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 bg-white dark:divide-gray-800 dark:bg-gray-900",children:Q.map(T=>{var H;return l.jsxs("tr",{children:[l.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-sm text-gray-700 dark:text-gray-300",children:T.product_url?l.jsxs("div",{className:"flex items-center",children:[l.jsx("img",{src:Vl(T.product_url),alt:"Site icon",width:"20",height:"20",className:"mr-2",onError:$=>{$.target.style.display="none"}}),l.jsx("a",{href:T.product_url.startsWith("http")?T.product_url:`https://${T.product_url}`,target:"_blank",rel:"noopener noreferrer",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:T.product_name||T.product_url})]}):l.jsx("span",{children:T.product_name})}),l.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-sm text-gray-700 dark:text-gray-300",children:(()=>{if(!T.service_content)return l.jsx("span",{className:"text-gray-500",children:"Pacote não especificado"});let $=null;try{if(Array.isArray(T.service_content)&&T.service_content.length>0){const Y=T.service_content[0];typeof Y=="string"?$=JSON.parse(Y):typeof Y=="object"&&($=Y)}else typeof T.service_content=="string"?$=JSON.parse(T.service_content):typeof T.service_content=="object"&&($=T.service_content)}catch(Y){return console.error("Erro ao fazer parse do service_content:",Y),l.jsx("span",{className:"text-gray-500",children:"Erro no formato do pacote"})}return $?($==null?void 0:$.title)===Lt.LEGACY_NONE||($==null?void 0:$.title)===Lt.NONE?l.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-bold",children:$.title}):l.jsxs("button",{onClick:()=>t($),className:"text-gray-900 dark:text-gray-100 hover:text-gray-700 dark:hover:text-gray-300 hover:underline font-medium text-left flex items-center gap-2",title:"Clique para ver detalhes do pacote",children:[l.jsxs("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),($==null?void 0:$.title)||"Pacote sem título"]}):l.jsx("span",{className:"text-gray-500",children:"Dados do pacote indisponíveis"})})()}),l.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-sm text-gray-700 dark:text-gray-300",children:(()=>{if(T.article_document_path)return l.jsxs("button",{onClick:()=>a(T.article_document_path,T.article_doc||"documento.docx",T.id),disabled:o[T.id],className:"flex items-center p-1 rounded disabled:opacity-50 disabled:cursor-not-allowed font-medium focus:outline-none",style:{textDecoration:"none",gap:"2px"},type:"button",title:"Baixar artigo",children:[l.jsx("span",{className:"text-brand-500 hover:text-brand-600 dark:text-brand-400",children:"Artigo"}),l.jsx("span",{className:"ml-1 flex items-center",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",fill:"none",stroke:"currentColor"})})})]});if(T.article_doc&&typeof T.article_doc=="string"&&T.article_doc.includes("http"))return l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("a",{href:T.article_doc,target:"_blank",rel:"noopener noreferrer",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400 flex items-center font-medium focus:outline-none",style:{textDecoration:"none"},title:"Abrir artigo em nova aba",children:"Artigo"}),l.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(T.article_doc)},className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded flex items-center",title:"Copiar link",type:"button",style:{marginLeft:"-2px"},children:[l.jsx("span",{className:"sr-only",children:"Copiar link"}),l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.50391 4.25C8.50391 3.83579 8.83969 3.5 9.25391 3.5H15.2777C15.4766 3.5 15.6674 3.57902 15.8081 3.71967L18.2807 6.19234C18.4214 6.333 18.5004 6.52376 18.5004 6.72268V16.75C18.5004 17.1642 18.1646 17.5 17.7504 17.5H16.248V17.4993H14.748V17.5H9.25391C8.83969 17.5 8.50391 17.1642 8.50391 16.75V4.25ZM14.748 19H9.25391C8.01126 19 7.00391 17.9926 7.00391 16.75V6.49854H6.24805C5.83383 6.49854 5.49805 6.83432 5.49805 7.24854V19.75C5.49805 20.1642 5.83383 20.5 6.24805 20.5H13.998C14.4123 20.5 14.748 20.1642 14.748 19.75L14.748 19ZM7.00391 4.99854V4.25C7.00391 3.00736 8.01127 2 9.25391 2H15.2777C15.8745 2 16.4468 2.23705 16.8687 2.659L19.3414 5.13168C19.7634 5.55364 20.0004 6.12594 20.0004 6.72268V16.75C20.0004 17.9926 18.9931 19 17.7504 19H16.248L16.248 19.75C16.248 20.9926 15.2407 22 13.998 22H6.24805C5.00541 22 3.99805 20.9926 3.99805 19.75V7.24854C3.99805 6.00589 5.00541 4.99854 6.24805 4.99854H7.00391Z",fill:"currentColor"})})]})]});const $=H1.hasPackageSelected(T),Y=H1.hasOutlineData(T);if($&&Y&&!e)return l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-5 h-5 mr-2 bg-green-500 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:"Pauta enviada"})]});let K="Enviar Artigo",re=()=>n(T.id);return $&&!Y?(K="Enviar Pauta",re=()=>O.openModal(T.id)):$&&Y&&e&&(K="Enviar Artigo",re=()=>n(T.id)),l.jsxs("button",{onClick:re,className:"text-brand-500 hover:text-brand-600 dark:text-brand-400 flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),K]})})()}),l.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-sm text-gray-700 dark:text-gray-300",children:l.jsx("div",{className:"flex items-center gap-2",children:T.article_url?l.jsxs(l.Fragment,{children:[l.jsx("a",{href:(H=T.article_url)!=null&&H.startsWith("http")?T.article_url:`https://${T.article_url}`,target:"_blank",rel:"noopener noreferrer",className:"text-brand-500 hover:text-brand-600 dark:text-brand-400 font-medium",children:"Abrir url"}),l.jsx("div",{className:"relative",children:e?l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded flex items-center",title:"Opções",type:"button",onClick:()=>k(w===T.id?null:T.id),children:l.jsxs("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{cx:"12",cy:"5",r:"2",fill:"currentColor"}),l.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor"}),l.jsx("circle",{cx:"12",cy:"19",r:"2",fill:"currentColor"})]})}),w===T.id&&l.jsxs("div",{ref:S,className:"absolute z-20 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded shadow-lg text-xs min-w-[100px] max-w-[140px] max-h-32 overflow-y-auto",style:{left:"100%",top:"50%",transform:"translateY(-50%)",marginLeft:"8px",minWidth:100,maxWidth:140,fontSize:"0.85rem",padding:0},children:[l.jsx("button",{onClick:()=>{s(T.id,T.article_url||""),k(null)},className:"block w-full text-left px-3 py-1 text-xs text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800",type:"button",style:{fontSize:"0.85rem"},children:"Editar"}),l.jsx("button",{onClick:()=>{navigator.clipboard.writeText(T.article_url),k(null)},className:"block w-full text-left px-3 py-1 text-xs text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800",type:"button",style:{fontSize:"0.85rem"},children:"Copiar"})]})]}):l.jsx("button",{onClick:()=>navigator.clipboard.writeText(T.article_url),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded flex items-center",title:"Copiar URL",type:"button",children:l.jsx("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})})]}):e?l.jsxs("button",{onClick:()=>s(T.id,""),className:"text-brand-500 hover:text-brand-600 dark:text-brand-400 flex items-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Adicionar URL"]}):l.jsx("span",{className:"text-gray-500 dark:text-gray-400 italic",children:"Aguardando"})})}),l.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-sm text-gray-700 dark:text-gray-300",children:(()=>{const $=H1.extractStatusContext(T),Y=U$.determineStatus($);return l.jsx("span",{className:Y.className,children:Y.label})})()}),l.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-sm",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>z(T),className:"p-2 transition-all duration-200 hover:opacity-80 hover:scale-105 bg-[#677f9b] dark:bg-slate-600 dark:hover:bg-slate-500",style:{borderRadius:"12px"},title:"Abrir chat",children:l.jsx(DR,{className:"w-5 h-5 text-white"})}),l.jsxs("button",{onClick:()=>W(T),className:"relative p-2 transition-all duration-200 hover:opacity-80 hover:scale-105 bg-[#677f9b] dark:bg-slate-600 dark:hover:bg-slate-500",style:{borderRadius:"12px"},title:"Ver detalhes do artigo",children:[l.jsx(Xm,{className:"w-5 h-5 text-white"}),!H1.hasArticleData(T)&&l.jsx("span",{className:"absolute -top-1 -right-1 z-10 h-2 w-2 rounded-full bg-red-500 flex",children:l.jsx("span",{className:"absolute -z-10 inline-flex h-full w-full animate-ping rounded-full bg-red-500 opacity-75"})})]})]})}),e&&l.jsx("td",{className:"whitespace-nowrap px-4 py-4 text-sm text-gray-700 dark:text-gray-300",children:l.jsxs("select",{value:x[T.id]||"pending",onChange:$=>{const Y=$.target.value;y(K=>({...K,[T.id]:Y})),i(T.id,Y)},className:"block w-[calc(100%+4px)] rounded-md border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm h-9",children:[l.jsx("option",{value:"pending",children:"Pendente"}),l.jsx("option",{value:"approved",children:"Aprovar"}),l.jsx("option",{value:"rejected",children:"Reprovar"})]})})]},T.id)})})]})})]}),l.jsx(VCe,{isOpen:O.isOpen,onClose:O.closeModal,onSubmit:O.submitPauta,itemId:O.selectedItemId,loading:O.loading,submitError:O.submitError,mode:O.mode,initialData:O.initialData}),l.jsx(XCe,{isOpen:L.isOpen,onClose:L.closeModal,itemId:L.selectedItemId,pautaData:L.pautaData,loading:L.loading}),l.jsx(JCe,{isOpen:D,onClose:V,itemId:(M==null?void 0:M.id)||"",orderItemData:M?{product_name:M.product_name,product_url:M.product_url}:void 0})]})}function QCe({isOpen:r,onClose:e,onConfirm:t,title:n,message:s,confirmationText:a,isDeleting:i,deleteError:o}){const[c,d]=b.useState(""),[u,h]=b.useState(!1);b.useEffect(()=>{r&&(d(""),h(!1))},[r]),b.useEffect(()=>{h(c.toLowerCase()===a.toLowerCase())},[c,a]);const f=()=>{u&&t()};return r?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9999999] transition-opacity",onClick:e}),l.jsx("div",{className:"fixed inset-0 z-[9999999] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n}),l.jsx("button",{onClick:e,disabled:i,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-red-100 dark:bg-red-900/20 rounded-full",children:l.jsx("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})})," ",l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:s}),l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 mb-4",children:l.jsx("p",{className:"text-sm text-red-800 dark:text-red-200 font-medium",children:"Esta ação não pode ser desfeita!"})})]})," ",l.jsxs("div",{className:"mb-6",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:['Para confirmar, digite "',l.jsx("span",{className:"font-bold",children:a}),'" abaixo:']}),l.jsx("input",{type:"text",value:c,onChange:p=>d(p.target.value),disabled:i,className:"dark:bg-dark-900 shadow-theme-xs h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 focus:border-[#465fff] focus:ring-[3px] focus:ring-[color-mix(in_oklab,#465fff_10%,transparent)] focus:shadow-[inset_0_0_0_3px_color-mix(in_oklab,#465fff_10%,transparent)] dark:focus:border-[#465fff]",placeholder:a,autoComplete:"off"})]}),o&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:l.jsx("div",{className:"text-red-800 dark:text-red-200 text-sm",children:o})})]}),l.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[l.jsx(nt,{variant:"outline",onClick:e,disabled:i,className:"flex-1",children:"Cancelar"}),l.jsx(nt,{onClick:f,disabled:!u||i,className:"flex-1 bg-red-400 hover:bg-red-500 text-white disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed",children:i?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Excluindo..."]}):"Confirmar Exclusão"})]})]})})]}):null}function eSe({isOpen:r,onClose:e,order:t,getPaymentMethodLabel:n,getPaymentStatusBadge:s,confirmingBoleto:a,handleConfirmBoletoPayment:i,openConfirmDeleteModal:o,isDeletingOrder:c,deleteError:d,isConfirmDeleteModalOpen:u,closeConfirmDeleteModal:h,deleteOrder:f,isAdmin:p}){const g=Sr();return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`fixed inset-0 bg-black z-[999999] transition-all duration-300 ${r?"bg-opacity-50 visible":"bg-opacity-0 invisible"}`,onClick:e}),l.jsx("div",{className:`fixed top-0 right-0 h-full w-96 bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800 shadow-2xl z-[999999] transition-transform duration-300 ease-in-out ${r?"translate-x-0":"translate-x-full"}`,children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white",children:"Informações do Pedido"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Método de Pagamento"}),l.jsx("p",{className:"text-gray-800 dark:text-white",children:n(t.payment_method)})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Valor Total"}),l.jsx("p",{className:"text-gray-800 dark:text-white font-semibold text-lg",children:Ev(t.total_amount)})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Status do Pagamento"}),l.jsx("div",{className:"text-gray-800 dark:text-white",children:s(t.payment_status)})]}),t.payment_id&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"ID do Pagamento"}),l.jsx("p",{className:"text-gray-800 dark:text-white font-mono text-sm",children:t.payment_id})]}),t.payment_method==="boleto"&&t.payment_status==="pending"&&p&&l.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200 mb-1",children:"Aguardando Confirmação de Pagamento"}),l.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-300",children:"Boleto aguardando confirmação bancária"})]}),l.jsx(nt,{onClick:i,disabled:a,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:a?l.jsxs("div",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Confirmando..."]}):"Confirmar Pagamento"})]})})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 my-4 pt-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-4",children:"Informações de Cobrança"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Nome"}),l.jsx("p",{className:"text-gray-800 dark:text-white",children:t.billing_name})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Email"}),l.jsx("p",{className:"text-gray-800 dark:text-white",children:t.billing_email})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Endereço"}),l.jsx("p",{className:"text-gray-800 dark:text-white",children:t.billing_address}),l.jsxs("p",{className:"text-gray-800 dark:text-white",children:[t.billing_city,", ",t.billing_state]}),l.jsxs("p",{className:"text-gray-800 dark:text-white",children:["CEP: ",t.billing_zip_code]})]})," ",l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Documento"}),l.jsx("p",{className:"text-gray-800 dark:text-white",children:t.billing_document_number})," "]}),p&&l.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-800",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:"Ações Administrativas"}),d&&l.jsx("div",{className:"mb-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:l.jsx("div",{className:"text-red-800 dark:text-red-200 text-sm",children:d})}),l.jsx(nt,{variant:"outline",onClick:()=>o(t.id),disabled:c,className:"w-full bg-red-50 border-red-200 text-red-700 hover:bg-red-100 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 dark:hover:bg-red-900/30",children:c?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Excluindo Pedido..."]}):l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})," ","Excluir Pedido"]})})]})]})]})]})," ",l.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-800",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(nt,{variant:"outline",onClick:()=>g("/orders"),className:"flex-1",children:"Voltar para Pedidos"}),l.jsx(nt,{onClick:e,className:"flex-1",children:"Fechar"})]})})," "]})})," ",l.jsx(QCe,{isOpen:u,onClose:h,onConfirm:f,title:"Confirmar Exclusão do Pedido",message:`Tem certeza que deseja excluir o pedido #${t.id.substring(0,8)}? Esta ação não pode ser desfeita e removerá permanentemente o pedido e todos os seus itens do sistema.`,confirmationText:"excluir pedido",isDeleting:c,deleteError:d})]})}class tSe{static async getOrderArticleDocuments(e){try{console.log("🔍 Buscando documentos de artigos para o pedido:",e);const t=await Yl.listOrderItemsByOrder(e);if(!t||t.length===0)return console.log("📄 Nenhum item encontrado para o pedido:",e),[];const n=t.filter(s=>s.article_document_path&&s.article_document_path.trim()!=="");return console.log(`📄 Encontrados ${n.length} itens com documentos de artigos para o pedido ${e}`),n.map(s=>({id:s.id,article_document_path:s.article_document_path,article_doc:s.article_doc}))}catch(t){throw console.error("❌ Erro ao buscar documentos de artigos do pedido:",t),new Error(`Falha ao buscar documentos de artigos: ${t instanceof Error?t.message:"Erro desconhecido"}`)}}static async deleteArticleDocuments(e){const t={success:!0,deletedFiles:[],failedFiles:[]};if(!e||e.length===0)return console.log("📄 Nenhum documento de artigo para excluir"),t;console.log(`🗑️ Iniciando exclusão de ${e.length} documentos de artigos...`);for(const n of e)if(n.article_document_path)try{console.log(`🗑️ Excluindo arquivo: ${n.article_document_path}`);const{error:s}=await Ib.deleteFile(n.article_document_path);if(s)throw new Error(s.message||"Erro ao excluir arquivo do bucket");t.deletedFiles.push(n.article_document_path),console.log(`✅ Arquivo excluído com sucesso: ${n.article_document_path}`)}catch(s){const a=s instanceof Error?s.message:"Erro desconhecido";console.error(`❌ Erro ao excluir arquivo ${n.article_document_path}:`,a),t.failedFiles.push({path:n.article_document_path,error:a}),t.success=!1}return console.log("📊 Resumo da exclusão de arquivos:",{arquivosExcluidos:t.deletedFiles.length,arquivosFalharam:t.failedFiles.length,sucessoTotal:t.success}),t}static async deleteOrderArticleDocuments(e){try{console.log("🚀 Iniciando exclusão de documentos de artigos para o pedido:",e);const t=await this.getOrderArticleDocuments(e);if(t.length===0)return console.log("📄 Nenhum documento de artigo encontrado para excluir"),{success:!0,deletedFiles:[],failedFiles:[]};const n=await this.deleteArticleDocuments(t);return n.success?console.log(`✅ Todos os documentos de artigos foram excluídos com sucesso para o pedido ${e}`):console.warn(`⚠️ Alguns documentos de artigos falharam ao ser excluídos para o pedido ${e}:`,n.failedFiles),n}catch(t){return console.error("❌ Erro na exclusão de documentos de artigos:",t),{success:!1,deletedFiles:[],failedFiles:[{path:"N/A",error:t instanceof Error?t.message:"Erro desconhecido"}]}}}}function rSe(){const r=Sr(),[e,t]=b.useState({isDeleting:!1,error:null});return{deletionState:e,deleteOrderWithFiles:async i=>{t({isDeleting:!0,error:null});try{console.log("🚀 Iniciando exclusão completa do pedido com arquivos:",i),console.log("📄 Passo 1: Excluindo documentos de artigos...");const o=await tSe.deleteOrderArticleDocuments(i);console.log("🗑️ Passo 2: Excluindo pedido do banco de dados...");const c=await tB(i);if(!c)throw new Error("Falha ao excluir o pedido do banco de dados");const d=c&&o.success,u={success:d,orderDeleted:c,articleDeletionResult:o};return d?console.log("✅ Exclusão completa do pedido realizada com sucesso!"):console.warn("⚠️ Exclusão do pedido realizada com algumas falhas:",{orderDeleted:c,articleDeletionSuccess:o.success,failedFiles:o.failedFiles}),t({isDeleting:!1,error:null,articleDeletionResult:o}),u}catch(o){const c=o instanceof Error?o.message:"Erro desconhecido na exclusão";return console.error("❌ Erro na exclusão completa do pedido:",c),t({isDeleting:!1,error:c}),{success:!1,orderDeleted:!1,articleDeletionResult:{success:!1,deletedFiles:[],failedFiles:[{path:"N/A",error:c}]},error:c}}},navigateAfterDeletion:i=>{if(i.success)r("/orders",{state:{deletionSuccess:!0,message:"Pedido e arquivos associados excluídos com sucesso!"}});else if(i.orderDeleted&&!i.articleDeletionResult.success){const o=i.articleDeletionResult.failedFiles.length;r("/orders",{state:{deletionSuccess:!0,message:`Pedido excluído com sucesso! Atenção: ${o} arquivo(s) não puderam ser removidos do storage.`}})}else r("/orders",{state:{deletionSuccess:!1,message:i.error||"Erro ao excluir pedido. Tente novamente."}})},clearError:()=>{t(i=>({...i,error:null}))},isDeleting:e.isDeleting,error:e.error}}function nSe(){const[r,e]=b.useState(!1),[t,n]=b.useState(!1),[s,a]=b.useState(null),[i,o]=b.useState(!1),[c,d]=b.useState(""),[u,h]=b.useState(null),{deleteOrderWithFiles:f,navigateAfterDeletion:p}=rSe(),g=()=>{e(!0),a(null)},m=()=>{e(!1),a(null)},v=S=>{h(S),o(!0),d(""),a(null)},x=()=>{o(!1),d(""),h(null),a(null)},y=S=>{d(S)},w=c.toLowerCase()==="excluir pedido";return{isOrderInfoModalOpen:r,openOrderInfoModal:g,closeOrderInfoModal:m,deleteOrder:async()=>{if(!u){a("ID do pedido não encontrado");return}try{n(!0),a(null),console.log("🗑️ Iniciando exclusão do pedido com arquivos:",u);const S=await f(u);if(S.success)console.log("✅ Pedido excluído com sucesso"),x(),m(),p(S);else throw new Error(S.error||"Falha ao excluir o pedido e/ou arquivos associados")}catch(S){console.error("❌ Erro na exclusão do pedido:",S);let N="Erro ao excluir pedido";S.message&&S.message.includes("permission")?N="Você não tem permissão para excluir este pedido":S.message&&S.message.includes("not found")?N="Pedido não encontrado":S.code==="42501"?N="Sem permissão para excluir - faltam políticas de DELETE no banco":S.message&&(N=S.message),a(N)}finally{n(!1)}},isDeletingOrder:t,deleteError:s,isConfirmDeleteModalOpen:i,openConfirmDeleteModal:v,closeConfirmDeleteModal:x,confirmationText:c,handleConfirmationTextChange:y,isConfirmationValid:w}}function sSe(){var $e;const[r,e]=b.useState(!1),[t,n]=b.useState(0),[s,a]=b.useState(0),[i,o]=b.useState(!1),[c,d]=b.useState(""),[u,h]=b.useState(""),[f,p]=b.useState(!1),[g,m]=b.useState(null),{order:v,orderItems:x,loading:y,error:w,isDocModalOpen:k,navigate:S,handleChangePublicationStatus:N,openDocModal:A,closeDocModal:E,formatDate:R,fileInputRef:O,selectedFile:L,uploadLoading:D,uploadError:F,uploadSuccess:M,handleFileChange:B,handleUploadClick:z,handleUploadSubmit:V,downloadLoading:W,downloadError:Z,handleDownloadFile:q,clearDownloadError:Q,sendArticleUrl:T,getPaymentMethodLabel:H,getPaymentStatusBadge:$,confirmingBoleto:Y,handleConfirmBoletoPayment:K,selectedItemId:re}=ICe(),[oe,ue]=b.useState(!1),{isConfirmDeleteModalOpen:be,openConfirmDeleteModal:Ce,closeConfirmDeleteModal:Se,deleteOrder:De,isDeletingOrder:at,deleteError:_e}=nSe(),[le,ut]=b.useState("upload"),[rt,je]=b.useState(""),[fe,Re]=b.useState(null);b.useEffect(()=>{(async()=>{try{const{data:{user:Ue}}=await G.auth.getUser();if(!Ue)return;const{data:yt}=await G.from("admins").select("id").eq("id",Ue.id).maybeSingle();e(!!yt)}catch(Ue){console.error("Error checking admin status:",Ue)}})()},[]);const He=(pt,Ue="")=>{d(pt),h(Ue),o(!0)},it=()=>{o(!1),d(""),h("")},Le=pt=>{m(pt),p(!0)},ze=()=>{p(!1),m(null)},Fe=()=>{n(pt=>pt+1)},Ze=()=>{a(pt=>pt+1)},ft=async()=>{if(c)try{await T(c,u,"article_url"),it(),Fe(),Ze()}catch(pt){console.error("Erro ao salvar URL do artigo publicado:",pt)}},xt=()=>v?v.payment_status!=="paid"?2:x.every(yt=>yt.article_document_path)?(x.every(yt=>yt.article_url),4):3:1,Ae=x.some(pt=>pt.article_document_path),he=x.some(pt=>pt.article_url),mt=async()=>{if(!rt.trim()){Re("Informe a URL do Google Docs.");return}Re(null);try{await T(re,rt.trim()),E(),je(""),ut("upload"),Fe(),Ze()}catch{Re("Erro ao enviar URL. Tente novamente.")}};return y?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):w?l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8",children:l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Erro ao Carregar Pedido"}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6",children:[l.jsx("div",{className:"text-red-800 dark:text-red-200 font-medium mb-2",children:"Mensagem de Erro:"}),l.jsx("div",{className:"text-red-700 dark:text-red-300 text-sm font-mono break-all",children:w})]}),l.jsxs("div",{className:"space-y-4 text-sm text-gray-600 dark:text-gray-400",children:[l.jsx("div",{children:l.jsx("strong",{children:"Como investigar este problema:"})}),l.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"Abra o Console do navegador (F12) para ver os logs de debug"}),l.jsx("li",{children:"Verifique se o ID do pedido na URL está correto"}),l.jsx("li",{children:"Confirme se você tem permissão para visualizar este pedido"}),l.jsx("li",{children:"Se você é admin, verifique se está cadastrado na tabela 'admins'"})]})]}),l.jsxs("div",{className:"mt-6 flex gap-3",children:[l.jsx(nt,{onClick:()=>S("/orders"),children:"Voltar para Pedidos"})," ",l.jsx(nt,{variant:"outline",onClick:()=>window.location.href=window.location.href,children:"Tentar Novamente"})]})]})})}):v?l.jsxs("div",{className:"min-h-screen dark:bg-gray-900",children:[l.jsxs("div",{className:"container mx-auto px-4 py-6 bg-white rounded-xl border border-gray-200 dark:bg-gray-900 dark:border-gray-800",children:[l.jsx("div",{className:"w-full",children:l.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-4 mb-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 relative",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-1",children:["ID do Pedido: ",v.id.substring(0,8)]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["Realizado em ",R(v.created_at)]})})," "]}),l.jsx("button",{className:"absolute top-0 right-0 mt-2 mr-2 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none",onClick:()=>ue(!0),title:"Mais informações",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"text-gray-500 dark:text-gray-300",children:[l.jsx("circle",{cx:"5",cy:"12",r:"2"}),l.jsx("circle",{cx:"12",cy:"12",r:"2"}),l.jsx("circle",{cx:"19",cy:"12",r:"2"})]})})]})})}),l.jsx("div",{className:"w-full mb-6",children:l.jsx(x8,{currentStep:xt(),paymentStatus:v.payment_status,orderStatus:v.status,hasArticleDocument:Ae,articleUrl:he?"exists":void 0,orderDate:v.created_at,orderItems:x,refreshTrigger:s,orderId:v.id})}),l.jsxs("div",{className:"w-full",children:[" ",l.jsx(KCe,{orderId:v.id,isAdmin:r,onPackageModalOpen:Le,onDocModalOpen:A,onUrlEditModalOpen:He,onDownloadFile:q,onChangePublicationStatus:async(pt,Ue)=>{await N(pt,Ue),Fe()},downloadLoading:W,refreshTrigger:t})]})]}),Z&&l.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-error-500 text-white p-4 rounded-lg shadow-lg flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),l.jsx("span",{children:Z}),l.jsx("button",{onClick:Q,className:"ml-2 text-white hover:text-gray-200",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})," ",l.jsx(ai,{isOpen:k,onClose:()=>{E(),ut("upload"),je(""),Re(null)},className:"max-w-md m-4",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-6",children:"Enviar Artigo em DOCX"}),l.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[l.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Especificações do artigo:"}),l.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"inline-block w-2 h-2 bg-blue-400 rounded-full mt-1.5 mr-2 flex-shrink-0"}),"Texto com no máximo 1000 palavras"]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"inline-block w-2 h-2 bg-blue-400 rounded-full mt-1.5 mr-2 flex-shrink-0"}),"Incluir 2 links para 2 palavras chaves"]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"inline-block w-2 h-2 bg-blue-400 rounded-full mt-1.5 mr-2 flex-shrink-0"}),"Incluir 1 imagem de destaque com fonte"]})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200 dark:border-blue-700",children:[l.jsx("p",{children:"Veja o exemplo: "}),l.jsx("a",{href:"https://docs.google.com/document/d/1t9I9VkMCWEiNNsDsoJVvmwi8kf1Nk5iR8rfFMlNVp8A/edit?usp=sharing",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline text-sm",children:"Abrir Link de exemplo"})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Como deseja enviar o Artigo?"}),l.jsx(or,{options:[{value:"upload",label:"Upload de arquivo"},{value:"link",label:"Link Google Docs"}],value:le,onChange:ut,placeholder:"Selecione uma opção"})]}),le==="upload"?l.jsxs("div",{className:"mb-6 flex flex-col items-center justify-center",children:[l.jsxs("div",{onClick:z,className:"w-full h-40 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-brand-500 dark:hover:border-brand-500 transition-colors",children:[l.jsx("svg",{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Clique para selecionar ou arraste um arquivo"}),l.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Formatos aceitos: .doc, .docx"}),l.jsx("input",{ref:O,type:"file",accept:".doc,.docx",className:"hidden",onChange:B})]}),L&&l.jsx("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg w-full",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{className:"w-6 h-6 text-brand-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:L.name})]})}),F&&l.jsx("div",{className:"mt-4 p-3 bg-error-50 dark:bg-error-900/20 text-error-600 dark:text-error-400 rounded-lg w-full text-sm",children:F}),M&&l.jsx("div",{className:"mt-4 p-3 bg-success-50 dark:bg-success-900/20 text-success-600 dark:text-success-400 rounded-lg w-full text-sm",children:"Arquivo enviado com sucesso!"})]}):l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Link do Google Docs"}),l.jsx(st,{type:"url",value:rt,onChange:pt=>je(pt.target.value),placeholder:"Cole aqui o link do Google Docs",required:!0,className:fe?"border-error-500":""}),fe&&l.jsx("div",{className:"mt-2 text-error-500 text-xs",children:fe})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(nt,{variant:"outline",onClick:()=>{E(),ut("upload"),je(""),Re(null)},disabled:D,children:"Cancelar"}),le==="upload"?l.jsx(nt,{onClick:async()=>{await V(),Fe(),Ze()},disabled:!L||D,children:D?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enviando..."]}):"Enviar"}):l.jsx(nt,{onClick:mt,disabled:!rt.trim(),children:"Enviar"})]})]})}),l.jsx(ai,{isOpen:i,onClose:it,className:"max-w-md m-4",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-6",children:"Editar URL do Artigo Publicado"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"URL do Artigo Publicado"}),l.jsx("input",{type:"url",value:u,onChange:pt=>h(pt.target.value),className:"dark:bg-dark-900 shadow-theme-xs h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 transition-all duration-200 focus:border-[#465fff] focus:ring-[3px] focus:ring-[color-mix(in_oklab,#465fff_10%,transparent)] focus:shadow-[inset_0_0_0_3px_color-mix(in_oklab,#465fff_10%,transparent)] dark:focus:border-[#465fff]",placeholder:"https://exemplo.com/artigo"})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(nt,{variant:"outline",onClick:it,children:"Cancelar"}),l.jsx(nt,{onClick:()=>{Ze(),ft()},disabled:!u.trim(),children:"Salvar"})]})]})}),l.jsx(ai,{isOpen:f,onClose:ze,className:"max-w-md m-4",children:l.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]",children:g&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"mb-3 block text-xl font-semibold text-gray-800 dark:text-white/90",children:g.title})," ",l.jsx("div",{className:"mb-1",children:l.jsxs("div",{className:"flex items-end",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white/90",children:g.is_free?"R$ 0,00":`R$ ${(($e=g.price)==null?void 0:$e.toFixed(2).replace(".",","))||"0,00"}`}),g.price_per_word&&!g.is_free&&l.jsx("span",{className:"mb-1 inline-block text-sm text-gray-500 dark:text-gray-400 ml-1",children:"/por palavra"})]})}),g.word_count&&l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:[g.word_count," palavras"]}),l.jsx("div",{className:"my-6 h-px w-full bg-gray-200 dark:bg-gray-800"}),g.benefits&&g.benefits.length>0&&l.jsx("div",{className:"mb-8 space-y-3",children:g.benefits.map((pt,Ue)=>l.jsxs("p",{className:"flex items-center gap-3 text-sm text-gray-500 dark:text-gray-400",children:[l.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M13.4017 4.35986L6.12166 11.6399L2.59833 8.11657",stroke:"#12B76A",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})}),pt]},Ue))})]})})})," ",l.jsx(eSe,{isOpen:oe,onClose:()=>ue(!1),order:v,getPaymentMethodLabel:H,getPaymentStatusBadge:$,confirmingBoleto:Y,handleConfirmBoletoPayment:K,openConfirmDeleteModal:Ce,isDeletingOrder:at,deleteError:_e,isConfirmDeleteModalOpen:be,closeConfirmDeleteModal:Se,deleteOrder:De,isAdmin:r})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[l.jsx("div",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Pedido não encontrado"}),l.jsx(nt,{onClick:()=>S("/orders"),children:"Voltar para Pedidos"})]})}function aSe(){const[r,e]=b.useState(""),[t,n]=b.useState(""),[s,a]=b.useState(""),[i,o]=b.useState(""),[c,d]=b.useState(""),[u,h]=b.useState(""),[f,p]=b.useState(!1),[g,m]=b.useState(null),v=Sr();return{firstName:r,setFirstName:e,lastName:t,setLastName:n,email:s,setEmail:a,password:i,setPassword:o,confirmPassword:c,setConfirmPassword:d,phone:u,setPhone:h,loading:f,error:g,handleSubmit:async y=>{y.preventDefault(),p(!0),m(null);try{const w=await AZ({firstName:r,lastName:t,email:s,password:i,phone:u});w.success?v("/verify-email"):w.error&&typeof w.error=="string"&&w.error.toLowerCase().includes("already")?m("Este e-mail já está cadastrado. Faça login ou use outro e-mail."):m(w.error||"Erro ao cadastrar administrador.")}catch(w){w&&typeof w.message=="string"&&w.message.toLowerCase().includes("already")?m("Este e-mail já está cadastrado. Faça login ou use outro e-mail."):m(w.message||"Erro ao cadastrar administrador.")}finally{p(!1)}}}}function iSe(){const{firstName:r,setFirstName:e,lastName:t,setLastName:n,email:s,setEmail:a,password:i,setPassword:o,confirmPassword:c,setConfirmPassword:d,phone:u,setPhone:h,error:f,handleSubmit:p}=aSe();return b.useEffect(()=>{f&&Tn(f,"error")},[f]),l.jsxs(Uxe,{fallback:l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-error-500",children:"Acesso não autorizado"})}),children:[l.jsx(er,{pageTitle:"Cadastrar Administrador",description:"Cadastro de novo administrador"}),l.jsx(Dr,{pageTitle:"Cadastrar Administrador"}),l.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] w-full flex justify-center",children:l.jsx("div",{className:"p-5 lg:p-6 w-full",children:l.jsxs("form",{className:"max-w-xl w-full space-y-6",onSubmit:p,autoComplete:"off",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs(Me,{htmlFor:"firstName",children:["Nome ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{id:"firstName",name:"firstName",placeholder:"Digite o nome",value:r,onChange:g=>e(g.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsxs(Me,{htmlFor:"lastName",children:["Sobrenome ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{id:"lastName",name:"lastName",placeholder:"Digite o sobrenome",value:t,onChange:g=>n(g.target.value),required:!0})]})]}),l.jsxs("div",{children:[l.jsxs(Me,{htmlFor:"email",children:["Email ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{id:"email",name:"email",type:"email",placeholder:"Digite o email",value:s,onChange:g=>a(g.target.value),required:!0,autoComplete:"off"})]}),l.jsxs("div",{children:[l.jsxs(Me,{htmlFor:"password",children:["Senha ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{id:"password",name:"password",type:"password",placeholder:"Digite a senha",value:i,onChange:g=>o(g.target.value),required:!0,autoComplete:"new-password"})]}),l.jsxs("div",{children:[l.jsxs(Me,{htmlFor:"confirmPassword",children:["Confirmar Senha ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsx(st,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirme a senha",value:c,onChange:g=>d(g.target.value),required:!0,autoComplete:"new-password"})]}),l.jsxs("div",{children:[l.jsx(Me,{htmlFor:"phone",children:"Telefone"}),l.jsx(st,{id:"phone",name:"phone",type:"text",placeholder:"(99) 99999-9999",value:u,onChange:g=>h(g.target.value)})]}),l.jsxs("div",{children:[l.jsxs(Me,{children:["Tipo de Conta ",l.jsx("span",{className:"text-error-500",children:"*"})]}),l.jsxs("div",{className:"rounded-lg border border-brand-500 bg-brand-50 dark:border-brand-400 dark:bg-brand-500/10 p-4 flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex items-center justify-center w-4 h-4 rounded-full border-2 border-brand-500 bg-brand-500 dark:border-brand-400 dark:bg-brand-400 mr-2",children:l.jsx("span",{className:"w-2 h-2 m-0.5 rounded-full bg-white"})}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-800 dark:text-white/90",children:"Administrador"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Conta com permissões administrativas totais"})]})]})]}),l.jsxs("div",{className:"flex justify-end pt-6 gap-2",children:[l.jsx(nt,{variant:"outline",size:"md",onClick:()=>window.location.href="/users",children:"Cancelar"}),l.jsx(nt,{variant:"primary",size:"md",children:"Cadastrar administrador"})]})]})})})]})}function U1(r){if(!r)return"";const e=new Date(r);if(isNaN(e.getTime()))return"";const t=e.getTimezoneOffset();return new Date(e.getTime()-t*6e4).toISOString().slice(0,16)}function oSe({initialCoupon:r,onSubmit:e,loading:t}){const[n,s]=b.useState(()=>({...r,start_date:U1(r.start_date),end_date:U1(r.end_date)})),{toasts:a,addToast:i,removeToast:o}=h8(),c=h=>{const{name:f,value:p,type:g}=h.target;if(g==="checkbox"){const m=h.target.checked;s(v=>({...v,[f]:m}))}else s(g==="number"?m=>({...m,[f]:p===""?void 0:parseFloat(p)}):m=>({...m,[f]:p||void 0}))},d=()=>{var h,f;return(h=n.code)!=null&&h.trim()?(f=n.name)!=null&&f.trim()?(n.discount_value??0)<=0?(i("[Desconto] Valor do desconto deve ser maior que zero","error"),!1):n.discount_type==="percentage"&&(n.discount_value??0)>100?(i("[Desconto] Desconto percentual não pode ser maior que 100%","error"),!1):n.maximum_amount&&n.minimum_amount&&n.maximum_amount<=n.minimum_amount?(i("[Valor Máximo] Valor máximo deve ser maior que o valor mínimo","error"),!1):n.end_date&&n.start_date&&new Date(n.end_date)<=new Date(n.start_date)?(i("[Datas] Data de fim deve ser posterior à data de início","error"),!1):!0:(i("[Nome] Nome é obrigatório","error"),!1):(i("[Código] Código é obrigatório","error"),!1)},u=async h=>{if(h.preventDefault(),!d())return;const f={...n,start_date:n.start_date||void 0,end_date:n.end_date||void 0};await e(f)};return b.useEffect(()=>{s({...r,start_date:U1(r.start_date),end_date:U1(r.end_date)})},[r]),l.jsxs(l.Fragment,{children:[l.jsx(u8,{toasts:a,onRemove:o}),l.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Código *"}),l.jsx("input",{type:"text",name:"code",value:n.code||"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome *"}),l.jsx("input",{type:"text",name:"name",value:n.name||"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descrição"}),l.jsx("textarea",{name:"description",value:n.description||"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",rows:2})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de desconto"}),l.jsxs("select",{name:"discount_type",value:n.discount_type,onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",children:[l.jsx("option",{value:"percentage",children:"Desconto em porcentagem"}),l.jsx("option",{value:"cart_fixed",children:"Desconto fixo de carrinho"}),l.jsx("option",{value:"product_fixed",children:"Desconto fixo de produto"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Valor do desconto *"}),l.jsx("input",{type:"number",name:"discount_value",value:n.discount_value??"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",required:!0,min:0,step:.01})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Valor mínimo para uso"}),l.jsx("input",{type:"number",name:"minimum_amount",value:n.minimum_amount??"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",min:0,step:.01})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Valor máximo do pedido"}),l.jsx("input",{type:"number",name:"maximum_amount",value:n.maximum_amount??"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",min:0,step:.01})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Limite de uso"}),l.jsx("input",{type:"number",name:"usage_limit",value:n.usage_limit??"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",min:0,step:1})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Limite de uso por cliente"}),l.jsx("input",{type:"number",name:"usage_limit_per_customer",value:n.usage_limit_per_customer??"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white",min:0,step:1})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data de Início"}),l.jsx("input",{type:"datetime-local",name:"start_date",value:n.start_date||"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data de Expiração"}),l.jsx("input",{type:"datetime-local",name:"end_date",value:n.end_date||"",onChange:c,className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:text-white"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"is_active",checked:n.is_active,onChange:c,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Cupom ativo"})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("input",{type:"checkbox",name:"individual_use_only",checked:n.individual_use_only||!1,onChange:c,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5"}),l.jsxs("div",{className:"ml-2",children:[l.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Apenas uso individual"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Marque esta opção caso o cupom não possa ser utilizado juntamente com outros cupons."})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("input",{type:"checkbox",name:"exclude_sale_items",checked:n.exclude_sale_items||!1,onChange:c,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5"}),l.jsxs("div",{className:"ml-2",children:[l.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Excluir itens em oferta"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Selecione esta opção caso o cupom não seja válido para produtos em promoção. Cupons aplicados por item funcionarão somente se o item não estiver em promoção. Cupons aplicados ao carrinho só serão válidos caso não haja produtos em promoção no carrinho."})]})]}),l.jsx("div",{className:"flex justify-end gap-2 pt-2",children:l.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-500 text-white rounded hover:bg-brand-600 transition-colors",disabled:t,children:"Salvar"})})]})]})}function lSe({offsetTop:r=20,onlyOnDesktop:e=!0}={}){const t=b.useRef(null),n=b.useRef(null),[s,a]=b.useState(!1),[i,o]=b.useState({}),[c,d]=b.useState({}),u=b.useRef(null),h=b.useRef(null),f=b.useCallback(()=>{if(!t.current)return;if(e&&window.innerWidth<768){a(!1),o({}),d({display:"none"}),u.current=null,h.current=null;return}const g=t.current;if(!u.current&&!s){const x=g.getBoundingClientRect();u.current={top:x.top+window.scrollY,left:x.left,width:x.width,height:x.height},h.current=x.width}if(!u.current)return;const v=window.scrollY>u.current.top-r;if(v&&!s){const x=g.getBoundingClientRect();a(!0),o({position:"fixed",top:r,left:x.left,width:h.current||x.width,zIndex:10}),d({height:u.current.height,width:"100%",display:"block"})}else!v&&s&&(a(!1),o({}),d({display:"none"}),u.current=null,h.current=null)},[s,r,e]),p=b.useCallback(()=>{u.current=null,a(!1),o({}),d({display:"none"}),requestAnimationFrame(f)},[f]);return b.useEffect(()=>{let g=!1;const m=()=>{g||(requestAnimationFrame(()=>{f(),g=!1}),g=!0)};return window.addEventListener("scroll",m,{passive:!0}),window.addEventListener("resize",p),requestAnimationFrame(f),()=>{window.removeEventListener("scroll",m),window.removeEventListener("resize",p)}},[f,p]),{ref:t,placeholderRef:n,style:i,placeholderStyle:c,isFixed:s}}const cSe=()=>{const{id:r}=nc(),e=Sr(),[t,n]=b.useState(null),[s,a]=b.useState(!0),[i,o]=b.useState(!1),c=lSe({offsetTop:20,onlyOnDesktop:!0}),{toasts:d,addToast:u,removeToast:h}=h8();b.useEffect(()=>{r&&(a(!0),qT(r).then(p=>n(p)).finally(()=>a(!1)))},[r]);const f=async p=>{o(!0);try{if(await t4e({...p,id:r})){u("Cupom atualizado com sucesso!","success");const m=await qT(r);n(m)}else u("Erro ao atualizar cupom.","error")}catch{u("Erro inesperado ao atualizar cupom.","error")}finally{o(!1)}};return s?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Carregando..."})}):t?l.jsxs("div",{className:"w-full main-content p-4 mx-auto max-w-[--breakpoint-2xl] md:p-6 overflow-hidden",children:[l.jsx(u8,{toasts:d,onRemove:h}),l.jsxs("section",{className:"flex min-h-screen",children:[l.jsxs("div",{className:"flex-1 pr-0 md:pr-4 lg:pr-8 xl:pr-12 2xl:pr-16 flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white/90",children:"Editar Cupom"}),l.jsxs("button",{type:"button",className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-brand-500 dark:hover:text-brand-400 transition-colors text-sm font-medium",onClick:()=>e(-1),children:[l.jsx("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M11.25 15L5.25 9L11.25 3",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})}),"Voltar"]})]}),l.jsx("div",{ref:c.placeholderRef,style:c.placeholderStyle}),l.jsxs("div",{ref:c.ref,style:c.style,className:"border border-gray-200 dark:border-white/[0.05] rounded-xl bg-white dark:bg-gray-900 p-6 mb-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Nome"}),l.jsx("span",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:t.name})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Código"}),l.jsx("span",{className:"font-mono text-base text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-800 rounded px-2 py-1",children:t.code})]}),t.description&&l.jsxs("div",{children:[l.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Descrição"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:t.description})]})]})]}),l.jsx("div",{className:"top-0 right-0 h-full w-full max-w-md bg-white dark:bg-gray-900 p-6 z-50 flex flex-col border-l border-gray-200 dark:border-gray-800 border border-gray-200 dark:border-white/[0.05]",style:{minWidth:340},children:l.jsx(oSe,{initialCoupon:t,onSubmit:f,loading:i})})]})]}):l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-lg text-red-500",children:"Cupom não encontrado."})})};function u3({children:r}){const[e,t]=b.useState(null),[n,s]=b.useState(!0);b.useEffect(()=>{a();const{data:{subscription:i}}=G.auth.onAuthStateChange(o=>{o==="SIGNED_IN"?t(!0):o==="SIGNED_OUT"&&t(!1)});return()=>{i.unsubscribe()}},[]);async function a(){try{s(!0);const{data:{session:i}}=await G.auth.getSession();t(!!i)}catch(i){console.error("Auth check error:",i),t(!1)}finally{s(!1)}}return n?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):e?l.jsx(l.Fragment,{children:r}):l.jsx(qD,{to:"/",replace:!0})}function dSe(){return l.jsxs(CG,{children:[l.jsx(m4e,{}),l.jsx(ede,{}),l.jsxs(eG,{children:[l.jsx(Rt,{path:"/",element:l.jsx(YA,{})}),l.jsx(Rt,{path:"/register",element:l.jsx(Cxe,{})}),l.jsx(Rt,{path:"/verify-email",element:l.jsx(Sxe,{})}),l.jsx(Rt,{path:"/reset-password",element:l.jsx(GA,{})}),l.jsx(Rt,{path:"/password-recovery",element:l.jsx(XA,{})}),l.jsx(Rt,{path:"/forms/preview/:id",element:l.jsx(R2e,{})}),l.jsx(Rt,{path:"/terms",element:l.jsx(uxe,{})}),l.jsx(Rt,{path:"/privacy",element:l.jsx(vxe,{})}),l.jsx(Rt,{path:"/adm",element:l.jsx(YA,{})}),l.jsx(Rt,{path:"/adm/reset-password",element:l.jsx(GA,{})}),l.jsx(Rt,{path:"/adm/password-recovery",element:l.jsx(XA,{})}),l.jsxs(Rt,{element:l.jsx(u3,{children:l.jsx(o4,{})}),children:[l.jsx(Rt,{path:"/dashboard",element:l.jsx(jde,{})}),l.jsx(Rt,{path:"/profile",element:l.jsx(hQ,{})}),l.jsx(Rt,{path:"/settings",element:l.jsx(sxe,{})}),l.jsx(Rt,{path:"/calendar",element:l.jsx(dle,{})}),l.jsx(Rt,{path:"/blank",element:l.jsx(jce,{})}),l.jsx(Rt,{path:"/form-elements",element:l.jsx(_ce,{})}),l.jsx(Rt,{path:"/basic-tables",element:l.jsx(ple,{})}),l.jsx(Rt,{path:"/alerts",element:l.jsx(xQ,{})}),l.jsx(Rt,{path:"/avatars",element:l.jsx(aee,{})}),l.jsx(Rt,{path:"/badge",element:l.jsx(tee,{})}),l.jsx(Rt,{path:"/buttons",element:l.jsx(iee,{})}),l.jsx(Rt,{path:"/images",element:l.jsx(mQ,{})}),l.jsx(Rt,{path:"/line-chart",element:l.jsx(Ete,{})}),l.jsx(Rt,{path:"/bar-chart",element:l.jsx(jte,{})}),l.jsx(Rt,{path:"/users",element:l.jsx($xe,{})}),l.jsx(Rt,{path:"/users/register/admin-register",element:l.jsx(iSe,{})}),l.jsx(Rt,{path:"/pages",element:l.jsx(Kxe,{})}),l.jsx(Rt,{path:"/pages/new",element:l.jsx(JA,{})}),l.jsx(Rt,{path:"/pages/edit/:id",element:l.jsx(JA,{})}),l.jsx(Rt,{path:"/pages/:slug",element:l.jsx(nye,{})}),l.jsx(Rt,{path:"/menu-dash",element:l.jsx(sye,{})}),l.jsx(Rt,{path:"/menu-dash/new",element:l.jsx(gT,{})}),l.jsx(Rt,{path:"/menu-dash/edit/:id",element:l.jsx(gT,{})}),l.jsx(Rt,{path:"/forms",element:l.jsx(iye,{})}),l.jsx(Rt,{path:"/forms/edit/:id",element:l.jsx(D2e,{})}),l.jsx(Rt,{path:"/forms/settings/:id",element:l.jsx(M2e,{})}),l.jsx(Rt,{path:"/checkout",element:l.jsx(Ake,{})}),l.jsx(Rt,{path:"/checkout/payment",element:l.jsx(jCe,{})}),l.jsx(Rt,{path:"/checkout/boleto-success",element:l.jsx(ACe,{})}),l.jsx(Rt,{path:"/orders",element:l.jsx(DCe,{})}),l.jsx(Rt,{path:"/orders/:id",element:l.jsx(sSe,{})}),l.jsxs(Rt,{element:l.jsx(OZ,{children:l.jsx(YD,{})}),children:[l.jsx(Rt,{path:"/service-packages",element:l.jsx(ewe,{})}),l.jsx(Rt,{path:"/service-packages/:id",element:l.jsx(Y5e,{})}),l.jsx(Rt,{path:"/tickets",element:l.jsx(p4e,{})}),l.jsx(Rt,{path:"/tickets/:id",element:l.jsx(cSe,{})})]}),l.jsx(Rt,{path:"/editorial",element:l.jsx(rke,{})})]}),l.jsxs(Rt,{element:l.jsx(u3,{children:l.jsx(o4,{})}),children:[l.jsx(Rt,{path:"/publisher/dashboard",element:l.jsx(Gxe,{})}),l.jsx(Rt,{path:"/publisher/profile",element:l.jsx(ZA,{userType:"publisher"})})]}),l.jsxs(Rt,{element:l.jsx(u3,{children:l.jsx(o4,{})}),children:[l.jsx(Rt,{path:"/advertiser/dashboard",element:l.jsx(Xxe,{})}),l.jsx(Rt,{path:"/advertiser/profile",element:l.jsx(ZA,{userType:"advertiser"})})]}),l.jsx(Rt,{path:"*",element:l.jsx(wJ,{})})]})]})}ID(document.getElementById("root")).render(l.jsx(b.StrictMode,{children:l.jsx(Vce,{children:l.jsx(Hce,{children:l.jsx(hJ,{children:l.jsx(dSe,{})})})})}));export{zr as _,Yi as c,_o as g};
